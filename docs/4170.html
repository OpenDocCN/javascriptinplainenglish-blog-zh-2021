<html>
<head>
<title>React Styling: CSS vs. JSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应风格:CSS与JSS</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-styling-css-vs-jss-920ff1de98d3?source=collection_archive---------3-----------------------#2021-08-19">https://javascript.plainenglish.io/react-styling-css-vs-jss-920ff1de98d3?source=collection_archive---------3-----------------------#2021-08-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/4c4ae6c48f719c2c422ccd6aa5072b13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FHH_MM0EeaMt5f4EgELHfg.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@flowforfrank?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Ferenc Almasi</a> on <a class="ae jz" href="https://unsplash.com/s/photos/react-classes.?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e863" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">即使没有数百种不同的设计基础设施，也有数十种。随着React <a class="ae jz" href="https://2020.stateofjs.com/en-US/technologies/front-end-frameworks/" rel="noopener ugc nofollow" target="_blank">在前端开发领域稳步领先</a>，人们很容易迷失在大量的支持技术和框架中。</p><p id="ef90" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">虽然对于这些框架中哪一个更好还没有明确的共识，但我得出的结论是，在选择工具和技术时，实用性是我最重要的考虑因素。这就是我在这里的原因——分享一种实用、有效、清晰的方法，使用Material-UI来设计和主题化react组件。</p><p id="eac4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">准备好了吗？我们开始吧。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><p id="bc20" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">首先，如果你还没有，安装Material-UI 并熟悉它们的组件和特性。</p><p id="a33b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一旦你准备好了，我们将创建我们的主题对象。</p><p id="70f8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Material-UI提供了一个默认的主题对象，但是我们通常想用我们自己的颜色和样式覆盖它。我推荐在选择调色板时使用MUI的牛逼<a class="ae jz" href="https://material.io/resources/color/#!/?view.left=0&amp;view.right=0&amp;primary.color=ffffff&amp;secondary.color=9C27B0" rel="noopener ugc nofollow" target="_blank">调色板配置工具</a>。</p><p id="5322" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在您的<code class="fe lf lg lh li b">assets</code>文件夹中创建一个名为<code class="fe lf lg lh li b">themes.ts</code>的文件，并写入:</p><figure class="lj lk ll lm gt jo"><div class="bz fp l di"><div class="ln lo l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">themes.ts</figcaption></figure><p id="ffa0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们现在将在应用程序中使用主题对象。</p><p id="95b6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">转到你的<code class="fe lf lg lh li b">App.tsx</code>文件，用<code class="fe lf lg lh li b">MuiThemeProvider</code>包装你的应用程序:</p><figure class="lj lk ll lm gt jo"><div class="bz fp l di"><div class="ln lo l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Themed App.tsx</figcaption></figure><p id="be8b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">嘣。我们刚刚为我们的应用程序创建了一个明暗主题。</p><p id="0be1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在让我们进入正题——设计我们的组件。</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lp"><img src="../Images/4ee29998b063148bfd556cf71f0db625.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JiPkjGgNIvoKRtaVdLWQDQ.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@aquatium?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Harpal Singh</a> on <a class="ae jz" href="https://unsplash.com/s/photos/ui?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5058" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">MUI允许多种方法来设计组件的样式，但是我发现使用<code class="fe lf lg lh li b">makeStyles</code>是最简单、最直接的方式。</p><h2 id="2791" class="lq lr in bd ls lt lu dn lv lw lx dp ly kl lz ma mb kp mc md me kt mf mg mh mi bi translated"><strong class="ak">下面是方法</strong></h2><ul class=""><li id="52f7" class="mj mk in kc b kd ml kh mm kl mn kp mo kt mp kx mq mr ms mt bi translated">创建一个新的react组件(如果您使用的是JetBrains IDE，您可以使用<a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/react-functional-component-styling-made-easy-9f9e5f703a89">这个很棒的片段</a>在一瞬间完成)</li><li id="071b" class="mj mk in kc b kd mu kh mv kl mw kp mx kt my kx mq mr ms mt bi translated">我们将从这个简单的组件开始，它包含一个标题和一个按钮，但是还没有样式:</li></ul><figure class="lj lk ll lm gt jo"><div class="bz fp l di"><div class="ln lo l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Our component, before using jss to style it</figcaption></figure><p id="c13c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我将再讨论一个主题，然后我们将在眨眼之间设计这个组件的样式。</p><h2 id="4ce3" class="lq lr in bd ls lt lu dn lv lw lx dp ly kl lz ma mb kp mc md me kt mf mg mh mi bi translated"><strong class="ak">语法</strong></h2><p id="bbbf" class="pw-post-body-paragraph ka kb in kc b kd ml kf kg kh mm kj kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated"><code class="fe lf lg lh li b">makeStyles</code>使用<a class="ae jz" href="https://cssinjs.org/?v=v10.7.1" rel="noopener ugc nofollow" target="_blank"> J </a> SS，一种类似JavaScript对象的语法，其中键是类名，值是camel case中的css规则。</p><p id="303c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">它最大的优点是能够在样式化时方便地使用JavaScript，这与我们的主题对象非常匹配。</p><p id="fb6f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">JSS的一个主要缺点是它与css语法不兼容，但是谢天谢地有一个简单的方法可以解决这个问题。</p><h2 id="4930" class="lq lr in bd ls lt lu dn lv lw lx dp ly kl lz ma mb kp mc md me kt mf mg mh mi bi translated"><strong class="ak">咱们的风格。</strong></h2><p id="051d" class="pw-post-body-paragraph ka kb in kc b kd ml kf kg kh mm kj kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated">最简单的样式方法是使用浏览器的元素检查器并应用css，直到我们喜欢我们所看到的。然后我们可以将结果复制到我们的代码中。</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/48476ee540ad5787c05e440194cf22dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*GD-1oDRCv9bd8GVwJar2BQ.gif"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Styling in the speed of light</figcaption></figure><p id="fead" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然而，还有一个问题。因为我们正在使用<strong class="kc io"> JSS </strong>我们不能直接复制生成的css到我们的应用程序。这将大大降低我们的速度，并迫使我们手动解析我们的JSS样式。</p><p id="7152" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是如果它是手动的并且很慢——它可能是自动的并且很快。</p><p id="770a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以我让它自动快速。</p><p id="9e7f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">介绍<a class="ae jz" href="https://nitzanmo.github.io/css-parser/" rel="noopener ugc nofollow" target="_blank">css-parser</a>——一个帮助你轻松地把新做的CSS转换成JSS语法的工具。</p><p id="b542" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">使用这个工具，我们可以像闪电一样快地设计风格:</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nd"><img src="../Images/06b8b7151e06191d28836c3b96b3fa87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PbGTzELFoKBjXt4AKnyrmA.gif"/></div></div></figure><p id="04f8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe lf lg lh li b">makeStyles</code>返回一个<code class="fe lf lg lh li b">classes</code>对象——每个键都是一个jss类，我们可以在组件中使用它。<br/>我已经将解析后的jss复制到了<code class="fe lf lg lh li b">root</code>类中，并在我的组件中将其用作<code class="fe lf lg lh li b">className</code>。</p><figure class="lj lk ll lm gt jo"><div class="bz fp l di"><div class="ln lo l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Our component, now styled with jss and useStyles</figcaption></figure><h2 id="6a75" class="lq lr in bd ls lt lu dn lv lw lx dp ly kl lz ma mb kp mc md me kt mf mg mh mi bi translated"><strong class="ak">条件造型:游戏改变者</strong></h2><p id="3fba" class="pw-post-body-paragraph ka kb in kc b kd ml kf kg kh mm kj kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated">假设我们想将标题的颜色改为随机颜色。<br/>使用纯CSS，这是一个几乎不可能完成的壮举。有了JSS，我们对javascript了如指掌。</p><p id="3bf3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe lf lg lh li b">makeStyles</code>可以带两个参数。第一个是主题对象，可以由MUI自动传递，第二个可以是包含状态值或组件属性等参数的<code class="fe lf lg lh li b">props</code>对象。然后，我们可以使用这些参数来设计组件的样式。</p><p id="4188" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">看一下这个例子:</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nd"><img src="../Images/c8655449e52143d01ed24b328d00882a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TGHluatdmZ_PVGk6h-sy3A.gif"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">The power of javascript when styling</figcaption></figure><p id="6066" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我是这样做的:</p><figure class="lj lk ll lm gt jo"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="a7d4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我创建了一个名为<code class="fe lf lg lh li b">color</code>的新状态，并使用一个名为<a class="ae jz" href="https://www.npmjs.com/package/randomcolor" rel="noopener ugc nofollow" target="_blank"> randomcolor </a>的简单库，在每次点击按钮时改变它。</p><p id="532f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然后，我将<code class="fe lf lg lh li b">color</code>作为道具对象传递给<code class="fe lf lg lh li b">useStyles</code>，并将<code class="fe lf lg lh li b">heading</code>类转换为一个函数，该函数使用道具对象中的随机颜色作为其颜色属性。注意，我们不必再用<code class="fe lf lg lh li b">theme</code>调用<code class="fe lf lg lh li b">useStyles</code>，因为它会自动传递。</p><h1 id="956b" class="ne lr in bd ls nf ng nh lv ni nj nk ly nl nm nn mb no np nq me nr ns nt mh nu bi translated"><strong class="ak">结论</strong></h1><p id="c52d" class="pw-post-body-paragraph ka kb in kc b kd ml kf kg kh mm kj kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated">JSS非常强大。它允许样式类存在于组件中，在保持封装的同时提供上下文和区别。它还支持主题化、条件样式化和覆盖。</p><p id="07e0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当然，这是以DRY为代价的，因为你将为你拥有的每个组件编写类，但是你总是可以在你的主题对象中抽象样式。与好的css相比，它也是用不同的语法编写的，但是<a class="ae jz" href="https://nitzanmo.github.io/css-parser/" rel="noopener ugc nofollow" target="_blank"> css-parser </a>帮你搞定了。</p><p id="2f51" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">确保使用<a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/react-functional-component-styling-made-easy-9f9e5f703a89"> rfc </a>让你的生活轻松10倍，速度快10倍。</p><p id="7400" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">快乐造型！</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="210a" class="ne lr in bd ls nf nv nh lv ni nw nk ly nl nx nn mb no ny nq me nr nz nt mh nu bi translated">更新</h1><p id="8814" class="pw-post-body-paragraph ka kb in kc b kd ml kf kg kh mm kj kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated">我创建的将css声明转换为jss声明的工具现在是多余的，因为Google Chrome的devtools现在内部支持该功能！看看这个:</p><figure class="lj lk ll lm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oa"><img src="../Images/c620a5a20b905e13543746d2f404001f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xZnixWWTJOX8usRF76xFTA.gif"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Copy all declarations as JSS</figcaption></figure><p id="7aba" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ob">更多内容请看</em><a class="ae jz" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ob">plain English . io</em></strong></a></p></div></div>    
</body>
</html>