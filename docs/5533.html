<html>
<head>
<title>Enhance React onClick handlers with Currying</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Currying增强React onClick处理程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/enhance-react-onclick-handlers-with-currying-9c3c9ca82df3?source=collection_archive---------1-----------------------#2021-11-17">https://javascript.plainenglish.io/enhance-react-onclick-handlers-with-currying-9c3c9ca82df3?source=collection_archive---------1-----------------------#2021-11-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/aaef5cb1fccdabfbd164eb5377c8bfe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pNz6L9LH-OB6dmeKQBlLxA.jpeg"/></div></div></figure><p id="4e0c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我想分享一个我在React组件中处理onClick处理程序时喜欢使用的设计模式。</p><p id="9a4e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于我的例子，我将使用React中常见的设计模式来点击列表项。</p><p id="bcdb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我的组件工作如下:</p><figure class="kw kx ky kz gt jr"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="ac7f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为我的<code class="fe lc ld le lf b">onClcikItem</code>有一个参数，所以我的按钮需要先用一个匿名函数调用它。</p><pre class="kw kx ky kz gt lg lf lh li aw lj bi"><span id="85db" class="lk ll iq lf b gy lm ln l lo lp">&lt;button onClick={() =&gt; onClickItem(item)}&gt;My Button&lt;/button&gt;</span></pre><p id="69fe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这工作得很好，但是我可以用Javascript中一种叫做Currying的技术来清理一下。</p><p id="b925" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lq"> Currying是一种将接受多个参数的函数转换成一系列接受单个参数的函数的技术</em></p><p id="63b9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Currying经常在函数式编程环境中使用，但是我们仍然可以在我们的例子中利用它。</p><p id="d18a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个常见的奉承例子是这样的:</p><pre class="kw kx ky kz gt lg lf lh li aw lj bi"><span id="245b" class="lk ll iq lf b gy lm ln l lo lp">// Original function</span><span id="0f66" class="lk ll iq lf b gy lr ln l lo lp">function multiply(x,y,z) {</span><span id="38ca" class="lk ll iq lf b gy lr ln l lo lp">  return x * y * z<br/>}</span><span id="ed52" class="lk ll iq lf b gy lr ln l lo lp">console.log(multiply(1,2,3))</span><span id="a87a" class="lk ll iq lf b gy lr ln l lo lp">// Curried version</span><span id="5f31" class="lk ll iq lf b gy lr ln l lo lp">function multiply(x) {<br/>    return (y) =&gt; {<br/>        return (z) =&gt; {<br/>            return x * y * z<br/>        }<br/>    }<br/>}</span><span id="c67c" class="lk ll iq lf b gy lr ln l lo lp">console.log(multiply(1)(2)(3))</span></pre><p id="676d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">新函数返回导致最终值的函数。</p><p id="2dc4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以使用这种技术从onClickItem函数中返回一个匿名函数，该函数满足按钮的onClick处理程序。</p><p id="21c0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我的curried onClickItem函数现在看起来像这样</p><pre class="kw kx ky kz gt lg lf lh li aw lj bi"><span id="94ff" class="lk ll iq lf b gy lm ln l lo lp">const onClickItem = (item: any) =&gt; () =&gt; {</span><span id="b9df" class="lk ll iq lf b gy lr ln l lo lp">  console.log("Item: ", item);</span><span id="6f57" class="lk ll iq lf b gy lr ln l lo lp">};</span></pre><p id="92ff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过curried函数，我可以更新我的按钮，这样使用它:</p><pre class="kw kx ky kz gt lg lf lh li aw lj bi"><span id="63e2" class="lk ll iq lf b gy lm ln l lo lp">&lt;button onClick={onClickItem(item)}&gt;My Button&lt;/button&gt;</span></pre><p id="bfc5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个函数的初始调用现在将返回一个匿名函数，可以用来代替我原来的箭头函数<code class="fe lc ld le lf b">onClick={ () =&gt;</code>。</p><p id="88b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lq">更多内容尽在</em><a class="ae ls" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="lq">plain English . io</em></strong></a></p></div></div>    
</body>
</html>