<html>
<head>
<title>Create a Quiz Game with React and JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React和JavaScript创建一个问答游戏</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-quiz-game-with-react-and-javascript-55b61255e326?source=collection_archive---------21-----------------------#2021-05-07">https://javascript.plainenglish.io/create-a-quiz-game-with-react-and-javascript-55b61255e326?source=collection_archive---------21-----------------------#2021-05-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/479758953ced8162ebe3e488c8cbaaab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VY0XP2OPTM2jEywh"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@shubhamsharan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Shubham Sharan</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d928" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">React是一个易于使用的JavaScript框架，让我们可以创建前端应用程序。</p><p id="497b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用React和JavaScript创建一个加法游戏。</p><h1 id="bcb5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建项目</h1><p id="a1b8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用Create React App创建React项目。</p><p id="5322" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="011e" class="mn lc iq mj b gy mo mp l mq mr">npx create-react-app quiz-game</span></pre><p id="5666" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和NPM一起创建我们的React项目。</p><h1 id="c534" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建问答游戏</h1><p id="e01d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了创建问答游戏，我们编写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="19cf" class="mn lc iq mj b gy mo mp l mq mr">import React, { useState } from "react";</span><span id="5f6f" class="mn lc iq mj b gy ms mp l mq mr">const questions = [<br/>  {<br/>    question: "What is American football called in England?",<br/>    choices: ["American football", "football", "Handball"],<br/>    rightAnswer: "American football"<br/>  },<br/>  {<br/>    question: "What is the largest country in the world?",<br/>    choices: ["Russia", "Canada", "United States"],<br/>    rightAnswer: "Russia"<br/>  },<br/>  {<br/>    question: "What is the 100th digit of Pi?",<br/>    choices: ["9", "4", "7"],<br/>    rightAnswer: 9<br/>  }<br/>];</span><span id="c6eb" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const [score, setScore] = useState(0);<br/>  const [questionIndex, setQuestionIndex] = useState(0);<br/>  const [answer, setAnswer] = useState("");</span><span id="0145" class="mn lc iq mj b gy ms mp l mq mr">  const restart = () =&gt; {<br/>    setScore(0);<br/>    setAnswer("");<br/>    setQuestionIndex(0);<br/>  };</span><span id="0a8b" class="mn lc iq mj b gy ms mp l mq mr">  const submit = (e) =&gt; {<br/>    e.preventDefault();<br/>    if (answer === questions[questionIndex].rightAnswer) {<br/>      setScore((score) =&gt; score + 1);<br/>    }</span><span id="bd26" class="mn lc iq mj b gy ms mp l mq mr">    if (questionIndex &lt; questions.length) {<br/>      setQuestionIndex((i) =&gt; i + 1);<br/>    }<br/>  };</span><span id="0cb6" class="mn lc iq mj b gy ms mp l mq mr">if (questionIndex &lt; questions.length) {<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;label&gt;{questions[questionIndex].question}&lt;/label&gt;<br/>        {questions[questionIndex].choices.map((c, i) =&gt; {<br/>          return (<br/>            &lt;div&gt;<br/>              &lt;input<br/>                type="radio"<br/>                name="choice"<br/>                value={c}<br/>                onChange={(e) =&gt; setAnswer(e.target.value)}<br/>                checked={answer === c}<br/>              /&gt;<br/>              {c}<br/>            &lt;/div&gt;<br/>          );<br/>        })}<br/>        &lt;button type="button" onClick={submit}&gt;<br/>          check<br/>        &lt;/button&gt;<br/>        &lt;p&gt;score: {score}&lt;/p&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  } else {<br/>    return (<br/>      &lt;form&gt;<br/>        &lt;div v-else&gt;<br/>          &lt;button type="button" onClick={restart}&gt;<br/>            restart<br/>          &lt;/button&gt;<br/>        &lt;/div&gt;<br/>        &lt;p&gt;score: {score}&lt;/p&gt;<br/>      &lt;/form&gt;<br/>    );<br/>  }<br/>}</span></pre><p id="065c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个带有<code class="fe mt mu mv mj b">question</code>、<code class="fe mt mu mv mj b">choices</code>和<code class="fe mt mu mv mj b">rightAnswer</code>属性的<code class="fe mt mu mv mj b">questions</code>数组，分别包含问题、问题的选项和问题的正确答案。</p><p id="f924" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在<code class="fe mt mu mv mj b">App</code>中，我们用<code class="fe mt mu mv mj b">useState</code>创建了<code class="fe mt mu mv mj b">score</code>、<code class="fe mt mu mv mj b">questionIndex</code>和<code class="fe mt mu mv mj b">answer</code>状态。</p><p id="574e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">answer</code>是玩家选择的答案。</p><p id="3a86" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在那下面，我们有<code class="fe mt mu mv mj b">submit</code>函数，我们调用<code class="fe mt mu mv mj b">e.preventDefault()</code>来做客户端表单提交。</p><p id="be7e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们检查我们的<code class="fe mt mu mv mj b">answer</code>选择是否与<code class="fe mt mu mv mj b">rightAnswer</code>相同。</p><p id="947d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果是，那么我们调用<code class="fe mt mu mv mj b">setScore</code>来增加分数。</p><p id="5abd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe mt mu mv mj b">questionIndex</code>小于<code class="fe mt mu mv mj b">questions.length</code>，这意味着我们有更多的问题要显示。</p><p id="8634" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们调用<code class="fe mt mu mv mj b">setQuestionIndex</code>通过回调来增加分数，该回调返回原始索引<code class="fe mt mu mv mj b">i</code>加1。</p><p id="36a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们有一个<code class="fe mt mu mv mj b">if</code>语句，它对<code class="fe mt mu mv mj b">submit</code>函数中的<code class="fe mt mu mv mj b">if</code>进行同样的检查。</p><p id="b2f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe mt mu mv mj b">questionIndex</code>小于<code class="fe mt mu mv mj b">questions.length</code>，我们应该用单选按钮提问供玩家选择答案。</p><p id="8417" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们设置<code class="fe mt mu mv mj b">checked</code>属性来设置单选按钮为选中。</p><p id="0ab0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过比较<code class="fe mt mu mv mj b">answer</code>值和<code class="fe mt mu mv mj b">c</code>值来确定哪个被检查。</p><p id="6562" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">onChange</code>让我们用一个调用<code class="fe mt mu mv mj b">setAnswer</code>来设置选择的函数来设置选择。</p><p id="a3b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在那下面，我们显示check按钮，当我们点击它时，它调用<code class="fe mt mu mv mj b">submit</code>来提交答案。</p><p id="8b9d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们显示下面的<code class="fe mt mu mv mj b">score</code>。</p><p id="6d74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe mt mu mv mj b">if</code>条件为<code class="fe mt mu mv mj b">false</code>，我们显示重启按钮，调用<code class="fe mt mu mv mj b">restart</code>重置所有值。</p><p id="a956" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还展示了下面的<code class="fe mt mu mv mj b">score</code>。</p><h1 id="3307" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b218" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用React和JavaScript轻松创建一个问答游戏。</p><p id="93bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容尽在</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>