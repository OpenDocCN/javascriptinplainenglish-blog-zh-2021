<html>
<head>
<title>How to Create a Star Pattern Using JavaScript and Canvas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用JavaScript和Canvas创建星形图案</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-star-pattern-using-javascript-and-canvas-322f8af61ce1?source=collection_archive---------10-----------------------#2021-08-16">https://javascript.plainenglish.io/how-to-create-a-star-pattern-using-javascript-and-canvas-322f8af61ce1?source=collection_archive---------10-----------------------#2021-08-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8336125aee0d59bc382ba861bf33ceb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*id7ruH6Jjxnev2kx6KWwKg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">An enlarged version of the star pattern we will create in this tutorial. (Image by Author)</figcaption></figure><p id="75e8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在本教程中，我们将使用JavaScript和HTML5 Canvas API创建上述横幅的星形图案。因为即使创建一颗星星也需要很多行代码，所以我们将使用<a class="ae la" href="https://gist.github.com/nevkatz/cd6ed0b44c45d7adfa2d013e6fcf6296" rel="noopener ugc nofollow" target="_blank">drawJS</a>——我构建的一个迷你库，用于处理星星形状的渲染。在这个过程中，我们将使用<a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types#object_literals" rel="noopener ugc nofollow" target="_blank">对象文字</a>、<a class="ae la" href="https://www.freecodecamp.org/news/nesting-for-loops-in-javascript/" rel="noopener ugc nofollow" target="_blank">嵌套for循环</a>和<a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder" rel="noopener ugc nofollow" target="_blank">余数操作符</a>来创建这个模式——以及一个CSS <a class="ae la" href="https://www.w3schools.com/cssref/css3_pr_mediaquery.asp" rel="noopener ugc nofollow" target="_blank">媒体查询</a>来使横幅在狭窄的屏幕宽度上调整大小。</p><p id="953f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">下面是利用drawJS的星形模式演示。</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lf lg l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">The star pattern demo.</figcaption></figure><h2 id="2ac5" class="lh li iq bd lj lk ll dn lm ln lo dp lp kn lq lr ls kr lt lu lv kv lw lx ly lz bi translated">画星法</h2><p id="0f5c" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">通过为图案中的每个星形调用drawJS库中名为<code class="fe mf mg mh mi b">drawStar</code>的方法来创建图案。假设我们只想创建图案中的第一颗星星，如下所示。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/8645392b4a56eac449ec836bdc23027f.png" data-original-src="https://miro.medium.com/v2/resize:fit:200/format:webp/1*y-rNNXVrqmR27wwv8HHN4Q.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">A single star created with the drawStar method.</figcaption></figure><p id="11d2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这种情况下，我们可以用下面的代码调用<code class="fe mf mg mh mi b">drawStar</code>一次。</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="mk lg l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Calling drawStar to create one purple star.</figcaption></figure><p id="13c2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，由于我们想要创建多个，我们最终将编写一些更复杂的JavaScript。但是首先，让我们编写HTML和CSS，并仔细考虑模式的特征。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="dbc6" class="ms li iq bd lj mt mu mv lm mw mx my lp mz na nb ls nc nd ne lv nf ng nh ly ni bi translated">奠定基础</h1><p id="1979" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">让我们从一些标记和样式开始。</p><h2 id="26b1" class="lh li iq bd lj lk ll dn lm ln lo dp lp kn lq lr ls kr lt lu lv kv lw lx ly lz bi translated">HTML和CSS</h2><p id="81d3" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">相关的HTML只是<code class="fe mf mg mh mi b">&lt;canvas&gt;</code>元素。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="246c" class="lh li iq mi b gy nn no l np nq">&lt;canvas id="myCanvas" width="1300" height="600"&gt;&lt;/canvas&gt;</span></pre><p id="4649" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们的第一点CSS将使它成为一个块元素，并使它居中。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="9f2e" class="lh li iq mi b gy nn no l np nq">canvas {<br/>  display: block;<br/>  margin: 10px auto;<br/>}</span></pre><p id="33db" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了使画布具有响应性，让我们添加一个媒体查询，将屏幕宽度低于<code class="fe mf mg mh mi b">1200px</code>的<code class="fe mf mg mh mi b">width</code>设置为<code class="fe mf mg mh mi b">100%</code>。我们还将使用<code class="fe mf mg mh mi b">height: auto</code>来帮助我们的画布在调整大小时保持其纵横比。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="373b" class="lh li iq mi b gy nn no l np nq"><a class="ae la" href="http://twitter.com/media" rel="noopener ugc nofollow" target="_blank">@media</a> screen and (max-width: 1200px) {<br/>  canvas {<br/>    width: 100%;<br/>    height: auto;<br/>   }<br/>}</span></pre><h2 id="5b70" class="lh li iq bd lj lk ll dn lm ln lo dp lp kn lq lr ls kr lt lu lv kv lw lx ly lz bi translated">规划模式</h2><p id="a126" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">在我们开始编写最初的JavaScript之前，让我们再看一下星型模式，考虑一下需要什么来创建它。下面是该模式的顶部两行。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/798d813115407073173abfafee9d36b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IH0QAsnh5ftZgzbgnlP9EA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">The star pattern’s first two rows.</figcaption></figure><p id="cd7b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">。为了以这种方式排列星星，我们需要编写设置几个值的逻辑:</p><ul class=""><li id="d90c" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated">隔开星星</li><li id="5963" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">一排星星的数量</li><li id="0188" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">行数</li></ul><p id="d330" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们的程序还需要设置每个恒星的独特属性，包括以下内容:</p><ul class=""><li id="a196" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated">点数</li><li id="00a7" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">笔画颜色</li><li id="96ee" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">填充颜色</li></ul><p id="2e76" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这些恒星还有一些共同的特性:</p><ul class=""><li id="e07a" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated">边界线宽度</li><li id="947a" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated"><em class="og">内半径</em>，即从恒星中心到每个角的距离</li><li id="5460" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated"><em class="og">外半径</em>，或从恒星中心到每个外点的距离</li></ul><figure class="lb lc ld le gt jr gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/8a29e6b81379973d67ee37b4090077a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*_6U8iFqdLM60JazAlqGyyg.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">The inner and outer radii of a star.</figcaption></figure><p id="1850" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">最后，我们需要落实以下事项:</p><ul class=""><li id="3816" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated">第一颗恒星的位置</li><li id="bcf1" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">描边和填充颜色的调色板(每种颜色四种)</li><li id="66fd" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">最小和最大数量的星点</li></ul><p id="628e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">既然这是一种模式，那就应该有变化的恒星特性的周期性重复。例如，你会注意到点数从5开始，然后从一颗星到下一颗星增加1，直到达到12点。一旦出现这种情况，下一颗星就会有5分。</p><p id="3a32" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这些是我们需要翻译成代码的模式属性。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="8654" class="ms li iq bd lj mt mu mv lm mw mx my lp mz na nb ls nc nd ne lv nf ng nh ly ni bi translated">设置模式属性</h1><p id="cf4a" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">现在我们已经概述了模式的需求，让我们卷起袖子，用两个函数为它编写逻辑:</p><ul class=""><li id="5063" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">getPatternProps</code>，它建立了星形模式的属性</li><li id="45bd" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">init</code>，它将遍历每个星星的位置，设置每个星星的属性，并调用<code class="fe mf mg mh mi b">drawJS.drawStar</code>方法</li></ul><p id="edfe" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><code class="fe mf mg mh mi b">getPatternProps</code>函数将返回一个包含我们模式属性的对象。</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="mk lg l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">The complete getPatternProps function.</figcaption></figure><p id="60f2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们来看看发生了什么:</p><ul class=""><li id="d6d9" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">start</code>将第一颗星的<code class="fe mf mg mh mi b">x</code>和<code class="fe mf mg mh mi b">y</code>坐标设置为(50，50)。</li></ul><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="84f6" class="lh li iq mi b gy nn no l np nq">start: { x:50, y:50 }</span></pre><ul class=""><li id="2315" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">numPoints</code>将使一颗星可以获得的最少点数为5，同时将最大点数设置为12。</li></ul><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="a7c4" class="lh li iq mi b gy nn no l np nq">numPoints: { min:5, max:12 }</span></pre><ul class=""><li id="ba96" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">space</code>将使星星垂直和水平相隔100个像素。</li></ul><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="2cde" class="lh li iq mi b gy nn no l np nq">space: {x: 100, y: 100 }</span></pre><ul class=""><li id="e680" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">count</code>讲的是一排(<code class="fe mf mg mh mi b">x</code>)和六排(<code class="fe mf mg mh mi b">y</code>)12颗星。</li></ul><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="3cda" class="lh li iq mi b gy nn no l np nq">count: { x: 12, y: 6}</span></pre><ul class=""><li id="0fdb" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">fills</code>将确定作为重复序列出现的四种填充颜色。</li></ul><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="f1da" class="lh li iq mi b gy nn no l np nq">fills: ['#b8a9c9', '#98d1d6', '#fed8b1', '#cff7d5']</span></pre><ul class=""><li id="03dd" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">strokes</code>以同样的方式工作，使用一个数组来设置星形边框颜色的重复序列。</li></ul><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="a230" class="lh li iq mi b gy nn no l np nq">strokes: ['#622569', '#4C858A', '#f06d06', '#00ff00']</span></pre></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="d924" class="ms li iq bd lj mt mu mv lm mw mx my lp mz na nb ls nc nd ne lv nf ng nh ly ni bi translated">启动我们的初始化函数</h1><p id="3c1a" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">我们的<code class="fe mf mg mh mi b">init</code>函数将执行以下操作:</p><ul class=""><li id="1885" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated">设置图案的背景颜色</li><li id="7b1b" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">检索模式属性</li><li id="367d" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">遍历每个起始位置</li><li id="e28b" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">设置每个星形的属性</li><li id="0374" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">为每颗星星调用<code class="fe mf mg mh mi b">drawJS.drawStar</code></li></ul><p id="8db7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们启动我们的<code class="fe mf mg mh mi b">init</code>函数并调用<code class="fe mf mg mh mi b">setBackground</code>，一个用于设置画布背景颜色的<code class="fe mf mg mh mi b">drawJS</code>方法。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="6ba0" class="lh li iq mi b gy nn no l np nq">function init() {</span><span id="26c4" class="lh li iq mi b gy oi no l np nq">   drawJS.setBackground('#215875');</span><span id="0805" class="lh li iq mi b gy oi no l np nq">}</span></pre><p id="c5db" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这个<code class="fe mf mg mh mi b">setBackground</code>方法使用Canvas API的<a class="ae la" href="https://www.w3schools.com/tags/canvas_rect.asp" rel="noopener ugc nofollow" target="_blank"> rect </a>和<a class="ae la" href="https://www.w3schools.com/tags/canvas_fill.asp" rel="noopener ugc nofollow" target="_blank"> fill </a>方法，并且是您将在<a class="ae la" href="https://gist.github.com/nevkatz/cd6ed0b44c45d7adfa2d013e6fcf6296" rel="noopener ugc nofollow" target="_blank">库</a>中看到的第一个方法。</p><p id="6a05" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在我们已经有了背景颜色，让我们通过调用<code class="fe mf mg mh mi b">getPatternProps</code>来获得我们的星形模式的属性。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="5be5" class="lh li iq mi b gy nn no l np nq">function init() {</span><span id="26fd" class="lh li iq mi b gy oi no l np nq">   drawJS.setBackground('#215875');</span><span id="29f7" class="lh li iq mi b gy oi no l np nq"><strong class="mi ir">   let props = getPatternProps();</strong></span><span id="810b" class="lh li iq mi b gy oi no l np nq">}</span></pre><h2 id="14f6" class="lh li iq bd lj lk ll dn lm ln lo dp lp kn lq lr ls kr lt lu lv kv lw lx ly lz bi translated">设置循环</h2><p id="3bf9" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">在我们的<code class="fe mf mg mh mi b">init</code>函数中，让我们创建一个填充星星的嵌套循环。我们将一步一步地建立这个体系。</p><p id="2920" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们首先遍历这些行。我们可以用<code class="fe mf mg mh mi b">props.count.y</code>值访问行数。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="9491" class="lh li iq mi b gy nn no l np nq">let props = getPatternProps();</span><span id="0326" class="lh li iq mi b gy oi no l np nq"><strong class="mi ir">for (var y = 0; y &lt; props.count.y; ++y) {</strong></span><span id="a806" class="lh li iq mi b gy oi no l np nq"><strong class="mi ir">}</strong></span></pre><p id="6f9d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在让我们看看在<code class="fe mf mg mh mi b">props.count.x</code>中发现的每行星星的数量。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="3410" class="lh li iq mi b gy nn no l np nq">for (var y = 0; y &lt; props.count.y; ++y) {</span><span id="c96a" class="lh li iq mi b gy oi no l np nq"><strong class="mi ir">   for (var x = 0; x &lt; props.count.x; ++x) {</strong></span><span id="f46b" class="lh li iq mi b gy oi no l np nq"><strong class="mi ir">   }<br/></strong>}</span></pre><p id="b961" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们现在拥有的这些<code class="fe mf mg mh mi b">x</code>和<code class="fe mf mg mh mi b">y</code>指标会派上用场。</p><p id="34a5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">下面是我们的<code class="fe mf mg mh mi b">init</code>函数的开始:</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="mk lg l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">A start to the init function</figcaption></figure><p id="1ee0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">好了，这是<code class="fe mf mg mh mi b">init</code>功能的一个良好开端。到目前为止，我们已经设置了背景色，定义了模式属性，并设置了循环。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="3b0b" class="ms li iq bd lj mt mu mv lm mw mx my lp mz na nb ls nc nd ne lv nf ng nh ly ni bi translated">确定每颗星星的位置</h1><p id="c7be" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">在这个嵌套循环中，让我们想象它正在绘制的当前恒星。要确定这颗星的位置，必须使用<code class="fe mf mg mh mi b">props</code>中的<code class="fe mf mg mh mi b">start</code>和<code class="fe mf mg mh mi b">space</code>属性。我们的目标是计算恒星的中心坐标，并存储在两个变量中:<code class="fe mf mg mh mi b">cx</code>和<code class="fe mf mg mh mi b">cy</code>。</p><p id="b59a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">先说明星的左上位置:<code class="fe mf mg mh mi b">props.start.x</code>和<code class="fe mf mg mh mi b">props.start.y</code>。那是在旗帜的左上角，第一颗星的中心在那里。</p><p id="e04f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">接下来，让我们找出每颗星相对于第一颗星的位置应该在哪里。这取决于它在序列中的位置(<code class="fe mf mg mh mi b">x</code>和<code class="fe mf mg mh mi b">y</code>)以及星间距(<code class="fe mf mg mh mi b">props.space.x</code>和<code class="fe mf mg mh mi b">props.space.y</code>)。为了找出离第一个位置有多远，让我们将当前的<code class="fe mf mg mh mi b">x</code>或<code class="fe mf mg mh mi b">y</code>指数乘以相应的<code class="fe mf mg mh mi b">space</code>值。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="a72e" class="lh li iq mi b gy nn no l np nq">props.space.x * x</span><span id="657d" class="lh li iq mi b gy oi no l np nq">props.space.y * y</span></pre><p id="3b60" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">下面的表达式将<code class="fe mf mg mh mi b">props.space.x</code>和<code class="fe mf mg mh mi b">x</code>的乘积加上<code class="fe mf mg mh mi b">props.start.x</code>，得到当前恒星的水平位置。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="ed32" class="lh li iq mi b gy nn no l np nq">let cx = props.start.x + props.space.x * x;</span></pre><p id="041d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这个表达式以同样的方式给出了垂直位置。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="2de4" class="lh li iq mi b gy nn no l np nq">let cy = props.start.y + props.space.y * y;</span></pre><p id="3bba" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们现在可以获得每颗恒星的中心。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="d04b" class="ms li iq bd lj mt mu mv lm mw mx my lp mz na nb ls nc nd ne lv nf ng nh ly ni bi translated">找出每颗星星的点数</h1><p id="605b" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">在图案中，点数增加到12。之后，我们回到5。然后我们又开始增加。但是我们如何确定每颗星星上的点数呢？为了找到这个，我们首先需要知道每颗恒星在序列中的位置。如果我们把整个图案想象成一个数组，这个位置就可以想象成恒星的索引。</p><h2 id="1008" class="lh li iq bd lj lk ll dn lm ln lo dp lp kn lq lr ls kr lt lu lv kv lw lx ly lz bi translated">寻找恒星指数</h2><p id="eaa4" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">下面你可以看到在图案的前两行中每个星星的索引应该是什么。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/0688e1317e90f77b49a2a0e202af2abd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dlce8xsU_bX2LiNmZTesXw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Stars labeled with their index</figcaption></figure><p id="1398" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们可以在循环之外声明一个计数器变量，每次递增它，但是让我们用数学方法找到索引，这样我们可以更深入地研究这些<code class="fe mf mg mh mi b">x</code>和<code class="fe mf mg mh mi b">y</code>值。</p><p id="a1c6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们先找出当前星所在行上面的<em class="og">行数</em>，也就是<code class="fe mf mg mh mi b">y</code>。现在让我们用前面的行数乘以每行的星星数。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="0448" class="lh li iq mi b gy nn no l np nq">y * props.count.x</span></pre><p id="86e1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果我们现在的明星在第三排呢？</p><ul class=""><li id="ced9" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated">我们知道<code class="fe mf mg mh mi b">props.count.x</code>永远是12。</li><li id="1676" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">在我们的第三行中，<code class="fe mf mg mh mi b">y</code>是2。</li><li id="1da6" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">所以上面几行的星星数是122 = 24。</li></ul><p id="5e63" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然后我们应该加上<code class="fe mf mg mh mi b">x</code>，这是当前行中<em class="og">前面的星的数量。然后我们可以用这个等式定义<code class="fe mf mg mh mi b">star_idx</code>。</em></p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="e5d2" class="lh li iq mi b gy nn no l np nq">let star_idx = x + props.count.x + y;</span></pre><h2 id="b9c9" class="lh li iq bd lj lk ll dn lm ln lo dp lp kn lq lr ls kr lt lu lv kv lw lx ly lz bi translated">寻找点的范围</h2><p id="ceef" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">当我们从一颗星到下一颗星时，我们希望点数从5增加到12，然后从5开始重复。</p><p id="c22e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要知道<em class="og">什么时候</em>从5开始，我们必须知道我们可以有多少个不同的点数。所以让我们找出最小和最大点数之间的范围，包括5和12。在代码中，我们将此称为<code class="fe mf mg mh mi b">diff</code>。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="f8ad" class="lh li iq mi b gy nn no l np nq">let diff = props.numPoints.max - props.numPoints.min + 1;</span></pre><p id="09ea" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因为<code class="fe mf mg mh mi b">star.numPoints.max</code>是12而<code class="fe mf mg mh mi b">star.numPoints.min</code>是5，所以在这种情况下<code class="fe mf mg mh mi b">diff</code>最终是8。</p><h2 id="8229" class="lh li iq bd lj lk ll dn lm ln lo dp lp kn lq lr ls kr lt lu lv kv lw lx ly lz bi translated">使用余数运算符</h2><p id="8ce7" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">现在让我们找出每颗星星的点数。每颗星星最少有五个点，但有些可能有更多的点。</p><p id="15fd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了计算出还有多少，我们将使用<code class="fe mf mg mh mi b">num</code>、恒星指数和我们刚刚计算的<code class="fe mf mg mh mi b">diff</code>。我们使用<a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder" rel="noopener ugc nofollow" target="_blank">余数运算符</a>来寻找<code class="fe mf mg mh mi b">num</code>除以<code class="fe mf mg mh mi b">diff</code>的余数。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="b558" class="lh li iq mi b gy nn no l np nq">let morePoints = num % diff;</span></pre><p id="3135" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">最高<code class="fe mf mg mh mi b">morePoints</code>可以拿到7。例如，<code class="fe mf mg mh mi b">15 % 8</code>，15除以8得到的余数是7。如果我们增加到16，那么<code class="fe mf mg mh mi b">16 % 8</code>重置为零。下面是这种重复增加在两行中的表现:</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/1b9842f79117348be4f0fb7a946d023e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yvc8XOs_c23R3MMHFXO17w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Over the course of this pattern, the value increases from 0 to 7 and then repeats.</figcaption></figure><p id="3620" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了得到当前恒星上的点数，我们取<code class="fe mf mg mh mi b">morePoints</code>并加上最小点数<code class="fe mf mg mh mi b">props.numPoints.min</code>——也就是<code class="fe mf mg mh mi b">5</code>。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="df3a" class="lh li iq mi b gy nn no l np nq">let numPoints = props.numPoints.min + morePoints</span></pre><p id="ba7c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这是两行中的点数:</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/ab67879a75927230df2f52aa2f785cc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*52347BbNxx-u1RTlzJfsMg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Using the remainder operator, we can have cyclic increases and resets in the number of points.</figcaption></figure><p id="1f21" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">万岁！已经找到了每颗星星上的点数。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="d672" class="ms li iq bd lj mt mu mv lm mw mx my lp mz na nb ls nc nd ne lv nf ng nh ly ni bi translated">让星星变小</h1><p id="db5e" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">为了让星星的尺寸变小，让我们设置一个乘数，从1开始，每行之后逐渐变小。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="711e" class="lh li iq mi b gy nn no l np nq">let multiplier = (props.count.y - y) / props.count.y;</span></pre><p id="da9a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因为我们的行索引<code class="fe mf mg mh mi b">y</code>是从零开始的，<code class="fe mf mg mh mi b">props.count.y — y</code>是<code class="fe mf mg mh mi b">6 — 0</code>，或者是我们第一行<strong class="ke ir">的<strong class="ke ir"> 6 </strong>。</strong></p><p id="655b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">结果，<code class="fe mf mg mh mi b">props.count.y — 1 / props.count.y</code> = 6/6 <strong class="ke ir"> </strong> = <strong class="ke ir"> 1。</strong></p><p id="9377" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">但是在<em class="og">第二排</em>，<code class="fe mf mg mh mi b">y</code>是1。</p><p id="c4f7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">所以<code class="fe mf mg mh mi b">props.count.y — y</code>就是<code class="fe mf mg mh mi b">6 — 1</code>，或者说<strong class="ke ir"> 5。</strong></p><p id="e172" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因此，如果我们四舍五入到最接近的百分之一，则<code class="fe mf mg mh mi b">props.count.y — 1 / props.count.y</code>=<strong class="ke ir">5/6</strong>=<strong class="ke ir">0.83</strong>。</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/8f51462e55ac90716e015ef7680a4f01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WE_R-ZHSNJPSNQcAW5m_VQ.png"/></div></div></figure><p id="d34b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们现在可以使用乘数来调整恒星的<code class="fe mf mg mh mi b">outerRadius</code>和<code class="fe mf mg mh mi b">innerRadius</code>，我们将首先分别初始化为<code class="fe mf mg mh mi b">35</code>和<code class="fe mf mg mh mi b">20</code>。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="cc26" class="lh li iq mi b gy nn no l np nq">let outerRadius = 35, innerRadius = 20;</span></pre><p id="ed41" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在让我们用乘数改变每一个。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="c2de" class="lh li iq mi b gy nn no l np nq">outerRadius *= multiplier;<br/>innerRadius *= multiplier;</span></pre><p id="b768" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">完整的乘法器逻辑如下所示:</p><figure class="lb lc ld le gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oj"><img src="../Images/77273aab361214486190015e1a6a0167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*afPkBBnsBIbL_NMU01EFOw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Our logic for the multiplier.</figcaption></figure></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="e083" class="ms li iq bd lj mt mu mv lm mw mx my lp mz na nb ls nc nd ne lv nf ng nh ly ni bi translated">查找颜色、线宽和旋转</h1><p id="33b6" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">现在我们想要一个重复的颜色图案。记住我们有四种描边颜色和四种填充颜色，正如在<code class="fe mf mg mh mi b">stars</code>对象的数组中所指定的:</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="fd36" class="lh li iq mi b gy nn no l np nq">fills: ['#b8a9c9', '#98d1d6', '#fed8b1', '#cff7d5'],<br/>strokes: ['#622569', '#4C858A', '#f06d06', '#008000']</span></pre><p id="eb83" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了确定fill和stroke，我们将再次使用余数操作符，但是这一次是为了确定我们在<code class="fe mf mg mh mi b">strokes</code>和<code class="fe mf mg mh mi b">fills</code>数组中应该有什么索引，我们将假设它们具有相同的长度。我们将把这个值称为<code class="fe mf mg mh mi b">color_idx</code>。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="6274" class="lh li iq mi b gy nn no l np nq">let color_idx = num % props.fills.length</span></pre><p id="f3e2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们的<code class="fe mf mg mh mi b">props.fills</code>数组的长度为<code class="fe mf mg mh mi b">4</code>，它成为我们的除数——所以我们可能的余数值在<code class="fe mf mg mh mi b">0</code>和<code class="fe mf mg mh mi b">3</code>之间。</p><p id="a1b3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了得到<code class="fe mf mg mh mi b">fill</code>和<code class="fe mf mg mh mi b">stroke</code>，我们用<code class="fe mf mg mh mi b">color_idx</code>索引每个数组。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="7ce4" class="lh li iq mi b gy nn no l np nq">let fill = props.fills[color_idx];</span><span id="edd9" class="lh li iq mi b gy oi no l np nq">let stroke = props.strokes[color_idx];</span></pre><p id="f7ca" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">一旦一颗星星用数组中的最后一种颜色渲染，程序将使用下一颗星星的第一种颜色。</p><p id="5c22" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">最后，让我们设置<code class="fe mf mg mh mi b">lineWidth</code>和<code class="fe mf mg mh mi b">rotate</code>，它们对每个星星都是一样的:</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="b556" class="lh li iq mi b gy nn no l np nq">const lineWidth = 4, rotate = 0;</span></pre><p id="7c89" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">至此，我们需要的所有属性都已经设置好了！</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="8a8e" class="ms li iq bd lj mt mu mv lm mw mx my lp mz na nb ls nc nd ne lv nf ng nh ly ni bi translated">打包我们的资产</h1><p id="4c88" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">让我们回顾一下我们现在拥有的九个房产。</p><ul class=""><li id="3b59" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">cx</code>和<code class="fe mf mg mh mi b">cy</code>是恒星中心点的坐标。</li><li id="eef1" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">outerRadius</code>和<code class="fe mf mg mh mi b">innerRadius</code>决定星星的大小。</li><li id="12d7" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">fill</code>和<code class="fe mf mg mh mi b">stroke</code>是星星的颜色。</li><li id="2856" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">lineWidth</code>和<code class="fe mf mg mh mi b">rotate</code>对每颗星保持不变。</li><li id="8b05" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated"><code class="fe mf mg mh mi b">LnumPoints</code>决定了每颗星星上的点数。</li></ul><p id="07f4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在让我们把所有这些打包成一个对象，并直接传递给<code class="fe mf mg mh mi b">drawStar</code>方法。</p><pre class="lb lc ld le gt nj mi nk nl aw nm bi"><span id="f4f1" class="lh li iq mi b gy nn no l np nq">drawJS.drawStar({<br/>     cx,<br/>     cy,<br/>     outerRadius,<br/>     innerRadius,<br/>     numPoints,<br/>     lineWidth,<br/>     stroke,<br/>     fill,<br/>     rotate<br/>});</span></pre><p id="4014" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">因为在这个对象中，每个键都有与其值相同的名称，所以我们可以用一个术语来表示键和值——例如，用<code class="fe mf mg mh mi b">cx</code>代替<code class="fe mf mg mh mi b">cx:cx</code>，用<code class="fe mf mg mh mi b">rotate</code>代替<code class="fe mf mg mh mi b">rotate:rotate</code>。</p><p id="7b34" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这是完成后的<code class="fe mf mg mh mi b">init</code>函数的样子。</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="mk lg l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">The finished init function.</figcaption></figure><p id="6222" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">就是这样！这就是代码。下面是我们的演示，所以你可以看到一切是如何组合在一起的。</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lf lg l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">The star demo.</figcaption></figure></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="de1e" class="ms li iq bd lj mt mu mv lm mw mx my lp mz na nb ls nc nd ne lv nf ng nh ly ni bi translated">后续步骤</h1><p id="6b22" class="pw-post-body-paragraph kc kd iq ke b kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv me kx ky kz ij bi translated">如果你已经完成了这篇教程，那么恭喜你！您已经成功地使用了大量的JavaScript概念以及大量的数学知识来创建这个星形模式。如果你想在这方面了解更多，下面是我推荐的一些后续步骤:</p><ul class=""><li id="ecaf" class="ns nt iq ke b kf kg kj kk kn nu kr nv kv nw kz nx ny nz oa bi translated">修改<code class="fe mf mg mh mi b">getPatternProps</code>这样你就可以想出一个不同的模式。</li><li id="a827" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">尝试制作一颗星星的动画——然后尝试将多颗星星排列成一个图案。</li><li id="87da" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">尝试使用<code class="fe mf mg mh mi b">Math.random()</code>和一些图案修改来创建一个夜空。</li><li id="5dad" class="ns nt iq ke b kf ob kj oc kn od kr oe kv of kz nx ny nz oa bi translated">看看你能从我的另外两篇关于用JavaScript和Canvas绘制星星的文章中收集到什么。</li></ul><div class="ok ol gp gr om on"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-draw-stars-with-javascript-and-html5-canvas-33ece95c19bf"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd ir gy z fp os fr fs ot fu fw ip bi translated">如何用JavaScript和HTML5画布画星星</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">让我们创建一个处理细节的库，这样我们就可以专注于大局。</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ow l"><div class="ox l oy oz pa ow pb jw on"/></div></div></a></div><div class="ok ol gp gr om on"><a rel="noopener  ugc nofollow" target="_blank" href="/the-math-behind-stars-rendered-with-javascript-94d4dee2754a"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd ir gy z fp os fr fs ot fu fw ip bi translated">用JavaScript渲染星星背后的数学</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">三角学如何引导数字笔？</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ow l"><div class="pc l oy oz pa ow pb jw on"/></div></div></a></div><p id="b08b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">感谢阅读！</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="d229" class="ms li iq bd lj mt mu mv lm mw mx my lp mz na nb ls nc nd ne lv nf ng nh ly ni bi translated">参考</h1><div class="ok ol gp gr om on"><a href="https://www.freecodecamp.org/news/nesting-for-loops-in-javascript/" rel="noopener  ugc nofollow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd ir gy z fp os fr fs ot fu fw ip bi translated">JavaScript中的循环嵌套</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">如果你在理解freeCodeCamp的循环嵌套挑战时有困难，不要担心。我们支持你。在…</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">www.freecodecamp.org</p></div></div><div class="ow l"><div class="pd l oy oz pa ow pb jw on"/></div></div></a></div><div class="ok ol gp gr om on"><a href="https://www.w3schools.com/tags/canvas_rect.asp" rel="noopener  ugc nofollow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd ir gy z fp os fr fs ot fu fw ip bi translated">HTML画布rect()方法</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">组织良好，易于理解的网站建设教程，有很多如何使用HTML，CSS，JavaScript的例子…</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">www.w3schools.com</p></div></div><div class="ow l"><div class="pe l oy oz pa ow pb jw on"/></div></div></a></div><div class="ok ol gp gr om on"><a href="https://www.w3schools.com/tags/canvas_fill.asp" rel="noopener  ugc nofollow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd ir gy z fp os fr fs ot fu fw ip bi translated">HTML画布填充()方法</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">组织良好，易于理解的网站建设教程，有很多如何使用HTML，CSS，JavaScript的例子…</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">www.w3schools.com</p></div></div><div class="ow l"><div class="pf l oy oz pa ow pb jw on"/></div></div></a></div><div class="ok ol gp gr om on"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder" rel="noopener  ugc nofollow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd ir gy z fp os fr fs ot fu fw ip bi translated">余数(%) - JavaScript | MDN</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">余数运算符(%)返回一个操作数除以第二个操作数所得的余数。它总是…</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">developer.mozilla.org</p></div></div><div class="ow l"><div class="pg l oy oz pa ow pb jw on"/></div></div></a></div><p id="f717" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="og">更多内容看</em> <a class="ae la" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir"> <em class="og">说白了. io </em> </strong> </a> <strong class="ke ir"> <em class="og">。</em> </strong> <em class="og">考虑注册</em><a class="ae la" href="https://medium.com/@nevkatz/membership" rel="noopener"><strong class="ke ir"><em class="og">Medium</em></strong></a><em class="og">无限制访问我以及其他作者的文章。</em></p></div></div>    
</body>
</html>