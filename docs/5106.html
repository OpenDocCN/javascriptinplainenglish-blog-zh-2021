<html>
<head>
<title>3 Tips to Make Your End-to-End Tests Bulletproof</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让您的端到端测试防弹的3个技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/3-tips-to-make-your-e2e-tests-bullet-proof-f8375ae4b5cd?source=collection_archive---------9-----------------------#2021-10-16">https://javascript.plainenglish.io/3-tips-to-make-your-e2e-tests-bullet-proof-f8375ae4b5cd?source=collection_archive---------9-----------------------#2021-10-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="aa88" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我开始做软件工程师时，端到端(e2e)测试是我有意忽略的一个主题。我认为这是一个很好的额外技能，锦上添花。因此，当我看到同事们沉浸在由一只看不见的手控制的UI的魔力中时，我优雅地回到了自己的工作中。</p><p id="b667" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我们第一次遇到一个讨厌的产品bug时，这种态度就轻率地改变了。紧急模式开启，需要尽快部署修复程序。现实打击了我之后，我决定为应用程序的核心功能编写e2e测试可能是个好主意。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/43e1507b2ca3ec163140a9eb310f3c09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OHCBt2m5JPV2dxHIOlHW8Q.jpeg"/></div></div></figure><p id="19b6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我一生中从未写过e2e测试，犯了所有能想到的新手错误。为了让你的轨迹变得平滑，这里有我在这个过程中学到的3个技巧，让你的e2e测试防弹。</p><h2 id="0b9c" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">1.分离样式和测试</h2><p id="a754" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">E2E测试要求您选择DOM元素。测试的可靠性与这些选择器的稳定性相关。例如，如果一个按钮不能被选择，测试失败。因为CSS选择器，像类名和id一样，经常变化，所以用它们来测试选择器不是个好主意。相反，创建一个<a class="ae ls" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" rel="noopener ugc nofollow" target="_blank">数据属性</a>，专门用于选择e2e测试中的元素。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lt lu l"/></div></figure><h2 id="0e58" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">2.仅测试核心功能</h2><p id="51de" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">测试应用程序的每个角落是很诱人的。但是编写和维护高质量的e2e测试需要很多时间。它们还延长了CI/CD管道。因此，问问自己应用程序的哪些功能是关键的，并相应地确定测试范围。</p><h2 id="f8b6" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">3.这不是大小的问题</h2><p id="dac3" class="pw-post-body-paragraph jk jl in jm b jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh ig bi translated">E2e测试旨在测试应用程序中的真实用户流。正因为如此，在一次大型测试中覆盖产品的大部分是合乎逻辑的。然而，更大的测试带来了几个问题。</p><ol class=""><li id="2657" class="lv lw in jm b jn jo jr js jv lx jz ly kd lz kh ma mb mc md bi translated">调试它们需要时间。如果一个大型测试的最后一步失败了，重新运行它们并找到确切的错误是很麻烦的。</li><li id="3b39" class="lv lw in jm b jn me jr mf jv mg jz mh kd mi kh ma mb mc md bi translated">大型测试很难维护，因为文件往往很长，测试的目的也不明确。</li></ol><p id="220c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，设计e2e测试时要有一个明确的目标，并根据产品的复杂性增加更多的测试。</p></div><div class="ab cl mj mk hr ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ig ih ii ij ik"><p id="ee2c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">希望你能从我的新手错误中吸取教训。祝测试好运！</p><p id="437e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mq">更多内容尽在</em><a class="ae ls" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="mq">plain English . io</em></strong></a></p></div></div>    
</body>
</html>