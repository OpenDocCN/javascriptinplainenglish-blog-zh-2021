<html>
<head>
<title>Access the Clipboard in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在JavaScript中访问剪贴板</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/access-the-clipboard-in-javascript-3b6de050b81b?source=collection_archive---------20-----------------------#2021-09-09">https://javascript.plainenglish.io/access-the-clipboard-in-javascript-3b6de050b81b?source=collection_archive---------20-----------------------#2021-09-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/157a230d277ee18b4f4228d7967e53de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*a59UZ6Pe1q-E-54c.png"/></div></div></figure><p id="9c96" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">开发人员可能是这个星球上最懒的人。在所有的东西中，复制粘贴是我们最喜欢的键盘快捷键。但是有什么比打CTRL + C更好的呢？让一个按钮帮你复印！现在，在JavaScript中使用异步版本的剪贴板API就可以做到这一点。</p><p id="20e7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可能在从网站上复制代码、API密钥或从Google Drive复制链接时遇到过这种情况:</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi kt"><img src="../Images/0cc2fdb817124204f3a89fb12d3d7755.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0YVD368IPc5PUYWV.png"/></div></div></figure><h1 id="271b" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">剪贴板API</h1><p id="def3" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">document.execCommand()在剪贴板API出现之前就已经可以复制文本了。但是这是一个同步调用，不能在所有浏览器上正常工作(权限访问也不一致)，并且有一些相关的安全风险。</p><p id="595e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所有浏览器都支持较新的异步剪贴板API，并且更加安全(默认情况下，仅适用于HTTPS页面，后台标签不可用)。</p><h1 id="d48d" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用JavaScript实现</h1><pre class="ku kv kw kx gt mb mc md me aw mf bi"><span id="a6cb" class="mg kz in mc b gy mh mi l mj mk">// copying to clipboard<br/>navigator.clipboard.writeText(SOME_VALUE)<br/>    .then(() =&gt; alert("Text is now stored your cliboard!"));</span><span id="3733" class="mg kz in mc b gy ml mi l mj mk">// copying from clipboard<br/>await readText = await navigator.clipboard.readText();</span></pre><p id="a3d0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将需要更多的代码来检测浏览器的支持和错误处理。但这就是API的要点。</p><p id="136b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所有现代浏览器都支持这两种方法。就是这样。希望这是有帮助的，你开始在相关的地方使用它。</p></div><div class="ab cl mn mo hr mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ig ih ii ij ik"><p id="e1b3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mu">原载于2021年9月9日</em><a class="ae mm" href="https://www.wisdomgeek.com/development/web-development/javascript/accessing-the-clipboard-in-javascript/" rel="noopener ugc nofollow" target="_blank"><em class="mu">【https://www.wisdomgeek.com】</em></a><em class="mu">。</em></p></div></div>    
</body>
</html>