<html>
<head>
<title>How to Build Cross-Platform Apps Using React, React Native and Redux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用React、React Native和Redux构建跨平台应用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-build-cross-platform-apps-using-react-react-native-and-redux-bcac22dbf817?source=collection_archive---------16-----------------------#2021-04-16">https://javascript.plainenglish.io/how-to-build-cross-platform-apps-using-react-react-native-and-redux-bcac22dbf817?source=collection_archive---------16-----------------------#2021-04-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/0db97628a5eb72f0c0395849b1c92b58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2WoT5TzvkkUZY20MebPxfQ.png"/></div></div></figure><p id="79b9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如今，开发在各种平台上运行的应用程序是非常正常的。这允许用户使用不同的设备访问相同的应用程序。</p><p id="d626" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，您将学习如何创建在web和移动设备上工作的跨平台应用程序。web版本将使用React和Redux创建，而移动版本将使用React Native和Redux创建。我们将使用Expo框架来创建React Native和Redux应用程序。</p><p id="09d5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将创建的应用程序被称为“纸牌”。这只是一个简单的应用程序，可以让你在牌桌上随机放置卡片，并在设定的时间后自动移除。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi kt"><img src="../Images/6fca570624b2059652293a7c6ede3260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*68cqYHdMWZEea4WX.png"/></div></div></figure><h1 id="ed77" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">设置</h1><p id="e6bb" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">在我们开始之前，请确保您的开发环境已经安装了正确的包。如果你在Mac上工作，那么你将能够使用苹果模拟器和安卓模拟器。如果你在Windows或Linux上工作，那么你只能使用Android模拟器进行测试。然而，你应该能够将你自己的物理设备连接到任何一个操作系统，这样你就可以在你的手机上测试应用程序。</p><h1 id="5d13" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">所需工具</h1><ul class=""><li id="125c" class="mc md in jx b jy lw kc lx kg me kk mf ko mg ks mh mi mj mk bi translated">像Visual Studio代码这样的IDE或代码编辑器。</li><li id="7517" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated">类似Hyper、iTerm 2、苹果终端等终端/Bash应用。</li><li id="59c3" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated">安装在你的浏览器中的<a class="ae mb" href="https://github.com/reduxjs/redux-devtools" rel="noopener ugc nofollow" target="_blank"> Redux DevTools </a>。</li></ul><h1 id="478b" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">需要的包</h1><ul class=""><li id="8fb9" class="mc md in jx b jy lw kc lx kg me kk mf ko mg ks mh mi mj mk bi translated"><a class="ae mb" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank">创建React App </a></li><li id="549d" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated"><a class="ae mb" href="https://expo.io/" rel="noopener ugc nofollow" target="_blank">世博框架</a></li><li id="b9d4" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated"><a class="ae mb" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a></li><li id="e2f1" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated"><a class="ae mb" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank">纱线</a>(可选您可以使用npm或纱线)</li></ul><h1 id="c6f6" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">内容</h1><ul class=""><li id="95d1" class="mc md in jx b jy lw kc lx kg me kk mf ko mg ks mh mi mj mk bi translated"><a class="ae mb" href="https://dev.to/andrewbaisden/how-to-build-cross-platform-apps-using-react-react-native-and-redux-212o#Creating%20the%20web%20version%20using%20React%20and%20Redux" rel="noopener ugc nofollow" target="_blank">使用React和Redux创建网页版</a></li><li id="d4df" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated"><a class="ae mb" href="https://dev.to/andrewbaisden/how-to-build-cross-platform-apps-using-react-react-native-and-redux-212o#Creating%20the%20mobile%20versions%20using%20React%20Native%20and%20Redux" rel="noopener ugc nofollow" target="_blank">使用React Native和Redux创建移动版本</a></li></ul><h1 id="5ada" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用React和Redux创建web版本</h1><h1 id="91e9" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">项目设置</h1><p id="355a" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">在桌面上创建一个名为<strong class="jx io">卡牌</strong>的文件夹，然后在代码编辑器中打开这个项目。现在使用您的终端将<strong class="jx io"> cd </strong>放入项目目录，然后使用下面的代码建立一个样板React应用程序。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="d9e6" class="mv kz in mr b gy mw mx l my mz">npx create-react-app my-app-web</span></pre><p id="178a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">设置好应用程序后，使用您的终端应用程序将<strong class="jx io"> cd </strong>放入其中，然后运行该应用程序。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="3a57" class="mv kz in mr b gy mw mx l my mz">cd my-app-web<br/>npm run start</span></pre><p id="745d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您应该会看到应用程序在您的浏览器中运行。是时候为React应用安装一些包并清理样板文件了。首先，您需要使用您的终端应用程序安装下面的包，因此请确保您位于根目录中，其中包含<code class="fe na nb nc mr b">package.json</code>文件。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="4cb0" class="mv kz in mr b gy mw mx l my mz">npm i redux react-redux redux-thunk redux-devtools-extension uuid</span></pre><p id="c585" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在删除<strong class="jx io"> src </strong>文件夹中的所有文件。该应用程序将崩溃，但不要担心，我们只是摆脱臃肿的软件，所以我们可以从头开始。你的项目应该有一个树状结构，如下所示。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="f322" class="mv kz in mr b gy mw mx l my mz">└── my-app-web<br/>    ├── README.md<br/>    ├── node_modules<br/>    ├── package-lock.json<br/>    ├── package.json<br/>    ├── public<br/>    │   ├── favicon.ico<br/>    │   ├── index.html<br/>    │   ├── logo192.png<br/>    │   ├── logo512.png<br/>    │   ├── manifest.json<br/>    │   └── robots.txt<br/>    ├── src<br/>    └── yarn.lock</span></pre><p id="7773" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在确保你在<strong class="jx io"> src </strong>文件夹中。创建一个<strong class="jx io"> index.js </strong>文件，并输入下面的代码。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="777b" class="mv kz in mr b gy mw mx l my mz">import React from 'react';<br/>import ReactDOM from 'react-dom';<br/>import App from './App';</span><span id="a8f7" class="mv kz in mr b gy nd mx l my mz">ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));</span></pre><p id="3d6b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，您需要在同一个文件夹中创建一个<strong class="jx io"> App.js </strong>文件，并输入下面的代码。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="672a" class="mv kz in mr b gy mw mx l my mz">import React, { Fragment } from 'react';</span><span id="8842" class="mv kz in mr b gy nd mx l my mz">const App = () =&gt; {<br/>    return (<br/>        &lt;Fragment&gt;<br/>            &lt;h1&gt;React App&lt;/h1&gt;<br/>        &lt;/Fragment&gt;<br/>    );<br/>};</span><span id="2eee" class="mv kz in mr b gy nd mx l my mz">export default App;</span></pre><p id="da26" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可能需要重新载入网页或重新启动服务器。之后，您应该会看到处理标题文本的页面。</p><h1 id="a4f0" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">设置Redux商店</h1><p id="ecf1" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">随着React应用程序的安装和运行，我们现在可以开始工作在Redux商店。我们将需要一个<strong class="jx io"> store.js </strong>文件以及用于<strong class="jx io">动作</strong>和<strong class="jx io">减少器</strong>的文件夹。如果你打开你的网络浏览器，进入Redux DevTools，它应该显示类似于“<em class="ne">没有找到商店”的信息。请务必遵循说明。</em>”</p><p id="a2c9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在<strong class="jx io"> src </strong>文件夹中创建一个<strong class="jx io"> store.js </strong>文件，然后输入下面的代码来设置Redux Store。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="68f5" class="mv kz in mr b gy mw mx l my mz">import { createStore, applyMiddleware } from 'redux';<br/>import { composeWithDevTools } from 'redux-devtools-extension';<br/>import thunk from 'redux-thunk';<br/>import rootReducer from './reducers';</span><span id="18da" class="mv kz in mr b gy nd mx l my mz">const initialState = {};</span><span id="0e5c" class="mv kz in mr b gy nd mx l my mz">const middleware = [thunk];</span><span id="0ac9" class="mv kz in mr b gy nd mx l my mz">const store = createStore(rootReducer, initialState, composeWithDevTools(applyMiddleware(...middleware)));</span><span id="4c29" class="mv kz in mr b gy nd mx l my mz">export default store;</span></pre><p id="47fd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在用下面的代码更新<strong class="jx io"> index.js </strong>文件。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="289d" class="mv kz in mr b gy mw mx l my mz">import React from 'react';<br/>import ReactDOM from 'react-dom';<br/>import App from './App';<br/>import store from './store';<br/>import { Provider } from 'react-redux';</span><span id="2d2f" class="mv kz in mr b gy nd mx l my mz">ReactDOM.render(<br/>    &lt;Provider store={store}&gt;<br/>        &lt;App /&gt;<br/>    &lt;/Provider&gt;,<br/>    document.getElementById('root')<br/>);</span></pre><p id="3cb5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，创建一个名为<strong class="jx io"> actions </strong>的空文件夹和一个名为<strong class="jx io"> reducers </strong>的空文件夹，并将它们放入<strong class="jx io"> src </strong>文件夹。进入<strong class="jx io"> reducers </strong>文件夹，创建一个名为<strong class="jx io"> index.js </strong>的文件。将下面的代码添加到该文件中。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="b714" class="mv kz in mr b gy mw mx l my mz">import { combineReducers } from 'redux';</span><span id="c5ed" class="mv kz in mr b gy nd mx l my mz">export default combineReducers({});</span></pre><p id="262e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完成后，返回浏览器中的应用程序并重新加载页面。如果你去Redux DevTools，你应该看到它现在工作。</p><h1 id="66b7" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">创建卡片缩减器</h1><p id="2ea8" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">下一步将为动作创建文件，并为reducer创建一个reducer文件。actions文件夹还将包含一个集中存放常量的文件，因此您只需在一个地方更改它们。进入<strong class="jx io">动作</strong>文件夹，创建一个名为<strong class="jx io"> types.js </strong>的文件和一个名为<strong class="jx io"> card.js </strong>的文件。将下面的代码放到<strong class="jx io"> types.js </strong>文件中。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="b037" class="mv kz in mr b gy mw mx l my mz">export const SET_CARD = 'SET_CARD';<br/>export const REMOVE_CARD = 'REMOVE_CARD';</span></pre><p id="0a8a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在进入<strong class="jx io"> reducers </strong>文件夹，创建一个名为<strong class="jx io"> card.js </strong>的文件。将下面的代码添加到该文件中。这将设置将用于减速器的状态和功能。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="b7f3" class="mv kz in mr b gy mw mx l my mz">import { SET_CARD, REMOVE_CARD } from '../actions/types';</span><span id="aaa3" class="mv kz in mr b gy nd mx l my mz">const initialState = [<br/>    {<br/>        text: 'Deck of Cards',<br/>    },<br/>];</span><span id="5476" class="mv kz in mr b gy nd mx l my mz">export default function (state = initialState, action) {<br/>    const { type, payload } = action;</span><span id="feba" class="mv kz in mr b gy nd mx l my mz">    switch (type) {<br/>        case SET_CARD:<br/>            return [...state, payload];<br/>        case REMOVE_CARD:<br/>            return state.filter((card) =&gt; card.id !== payload);<br/>        default:<br/>            return state;<br/>    }<br/>}</span></pre><p id="a68a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在更新<strong class="jx io"> reducers </strong>文件夹中的<strong class="jx io"> index.js </strong>文件，导入<strong class="jx io"> card.js </strong>文件。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="846e" class="mv kz in mr b gy mw mx l my mz">import { combineReducers } from 'redux';<br/>import card from './card';</span><span id="84b2" class="mv kz in mr b gy nd mx l my mz">export default combineReducers({<br/>    card,<br/>});</span></pre><p id="7cf1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，进入<strong class="jx io">动作</strong>文件夹，将下面的代码添加到<strong class="jx io"> card.js </strong>文件中。这将设置发送数据的调度功能。这将把卡信息作为通过状态的动作来分派。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="cb4d" class="mv kz in mr b gy mw mx l my mz">import uuid from 'uuid';<br/>import { SET_CARD, REMOVE_CARD } from './types';</span><span id="6309" class="mv kz in mr b gy nd mx l my mz">export const setCard = (msg, cardType) =&gt; (dispatch) =&gt; {<br/>    const id = uuid.v4();<br/>    dispatch({<br/>        type: SET_CARD,<br/>        payload: { msg, cardType, id },<br/>    });</span><span id="c4c9" class="mv kz in mr b gy nd mx l my mz">    // Change the value in the set time out to increase or decrease the time. The default is 10000 which equals 10 seconds<br/>    // Alternativly you can comment out the code below so that the cards just stay on the screen and don't get removed<br/>    setTimeout(() =&gt; dispatch({ type: REMOVE_CARD, payload: id }), 10000);<br/>};</span></pre><h1 id="061c" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">将应用程序连接到Redux商店</h1><p id="6bb4" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">最后，我们将把动作和减少器连接到主<strong class="jx io"> App.js </strong>文件。首先创建一个<strong class="jx io"> App.css </strong>文件，放在<strong class="jx io"> src </strong>文件夹的根目录下。将以下样式添加到<strong class="jx io"> App.css </strong>文件中。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="3e19" class="mv kz in mr b gy mw mx l my mz">@import url('https://fonts.googleapis.com/css2?family=Karantina:wght@300;400;700&amp;display=swap');<br/>* {<br/>    margin: 0;<br/>    padding: 0;<br/>    box-sizing: border-box;<br/>}</span><span id="a8ba" class="mv kz in mr b gy nd mx l my mz">html {<br/>    font-size: 62.5%;<br/>}</span><span id="beac" class="mv kz in mr b gy nd mx l my mz">body {<br/>    font-size: 1.6rem;<br/>    font-family: 'Karantina', cursive;<br/>    background: #4f8a82;<br/>}</span><span id="7941" class="mv kz in mr b gy nd mx l my mz">main {<br/>    margin: 0 auto;<br/>    max-width: 100%;<br/>    width: 120rem;<br/>}</span><span id="7ba4" class="mv kz in mr b gy nd mx l my mz">.container {<br/>    margin: 2rem 2rem 2rem 2rem;<br/>}</span><span id="8691" class="mv kz in mr b gy nd mx l my mz">.heading-text {<br/>    color: #ffffff;<br/>    margin: 2rem 0 2rem 0;<br/>    font-size: 4rem;<br/>    text-transform: uppercase;<br/>    text-align: center;<br/>}</span><span id="7b40" class="mv kz in mr b gy nd mx l my mz">.card-board-container {<br/>    margin: 2rem auto;<br/>    padding: 2rem 0 2rem 4.5rem;<br/>    display: flex;<br/>    flex-flow: row wrap;<br/>    max-width: 100%;<br/>    width: 120rem;<br/>    border: 1rem solid #943807;<br/>    height: 60rem;<br/>}</span><span id="7f34" class="mv kz in mr b gy nd mx l my mz">.btn-place-card {<br/>    cursor: pointer;<br/>    padding: 2rem;<br/>    border: 0.2rem solid #ffdd07;<br/>    background: #284743;<br/>    color: #ffdd07;<br/>    font-weight: 700;<br/>    text-transform: uppercase;<br/>    transition: background 0.5s;<br/>}</span><span id="6478" class="mv kz in mr b gy nd mx l my mz">.btn-place-card:hover {<br/>    background: #48726c;<br/>    border: 0.2rem solid #ffea63;<br/>}</span><span id="7a84" class="mv kz in mr b gy nd mx l my mz">.btn-place-card:focus {<br/>    outline: 0;<br/>}</span><span id="34f9" class="mv kz in mr b gy nd mx l my mz">.card {<br/>    margin-bottom: 2rem;<br/>}</span><span id="9d17" class="mv kz in mr b gy nd mx l my mz">/* Use the CSS below as a reference for adding a full deck of cards which is 52 cards in total */<br/>/* Example full deck of cards */<br/>/* https://upload.wikimedia.org/wikipedia/commons/thumb/8/81/English_pattern_playing_cards_deck.svg/1200px-English_pattern_playing_cards_deck.svg.png */</span><span id="8420" class="mv kz in mr b gy nd mx l my mz">.card-spade-1,<br/>.card-spade-2,<br/>.card-spade-3,<br/>.card-heart-1,<br/>.card-heart-2,<br/>.card-heart-3,<br/>.card-diamond-1,<br/>.card-diamond-2,<br/>.card-diamond-3,<br/>.card-club-1,<br/>.card-club-2,<br/>.card-club-3 {<br/>    width: 7rem;<br/>    height: 9.5rem;<br/>    background: #ffffff;<br/>    box-shadow: 0px 0px 17px 0px rgba(199, 199, 199, 1);<br/>}</span><span id="92b3" class="mv kz in mr b gy nd mx l my mz">.card-spade-1::before {<br/>    content: '🂡';<br/>    color: black;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span><span id="5eb0" class="mv kz in mr b gy nd mx l my mz">.card-spade-2::before {<br/>    content: '🂢';<br/>    color: black;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span><span id="a35f" class="mv kz in mr b gy nd mx l my mz">.card-spade-3::before {<br/>    content: '🂣';<br/>    color: black;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span><span id="e4c8" class="mv kz in mr b gy nd mx l my mz">.card-heart-1::before {<br/>    content: '🂱';<br/>    color: #ff5555;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span><span id="8c38" class="mv kz in mr b gy nd mx l my mz">.card-heart-2::before {<br/>    content: '🂲';<br/>    color: #ff5555;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span><span id="68e6" class="mv kz in mr b gy nd mx l my mz">.card-heart-3::before {<br/>    content: '🂳';<br/>    color: #ff5555;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span><span id="0e00" class="mv kz in mr b gy nd mx l my mz">.card-diamond-1::before {<br/>    content: '🃁';<br/>    color: #ff5555;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span><span id="1587" class="mv kz in mr b gy nd mx l my mz">.card-diamond-2::before {<br/>    content: '🃂';<br/>    color: #ff5555;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span><span id="9624" class="mv kz in mr b gy nd mx l my mz">.card-diamond-3::before {<br/>    content: '🃃';<br/>    color: #ff5555;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span><span id="31fd" class="mv kz in mr b gy nd mx l my mz">.card-club-1::before {<br/>    content: '🃑';<br/>    color: #000000;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span><span id="61f0" class="mv kz in mr b gy nd mx l my mz">.card-club-2::before {<br/>    content: '🃒';<br/>    color: #000000;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span><span id="55a9" class="mv kz in mr b gy nd mx l my mz">.card-club-3::before {<br/>    content: '🃓';<br/>    color: #000000;<br/>    position: relative;<br/>    font-size: 12rem;<br/>    top: -2.54rem;<br/>    left: -0.9rem;<br/>}</span></pre><p id="a490" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在打开<strong class="jx io"> src </strong>文件夹中的<strong class="jx io"> App.js </strong>文件，用下面的代码替换里面的代码。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="a373" class="mv kz in mr b gy mw mx l my mz">import { connect } from 'react-redux';<br/>import { setCard } from './actions/card';<br/>import PropTypes from 'prop-types';<br/>import { useState, Fragment } from 'react';<br/>import './App.css';</span><span id="e616" class="mv kz in mr b gy nd mx l my mz">function App({ setCard, cards }) {<br/>    const [cardRandomNum, setCardRandomNum] = useState(1);<br/>    const [card] = useState(['spade', 'heart', 'diamond', 'club']);<br/>    const [cardTypeOutput, setCardTypeOutput] = useState('spade');</span><span id="bade" class="mv kz in mr b gy nd mx l my mz">    const btnHandleClick = () =&gt; {<br/>        // Change the code below to Math.floor(Math.random() * 13 + 1) if you want to get cards from 1 - 13 which is the full deck. 52 cards in total.<br/>        setCardRandomNum(Math.floor(Math.random() * 3 + 1));<br/>        console.log(cardRandomNum);</span><span id="6aa1" class="mv kz in mr b gy nd mx l my mz">        const cardType = [Math.floor(Math.random() * card.length)];</span><span id="c3f4" class="mv kz in mr b gy nd mx l my mz">        setCardTypeOutput(card[cardType]);<br/>        console.log(cardTypeOutput);</span><span id="0f88" class="mv kz in mr b gy nd mx l my mz">        setCard(cardRandomNum, cardTypeOutput);<br/>        console.log(cards);<br/>    };<br/>    return (<br/>        &lt;Fragment&gt;<br/>            &lt;main&gt;<br/>                &lt;section className="container"&gt;<br/>                    &lt;div&gt;<br/>                        &lt;h1 className="heading-text"&gt;{cards[0].text}&lt;/h1&gt;<br/>                    &lt;/div&gt;<br/>                    &lt;div&gt;<br/>                        &lt;button className="btn-place-card" onClick={btnHandleClick}&gt;<br/>                            Place Cards<br/>                        &lt;/button&gt;<br/>                    &lt;/div&gt;</span><span id="15a4" class="mv kz in mr b gy nd mx l my mz">                    &lt;div className="card-board-container"&gt;<br/>                        {(cards !== null) &amp; (cards.length &gt; 0) &amp;&amp;<br/>                            cards.map((card) =&gt; &lt;div key={card.id} className={`card card-${card.cardType}-${card.msg}`}&gt;&lt;/div&gt;)}<br/>                    &lt;/div&gt;<br/>                &lt;/section&gt;<br/>            &lt;/main&gt;<br/>        &lt;/Fragment&gt;<br/>    );<br/>}</span><span id="3dcd" class="mv kz in mr b gy nd mx l my mz">App.propTypes = {<br/>    setCard: PropTypes.func.isRequired,<br/>    cards: PropTypes.array.isRequired,<br/>};</span><span id="4801" class="mv kz in mr b gy nd mx l my mz">const mapStateToProps = (state) =&gt; ({<br/>    cards: state.card,<br/>});</span><span id="e3f1" class="mv kz in mr b gy nd mx l my mz">export default connect(mapStateToProps, { setCard })(App);</span></pre><p id="4ce0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可能需要重新加载页面或重启服务器，但是当你这么做的时候，你应该会看到纸牌应用程序在工作。你所要做的就是反复点击放置卡片按钮，它会在表格框内随机生成卡片。每组牌最多3张，但是你可以通过修改几行代码将它扩展到一副牌中的所有52张牌。使用<code class="fe na nb nc mr b">actions/card./js</code>文件中的<strong class="jx io"> REMOVE_CARD </strong>分派动作，卡片在10秒钟后自动移除。如果你想，你可以改变时间或完全删除它，使卡留在屏幕上。</p><p id="6947" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">或者，如果你想添加更多的卡，你需要按照<strong class="jx io"> App.js </strong>文件和<strong class="jx io"> App.css </strong>文件中的注释来做。要添加更多的卡片图标，您只需添加或替换新的Unicode字符。你可以在这里找到一些<a class="ae mb" href="https://www.webnots.com/alt-code-shortcuts-for-playing-cards-suit/" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="bfc8" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用React Native和Redux创建移动版本</h1><h1 id="965f" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">项目设置</h1><p id="54b8" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">在桌面上创建一个名为<strong class="jx io">卡牌</strong>的文件夹，或者使用之前已经创建的文件夹，然后在代码编辑器中打开该项目。现在使用您的终端将<strong class="jx io"> cd </strong>放入项目目录，然后使用下面的代码建立一个样板React本地应用程序。确保您选择了<strong class="jx io">空白</strong>选项。我们将在教程中使用<strong class="jx io">纱线</strong>，但是如果你愿意，你也可以使用<strong class="jx io"> npm </strong>。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="745c" class="mv kz in mr b gy mw mx l my mz">expo init my-app-mobile</span></pre><p id="560e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">应用程序设置完成后，使用您的终端应用程序将<strong class="jx io"> cd </strong>放入其中，然后运行该应用程序。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="b558" class="mv kz in mr b gy mw mx l my mz">cd my-app-mobile<br/>yarn start</span></pre><p id="b393" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您应该会看到一个带有Expo Developer工具的web浏览器窗口打开。使用其中一个模拟器运行应用程序，或者通过使用手机扫描条形码来使用设备。是时候安装一些包并清理React本机应用程序的样板文件了。首先，您需要使用您的终端应用程序安装下面的包，因此请确保您位于根目录中，其中包含<strong class="jx io"> package.json </strong>文件。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="bb43" class="mv kz in mr b gy mw mx l my mz">yarn add redux react-redux redux-thunk redux-devtools-extension uuid</span></pre><p id="4f9e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你的项目应该有一个树状结构，如下所示。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="ab23" class="mv kz in mr b gy mw mx l my mz">├── App.js<br/>├── app.json<br/>├── assets<br/>│   ├── adaptive-icon.png<br/>│   ├── favicon.png<br/>│   ├── icon.png<br/>│   └── splash.png<br/>├── babel.config.js<br/>├── node_modules<br/>├── package.json<br/>└── yarn.lock</span></pre><h1 id="1c69" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">设置Redux商店</h1><p id="93c1" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">随着React本地应用程序的安装和运行，我们现在可以开始在Redux商店上工作了。我们将需要一个<strong class="jx io"> store.js </strong>文件以及用于<strong class="jx io">动作</strong>、<strong class="jx io">reducers _ _和__components </strong>的文件夹。如果你在网络浏览器中运行应用程序，进入Redux DevTools，它应该会显示类似于“<em class="ne">没有找到商店”的信息。请务必遵循说明。</em>”</p><p id="91d8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">创建一个<strong class="jx io"> src </strong>文件夹，然后在其中创建一个<strong class="jx io"> store.js </strong>文件，然后输入下面的代码来设置Redux Store。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="df81" class="mv kz in mr b gy mw mx l my mz">import { createStore, applyMiddleware } from 'redux';<br/>import { composeWithDevTools } from 'redux-devtools-extension';<br/>import thunk from 'redux-thunk';<br/>import rootReducer from './reducers';</span><span id="1834" class="mv kz in mr b gy nd mx l my mz">const initialState = {};</span><span id="e0e0" class="mv kz in mr b gy nd mx l my mz">const middleware = [thunk];</span><span id="1372" class="mv kz in mr b gy nd mx l my mz">const store = createStore(rootReducer, initialState, composeWithDevTools(applyMiddleware(...middleware)));</span><span id="dea3" class="mv kz in mr b gy nd mx l my mz">export default store;</span></pre><p id="cd99" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在用下面的代码更新<code class="fe na nb nc mr b">App.js</code>文件。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="6c86" class="mv kz in mr b gy mw mx l my mz">import React from 'react';<br/>import store from './src/store';<br/>import { Provider } from 'react-redux';<br/>import DeckOfCards from './src/components/DeckOfCards';</span><span id="1733" class="mv kz in mr b gy nd mx l my mz">const App = () =&gt; {<br/>    return (<br/>        &lt;Provider store={store}&gt;<br/>            &lt;DeckOfCards /&gt;<br/>        &lt;/Provider&gt;<br/>    );<br/>};</span><span id="9c36" class="mv kz in mr b gy nd mx l my mz">export default App;</span></pre><p id="c98c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在下一步中，创建一个名为<strong class="jx io">组件</strong>的文件夹，并将其放入<strong class="jx io"> src </strong>文件夹中。现在在其中创建一个名为<strong class="jx io"> DeckOfCards.js </strong>的文件。将下面的代码添加到该文件中。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="a067" class="mv kz in mr b gy mw mx l my mz">import React from 'react';<br/>import { View, Text, StyleSheet, TouchableOpacity, FlatList } from 'react-native';<br/>import { setCard } from '../actions/card';<br/>import { connect } from 'react-redux';<br/>import PropTypes from 'prop-types';<br/>import { useState } from 'react';</span><span id="e6a5" class="mv kz in mr b gy nd mx l my mz">const App = ({ setCard, cards }) =&gt; {<br/>    const [cardRandomNum, setCardRandomNum] = useState(1);<br/>    const [card] = useState(['spade', 'heart', 'diamond', 'club']);<br/>    const [cardTypeOutput, setCardTypeOutput] = useState('spade');</span><span id="40db" class="mv kz in mr b gy nd mx l my mz">    const btnHandleClick = () =&gt; {<br/>        // Change the code below to Math.floor(Math.random() * 13 + 1) if you want to get cards from 1 - 13 which is the full deck. 52 cards in total.<br/>        setCardRandomNum(Math.floor(Math.random() * 3 + 1));<br/>        console.log(cardRandomNum);</span><span id="da28" class="mv kz in mr b gy nd mx l my mz">        const cardType = [Math.floor(Math.random() * card.length)];</span><span id="7504" class="mv kz in mr b gy nd mx l my mz">        setCardTypeOutput(card[cardType]);<br/>        console.log(cardTypeOutput);</span><span id="979e" class="mv kz in mr b gy nd mx l my mz">        setCard(cardRandomNum, cardTypeOutput);<br/>        console.log(cards);<br/>    };</span><span id="d3ab" class="mv kz in mr b gy nd mx l my mz">    return (<br/>        &lt;View style={styles.appContainer}&gt;<br/>            &lt;View style={styles.appHeading}&gt;<br/>                &lt;View&gt;<br/>                    &lt;Text style={styles.heading}&gt;Deck of Cards&lt;/Text&gt;<br/>                &lt;/View&gt;<br/>                &lt;View style={{ marginTop: 50 }}&gt;<br/>                    &lt;TouchableOpacity onPress={btnHandleClick}&gt;<br/>                        &lt;Text style={styles.cardBtn}&gt;Place Cards&lt;/Text&gt;<br/>                    &lt;/TouchableOpacity&gt;<br/>                &lt;/View&gt;<br/>            &lt;/View&gt;<br/>            &lt;View style={styles.appMain}&gt;<br/>                &lt;View&gt;<br/>                    &lt;FlatList<br/>                        numColumns={11}<br/>                        keyExtractor={(card) =&gt; card.id}<br/>                        data={cards}<br/>                        renderItem={({ item }) =&gt; {<br/>                            let cardTypeGraphic = '';<br/>                            let cardColorType = '';</span><span id="75d2" class="mv kz in mr b gy nd mx l my mz">                            const spade = {<br/>                                one: {<br/>                                    graphic: '🂡',<br/>                                },<br/>                                two: {<br/>                                    graphic: '🂢',<br/>                                },<br/>                                three: {<br/>                                    graphic: '🂣',<br/>                                },<br/>                            };</span><span id="2d92" class="mv kz in mr b gy nd mx l my mz">                            const heart = {<br/>                                one: {<br/>                                    graphic: '🂱',<br/>                                },<br/>                                two: {<br/>                                    graphic: '🂲',<br/>                                },<br/>                                three: {<br/>                                    graphic: '🂳',<br/>                                },<br/>                            };</span><span id="1e98" class="mv kz in mr b gy nd mx l my mz">                            const diamond = {<br/>                                one: {<br/>                                    graphic: '🃁',<br/>                                },<br/>                                two: {<br/>                                    graphic: '🃂',<br/>                                },<br/>                                three: {<br/>                                    graphic: '🃃',<br/>                                },<br/>                            };</span><span id="f59e" class="mv kz in mr b gy nd mx l my mz">                            const club = {<br/>                                one: {<br/>                                    graphic: '🃑',<br/>                                },<br/>                                two: {<br/>                                    graphic: '🃒',<br/>                                },<br/>                                three: {<br/>                                    graphic: '🃓',<br/>                                },<br/>                            };</span><span id="b2ab" class="mv kz in mr b gy nd mx l my mz">                            if (item.cardType === 'spade' &amp;&amp; item.msg === 1) {<br/>                                cardTypeGraphic = spade.one.graphic;<br/>                                cardColorType = 'black';<br/>                            } else if (item.cardType === 'spade' &amp;&amp; item.msg === 2) {<br/>                                cardTypeGraphic = spade.two.graphic;<br/>                                cardColorType = 'black';<br/>                            } else if (item.cardType === 'spade' &amp;&amp; item.msg === 3) {<br/>                                cardTypeGraphic = spade.three.graphic;<br/>                                cardColorType = 'black';<br/>                            } else if (item.cardType === 'heart' &amp;&amp; item.msg === 1) {<br/>                                cardTypeGraphic = heart.one.graphic;<br/>                                cardColorType = 'red';<br/>                            } else if (item.cardType === 'heart' &amp;&amp; item.msg === 2) {<br/>                                cardTypeGraphic = heart.two.graphic;<br/>                                cardColorType = 'red';<br/>                            } else if (item.cardType === 'heart' &amp;&amp; item.msg === 3) {<br/>                                cardTypeGraphic = heart.three.graphic;<br/>                                cardColorType = 'red';<br/>                            } else if (item.cardType === 'diamond' &amp;&amp; item.msg === 1) {<br/>                                cardTypeGraphic = diamond.one.graphic;<br/>                                cardColorType = 'red';<br/>                            } else if (item.cardType === 'diamond' &amp;&amp; item.msg === 2) {<br/>                                cardTypeGraphic = diamond.two.graphic;<br/>                                cardColorType = 'red';<br/>                            } else if (item.cardType === 'diamond' &amp;&amp; item.msg === 3) {<br/>                                cardTypeGraphic = diamond.three.graphic;<br/>                                cardColorType = 'red';<br/>                            } else if (item.cardType === 'club' &amp;&amp; item.msg === 1) {<br/>                                cardTypeGraphic = club.one.graphic;<br/>                                cardColorType = 'black';<br/>                            } else if (item.cardType === 'club' &amp;&amp; item.msg === 2) {<br/>                                cardTypeGraphic = club.two.graphic;<br/>                                cardColorType = 'black';<br/>                            } else if (item.cardType === 'club' &amp;&amp; item.msg === 3) {<br/>                                cardTypeGraphic = club.three.graphic;<br/>                                cardColorType = 'black';<br/>                            }</span><span id="d20b" class="mv kz in mr b gy nd mx l my mz">                            return (<br/>                                &lt;View&gt;<br/>                                    {cards.length &lt;= 0 ? (<br/>                                        &lt;View&gt;<br/>                                            &lt;Text&gt;&lt;/Text&gt;<br/>                                        &lt;/View&gt;<br/>                                    ) : (<br/>                                        &lt;View style={styles.cardContainer}&gt;<br/>                                            &lt;View style={styles.card}&gt;<br/>                                                &lt;View&gt;<br/>                                                    &lt;Text<br/>                                                        style={{<br/>                                                            marginLeft: -3,<br/>                                                            // You might need to change the marginTop value if the cards are not aligned on your device<br/>                                                            marginTop: 0,<br/>                                                            padding: 0,<br/>                                                            fontSize: 60,<br/>                                                            color: `${cardColorType}`,<br/>                                                        }}<br/>                                                    &gt;<br/>                                                        {cardTypeGraphic}<br/>                                                    &lt;/Text&gt;<br/>                                                &lt;/View&gt;<br/>                                            &lt;/View&gt;<br/>                                        &lt;/View&gt;<br/>                                    )}<br/>                                &lt;/View&gt;<br/>                            );<br/>                        }}<br/>                    /&gt;<br/>                &lt;/View&gt;<br/>            &lt;/View&gt;<br/>        &lt;/View&gt;<br/>    );<br/>};</span><span id="82d2" class="mv kz in mr b gy nd mx l my mz">const styles = StyleSheet.create({<br/>    appContainer: {<br/>        backgroundColor: '#4f8a82',<br/>        height: '100%',<br/>        width: '100%',<br/>    },<br/>    appHeading: {<br/>        marginTop: 50,<br/>    },<br/>    heading: {<br/>        textTransform: 'uppercase',<br/>        color: '#ffffff',<br/>        fontWeight: 'bold',<br/>        textAlign: 'center',<br/>        fontSize: 20,<br/>    },<br/>    cardBtn: {<br/>        backgroundColor: '#284743',<br/>        textAlign: 'center',<br/>        color: '#ffdd07',<br/>        textTransform: 'uppercase',<br/>        padding: 20,<br/>        fontWeight: 'bold',<br/>        borderWidth: 2,<br/>        borderColor: '#ffdd07',<br/>    },<br/>    appMain: {<br/>        marginTop: 50,<br/>        marginBottom: 50,<br/>        height: '100%',<br/>        borderColor: '#943807',<br/>        borderLeftWidth: 10,<br/>        borderRightWidth: 10,<br/>        borderTopWidth: 10,<br/>        borderBottomWidth: 10,<br/>        padding: 10,<br/>    },<br/>    flatlist: {<br/>        flexDirection: 'column',<br/>    },<br/>    cardContainer: {<br/>        display: 'flex',<br/>        flexDirection: 'row',<br/>        flexWrap: 'wrap',<br/>        alignSelf: 'baseline',<br/>    },<br/>    card: {<br/>        backgroundColor: '#ffffff',<br/>        shadowColor: 'rgba(199, 199, 199, 1)',<br/>        height: 46,<br/>        width: 35,<br/>    },<br/>});</span><span id="8aa4" class="mv kz in mr b gy nd mx l my mz">App.propTypes = {<br/>    setCard: PropTypes.func.isRequired,<br/>    cards: PropTypes.array.isRequired,<br/>};</span><span id="67c6" class="mv kz in mr b gy nd mx l my mz">const mapStateToProps = (state) =&gt; ({<br/>    cards: state.card,<br/>});</span><span id="fc35" class="mv kz in mr b gy nd mx l my mz">export default connect(mapStateToProps, { setCard })(App);</span></pre><h1 id="374c" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">创建卡片缩减器</h1><p id="c062" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">接下来创建一个名为<strong class="jx io">动作</strong>的空文件夹和一个名为<strong class="jx io">减速器</strong>的空文件夹，并将它们放在<strong class="jx io"> src </strong>文件夹中。进入<strong class="jx io"> reducers </strong>文件夹，创建一个名为<strong class="jx io"> index.js </strong>的文件。将下面的代码添加到该文件中。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="29ea" class="mv kz in mr b gy mw mx l my mz">import { combineReducers } from 'redux';<br/>import card from './card';</span><span id="9afb" class="mv kz in mr b gy nd mx l my mz">export default combineReducers({<br/>    card,<br/>});</span></pre><p id="514f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完成后，创建一个<strong class="jx io"> card.js </strong>文件，并将其放在同一个<strong class="jx io"> reducers </strong>文件夹中。将下面的代码添加到该文件中。</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="69b2" class="mv kz in mr b gy mw mx l my mz">import { SET_CARD, REMOVE_CARD } from '../actions/types';</span><span id="6cdf" class="mv kz in mr b gy nd mx l my mz">const initialState = [];</span><span id="0c45" class="mv kz in mr b gy nd mx l my mz">export default function (state = initialState, action) {<br/>    const { type, payload } = action;</span><span id="74c0" class="mv kz in mr b gy nd mx l my mz">    switch (type) {<br/>        case SET_CARD:<br/>            return [...state, payload];<br/>        case REMOVE_CARD:<br/>            return state.filter((card) =&gt; card.id !== payload);<br/>        default:<br/>            return state;<br/>    }<br/>}</span></pre><p id="6876" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后转到<strong class="jx io">动作</strong>文件夹，然后创建一个<strong class="jx io"> card.js </strong>文件和一个<strong class="jx io"> types.js </strong>文件。</p><p id="3826" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将以下代码添加到<strong class="jx io"> types.js </strong>文件中</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="d25e" class="mv kz in mr b gy mw mx l my mz">export const SET_CARD = 'SET_CARD';<br/>export const REMOVE_CARD = 'REMOVE_CARD';</span></pre><p id="5369" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在将下面的代码输入到<strong class="jx io"> card.js </strong>文件中</p><pre class="ku kv kw kx gt mq mr ms mt aw mu bi"><span id="bb3d" class="mv kz in mr b gy mw mx l my mz">import uuid from 'uuid';<br/>import { SET_CARD, REMOVE_CARD } from './types';</span><span id="b94b" class="mv kz in mr b gy nd mx l my mz">export const setCard = (msg, cardType) =&gt; (dispatch) =&gt; {<br/>    // uuid might not work be working properly with this version of Expo so a random number is used in this example instead<br/>    // const id = uuid.v4();<br/>    const id = String(Math.floor(Math.random() * 9000));<br/>    dispatch({<br/>        type: SET_CARD,<br/>        payload: { msg, cardType, id },<br/>    });</span><span id="2c8c" class="mv kz in mr b gy nd mx l my mz">    // Change the value in the set time out to increase or decrease the time. The default is 10000 which equals 10 seconds<br/>    // Alternativly you can comment out the code below so that the cards just stay on the screen and don't get removed<br/>    setTimeout(() =&gt; dispatch({ type: REMOVE_CARD, payload: id }), 10000);<br/>};</span></pre><p id="21b2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你做的一切都是正确的，你应该看到应用程序在手机上工作。你可能需要重新加载浏览器或重启模拟器或手机才能看到它工作。由于每个设备和设置都不同，如果没有正确渲染，你可能需要在<strong class="jx io"> DeckOfCards.js </strong>文件中尝试一下样式。</p><h1 id="5e59" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">最后的想法</h1><p id="05df" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">我真的希望你喜欢阅读这篇文章，并从中学到一些东西。作为一名内容创作者和技术作家，我热衷于分享我的知识并帮助其他人实现他们的目标。让我们通过社交媒体联系起来。你可以在<a class="ae mb" href="https://linktr.ee/andrewbaisden" rel="noopener ugc nofollow" target="_blank"> linktree </a>上找到我所有的社交媒体资料和博客。</p><p id="f19e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">和平。</p><p id="dd47" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ne">更多内容请看</em><a class="ae mb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ne">plain English . io</em></a></p></div></div>    
</body>
</html>