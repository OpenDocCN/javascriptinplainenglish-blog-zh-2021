# JavaScript 中表达式和语句的介绍

> 原文：<https://javascript.plainenglish.io/an-intro-to-expressions-and-statements-in-javascript-9d12860b23ca?source=collection_archive---------11----------------------->

![](img/7ef56c749747084a0588c7975ae05e8e.png)

Photo by [AltumCode](https://unsplash.com/@altumcode?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/code-and-books?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

## 这些知识可能会在一些编程实践后直观地出现，但是如果你迫不及待或者只是好奇来解释这些术语，这个博客可能会让你感兴趣。

JavaScript 的两个主要语法类别——表达式和语句——之间的区别是 JavaScript 中一个基本但容易被误解的概念。有时，定义这两个术语的界限可能是模糊的，并不总是太明显。在这篇博客中，我试图阐明这两种教派的主要区别，并简要解释为什么理解它们很重要。

能够辨别它们的一些关键特性让我在进一步理解 JavaScript 的内部部分方面有了一点优势，例如，为什么代码的某些部分会返回某些错误或者有特定的副作用或结果。此外，它使我能够更准确地描述我的代码，并在遍历一段代码时准确地命名*语句*、*表达式*和*语句表达式*。

## 什么是 JavaScript 表达式？

根据 [MDN 文档](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#expressions)，

> 一个 ***表达式*** 是解析为一个值的任何有效的代码单元。

“有效的代码单元”几乎是您用 JavaScript 编写的任何东西。这个定义中的关键点如下:“评估为一个值”，即使这些评估的结果是一个值，如`null`、`undefined`或`NaN`(不是一个数字)。

在 JavaScript 中，表达式分为五大类:

*   **算术表达式**，其计算结果为一个*数*。
*   **字符串表达式**，其计算结果为*字符串*字符。
*   **布尔表达式**，其计算结果为*真*或*假*。
*   **主表达式**，最简单的可以是*文字值、*某些*保留关键字—* 例如 true、false、this *—* 或*变量引用*。
*   **左侧表达式**，包括*函数调用、属性访问器*、*新运算符*、*以及参数列表。*

这些表达式可以是简单的表达式，例如由文字(字符串、数字、数组和对象，属性访问器或变量引用)产生的表达式，也可以是涉及关系、逻辑和算术运算的更复杂的表达式。构建更复杂表达式的一种常见方式是利用[操作符](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#operators)。运算符——如常见的串联或一元`+`运算符——组合一个或多个操作数的值以生成新值。

然而，在一天结束时，不管它们的大小或复杂性如何，表达式总是会解析为一个值。考虑到这一点，让我们来回顾一下基本的表情分类。

# 算术表达式

这些表达式的计算结果总是一个数字。一些最简单的算术表达式包括:

要构建更复杂的表达式，可以使用算术运算符。算术运算符将任何数值(文字或变量)作为其操作数，并返回单个数值。标准的算术运算符是加法(`+`)、减法(`-`)、乘法(`*`)和除法(`/`)。

# 字符串表达式

这些表达式的计算结果是一个字符串，通常使用串联运算符`+`来组合两个字符串值。

注意，如果至少有一个值是字符串类型的，那么串联操作符`+`将隐式地尝试将操作中的所有值转换为字符串。然后，它将它们连接起来，返回作为操作数并集的另一个字符串。

# 布尔表达式

这些表达式的计算结果为*真*或*假*值，但通常使用逻辑运算符，这会产生更复杂的表达式。逻辑运算符`&&`、`||`和`!`执行布尔代数运算，通常与关系运算符`<`、`>`、`=>`、`=<`、`==`、`===`结合使用。

关系表达式总是评估为`true`或`false`，所以当像这样使用时，`&&`操作符本身返回`true`或`false`。

注意`&&`不要求它的操作数是布尔值。这是因为所有的 JavaScript 值不是*true*就是 *falsy* 。因此，导致 *falsy* 值— `false`、`null`、`undefined`、`0`、`-0`、`NaN`和`""` — *的操作评估为假*，而包括所有对象在内的所有其他值为真*和*评估为真*。*

# *主要表达式*

*如前所述，这些是最简单的表达式，包括*常量值、文字、某些关键字和变量引用*。*

## *数组和对象文字表达式*

*ECMAScript 第六版也将数组和对象文字归类为“主”表达式，尽管它们可以包含指定不一定是文字的属性和值元素的子表达式。*

## *函数定义表达式*

*函数定义表达式是“函数文字”,就像数组和对象初始化器是数组和对象文字一样。函数定义解析为新定义函数的值，可能使用也可能不使用关键字 *function —* ，如下例所示:*

*主表达式是基本的，但不如左侧表达式有用，它可以在整个程序中传递和重用。上面的例子描述了一个函数声明表达式和一个赋值操作，它是一种左边的*表达式。**

# *左侧表达式*

*这些是由[赋值操作](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators#assignment_operators)产生的左值。注意，要给左操作数赋值，右操作数必须以某种方式解析为一个值。*

*这个赋值是左侧表达式的一个简单例子，其中变量`sum`引用数值运算`23 + 56`的返回值，结果返回数字`79`。*

*除了赋值之外，左侧表达式还可以包括:*

*   *函数调用或调用表达式*
*   *属性访问器*
*   **新*操作员*

## *调用表达式*

*与*函数定义表达式*不同，*调用表达式*调用(或执行)一个函数或方法。它以一个标识要调用的函数的函数表达式开始，后面是一个左括号、一个由零个或多个参数表达式组成的逗号分隔列表，以及一个右括号。*

*调用表达式的一些其他示例:*

## *属性访问表达式*

**属性访问表达式*评估对象属性或数组元素的值。如这些示例所示:*

## *' *New'* 运算符:对象创建表达式*

*一个*对象创建表达式*通过调用一个函数(称为构造函数)初始化对象的属性来创建一个对象的新*实例。对象创建表达式的值是新创建的对象。这种表达方式的一些例子包括:**

# *我如何识别一个表达式？*

*知道代码中的表达式意味着一条重要的信息。它告诉你什么样的代码单元可以赋给一个变量和/或用在 JavaScript 需要一个值的地方。在 JavaScript 中，表达式——包括变量引用、函数调用和属性访问器——可以在任何需要值的地方使用。以至于测试某个东西是否是一个**表达式**的一种方法是将那个代码单元放在预期值的地方，并检查是否没有抛出错误。*

*例如，方法`console.log()`将一个值打印到控制台并返回`undefined`。您可以用您正在测试的“代码单元”来替换这个期望值。如果这段代码确实是一个表达式，它会将结果输出到控制台。否则，它将抛出“未捕获的 SyntaxError”类型的错误。*

*注意`Hello World`和`console.log()`都是表达式。然而，第一个——字符串文字`Hello World!` —只是计算并解析为类型*字符串*的值，因此被归类为*字符串表达式*。而另一个方法`console.log()` —有副作用(在屏幕上打印一些东西)并返回值`undefined`。有副作用的表达式称为*表达式语句*。*

*等等，表达式能成为语句的一部分吗？是的，他们可以，通常也是。所有为语句的表达式称为*表达式语句*。然而，在查看*表达式语句*之前，我们先来谈谈 JavaScript *语句*。*

# *什么是 JavaScript 语句？*

*[MDN 文档术语表](https://developer.mozilla.org/en-US/docs/Glossary/Statement)指出:*

> *(…)一个**语句**是命令一个任务的一行代码。每个程序都由一系列语句组成。*

*这个定义意味着语句是表示要执行的动作的任何代码单元。就像一本书有许多语句来讲述一个故事一样，每个程序也有一组语句来执行特定的任务。这些指令通常以关键字开始，或者以分号`';’`结束，或者包含在块语句`{}`中。*

*在这一点上，我们可以在表达式和语句之间做出的一个重要区别是，表达式被*评估*为一个值，而语句被*执行*以使某事发生。在 JavaScript 中，基本上有三种“让事情发生”的方法:*

*   *执行有副作用的表达式。*
*   *声明新变量或新函数。*
*   *使用*控制结构*改变 JavaScript 的解释器默认执行顺序——例如*条件*、*循环*和*跳转*。*

# *表达式语句*

*“让某事发生”的一个常见方法是评估一个有副作用的表达式。我们在前面的例子中已经看到了有副作用的表达式——比如赋值和一些函数调用，比如 console.log('Hello World！')—可以是语句，当它们表现为这样时，称为*语句表达式*。*

## *分配*

*赋值是具有改变变量值副作用的表达式。*

## *函数调用*

*函数调用主要是表达式，但是因为它们有副作用——意味着它们改变了程序状态或宿主环境——它们也表现为语句，因此是另一种类型的*表达式语句*。调用一个没有副作用的函数是没有意义的，除非它们是一个更大的表达式或赋值表达式的一部分。例如，调用一个函数并简单地丢弃它的结果没有多大用处:*

*最好将它赋给一个变量，然后在程序中重用它:*

# *声明语句*

*顾名思义,*声明语句*简单地定义新值——新变量、新函数和新类以及导入或导出声明——并给它们命名。*

*变量声明——如`var`、`let`和`const` —以及函数声明——用关键字`function`后跟名称声明，如示例中的`*getValue*`—都属于这一类。它们不会让太多的*发生*，但是它们确实给程序提供了结构，甚至在代码开始运行之前就被处理了。*

# *控制结构*

*程序只不过是按一定顺序执行的一系列语句。为了改变代码的执行顺序，JavaScript 有几个*控制结构*——比如条件语句、控制循环和跳转。这些*控制语句*发布命令，并确定应该运行什么以及何时运行这些语句。下面的例子说明了只有当表达式为*true 时，才会执行`statement1`。*如果表达式为 falsy，`statement2`将被执行。*

*与条件语句类似，控制循环将执行一段代码，直到某个条件不再正确。例如，只要`while`条件中的*表达式*为*真值*，就会执行`statement3`和`statement4` 所在的代码块。*

```
*while (*expression*) {
    statement3;
    statement4;
}*
```

**跳转*也是确定代码执行顺序的另一种方式。顾名思义，*跳转*会让程序在必要的时候跳过源代码的某些部分。例如，`break`语句结束剩余代码的执行；`continue`语句让解释器跳过代码的某些部分，并返回到循环的开始。`return`语句允许解释器返回并向调用者提供一个值。*

# *结论*

*JavaScript 中表达式和语句之间的区别可能会令人困惑，尤其是对于那些刚刚开始学习的人。当我第一次遇到这些术语时，我并没有太多的考虑。毕竟，与其他更模糊的概念相比，这看起来是一个微不足道的概念。然而，随着我在学习过程中的深入，我越来越意识到理解表达和陈述之间的区别的重要性。我深入了解了如何更好地阅读错误消息和遍历我的代码。此外，我对何时需要值有了更好的理解，因此我可以传递它，并在 JavaScript 需要值的代码的其他部分使用它。此外，我意识到我的代码的哪些部分使用了*表达式语句*，并且由于一些副作用可能会产生意想不到的结果。*

*区分*表达式*和*语句*的一个简单方法是记住*表达式*总是计算一个值。因此，测试一个代码单元是否是一个表达式的一个可靠方法是在 JavaScript 中需要一个值时使用它。如果在代码的执行和解析过程中没有错误，那么这个代码单元确实是一个表达式。然而，重要的是要记住，虽然表达式可以用在需要语句的地方，但同样的情况不适用于语句。在需要表达式的地方不能使用语句。语句的工作只是执行动作和操作那些表达式。*

## *参考资料:*

*[MDN 文档—表达式和运算符](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators)。*

*[MDN 文档—陈述和声明](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements)。*

*[ECMAScript 语言规范第 11 版—表达式。](https://262.ecma-international.org/11.0/#sec-ecmascript-language-expressions)*

*[ECMAScript 语言规范第 11 版—声明](https://262.ecma-international.org/11.0/#sec-ecmascript-language-statements-and-declarations)。*

*弗拉纳根博士(2020)。 *JavaScript:明确指南*(第七版)。奥赖利。[https://learning . oreilly . com/library/view/JavaScript-the-definitive/9781491952016/](https://learning.oreilly.com/library/view/javascript-the-definitive/9781491952016/)*

**更多内容请看*[***plain English . io***](https://plainenglish.io/)*