<html>
<head>
<title>A Few Simple Tips for Implementing Kick-Ass APIs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现一流API的一些简单技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/few-tips-for-implementing-kick-ass-apis-2c563670fff8?source=collection_archive---------18-----------------------#2021-11-09">https://javascript.plainenglish.io/few-tips-for-implementing-kick-ass-apis-2c563670fff8?source=collection_archive---------18-----------------------#2021-11-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/1399ea9074278aa1e5831965b3bc842e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dGPgMa-poSycJJUWlacUOw.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@justinveenema?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Justin Veenema</a> on <a class="ae jz" href="https://unsplash.com/s/photos/kick-ass?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="20a1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这篇文章中，我将分享从实现API的经验中学到的技巧。</p><p id="b7c3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为什么首先要实现API？</p><p id="9214" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">API是定义API用户和API提供者之间交互边界的好方法。这实现了以下结果:</p><ul class=""><li id="de7c" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">API用户只知道API做什么以及如何成功地与它集成，而不需要了解它的底层实现。</li><li id="0ff3" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">API提供者记录API做什么以及如何使用它，并保留在他们认为合适的时候改变API底层实现的自由。</li></ul><p id="d0e9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">是什么让一个API成为一流的API？</p><p id="4146" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一流的API是由它的易用性定义的。API用户应该很容易理解API操作的作用、输入和输出。它应该易于集成，易于测试，并且操作安全。</p><p id="3e56" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">此外，一流的API永远不会中断，不断发展，提供价值，相应地扩展和执行。</p><p id="2d69" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">什么样的API适合一流的API？</p><p id="7240" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们从那些不适合一流API的开始:Web服务、SOAP、基于XML/Atom的API。虽然这些类型的API已被证明能够工作并提供巨大的价值，甚至是巨大的价值，但它们也被证明在集成、维护、发展、操作、更改、淘汰、退役、消除方面的成本非常高……这是一个易受过度设计、过度复杂和耦合系统影响的雷区。</p><p id="4bc0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">那还剩下什么？</p><p id="4dae" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">嗯，我们可能读过REST，HATEOAS，Richardson成熟模型…都很好…优雅，聪明，聪明…有时是天才。但这是API用户的角度还是API提供者的角度？我不得不承认，在Richardson成熟度模型中实现最高水平的成熟度有一种工程上的乐趣，它让位于一种被美化了的REST API！但是说实话，谁在乎呢？API用户在这个模型中看到了同样的荣耀吗，或者它只是一个过度设计的API？</p><p id="e669" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">那又怎样？</p><p id="2df4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">嗯，这里的一个好原则是<em class="lm">保持事情简单愚蠢</em>。HTTP是一个很好的协议规范，它定义了API用户期望的和API提供者应该支持的语义。</p><p id="47b7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">就这样吗？HTTP真的？传输数据的内容类型呢？</p><p id="e923" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">JSON是一个很好的例子，<em class="lm"> JavaScript Object Notation，</em>我喜欢它。它足够简洁，可读性强，易学易形。它拥有API处理数据所需的一切，不多也不少。此外，它还附带了一个模式，这是一种指定和验证API支持的事物的形状的简便方法。</p><p id="11d0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们是在说HTTP和JSON是实现一流API的关键吗？这不是和休息一样吗？</p><p id="b139" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">不完全是，这是对REST的简化，REST是一种将HTTP端点公开为能够在JSON中处理数据的操作的风格，没有通过URIs管理REST API中公开的资源的复杂性。</p><p id="64bb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是还有更多，它通过一个简单的界面解决了一个复杂的问题。请记住:</p><blockquote class="ln lo lp"><p id="248e" class="ka kb lm kc b kd ke kf kg kh ki kj kk lq km kn ko lr kq kr ks ls ku kv kw kx ig bi translated">完美是可以达到的，不是当没有什么可以再增加的时候，而是当没有什么可以拿走的时候(安托万·德·圣·埃克苏佩里)</p></blockquote><p id="18f5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">优秀的API关注用户的需求，并通过采用用户理解的语言来提供满足这些需求的智能方法。</p><p id="bc3d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">由于API是双方交流信息的一种方式，所以优秀的API会采用一种与用户所说的语言产生共鸣的语言。定义这样的语言应该驱动端点的命名和API处理的事物的命名。将一个API提升到这样一个水平是很关键的，即用户可以对这个API进行推理，并且理解他们将如何使用它来支持他们的功能需求，而不必将他们的领域转换成技术术语。</p><p id="923d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在实现任何东西之前，领域驱动的设计和定义API用户和API提供者所说的无处不在的语言T2的练习将极大地促进API的易用性。在设计API时，API提供者有责任确保他们的API所使用的语言被他们的目标API用户所理解，并与他们的用户的需求产生共鸣。因此，通过尽早与API用户接触、向这些用户展示API的草稿以及API支持的功能场景来获取这些信息是至关重要的。演示、研讨会、邀请客户，还有看看其他公司是如何做的，所有这些都有助于一个持续的反馈循环，帮助API提供者设计出一流的API。</p><p id="d61c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">API通常解决两类问题:</p><ul class=""><li id="62ea" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">摄取数据</li><li id="7aee" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">访问数据</li></ul><p id="98f8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在数据获取方面，让我们尝试让API用户尽可能容易地获取API提供者所需的数据。</p><p id="2c11" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们能做些什么来简化数据接收？</p><p id="8d1d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">找出API用户打算摄取的数据的来源，使用一种易于与API用户后端系统匹配的语言来形成数据，并尽可能减少成功摄取数据所需的工作量，以便开始成功操作API。例如，设计您的API时，只需要对底层系统绝对关键的最少量的信息，而让其余的信息是可选的。让API用户决定可以添加哪些额外数据，用于哪些目的，以便API用户逐渐增加其API集成所实现的价值。</p><p id="0ffa" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">理想情况下，只要接收的数据符合API定义中指定的模式，API生产者就应该接受它，然后让内部流程丰富这些数据以交付目标值。</p><p id="a5b3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在数据访问方面，API用户需要使用他们知道的信息来访问他们需要的信息。因此，API提供者应该关注于暴露和丰富访问模式，以最好地支持他们的用户。定义如何访问信息对于轻松集成API至关重要。好消息是，这样的访问模式已经为人所知，因为它们可以从API用户谈论他们的功能需求时所说的语言中派生出来。当API提供者做到这一点时，就会产生一个非常棒的API！</p><p id="ddf3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如何让API使用安全，操作安全？</p><p id="3c09" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">API提供者有责任保证他们的API用户可以安全地使用API。根据API的功能和正在处理的数据的性质，这可以采取许多不同的形式。</p><p id="f841" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">API提供者应该通过适当的API用户识别机制来了解谁在使用他们的API。他们还应该确保API用户在获取和访问数据时得到相应的授权，以保证他们的API正在处理的数据的完整性。数据的传输显然应该加密。至于存储，必须根据数据的敏感性来完成(编码、加密、编辑)。</p><p id="6bf6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">归根结底，API用户决定一个API是否配得上一流API的称号，只有这样，API提供商才能声称他们做到了！</p><p id="5ebc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lm">更多内容看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="lm">plain English . io</em></strong></a></p></div></div>    
</body>
</html>