<html>
<head>
<title>Essential Git Commands Every Dev Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个开发人员都应该知道的基本Git命令</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/essential-git-commands-every-dev-should-know-9836ccd779cd?source=collection_archive---------16-----------------------#2021-07-16">https://javascript.plainenglish.io/essential-git-commands-every-dev-should-know-9836ccd779cd?source=collection_archive---------16-----------------------#2021-07-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="46fc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我每天使用的11个Git命令</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7f9f67cef561a4c50646ac9de0c2a0f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s-czgifoucOnwJTZrLV4OA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">So many branches — Photo by <a class="ae kv" href="https://unsplash.com/@ronwhitaker?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Ron Whitaker</a> on <a class="ae kv" href="https://unsplash.com/s/photos/branch?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3283" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我开始我的职业生涯时，我总是害怕丢失我的代码更改。有时，我会将代码复制到文本文件中，以确保不会遗漏任何东西。</p><p id="c866" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这不是一个很好的实践。如果你知道如何正确使用git，你就不会有这些疑虑。</p><p id="2d3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Git拥有让你安全所需的一切。还有更多。</p><p id="ab5c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们开始吧。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="9fd0" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">1.检查一个新的分支</h2><p id="4dc2" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">显然，我必须为我开始的每个任务使用一个新的分支:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="a6ac" class="lz ma iq my b gy nc nd l ne nf">git checkout -b &lt;new_branch_name&gt;</span></pre><p id="d8a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该命令创建一个新分支，并自动将其设置为活动状态。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="e91a" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">2.选择文件进行提交</h2><p id="6d8f" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">这是我喜欢GUI的少数情况之一。在VS代码(或任何其他更好的IDE/文本编辑器)中，您可以很容易地看到更新的文件，并选择您想要包含在提交中的文件。</p><p id="096f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是如果您想使用CLI来完成:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="9048" class="lz ma iq my b gy nc nd l ne nf">git add .</span></pre><p id="ce54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此命令将转移所有已更改的文件。</p><p id="287b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想选择单个文件:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="ccc2" class="lz ma iq my b gy nc nd l ne nf">git add &lt;path/to/file&gt;</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="b5a7" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">3.做出承诺</h2><p id="7cd1" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">暂存一些文件后，您需要提交它们:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="d262" class="lz ma iq my b gy nc nd l ne nf">git commit -m "Some changes"</span></pre><p id="cb9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您打开了一些不允许您提交的预提交规则(如林挺)，您可以通过传递<code class="fe ng nh ni my b">--no-verify</code>标志来覆盖它们:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="2ff6" class="lz ma iq my b gy nc nd l ne nf">git commit -m "Some changes" --no-verify</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="40f6" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">4.还原所有更改</h2><p id="4754" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">有时候，我会尝试代码。过了一会儿，我意识到这不是一条正确的道路，我需要撤销我所有的更改。</p><p id="c7ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个简单的命令是:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="b37f" class="lz ma iq my b gy nc nd l ne nf">git reset --hard</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="c82c" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">5.查看最新提交</h2><p id="e6ac" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">通过键入以下命令，我可以很容易地看到我的分支上发生了什么:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="5146" class="lz ma iq my b gy nc nd l ne nf">git log</span></pre><p id="2bf3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我可以看到提交散列、消息、作者和日期。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="d5d0" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">6.从远程分支提取更改</h2><p id="9cb2" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">当我签出一个已经存在的分支(通常是<code class="fe ng nh ni my b">main</code>或<code class="fe ng nh ni my b">development</code>)时，我需要获取并合并最新的变更。</p><p id="38f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有一个简单的说法:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="dc28" class="lz ma iq my b gy nc nd l ne nf">git pull</span></pre><p id="e82f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时，如果您在一个新创建的分支中，您还需要指定源分支:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="5c8d" class="lz ma iq my b gy nc nd l ne nf">git pull origin/&lt;branch_name&gt;</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="722e" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">7.撤消本地未推送的提交</h2><p id="f404" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">我做了承诺。该死的。这里有点不对劲。我需要再做一个改变。</p><p id="9b45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不用担心:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="e5fc" class="lz ma iq my b gy nc nd l ne nf">git reset --soft HEAD~1</span></pre><p id="6507" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此命令将恢复您上次提交的内容，并保留您所做的更改。</p><p id="0d09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ng nh ni my b">HEAD~1</code>意味着你的脑袋指向了比当前更早的一次提交——这正是你想要的。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="a295" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">8.撤消推式提交</h2><p id="f556" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">我做了一些改变，并把它们推到远程。然后，我意识到这不是我想要的。</p><p id="1117" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，我使用:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="16fe" class="lz ma iq my b gy nc nd l ne nf">git revert &lt;commit_hash&gt;</span></pre><p id="e0de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，这将在您的提交历史中可见。</p><h2 id="ac28" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">9.隐藏我的更改</h2><p id="7087" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">我正在开发这个特性，我的队友让我进行紧急代码审查。</p><p id="14dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">显然，我不想丢弃我的更改，也不想提交它们。我不想创建一堆无意义的提交。</p><p id="f6fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我只想检查他的分公司，然后回到我的工作上。</p><p id="f714" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="4bf1" class="lz ma iq my b gy nc nd l ne nf">// stash your changes<br/>git stash</span><span id="8ef9" class="lz ma iq my b gy nj nd l ne nf">// check out and review your teammate's branch<br/>git checkout &lt;your_teammates_branch&gt;</span><span id="429f" class="lz ma iq my b gy nj nd l ne nf">... code reviewing</span><span id="1dd7" class="lz ma iq my b gy nj nd l ne nf">// check out your branch in progress<br/>git checkout &lt;your_branch&gt;</span><span id="eb31" class="lz ma iq my b gy nj nd l ne nf">// return the stashed changes<br/>git stash pop</span></pre><p id="ddec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ng nh ni my b">pop</code>这里似乎很熟悉？是的，这就像一个堆栈。</p><p id="d1c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也就是说，如果你连续做了两次<code class="fe ng nh ni my b">git stash</code>，中间没有<code class="fe ng nh ni my b">git stash pop</code>，它们会相互叠加。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="e1e2" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">10.将您的分支重置为远程版本</h2><p id="dd39" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">我搞砸了一些事情。一些失败的提交，一些失败的npm安装。</p><p id="6381" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">无论我做什么，我的部门都不再运转良好。</p><p id="fd63" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">远程版本工作正常。让我们把它变得一样！</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="1a98" class="lz ma iq my b gy nc nd l ne nf">git fetch origin<br/>git reset --hard origin/&lt;branch_name&gt;</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="87eb" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">11.从其他分支选取提交</h2><p id="2873" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">有时，我想应用来自其他分支的提交。为此，我使用:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="0589" class="lz ma iq my b gy nc nd l ne nf">git cherry-pick &lt;commit_hash&gt; </span></pre><p id="b49c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我想选择一个范围:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="92b4" class="lz ma iq my b gy nc nd l ne nf">git cherry-pick &lt;oldest_commit_hash&gt;^..&lt;newest_commit_hash&gt;</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="6dca" class="nk ma iq bd mb nl nm nn me no np nq mh jw nr jx mk jz ns ka mn kc nt kd mq nu bi translated">结论</h1><p id="c666" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">老实说，我并不是每天都使用所有这些命令，但是我确实经常使用它们。</p><p id="0068" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我更喜欢CLI，因为我们永远无法用GUI涵盖所有选项。</p><p id="44a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，您会发现大多数教程只使用CLI。如果你不熟悉它，你将很难理解它们。</p><p id="8e1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我在这里介绍了基础知识——但是无论你需要做什么——只要谷歌一下。</p><p id="729a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我确信你会很容易找到答案。</p><p id="8e69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nv">更多内容看</em><a class="ae kv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>