<html>
<head>
<title>Show A Loading Spinner In Nuxt.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Nuxt.js中显示一个加载微调器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/show-a-loading-spinner-in-nuxt-js-7a5ad0537ebf?source=collection_archive---------2-----------------------#2021-02-02">https://javascript.plainenglish.io/show-a-loading-spinner-in-nuxt-js-7a5ad0537ebf?source=collection_archive---------2-----------------------#2021-02-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="3c07" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好的，你在你的Nuxt应用程序中创建了一个奇妙的动画，它应该在加载后立即开始播放并操作主页的一些打开内容。然而，你的页面内容，在动画开始播放之前应该是隐藏的，现在已经显示出来了。然后它们就消失了，只是在你编程的时候才重新出现。天哪！😱太奇怪了！发生什么事了？</p><p id="5888" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">嗯，你可能应该显示一个微调屏幕，只要主页加载，它就会一直持续，这样你的JavaScript就可以有足够的时间来呈现你的精彩介绍场景。让我告诉你如何在一个Nuxt应用中做到这一点。</p><h1 id="29a6" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">利用Vue生命周期挂钩</h1><p id="620e" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated">Vue生命周期挂钩是在Vue对象生命周期的某个阶段执行的保留方法。从初始化开始到被销毁，对象经历了不同的生命阶段。下面是一个指示挂钩顺序的常用图表:</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ll"><img src="../Images/a09f15311841def8c09e7fceafcdd233.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*byyX8EW6mIhRsCBWwByNYg.png"/></div></div></figure><p id="c080" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如上图所示，Vue有多达8个生命周期挂钩，即:</p><ul class=""><li id="7845" class="lx ly in jm b jn jo jr js jv lz jz ma kd mb kh mc md me mf bi translated">创建前</li><li id="117d" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">创造</li><li id="4c52" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">安装前</li><li id="736b" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">安装好的</li><li id="c580" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">更新前</li><li id="5358" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">更新</li><li id="f3a9" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">销毁前</li><li id="d8f3" class="lx ly in jm b jn mg jr mh jv mi jz mj kd mk kh mc md me mf bi translated">破坏</li></ul><p id="54a9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，我们可以使用其中一个来简单地解决我们的问题。如果你能猜出，他们中的哪一个能帮助我们实现目标？是啊，你猜对了！<code class="fe ml mm mn mo b">beforeCreate()</code>😎</p><blockquote class="mp mq mr"><p id="4032" class="jk jl ms jm b jn jo jp jq jr js jt ju mt jw jx jy mu ka kb kc mv ke kf kg kh ig bi translated">如果你想了解更多关于Vue生命周期挂钩的知识，请查阅👉<a class="ae mw" href="https://vuejs.org/v2/guide/instance.html#Instance-Lifecycle-Hooks" rel="noopener ugc nofollow" target="_blank"> vue文档</a>。</p></blockquote><p id="ea6d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">实现逻辑很简单:</p><p id="667b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建一个组件，并随意命名。在我的例子中，我将它命名为<strong class="jm io"><em class="ms">load spinner . vue</em></strong>。该组件应该包含div元素和css代码，用于设置微调器的样式，如下面的代码片段所示。你可以在这里找到其他样品<a class="ae mw" href="https://csshint.com/css-spinners/" rel="noopener ugc nofollow" target="_blank">。</a></p><pre class="lm ln lo lp gt mx mo my mz aw na bi"><span id="fdc5" class="nb kj in mo b gy nc nd l ne nf">&lt;template&gt;<br/>  &lt;div class="splash-screen"&gt;<br/>    &lt;div class="spinner-wrapper"&gt;<br/>      &lt;div class="spinner"&gt;&lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>&lt;style scoped&gt;<br/>.splash-screen {<br/>   background: #f2f0ee;<br/>    width: 100vw;<br/>    height: 100vh;<br/>  position: fixed;<br/>  z-index: 50;    <br/>}<br/><br/>.spinner-wrapper {<br/>  position: absolute;<br/>  left: 50%;<br/>  top: 50%;<br/><br/>  transform: translate(-50%, -50%);<br/>}<br/>.spinner {<br/>  width: 80px;<br/>  height: 80px;<br/>  margin: 100px auto;<br/>  background-color: #e45447;<br/><br/>  border-radius: 100%;<br/>  -webkit-animation: sk-scaleout 1s infinite ease-in-out;<br/>  animation: sk-scaleout 1s infinite ease-in-out;<br/>}<br/><br/>@-webkit-keyframes sk-scaleout {<br/>  0% {<br/>    -webkit-transform: scale(0);<br/>  }<br/>  100% {<br/>    -webkit-transform: scale(1);<br/>    opacity: 0;<br/>  }<br/>}<br/><br/>@keyframes sk-scaleout {<br/>  0% {<br/>    -webkit-transform: scale(0);<br/>    transform: scale(0);<br/>  }<br/>  100% {<br/>    -webkit-transform: scale(1);<br/>    transform: scale(1);<br/>    opacity: 0;<br/>  }<br/>}<br/>&lt;/style&gt;</span></pre><p id="cbe2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">打开您的<strong class="jm io"> /layouts/default.vue </strong>文件，并将下面的代码片段粘贴到<code class="fe ml mm mn mo b">&lt;script&gt;</code>标记中。</p><pre class="lm ln lo lp gt mx mo my mz aw na bi"><span id="ec29" class="nb kj in mo b gy nc nd l ne nf">&lt;script&gt;<br/>export default {<br/>  beforeCreate() {<br/>    this.showHideSpinner = true;<br/>  },<br/>  mounted() {<br/>    this.showHideSpinner = false;<br/>  },<br/>  data() {<br/>    return {<br/>      showHideSpinner: true<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="949f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<code class="fe ml mm mn mo b">data()</code>方法中，我们初始化一个名为<code class="fe ml mm mn mo b">showHideSpinner</code>的变量，并将其值设置为<code class="fe ml mm mn mo b">true</code>。然后，在<code class="fe ml mm mn mo b">beforeCreate()</code>方法中，我们将<code class="fe ml mm mn mo b">this.showHideSpinner</code>设置为真。这意味着微调器最初将是可见的，并继续显示，直到调用<code class="fe ml mm mn mo b">mounted()</code>挂钩，此时<code class="fe ml mm mn mo b">this.showHideSpinner</code>的值变为<code class="fe ml mm mn mo b">false</code>，微调器消失。</p><p id="a847" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们已经准备好了脚本，让我们插入组件并传入<code class="fe ml mm mn mo b">v-if="showHideSpinner"</code>。将以下代码粘贴为容器div的第一个子级。</p><p id="08c7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">/布局/默认. vue </strong></p><pre class="lm ln lo lp gt mx mo my mz aw na bi"><span id="078d" class="nb kj in mo b gy nc nd l ne nf">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;LoadSpinner v-if="showHideSpinner" /&gt;<br/>    <br/>    //...<br/>    <br/>    &lt;Nuxt /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="edcb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在你知道了！享受你剩下的一天。✌</p><h1 id="99fe" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">结论</h1><p id="a387" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated">需要注意的重要一点是，vue生命周期挂钩是一个非常强大的工具，我们可以用它来以一种更简单、更容易的方式解决问题。闪屏(可以这么说)是你可以用Vue生命周期钩子做的许多不可思议的事情之一。</p></div></div>    
</body>
</html>