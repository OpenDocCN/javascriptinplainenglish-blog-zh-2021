<html>
<head>
<title>Highlights of JavaScript — Dates and Rounding</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript的亮点—日期和舍入</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/highlights-of-javascript-dates-and-rounding-2bd7adfb70b3?source=collection_archive---------15-----------------------#2021-01-17">https://javascript.plainenglish.io/highlights-of-javascript-dates-and-rounding-2bd7adfb70b3?source=collection_archive---------15-----------------------#2021-01-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d8c376c334874ccb57b7e284e6e7a5c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EGQpqCAoiUI-MNpY"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@broadcast21?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mark Gosling</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a07f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">学习JavaScript，必须先学基础。</p><p id="bf86" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究JavaScript语言的最基本部分。</p><h1 id="a3e6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">控制小数的长度</h1><p id="d451" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用<code class="fe me mf mg mh b">toFixed</code>方法来控制小数的长度。</p><p id="d4ef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="94b8" class="mq lc iq mh b gy mr ms l mt mu">let total = (8.8888).toFixed(2);</span></pre><p id="26d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">total</code>就是<code class="fe me mf mg mh b">'8.89'</code>。<code class="fe me mf mg mh b">toFixed</code>获取要舍入的位数，并返回带有舍入数字的字符串。</p><p id="6b87" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果小数以5结尾，通常会向上取整。</p><p id="9e55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是有些浏览器可能会向下舍入。</p><h1 id="c34f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">获取当前日期和时间</h1><p id="435b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了获得当前的日期和时间，我们可以用<code class="fe me mf mg mh b">new Date()</code>创建一个新的<code class="fe me mf mg mh b">Date</code>实例。</p><p id="4bc7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以通过编写以下代码将<code class="fe me mf mg mh b">Date</code>实例转换为字符串:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="72fa" class="mq lc iq mh b gy mr ms l mt mu">let now = new Date();<br/>let dateString = now.toString();</span></pre><p id="e7e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了得到星期几，我们调用<code class="fe me mf mg mh b">getDay</code>方法:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7142" class="mq lc iq mh b gy mr ms l mt mu">let now = new Date();<br/>let day = now.getDay();</span></pre><p id="0a87" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回一个从0到6的数字，0表示星期天，6表示星期六。</p><p id="7503" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想显示一个更容易阅读的日期，我们可以这样写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ca2b" class="mq lc iq mh b gy mr ms l mt mu">let dayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]<br/>let now = new Date();<br/>let day = now.getDay();<br/>let dayName = dayNames[day];</span></pre><p id="db0e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">day</code>作为<code class="fe me mf mg mh b">dayNames</code>的索引，得到英文版的星期几。</p><h1 id="435c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">提取部分日期和时间</h1><p id="a7bd" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">Date</code>实例带有各种方法来获取日期和时间的不同部分。</p><p id="37fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getMonth</code>返回日期中从0到11的月份，其中0表示一月，11表示十二月。</p><p id="a828" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getDate</code>给出本月日期的数字。</p><p id="34ef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getFullYear</code>返回年份的4位数版本。</p><p id="e995" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getHours</code>给出了一个从0到23的数字，对应于午夜和晚上11点。</p><p id="2fff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getMinutes</code>返回0到59之间的小时分钟数。</p><p id="28b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getSeconds</code>返回0到59之间的分钟秒数。</p><p id="3f45" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且<code class="fe me mf mg mh b">getMilliseconds</code>返回一个从0到999的数字。</p><p id="b702" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getTime</code>给出自1970年1月1日午夜UTC以来经过的毫秒数。</p><p id="0a72" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以从一个日期实例中调用它们。例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ab10" class="mq lc iq mh b gy mr ms l mt mu">let now = new Date();<br/>let day = now.<!-- -->getMilliseconds<!-- -->();</span></pre><h1 id="2341" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">指定日期和时间</h1><p id="c287" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">Date</code>构造函数指定日期和时间。</p><p id="c28d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要返回当前日期和时间，我们写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b7e6" class="mq lc iq mh b gy mr ms l mt mu">let today = new Date();</span></pre><p id="7e5e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过减去两个日期之间的时间戳来计算天数差:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0c2a" class="mq lc iq mh b gy mr ms l mt mu">let msToday = new Date().getTime();<br/>let msAnotherDay = new Date(2029, 1, 1).getTime()<br/>let msDiff = msAnotherDay - msToday;</span></pre><p id="3780" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后为了得到天数差，我们可以写出:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a21f" class="mq lc iq mh b gy mr ms l mt mu">let daysDiff = msDiff / (1000 * 60 * 60 * 24);</span></pre><p id="810b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想将天数返回到整数，我们用<code class="fe me mf mg mh b">Math.floor</code>向下舍入:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d3fe" class="mq lc iq mh b gy mr ms l mt mu">daysDiff = Math.floor(daysDiff);</span></pre><h1 id="c796" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="4d41" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用时间戳来计算日期之间的差异。</p><p id="249b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以用<code class="fe me mf mg mh b">toFixed</code>将数字四舍五入到给定的小数位数。</p><p id="ecf9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>