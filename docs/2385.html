<html>
<head>
<title>Introduction to React Hooks — useState</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React挂钩简介—使用状态</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/introduction-to-react-hooks-usestate-f39c6743a484?source=collection_archive---------22-----------------------#2021-05-17">https://javascript.plainenglish.io/introduction-to-react-hooks-usestate-f39c6743a484?source=collection_archive---------22-----------------------#2021-05-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="c511" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">React钩子的基础——使用状态钩子</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b0d7981652ddfa6eb49ecaccd0f89bc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eg5cQKJnw7j_Xcsq12HhfA.png"/></div></div></figure><blockquote class="ko kp kq"><p id="57ae" class="kr ks kt ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在<!-- -->这个故事中，我们将讲述React钩子的所有<strong class="ku io">基础知识，并了解名为<strong class="ku io"> useState()的内置React钩子。</strong></strong></p></blockquote><h1 id="b911" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">先决条件—</h1><p id="25da" class="pw-post-body-paragraph kr ks in ku b kv mg jo kx ky mh jr la mi mj ld le mk ml lh li mm mn ll lm ln ig bi translated">你应该知道HTML的<strong class="ku io">基础，Javascript，</strong> <strong class="ku io">什么是React </strong>和<strong class="ku io">它是如何工作的</strong>。</p><p id="2d31" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mi lc ld le mk lg lh li mm lk ll lm ln ig bi translated">如果你满足了这些先决条件，那么你就<strong class="ku io">准备好了</strong>。</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><h1 id="0be6" class="lo lp in bd lq lr mv lt lu lv mw lx ly jt mx ju ma jw my jx mc jz mz ka me mf bi translated">什么是React Hooks？</h1><ul class=""><li id="be66" class="na nb in ku b kv mg ky mh mi nc mk nd mm ne ln nf ng nh ni bi translated">React钩子是在<strong class="ku io"> React 16.8 </strong>中引入的。</li><li id="06ab" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln nf ng nh ni bi translated">React钩子基本上是让你处理web应用程序的状态的函数，它们让你不用写类就可以轻松地使用React的其他特性，比如componenDidMount() 、<strong class="ku io">componendiddupdate()</strong>。</li><li id="cdd9" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln nf ng nh ni bi translated">您只能在<strong class="ku io">功能组件</strong>中使用React钩子，而不能在类定义的组件中使用。</li><li id="fe53" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln nf ng nh ni bi translated">简而言之，我们可以将React挂钩定义为<strong class="ku io">功能，让您<em class="kt">“挂钩”</em> React来自功能组件</strong>的状态和生命周期特性。</li><li id="2d91" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln nf ng nh ni bi translated">有许多类型的内置React挂钩——</li></ul><h2 id="2417" class="no lp in bd lq np nq dn lu nr ns dp ly mi nt nu ma mk nv nw mc mm nx ny me nz bi translated">基本挂钩</h2><ol class=""><li id="3ec7" class="na nb in ku b kv mg ky mh mi nc mk nd mm ne ln oa ng nh ni bi translated"><strong class="ku io">使用状态()</strong></li><li id="e43a" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated"><strong class="ku io"> useEffect() </strong></li><li id="96af" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated"><strong class="ku io">使用上下文()</strong></li></ol><h2 id="9e95" class="no lp in bd lq np nq dn lu nr ns dp ly mi nt nu ma mk nv nw mc mm nx ny me nz bi translated">附加挂钩</h2><ol class=""><li id="ed54" class="na nb in ku b kv mg ky mh mi nc mk nd mm ne ln oa ng nh ni bi translated"><strong class="ku io"> useReducer() </strong></li><li id="28de" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated"><strong class="ku io"> useRef() </strong></li><li id="3355" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated"><strong class="ku io"> useCallback() </strong></li><li id="e3da" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated"><strong class="ku io">使用备忘录()</strong></li></ol><p id="a6b0" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mi lc ld le mk lg lh li mm lk ll lm ln ig bi translated">还有其他一些附加的React挂钩，但这些对于基础来说已经足够了。</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><h1 id="7a2c" class="lo lp in bd lq lr mv lt lu lv mw lx ly jt mx ju ma jw my jx mc jz mz ka me mf bi translated">什么是使用状态？</h1><ul class=""><li id="f1a8" class="na nb in ku b kv mg ky mh mi nc mk nd mm ne ln nf ng nh ni bi translated">useState是最常见和最常用的React挂钩之一。</li><li id="2884" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln nf ng nh ni bi translated">useState用作特定组件的<strong class="ku io">状态管理挂钩</strong>。</li><li id="d71f" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln nf ng nh ni bi translated">useState钩子用于<strong class="ku io">处理我们组件的状态</strong>。</li><li id="bb05" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln nf ng nh ni bi translated">useState允许我们简单方便地<strong class="ku io">创建</strong>和<strong class="ku io">处理</strong> <strong class="ku io">状态变量</strong>。</li><li id="abe5" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln nf ng nh ni bi translated">在使用状态中，我们设置状态变量的<strong class="ku io">初始状态</strong>，并使用<strong class="ku io">使用状态定义函数</strong>将该状态变量的状态从<strong class="ku io">初始状态</strong>更改为<strong class="ku io">当前状态</strong>。</li><li id="322a" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln nf ng nh ni bi translated">我们只能在<strong class="ku io">功能组件中使用<strong class="ku io">使用状态</strong>，不能在<strong class="ku io">基于类的组件</strong>中使用</strong>。</li><li id="20aa" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln nf ng nh ni bi translated">useState与React <strong class="ku io">基于类的组件</strong>中的<code class="fe ob oc od oe b"><strong class="ku io">this.state</strong></code>和<code class="fe ob oc od oe b"><strong class="ku io">this.setState</strong></code>相同。</li><li id="5623" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln nf ng nh ni bi translated">不要担心，如果你没有正确理解state和useState，一旦你通过一个代码示例理解它，它就会在你的脑海中完全清晰。</li></ul></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><h1 id="b3f3" class="lo lp in bd lq lr mv lt lu lv mw lx ly jt mx ju ma jw my jx mc jz mz ka me mf bi translated">使用状态的代码示例—</h1><p id="670e" class="pw-post-body-paragraph kr ks in ku b kv mg jo kx ky mh jr la mi mj ld le mk ml lh li mm mn ll lm ln ig bi translated">在本节中，我将使用<strong class="ku io"> useState </strong>钩子创建一个简单的<strong class="ku io">计数器</strong>，这样您就可以很容易地理解useState如何工作以及何时使用它。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi of"><img src="../Images/65ed3f55707b30ec05a2c7ce42c2da8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/1*MF4pGpkaCXv24phXFQXgsQ.gif"/></div><figcaption class="og oh gj gh gi oi oj bd b be z dk"><strong class="bd ok">This is what we are going to make</strong></figcaption></figure><ul class=""><li id="9126" class="na nb in ku b kv kw ky kz mi ol mk om mm on ln nf ng nh ni bi translated"><strong class="ku io">代码— </strong></li></ul><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oo op l"/></div></figure><ul class=""><li id="7d2e" class="na nb in ku b kv kw ky kz mi ol mk om mm on ln nf ng nh ni bi translated"><strong class="ku io">代码解释— </strong></li></ul><ol class=""><li id="2fb4" class="na nb in ku b kv kw ky kz mi ol mk om mm on ln oa ng nh ni bi translated">在这段代码中，我们从<code class="fe ob oc od oe b"><strong class="ku io">‘react’</strong></code>导入了<code class="fe ob oc od oe b"><strong class="ku io">useState</strong></code>钩子。</li><li id="8e66" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated">之后，我们将在App.js文件中创建一个名为<code class="fe ob oc od oe b"><strong class="ku io">App</strong></code>的功能组件。</li><li id="96e9" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated">在功能组件中，我们将创建名为<code class="fe ob oc od oe b"><strong class="ku io">count</strong></code> <strong class="ku io"> </strong>状态变量，并使用名为<code class="fe ob oc od oe b"><strong class="ku io">setCount</strong></code>的状态函数。</li><li id="89ee" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated">在这段代码的第<strong class="ku io">6</strong>行，我们使用了useState钩子，在其中我们创建了一个名为<code class="fe ob oc od oe b"><strong class="ku io">count </strong></code>的状态变量，为了改变这个计数的状态，我们创建了一个名为<code class="fe ob oc od oe b"><strong class="ku io">setCount</strong></code>的函数。</li><li id="6a0d" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated">这里用<code class="fe ob oc od oe b"><strong class="ku io">useState(0)</strong></code> 0表示<code class="fe ob oc od oe b"><strong class="ku io">count </strong></code>状态变量的初始状态。所以一开始当我们的App组件加载<code class="fe ob oc od oe b"><strong class="ku io">count</strong></code> <strong class="ku io"> </strong>状态变量的值会是0。并且使用<code class="fe ob oc od oe b"><strong class="ku io">setCount</strong></code>方法我们将能够改变<code class="fe ob oc od oe b"><strong class="ku io">count </strong></code>状态变量的值。</li><li id="6b39" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated">现在我们已经创建了一个名为<code class="fe ob oc od oe b"><strong class="ku io">decreament</strong></code>的方法，每当我们点击<strong class="ku io"> <em class="kt"> (decrement -) </em> </strong>按钮时，它会将状态变量<code class="fe ob oc od oe b"><strong class="ku io">count </strong></code>的值减1。基本上，该方法的作用是使用<code class="fe ob oc od oe b"><strong class="ku io">setCount</strong></code>方法将<code class="fe ob oc od oe b"><strong class="ku io">count</strong></code>变量的状态设置为<code class="fe ob oc od oe b"><strong class="ku io">count-1</strong></code>。</li><li id="9aa6" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated">现在我们已经创建了一个名为<code class="fe ob oc od oe b"><strong class="ku io">increament</strong></code>的方法，每当我们单击<strong class="ku io"> <em class="kt"> (increment +) </em> </strong>按钮时，该方法会将状态变量<code class="fe ob oc od oe b"><strong class="ku io">count </strong></code>的值递增1。基本上这个方法所做的就是使用<code class="fe ob oc od oe b"><strong class="ku io">setCount</strong></code>方法将<code class="fe ob oc od oe b"><strong class="ku io">count</strong></code>变量的状态设置为<code class="fe ob oc od oe b"><strong class="ku io">count+1</strong></code>。</li><li id="5706" class="na nb in ku b kv nj ky nk mi nl mk nm mm nn ln oa ng nh ni bi translated">在这段代码的<code class="fe ob oc od oe b"><strong class="ku io">return</strong></code> <strong class="ku io"> </strong>部分是不言自明的，在<em class="kt">(</em><strong class="ku io"><em class="kt">【increment+)</em></strong><em class="kt"/>按钮中我们已经传递了<code class="fe ob oc od oe b"><strong class="ku io">onClick</strong></code> <strong class="ku io"> </strong>事件中的<code class="fe ob oc od oe b"><strong class="ku io">increament</strong></code> <strong class="ku io"> </strong>方法，在<strong class="ku io"> <em class="kt"> (decrement-) </em> </strong>按钮中我们已经传递了<code class="fe ob oc od oe b"><strong class="ku io">decreament</strong></code>方法。</li></ol></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><p id="d247" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mi lc ld le mk lg lh li mm lk ll lm ln ig bi translated"><em class="kt">还可以将状态变量和useState函数(</em> <strong class="ku io"> <em class="kt"> setCount在此代码中为</em> </strong> <em class="kt">)作为道具传递给其他组件。因此，您也可以从子组件中更改或设置父组件的状态。</em></p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><h1 id="89c1" class="lo lp in bd lq lr mv lt lu lv mw lx ly jt mx ju ma jw my jx mc jz mz ka me mf bi translated">结论</h1><p id="53de" class="pw-post-body-paragraph kr ks in ku b kv mg jo kx ky mh jr la mi mj ld le mk ml lh li mm mn ll lm ln ig bi translated">因此，在本文中，我们已经介绍了React钩子的基础知识，什么是useState钩子，它是如何工作的，和<strong class="ku io">如何实现它</strong>。</p><p id="47b3" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mi lc ld le mk lg lh li mm lk ll lm ln ig bi translated">希望你们喜欢阅读和学习。</p><p id="5a90" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mi lc ld le mk lg lh li mm lk ll lm ln ig bi translated">如果你喜欢这篇文章，请留下掌声并与他人分享，这样他们也可以从中学习。</p><p id="13a1" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la mi lc ld le mk lg lh li mm lk ll lm ln ig bi translated"><em class="kt">更多内容请看</em><a class="ae oq" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="kt">plain English . io</em></a></p></div></div>    
</body>
</html>