<html>
<head>
<title>How to Use React to Make Your Images Responsive</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用React使您的图像具有响应性</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/use-react-to-make-your-images-responsive-a5e6791f19f0?source=collection_archive---------15-----------------------#2021-04-19">https://javascript.plainenglish.io/use-react-to-make-your-images-responsive-a5e6791f19f0?source=collection_archive---------15-----------------------#2021-04-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/48ae537adf33069a01789dfdc03e8949.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vBSRcYhInJakKedQbdpOGQ.png"/></div></div></figure><p id="6bc3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最近，我和一个客户一起工作，他想提高他们网站的性能。他们是一个交换加密货币的平台，他们的界面加载时间太长，导致用户体验不佳。</p><figure class="kt ku kv kw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/373b265440275b15406c67917091bb66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aYTn-bRuI36x5aMaTsDqYQ.png"/></div></div></figure><p id="220b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我做的第一件事是使用<strong class="jx io"> Lighthouse进行评估。</strong>设置<a class="ae kx" href="https://developers.google.com/web/tools/lighthouse" rel="noopener ugc nofollow" target="_blank">非常简单</a>，他们提供的报告也非常有用。以上是客户网站的初始分数。</p><p id="d64c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如你所见，不是特别好。我开始思考我可以改进的地方，并注意到他们调整图片大小的方式。它们都很大！甚至只需要在桌面上渲染成200像素宽的图像也来自1000像素的源图像。</p><p id="a6da" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在某种程度上，这是有道理的。浏览器可以自动调整图像大小，因此存储高质量的文件可以确保图像在缩小时不会模糊或失真。</p><p id="624b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是，浏览器有选择地调整页面上每个图像的大小也需要时间。这个时间加起来会延迟页面的初始呈现。那么有什么更好的选择呢？</p><h1 id="b086" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated"><strong class="ak">解决方案:带有“srcSet”的响应式图像</strong></h1><p id="64a0" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">这是一个非常有用的HTML属性，我很惊讶之前没有教过它。使用<code class="fe mb mc md me b">srcSet</code>可以为同一幅图像提供多种尺寸，并根据显示器的尺寸提示浏览器哪幅图像最合适。它真的可以加速页面的初始渲染。</p><p id="9edb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是一个为图像提供常规<code class="fe mb mc md me b">src</code>属性的示例:</p><pre class="kt ku kv kw gt mf me mg mh aw mi bi"><span id="e788" class="mj kz in me b gy mk ml l mm mn">&lt;img</span><span id="c609" class="mj kz in me b gy mo ml l mm mn">  src={image}</span><span id="8077" class="mj kz in me b gy mo ml l mm mn">  alt="My Image"</span><span id="b543" class="mj kz in me b gy mo ml l mm mn">/&gt;</span></pre><p id="7aae" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">以下是srcSet的一个示例:</p><pre class="kt ku kv kw gt mf me mg mh aw mi bi"><span id="3705" class="mj kz in me b gy mk ml l mm mn">&lt;img</span><span id="ea4a" class="mj kz in me b gy mo ml l mm mn">  srcSet={`${imageSmall} 320w, ${imageMedium} 680w, ${imageLarge}   960w, ${imageXLarge} 1980w`}</span><span id="22ac" class="mj kz in me b gy mo ml l mm mn">  src={imageXLarge}</span><span id="f520" class="mj kz in me b gy mo ml l mm mn">  alt="My Image"</span><span id="db2c" class="mj kz in me b gy mo ml l mm mn">/&gt;</span></pre><p id="94ae" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">正如您所看到的，提供一个<code class="fe mb mc md me b">srcSet</code>意味着编写更多的代码，但是它实际上很容易理解。如果您再次查看<code class="fe mb mc md me b">srcSet</code>代码，您可以看到发生了什么。</p><p id="4f8f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">图像有四个版本:a <strong class="jx io">小</strong>(image small)<strong class="jx io">中</strong>(image medium)<strong class="jx io">大</strong>(image large)<strong class="jx io">特大</strong> (imageXLarge)。</p><p id="6a68" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">每个图像旁边都有一个对其大小的引用。<strong class="jx io"> 320w </strong>表示该图像的宽度为320像素，以此类推。这使得浏览器更容易找到要使用的图像版本，而不是自己调整它们的大小。它可以大大节省时间。</p><h1 id="b25e" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">调整图像大小</h1><p id="7b7e" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">为了正确使用<code class="fe mb mc md me b">srcSet</code>属性，您需要为每张图片提供不同的版本。这个过程需要一点时间，但是性能优势是值得的。</p><p id="dbce" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我喜欢使用这篇文章中的图表来决定包含哪些图像尺寸。我还使用了<a class="ae kx" href="https://www.iloveimg.com/" rel="noopener ugc nofollow" target="_blank">这个</a>图像转换器，它根据像素宽度生成图像的多个版本。</p><p id="76d7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">虽然设置需要一些时间，但是<code class="fe mb mc md me b">srcSet</code>属性在幕后做了很多工作来帮助React站点的性能。</p><p id="964c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">就是这样！希望你能充分利用这篇文章。</p><p id="8b3a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mp">更多内容尽在</em><a class="ae kx" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mp">plain English . io</em></a></p></div></div>    
</body>
</html>