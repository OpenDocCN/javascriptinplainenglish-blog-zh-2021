<html>
<head>
<title>Angular *ngFor and *ngIf Directives</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular *ngFor和*ngIf指令</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/angular-ngfor-and-ngif-directives-30a97051554b?source=collection_archive---------10-----------------------#2021-09-11">https://javascript.plainenglish.io/angular-ngfor-and-ngif-directives-30a97051554b?source=collection_archive---------10-----------------------#2021-09-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="98b8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">ngIf和*ngFor可以帮助你保持角度代码的整洁、简单和有效。那么，让我们来了解一下*ngFor和*ngIf是怎么一回事。</h2></div><h1 id="3014" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">*ngFor是什么？</h1><p id="436a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">先说*ngFor。使用*ngFor指令遍历数组对象并在UI中显示数据。</p><p id="cc31" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">让我举一个例子来说明它是如何工作的:</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="2659" class="mh kg iq md b gy mi mj l mk ml">import { Component } from '@angular/core';<br/><br/>@Component({<br/>  selector: 'app-root',<br/>  templateUrl: './app.component.html',<br/>  styleUrls: ['./app.component.css']<br/>})<br/>export class AppComponent {<br/>  title = 'angular-project';<br/>  friendslist = [<br/>    {<br/>      name: 'Nishant',<br/>      age: 25<br/>    },<br/>    {<br/>      name: 'Shailesh',<br/>      age: 45<br/>    },<br/>    {<br/>      name: 'Abhishek',<br/>      age: 36<br/>    },<br/>    {<br/>      name: 'Akshay',<br/>      age: 65<br/>    },<br/>    {<br/>      name: 'Ashish',<br/>      age: 12<br/>    },<br/>    {<br/>      name: 'Uday',<br/>      age: 31<br/>    },<br/>    {<br/>      name: 'Mayank',<br/>      age: 45<br/>    },<br/>    {<br/>      name: 'Raju',<br/>      age: 74<br/>    },<br/>  ]<br/><br/>}</span></pre><p id="10cc" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">我这里有一个包含人们姓名和年龄的对象数组。</p><p id="d3ec" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">现在，我们将使用*ngFor在界面中显示这些名称。</p><p id="ccab" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">首先，创建一个无序列表标签，并在其中创建一个列表标签，如下所示:</p><p id="e978" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><code class="fe mm mn mo md b">&lt;ul&gt; &lt;li&gt; &lt;/li&gt; &lt;/ul&gt;</code></p><p id="c2b9" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">无序列表</p><p id="4262" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">然后，我们将在列表标签中使用*ngFor，就像下面的例子一样:</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="cace" class="mh kg iq md b gy mi mj l mk ml">&lt;ul&gt;<br/>  &lt;li *ngFor="let item of friendslist"&gt;<br/>	The name and age is here<br/>  &lt;/li&gt;<br/>&lt;/ul&gt;</span></pre><p id="c550" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">在这个例子中，我们使用<code class="fe mm mn mo md b">friendlist</code> <strong class="kz ir"> </strong>数组的<code class="fe mm mn mo md b">let</code>关键字创建一个条目。它将遍历数组中的每个项目，并打印出项目名称和项目年龄，或者数组对象中的任何其他对象键。</p><figure class="ly lz ma mb gt mq gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/8ab0e848aaf60a1adb926c4cfa4c4050.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/0*AgmU9z0Jb41j3BMd.png"/></div></figure><p id="3934" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">保存时，您将看到上面的输出。这是因为数组中有8个元素。所以我们在列表标签中有8个项目。但它是静态数据，我们就改成动态吧。</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="3302" class="mh kg iq md b gy mi mj l mk ml">&lt;ul&gt;<br/>  &lt;li *ngFor="let item of friendslist"&gt;<br/>    {{ item.name }} {{ item.age }}<br/>  &lt;/li&gt;<br/>&lt;/ul&gt;</span></pre><p id="902e" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">这里，我们在两个花括号中使用了<code class="fe mm mn mo md b">item.name</code>和<code class="fe mm mn mo md b">item.age</code>。这叫做插值，这就是我们在HTML模板中显示数据的方式。</p><p id="6d5a" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">保存文件，您将看到以下内容:</p><figure class="ly lz ma mb gt mq gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/5698baca1c9d8a7753dbc83bf39229f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/0*viZfCZd1UuDjMcSA.png"/></div></figure><p id="bd0a" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">我们也可以这样做:</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="be56" class="mh kg iq md b gy mi mj l mk ml">&lt;ul&gt;<br/>  &lt;li *ngFor="let item of friendslist"&gt;<br/>    {{ item.name }} is {{ item.age }} years old<br/>  &lt;/li&gt;<br/>&lt;/ul&gt;</span></pre><p id="62ea" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">因此，在本例中，我们以不同的格式显示列表。如果保存，您将看到以下输出:</p><figure class="ly lz ma mb gt mq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/71415b00ebd1775824e54fcba265134e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/0*ERjh0QK7xXKZUfMd.png"/></div></figure><h1 id="ce95" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">什么是*ngIf？</h1><p id="c6d1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">您可以在Angular中使用*ngIf指令来根据某些条件显示某些数据或项目。</p><p id="3ccf" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">假设我们正在调用一个API。当应用程序从API获取数据时，我们显示一些消息，说明数据正在加载，因为这可能需要一些时间，具体取决于服务器。当API调用完成时，我们显示数据。</p><p id="3641" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">在这种情况下，我们可以使用*ngIf。</p><p id="21d0" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">让我举一个例子来说明这是如何工作的:</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="a08f" class="mh kg iq md b gy mi mj l mk ml">&lt;ul&gt;<br/>  &lt;li *ngFor="let item of friendslist"&gt;<br/>    {{ item.name }} is {{ item.age }} years old<br/>  &lt;/li&gt;<br/>&lt;/ul&gt;</span></pre><p id="87fd" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">这里，我们显示了模板中的数组数据。</p><figure class="ly lz ma mb gt mq gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/4eb4e8121fffccf7d3a3226630f1236b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/0*KfJmKUiIE45IspCX.png"/></div></figure><p id="79a9" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">现在，让我们创建一个按钮，并给它一个标题<em class="mv">点击隐藏列表。</em></p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="2fcb" class="mh kg iq md b gy mi mj l mk ml">&lt;ul&gt;<br/>  &lt;li *ngFor="let item of friendslist"&gt;<br/>    {{ item.name }} is {{ item.age }} years old<br/>  &lt;/li&gt;<br/>&lt;/ul&gt;<br/><br/>&lt;button&gt;<br/>  Click to Hide List<br/>&lt;/button&gt;</span></pre><p id="affe" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">现在，在TypeScript文件中，创建一个名为<code class="fe mm mn mo md b">isVisible</code>的布尔变量:</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="4c17" class="mh kg iq md b gy mi mj l mk ml">isVisible: boolean = true;</span></pre><p id="b8e8" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">最初，isVisible的值为true。此外，创建一个名为<code class="fe mm mn mo md b">hideList()</code>的函数，如果被触发，它会将<code class="fe mm mn mo md b">isVisible</code>的值更改为false。</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="ba45" class="mh kg iq md b gy mi mj l mk ml">hideList(){<br/>    this.isVisible = false;<br/>}</span></pre><p id="81cf" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">单击我们创建的按钮，我们将运行此功能:</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="71eb" class="mh kg iq md b gy mi mj l mk ml">&lt;button (click)="hideList()"&gt;<br/>  Click to Hide List<br/>&lt;/button&gt;</span></pre><p id="e9fc" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">所以，每次点击按钮，这个函数都会运行。这将使<code class="fe mm mn mo md b">hideList</code>的值从真变为假。</p><p id="2574" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">现在，让我们使用*ngIf来显示当<code class="fe mm mn mo md b">isVisible</code>为真时我们的数组列表。</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="0fc3" class="mh kg iq md b gy mi mj l mk ml">&lt;ul *ngIf="isVisible"&gt;<br/>  &lt;li *ngFor="let item of friendslist"&gt;<br/>    {{ item.name }} is {{ item.age }} years old<br/>  &lt;/li&gt;<br/>&lt;/ul&gt;<br/><br/>&lt;button (click)="hideList()"&gt;<br/>  Click to Hide List<br/>&lt;/button&gt;</span></pre><p id="8850" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">如果您单击“隐藏列表”按钮，列表将会隐藏，您将只能看到该按钮。</p><p id="6bc7" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">我们还可以将该值更改为如下形式:</p><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="79c7" class="mh kg iq md b gy mi mj l mk ml">hideList(){<br/>    this.isVisible = !this.isVisible;<br/>}</span></pre><p id="50b8" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">所以，如果值为true，它将变为false。如果值为false，它将变为true。换句话说，该功能将切换<code class="fe mm mn mo md b">isVisible</code>的值。</p><figure class="ly lz ma mb gt mq gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/b21ac9a8151745e916a3724141e39f23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/0*E9gFwZddirXPMyHy.png"/></div></figure><figure class="ly lz ma mb gt mq gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/1967093d87e116b198ff0c8535179665.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/0*hWnD6bI0dQeMW8oH.png"/></div></figure><h1 id="28f4" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">结论</h1><p id="538a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">恭喜你！现在我们已经学会了如何在Angular中使用*ngFor和*ngIf。</p><p id="7ab4" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><em class="mv">更多内容尽在</em> <a class="ae my" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz ir"> <em class="mv">说白了. io </em> </strong> </a> <em class="mv">。报名参加我们的</em> <a class="ae my" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz ir"> <em class="mv">免费周报</em> </strong> </a> <em class="mv">。关注我们关于</em> <a class="ae my" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kz ir"> <em class="mv">推特</em> </strong> </a>，<a class="ae my" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir"><em class="mv">LinkedIn</em></strong></a><em class="mv">，</em><a class="ae my" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir"><em class="mv">YouTube</em></strong></a><em class="mv">，</em> <a class="ae my" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kz ir"> <em class="mv">不和</em> </strong> </a> <strong class="kz ir"> <em class="mv">。</em>T50】</strong></p><p id="4d6d" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><strong class="kz ir"> <em class="mv">对缩放您的软件启动感兴趣</em> </strong> <em class="mv">？检查</em> <a class="ae my" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="kz ir"> <em class="mv">电路</em> </strong> </a> <em class="mv">。</em></p></div></div>    
</body>
</html>