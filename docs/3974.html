<html>
<head>
<title>Let’s Design a Personalized Clock Website using p5.js — JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们用P5 . js——JavaScript设计一个个性化的时钟网站</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-design-a-personalized-clock-website-using-p5-js-javascript-8b28f326d53a?source=collection_archive---------14-----------------------#2021-08-09">https://javascript.plainenglish.io/lets-design-a-personalized-clock-website-using-p5-js-javascript-8b28f326d53a?source=collection_archive---------14-----------------------#2021-08-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a2b1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">带视频演示的分步指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/aa11227eb73f7683344858e7cc73aac0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pmUH9Dc_O_fp2XB9lgHrCg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://www.pexels.com/@karolina-grabowska?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Karolina Grabowska</a> from <a class="ae kv" href="https://www.pexels.com/photo/food-wood-dawn-dinner-5877662/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="2e66" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将向您展示如何使用JavaScript设计一个可定制的个性化时钟网站。对于开始使用p5.js库来说，这是一个很好的入门项目。这里有一个我如何来到这里的小背景故事:</p><p id="e62a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我是一名程序员，碰巧也热爱摄影和艺术。在网上呆了一段时间，并研究了一些可以将编程与艺术相结合的项目后，我发现了这个领域叫做:“生成艺术”。然后，我买了几本书开始。有多个库可以用来创建艺术，其中最强大的一个是<em class="ls"> p5.js </em>，这是一个JavaScript库。我决定从这个p5.js开始，因为JavaScript是我已经熟悉的语言。这些设计可以很容易地在网络项目中展示。</p><p id="70db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我在这里，写一篇如何用p5.js设计时钟的文章，谁不喜欢看着好玩的时钟呢。让我们开始建造一个。</p><h2 id="f34e" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">目录</h2><ul class=""><li id="3fe5" class="mm mn iq ky b kz mo lc mp lf mq lj mr ln ms lr mt mu mv mw bi translated">入门指南</li><li id="5a0e" class="mm mn iq ky b kz mx lc my lf mz lj na ln nb lr mt mu mv mw bi translated">编码部分</li><li id="092b" class="mm mn iq ky b kz mx lc my lf mz lj na ln nb lr mt mu mv mw bi translated">视频演示</li><li id="ae94" class="mm mn iq ky b kz mx lc my lf mz lj na ln nb lr mt mu mv mw bi translated">结论</li></ul><p id="f902" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">这里有一张截图，让你对最终效果有所了解:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/6f92eb24f4e1087332dd560bd8c7c774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ccoP3jwdgfpz-Q0fM7sriA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">image by author</figcaption></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="e2ca" class="nk lu iq bd lv nl nm nn ly no np nq mb jw nr jx me jz ns ka mh kc nt kd mk nu bi translated">入门指南</h1><h2 id="2956" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated"><strong class="ak"> P5.js库</strong></h2><p id="5192" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated">用他们自己的话来简短定义:"<em class="ls"> p5.js是一个用于创造性编码的JavaScript库，致力于让艺术家、设计师、教育工作者、初学者和其他任何人都可以访问和包容编码！p5.js是免费开源的。”</em>(参考:<a class="ae kv" href="https://p5js.org" rel="noopener ugc nofollow" target="_blank">https://p5js.org</a>)</p><p id="61a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将下载javascript文件，并使用script标签将其导入到我们的程序中。</p><p id="00e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">顺便说一下，p5也可以用于基于网络的游戏开发。这里有一个由Jimmy Lam 写的不错的帖子:<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/how-to-make-a-web-based-flappy-bird-clone-with-p5-js-part-1-2913fde25c8a"> Flappy Bird Clone使用p5.js </a>。</p><h2 id="72be" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">代码编辑器:Atom</h2><p id="7ca2" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated"><a class="ae kv" href="https://atom.io" rel="noopener ugc nofollow" target="_blank">这里的</a>是官网链接。</p><h2 id="8432" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">Atom包</h2><p id="f9bf" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated">Atom-live-server:在实时服务器上运行web项目。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="4d46" class="nk lu iq bd lv nl nm nn ly no np nq mb jw nr jx me jz ns ka mh kc nt kd mk nu bi translated">编码部分</h1><p id="536a" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated">这里是我的文件夹目录的样子，给你一些想法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/5bbe816cf1da5b7f0ea2af0973e41120.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FsVL6U8AMjC8oXTCU7gw9w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">image by author</figcaption></figure><h2 id="9a7b" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">HTML(index.html)</h2><p id="e6b5" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated">这是html标签中的所有内容。</p><ul class=""><li id="2b2c" class="mm mn iq ky b kz la lc ld lf ob lj oc ln od lr mt mu mv mw bi translated">p5.min.js是p5 javascript库的压缩版本。你可以在这里找到下载链接<a class="ae kv" href="https://p5js.org/download/" rel="noopener ugc nofollow" target="_blank">。</a></li><li id="48b5" class="mm mn iq ky b kz mx lc my lf mz lj na ln nb lr mt mu mv mw bi translated">clock_1.js是javascript文件，大部分神奇的事情都发生在这里。将在Javascript部分讨论。</li><li id="3cd9" class="mm mn iq ky b kz mx lc my lf mz lj na ln nb lr mt mu mv mw bi translated">css是一个非常酷的动画包。我将用它来制作一个按钮的动画。我用的是CDN版本，而不是下载文件。</li></ul><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="f428" class="lt lu iq of b gy oj ok l ol om">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;script src="../p5.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="clock_1.js"&gt;&lt;/script&gt;<br/>    &lt;style&gt;<br/>    //css codes here<br/>    &lt;/style&gt;</span><span id="5fdc" class="lt lu iq of b gy on ok l ol om">    // CDN link for animate.css     <br/>    &lt;link rel="stylesheet" href="<a class="ae kv" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="noopener ugc nofollow" target="_blank">https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css</a>"&gt;   <br/>  &lt;/head&gt;  <br/>&lt;body&gt;<br/>    &lt;div class="container"&gt;<br/>      &lt;p id="colors"&gt;&lt;/p&gt;<br/>      &lt;h1&gt;the question is not "how" but "when"&lt;/h1&gt;<br/>      &lt;main&gt;<br/>      &lt;/main&gt;<br/>      &lt;div class="renew"&gt;<br/>        &lt;button class="button" type="button" onClick="window.location.reload();"&gt;New Look&lt;/button&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;</span><span id="cfbc" class="lt lu iq of b gy on ok l ol om">&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h2 id="65d6" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">半铸钢ˌ钢性铸铁(Cast Semi-Steel)</h2><p id="4619" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated">这个样式标签在head标签下面。没什么复杂的。只是在用户界面设计上做一些小改动。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="30b5" class="lt lu iq of b gy oj ok l ol om">&lt;style&gt;<br/>    <a class="ae kv" href="http://twitter.com/font" rel="noopener ugc nofollow" target="_blank">@font</a>-face {<br/>       font-family: satisfy-font;<br/>       src: url(Satisfy-Regular.ttf);<br/>    }<br/>      h1{<br/>        text-align: center;<br/>        margin-top: 5%;<br/>        font-family:satisfy-font;<br/>        color: #577f99;<br/>      }<br/>      canvas{<br/>        border:9px solid #f5e4f4;<br/>        margin-left: 38%;<br/>      }<br/>      .button {<br/>        background-color: #98caed; /* Green */<br/>        border: none;<br/>        color: white;<br/>        padding: 15px 32px;<br/>        text-align: center;<br/>        text-decoration: none;<br/>        display: inline-block;<br/>        font-size: 16px;<br/>      }<br/>      .button:hover{<br/>        animation: jello;<br/>        animation-duration: 2s;<br/>      }<br/>      .renew{<br/>        position: absolute;<br/>        left: 50%;<br/>        -ms-transform: translate(-50%, 50%);<br/>        transform: translate(-50%, 50%);<br/>      }<br/> &lt;/style&gt;</span></pre><h2 id="924d" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">JS(时钟_1.js)</h2><p id="1b1c" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated">这就是奇迹发生的地方。</p><p id="2ab4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">全局变量</strong></p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="2f83" class="lt lu iq of b gy oj ok l ol om">let center_x, center_y;<br/>let sec_radius;<br/>let min_radius;<br/>let hr_radius;<br/>let img;</span><span id="b0e6" class="lt lu iq of b gy on ok l ol om">let colors_of_image;</span></pre><p id="a78b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">设置功能</strong></p><p id="c142" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个功能中，我们要做几件事:</p><ul class=""><li id="cd99" class="mm mn iq ky b kz la lc ld lf ob lj oc ln od lr mt mu mv mw bi translated">定义画布及其高度和宽度。</li><li id="4fe7" class="mm mn iq ky b kz mx lc my lf mz lj na ln nb lr mt mu mv mw bi translated">定义时针、分针和秒针的长度。</li><li id="c0cb" class="mm mn iq ky b kz mx lc my lf mz lj na ln nb lr mt mu mv mw bi translated">加载名为“digital-7”的外部字体。我们将用它来显示时钟下方的时间。</li><li id="35b6" class="mm mn iq ky b kz mx lc my lf mz lj na ln nb lr mt mu mv mw bi translated">最后加载背景图像。我预先选择了8张图片，r是一个随机数，它定义了选择哪张图片作为背景。</li></ul><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="de42" class="lt lu iq of b gy oj ok l ol om">function setup() {<br/>  let cnvs = createCanvas(400, 500);<br/>  stroke(255);</span><span id="8f81" class="lt lu iq of b gy on ok l ol om">  let radius = min(width, height) / 2;</span><span id="f946" class="lt lu iq of b gy on ok l ol om">  sec_radius = radius * 0.7;<br/>  min_radius = radius * 0.5;<br/>  hr_radius = radius * 0.3;</span><span id="5d70" class="lt lu iq of b gy on ok l ol om">  center_x = width / 2;<br/>  center_y = height / 2;</span><span id="3f26" class="lt lu iq of b gy on ok l ol om">  digital_fnt = loadFont('digital-7.ttf');<br/>  textFont(digital_fnt);<br/>  r = Math.floor(Math.random() * 8);<br/>  img = loadImage('bg/clock_bg_'+ r +'.jpg');<br/>}</span></pre><p id="6a2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">时间显示功能</strong></p><p id="f341" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个函数中，我们在时钟的正下方添加了一个数字文本来显示时间。这样我们也可以知道准确的分钟。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="453a" class="lt lu iq of b gy oj ok l ol om">function time_show(x_w,y_h){<br/>  fill(242, 225, 228);<br/>  textFont(digital_fnt);<br/>  textSize(54);</span><span id="2c21" class="lt lu iq of b gy on ok l ol om">  let Hour = hour();<br/>  let min = minute();<br/>  let pm_or_am;</span><span id="da88" class="lt lu iq of b gy on ok l ol om">  if (Hour&gt;= 12)<br/>    pm_or_am = " PM"<br/>  else<br/>    pm_or_am = " AM"</span><span id="b812" class="lt lu iq of b gy on ok l ol om">  if(min &lt; 10)<br/>    min = "0" + min</span><span id="6ba8" class="lt lu iq of b gy on ok l ol om">  hr = Hour%=12</span><span id="701e" class="lt lu iq of b gy on ok l ol om">  text(hr+" : "+min + pm_or_am, x_w, y_h);<br/>}</span></pre><p id="949f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">绘图功能</strong></p><p id="f476" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">时钟设计部分来了。我尽量让代码简单易懂。最后，我们调用时间显示功能，添加数字时钟。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="def3" class="lt lu iq of b gy oj ok l ol om">function draw() {<br/>  tint(255, 240);<br/>  image(img, 0, 0);<br/>  noFill();</span><span id="640a" class="lt lu iq of b gy on ok l ol om">  let s = map(second(), 0, 60, 0, TWO_PI) - HALF_PI;<br/>  let m = map(minute() + norm(second(), 0, 60), 0, 60, 0, TWO_PI) - HALF_PI;<br/>  let h = map(hour() + norm(minute(), 0, 60), 0, 24, 0, TWO_PI * 2) - HALF_PI;</span><span id="f937" class="lt lu iq of b gy on ok l ol om">  stroke(255);</span><span id="4869" class="lt lu iq of b gy on ok l ol om">  strokeWeight(2);<br/>  line(center_x, center_y, center_x + cos(s) * sec_radius, center_y + sin(s) * sec_radius);</span><span id="7626" class="lt lu iq of b gy on ok l ol om">  strokeWeight(3);<br/>  line(center_x, center_y, center_x + cos(m) * min_radius, center_y + sin(m) * min_radius);</span><span id="cb0a" class="lt lu iq of b gy on ok l ol om">  strokeWeight(5);<br/>  line(center_x, center_y, center_x + cos(h) * hr_radius, center_y + sin(h) * hr_radius);</span><span id="f4f0" class="lt lu iq of b gy on ok l ol om">  strokeWeight(4);<br/>  beginShape(POINTS);</span><span id="bc04" class="lt lu iq of b gy on ok l ol om">  for (let a = 0; a &lt; 360; a += 6) {<br/>    let rad_angle = radians(a);<br/>    let x = center_x + cos(rad_angle) * sec_radius;<br/>    let y = center_y + sin(rad_angle) * sec_radius;<br/>    vertex(x, y);<br/>  }<br/>  endShape();</span><span id="65f4" class="lt lu iq of b gy on ok l ol om">  time_show(center_x/2+10, 470);<br/>}</span></pre></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="8dfd" class="nk lu iq bd lv nl nm nn ly no np nq mb jw nr jx me jz ns ka mh kc nt kd mk nu bi translated"><em class="oo">视频演示</em></h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="op oq l"/></div></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="272f" class="nk lu iq bd lv nl nm nn ly no np nq mb jw nr jx me jz ns ka mh kc nt kd mk nu bi translated">结论</h1><p id="261f" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated">本文到此为止。我希望你今天学到了新东西。从事像这样的实践项目是练习和展示编程技能的最佳方式。如果您喜欢这篇文章，请随意查看我的其他动手编程文章。快乐编码，保持创造力！</p><div class="or os gp gr ot ou"><a href="https://towardsdatascience.com/building-an-image-color-analyzer-using-python-12de6b0acf74" rel="noopener follow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">使用Python构建图像颜色分析器</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">使用Scikit-learn和OpenCV的机器学习项目</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">towardsdatascience.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi kp ou"/></div></div></a></div><div class="or os gp gr ot ou"><a href="https://towardsdatascience.com/building-a-face-recognizer-in-python-7fd6630c6340" rel="noopener follow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">用Python构建人脸识别器</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">使用OpenCv库进行实时人脸识别的分步指南</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">towardsdatascience.com</p></div></div><div class="pd l"><div class="pj l pf pg ph pd pi kp ou"/></div></div></a></div><p id="0f23" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">plain English . io</em></strong></a></p></div></div>    
</body>
</html>