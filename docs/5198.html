<html>
<head>
<title>Create To-Do list with Alpine.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Alpine.js创建待办事项列表</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-to-do-list-with-alpine-js-2fc15125dc74?source=collection_archive---------3-----------------------#2021-10-22">https://javascript.plainenglish.io/create-to-do-list-with-alpine-js-2fc15125dc74?source=collection_archive---------3-----------------------#2021-10-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/99baa476f4cb51f7605d9887e30cea9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*57ZIh4oOSOTnGi8CNKdyiQ.jpeg"/></div><figcaption class="jr js gj gh gi jt ju bd b be z dk">Photo by <a class="ae jv" href="https://unsplash.com/@edenconstantin0?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Eden Constantino</a> on <a class="ae jv" href="https://unsplash.com/s/photos/todolist?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9484" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">大家好，距离我上次发帖已经有一段时间了。我不确定接下来该写些什么，而且我也忙于自己的私事。今天，我想谈谈Alpine.js，这是一个我有机会使用过的框架，我非常喜欢它。</p></div><div class="ab cl ku kv hr kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="ig ih ii ij ik"><h2 id="cce8" class="lb lc in bd ld le lf dn lg lh li dp lj kh lk ll lm kl ln lo lp kp lq lr ls lt bi translated">阿尔卑斯山. js</h2><p id="811f" class="pw-post-body-paragraph jw jx in jy b jz lu kb kc kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt ig bi translated">那么什么是Alpine.js呢？据Alpine.js的创建者Caleb Porzio称，该框架旨在填补JavaScript/jQuery和大型复杂框架(如Vue.js/React.js.)之间的空白</p><p id="6667" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">Alpine.js令人惊叹的地方在于，它允许开发人员以声明的方式将JavaScript行为添加到标记中。有人认为它是JavaScript的顺风。</p><p id="1db6" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">截至本文撰写时，根据Alpine.js网站，它由<strong class="jy io"> 15个属性</strong>、<strong class="jy io"> 6个属性</strong>和<strong class="jy io"> 2个方法</strong>组成。我确实觉得它们在文档中解释得很好，所以请随意查看网站。</p><h2 id="ffbe" class="lb lc in bd ld le lf dn lg lh li dp lj kh lk ll lm kl ln lo lp kp lq lr ls lt bi translated">让我们建造一些东西</h2><p id="75d4" class="pw-post-body-paragraph jw jx in jy b jz lu kb kc kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt ig bi translated">介绍够了，我们现在将尝试用alpine构建一个简单的Todo应用程序来展示Alpine是如何工作的，希望可以帮助您入门。</p><p id="b50d" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">我们需要从什么开始？非常简单，只要一个你选择的文本编辑器和一个浏览器。就是这样。</p><p id="947a" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">我们将从遵循Alpine.js的指南开始，我们将从CDN导入框架，如下所示:</p><figure class="lz ma mb mc gt jo"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="0b1e" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">我们正在使用最新的<strong class="jy io"> Alpine版本3.4.2 </strong>，请注意该框架仍在快速更新中，每个版本中可能会有一些差异。运行上面的代码，您应该会在浏览器中看到以下内容。</p><figure class="lz ma mb mc gt jo gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/348ea559648e26131f8da3aedc932baa.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/1*1vQ9Xn1ue3Jv-WlQBX0aWw.png"/></div><figcaption class="jr js gj gh gi jt ju bd b be z dk">Alpine is working!</figcaption></figure><p id="3ade" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">所以现在你已经正式写出了你的第一个阿尔卑斯组件(？)app(？)，不太确定我应该如何称呼它，但是现在我们将它称为一个组件。很直接，对吧？我们初始化了一个名为welcome message的变量，并用x-text指令显示它。</p><p id="f7c6" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">接下来，我们可以在<strong class="jy io"> x-data </strong>中直接创建新的变量和函数，但我们不打算这样做，而是将代码分离到JavaScript文件中，并作为脚本导入。</p><figure class="lz ma mb mc gt jo"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="21a3" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">另一种方法是使用alpine数据方法来达到同样的结果，下面的片段摘自alpine.js网站<strong class="jy io">【2】</strong>。</p><figure class="lz ma mb mc gt jo gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/43cd1408d46c713ba4c9b610127e53ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/format:webp/1*Xnd4vGxx0HYmHwSblXznSg.png"/></div><figcaption class="jr js gj gh gi jt ju bd b be z dk">Taken from <a class="ae jv" href="https://alpinejs.dev/" rel="noopener ugc nofollow" target="_blank">https://alpinejs.dev/</a></figcaption></figure><p id="edb9" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">你看到的应该和以前一样。现在我们有了一个合适的基础结构，让我们开始为实际的待办事项应用程序编写一些代码。在此之前，让我们先简单地勾画一下我们将拥有的组件。</p><figure class="lz ma mb mc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mh"><img src="../Images/493a9fb8139c2dba4aba6b38137787cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*fbqGeRLR1qCUYadEtQfMyg.png"/></div></div><figcaption class="jr js gj gh gi jt ju bd b be z dk">Simple design sketch</figcaption></figure><ol class=""><li id="887c" class="mm mn in jy b jz ka kd ke kh mo kl mp kp mq kt mr ms mt mu bi translated"><strong class="jy io"> Todo容器(黄色):</strong>包含组件的整体。</li><li id="4e8f" class="mm mn in jy b jz mv kd mw kh mx kl my kp mz kt mr ms mt mu bi translated"><strong class="jy io">输入区(蓝色):</strong>这是用户输入单个任务并插入列表的地方，这里有一个文本输入区和一个提交按钮。</li><li id="8bd0" class="mm mn in jy b jz mv kd mw kh mx kl my kp mz kt mr ms mt mu bi translated"><strong class="jy io">显示区(绿色):</strong>所有添加的任务都将显示在该区域，用户可以执行操作(编辑任务、标记为完成或删除任务)。</li></ol><p id="eaa1" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">现在我们已经清楚地知道了我们想要做什么，我们终于可以开始编写代码了。我们将做一个简单的添加和删除功能，代码如下:</p><p id="9db7" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">代码看起来就像普通的html代码，一个明显的不同是你将有一个包装器/容器div元素来包装你的组件。因此，div中的所有内容都将共享相同的函数和相同的变量，这与在React中构建组件非常相似。</p><figure class="lz ma mb mc gt jo"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="bb23" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">相当简单，我们有一个输入字段，当用户点击按钮时，我们将调用<strong class="jy io"> addTodo() </strong>函数，然后新任务将被添加到变量<strong class="jy io"> <em class="na"> todos </em> </strong>数组中，使用<a class="ae jv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener ugc nofollow" target="_blank"> spread函数</a>。其中<strong class="jy io"> <em class="na"> @click </em> </strong>(第22行)只是<strong class="jy io"> onClick() </strong>事件的速记函数，你也可以写成<strong class="jy io"><em class="na">x-on:click = " function "</em></strong>。</p><p id="dd8b" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">注意，为了检索用户在第8行输入的任务信息，我们使用了<strong class="jy io"> <em class="na"> this。$root.querySelector('。</em>【用户_输入_任务】)<strong class="jy io"> <em class="na">【用户_输入_任务】</em> </strong>选择输入字段值。实现这一点的另一种方法是像这样将bind与x-model指令一起使用:</strong></p><figure class="lz ma mb mc gt jo"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="abab" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">为了将输入数据与x-model绑定，我们将首先在x-data中创建一个变量(在我们的例子中是task ),然后我们将在输入标签中添加x-model="task"。把它想象成React中的状态循环。</p><pre class="lz ma mb mc gt nb nc nd ne aw nf bi"><span id="345a" class="lb lc in nc b gy ng nh l ni nj">const [ task, setTask ] = useState([]);</span></pre><p id="5d03" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">当我们打印出添加的待办事项列表时，我们将使用<strong class="jy io"> &lt;模板&gt; </strong>标签和<strong class="jy io"><em class="na">x-来表示</em> </strong>目录。我们本质上是借助<strong class="jy io"> <em class="na"> x-for </em> </strong>(对于每个循环类似于vue.js中的<strong class="jy io"> <em class="na"> v-for </em> </strong>和React中的<strong class="jy io"> <em class="na"> map() </em> </strong>)来创建一个html组件。</p><p id="c384" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">现在，我们希望能够编辑已经添加的任务。因此，我们添加了一个字段来跟踪任务的状态，并且我们将利用布尔变量将列表交换到一个输入字段中，供用户更新任务。要显示或隐藏字段，我们可以使用x-show属性，我们将使用x-model绑定task.item，因为该属性将更新值，而不需要更改事件。</p><figure class="lz ma mb mc gt jo"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="75af" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">我们在第23 ~ 37行中添加了一些新代码，与以前的用法没有太大不同，所以我不再重复。在第33、36行，我们使用了<strong class="jy io"> <em class="na"> :value </em> </strong>和<strong class="jy io"> <em class="na"> :id </em> </strong>，这就是你在Alpine.js中动态分配属性的方式。你也可以使用<strong class="jy io"> <em class="na"> :class </em> </strong>动态分配类，这里我们还可以看到另一个使用@<strong class="jy io"><em class="na">click . away</em></strong><em class="na">的速记事件处理程序的用例。</em><strong class="jy io"><em class="na">s</em>etEdit()</strong>函数基本上设置了点击时的状态和焦点字段。</p></div><div class="ab cl ku kv hr kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="ig ih ii ij ik"><h2 id="6b11" class="lb lc in bd ld le lf dn lg lh li dp lj kh lk ll lm kl ln lo lp kp lq lr ls lt bi translated">任务的完成</h2><p id="e1e0" class="pw-post-body-paragraph jw jx in jy b jz lu kb kc kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt ig bi translated">所以现在我们终于到了本文的最后一部分，在这里我们将添加允许用户完成任何添加的任务的能力(当它被选择为已完成时，从列表中删除)。</p><p id="4b18" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">这应该很容易吧？在进入代码部分之前，尝试自己动手。给你一个小提示，我们需要添加一个新的复选框字段，使用一个事件监听器(单击或更改)并调用函数来切换完成的布尔标志。</p><figure class="lz ma mb mc gt jo"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="4815" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">有了一些css，我们终于用Alpine.js完成了一个待办事项列表。我将不会详细介绍css，因为我们今天的重点是Alpine.js。</p><figure class="lz ma mb mc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nk"><img src="../Images/53dc2523dffd34dc974f205440d8a79e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cqYZSQzDfUvgZ9xjCkkF1g.png"/></div></div><figcaption class="jr js gj gh gi jt ju bd b be z dk">Simple To-Do List with Alpine.js</figcaption></figure><p id="b34f" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">请在下面找到完整的代码:</p><figure class="lz ma mb mc gt jo"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="4821" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">请找到<a class="ae jv" href="https://github.com/MingSheng92/AlpineTodo" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>以获得完整的代码。</p><p id="7375" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">我们可以通过集成可访问的富互联网应用来进一步增强用户体验。对于任何对这个话题感兴趣的人，请随意阅读Hugo[3]的文章，他在文章中用Alpine.js构建了一个可访问的导航菜单。</p><p id="540e" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">如果你想了解更多关于Alpine.js的高级组件，你可以查看Alpine工具箱[4]。如果你想更多地了解Alpine.js，我会在参考区留下一些额外的链接</p><p id="f25b" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">所以今天我们完成了一个基本的任务清单，一个小小的家庭作业。尝试找出如何向组件添加键绑定。例如，用户应该能够使用回车键添加新任务，或更新现有的任务。我对这个框架相当陌生，所以我对这个框架的一些理解可能不正确，如果我在这篇文章中犯了什么错误，请随时告诉我。</p><h1 id="74cd" class="nl lc in bd ld nm nn no lg np nq nr lj ns nt nu lm nv nw nx lp ny nz oa ls ob bi translated">结论</h1><p id="9e68" class="pw-post-body-paragraph jw jx in jy b jz lu kb kc kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt ig bi translated">简而言之，如果你想创建一个简单的静态网站，而不需要像React/Angular/Vue这样复杂的大型框架。Alpine.js应该是你下一次的目标，另一个选择可能是jQuery，但对我个人来说，我更喜欢Alpine.js，因为它是轻量级的，并且非常容易学习和用它构建一些东西。</p><p id="b2c3" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">因此，在今天的文章中，我们讨论了Alpine.js，并展示了一个非常简单的示例来帮助您入门。它相对较新，我迫不及待地想看到所有基于Alpine.js的酷库或项目。</p><h1 id="a408" class="nl lc in bd ld nm nn no lg np nq nr lj ns nt nu lm nv nw nx lp ny nz oa ls ob bi translated">参考</h1><p id="40b7" class="pw-post-body-paragraph jw jx in jy b jz lu kb kc kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt ig bi translated">[1].Alpine.js官网— <a class="ae jv" href="https://alpinejs.dev/" rel="noopener ugc nofollow" target="_blank"> https://alpinejs.dev </a> /</p><p id="15cd" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">[2].Alpine.data()方法文档—【https://alpinejs.dev/globals/alpine-data T2】</p><p id="f52f" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">[3].一个可访问的Alpine.js菜单开关—雨果·迪·弗朗切斯科，【https://codewithhugo.com/alpinejs-a11y-menu/ T4】</p><p id="e13e" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">[4].阿尔卑斯工具箱—<a class="ae jv" href="https://www.alpinetoolbox.com/" rel="noopener ugc nofollow" target="_blank">https://www.alpinetoolbox.com/</a></p><h1 id="8da6" class="nl lc in bd ld nm nn no lg np nq nr lj ns nt nu lm nv nw nx lp ny nz oa ls ob bi translated">附加链接</h1><p id="990f" class="pw-post-body-paragraph jw jx in jy b jz lu kb kc kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt ig bi translated">[1].<a class="ae jv" href="https://css-tricks.com/alpine-js-the-javascript-framework-thats-used-like-jquery-written-like-vue-and-inspired-by-tailwindcss/" rel="noopener ugc nofollow" target="_blank">https://CSS-tricks . com/alpine-js-the-JavaScript-framework-thas-use-like-jquery-written-like-vue-and-inspired-by-tailwindcss/</a></p><p id="7b8e" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">[2].<a class="ae jv" href="https://www.erwinhofman.com/blog/3-reasons-why-alpinejs-wont-beat-jquery-core-web-vitals-included/" rel="noopener ugc nofollow" target="_blank">https://www . erwinhofman . com/blog/3-reasons-why-alpinejs-wont-beat-jquery-core-we B- vitals-included/</a></p><p id="52e7" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">[3].<a class="ae jv" href="https://www.smashingmagazine.com/2020/03/introduction-alpinejs-javascript-framework/" rel="noopener ugc nofollow" target="_blank">https://www . smashingmagazine . com/2020/03/introduction-alpine js-JavaScript-framework/</a></p><p id="8de4" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated"><em class="na">更多内容看</em> <a class="ae jv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"> <strong class="jy io"> <em class="na">说白了. io </em> </strong> </a></p></div></div>    
</body>
</html>