<html>
<head>
<title>Getting Started with Mongoose in your JavaScript Projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript项目中的Mongoose入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-started-with-the-mongoose-in-your-javascript-projects-ac444d6d552d?source=collection_archive---------15-----------------------#2021-06-01">https://javascript.plainenglish.io/getting-started-with-the-mongoose-in-your-javascript-projects-ac444d6d552d?source=collection_archive---------15-----------------------#2021-06-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="d2ef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">大家好，欢迎来到我的新博客。今天，我将帮助您在Express服务器中使用Mongoose集成MongoDB。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/82e807504c5fc575362b02fe16f0b816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_8fOM6Ol-T5ZAR3J.jpg"/></div></div></figure><p id="f97f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请遵循以下步骤:</p><h1 id="aa3a" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">1.使用URI字符串连接数据库。它看起来会像这样—</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="3d66" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们可以将其封装在一个异步函数中，并等待这个mongoose.connect()方法(或者，我们也可以使用promises来处理连接和错误捕获部分)。</p><p id="7c57" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们使用async-await，我们的连接函数将如下所示——</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="0821" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在承诺的情况下，它看起来像这样—</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ls lt l"/></div></figure><blockquote class="lu lv lw"><p id="fa4a" class="jk jl lx jm b jn jo jp jq jr js jt ju ly jw jx jy lz ka kb kc ma ke kf kg kh ig bi translated">另外，不要忘记将URI字符串存储在环境变量文件中。</p></blockquote><p id="4256" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在定义以下内容之前，必须调用这个connectDb函数。</p><h1 id="6253" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2.现在，要使用Mongoose创建一个DB条目，我们必须遵循以下步骤</h1><ul class=""><li id="fd02" class="mb mc in jm b jn md jr me jv mf jz mg kd mh kh mi mj mk ml bi translated">创建一个Mongoose模式</li><li id="1c8b" class="mb mc in jm b jn mm jr mn jv mo jz mp kd mq kh mi mj mk ml bi translated">使用该模式创建一个模型</li><li id="49e0" class="mb mc in jm b jn mm jr mn jv mo jz mp kd mq kh mi mj mk ml bi translated">实例化该模型并向其添加数据</li><li id="8a12" class="mb mc in jm b jn mm jr mn jv mo jz mp kd mq kh mi mj mk ml bi translated">将此对象添加到数据库中</li></ul><h2 id="04ae" class="mr kv in bd kw ms mt dn la mu mv dp le jv mw mx li jz my mz lm kd na nb lq nc bi translated"><em class="nd"> i)创建模式— </em></h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ls lt l"/></div></figure><blockquote class="lu lv lw"><p id="3f9e" class="jk jl lx jm b jn jo jp jq jr js jt ju ly jw jx jy lz ka kb kc ma ke kf kg kh ig bi translated">在这里阅读更多关于模式类型<a class="ae ne" href="https://mongoosejs.com/docs/schematypes.html" rel="noopener ugc nofollow" target="_blank">的内容</a></p></blockquote><h2 id="02e9" class="mr kv in bd kw ms mt dn la mu mv dp le jv mw mx li jz my mz lm kd na nb lq nc bi translated"><em class="nd"> ii)创建该模式的模型— </em></h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ls lt l"/></div></figure><h2 id="c650" class="mr kv in bd kw ms mt dn la mu mv dp le jv mw mx li jz my mz lm kd na nb lq nc bi translated"><em class="nd"> iii)实例化模型并添加数据— </em></h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ls lt l"/></div></figure><blockquote class="lu lv lw"><p id="0ecc" class="jk jl lx jm b jn jo jp jq jr js jt ju ly jw jx jy lz ka kb kc ma ke kf kg kh ig bi translated">请注意，我们正在添加的产品应该只有我们在模式中定义的那些键。</p></blockquote><h2 id="5503" class="mr kv in bd kw ms mt dn la mu mv dp le jv mw mx li jz my mz lm kd na nb lq nc bi translated"><em class="nd"> iv)在数据库中添加— </em></h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="73a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后，该文档将反映在数据库中。</p><blockquote class="lu lv lw"><p id="0b9b" class="jk jl lx jm b jn jo jp jq jr js jt ju ly jw jx jy lz ka kb kc ma ke kf kg kh ig bi translated"><strong class="jm io">注意:</strong>我还没有介绍npm包的安装。所以，如果你正面临任何问题，也许这就是问题所在。</p></blockquote><blockquote class="nf"><p id="e26a" class="ng nh in bd ni nj nk nl nm nn no kh dk translated">将此链接加入书签，因为我将在几天后添加您应该维护的文件夹结构，以遵循最佳实践。</p></blockquote><p id="e01d" class="pw-post-body-paragraph jk jl in jm b jn np jp jq jr nq jt ju jv nr jx jy jz ns kb kc kd nt kf kg kh ig bi translated">如果这个博客对你有所帮助，那么考虑在Twitter上关注我，LinkedIn上关注我👏下面。</p><p id="7273" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lx">更多内容请看</em><a class="ae ne" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="lx">plain English . io</em></a></p></div></div>    
</body>
</html>