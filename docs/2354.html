<html>
<head>
<title>Docker Architecture and How it Works</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker架构及其工作原理</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/docker-architecture-and-how-it-works-4db326eb1712?source=collection_archive---------8-----------------------#2021-05-16">https://javascript.plainenglish.io/docker-architecture-and-how-it-works-4db326eb1712?source=collection_archive---------8-----------------------#2021-05-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/6c0c669392f6640d8e1f121069e50d67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zbnpfsErcZzJ0LiXK_EyZA.jpeg"/></div></div></figure><p id="0fef" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Docker是当前技术栈中最流行的技术之一。我们使用Docker与容器进行交互。在高层次上，容器可以被认为是一个独立运行的程序。</p><p id="76f1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这篇博客中，我们将尝试理解Docker的基本架构，并从高层次了解容器是如何工作的。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi kt"><img src="../Images/5e9ded72a6cdf402e9bddedcc827c9e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cyuwxQR1DDz0ugEdsbOb-w.png"/></div></div></figure><p id="3920" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我们在机器上安装Docker时，我们基本上安装了两件东西。一个是Docker CLI，另一个是Docker守护进程。我们用来与Docker交互的所有命令都是Docker CLI的一部分。Docker CLI获取一个命令，解析它，检查它的语法，如果一切正常，它会将命令传递给Docker守护进程。Docker守护进程负责与图像、容器、卷等各种Docker对象进行交互。</p><p id="6b33" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Docker CLI和Docker守护进程遵循客户端-服务器架构。因此，docker CLI接收命令，并在所有验证之后，将这些命令转换成rest API调用。docker守护进程继续监听API调用，一旦Docker CLI对Docker守护进程发出rest API调用，Docker守护进程就会负责执行这些命令。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ky"><img src="../Images/52e06948450a44f459eec4a1cdc4601e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GYWKtoXL8DGAKH2Wctqlvw.png"/></div></div></figure><pre class="ku kv kw kx gt kz la lb lc aw ld bi"><span id="56bb" class="le lf in la b gy lg lh l li lj"><br/>docker run -d nginx:latest</span></pre><p id="4531" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们举一个例子，运行Docker run命令来运行带有Nginx映像的容器。因此执行步骤如下:</p><ol class=""><li id="530d" class="lk ll in jx b jy jz kc kd kg lm kk ln ko lo ks lp lq lr ls bi translated">Docker CLI将接收命令并进行基本验证。</li><li id="c967" class="lk ll in jx b jy lt kc lu kg lv kk lw ko lx ks lp lq lr ls bi translated">Docker CLI将创建一个相应的REST API调用</li><li id="93f1" class="lk ll in jx b jy lt kc lu kg lv kk lw ko lx ks lp lq lr ls bi translated">Docker CLI将对Docker守护进程进行REST API调用</li></ol><p id="41d9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在Docker守护进程将处理命令的执行。执行流程如下:</p><ol class=""><li id="d2f6" class="lk ll in jx b jy jz kc kd kg lm kk ln ko lo ks lp lq lr ls bi translated">Docker守护进程被要求运行一个带有NGINX映像的容器</li><li id="7b85" class="lk ll in jx b jy lt kc lu kg lv kk lw ko lx ks lp lq lr ls bi translated">Docker守护进程将检查NGINX映像是否存在于本地机器上</li></ol><p id="2be7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3a。如果图像存在于机器上，请转到步骤4。</p><p id="72d8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3b。如果机器上不存在该映像，请遵循以下步骤:</p><p id="baaa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3b.1 —在Docker存储库中搜索图像</p><p id="b815" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3b.2a —如果在存储库中找不到图像，则返回错误</p><p id="6a91" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3b.2b —转到并下载图像，然后转到步骤4</p><p id="24a3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">4.现在，映像在机器上可用了，docker守护进程将从该映像创建一个Docker容器。</p><p id="e549" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">创建容器后，它将继续启动容器。</p></div><div class="ab cl ly lz hr ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ig ih ii ij ik"><p id="9ea2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我还试图在视频中更好地解释这一点。请看看它。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="7a66" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mh">更多内容尽在</em><a class="ae mi" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mh">plain English . io</em></a></p></div></div>    
</body>
</html>