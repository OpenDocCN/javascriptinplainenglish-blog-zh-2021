<html>
<head>
<title>How to Create a Node.js and Express App from Scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从头开始创建Node.js和Express App</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/shoot-your-node-and-express-app-from-scratch-72e4b6816819?source=collection_archive---------6-----------------------#2021-04-13">https://javascript.plainenglish.io/shoot-your-node-and-express-app-from-scratch-72e4b6816819?source=collection_archive---------6-----------------------#2021-04-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="1579" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你是否厌倦了那些静态的网页，一直渴望让它们与用户互动？你是不是和我一样是JavaScript的忠实粉丝却不知道如何入门后端开发？嗯，你来对地方了。让我们从头开始构建Node.js和Express应用程序！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9cf335f6b7f311984359aa62d0c9d577.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ipwQn4uQqrdHop3I.jpg"/></div></div></figure><p id="20d5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="ku">确保你的设备上已经安装了Node.js和npm。</em> </strong></p><p id="4d34" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为您的操作系统下载最新版本的<a class="ae kv" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>。npm可执行文件随Node.js一起安装，所以您不必担心。如果您不确定您的系统是否预装了Node.js，只需进入您的终端并点击:</p><pre class="kj kk kl km gt kw kx ky kz aw la bi"><span id="83b8" class="lb lc in kx b gy ld le l lf lg"><strong class="kx io">node -v</strong></span></pre><p id="ee28" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果终端显示某个版本，如v13.x、v14.x或v15.x，那么您就可以开始了。</p><p id="c104" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下一步是为我们的应用程序创建一个工作目录。走向你的终端，进入你想要的目录。使用<code class="fe lh li lj kx b">mkdir</code>命令创建一个新文件夹。</p><p id="5e0c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">假设我想让我的express应用程序在我的<em class="ku">“桌面”</em>文件夹中显示“<em class="ku">BigBangTheory”</em>。那么我的命令序列应该是这样的</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/4d1be1b2aaceac1bf9a60070fb6442d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*5jumJFmKnPxHy1C3HEeozg.png"/></div></figure><p id="9a75" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在主目录下创建一个名为<em class="ku"> app.js </em>的新文件。您可以使用命令提示符来完成此操作</p><pre class="kj kk kl km gt kw kx ky kz aw la bi"><span id="9375" class="lb lc in kx b gy ld le l lf lg"><strong class="kx io">touch app.js</strong></span></pre><p id="9174" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">确保您位于终端中应用程序的根目录下，并运行</p><pre class="kj kk kl km gt kw kx ky kz aw la bi"><span id="5020" class="lb lc in kx b gy ld le l lf lg"><strong class="kx io">npm init</strong></span></pre><p id="61fb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个命令将询问您一些问题，以便在您的项目路径中生成一个描述项目所有依赖项的<strong class="jm io"> package.json </strong>文件。在开发过程中添加更多依赖项时，该文件将被更新。对于所有的语句序列，继续按enter键，但是要确保将<em class="ku"> app.js </em>作为Node.js应用程序的入口点。</p><pre class="kj kk kl km gt kw kx ky kz aw la bi"><span id="e063" class="lb lc in kx b gy ld le l lf lg">package name: (bigbangtheory)<br/>version: (1.0.0)<br/>description: This is my first node and express app<br/><strong class="kx io">entry point: (app.js)</strong><br/>test command:<br/>git repository:<br/>keywords:<br/>author:<br/>license: (ISC)</span></pre><p id="1013" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们将继续安装一些依赖项到我们的<strong class="jm io"> package.json </strong>文件，通过运行:</p><pre class="kj kk kl km gt kw kx ky kz aw la bi"><span id="8b37" class="lb lc in kx b gy ld le l lf lg"><strong class="kx io">npm install express body-parser nodemon ejs</strong></span></pre><p id="5183" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">随着我们深入研究，我们将了解为什么要安装这些依赖项。</p><p id="ab81" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<em class="ku"/><em class="ku"/><strong class="jm io">app . js</strong>文件中，我们会在我们的文件中要求并合并各种依赖关系。</p><pre class="kj kk kl km gt kw kx ky kz aw la bi"><span id="18d9" class="lb lc in kx b gy ld le l lf lg">// <strong class="kx io">app.js</strong></span><span id="2bca" class="lb lc in kx b gy ll le l lf lg">const express=require("express"); <br/>const app= express();        //binds the express module to 'app'<br/>app.listen(3000, function(){<br/>        console.log("SERVER STARTED ON localhost:3000");     <br/>})</span></pre><p id="c3e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe lh li lj kx b"><strong class="jm io">app. listen()</strong></code> <strong class="jm io"> </strong>函数用于绑定和监听指定主机和端口上的连接(这里端口是3000)。回调函数记录一个输出，表明应用程序已经设置好，服务器正在运行。现在，在您的终端中运行<code class="fe lh li lj kx b">nodemon app.js</code>，并在您的服务器中运行<strong class="jm io"><em class="ku">localhost:3000</em></strong>。</p><blockquote class="lm ln lo"><p id="f567" class="jk jl ku jm b jn jo jp jq jr js jt ju lp jw jx jy lq ka kb kc lr ke kf kg kh ig bi translated">Nodemon <strong class="jm io"> </strong>是一个帮助开发Node.js应用程序的工具，当检测到目录中的文件更改时，它会自动重启node应用程序。或者，<code class="fe lh li lj kx b">node app.js</code>也会启动服务器，但是它不会检测目录中的动态变化。因此，nodemon是首选。</p></blockquote><p id="a2bb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">嘣！它会抛出一个错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/38e6f9cb592246f9469c561c5eb74b8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*1uN-GJlBG9_kVuMKvyF60A.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk">Error</figcaption></figure><p id="4622" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是因为我们的浏览器无法从服务器获得任何响应。让我们试着发送纯文本。</p><pre class="kj kk kl km gt kw kx ky kz aw la bi"><span id="ac40" class="lb lc in kx b gy ld le l lf lg">//<strong class="kx io">app.js</strong></span><span id="a241" class="lb lc in kx b gy ll le l lf lg">const express=require("express"); <br/>const app= express();</span><span id="f7e0" class="lb lc in kx b gy ll le l lf lg">app.get("/", function(req,res){<br/>  res.send("Welcome to the world of science fiction, conflicting theories, fantasies and some eccentric nerds!")<br/>});</span><span id="0e75" class="lb lc in kx b gy ll le l lf lg">app.listen(3000, function(){<br/>        console.log("SERVER STARTED ON localhost:3000");     <br/>})</span></pre><p id="5ca7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe lh li lj kx b"><strong class="jm io">res.send()</strong></code>函数主要发送HTTP响应。当我们的服务器启动时，它向<em class="ku"> home route "/" </em>发送一个get请求，这触发了一个回调函数，并向我们的浏览器发送一个HTTP响应。</p><p id="b749" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">刷新浏览器，您可以看到类似这样的内容</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lx"><img src="../Images/a25e7466bbeedc4ec1d722310d19ad69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4wWH64sFgfS0KrEjFNKizg.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk">localhost:3000</figcaption></figure><p id="6dd5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">万岁！我们使用Node和Express成功地创建了一个基本的web应用程序。让我们再增加一些路线，使它变得有点吸引力。</p><p id="e5cd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们现在将发送一些静态文件到我们的服务器。在主目录中创建一个名为<strong class="jm io"> public </strong>的新文件夹，并在其中创建三个子文件夹，即<strong class="jm io"> pages </strong>、<strong class="jm io"> styles </strong>和<strong class="jm io"> scripts </strong>。我们所有的静态页面都将存放在<em class="ku"> public/pages </em>目录下，它们对应的CSS和脚本分别存放在<em class="ku"> public/styles </em>和<em class="ku"> public/scripts </em>中。所有资产(图像和标识)将存储在<em class="ku">公共/资产</em>文件夹中。让我们添加一些文件，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/575b4fb573c73b11565e751f50229d4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*Fk9oRDOKjqPQGhzrIPTugA.png"/></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk">Final File Structure</figcaption></figure><p id="8009" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们添加一些内容和样式到带有导航的主页。在这里，我又创建了两个导航，并在我的<strong class="jm io"> app.js </strong>文件中路由它们。</p><pre class="kj kk kl km gt kw kx ky kz aw la bi"><span id="4c0c" class="lb lc in kx b gy ld le l lf lg"><strong class="kx io">//app.js</strong></span><span id="5338" class="lb lc in kx b gy ll le l lf lg">const express=require("express"); <br/>const ejs=require("ejs");<br/>const bodyParser=require("body-parser");</span><span id="423b" class="lb lc in kx b gy ll le l lf lg">const app= express();</span><span id="dee1" class="lb lc in kx b gy ll le l lf lg">//setting the view engine as EJS. <br/>app.set('view engine', 'ejs');</span><span id="c9e1" class="lb lc in kx b gy ll le l lf lg">//roots the views directory to public<br/>app.set('views', 'public');</span><span id="18f2" class="lb lc in kx b gy ll le l lf lg">//tells express that the public folder is the static folder<br/>app.use(express.static("public"));</span><span id="d551" class="lb lc in kx b gy ll le l lf lg">//home route</span><span id="7ced" class="lb lc in kx b gy ll le l lf lg"><strong class="kx io">app.get("/", function(req,res){<br/>  res.render("./pages/index");<br/>});</strong></span><span id="6cfd" class="lb lc in kx b gy ll le l lf lg">// routing plot.ejs file<br/>// this simply means calling <em class="ku">localhost:3000/plot</em> will render this page in our app</span><span id="285e" class="lb lc in kx b gy ll le l lf lg"><strong class="kx io">app.get("/plot", function(req,res){<br/>  res.render("./pages/plot");<br/>});</strong></span><span id="3c73" class="lb lc in kx b gy ll le l lf lg">// routing cast.ejs file <br/>//this simply means calling <em class="ku">localhost:3000/cast</em> will render this page in our app</span><span id="1c6b" class="lb lc in kx b gy ll le l lf lg"><strong class="kx io">app.get("/cast", function(req,res){<br/>  res.render("./pages/cast");<br/>});</strong></span><span id="9015" class="lb lc in kx b gy ll le l lf lg">app.listen(3000, function(){<br/>        console.log("SERVER STARTED ON localhost:3000");     <br/>})</span></pre><p id="c571" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在给index.ejs、plot.ejs和cast.ejs添加一些内容和样式，嘣！我们的Node.js和Express app长这样！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/c6d852f82dfe7160fe519c775f8efc9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fn1S86XMzt51DCgln4sF7A.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk">localhost:3000</figcaption></figure></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/0d3e07251bcb8f21d38c73866a462440.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8TGbIDQ2mnOrWx9I76ilIw.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk"><a class="ae kv" href="http://localhost:3000/plot" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/plot</a></figcaption></figure></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/e978d49229b3f0794b0b1f8342ac25ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IqVnqJfGkT0Z73n6gcmomQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk"><a class="ae kv" href="http://localhost:3000/cast" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/cast</a></figcaption></figure><p id="4141" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我希望我现在已经让你更容易开始了。为了便于理解，我尽量使解释简单。在学习Node.js的过程中，我确保提出了在我(也许也是你)脑海中浮现的常见疑问。</p><p id="ab18" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您需要帮助，请查看完整的代码！</p><div class="mj mk gp gr ml mm"><a href="https://replit.com/@AdhisikhaPatnai/BigBangTheory" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd io gy z fp mr fr fs ms fu fw im bi translated">大爆炸理论</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">AdhisikhaPatnai的Node.js repl</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">replit.com</p></div></div></div></a></div><p id="6381" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ku">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ku">plain English . io</em></a></p></div></div>    
</body>
</html>