<html>
<head>
<title>How to Embed YouTube Channel Videos using Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Node.js嵌入YouTube频道视频</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/listing-videos-of-a-channel-with-the-youtube-api-node-js-a7215df8db2d?source=collection_archive---------3-----------------------#2021-09-04">https://javascript.plainenglish.io/listing-videos-of-a-channel-with-the-youtube-api-node-js-a7215df8db2d?source=collection_archive---------3-----------------------#2021-09-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="edbe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">YouTube为人们提供了一种简单的在线存储视频并与他人分享的方式。这些视频很容易通过其他形式的社交媒体、电子邮件和网站分享，也可以嵌入到其他网站中。</p><p id="2cbb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">人们可以嵌入视频或链接它。两者的区别在于，嵌入式视频允许你从另一个平台借用视频。相比之下，链接视频共享视频的URL。当读者点击该链接时，他们会被重定向到托管该视频的页面。如果你想在网站上包含视频，<strong class="jm io">更好的选择是嵌入视频</strong>。</p><p id="71cf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本教程中，我们将学习如何使用YouTube频道API，并使用Node.js嵌入特定频道的视频，您可以在此测试项目<a class="ae ki" href="https://youtube-embedding.herokuapp.com/" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi kj"><img src="../Images/c40ae9ac3d0ae1a33c64d0fecf3d0000.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*QzBqTFKiSnZTRgzvRcp0BA.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Youtube API implementation using Node.js</figcaption></figure><p id="3bc4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您也可以从这里获得完整的源代码:</p><div class="kv kw gp gr kx ky"><a href="https://github.com/shraddha-paghdar/embed-youtube-video-nodejs" rel="noopener  ugc nofollow" target="_blank"><div class="kz ab fo"><div class="la ab lb cl cj lc"><h2 class="bd io gy z fp ld fr fs le fu fw im bi translated">shraddha-paghdar/embed-YouTube-video-nodejs</h2><div class="lf l"><p class="bd b dl z fp ld fr fs le fu fw dk translated">github.com</p></div></div><div class="lg l"><div class="lh l li lj lk lg ll kp ky"/></div></div></a></div><p id="9dcd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了不浪费更多的时间，让我们分成三个步骤，</p><ol class=""><li id="b63a" class="lm ln in jm b jn jo jr js jv lo jz lp kd lq kh lr ls lt lu bi translated">创建一个google cloud项目并生成一个YouTube API密钥。</li><li id="f825" class="lm ln in jm b jn lv jr lw jv lx jz ly kd lz kh lr ls lt lu bi translated">获取YouTube频道Id。</li><li id="5bf8" class="lm ln in jm b jn lv jr lw jv lx jz ly kd lz kh lr ls lt lu bi translated">使用YouTube API并从中获取视频。</li></ol></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><h2 id="1453" class="mh mi in bd mj mk ml dn mm mn mo dp mp jv mq mr ms jz mt mu mv kd mw mx my mz bi translated">第一步。生成YouTube API密钥</h2><ol class=""><li id="60ae" class="lm ln in jm b jn na jr nb jv nc jz nd kd ne kh lr ls lt lu bi translated">转到<a class="ae ki" href="https://console.cloud.google.com/" rel="noopener ugc nofollow" target="_blank">https://console.cloud.google.com/</a></li><li id="070b" class="lm ln in jm b jn lv jr lw jv lx jz ly kd lz kh lr ls lt lu bi translated">如果您没有帐户，请创建一个帐户。谷歌给任何服务300美元的免费积分作为免费试用。</li><li id="4517" class="lm ln in jm b jn lv jr lw jv lx jz ly kd lz kh lr ls lt lu bi translated">在搜索栏中键入“YouTube数据API v3”。</li><li id="c7b6" class="lm ln in jm b jn lv jr lw jv lx jz ly kd lz kh lr ls lt lu bi translated">单击启用选项。这将为特定项目启用YouTube数据API，该项目的默认配额分配为每天10，000个单位。你可以在这里了解更多关于配额<a class="ae ki" href="https://developers.google.com/youtube/v3/getting-started" rel="noopener ugc nofollow" target="_blank">的信息。</a></li></ol><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi nf"><img src="../Images/2ab205aebbf8b3ad8a39aaeece46ade8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PwrSMhXD318QcW0xEmfFAA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">YouTube API key enabling</figcaption></figure><p id="fbd3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">5.点击凭证-&gt;创建凭证-&gt; API密钥。复制此API密钥供以后使用。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/251dc54f36ad2968591666a4a03dd4e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*AK3J4f7hn-jihS_tiLD4rQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">YouTube API Key</figcaption></figure></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><h1 id="2e8e" class="nl mi in bd mj nm nn no mm np nq nr mp ns nt nu ms nv nw nx mv ny nz oa my ob bi translated">第二步。YouTube频道ID</h1><ol class=""><li id="746e" class="lm ln in jm b jn na jr nb jv nc jz nd kd ne kh lr ls lt lu bi translated">去Youtube &amp;点击任何视频。https://www.youtube.com/watch?v=uzkD5SeuwzM</li><li id="1a3f" class="lm ln in jm b jn lv jr lw jv lx jz ly kd lz kh lr ls lt lu bi translated">点击频道名称，它将重定向到频道页面，例如<a class="ae ki" href="https://www.youtube.com/channel/UCsXVk37bltHxD1rDPwtNM8Q" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/channel/UCsXVk37bltHxD1rDPwtNM8Q</a></li></ol><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi oc"><img src="../Images/c8f3d7d78bc0b5749df1d0634f527829.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7udvCxtUIB6RUnCHHGDjNg.png"/></div></div></figure><p id="1c7c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.从由字母数字代码组成的URL中复制频道id，“<a class="ae ki" href="https://www.youtube.com/channel/UCsXVk37bltHxD1rDPwtNM8Q" rel="noopener ugc nofollow" target="_blank">ucsxvk 37 blth xd 1 rdpwtnm 8 q</a>”。保留此频道代码，以后会用到它。</p></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><h1 id="6de6" class="nl mi in bd mj nm nn no mm np nq nr mp ns nt nu ms nv nw nx mv ny nz oa my ob bi translated">第三步。设置节点项目</h1><p id="10e5" class="pw-post-body-paragraph jk jl in jm b jn na jp jq jr nb jt ju jv od jx jy jz oe kb kc kd of kf kg kh ig bi translated"><strong class="jm io"> 1。安装Axios向YouTube发出HTTP请求获取视频</strong></p><pre class="kk kl km kn gt og oh oi oj aw ok bi"><span id="01e9" class="mh mi in oh b gy ol om l on oo">npm i axios</span></pre><p id="beeb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 2。编写一个从YouTube获取视频的函数</strong></p><pre class="kk kl km kn gt og oh oi oj aw ok bi"><span id="8d2d" class="mh mi in oh b gy ol om l on oo">const fetchVideos = async (queryObject) =&gt; {<br/> const options = {<br/>  method: 'GET',<br/>  url: `https://youtube.googleapis.com/youtube/v3/search? part=snippet&amp;maxResults=50&amp;id=${queryObject.channelId}&amp;key=YOUR_API_KEY`<br/>  };<br/> const result = await axios(options)<br/> return result.data<br/>}</span></pre><p id="c47c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">I .<code class="fe op oq or oh b">part</code>参数指定API响应将包括的一个或多个<code class="fe op oq or oh b">channel</code>资源属性的逗号分隔列表。</p><p id="e1b5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">二。<code class="fe op oq or oh b">maxResults</code>参数指定结果集中应该返回的最大项数。可接受的值是从<code class="fe op oq or oh b">0</code>到<code class="fe op oq or oh b">50</code>，包含在内。默认值为<code class="fe op oq or oh b">5</code>。</p><p id="769d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">三。<code class="fe op oq or oh b">id </code>参数为正在检索的资源指定一个逗号分隔的YouTube频道ID列表。</p><p id="7421" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">四。<code class="fe op oq or oh b">key</code>参数指定了我们已经生成的Google key，它将验证您的API调用。</p><p id="8849" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 3。调用获取视频功能</strong></p><p id="dbfd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦用户输入频道Id并点击提交按钮，调用获取视频功能。这将返回通道对象。点击了解更多关于通道对象及其参数<a class="ae ki" href="https://developers.google.com/youtube/v3/docs/channels/list" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><pre class="kk kl km kn gt og oh oi oj aw ok bi"><span id="5e64" class="mh mi in oh b gy ol om l on oo">router.post('/fetch_videos', async (req, res) =&gt; {<br/> try {<br/>  const fetchedVideos = await fetchVideos(req.body)</span><span id="39c5" class="mh mi in oh b gy os om l on oo">  const searchTemp =<br/>hbs.handlebars.compile(fs.readFileSync('views/searchResults.hbs').toString('utf-8'))</span><span id="aab8" class="mh mi in oh b gy os om l on oo">  const html = searchTemp({ message: fetchedVideos.items })<br/>  res.send({<br/>   html,<br/>  })<br/> } catch (err) {<br/>    console.log(err);<br/> }<br/>})</span></pre><p id="a972" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 4。搜索结果文件内容</strong></p><p id="e31f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦从API中获取视频，这将动态添加视频卡。</p><pre class="kk kl km kn gt og oh oi oj aw ok bi"><span id="24c1" class="mh mi in oh b gy ol om l on oo">{{#if result}}<br/> &lt;div class="row"&gt;<br/> {{#each result}}<br/>  &lt;div class="col-md-4 card mb-2 ml-1"&gt;<br/>   &lt;iframe class="card-img-top"  src="https://www.youtube.com/embed/{{id.videoId}}" frameborder="0"<br/> allowfullscreen&gt;&lt;/iframe&gt;<br/>   &lt;div class="card-body"&gt;<br/>   &lt;h5 class="card-title"&gt;{{snippet.title}}&lt;/h5&gt;<br/>   &lt;p class="card-text"&gt;{{snippet.description}}&lt;/p&gt;<br/>   &lt;/div&gt;<br/>  &lt;/div&gt;<br/> {{/each}}<br/> &lt;/div&gt;<br/>{{/if}}</span></pre><p id="3801" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> 5。Index.hbs文件</strong></p><p id="ba32" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们将创建前端表单，用户可以在其中输入通道Id并获得结果。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi ot"><img src="../Images/2133f68c3908c465f7bc3adad2f1c2b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HKtF_9I9AzkzCqqZdnoRBw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Index.js file</figcaption></figure><p id="5b2e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦用户输入频道id，点击提交按钮并获取结果。并将HTML内容添加到搜索div标记中，而不刷新页面。您应该能够看到特定频道的视频。</p><p id="e80f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就是这样，你可以使用这个简单的API将YouTube视频嵌入到任何项目中。</p><p id="980e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="ou">感谢阅读。最初发表于2021年9月1日</em></strong><a class="ae ki" href="https://noob2geek.in/2021/09/01/listing-videos-of-a-channel-with-the-youtube-api-node-js/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="ou">https://noob 2 geek . in</em></strong></a><strong class="jm io"><em class="ou">。</em>T29】</strong></p><p id="3b41" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ou">更多内容请看</em><a class="ae ki" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="ou">plain English . io</em></strong></a></p></div></div>    
</body>
</html>