<html>
<head>
<title>How to Create Light and Dark Mode Toggle in Next.js with Tailwind</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用顺风在Next.js中创建明暗模式切换</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-light-and-dark-mode-toggle-in-next-js-with-tailwind-61e67518fd2d?source=collection_archive---------1-----------------------#2021-06-03">https://javascript.plainenglish.io/how-to-create-light-and-dark-mode-toggle-in-next-js-with-tailwind-61e67518fd2d?source=collection_archive---------1-----------------------#2021-06-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="030b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">今天，我们将学习如何用localStorage在Tailwind中创建一个黑暗模式切换。所以，让我们直接开始吧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/98ddf6bfebeebe698b4a79208d72970a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IwEYI5AuJ_lWbWfZ.jpg"/></div></div></figure><p id="fae6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我们要用Tailwind建立一个Next.js应用程序。也可以使用React。</p><p id="1234" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以使用我创建的一个<a class="ae ku" href="https://github.com/avneesh0612/Nextjs-tailwind-starter-template" rel="noopener ugc nofollow" target="_blank"> Next.js顺风模板</a>。自述文件中给出了安装步骤。如果你正在使用它，你可以跳到我们创建钩子的部分。</p><p id="6393" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您想从头开始设置:</p><h2 id="ba7d" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">创建Next.js应用程序</h2><pre class="kj kk kl km gt lo lp lq lr aw ls bi"><span id="b377" class="kv kw in lp b gy lt lu l lv lw">npx create-next-app tailwind-darkmode</span></pre><h2 id="756d" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">安装顺风</h2><pre class="kj kk kl km gt lo lp lq lr aw ls bi"><span id="a435" class="kv kw in lp b gy lt lu l lv lw"># If you're on Next.js v10<br/>npm install -D tailwindcss@latest postcss@latest autoprefixer@latest<br/><br/># If you're on Next.js v9 or older<br/>npm install -D tailwindcss@npm:@tailwindcss/postcss7-compat postcss@^7 autoprefixer@^9</span></pre><h2 id="4db7" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">创建配置文件</h2><pre class="kj kk kl km gt lo lp lq lr aw ls bi"><span id="c3c4" class="kv kw in lp b gy lt lu l lv lw">npx tailwindcss init -p</span></pre><h2 id="79c8" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">将您的顺风配置文件更改为</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="6c83" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这将启用清除您的文件，也启用黑暗模式。</p><p id="17b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后，在styles文件夹中更改globals.css</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure></div><div class="ab cl lz ma hr mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ig ih ii ij ik"><h2 id="1c88" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">现在我们将创建我们的自定义挂钩。</h2><p id="7713" class="pw-post-body-paragraph jk jl in jm b jn mg jp jq jr mh jt ju jv mi jx jy jz mj kb kc kd mk kf kg kh ig bi translated">创建名为useDarkMode.js的文件</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="69dd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">那我们在这里做什么？</p><ul class=""><li id="d7bf" class="ml mm in jm b jn jo jr js jv mn jz mo kd mp kh mq mr ms mt bi translated">首先，我们从React导入<code class="fe mu mv mw lp b">useState</code>和<code class="fe mu mv mw lp b">useEffect</code>。</li><li id="bb5a" class="ml mm in jm b jn mx jr my jv mz jz na kd nb kh mq mr ms mt bi translated">我们正在创建一个变量，它可以是亮的，也可以是暗的，我们将从localStorage中获取它的默认值，我们使用这个条件是因为服务器上没有localStorage。</li><li id="2908" class="ml mm in jm b jn mx jr my jv mz jz na kd nb kh mq mr ms mt bi translated">然后我们创建了一个<code class="fe mu mv mw lp b">useEffect</code>钩子，当我们点击某个东西时，它会在黑暗模式和光明模式之间切换，我们也在本地存储中使用条件来设置主题。</li><li id="6638" class="ml mm in jm b jn mx jr my jv mz jz na kd nb kh mq mr ms mt bi translated">最后是回归<code class="fe mu mv mw lp b">colorTheme </code>和<code class="fe mu mv mw lp b">setTheme</code>。以便我们可以访问和编辑主题。</li></ul><h2 id="cc62" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">现在我们将创建两个用于切换的按钮</h2><p id="fe38" class="pw-post-body-paragraph jk jl in jm b jn mg jp jq jr mh jt ju jv mi jx jy jz mj kb kc kd mk kf kg kh ig bi translated">首先，我们需要像这样使用和导入我们的自定义钩子-</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="a901" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后我将创建两个按钮图标。用于切换到亮模式的灯泡图标和暗模式的月亮图标，就像index.js中的一样。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="8af5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你试着点击这些图标，你可以看到它们的变化。</p><p id="6243" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我只是为这两个主题添加一个背景。</p><p id="9944" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您的最终代码应该如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="9038" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你的网站应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc ly l"/></div></figure><p id="5343" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">恭喜你！你用顺风CSS做了一个黑暗模式切换。🥳</p><p id="c2f3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我希望你从这篇教程中学到了什么。如果你面临任何问题，请随时查看我的回购或在我的任何社交网站上给我发信息。</p><h2 id="aff5" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">有用的链接:</h2><p id="b54e" class="pw-post-body-paragraph jk jl in jm b jn mg jp jq jr mh jt ju jv mi jx jy jz mj kb kc kd mk kf kg kh ig bi translated"><a class="ae ku" href="https://github.com/avneesh0612/tailwind-darkmode-demo" rel="noopener ugc nofollow" target="_blank">该项目的Github库</a></p><p id="fb85" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ku" href="https://tailwindcss.com/docs" rel="noopener ugc nofollow" target="_blank">顺风单据</a></p><p id="553c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ku" href="https://nextjs.org/docs" rel="noopener ugc nofollow" target="_blank"> Next.js文档</a></p><p id="97ef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ku" href="https://avneesh-links.vercel.app/" rel="noopener ugc nofollow" target="_blank">联系我</a></p><p id="86d2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="nd">更多内容看</em><a class="ae ku" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="nd">plain English . io</em></strong></a></p></div></div>    
</body>
</html>