<html>
<head>
<title>How To Copy/Paste Text Into Clipboard Using JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用JavaScript将文本复制/粘贴到剪贴板</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-copy-paste-text-into-clipboard-using-javascript-1bb5f96325e8?source=collection_archive---------2-----------------------#2021-07-12">https://javascript.plainenglish.io/how-to-copy-paste-text-into-clipboard-using-javascript-1bb5f96325e8?source=collection_archive---------2-----------------------#2021-07-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/ffabf35b41dbb0c0bdbe82542f1e2c50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cAJycsnMuX2Mn870"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@hannaholinger?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Hannah Olinger</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6b9b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">可以使用<code class="fe ky kz la lb b">Navigator</code>将文本复制/粘贴到剪贴板。</p><p id="ab00" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一个<code class="fe ky kz la lb b">Navigator</code>是JavaScript中的一个接口，它给出关于用户代理(这里是browser)的信息，帮助管理浏览器权限，并附带一些非常有用的实用函数来了解用户代理的状态和身份。</p><p id="9f63" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe ky kz la lb b">Navigator </code>对象可以通过只读<code class="fe ky kz la lb b"> window.navigator</code>或简单的<code class="fe ky kz la lb b">navigator </code>属性来使用。</p><p id="cb23" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">导航器的一些有用属性是</p><ol class=""><li id="2223" class="lc ld in kc b kd ke kh ki kl le kp lf kt lg kx lh li lj lk bi translated"><code class="fe ky kz la lb b">navigator.onLine</code> —如果浏览器具有网络连接，则返回true，否则返回false。</li><li id="b46b" class="lc ld in kc b kd ll kh lm kl ln kp lo kt lp kx lh li lj lk bi translated"><code class="fe ky kz la lb b">navigator.clipboard</code> —用于将内容复制/粘贴到剪贴板</li><li id="ddb2" class="lc ld in kc b kd ll kh lm kl ln kp lo kt lp kx lh li lj lk bi translated"><code class="fe ky kz la lb b">navigator.geolocation</code> —用于获取设备位置。</li><li id="a5d0" class="lc ld in kc b kd ll kh lm kl ln kp lo kt lp kx lh li lj lk bi translated"><code class="fe ky kz la lb b">navigator.permissions </code> —用于获取<a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/API/Permissions_API" rel="noopener ugc nofollow" target="_blank">权限API覆盖的API的权限状态。</a></li></ol><p id="1cf8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本文中，我们将检查<code class="fe ky kz la lb b">navigator.clipboard</code>属性。</p></div><div class="ab cl lq lr hr ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ig ih ii ij ik"><h1 id="155a" class="lx ly in bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">复制文本</h1><ol class=""><li id="f828" class="lc ld in kc b kd mv kh mw kl mx kp my kt mz kx lh li lj lk bi translated">从输入框中复制文本</li></ol><figure class="na nb nc nd gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">HTML for clipboard copy from an input box</figcaption></figure><p id="bb17" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里我们从按钮点击的输入框中复制内容。</p><figure class="na nb nc nd gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">JS for clipboard copy from an input box</figcaption></figure><p id="995a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe ky kz la lb b">navigator.clipboard.writeText() </code>接受一个<a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMString" rel="noopener ugc nofollow" target="_blank"> DOMString </a>，这里我们从文本框中读取值。</p><p id="8642" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">该函数返回一个承诺，一旦剪贴板上的内容被更新，这个承诺就会得到解决。</p><p id="5460" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2.从HTML标记内容复制</p><figure class="na nb nc nd gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">HTML for clipboard copy from a tag</figcaption></figure><figure class="na nb nc nd gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">JS for clipboard copy from a tag</figcaption></figure><p id="59f2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在<code class="fe ky kz la lb b">writeText()</code>中你可以通过目标元素的<code class="fe ky kz la lb b">innerText </code>来复制文本。</p><h1 id="9bcc" class="lx ly in bd lz ma ng mc md me nh mg mh mi ni mk ml mm nj mo mp mq nk ms mt mu bi translated">粘贴文本</h1><p id="b608" class="pw-post-body-paragraph ka kb in kc b kd mv kf kg kh mw kj kk kl nl kn ko kp nm kr ks kt nn kv kw kx ig bi translated">要将内容粘贴到剪贴板，使用<code class="fe ky kz la lb b">navigator.clipboard</code>上的<code class="fe ky kz la lb b">readText()</code>。</p><figure class="na nb nc nd gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">HTML for clipboard paste</figcaption></figure><p id="f426" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们将内容粘贴到<code class="fe ky kz la lb b">clipboard-paste</code>标签<code class="fe ky kz la lb b">innerText</code>中。</p><figure class="na nb nc nd gt jo"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">JS for clipboard paste</figcaption></figure><p id="a9d4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">与<code class="fe ky kz la lb b">writeText()</code>类似，<code class="fe ky kz la lb b">readText()</code>也返回一个承诺，当有权限粘贴内容时，该承诺被解析。当试图粘贴时，浏览器会询问以下权限。</p><figure class="na nb nc nd gt jo gh gi paragraph-image"><div class="gh gi no"><img src="../Images/7500f053c9e9435aa4c7652ceb546e9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*4Qp_9xiGb6W7ef2omAOhBQ.png"/></div></figure><p id="8148" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您阻止了该权限，则承诺将被拒绝，并显示消息“DOM exception:Read permission denied”。</p><h1 id="458b" class="lx ly in bd lz ma ng mc md me nh mg mh mi ni mk ml mm nj mo mp mq nk ms mt mu bi translated">结论</h1><ul class=""><li id="b516" class="lc ld in kc b kd mv kh mw kl mx kp my kt mz kx np li lj lk bi translated">使用<code class="fe ky kz la lb b">navigator.clipboard</code>访问剪贴板。</li><li id="a079" class="lc ld in kc b kd ll kh lm kl ln kp lo kt lp kx np li lj lk bi translated">使用<code class="fe ky kz la lb b">writeText()</code>将文本复制到剪贴板。</li><li id="0067" class="lc ld in kc b kd ll kh lm kl ln kp lo kt lp kx np li lj lk bi translated">使用<code class="fe ky kz la lb b">readText()</code>粘贴文本。</li><li id="0f83" class="lc ld in kc b kd ll kh lm kl ln kp lo kt lp kx np li lj lk bi translated">请确保您已授予剪贴板的浏览器权限，以避免承诺被拒绝。</li></ul><h2 id="d5e0" class="nq ly in bd lz nr ns dn md nt nu dp mh kl nv nw ml kp nx ny mp kt nz oa mt ob bi translated">参考资料:</h2><p id="77d7" class="pw-post-body-paragraph ka kb in kc b kd mv kf kg kh mw kj kk kl nl kn ko kp nm kr ks kt nn kv kw kx ig bi translated"><a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/clipboard" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/API/Navigator/clipboard</a></p><p id="a921" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">仅此而已！希望这篇文章有用！。</p><p id="60dc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="oc">更多内容尽在</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="oc">plain English . io</em></strong></a></p></div></div>    
</body>
</html>