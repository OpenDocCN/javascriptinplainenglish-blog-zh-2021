<html>
<head>
<title>Implement Dropdown Select Boxes in React Native with Formik</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React Native with Formik中实现下拉选择框</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/implementing-dropdown-select-boxes-in-react-native-with-formik-a897d1b3db48?source=collection_archive---------0-----------------------#2021-06-27">https://javascript.plainenglish.io/implementing-dropdown-select-boxes-in-react-native-with-formik-a897d1b3db48?source=collection_archive---------0-----------------------#2021-06-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f9d3" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何使用Formik在React Native中制作下拉选择框</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/c619a3d688bed9a192d4a0b8d397d1f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rQNkcjLw1RYtDZRNqoyQtw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">image by <a class="ae ks" href="https://material.io/components/menus#usage" rel="noopener ugc nofollow" target="_blank">material.io</a></figcaption></figure><p id="d3ba" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">下拉选择框是移动和web应用程序中许多表单的常见功能。它们允许用户从相似项目的列表中选择单个项目。这些项目可以是日、月、城市、国家或任何其他类别。本文将向您展示如何在React Native和Formik中放置下拉选择框。</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><p id="780d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤1: </strong>使用expo创建一个新的react-native项目。称之为SelectBoxApp</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="687d" class="mb mc in lx b gy md me l mf mg">expo init SelectBoxApp</span></pre><p id="e497" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第二步:</strong>然后把Formik库安装到app上。在这里阅读Formik文档<a class="ae ks" href="https://formik.org/docs/overview" rel="noopener ugc nofollow" target="_blank"/>。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="21ac" class="mb mc in lx b gy md me l mf mg">npm install formik --save</span></pre><p id="7287" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第三步:</strong>安装Axios</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="25a0" class="mb mc in lx b gy md me l mf mg">npm install axios --save</span></pre><p id="fbb8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第四步:</strong>安装react-native-paper</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="9c8d" class="mb mc in lx b gy md me l mf mg">npm install react-native-paper</span></pre><p id="471f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤5: </strong>安装react-native-community/picker</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="bd6a" class="mb mc in lx b gy md me l mf mg">npm install @react-native-community/picker --save</span></pre><p id="2a7f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">查看文档od<strong class="kv io">@ react-native-community/picker</strong><a class="ae ks" href="https://www.npmjs.com/package/@react-native-community/picker" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><p id="2181" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤6: </strong>将react导入到您的app.js文件中</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="41fa" class="mb mc in lx b gy md me l mf mg">import React from 'react';</span></pre><p id="aa06" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第七步:</strong>将axios导入到你的app.js文件中。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="8d35" class="mb mc in lx b gy md me l mf mg">import axios from 'axios';</span></pre><p id="de1b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第八步:</strong>将<em class="mh"> react-native </em>中的<strong class="kv io">视图</strong>、<strong class="kv io">文本</strong>和<strong class="kv io">预警</strong>组件导入到你的app.js中</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="ebe9" class="mb mc in lx b gy md me l mf mg">import { View, Text, Alert} from 'react-native';</span></pre><p id="d107" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第九步:</strong>将<strong class="kv io">按钮</strong>、<strong class="kv io">标题</strong>、<strong class="kv io">文本</strong>组件从<em class="mh"> react-native-paper </em>导入到你的app.js文件中</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="2ff0" class="mb mc in lx b gy md me l mf mg">import { Button, Title, TextInput } from 'react-native-paper';</span></pre><p id="fade" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤10: </strong>将Formik中的useFormik钩子导入到您的app.js文件中</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="bdb6" class="mb mc in lx b gy md me l mf mg">import { useFormik } from 'formik';</span></pre><p id="dadf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第十一步:</strong>将Picker从@react-native-community/picker导入到你的app.js文件中。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="336e" class="mb mc in lx b gy md me l mf mg">import { Picker } from '@react-native-community/picker'</span></pre><p id="ee30" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是所需进口的完整清单。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="5e33" class="mb mc in lx b gy md me l mf mg">import React, { useState, useEffect } from 'react';<br/>import axios from 'axios';<br/>import { View, Text, Alert} from 'react-native';<br/>import { Button } from 'react-native-paper';<br/>import { useFormik } from 'formik';<br/>import { Picker } from '@react-native-community/picker'<br/></span></pre><p id="0de7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第十二步:</strong>创建一个名为App的常量变量来存放一个胖箭头函数。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="3082" class="mb mc in lx b gy md me l mf mg">const App = () =&gt; {<br/>  <br/>};<br/>  <br/>export default App;</span></pre><p id="4fa7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第13步:</strong>在应用程序内部创建一个数组，用于保存下拉选择框的选项。称之为城市。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="8b02" class="mb mc in lx b gy md me l mf mg"><em class="mh">const</em> cities = [<br/>     {name:"Los Angeles", id: 1},<br/>     {name:"Philadelphia", id: 2},<br/>     {name:"Chicago", id: 3},<br/>     {name:"Washington DC", id: 4},<br/>     {name:"New York", id: 5},<br/>     {name:"San Diego", id: 6},<br/>     {name:"Fort Worth", id: 7},<br/>     {name:"Houston", id: 8},<br/>     {name:"Cleveland", id: 9},<br/>     {name:"Pittsburg", id: 10},<br/>     {name:"Detroit", id: 11},<br/>     {name:"Jacksonville", id: 12},<br/>     {name:"Denver", id: 13},<br/>     {name:"Columbus", id: 14},<br/>     {name:"El Paso", id: 15},<br/>     {name:"New Orleans", id: 16},<br/>     {name:"Cincinnati", id: 17},<br/>     {name:"Nashville", id: 18},<br/>     {name:"Miami", id: 19},<br/>     {name:"Tampa", id: 20},<br/>     {name:"Bakersfield", id: 22},<br/>     {name:"Tuscon", id: 23},<br/>     {name:"Baltimore", id: 25},<br/>     {name:"St Louis", id: 26},<br/>     {name:"Las Vegas", id: 27},<br/>     {name:"Memphis", id: 28},<br/>     {name:"Seatle", id: 29},<br/>     {name:"San Fransisco", id: 30},</span><span id="7969" class="mb mc in lx b gy mi me l mf mg">]</span></pre><p id="e639" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第十四步:</strong>App内。创建一个常量变量来保存<em class="mh"> useFormik </em>钩子的返回值。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="1dfe" class="mb mc in lx b gy md me l mf mg">const formik = useFormik();</span></pre><p id="a123" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第十五步:</strong>将<em class="mh"> city_name </em>属性添加到initialValues属性中。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="6f36" class="mb mc in lx b gy md me l mf mg">const formik = useFormik({<br/>  initialValues: { city_name: '' },<br/>});</span></pre><p id="2e81" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤16: </strong>使用axios向onSubmit属性发出HTTP请求，将数据发送到API端点。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="b0b2" class="mb mc in lx b gy md me l mf mg"><em class="mh">const</em> formik = useFormik({<br/>   initialValues: { city_name: '' },<br/>   onSubmit: <em class="mh">values</em> =&gt; {<br/>     axios({<br/>        method: 'post',<br/>        url: &lt;domain-name&gt; + 'url',<br/>        data: {<br/>           'city_name': values.city_name},<br/>        headers: {'Content-Type': 'application/json'}<br/>         }).then(<em class="mh">response</em> =&gt; {<br/>         }).catch(<em class="mh">err</em> =&gt; {<br/>             Alert.alert('An error occurred!', err.message,<br/>           [{ text: 'Okay' }]);</span><span id="ae07" class="mb mc in lx b gy mi me l mf mg">})}</span><span id="2849" class="mb mc in lx b gy mi me l mf mg">});</span></pre><p id="f7af" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在return语句中，添加一个选取器元素和选取器项。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="ff2c" class="mb mc in lx b gy md me l mf mg">return(</span><span id="880c" class="mb mc in lx b gy mi me l mf mg">&lt;View&gt;<br/>      &lt;Picker <br/>            <em class="mh">enabled</em>={true} <br/>            <em class="mh">mode</em>="dropdown"<br/>            <em class="mh">placeholder</em>="Select City"<br/>            <em class="mh">onValueChange</em>={formik.handleChange('city_name')}<br/>            <em class="mh">selectedValue</em>={formik.values.city_name}<br/>      &gt;<br/>       {cities.map((<em class="mh">item</em>) =&gt; {<br/>        return<br/>          (&lt;Picker.Item <br/>              <em class="mh">label</em>={item.name.toString()} <br/>              <em class="mh">value</em>={item.name.toString()} <br/>              <em class="mh">key</em>={item.id.toString()} /&gt;)<br/>        })}</span><span id="97bd" class="mb mc in lx b gy mi me l mf mg">&lt;/Picker&gt;</span><span id="b67d" class="mb mc in lx b gy mi me l mf mg">&lt;/View&gt;</span><span id="7821" class="mb mc in lx b gy mi me l mf mg">)</span></pre><p id="5650" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第十七步:</strong>接下来，在提货人下方添加提交按钮。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="53b1" class="mb mc in lx b gy md me l mf mg">return(</span><span id="2be5" class="mb mc in lx b gy mi me l mf mg">&lt;View&gt;<br/>      &lt;Picker <br/>            <em class="mh">enabled</em>={true} <br/>            <em class="mh">mode</em>="dropdown"<br/>            <em class="mh">placeholder</em>="Select City"<br/>            <em class="mh">onValueChange</em>={formik.handleChange('city_name')}<br/>            <em class="mh">selectedValue</em>={formik.values.city_name}<br/>      &gt;<br/>       {cities.map((<em class="mh">item</em>) =&gt; {<br/>        return<br/>          (&lt;Picker.Item <br/>              <em class="mh">label</em>={item.name.toString()} <br/>              <em class="mh">value</em>={item.name.toString()} <br/>              <em class="mh">key</em>={item.id.toString()} /&gt;)<br/>        })}</span><span id="e393" class="mb mc in lx b gy mi me l mf mg">     &lt;/Picker&gt;</span><span id="0fce" class="mb mc in lx b gy mi me l mf mg">     &lt;Button <br/>            <em class="mh">mode</em>="contained" <br/>            <em class="mh">title</em>='submit' <br/>            <em class="mh">onPress</em>={formik.handleSubmit}<br/>      &gt;<br/>        Enter<br/>      &lt;/Button&gt;</span><span id="5966" class="mb mc in lx b gy mi me l mf mg">&lt;/View&gt;</span><span id="4e05" class="mb mc in lx b gy mi me l mf mg">)</span></pre><p id="fc97" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最终的<em class="mh"> app.js </em>文件应该是这样的。</p><pre class="kd ke kf kg gt lw lx ly lz aw ma bi"><span id="d266" class="mb mc in lx b gy md me l mf mg">import React, { useState, useEffect } from 'react';<br/>import axios from 'axios';<br/>import { View, Text, Alert} from 'react-native';<br/>import { Button } from 'react-native-paper';<br/>import { useFormik } from 'formik';<br/>import { Picker } from '@react-native-community/picker'<br/></span><span id="1b4e" class="mb mc in lx b gy mi me l mf mg"><em class="mh">const</em> App = () =&gt; {</span><span id="afa9" class="mb mc in lx b gy mi me l mf mg"><em class="mh">const</em> cities = [<br/>     {name:"Los Angeles", id: 1},<br/>     {name:"Philadelphia", id: 2},<br/>     {name:"Chicago", id: 3},<br/>     {name:"Washington DC", id: 4},<br/>     {name:"New York", id: 5},<br/>     {name:"San Diego", id: 6},<br/>     {name:"Fort Worth", id: 7},<br/>     {name:"Houston", id: 8},<br/>     {name:"Cleveland", id: 9},<br/>     {name:"Pittsburg", id: 10},<br/>     {name:"Detroit", id: 11},<br/>     {name:"Jacksonville", id: 12},<br/>     {name:"Denver", id: 13},<br/>     {name:"Columbus", id: 14},<br/>     {name:"El Paso", id: 15},<br/>     {name:"New Orleans", id: 16},<br/>     {name:"Cincinnati", id: 17},<br/>     {name:"Nashville", id: 18},<br/>     {name:"Miami", id: 19},<br/>     {name:"Tampa", id: 20},<br/>     {name:"Bakersfield", id: 22},<br/>     {name:"Tuscon", id: 23},<br/>     {name:"Baltimore", id: 25},<br/>     {name:"St Louis", id: 26},<br/>     {name:"Las Vegas", id: 27},<br/>     {name:"Memphis", id: 28},<br/>     {name:"Seatle", id: 29},<br/>     {name:"San Fransisco", id: 30},<br/>]</span><span id="fd56" class="mb mc in lx b gy mi me l mf mg"><em class="mh">const</em> formik = useFormik({<br/>   initialValues: { city_name: '' },<br/>   onSubmit: <em class="mh">values</em> =&gt; {<br/>     axios({<br/>        method: 'post',<br/>        url: &lt;domain-name&gt; + 'url',<br/>        data: {<br/>           'city_name': values.city_name},<br/>        headers: {'Content-Type': 'application/json'}<br/>         }).then(<em class="mh">response</em> =&gt; {<br/>         }).catch(<em class="mh">err</em> =&gt; {<br/>             Alert.alert('An error occurred!', err.message,<br/>           [{ text: 'Okay' }]);</span><span id="7a7a" class="mb mc in lx b gy mi me l mf mg">})}</span><span id="493a" class="mb mc in lx b gy mi me l mf mg">});</span><span id="377e" class="mb mc in lx b gy mi me l mf mg">return(</span><span id="d08d" class="mb mc in lx b gy mi me l mf mg">&lt;View&gt;</span><span id="d384" class="mb mc in lx b gy mi me l mf mg"><br/>      &lt;Picker <br/>            <em class="mh">enabled</em>={true} <br/>            <em class="mh">mode</em>="dropdown"<br/>            <em class="mh">placeholder</em>="Select City"<br/>            <em class="mh">onValueChange</em>={formik.handleChange('city_name')}<br/>            <em class="mh">selectedValue</em>={formik.values.city_name}<br/>      &gt;<br/>       {cities.map((<em class="mh">item</em>) =&gt; {<br/>        return<br/>          (&lt;Picker.Item <br/>              <em class="mh">label</em>={item.name.toString()} <br/>              <em class="mh">value</em>={item.name.toString()} <br/>              <em class="mh">key</em>={item.id.toString()} /&gt;)<br/>        })}</span><span id="5a67" class="mb mc in lx b gy mi me l mf mg">     &lt;/Picker&gt;</span><span id="5fde" class="mb mc in lx b gy mi me l mf mg">     &lt;Button <br/>            <em class="mh">mode</em>="contained" <br/>            <em class="mh">title</em>='submit' <br/>            <em class="mh">onPress</em>={formik.handleSubmit}<br/>      &gt;<br/>        Enter<br/>      &lt;/Button&gt;</span><span id="fefd" class="mb mc in lx b gy mi me l mf mg">&lt;/View&gt;</span><span id="08e8" class="mb mc in lx b gy mi me l mf mg">)}</span><span id="aa5b" class="mb mc in lx b gy mi me l mf mg">export default App;</span></pre><p id="bb4d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">最后</strong>，测试app。</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><p id="24e5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在我们有了。我希望你已经发现这是有用的。我会带着更多有趣的文章回来。感谢您的阅读。</p><p id="4b03" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mh">更多内容看</em><a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mh">plain English . io</em></strong></a></p></div></div>    
</body>
</html>