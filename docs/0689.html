<html>
<head>
<title>Understanding Call-by-Value and Call-by-Reference in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解JavaScript中的按值调用和按引用调用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/understanding-call-by-value-and-call-by-reference-in-javascript-3ebac2b6969d?source=collection_archive---------6-----------------------#2021-02-12">https://javascript.plainenglish.io/understanding-call-by-value-and-call-by-reference-in-javascript-3ebac2b6969d?source=collection_archive---------6-----------------------#2021-02-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="cdfb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为什么理解JavaScript如何处理参数以及它不仅仅是引用调用或值调用非常重要。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/25209a618c3844b2f844c318dfc5dd47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_P0nZWSUqdT6-6YI"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@sincerelymedia" rel="noopener ugc nofollow" target="_blank">Sincerely Media</a> on <a class="ae lb" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9592" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可能知道像C这样的其他语言也在使用指针算法。所以当使用变量时，你可以“指向”内存中变量实际值所在的某个地址(通过引用),或者直接将值放在手边(通过值)。当然，在引擎盖的深处，一切都储存在记忆里。</p><p id="2e63" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在JavaScript中，有点不同。当然，在幕后有很多神奇的事情发生，但是对于人类JavaScript开发人员来说，没有可用的指针算法。</p><p id="4ac0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以你可能会想:“太好了，无论如何，指针算法的东西是超级复杂的，所以让我们只推实际值！”</p><p id="f74b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">想法不错，但有缺陷。即使JavaScript没有任何实际的指针，像其他语言一样，引用仍然存在。</p><h2 id="fc45" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">原始类型</h2><p id="2f5d" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">所以让我们来看看基本类型是如何工作的:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="3a83" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当您运行上面的代码片段时，您可以看到，对于像<code class="fe mc md me mf b">string</code>、<code class="fe mc md me mf b">boolean</code>和<code class="fe mc md me mf b">number</code>类型这样的原语，当您将<code class="fe mc md me mf b">a</code>赋值给<code class="fe mc md me mf b">b</code>时，实际上正在进行复制，因为您可以更改<code class="fe mc md me mf b">a</code>而不更改<code class="fe mc md me mf b">b</code>的值。</p><p id="6841" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我们可以有把握地说，对于原语类型:<code class="fe mc md me mf b">let b = a;</code>=&gt;<code class="fe mc md me mf b">a</code>的<strong class="jp ir">值</strong>正在被复制到变量<code class="fe mc md me mf b">b</code>中。</p><p id="9d72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">= &gt;这被称为<strong class="jp ir">“按值调用”</strong>，因为值本身被设置为新变量。</p><h2 id="2d91" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">非原始类型</h2><p id="4d9e" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">但是对于像<code class="fe mc md me mf b">Object</code>和<code class="fe mc md me mf b">Array</code>这样的非原始类型，情况就不同了。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="67f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">检查上面的例子，你会注意到<code class="fe mc md me mf b">a</code>和<code class="fe mc md me mf b">b</code>将相同的值打印到控制台。这是因为变量<code class="fe mc md me mf b">b</code>实际上并没有被赋予一个实际<code class="fe mc md me mf b">Object</code> / <code class="fe mc md me mf b">Array</code>的副本，而只是一个对它的引用。所以<code class="fe mc md me mf b">a</code>和<code class="fe mc md me mf b">b</code>是“指向”/“引用”同一个对象，而不仅仅是包含相同的值。一个很小但非常重要的区别。</p><p id="f384" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我们可以放心的说，对于非原语类型:<code class="fe mc md me mf b">let b = a;</code>=&gt;<code class="fe mc md me mf b">a</code>所指向的<strong class="jp ir">引用</strong>被复制到变量<code class="fe mc md me mf b">b</code>中。</p><p id="79e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">= &gt;这被称为<strong class="jp ir">，</strong>因为你对非原始类型的引用被设置为新变量而不是普通值。</p><h2 id="6733" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">功能</h2><p id="7b91" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">既然我们已经研究了如何为不同的类型分配变量，那么让我们更进一步，检查当参数传递给方法时，JavaScript是使用按值调用还是按引用调用方法。</p><p id="9b3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下面的代码片段为例，其中一个数字。一个对象被传入:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="22ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里定义了一个数字和一个对象类型变量，传递给一个内联方法，然后打印到控制台。inline方法的唯一功能是修改传入的参数。因此，让我们运行脚本并检查日志。</p><p id="6f60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如你可能已经假设的那样，由于之前的解释，<code class="fe mc md me mf b">a</code>的值仍然是我们的初始值，但是<code class="fe mc md me mf b">b</code>的值被方法改变了。那么为什么会这样呢？这是因为将参数传递给方法与将它们赋给另一个变量(在方法参数中声明)没有什么不同，正如我们之前已经看到的，对于原语类型，通过值调用，对于非原语类型，通过引用调用<strong class="jp ir">正在发生。</strong></p><p id="9518" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，每当你将复杂类型如<code class="fe mc md me mf b">Object</code>或<code class="fe mc md me mf b">Array</code>传递给一个方法时，你应该非常小心地修改它，因为这些变化也会反映在方法的范围之外，并可能产生不想要的副作用。</p><h1 id="9719" class="mg ld iq bd le mh mi mj lh mk ml mm lk mn mo mp ln mq mr ms lq mt mu mv lt mw bi translated">结论</h1><p id="539c" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我希望我能为您提供一些关于使用JavaScript时<strong class="jp ir">按值调用</strong>和<strong class="jp ir">按引用调用</strong>的见解，并帮助您理解为什么会发生某些副作用，如果您曾经想知道为什么在方法内部修改传入的对象也会反映在其外部作用域中的话。</p><p id="f803" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢您花时间阅读我的文章。</p><h2 id="5c16" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">你想联系吗？</h2><p id="6350" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">如果你想联系我，请在LinkedIn上给我打电话。</p><p id="c598" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另外，请随意查看我的书籍推荐📚。</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><div class="km kn ko kp gt ne"><a href="https://mr-pascal.medium.com/my-book-recommendations-4b9f73bf961b" rel="noopener follow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd ir gy z fp nj fr fs nk fu fw ip bi translated">我的书籍推荐</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">在接下来的章节中，你可以找到我对所有日常生活话题的书籍推荐，它们对我帮助很大。</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">mr-pascal.medium.com</p></div></div><div class="nn l"><div class="no l np nq nr nn ns kv ne"/></div></div></a></div><div class="nt nu gp gr nv ne"><a href="https://mr-pascal.medium.com/membership" rel="noopener follow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd ir gy z fp nj fr fs nk fu fw ip bi translated">通过我的推荐链接加入Medium—Pascal Zwikirsch</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">mr-pascal.medium.com</p></div></div><div class="nn l"><div class="nw l np nq nr nn ns kv ne"/></div></div></a></div></div></div>    
</body>
</html>