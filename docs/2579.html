<html>
<head>
<title>How to Get the Scrollbar Position with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript获取滚动条位置</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-the-scrollbar-position-with-javascript-b5c395677173?source=collection_archive---------9-----------------------#2021-05-27">https://javascript.plainenglish.io/how-to-get-the-scrollbar-position-with-javascript-b5c395677173?source=collection_archive---------9-----------------------#2021-05-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/455f9d8926e6f8600e2205097aff8b2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vGt0kLLdaGdRRitb"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@aditi_gautam?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Aditi Gautam</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="acbc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，当我们在一个元素或页面上滚动时，我们可能想要得到滚动条的位置。</p><p id="2a47" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用JavaScript获得滚动条的位置。</p><h1 id="9ef6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用元素的scrollTop属性</h1><p id="b1a8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用元素的<code class="fe me mf mg mh b">scrollTop</code>属性来获取因为滚动而隐藏的像素数量。</p><p id="8f45" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以用它来获得滚动条的位置。</p><p id="4c8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以编写以下HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="86fa" class="mq lc iq mh b gy mr ms l mt mu">&lt;div&gt;</span><span id="b540" class="mq lc iq mh b gy mv ms l mt mu">&lt;/div&gt;</span></pre><p id="05bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以通过编写以下内容来监听滚动事件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d9cd" class="mq lc iq mh b gy mr ms l mt mu">const div = document.querySelector('div')<br/>for (let i = 1; i &lt;= 100; i++) {<br/>  const p = document.createElement('p')<br/>  p.textContent = i<br/>  div.appendChild(p)<br/>}</span><span id="dbbd" class="mq lc iq mh b gy mv ms l mt mu">window.addEventListener('scroll', (e) =&gt; {<br/>  console.log(document.documentElement.scrollTop);<br/>})</span></pre><p id="1600" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">document.querySelector</code>方法得到div。</p><p id="7c77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们通过调用<code class="fe me mf mg mh b">document.createElement</code>来创建元素，将100个p元素添加到div中。</p><p id="7fd6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且我们通过设置<code class="fe me mf mg mh b">textContent</code>属性来设置每个的内容。</p><p id="38ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe me mf mg mh b">div.appendChild</code>方法将它添加到div中。</p><p id="d1df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们调用<code class="fe me mf mg mh b">window.addEventListener</code>，将<code class="fe me mf mg mh b">'scroll'</code>字符串作为第一个参数来监听滚动事件。</p><p id="9691" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以获取<code class="fe me mf mg mh b">documentElement</code>的<code class="fe me mf mg mh b">scrollTop</code>属性来获取<code class="fe me mf mg mh b">html</code>元素向下滚动了多远。</p><p id="f652" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以得到其他元素的<code class="fe me mf mg mh b">scrollTop</code>属性。</p><p id="a153" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="65c0" class="mq lc iq mh b gy mr ms l mt mu">&lt;div style='height: 300px; overflow-y: auto'&gt;</span><span id="b5cc" class="mq lc iq mh b gy mv ms l mt mu">&lt;/div&gt;</span></pre><p id="5f7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们设置了<code class="fe me mf mg mh b">height</code>和<code class="fe me mf mg mh b">overflow-y</code>属性来使div可滚动。</p><p id="8e06" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过编写以下内容来监听div的<code class="fe me mf mg mh b">scroll</code>事件:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="06a1" class="mq lc iq mh b gy mr ms l mt mu">const div = document.querySelector('div')<br/>for (let i = 1; i &lt;= 100; i++) {<br/>  const p = document.createElement('p')<br/>  p.textContent = i<br/>  div.appendChild(p)<br/>}</span><span id="15ac" class="mq lc iq mh b gy mv ms l mt mu">div.addEventListener('scroll', (e) =&gt; {<br/>  console.log(div.scrollTop);<br/>})</span></pre><p id="b4b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们像以前一样将内容添加到div中。</p><p id="b98e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是我们调用<code class="fe me mf mg mh b">div.addEventListener</code>而不是<code class="fe me mf mg mh b">window.addEventListener</code>来监听div的<code class="fe me mf mg mh b">scroll</code>事件。</p><p id="f6d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们获取<code class="fe me mf mg mh b">div.scrollTop</code>属性来获取div向下滚动了多远。</p><h1 id="71ca" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用window对象的scrollY属性</h1><p id="735a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">还有一个属性<code class="fe me mf mg mh b">window.scrollY</code>可以让我们以像素为单位获取滚动条向下的距离。</p><p id="7097" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以这样使用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="21cb" class="mq lc iq mh b gy mr ms l mt mu">const div = document.querySelector('div')<br/>for (let i = 1; i &lt;= 100; i++) {<br/>  const p = document.createElement('p')<br/>  p.textContent = i<br/>  div.appendChild(p)<br/>}</span><span id="1c48" class="mq lc iq mh b gy mv ms l mt mu">window.addEventListener('scroll', (e) =&gt; {<br/>  console.log(window.scrollY);<br/>})</span></pre><p id="9db0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们仍然监听<code class="fe me mf mg mh b">'scroll'</code>事件，但是我们得到的是<code class="fe me mf mg mh b">window.scrollY</code>属性而不是<code class="fe me mf mg mh b">document.documentElement.scrollTop</code>。</p><h1 id="7bcb" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="841a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有几种方法我们可以用JavaScript得到滚动条的位置。</p><p id="814c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>