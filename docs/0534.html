<html>
<head>
<title>Using Array.flat() to conquer the JavaScript Matrix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Array.flat()征服JavaScript矩阵</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/using-flat-to-conquer-the-matrix-923479c23145?source=collection_archive---------11-----------------------#2021-02-01">https://javascript.plainenglish.io/using-flat-to-conquer-the-matrix-923479c23145?source=collection_archive---------11-----------------------#2021-02-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="fa23" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">你不知道存在的方便的JavaScript方法。是时候吞下红色药丸了。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e5d9c392c4d0dd1873a14e51418d7419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dl0F36mQqB_LNtA_dKd3ug.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Image by Markus Spiske from Upsplash</figcaption></figure><p id="d3e8" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">最近，我发现自己在MDN Web Docs上浏览所有JavaScript数组原型是为了好玩——就像一个人做的那样——我遇到了一个我以前从未见过或听说过有人使用的方法:<code class="fe lo lp lq lr b">.flat()</code>。</p><p id="1931" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我很感兴趣，因为它简单的名字给了我足够的灵感去猜测它可能会做什么，但并不完全。深入研究之后，我意识到这个简单而有效的方法值得了解，并在特殊场合放在你的后兜里。如果你发现自己迷失在一个矩阵中，那么这个方法就适合你！</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ls lt l"/></div></figure><h1 id="9444" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">怎么会。平面()作品</h1><p id="763b" class="pw-post-body-paragraph ks kt in ku b kv mm jo kx ky mn jr la lb mo ld le lf mp lh li lj mq ll lm ln ig bi translated">在ES2019中引入的<code class="fe lo lp lq lr b">.flat()</code>方法是JavaScript的一个相对较新的补充。顾名思义，它是用来展平多维数组或矩阵的。</p><p id="c2a9" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><code class="fe lo lp lq lr b">.flat()</code>方法最多接受一个参数，代表你希望展平一个矩阵的深度。您也可以选择不提供参数，在这种情况下，<code class="fe lo lp lq lr b">.flat()</code>方法将默认为一个级别的数组展平。此外，这个方法创建了一个新的<strong class="ku io">数组，允许您轻松地访问原始数组的内容，而无需修改它。</strong></p><p id="86eb" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">下面我们有一个数组的数组(AoA)的例子。我们可以使用<code class="fe lo lp lq lr b">.flat()</code>将AoA减少到单个元素数组，使它们更容易遍历。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mr"><img src="../Images/2b8367dcbc4fa06a9dddd95a441812d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g8IrplckygN-op42MA-iPg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">The .flat() method with no arguments defaults to flattening one level deep.</figcaption></figure><p id="21d9" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">现在我们有了一个平面数组，元素更容易访问和操作，而不需要创建定制的函数来遍历它们。</p><h1 id="f3b8" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">使用参数</h1><p id="b465" class="pw-post-body-paragraph ks kt in ku b kv mm jo kx ky mn jr la lb mo ld le lf mp lh li lj mq ll lm ln ig bi translated">既然我们已经介绍了在没有参数的情况下使用<code class="fe lo lp lq lr b">.flat()</code>方法，那么让我们来看看当我们给这个方法提供一个参数时，这个方法做了什么。</p><p id="aedc" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在下面的代码中，我们有一个数组，它包含由更多数组组成的数组——我们现在在矩阵的深处！</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ms"><img src="../Images/cd961929b3c1603d2d48fe61b806d723.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oAJhP_oXhyp0oeFlmcJnBg.png"/></div></div></figure><p id="82bb" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">如果我们使用一个带有<code class="fe lo lp lq lr b">.flat()</code>的参数，我们可以精确地指定我们想要展平的程度。在下面的代码中，我们传入<code class="fe lo lp lq lr b">4</code>作为我们的参数，作为回报，我们得到一个由<em class="mt">和</em>扁平元素组成的数组。我们仍然使用单个嵌套数组，因为我们告诉<code class="fe lo lp lq lr b">.flat()</code>方法只深入四层，第五层数组保持不变。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/2ee497baf42dfeb4905826f5838e40c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VoIlYMMzIDUqUJ0cNrIfag.png"/></div></div></figure><p id="dd49" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">通过计算连续方括号(不包括最外面的方括号)的数量，可以很容易地判断出数组的嵌套深度。</p><h1 id="2cf4" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">使用无穷大</h1><p id="8e87" class="pw-post-body-paragraph ks kt in ku b kv mm jo kx ky mn jr la lb mo ld le lf mp lh li lj mq ll lm ln ig bi translated">有时我们无法知道需要展平的数组嵌套有多深。当然，我们可以使用<code class="fe lo lp lq lr b">100000</code>作为我们的参数，并希望得到最好的结果，但是当我们遇到一个数组中有<code class="fe lo lp lq lr b">100001</code>个嵌套数组时会发生什么呢？这是我们可以利用<code class="fe lo lp lq lr b">Infinity</code>的地方，以确保我们每次都尽可能深入。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/a6a7a7401b63b24f1c0fd171a06927e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ahn7RAucmSfwT8S1kbB2EA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">We can pass Infinity as our argument to make sure we are always going to get a flat array.</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/3d6e482258716f9268291a5bb076569d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fJrmtMN2OeoZoxkUeiHOFg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Meme created by the author using Imgflip</figcaption></figure><h1 id="9436" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">结论</h1><p id="b33b" class="pw-post-body-paragraph ks kt in ku b kv mm jo kx ky mn jr la lb mo ld le lf mp lh li lj mq ll lm ln ig bi translated">现在你知道如何利用<code class="fe lo lp lq lr b">.flat()</code>的力量，你将能够征服任何出现在你面前的矩阵问题。</p><p id="d1af" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这种方法非常适合那些希望避免数组遍历的麻烦，只需要访问元素本身的人。有了这些元素，你现在可以很快地计算出元素的和，最小值或最大值，或者任何你想要的东西。关键是，你脱离了母体！</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mx"><img src="../Images/aa33b30378117bb0ac31b0eb9e73bd73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fuoU0_vyvFnn7fZVs8wB8Q.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Meme created by the author using Imgflip</figcaption></figure><h1 id="b067" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">资源</h1><div class="my mz gp gr na nb"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd io gy z fp ng fr fs nh fu fw im bi translated">Array.prototype.flat()</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">flat()方法创建一个新数组，所有子数组元素递归地连接到该数组中，直到指定的…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">developer.mozilla.org</p></div></div><div class="nk l"><div class="nl l nm nn no nk np km nb"/></div></div></a></div></div></div>    
</body>
</html>