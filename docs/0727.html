<html>
<head>
<title>Beginner’s Guide to Debouncing vs Throttling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">去抖动与节流初学者指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/beginners-guide-to-debouncing-vs-throttling-19d663f0ff43?source=collection_archive---------8-----------------------#2021-02-14">https://javascript.plainenglish.io/beginners-guide-to-debouncing-vs-throttling-19d663f0ff43?source=collection_archive---------8-----------------------#2021-02-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="0994" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">网站性能在改善用户体验方面发挥着巨大的作用。这有时很容易做到，方法是限制函数调用的频率，只在发生重大变化时才调用它。</p><p id="017d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就把我们带到了去抖和节流的话题上，选择最适合它们的一个是至关重要的，因为它们有不同的效果。</p><h1 id="9046" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">让我们先解决基本的问题</h1><p id="7543" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated"><strong class="jm io">节流</strong>和<strong class="jm io">去抖</strong>是限制事件处理速率的两种方式。</p><p id="2131" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可能会问什么是事件？</p><p id="a2c6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">事件是系统中发生的动作。在前端开发系统将是浏览器和事件的例子将是调整窗口大小或点击按钮。</p><p id="578c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在JavaScript中，您可以使用事件监听器对事件做出反应。event <em class="ll"> listener </em>是一个函数，它监听DOM元素上的给定事件，并在事件发生时执行一个处理函数。要添加事件，您可以使用<strong class="jm io"><em class="ll">addevent listener</em></strong>函数<em class="ll">。</em></p><h1 id="137e" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">去抖动</h1><p id="c910" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated">根据去抖动概念，事件无论被用户触发多少次，都将仅在用户不触发该事件的某个不活动时间之后执行。</p><p id="3138" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这种情况下，如果用户像永远一样连续点击一个按钮，函数将永远不会被调用，因此很容易出现饥饿。</p><p id="a1a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这可以用于电子商务网站，在那里你可以搜索一个特定的项目，它会根据你的查询给出建议。在每次按下关键字时发送API调用并因此限制去抖动的速率是没有意义的。</p><p id="c58a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">假设您要搜索<em class="ll">罗技G102 </em>，去抖持续时间设置为300毫秒。你进入搜索栏并开始编写你的查询，在编写完Logitech后，你停顿了300毫秒以上，这时将调用该函数根据查询向你提供建议，如果没有停顿，它根本不会启动。</p><p id="12be" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们来看看真人表演。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lm"><img src="../Images/1459524c74d2d2f075cd234317d48ce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-r8hP_iDBPrj-odjIZajzw.gif"/></div></div></figure><p id="9132" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你们可以尝试的一个很好的例子是<a class="ae ly" href="https://codepen.io/dcorb/pen/XXPjpd" rel="noopener ugc nofollow" target="_blank">这里的</a>。感谢<a class="ae ly" href="https://codepen.io/dcorb" rel="noopener ugc nofollow" target="_blank"> Corbacho </a>提供了这款精彩的codepen。</p><h1 id="fc89" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">节流</h1><p id="d962" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated">根据节流概念，如果用户持续触发事件，则函数将在特定时间段后被严格调用。</p><p id="9f7f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这种情况下，如果用户像永远一样连续点击一个按钮，该函数将在给定的时间内被调用一次，而不管事件被触发的频率如何。</p><p id="1a80" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一个很好的例子是一个射击游戏，玩家尽可能快地连续射击目标，如果使用节流，子弹在给定的时间内只发射一次，不管用户点击的速度有多快。</p><p id="af69" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你们可以尝试的一个很好的例子是<a class="ae ly" href="https://codepen.io/dcorb/pen/eJLMxa" rel="noopener ugc nofollow" target="_blank">这里</a>。感谢<a class="ae ly" href="https://codepen.io/dcorb" rel="noopener ugc nofollow" target="_blank">科尔巴乔</a>为这个美妙的密码本。</p><h1 id="af30" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">节流与去抖</h1><p id="7b91" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated">让我们举一个例子，一名员工想要加薪，并向经理提出要求。</p><p id="27b2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一个例子是，他一直缠着他的经理要求加薪，而他的经理已经厌倦了每天听到同样的故事。所以他说，如果他工作一个月，他就会提高工资，并且在此期间不会提高工资，如果他在此期间之前提高工资，那么他将不得不重新开始。</p><p id="83fa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是去抖的工作原理。</p><p id="1525" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">另一种情况是，他提出了加薪的问题，这时经理同意并给他加薪。但这次员工想要更多，因此开始不断要求更多。了解员工的行为后，他会在一段时间内忽略他，然后提高他的工资，但在给定的时间内从未提高过两次。</p><p id="b088" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是节流的工作原理。</p><p id="ba8b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看看它的实际效果。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/89a5093235d63cea647e67861c0f9db6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*lCPWSAmb4-hZuykbdTho0w.gif"/></div></figure><p id="1fc5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">感谢<a class="ae ly" href="http://demo.nimius.net/debounce_throttle/" rel="noopener ugc nofollow" target="_blank">本</a> <a class="ae ly" href="http://demo.nimius.net/debounce_throttle/" rel="noopener ugc nofollow" target="_blank">网站</a>为GIF。</p><h1 id="42e8" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">什么时候用什么？</h1><p id="4692" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated">这两个概念都有各自的优点和缺点，并在此基础上产生了它们的用例。</p><p id="0b64" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当最近事件发生的结果是重要的，而之前的事件不太重要时，可以使用去抖。</p><p id="0c60" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当提供给函数的输入无关紧要或每次都相同时，可以使用节流。一个小例子是网页上的无限滚动。这里我们只需要检查用户离页面底部有多远。如果它们很接近，我们请求更多的数据并将其附加到页面上。去抖不会工作，因为它只会在用户停止时触发，这不是我们想要的。</p><p id="2889" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">另一个例子是多人射击游戏，你的角色必须开枪杀死对手。可以对步枪的射击能力进行节流，使其每秒只能射击一次。现在，即使玩家在5秒钟内发出击打10次的命令，射出的子弹数也只有5发。</p><h1 id="fe1c" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">结论</h1><p id="c9fe" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated">去抖动和节流等技术让我们能够控制网站中事件的执行，帮助我们减少可能会影响网站性能的高计算任务的数量</p></div></div>    
</body>
</html>