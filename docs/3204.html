<html>
<head>
<title>How to Display a 404 Page with React and React Router</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用React和React路由器显示404页面</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-display-a-404-page-with-react-and-react-router-d16d66703e5e?source=collection_archive---------2-----------------------#2021-06-30">https://javascript.plainenglish.io/how-to-display-a-404-page-with-react-and-react-router-d16d66703e5e?source=collection_archive---------2-----------------------#2021-06-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2d10" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用404页面捕捉所有未知路线</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e9c0cedfa85dbb478ca755742fab573e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qGKXTwfsPCvc81L0"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@introspectivedsgn?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Erik Mclean</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d799" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">404错误是浏览互联网时遇到的最容易识别的错误之一。它来自HTTP响应状态代码错误。如果用户试图访问断开的或不存在的链接，网站托管服务器将生成“404未找到”错误。</p><p id="755d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你访问的所有网站都可能有某种形式的404页面。例如，在Medium上，404页看起来像这样。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/2b23df7473edf875f3388ffc53766421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LqhoNODnqOUGBTA3DQX0Pw.png"/></div></div></figure><p id="bd7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将了解如何创建一个404页面，并使用React路由器捕获所有不存在的路由。</p><p id="1d4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您是React路由器的新手，请查看下面的文章开始使用。</p><div class="lt lu gp gr lv lw"><a rel="noopener  ugc nofollow" target="_blank" href="/tutorial-and-beginners-guide-to-react-router-ee19ca31d7d"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">React路由器教程和初学者指南</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">如何在React web应用程序中使用客户端路由</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk kp lw"/></div></div></a></div></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="db69" class="ms mt iq bd mu mv mw mx my mz na nb nc jw nd jx ne jz nf ka ng kc nh kd ni nj bi translated">创建导航栏</h1><p id="2fee" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">第一步是使用<code class="fe np nq nr ns b">create-react-app</code>创建一个基本的React应用程序。然后你需要在你的项目中运行<code class="fe np nq nr ns b">npm install react-router-dom</code>来安装<a class="ae kv" href="https://www.npmjs.com/package/react-router-dom" rel="noopener ugc nofollow" target="_blank"> React路由器</a>。</p><p id="d756" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们想要从<code class="fe np nq nr ns b">react-router-dom</code>导入一些组件到<code class="fe np nq nr ns b">App.js</code>文件中。</p><pre class="kg kh ki kj gt nt ns nu nv aw nw bi"><span id="8402" class="nx mt iq ns b gy ny nz l oa ob">import { Route, Switch, Link } from 'react-router-dom';</span></pre><p id="1b76" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们将创建一个导航栏。我们的导航将有三个链接到<em class="oc">主页、关于</em>和<em class="oc">联系</em>页面。为了创建这个导航，我们将使用来自<code class="fe np nq nr ns b">react-router-dom</code>的<code class="fe np nq nr ns b">Link</code>组件。</p><pre class="kg kh ki kj gt nt ns nu nv aw nw bi"><span id="abfe" class="nx mt iq ns b gy ny nz l oa ob">export default function App() {<br/>  return (<br/>    &lt;div <em class="oc">className</em>="App"&gt;<br/>      &lt;ul&gt;<br/>        &lt;li&gt;<br/>          &lt;<em class="oc">Link</em> <em class="oc">to</em>="/"&gt;Home&lt;/<em class="oc">Link</em>&gt;<br/>        &lt;/li&gt;<br/>        &lt;li&gt;<br/>          &lt;<em class="oc">Link</em> <em class="oc">to</em>="/about"&gt;About&lt;/<em class="oc">Link</em>&gt;<br/>        &lt;/li&gt;<br/>        &lt;li&gt;<br/>          &lt;<em class="oc">Link</em> <em class="oc">to</em>="/contact"&gt;Contact&lt;/<em class="oc">Link</em>&gt;<br/>        &lt;/li&gt;<br/>      &lt;/ul&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="47ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我还添加了一点样式，使应用程序看起来更好一点。当我们运行我们的项目时，这将导致下面的输出。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/7f838909647a6840964a02842422def9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XglWVcV6Q0Yo1d-IZMaBzQ.png"/></div></div></figure><h1 id="53c1" class="ms mt iq bd mu mv oe mx my mz of nb nc jw og jx ne jz oh ka ng kc oi kd ni nj bi translated">处理路线</h1><p id="aef1" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">接下来，我们将添加路线。现在，我们将只添加描述我们所在页面的文本。为此，我们将使用来自<code class="fe np nq nr ns b">react-router-dom</code>的<code class="fe np nq nr ns b">Switch</code>组件和<code class="fe np nq nr ns b">Route</code>组件。</p><pre class="kg kh ki kj gt nt ns nu nv aw nw bi"><span id="e507" class="nx mt iq ns b gy ny nz l oa ob">&lt;<em class="oc">Switch</em>&gt;<br/>  &lt;<em class="oc">Route</em> <em class="oc">path</em>="/contact"&gt;Contact Page&lt;/<em class="oc">Route</em>&gt;<br/>  &lt;<em class="oc">Route</em> <em class="oc">path</em>="/about"&gt;About Page&lt;/<em class="oc">Route</em>&gt;<br/>  &lt;<em class="oc">Route</em> <em class="oc">path</em>="/" <em class="oc">exact</em>&gt;Home Page&lt;/<em class="oc">Route</em>&gt;<br/>&lt;/<em class="oc">Switch</em>&gt;</span></pre><p id="0f2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过在<code class="fe np nq nr ns b">Switch</code>组件中添加路线，它将呈现第一条匹配的路线。请注意，我们还在“/”路线上添加了<em class="oc">精确的</em>道具。这很重要，因为我们希望主页只呈现在“/”路径上。如果没有<em class="oc">精确的</em>属性，这实际上会匹配所有的路线，这是我们不想要的。</p><p id="6ce7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果我们回到我们的应用程序，我们将看到当我们单击一个链接时，相关的文本呈现在页面上。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/076820f33857e6161a9e83a3ba687a4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*9EAYW8t4_q7o5SiEjMN88g.gif"/></div></figure><p id="0549" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们碰巧去了一个不存在的路由，我们会看到一个空页面。例如，如果我们转到<a class="ae kv" href="http://localhost:3000/hello" rel="noopener ugc nofollow" target="_blank"><em class="oc">http://localhost:3000/hello</em></a>，屏幕上将不会呈现任何内容。让我们通过添加一个404页面来解决这个问题。</p><h1 id="136e" class="ms mt iq bd mu mv oe mx my mz of nb nc jw og jx ne jz oh ka ng kc oi kd ni nj bi translated">404页</h1><p id="00bf" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">最后，我们将添加一个404页面，并捕获所有不存在的路由。为此，我们将在我们的<code class="fe np nq nr ns b">Switch</code>组件中添加一条最终路线作为子路线。</p><pre class="kg kh ki kj gt nt ns nu nv aw nw bi"><span id="11f2" class="nx mt iq ns b gy ny nz l oa ob">&lt;<em class="oc">Switch</em>&gt;<br/>  &lt;<em class="oc">Route</em> <em class="oc">path</em>="/contact"&gt;Contact Page&lt;/<em class="oc">Route</em>&gt;<br/>  &lt;<em class="oc">Route</em> <em class="oc">path</em>="/about"&gt;About Page&lt;/<em class="oc">Route</em>&gt;<br/>  &lt;<em class="oc">Route</em> <em class="oc">path</em>="/" <em class="oc">exact</em>&gt;Home Page&lt;/<em class="oc">Route</em>&gt;<br/>  <strong class="ns ir">&lt;Route&gt;404 Page&lt;/Route&gt;</strong><br/>&lt;/<em class="oc">Switch</em>&gt;</span></pre><p id="ef39" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们添加没有路径的路由，它将总是匹配的。因此，此路线必须放在最后一个孩子。任何不匹配上述路由之一的路由都将呈现404页面。</p><p id="1b1e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们回到我们的应用程序，去一个未知的路线，我们会看到一个404页面。例如，如果我们回到<a class="ae kv" href="http://localhost:3000/hello" rel="noopener ugc nofollow" target="_blank"><em class="oc">http://localhost:3000/hello</em></a><em class="oc">，</em>我们现在会看到下面的页面。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/8b4fdc3c261835268d3d52bf29f33978.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dkC8Lasj2CBRBjW6spEzvg.png"/></div></div></figure></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="4239" class="ms mt iq bd mu mv mw mx my mz na nb nc jw nd jx ne jz nf ka ng kc nh kd ni nj bi translated">结论</h1><p id="54b1" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">感谢阅读！我希望这篇文章对您在React应用程序中设置404页面有所帮助。</p><p id="1228" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当用户访问一个不存在的路由时，显示一个404页面比什么都没有要好的多。</p><p id="b5d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">404页是展示你创造力的好机会。好好享受吧！查看这个<a class="ae kv" href="https://www.canva.com/learn/404-page-design/" rel="noopener ugc nofollow" target="_blank">链接</a>获得一些有创意的404页面想法。</p><p id="fc0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">更多阅读</strong></p><div class="lt lu gp gr lv lw"><a href="https://blog.devgenius.io/the-easiest-way-to-deal-with-forms-in-react-ad6bc1250829" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">React中处理表单的最简单方法</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">使用React钩子形式来提高应用程序的性能</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">blog.devgenius.io</p></div></div><div class="mf l"><div class="ol l mh mi mj mf mk kp lw"/></div></div></a></div><div class="lt lu gp gr lv lw"><a rel="noopener  ugc nofollow" target="_blank" href="/introduction-to-testing-in-react-with-jest-and-react-testing-library-c1c32bb11739"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">React with Jest和React测试库中的测试介绍</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">create-react-app中的App.test.js和setupTests.js文件是用来做什么的？</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mf l"><div class="om l mh mi mj mf mk kp lw"/></div></div></a></div><p id="a5f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oc">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oc">plain English . io</em></strong></a></p></div></div>    
</body>
</html>