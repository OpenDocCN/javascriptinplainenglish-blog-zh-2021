<html>
<head>
<title>Compare a Custom Date Component in Vue.js and Vanilla JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">比较Vue.js和Vanilla JavaScript中的自定义日期组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/comparing-a-custom-date-component-in-vuejs-and-vanilla-javascript-95d984485989?source=collection_archive---------19-----------------------#2021-12-16">https://javascript.plainenglish.io/comparing-a-custom-date-component-in-vuejs-and-vanilla-javascript-95d984485989?source=collection_archive---------19-----------------------#2021-12-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="0f52" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">探索Vue.js和Vanilla JavaScript中自定义日期组件的差异。</h2></div><p id="2959" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最近，我们有理由返工我们如何收集生日(和其他日期在塞拉芬)。虽然默认的浏览器实现在开始时可以做到这一点，但我们面临着几个问题:</p><ol class=""><li id="b4b0" class="ky kz in ke b kf kg ki kj kl la kp lb kt lc kx ld le lf lg bi translated">并非所有浏览器的实现都是一致的。</li><li id="6bcc" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx ld le lf lg bi translated">大多数浏览器打开的日历输入都聚焦于今天的日期，这让我们的用户很难输入他们的生日。</li></ol><p id="791d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们决定创建日期输入组件来解决这个问题(使用Vuejs)。</p><p id="8c2f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">虽然结果非常好，但它确实让我问自己，如果我们用普通的Javascript编写相同的行为，会有什么不同。</p><p id="15b6" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，这是本系列的第三篇比较Vue.js和普通JavaScript日期组件的文章。</p><p id="8398" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在<a class="ae lm" href="https://pablo-curell-mompo.medium.com/building-a-custom-date-input-component-in-vue-js-b5641b7b7c2b" rel="noopener">第一部分</a>中，我们探索了如何在Vue.js中构建自定义日期输入。</p><p id="9c12" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在<a class="ae lm" href="https://pablo-curell-mompo.medium.com/bulding-a-custom-date-component-using-vanilla-javascript-4cb6e8f547a" rel="noopener">第二部分</a>中，我们探索了如何使用普通JavaScript构建自定义日期输入。</p><h1 id="722b" class="ln lo in bd lp lq lr ls lt lu lv lw lx jt ly ju lz jw ma jx mb jz mc ka md me bi translated">规格</h1><p id="df63" class="pw-post-body-paragraph kc kd in ke b kf mf jo kh ki mg jr kk kl mh kn ko kp mi kr ks kt mj kv kw kx ig bi translated">我们的DateInput组件的规范表现为浏览器上的本地日期输入减去日历选择，即:</p><ul class=""><li id="2937" class="ky kz in ke b kf kg ki kj kl la kp lb kt lc kx mk le lf lg bi translated">我们只能输入两位数来表示日和月。</li><li id="becb" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx mk le lf lg bi translated">我们只能输入四位数的年份。</li><li id="9cd8" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx mk le lf lg bi translated">这一天应该在1到31之间</li><li id="011a" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx mk le lf lg bi translated">月份应该在1到12之间</li><li id="163b" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx mk le lf lg bi translated">年份应该在1900年到2100年之间(这个是我们的，不是浏览器的)</li><li id="397e" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx mk le lf lg bi translated">我们需要通过直接输入数字或用箭头键上下移动来输入日期。</li><li id="de2c" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx mk le lf lg bi translated">如果我们用箭头键输入日期，并达到上限或下限，显示的数字应该循环。</li><li id="013c" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx mk le lf lg bi translated">如果我们通过输入数字来输入日期，输入应该是有边界的(max(输入，高边界)或min(输入，低边界)</li><li id="3f7f" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx mk le lf lg bi translated">我们应该以直观的方式让用户进入下一个领域。</li><li id="cc85" class="ky kz in ke b kf lh ki li kl lj kp lk kt ll kx mk le lf lg bi translated">我们应该证实日期是正确的。</li></ul><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi ml"><img src="../Images/98b80269b7fb04755756a70603004d95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z_ESMP8tBYnweiejnlaIog.jpeg"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">Photo by <a class="ae lm" href="https://unsplash.com/@lacarta?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Santiago Lacarta</a> on <a class="ae lm" href="https://unsplash.com/s/photos/confrontation?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="17a2" class="ln lo in bd lp lq lr ls lt lu lv lw lx jt ly ju lz jw ma jx mb jz mc ka md me bi translated">先入为主的观念(假设)</h1><p id="924e" class="pw-post-body-paragraph kc kd in ke b kf mf jo kh ki mg jr kk kl mh kn ko kp mi kr ks kt mj kv kw kx ig bi translated">在开始这个项目之前，我认为创建普通的JavaScript组件会有更多的麻烦和更糟糕的“开发者体验”。</p><p id="95fe" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我还认为页面的“反应性”在Vue上比在普通JavaScript上要好。</p><p id="637a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">另一方面，我预计页面的总权重在Vue上更高(因此在较慢的连接或较差的手机上的性能也更高)。</p><h1 id="6793" class="ln lo in bd lp lq lr ls lt lu lv lw lx jt ly ju lz jw ma jx mb jz mc ka md me bi translated">调查的结果</h1><h2 id="5a25" class="nb lo in bd lp nc nd dn lt ne nf dp lx kl ng nh lz kp ni nj mb kt nk nl md nm bi translated">JavaScript和Vue.js有类似的开发者体验</h2><p id="1633" class="pw-post-body-paragraph kc kd in ke b kf mf jo kh ki mg jr kk kl mh kn ko kp mi kr ks kt mj kv kw kx ig bi translated">我没有努力用普通的JavaScript来工作，甚至可以更简洁地表达我想要的东西(尽管没有完全重构)。</p><p id="a874" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">以上也可能是因为我已经弄清楚了在做Vue.js组件时不同元素如何交互背后的逻辑。</p><p id="c8d3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">两者都相对容易实现，尽管如果您喜欢默认的浏览器日期输入，它们可能会有点复杂。</p><h2 id="2e0d" class="nb lo in bd lp nc nd dn lt ne nf dp lx kl ng nh lz kp ni nj mb kt nk nl md nm bi translated">反应性</h2><p id="a347" class="pw-post-body-paragraph kc kd in ke b kf mf jo kh ki mg jr kk kl mh kn ko kp mi kr ks kt mj kv kw kx ig bi translated">我认为普通的JavaScript和Vue.js在满足用户需求方面非常被动。我能够相对容易地向两者添加错误类，并且当用户使用它时两者都流动。</p><h2 id="2502" class="nb lo in bd lp nc nd dn lt ne nf dp lx kl ng nh lz kp ni nj mb kt nk nl md nm bi translated">重量/性能</h2><p id="311a" class="pw-post-body-paragraph kc kd in ke b kf mf jo kh ki mg jr kk kl mh kn ko kp mi kr ks kt mj kv kw kx ig bi translated">就权重而言，Vue.js组件的权重更大，但是它的执行速度更快。</p><p id="1ad7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对于我们的Vue.js组件，最高的成本来自于2.54 MB的<em class="nn"> chunk-vendors.js </em>，总成本约为2.66MB。</p><p id="8fca" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们的普通JavaScript组件没有网络需求，一切都在750毫秒内执行(所有DOM事件都已运行完毕)。文件本身重4.7 KB。</p><p id="0bf7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">正如我们所看到的，这里的结论是Vue.js很好地优化了代码的执行(至少在这个规模上),但是在较差的连接或较差的机器上，性能可能会受到更大的影响。</p><h2 id="c121" class="nb lo in bd lp nc nd dn lt ne nf dp lx kl ng nh lz kp ni nj mb kt nk nl md nm bi translated">其他备注</h2><p id="a255" class="pw-post-body-paragraph kc kd in ke b kf mf jo kh ki mg jr kk kl mh kn ko kp mi kr ks kt mj kv kw kx ig bi translated">另一件值得指出的事情是，我的Vue.js组件比普通的JavaScript组件更容易理解。我相信这是因为Vue.js组件固有的组织方式。</p><p id="dc3d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这种固有的组织结构使它们比普通的JavaScript更容易导航(一旦你知道你在找什么)，但是我可能会做更多的努力来确保我的Javascript文件更易读。</p><p id="f952" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最终，如果你有好的约定，JavaScript可以像Vue.js一样简单，但是它需要开发者更多的训练。</p><p id="7bcb" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后，记住我是用Vue 2而不是Vue 3编码的。如果在更大的项目中使用复合API，Vue 3中的相同示例可能会有所不同。</p><h1 id="ff27" class="ln lo in bd lp lq lr ls lt lu lv lw lx jt ly ju lz jw ma jx mb jz mc ka md me bi translated">结论</h1><p id="5707" class="pw-post-body-paragraph kc kd in ke b kf mf jo kh ki mg jr kk kl mh kn ko kp mi kr ks kt mj kv kw kx ig bi translated">总之，我想你会问自己是应该使用Vue.js还是普通的JavaScript。</p><p id="9da7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我相信这主要是你的选择，以及你更喜欢使用的东西。如果你使用普通的JavaScript，你对网络的需求可能会更少，但是Vue.js已经被很好的优化了。如果你对它更适应，你将拥有的生产力可能会打乱使用它的潜在成本。</p><p id="08eb" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我不是性能专家，无法准确地对此进行基准测试。正如你在这里看到的<a class="ae lm" rel="noopener ugc nofollow" target="_blank" href="/javascript-frameworks-performance-60f71d321693"/>，在大多数情况下，一个框架永远不会像普通的JavaScript那样高性能，因为框架在JavaScript之上增加了层，从而让你一直加载更多的代码。</p><p id="6893" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">同样重要的是要注意，你可以通过更多的参与来提高臃肿的Vue.js应用的性能。</p></div></div>    
</body>
</html>