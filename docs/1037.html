<html>
<head>
<title>JavaScript Drop Decimal from Number</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript从数字中删除小数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-drop-decimal-from-number-870d70b9ae0d?source=collection_archive---------11-----------------------#2021-03-04">https://javascript.plainenglish.io/javascript-drop-decimal-from-number-870d70b9ae0d?source=collection_archive---------11-----------------------#2021-03-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/762dc80c6d9ab7f057a61f7e1ba6e2a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QYTDHP2L9xDoQfei"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@sumo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">PAUL SMITH</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f1d6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如何删除一个小数，考虑到性能？</p><p id="bbf3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在下面的例子中，我将使用<code class="fe ky kz la lb b">Math.PI</code>作为数字:<code class="fe ky kz la lb b">3.14159</code></p><h2 id="9479" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">按位双非运算符</h2><p id="8250" class="pw-post-body-paragraph ka kb in kc b kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">这将删除小数点后的所有内容，因为按位运算符将操作数转换为有符号的32位整数。这适用于数字或字符串，返回一个数字。</p><pre class="ma mb mc md gt me lb mf mg aw mh bi"><span id="52b0" class="lc ld in lb b gy mi mj l mk ml">~~Math.PI</span></pre><h2 id="38af" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">按位or运算符</h2><p id="ea4a" class="pw-post-body-paragraph ka kb in kc b kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">同样，按位运算符将操作数转换为有符号的32位整数。</p><pre class="ma mb mc md gt me lb mf mg aw mh bi"><span id="bc59" class="lc ld in lb b gy mi mj l mk ml">Math.PI | 0</span></pre><h2 id="1109" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">有符号右移位运算符</h2><p id="5ca3" class="pw-post-body-paragraph ka kb in kc b kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">同样，任何数字操作数都被转换为整数。</p><pre class="ma mb mc md gt me lb mf mg aw mh bi"><span id="a5e7" class="lc ld in lb b gy mi mj l mk ml">Math.PI &gt;&gt; 0</span></pre><h2 id="77ff" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">parseInt</h2><p id="b52e" class="pw-post-body-paragraph ka kb in kc b kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">将值解析为整数——注意，如果值不是字符串，首先使用<code class="fe ky kz la lb b">toString()</code>抽象操作将其转换为字符串。</p><pre class="ma mb mc md gt me lb mf mg aw mh bi"><span id="8204" class="lc ld in lb b gy mi mj l mk ml">parseInt(Math.PI)</span></pre><h2 id="8e4c" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">Math.trunc</h2><p id="936f" class="pw-post-body-paragraph ka kb in kc b kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">Math的截断方法会截断小数点右边的任何数字。</p><pre class="ma mb mc md gt me lb mf mg aw mh bi"><span id="c3cb" class="lc ld in lb b gy mi mj l mk ml">Math.trunc(Math.PI)</span></pre><h2 id="9870" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">数学.圆</h2><p id="ec75" class="pw-post-body-paragraph ka kb in kc b kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">与上述截断数字小数的方法不同，Math的round参数被舍入到正无穷大方向的下一个更高的绝对值。如，0.5舍入到1，但请注意-0.5舍入到0。</p><pre class="ma mb mc md gt me lb mf mg aw mh bi"><span id="e8d3" class="lc ld in lb b gy mi mj l mk ml">Math.round(Math.PI)</span></pre><h2 id="1db7" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">数学.地板</h2><p id="5462" class="pw-post-body-paragraph ka kb in kc b kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">此函数返回小于或等于参数的最大整数。例如，0.9返回0，-0.1返回-1。</p><pre class="ma mb mc md gt me lb mf mg aw mh bi"><span id="ba02" class="lc ld in lb b gy mi mj l mk ml">Math.floor(Math.PI)</span></pre><h2 id="a5c4" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">数学.细胞</h2><p id="c364" class="pw-post-body-paragraph ka kb in kc b kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">与floor相反，math的ceiling函数返回大于或等于参数的最小整数。例如，0.1返回1，-0.9返回0。</p><pre class="ma mb mc md gt me lb mf mg aw mh bi"><span id="88ad" class="lc ld in lb b gy mi mj l mk ml">Math.ceil(Math.PI)</span></pre><h2 id="9c48" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">toFixed</h2><p id="8813" class="pw-post-body-paragraph ka kb in kc b kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">这个函数将一个数字转换成一个字符串，保留指定的位数，默认情况下是零位数。虽然这去掉了小数，但请注意，你最终得到的是一个字符串。例如，这里的值是“3”。</p><pre class="ma mb mc md gt me lb mf mg aw mh bi"><span id="2251" class="lc ld in lb b gy mi mj l mk ml">Math.PI.toFixed()</span></pre><h2 id="793b" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">表演</h2><p id="0623" class="pw-post-body-paragraph ka kb in kc b kd lv kf kg kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">下面是一个用于比较性能的JSBenchmark测试套件:</p><pre class="ma mb mc md gt me lb mf mg aw mh bi"><span id="6823" class="lc ld in lb b gy mi mj l mk ml">import * as JSBench from "jsbenchmark";<br/><br/>new JSBench.TestSuite({<br/>  async: true,<br/>  passes: 25,<br/>  operations: 1000000,<br/>  maxRuntime: 1000,<br/>})<br/>  .add("double not operator", () =&gt; {<br/>    ~~Math.PI;<br/>  })<br/>  .add("or operator", () =&gt; {<br/>    Math.PI | 0;<br/>  })<br/>  .add("signed right shift operator", () =&gt; {<br/>    Math.PI &gt;&gt; 0;<br/>  })<br/>  .add("parseInt", () =&gt; {<br/>    parseInt(Math.PI);<br/>  })<br/>  .add("round", () =&gt; {<br/>    Math.round(Math.PI);<br/>  })<br/>  .add("floor", () =&gt; {<br/>    Math.floor(Math.PI);<br/>  })<br/>  .add("ceil", () =&gt; {<br/>    Math.ceil(Math.PI);<br/>  })<br/>  .add("trunc", () =&gt; {<br/>    Math.trunc(Math.PI);<br/>  })<br/>  .add("toFixed", () =&gt; {<br/>    Math.PI.toFixed();<br/>  })<br/>  .on("test", (event) =&gt; {<br/>    const test = event.test;<br/>    const resultSet = event.resultSet;<br/>    console.log(test.name);<br/>    resultSet.log();<br/>  })<br/>  .on("suite", (event) =&gt; {<br/>    const result = event.result;<br/>    result.log();<br/>  })<br/>  .run();</span></pre><p id="c57a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">结果:</p><figure class="ma mb mc md gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mm"><img src="../Images/561b6425312e34a5e55ae83809fe3e55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_lo8D-obVKOlfMAyvafupQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Operations per second — higher is better</figcaption></figure><figure class="ma mb mc md gt jo"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="495f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">由于字符串转换，<code class="fe ky kz la lb b">toFixed()</code>大量出现是有道理的，内联位运算比<code class="fe ky kz la lb b">Math</code>静态方法稍快。</p></div></div>    
</body>
</html>