<html>
<head>
<title>Build a Serverless Expo App Using MongoDB Realm and Cloudinary</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用MongoDB Realm和Cloudinary构建一个无服务器Expo应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-build-a-serverless-expo-app-using-mongodb-realm-and-cloudinary-b018dde08717?source=collection_archive---------7-----------------------#2021-12-20">https://javascript.plainenglish.io/lets-build-a-serverless-expo-app-using-mongodb-realm-and-cloudinary-b018dde08717?source=collection_archive---------7-----------------------#2021-12-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="405b" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">实现一个注释应用程序，将利用我们的移动设备中的相机功能。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/c7b79a677e0ec5b527b0d4811c1688ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5nfw_oHqIk-rb-b-"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@mfrazi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Fahrul Razi</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="76b1" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated"><strong class="ak">简介:</strong></h1><p id="8f56" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated"><strong class="ln io"> AWS </strong>已经提供了很好的服务，但他们需要你的信用卡信息来创建一个账户，如果你生活在一个创建国际信用卡是PIA的国家，这是一个问题。</p><p id="3e77" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><strong class="ln io"> MongoDB Realm来拯救你了</strong>，如果你没有信用卡也不用担心，他们拥有让你的应用无需服务器的所有功能和一个优秀的Daas平台。</p><p id="7768" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">我希望我以前能认识这个坏男孩，它免费给你1GB的媒体存储空间，和AWS S3相比，它有一个非常简单的API来上传你的文件。聊够了，让我们讨论一下我们将在本教程中构建什么。</p><h1 id="b8b4" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">目的:</h1><p id="1277" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">在本教程中，我们将实现一个注释应用程序，它将利用移动设备中的摄像头功能。</p><blockquote class="mm mn mo"><p id="a7cb" class="ll lm mp ln b lo mh jo lq lr mi jr lt mq mj lw lx mr mk ma mb ms ml me mf mg ig bi translated"><strong class="ln io">当我试图创建一个食品杂货(你知道你从商店买的日常用品)的图像识别模型时，我想到了这个应用程序的想法。我有谷歌找到一个数据集，这将是具体到我的国家的杂货项目。但是很难找到这样的数据集。</strong></p></blockquote><h1 id="c8c4" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">应用基础设施:</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mt"><img src="../Images/78aec88af3cf85b6b3df37ea839c0761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*km8vhuFku95LbusV7V493w.png"/></div></div></figure><p id="67ad" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">上面的图片显示了我们的应用程序的基本计划。</p><ul class=""><li id="9f16" class="mu mv in ln b lo mh lr mi lu mw ly mx mc my mg mz na nb nc bi translated">首先，我们将创建一个expo应用程序，它将使用我们的移动设备的相机功能来捕捉图像。</li><li id="2906" class="mu mv in ln b lo nd lr ne lu nf ly ng mc nh mg mz na nb nc bi translated">然后，我们将使用他们的API将图像上传到Cloudinary。如果图片上传成功，Cloudinary将向我们发送一个JSON响应</li><li id="bfb2" class="mu mv in ln b lo nd lr ne lu nf ly ng mc nh mg mz na nb nc bi translated">收到响应后，我们将标记图像，然后使用Realm webhook API将标记图像数据存储到MongoDB。</li></ul><h1 id="2f2d" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">先决条件</h1><ol class=""><li id="cbab" class="mu mv in ln b lo lp lr ls lu ni ly nj mc nk mg nl na nb nc bi translated">Node.js —版本16+(任何高于13的版本也可以)</li><li id="90ab" class="mu mv in ln b lo nd lr ne lu nf ly ng mc nh mg nl na nb nc bi translated">Expo CLI —(安装指南)</li><li id="55de" class="mu mv in ln b lo nd lr ne lu nf ly ng mc nh mg nl na nb nc bi translated">模糊账户</li><li id="e747" class="mu mv in ln b lo nd lr ne lu nf ly ng mc nh mg nl na nb nc bi translated">MongoDB帐户</li><li id="d757" class="mu mv in ln b lo nd lr ne lu nf ly ng mc nh mg nl na nb nc bi translated">对React Native和Javascript有基本的了解</li></ol><h2 id="c63a" class="nm ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">MongoDB</h2><p id="2a3b" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">在我们开始编码之前，最好创建我们的数据库和realm webhook，它将用于处理从我们的移动应用程序到数据库的数据。</p><blockquote class="mm mn mo"><p id="a79a" class="ll lm mp ln b lo mh jo lq lr mi jr lt mq mj lw lx mr mk ma mb ms ml me mf mg ig bi translated">免责声明:在本教程中，我不会展示我们的应用程序中使用的每一个webhook背后的逻辑，但它将在GitHub资源库中提供。</p></blockquote><h2 id="cd81" class="nm ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">数据库设置</h2><ul class=""><li id="3d6e" class="mu mv in ln b lo lp lr ls lu ni ly nj mc nk mg mz na nb nc bi translated">创建一个空闲集群，将数据库命名为objectAnnotationwith，集合名为<strong class="ln io"> annotation。</strong></li><li id="f87a" class="mu mv in ln b lo nd lr ne lu nf ly ng mc nh mg mz na nb nc bi translated">如果您不知道如何创建MongoDB集群，这里的<a class="ae ks" href="https://docs.atlas.mongodb.com/tutorial/deploy-free-tier-cluster/" rel="noopener ugc nofollow" target="_blank">是链接。</a></li></ul><h2 id="1769" class="nm ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">MongoDB领域服务</h2><p id="4b28" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">点击MongoDB集群账户上的Realm选项卡，然后点击页面右侧的<strong class="ln io">创建新应用</strong>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/04726e349d8d8d12d8e397c642e9701c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*YMNOy1aOhcdlhP58E9kSMA.png"/></div></figure><p id="2221" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">选择一个合适的应用程序名称并链接到之前创建的数据库(对我来说是<strong class="ln io"> GroceryApp </strong>)。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/4ff9c3d31004fc0fec520476f1f73fc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*rwhaGvX_Ehmuc-5TMqtZVg.png"/></div></figure><p id="40a6" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">单击创建领域应用程序按钮后，您将被重定向到您的MongoDB领域应用程序仪表板页面。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oa"><img src="../Images/696b95fec9e7e85e44f924aaaddeaa6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P4BeCaDKRzvZxNjHQoMQ4A.png"/></div></div></figure><p id="c461" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">在侧边栏中，点击导航链接标签<strong class="ln io">模式</strong>，然后点击<strong class="ln io">添加集合按钮</strong>，为应用程序创建数据库模型(这类似于创建一个mongoose模式)。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ob"><img src="../Images/dc6e0c14c09fe56b1ffccc53d9fb71e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r3BKtzgE-ZhNU6YY-RWM6Q.png"/></div></div></figure><p id="b284" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">从下拉菜单中选择数据库和集合名称，然后点击<strong class="ln io">添加集合</strong>按钮。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oc"><img src="../Images/aad072e91cd4582c59df8cc393c333d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zj5YHspKexLdFVPs0Vbs5g.png"/></div></div></figure><p id="7960" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">现在向模式中添加字段，然后单击<strong class="ln io"> Review Draft and Deploy按钮。</strong></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi od"><img src="../Images/971ff1c343e4eba1b37095ca135a4189.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DOKUh55gNrSZycTAqG3g5A.png"/></div></div></figure><p id="eb61" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">创建模式后，我们现在可以继续创建API端点。MongoDB Realm是一个BaaS(后端即服务),它为您提供了一种不同类型的特定于服务器的服务来创建您的数据启用端点，我们将选择HTTP webhook服务，它将为我们提供一个到后端web接口的简单挂钩。</p><p id="f1fd" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">在侧栏中，单击导航链接标签“第三方服务:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oe"><img src="../Images/e56f8f19cbec18ef9cbadb78b032c1b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q9MVIcNeDPwtlLcx4KJWYw.png"/></div></div></figure><p id="b208" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">然后，单击“添加服务”按钮添加新服务:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi of"><img src="../Images/a4dab8707d1e916890c63f0c47f3ed2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7GgExygrguZ-J3Pzs5k18Q.png"/></div></div></figure><p id="e9a7" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">最初，我们已经确定我们需要一个HTTP服务，因此我们将选择一个HTTP服务并将该服务命名为<em class="mp"> api </em>(命名约定是可选的，因此您可以将其命名为任何名称):</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi og"><img src="../Images/6627b936d62c7c58e6f2a04dfdca7885.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KtZ83pjRa7DtV8abNKHs1A.png"/></div></div></figure><p id="dd1b" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">当您创建一个HTTP服务时，您可以从<a class="ae ks" href="https://docs.mongodb.com/realm/functions" rel="noopener ugc nofollow" target="_blank"> Realm的无服务器功能</a>中以一个名为<code class="fe oh oi oj ok b">context.services</code>的对象的形式访问这个服务。稍后，当我们创建一个附加到该服务的无服务器功能时，我们会详细介绍这一点。命名并添加服务，然后您将创建一个<a class="ae ks" href="https://docs.mongodb.com/realm/services/webhook-requests-and-responses" rel="noopener ugc nofollow" target="_blank">传入Webhook </a>。当您的客户端从您的API请求数据时，将会联系这个进程。</p><p id="6827" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">随意命名该函数(在本教程中，我们将其命名为<em class="mp"> create </em>)并设置参数，如下所示:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ol"><img src="../Images/e90edc534ea79a4f531bf42e70a1d666.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*09jtzYhFBZjqmkIvYjVKFQ.png"/></div></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi om"><img src="../Images/46bfab46c638d5447df733f380426c96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*sgKewXY8srD7uovko48qjQ.png"/></div></figure><h2 id="70ad" class="nm ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated"><strong class="ak"> MongoDB领域服务功能</strong></h2><p id="a4d1" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">让我们编写当webhooks接收到HTTP函数时将被调用的函数，将下面的代码粘贴到您的函数编辑器中:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="1bde" class="nm ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated"><strong class="ak">测试API </strong></h2><p id="31c0" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">现在我们已经设置好了HTTP webhook是时候测试webhook了，你可以从<br/> <strong class="ln io"> <em class="mp">第三方服务-&gt;ObjectAnnotationApi-&gt;-create-&gt;Setting-&gt;web hook设置</em>中获取HTTP webhook API URL。</strong></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi op"><img src="../Images/e62309de8745928b03e037c8a7dcd36b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0B_yaTsg0AP-2jNnSNWG9Q.png"/></div></div></figure><p id="8296" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">我正在使用Postman来测试API，你可以使用你选择的API测试应用程序。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oq"><img src="../Images/01472a37e7dd48f7a93a8883bf88f4c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9VqIug7AYjVbe6pQMwSIKQ.png"/></div></div></figure><h2 id="6b9c" class="nm ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">云端设置</h2><p id="3f26" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">此时，我希望您已经创建了一个Cloudinary帐户，在登录到您的Cloudinary帐户后，您将看到一个如下所示的仪表板。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi or"><img src="../Images/f52e8a48f04f775515efc825fe11bf6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4_fafNgKFJiO4_yOQIHSg.png"/></div></div></figure><p id="d7c9" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">Cloudinary需要两件事情来上传图片到他们的服务。他们是</p><ol class=""><li id="5499" class="mu mv in ln b lo mh lr mi lu mw ly mx mc my mg nl na nb nc bi translated">API URL</li><li id="2164" class="mu mv in ln b lo nd lr ne lu nf ly ng mc nh mg nl na nb nc bi translated"><code class="fe oh oi oj ok b">upload_preset</code></li></ol><p id="41e0" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">您可以通过点击账户详情部分的更多按钮以及<code class="fe oh oi oj ok b">your-cloud-name</code>获得API URL</p><blockquote class="mm mn mo"><p id="a9aa" class="ll lm mp ln b lo mh jo lq lr mi jr lt mq mj lw lx mr mk ma mb ms ml me mf mg ig bi translated"><strong class="ln io">示例Api url </strong> : <code class="fe oh oi oj ok b">'https://api.cloudinary.com/v1_1/&lt;your-cloud-name&gt;/image/upload'</code></p></blockquote><p id="408d" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">所需的第二个参数称为<code class="fe oh oi oj ok b">upload_preset</code>。它是通过以下步骤创建的:</p><ul class=""><li id="ff10" class="mu mv in ln b lo mh lr mi lu mw ly mx mc my mg mz na nb nc bi translated">从仪表板中，单击菜单栏中的设置，然后选择上传选项卡。</li><li id="55a5" class="mu mv in ln b lo nd lr ne lu nf ly ng mc nh mg mz na nb nc bi translated">找到“上传预设”部分，然后单击“添加上传预设”。</li><li id="67e6" class="mu mv in ln b lo nd lr ne lu nf ly ng mc nh mg mz na nb nc bi translated">输入上传预设的名称。在“签名模式”中，从下拉菜单中选择值“未签名”。</li><li id="761e" class="mu mv in ln b lo nd lr ne lu nf ly ng mc nh mg mz na nb nc bi translated">然后单击保存。</li></ul><h2 id="6070" class="nm ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">测试API(可选)</h2><p id="8ca9" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">使用Postman测试Cloudinary API。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi os"><img src="../Images/21d4187aaf2d32484aff39d02fe311e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_j0al63LinuE9Go_NU6OXw.png"/></div></div></figure><h1 id="c0df" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">世博App</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ot"><img src="../Images/9e64103f4830782076429f6accff27ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hAJp7IHVPID5L1n_0IIPzQ.png"/></div></div></figure><h2 id="8596" class="nm ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">UI概述</h2><p id="e3e5" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">上面的图像代表了我们的应用程序的用户界面。</p><blockquote class="mm mn mo"><p id="eaa0" class="ll lm mp ln b lo mh jo lq lr mi jr lt mq mj lw lx mr mk ma mb ms ml me mf mg ig bi translated">在本教程中，我们将只关注应用程序的第三和第四个屏幕，并跳过设计部分。但你可以在我的github repo上探索完整的应用程序。</p></blockquote><h2 id="93f9" class="nm ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">构建应用程序</h2><p id="0d06" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">在您的终端中执行以下命令来创建expo应用程序:</p><pre class="kd ke kf kg gt ou ok ov ow aw ox bi"><span id="7b92" class="nm ku in ok b gy oy oz l pa pb">expo init myApp<br/>cd myApp</span></pre><p id="31bc" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><strong class="ln io">包安装<br/> </strong>创建expo app后，安装以下依赖项:</p><pre class="kd ke kf kg gt ou ok ov ow aw ox bi"><span id="5517" class="nm ku in ok b gy oy oz l pa pb">expo install expo-camera expo-checkbox expo-status-bar react-native-dotenv react-native-flexi-radio-button react-native-loading-spinner-overlay @react-native-async-storage/async-storage @react-navigation/native @react-navigation/native-stack</span></pre><p id="fd99" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">初始化内部版本和文件夹结构:</p><pre class="kd ke kf kg gt ou ok ov ow aw ox bi"><span id="c264" class="nm ku in ok b gy oy oz l pa pb">.<br/>|-- App.js<br/>|-- app.json<br/>|-- assets<br/>|-- babel.config.js<br/>|-- LICENSE<br/>|-- node_modules<br/>|-- package.json<br/>`-- yarn.lock</span></pre><h2 id="a11a" class="nm ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated"><strong class="ak">让代码</strong></h2><p id="9f15" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">在根目录下创建一个名为<code class="fe oh oi oj ok b">component</code>的新文件夹。在<code class="fe oh oi oj ok b">component</code>文件夹中创建以下文件。</p><pre class="kd ke kf kg gt ou ok ov ow aw ox bi"><span id="234e" class="nm ku in ok b gy oy oz l pa pb">|--component<br/>|  |-- CameraScreen &lt;==newly created <br/>|  |-- PreviewScreen &lt;==newly created file<br/>|  | --SuggestionList.js &lt;==newly created file<br/>|  | --api.js &lt;==newly created file<br/>|  | node_modules<br/>|   package.json</span></pre><p id="606e" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">将以下代码粘贴到<code class="fe oh oi oj ok b">CameraScreen.js</code>。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="ed43" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">将以下代码粘贴到<code class="fe oh oi oj ok b">PreviewScreen.js</code>。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="e4ee" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">将以下代码粘贴到<code class="fe oh oi oj ok b">SuggestionList.js</code>。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="167d" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">将以下代码粘贴到<code class="fe oh oi oj ok b">api.js</code>。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="dc22" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">最后，将下面的代码粘贴到<code class="fe oh oi oj ok b">App.js</code>。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="on oo l"/></div></figure><h2 id="63ac" class="nm ku in bd kv nn no dn kz np nq dp ld lu nr ns lf ly nt nu lh mc nv nw lj nx bi translated">项目目录:<a class="ae ks" href="https://github.com/mirsahib/BanGIAA" rel="noopener ugc nofollow" target="_blank">https://github.com/mirsahib/BanGIAA</a>。</h2><h1 id="dcab" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">结论</h1><p id="137d" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">在本教程中，我们学习了如何在MongoDB领域中构建无服务器后端API和模式。我们还将学习如何使用Cloudinary API，并使用expo应用程序将图像上传到云服务器。Expo是创建原生移动应用程序的一个很好的工具，尽管它缺少一些与React原生应用程序相比的功能。</p><p id="c094" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">现在你知道了。感谢您的阅读。</p><p id="c3d1" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><em class="mp">更多内容看</em> <a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mp">说白了. io </em> </a> <em class="mp">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mp">免费每周简讯</em> </a> <em class="mp">。在我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="mp">社区</em> </a> <em class="mp">获得独家写作机会和建议。</em></p></div></div>    
</body>
</html>