<html>
<head>
<title>Horizontal Calendar Component in React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React Native中的水平日历组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/horizontal-calendar-component-in-react-native-16a4b5ee573f?source=collection_archive---------3-----------------------#2021-07-10">https://javascript.plainenglish.io/horizontal-calendar-component-in-react-native-16a4b5ee573f?source=collection_archive---------3-----------------------#2021-07-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="6ecf" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">在React Native中构建一个简单的水平日历组件。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e578d0f7d722f9b665e4366a40e6834b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rproQdENpkYMKGXHDd-GSw.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@esteejanssens?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Estée Janssens</a> on <a class="ae ks" href="https://unsplash.com/s/photos/calendar?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="dc9e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我最近在React Native中建立了一个简单的水平日历。今天在这篇文章中，我将分享我是如何实现的。</p><p id="35a3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可以使用水平平面列表来呈现我的水平可滚动日历。首先，我用日期填充平面列表的数据。我生成14天(我们可以生成任意数量的日期)并将其填入平面列表。它看起来像下面这样:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lp"><img src="../Images/856b88d8b950ee717cec120d47c67690.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_VMSHLIivqPlKncMurrwJA.png"/></div></div></figure><p id="0a75" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这样，我们就可以在14天内准备好我们的平面清单。数据数组的类型为<strong class="kv io"> Date[] </strong>，其中第一个值是从今天起14天之前的一天，最后一个值是今天。现在让我们看看如何呈现列表，以便列表中始终有7天。我们需要在这里做一点计算，使它总是这样。这就是我们的渲染项目的样子——</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lq"><img src="../Images/e250b95639be671299ac80f85b119761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1qPmynAx3vlXO3Ij1IUcwA.png"/></div></div></figure><p id="96d3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">好了，现在有了合适的样式，我们可以正确地渲染日历日期了。我们适当地设置平面列表项的高度、宽度和边距，以便在屏幕上调整7个日期。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/7ab414c73127e10826b8dc1d878848b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*jgJvQnJSYeWxM2zUgSkAvw.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">our flat list of dates</figcaption></figure><p id="184d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，我们想向用户显示本周，而不是上周。我们可以通过正确设置平面列表来做到这一点。</p><pre class="kd ke kf kg gt ls lt lu lv aw lw bi"><span id="a863" class="lx ly in lt b gy lz ma l mb mc"><em class="md">initialScrollIndex</em>={dates.length - 8}</span></pre><p id="d7a2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此它将加载当前周。如果我们想像这样使用<strong class="kv io"> <em class="md"> initialScrollIndex，</em> </strong>，我们需要将<strong class="kv io"><em class="md">getItemLayout</em></strong>prop添加到我们的平面列表中</p><pre class="kd ke kf kg gt ls lt lu lv aw lw bi"><span id="f912" class="lx ly in lt b gy lz ma l mb mc"><em class="md">getItemLayout</em>={(_, index) =&gt; ({ length: ITEM_HEIGHT, offset: ITEM_OFFSET * index, index })}</span></pre><p id="79b2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后，我们希望让用户能够选择日期，并以不同的样式显示所选的活动日期。因此，在呈现项目时，我们可以在印刷机上设置选定的日期，并检查该项目是否等于选定的日期。我们可以相应地使我们的约会活跃起来。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lq"><img src="../Images/047f4eb80d22b0c9f3005a82ca3ea460.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NooWdK3TjRsok89e9rHg7g.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">making selected date active</figcaption></figure><p id="6451" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">通过上面的检查，我们可以对选定的日期使用这样的样式。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi me"><img src="../Images/17c12372b7d76cbf79984ef9df20a740.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*A5c6hYneYLjxTRZjeByOxg.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">active date</figcaption></figure><p id="89a4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我用这个成分制作了一个简单的点心。这里  <em class="md">可以找到<a class="ae ks" href="https://snack.expo.io/@saad-bashar/horizontal-calendar" rel="noopener ugc nofollow" target="_blank"> <em class="md">的链接。</em>多谢！</a></em></p><p id="422a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="md">更多内容请看</em><a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="md">plain English . io</em></strong></a></p></div></div>    
</body>
</html>