<html>
<head>
<title>An Example of a Non Blocking Process in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中非阻塞进程的一个例子</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/an-example-of-a-non-blocking-process-in-javascript-3d8dfd8e8938?source=collection_archive---------15-----------------------#2021-03-05">https://javascript.plainenglish.io/an-example-of-a-non-blocking-process-in-javascript-3d8dfd8e8938?source=collection_archive---------15-----------------------#2021-03-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="0d19" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">通过示例了解如何使用回调和承诺创建非阻塞流程</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/5f8e11008c3fc985cda63a3ea3fb8086.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*0MiR7DOGFKcFByxAwgETGg.jpeg"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">Photo by <a class="ae ko" href="https://unsplash.com/photos/vpOeXr5wmR4" rel="noopener ugc nofollow" target="_blank">James Harrison</a> on <a class="ae ko" href="http://unsplash.com" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bc5a" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">JavaScript是一种同步编程语言。这意味着它将从上到下按顺序执行您的代码块。但是多亏了JavaScript事件循环，我们能够通过使用回调函数和承诺函数来执行非阻塞过程。</p><p id="7703" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">这里有一些例子。</p><h2 id="48ff" class="ll lm in bd ln lo lp dn lq lr ls dp lt ky lu lv lw lc lx ly lz lg ma mb mc md bi translated">回调函数</h2><pre class="kd ke kf kg gt me mf mg mh aw mi bi"><span id="fc95" class="ll lm in mf b gy mj mk l ml mm">// Example Parameter Function<br/>const parameter = {<br/>  firstName: 'John',<br/>  lastName: 'Doe'<br/>}</span><span id="c2bf" class="ll lm in mf b gy mn mk l ml mm">// Example callback function (will run after delay function finish)<br/>const callBackFunction = (result) =&gt; {<br/>  console.log(result)<br/>}</span><span id="f5a3" class="ll lm in mf b gy mn mk l ml mm">// Example slow process or API call Function<br/>const delayFunction = (callBack, parameter) =&gt; {<br/>  <br/>  // For replicate delay we use setTimeout as example<br/>  setTimeout(() =&gt; {<br/>    // Example slow process or api call return<br/>    const result = `${parameter.firstName} ${parameter.lastName}`<br/>    <br/>    // Triggering the callback function after getting the result<br/>    callBack(result)<br/>  },1000)<br/>}</span><span id="eb96" class="ll lm in mf b gy mn mk l ml mm">console.log('start')<br/>// Run delay function<br/>delayFunction(callBackFunction, parameter)<br/>console.log('finish')</span><span id="c4dc" class="ll lm in mf b gy mn mk l ml mm">// Output:<br/>// Start<br/>// Finish<br/>// John Doe</span></pre><h2 id="804b" class="ll lm in bd ln lo lp dn lq lr ls dp lt ky lu lv lw lc lx ly lz lg ma mb mc md bi translated">承诺函数</h2><pre class="kd ke kf kg gt me mf mg mh aw mi bi"><span id="f766" class="ll lm in mf b gy mj mk l ml mm">// Example Parameter Function<br/>const parameter = {<br/>  firstName: 'John',<br/>  lastName: 'Doe'<br/>}</span><span id="8683" class="ll lm in mf b gy mn mk l ml mm">// Example callback function (will run after delay function finish)<br/>const callBackFunction = (result) =&gt; {<br/>  console.log(result)<br/>}</span><span id="34f7" class="ll lm in mf b gy mn mk l ml mm">// Example slow process or API call Function<br/>const delayFunction = (parameter) =&gt; {<br/>  return new Promise((resolve) =&gt; {<br/>    <br/>    // For replicate delay we use setTimeout as example<br/>    setTimeout(() =&gt; {<br/>    <br/>    // Example slow process or api call return<br/>    const result = `${parameter.firstName} ${parameter.lastName}`<br/>    <br/>    // Triggering the resolve promise after getting the result<br/>    resolve(result)<br/>  },1000)<br/>  })<br/>}</span><span id="9de0" class="ll lm in mf b gy mn mk l ml mm">console.log('start')<br/>// Run delay function<br/>delayFunction(parameter).then(callBackFunction)<br/>console.log('finish')</span><span id="80ef" class="ll lm in mf b gy mn mk l ml mm">// Output:<br/>// Start<br/>// Finish<br/>// John Doe</span></pre><p id="43b5" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">学习和使用非阻塞方法的好处是，您可以减少JavaScript主线程进程，提高代码性能，因此您的线程不会被阻塞，仍然可以运行剩余的每个进程。</p><p id="a716" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">在所有剩下的过程完成后，JavaScript将检查事件循环，看看回调是否已经完成。完成后，它将运行回调函数。</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><h2 id="ddb2" class="ll lm in bd ln lo lp dn lq lr ls dp lt ky lu lv lw lc lx ly lz lg ma mb mc md bi translated">结论</h2><p id="e9da" class="pw-post-body-paragraph kp kq in kr b ks mv jo ku kv mw jr kx ky mx la lb lc my le lf lg mz li lj lk ig bi translated">就这样，如果你觉得这篇文章有帮助，请在评论中告诉我们。也可以在<a class="ae ko" href="https://medium.com/@hanssagita" rel="noopener">中</a>和<a class="ae ko" href="https://www.linkedin.com/in/hans-sagita/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上关注我</p></div></div>    
</body>
</html>