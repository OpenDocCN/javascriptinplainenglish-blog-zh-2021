<html>
<head>
<title>“Hooking” your React frontend to your Flask API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">“挂钩”您的反应前端到您的烧瓶API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/hooking-your-react-frontend-to-your-flask-api-fa83b14c9684?source=collection_archive---------0-----------------------#2021-04-16">https://javascript.plainenglish.io/hooking-your-react-frontend-to-your-flask-api-fa83b14c9684?source=collection_archive---------0-----------------------#2021-04-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/84c83757f797d8ee42aa8c06f51fa1a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zZ9WUP4tohTxyPMB.png"/></div></div></figure><p id="80cc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">构建一个调用Flask API的反应前端非常简单，但是非常强大。您可以访问Flask中非常强大的后端，该后端与数据库和存储信息配合良好。</p><p id="f587" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">flashboard是Python的一个微框架，它很容易上手，也很容易为一个简单的CRUD应用程序设置。flashboard很容易设置和创建一个小应用程序，但是如果您想扩展您的应用程序，它也很容易扩展。你可以在这里阅读我之前关于在Flask <a class="ae kt" href="https://brockbyrdd.medium.com/creating-an-api-with-flask-4431ef2d5d73" rel="noopener">中创建API的博客帖子。</a></p><p id="0985" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">启动一个反应应用程序非常简单，用户友好，如果你正在创建一个单页应用程序，我建议使用<code class="fe ku kv kw kx b">npx create-react-app my-app</code>，如果你正在寻找更深入的东西，我建议查看<a class="ae kt" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank">反应文档</a>。</p><p id="f124" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于这个博客，我将创建一个小的单页应用程序，通过允许GET请求的fetch调用来连接到Flask API。使用<code class="fe ku kv kw kx b">create-react-app</code>创建您的React应用程序后，确保您的Flask应用程序已启动并运行，我的Flask应用程序将在<a class="ae kt" href="http://localhost:5000." rel="noopener ugc nofollow" target="_blank">上打开http://localhost:5000。</a></p><p id="b52f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您要做的第一件事是进入您的package.json文件，为您的Flask API设置一个代理，以避免CORS问题，并允许React处理提取调用，并将它们代理到正确的服务器。</p><pre class="ky kz la lb gt lc kx ld le aw lf bi"><span id="995d" class="lg lh in kx b gy li lj l lk ll">"proxy": "http://localhost:5000"</span></pre><p id="1a5e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你现在可以去调用你的Flask API了。我会在我的App.js中调用一个useEffect钩子，让我的数据进入顶层。包含我所有数据的路由是<a class="ae kt" href="http://localhost:5000/todos," rel="noopener ugc nofollow" target="_blank">http://localhost:5000/todo，</a>所以在我的useEffect函数中，我将这样调用“/todo”:</p><pre class="ky kz la lb gt lc kx ld le aw lf bi"><span id="6e31" class="lg lh in kx b gy li lj l lk ll">useEffect(() =&gt; {<br/>  fetch("/todos")<br/>  .then(response =&gt; response.json()<br/>  .then(data =&gt; {<br/>    console.log(data)<br/>  })<br/>)}, []);</span></pre><p id="9ec7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是一个简单的提取调用，我只希望组件先挂载，所以我在函数的末尾添加了一个空数组。然后，我控制台。记录数据，这样我就可以看到我正在处理的数据。这个fetch调用返回了一个todo数组中包含每个属性的对象，所以我知道当用数据设置我的状态时，我将不得不通过调用<code class="fe ku kv kw kx b">data.todos</code>进行更深入的研究</p><p id="74ca" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我喜欢使用React提供给我们的钩子，而不是写出完整的函数，所以我也将在这个应用程序中使用useState钩子。如果你想了解更多关于使用钩子的信息，我也写了一篇关于React的博客，它正在向使用钩子的方向发展<a class="ae kt" href="https://medium.com/geekculture/react-hooks-and-why-you-should-use-them-ab92ee033e43" rel="noopener">在这里</a>。</p><p id="2688" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我将首先从React导入useState钩子，然后在我的App函数组件内部调用它，并将初始状态设置为一个空数组。然后，我将调用useEffect中的setTodos函数，将Todos状态设置为Flask API调用的数据。因此，我的完整App.js将如下所示:</p><pre class="ky kz la lb gt lc kx ld le aw lf bi"><span id="6157" class="lg lh in kx b gy li lj l lk ll">import React, { useEffect, useState } from "react";</span><span id="e3d7" class="lg lh in kx b gy lm lj l lk ll">function App() {<br/>const [todos, setTodos] = useState([]);</span><span id="f497" class="lg lh in kx b gy lm lj l lk ll">useEffect(() =&gt; {<br/>fetch("/todos").then(response =&gt; <br/>response.json().then(data =&gt;<br/>setTodos(data.todos)<br/>})<br/>);</span><span id="d4b8" class="lg lh in kx b gy lm lj l lk ll">), []};</span><span id="7759" class="lg lh in kx b gy lm lj l lk ll">return (<br/>&lt;div className="App"&gt;</span><span id="53b9" class="lg lh in kx b gy lm lj l lk ll">{todos}</span><span id="b396" class="lg lh in kx b gy lm lj l lk ll">&lt;/div&gt;</span></pre><p id="fc2f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">关于调用Flask API的更深入的视频，我推荐查看Ben Awad在YouTube上的视频<a class="ae kt" href="https://www.youtube.com/watch?v=06pWsB_hoD4&amp;t=0s" rel="noopener ugc nofollow" target="_blank">这里</a>，他也展示了语义UI的一些用法，还展示了向Flask API的发布。</p><h2 id="0a4c" class="lg lh in bd ln lo lp dn lq lr ls dp lt kg lu lv lw kk lx ly lz ko ma mb mc md bi translated">资源:</h2><p id="ea62" class="pw-post-body-paragraph jv jw in jx b jy me ka kb kc mf ke kf kg mg ki kj kk mh km kn ko mi kq kr ks ig bi translated">本·阿瓦德视频—【https://www.youtube.com/watch?v=06pWsB_hoD4 T2】&amp;t = 0s</p><p id="76b1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">react Docs—【https://reactjs.org/docs/create-a-new-react-app.html T4】</p></div></div>    
</body>
</html>