<html>
<head>
<title>Create a WhatsApp Clone with Next.js: Message Component</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Next.js: Message组件创建WhatsApp克隆</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-whatsapp-clone-with-next-js-part-13-message-component-ae856b40aece?source=collection_archive---------13-----------------------#2021-11-10">https://javascript.plainenglish.io/create-whatsapp-clone-with-next-js-part-13-message-component-ae856b40aece?source=collection_archive---------13-----------------------#2021-11-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3897" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第13部分:消息组件</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b42e8496a282f29af2a0391f26d9bf33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IsDXfYWbUW-5PfCn"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@alexbemore?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alexander Shatov</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7dd7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这一部分中，我们将创建一个消息组件，因此它将呈现为一个消息气泡，而不像以前那样只是一个文本。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="0516" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.youtube.com/channel/UCu4-4FnutvSHVo9WHvq80Ww/join" rel="noopener ugc nofollow" target="_blank">源代码</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lu"><img src="../Images/294532892a8dfa8058f879d8844bbb32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*67HILnFzAOhVCYDp3dMzdA.png"/></div></div></figure><h2 id="130e" class="lv lw iq bd lx ly lz dn ma mb mc dp md lf me mf mg lj mh mi mj ln mk ml mm mn bi translated">创建消息组件</h2><p id="9a7f" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">首先，我们需要在“components”文件夹下创建Message.js。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/b51959f5fc2d36e27753899184756245.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*XJgNE1GT6iTCRJ48F8sxqg.png"/></div></figure><p id="d3bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在Message.js中，创建<container>和<messagebubble>。该组件将在props中接收用户和消息。</messagebubble></container></p><p id="ad0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><container>只有一个CSS声明，display: flex，所以后来所有的元素都排成一行。</container></p><pre class="kg kh ki kj gt mu mv mw mx aw my bi"><span id="508d" class="lv lw iq mv b gy mz na l nb nc">import styled from 'styled-components';</span><span id="f09a" class="lv lw iq mv b gy nd na l nb nc">const Message = ({user,message}) =&gt; {</span><span id="b67d" class="lv lw iq mv b gy nd na l nb nc">const loginMail = "ckmobile@gmail.com"</span><span id="5f89" class="lv lw iq mv b gy nd na l nb nc">return (</span><span id="cc04" class="lv lw iq mv b gy nd na l nb nc">&lt;Container&gt;</span><span id="2769" class="lv lw iq mv b gy nd na l nb nc">&lt;MessageBubble&gt;</span><span id="ab03" class="lv lw iq mv b gy nd na l nb nc">{message}</span><span id="e6e3" class="lv lw iq mv b gy nd na l nb nc">&lt;/MessageBubble&gt;</span><span id="28da" class="lv lw iq mv b gy nd na l nb nc">&lt;/Container&gt;</span><span id="d5cc" class="lv lw iq mv b gy nd na l nb nc">)</span><span id="c376" class="lv lw iq mv b gy nd na l nb nc">}</span><span id="8289" class="lv lw iq mv b gy nd na l nb nc">export default Message</span><span id="d1c0" class="lv lw iq mv b gy nd na l nb nc">const Container = styled.div`</span><span id="594a" class="lv lw iq mv b gy nd na l nb nc">display:flex;</span><span id="7264" class="lv lw iq mv b gy nd na l nb nc">`;</span><span id="0f8c" class="lv lw iq mv b gy nd na l nb nc">const MessageBubble = styled.div`</span><span id="6068" class="lv lw iq mv b gy nd na l nb nc">padding: 15px;</span><span id="ea5c" class="lv lw iq mv b gy nd na l nb nc">padding-bottom: 26px;</span><span id="aa26" class="lv lw iq mv b gy nd na l nb nc">text-align: right;</span><span id="2e92" class="lv lw iq mv b gy nd na l nb nc">background-color:white;</span><span id="80e0" class="lv lw iq mv b gy nd na l nb nc">margin-bottom: 10px;</span><span id="3a01" class="lv lw iq mv b gy nd na l nb nc">position: relative;</span><span id="b3ff" class="lv lw iq mv b gy nd na l nb nc">`;</span></pre><h2 id="d662" class="lv lw iq bd lx ly lz dn ma mb mc dp md lf me mf mg lj mh mi mj ln mk ml mm mn bi translated">使用ChatContent.js上的<message/></h2><p id="3efd" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">转到ChatContent.js，导入消息组件</p><pre class="kg kh ki kj gt mu mv mw mx aw my bi"><span id="2111" class="lv lw iq mv b gy mz na l nb nc">import Message from './Message';</span></pre><p id="57c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用map函数呈现消息，将message.user作为用户传递，将message.message作为消息传递。</p><pre class="kg kh ki kj gt mu mv mw mx aw my bi"><span id="ae56" class="lv lw iq mv b gy mz na l nb nc">&lt;MessagesContainer&gt;</span><span id="f9fe" class="lv lw iq mv b gy nd na l nb nc">{messages.map(message=&gt;&lt;Message key={message.id} user={message.user} message={message.message}/&gt;)}</span><span id="466a" class="lv lw iq mv b gy nd na l nb nc">&lt;/MessagesContainer&gt;</span></pre><p id="17c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以看到每个消息都在消息组件中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/232acbc67e46ef39f3fae0a5889bf1a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7tgMo1m4MyHCVnVy1_Iphw.png"/></div></div></figure><h1 id="2e42" class="nf lw iq bd lx ng nh ni ma nj nk nl md jw nm jx mg jz nn ka mj kc no kd mm np bi translated">关注我们:<a class="ae kv" href="https://app.gumroad.com/ckmobile" rel="noopener ugc nofollow" target="_blank"> Gumroad课程</a>，<a class="ae kv" href="https://www.youtube.com/channel/UCu4-4FnutvSHVo9WHvq80Ww?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> YouTube </a>，<a class="ae kv" href="https://ckmobile.medium.com/" rel="noopener"> Medium </a>，<a class="ae kv" href="https://www.udemy.com/user/cyruschan2/" rel="noopener ugc nofollow" target="_blank"> Udemy </a>，<a class="ae kv" href="https://www.linkedin.com/company/ckmobi/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>，<a class="ae kv" href="https://twitter.com/ckmobilejavasc1" rel="noopener ugc nofollow" target="_blank"> Twitter </a>，<a class="ae kv" href="https://www.instagram.com/ckmobile8050" rel="noopener ugc nofollow" target="_blank"> Instagram </a></h1><p id="5b76" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">加入分支机构赚钱</p><div class="nq nr gp gr ns nt"><a href="https://ckmobile.gumroad.com/affiliates" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">Gumroad</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">申请成为会员很容易。填写下表，让Ckmobile知道您将如何推广他们的…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">ckmobile.gumroad.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh kp nt"/></div></div></a></div><p id="ff3a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oi">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">plain English . io</em></strong></a></p></div></div>    
</body>
</html>