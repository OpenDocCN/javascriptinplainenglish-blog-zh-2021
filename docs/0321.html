<html>
<head>
<title>How to use combineReducers() In Redux and React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Redux和React中使用combineReducers()</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/simple-application-of-redux-combinereducers-in-react-6ac3bbeabc4a?source=collection_archive---------0-----------------------#2021-01-19">https://javascript.plainenglish.io/simple-application-of-redux-combinereducers-in-react-6ac3bbeabc4a?source=collection_archive---------0-----------------------#2021-01-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/c3998f46aacfe23de081b3b6f6d7a285.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GbreE_PkjDuYaOdS.jpg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><a class="ae jz" href="https://waftengine.org/public/blog/1B5EE4D5D773F8A-RR.jpg" rel="noopener ugc nofollow" target="_blank">https://waftengine.org/public/blog/1B5EE4D5D773F8A-RR.jpg</a></figcaption></figure><p id="4325" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本文中，我们将创建一个简单的react应用程序，其中我们将使用redux进行状态管理。该应用程序的最终外观如下所示—</p><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="lc ld l"/></div></figure><p id="f146" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本练习中，我们将使用<code class="fe le lf lg lh b">redux</code>库的<code class="fe le lf lg lh b">combineReducers()</code>，它将多个减速器组合成一个减速器。</p><p id="9360" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">根据官方的<a class="ae jz" href="https://redux.js.org/api/combinereducers" rel="noopener ugc nofollow" target="_blank">文档</a>，随着我们的应用程序增长并变得更加复杂，我们可以有多个reducers，每个管理状态的独立部分。<code class="fe le lf lg lh b">combineReducers()</code>辅助函数将一个值为不同减函数的对象转换成一个我们可以传递给<code class="fe le lf lg lh b">createStore()</code>的减函数。</p><h1 id="883f" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">初始设置</h1><p id="fe87" class="pw-post-body-paragraph ka kb in kc b kd mg kf kg kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ig bi translated">首先，我们已经确保Node.js安装在我们的系统中。如果是这样，我们将创建一个名为<strong class="kc io"> React_Projects </strong>的目录，然后，我们将打开终端并导航到该目录。在那里，我们将运行以下命令—</p><pre class="ky kz la lb gt ml lh mm mn aw mo bi"><span id="2994" class="mp lj in lh b gy mq mr l ms mt">npx create-react-app myapp</span></pre><p id="59a0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然后我们运行下面的命令来安装<code class="fe le lf lg lh b">redux</code>和<code class="fe le lf lg lh b">react-redux</code>。</p><pre class="ky kz la lb gt ml lh mm mn aw mo bi"><span id="a850" class="mp lj in lh b gy mq mr l ms mt">npm install redux react-redux</span></pre><p id="43d1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe le lf lg lh b">redux</code>是一个状态管理库。</p><p id="1dde" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">并且，<code class="fe le lf lg lh b">react-redux</code>帮助连接react与redux。</p><h1 id="ad78" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">程序</h1><p id="f4ca" class="pw-post-body-paragraph ka kb in kc b kd mg kf kg kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ig bi translated">这个项目的<code class="fe le lf lg lh b">src</code>目录如下所示</p><figure class="ky kz la lb gt jo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/be17dbe317131ab7f0daee9257dfc625.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*CpzgxqNZzHeOozluqVvBHQ.jpeg"/></div></figure><h2 id="4c01" class="mp lj in bd lk mv mw dn lo mx my dp ls kl mz na lw kp nb nc ma kt nd ne me nf bi translated"><strong class="ak">第一步</strong></h2><p id="c14a" class="pw-post-body-paragraph ka kb in kc b kd mg kf kg kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ig bi translated">首先，我们将为我们的应用程序设置redux存储。为此，我们将在<code class="fe le lf lg lh b">src</code>中创建一个名为<code class="fe le lf lg lh b">redux</code>的目录。</p><p id="ea01" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因为，我们将有两个reducers来处理这两种状态，这就是为什么我们将在<code class="fe le lf lg lh b">redux</code>目录中创建两个目录。</p><h2 id="ad2d" class="mp lj in bd lk mv mw dn lo mx my dp ls kl mz na lw kp nb nc ma kt nd ne me nf bi translated"><strong class="ak">第二步</strong></h2><p id="a7c2" class="pw-post-body-paragraph ka kb in kc b kd mg kf kg kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ig bi translated"><code class="fe le lf lg lh b">redux</code>目录中的第一个目录将是<code class="fe le lf lg lh b">multiply_two</code>。在这个目录中，有三个文件，如下所示</p><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><h2 id="d837" class="mp lj in bd lk mv mw dn lo mx my dp ls kl mz na lw kp nb nc ma kt nd ne me nf bi translated"><strong class="ak">第三步</strong></h2><p id="e88d" class="pw-post-body-paragraph ka kb in kc b kd mg kf kg kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ig bi translated"><code class="fe le lf lg lh b">redux</code>目录内的第二个目录将是<code class="fe le lf lg lh b">multiply_five</code>。在这个目录中，也有下面给出的三个文件—</p><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><h2 id="d123" class="mp lj in bd lk mv mw dn lo mx my dp ls kl mz na lw kp nb nc ma kt nd ne me nf bi translated"><strong class="ak">第四步</strong></h2><p id="7050" class="pw-post-body-paragraph ka kb in kc b kd mg kf kg kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ig bi translated">现在，我们将在<code class="fe le lf lg lh b">rootReducer.js</code>文件中组合两个减速器。</p><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><p id="caf8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上面的代码中，<code class="fe le lf lg lh b">combineReducers()</code>方法接受一个对象，它的键可以是我们想要提供的任何名称，值是reducer函数。</p><h2 id="5839" class="mp lj in bd lk mv mw dn lo mx my dp ls kl mz na lw kp nb nc ma kt nd ne me nf bi translated"><strong class="ak">第五步</strong></h2><p id="a832" class="pw-post-body-paragraph ka kb in kc b kd mg kf kg kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ig bi translated">现在，我们将在<code class="fe le lf lg lh b">store.js</code>文件中创建redux存储。</p><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><h2 id="e90f" class="mp lj in bd lk mv mw dn lo mx my dp ls kl mz na lw kp nb nc ma kt nd ne me nf bi translated"><strong class="ak">第六步</strong></h2><p id="4416" class="pw-post-body-paragraph ka kb in kc b kd mg kf kg kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ig bi translated">在这一步，我们将创建一个文件<code class="fe le lf lg lh b">index.js</code>，它将导出两个动作创建函数，即。<code class="fe le lf lg lh b">multiplyTwo</code>和<code class="fe le lf lg lh b">multiplyFive</code>。</p><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><h2 id="33a3" class="mp lj in bd lk mv mw dn lo mx my dp ls kl mz na lw kp nb nc ma kt nd ne me nf bi translated"><strong class="ak">第七步</strong></h2><p id="a34f" class="pw-post-body-paragraph ka kb in kc b kd mg kf kg kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ig bi translated">现在，我们将在<code class="fe le lf lg lh b">src</code>目录中创建一个<code class="fe le lf lg lh b">components</code>目录，其中将包含两个将被渲染的组件。</p><p id="9daf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第一个组件是<code class="fe le lf lg lh b">TwoContainer.js</code>，其代码如下—</p><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><p id="913a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第二个组件是<code class="fe le lf lg lh b">FiveContainer.js</code>，其代码如下—</p><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><p id="8de2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上面的代码中，<code class="fe le lf lg lh b">mapStateToProps</code>函数有以下语句—</p><p id="88de" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe le lf lg lh b">val_two: state.two.val_two</code>和<code class="fe le lf lg lh b">val_five: state.five.val_five</code>。</p><p id="40b8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">以上两个语句都是一个键-值对，值引用状态的键<code class="fe le lf lg lh b">two</code>和<code class="fe le lf lg lh b">five</code>，在<code class="fe le lf lg lh b">rootReducer.js</code>中定义。</p><h2 id="1f8e" class="mp lj in bd lk mv mw dn lo mx my dp ls kl mz na lw kp nb nc ma kt nd ne me nf bi translated"><strong class="ak">第8步</strong></h2><p id="5de9" class="pw-post-body-paragraph ka kb in kc b kd mg kf kg kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ig bi translated">最后，我们将修改<code class="fe le lf lg lh b">App.js</code>文件，如下所示</p><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="ng ld l"/></div></figure><p id="5b2e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，我们的练习已经完成，我们可以运行开发服务器并检查结果。</p><p id="6539" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所有的代码也可以在我的GitHub库中找到，可以通过下面的链接获得</p><div class="nh ni gp gr nj nk"><a href="https://github.com/souvik-pl/react_redux_combineReducers" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd io gy z fp np fr fs nq fu fw im bi translated">sou vik-pl/react _ redux _ combine reducers</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">在GitHub上创建一个帐户，为sou vik-pl/react _ redux _ combineReducers的开发做出贡献。</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">github.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny jt nk"/></div></div></a></div><h2 id="5015" class="mp lj in bd lk mv mw dn lo mx my dp ls kl mz na lw kp nb nc ma kt nd ne me nf bi translated">参考</h2><p id="4d3b" class="pw-post-body-paragraph ka kb in kc b kd mg kf kg kh mh kj kk kl mi kn ko kp mj kr ks kt mk kv kw kx ig bi translated"><a class="ae jz" href="https://redux.js.org/api/combinereducers" rel="noopener ugc nofollow" target="_blank">https://redux.js.org/api/combinereducers</a></p><p id="b231" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">文件—联合收割机减速器</p></div></div>    
</body>
</html>