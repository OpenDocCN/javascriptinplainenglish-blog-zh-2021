<html>
<head>
<title>How to Split a JavaScript Array Into Chunks?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将一个JavaScript数组拆分成块？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-split-a-javascript-array-into-chunks-b0b129fbbfe0?source=collection_archive---------16-----------------------#2021-06-02">https://javascript.plainenglish.io/how-to-split-a-javascript-array-into-chunks-b0b129fbbfe0?source=collection_archive---------16-----------------------#2021-06-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8c6100b6db50c118ab6b8d3be222f454.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZBCarbS057VDqZ5p"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@eric_welch?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Eric Welch</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bce1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们可能想在代码中将JavaScript数组分成块。</p><p id="a1c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何将JavaScript数组分割成块。</p><h1 id="2ad8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数组.原型.切片</h1><p id="2863" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">slice</code> array实例方法来提取一个带有开始和结束索引的数组块。</p><p id="7b44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">起始索引处的项目包括在内，但结束索引处的项目不包括在内。</p><p id="33aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="98a0" class="mq lc iq mh b gy mr ms l mt mu">const array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]<br/>const chunk = 2;<br/>let tempArray = []<br/>const result = []<br/>for (let i = 0, j = array.length; i &lt; j; i += chunk) {<br/>  tempArray = array.slice(i, i + chunk);<br/>  result.push(tempArray)<br/>}<br/>console.log(result)</span></pre><p id="8d95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个想要分成块的<code class="fe me mf mg mh b">array</code>数组。</p><p id="9085" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">chunk</code>指定每个组块的长度。</p><p id="c215" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">tempArray</code>有提取的数组块。</p><p id="c240" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个for循环，让我们遍历<code class="fe me mf mg mh b">array</code>来提取数据块。</p><p id="3f4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在每次迭代中，我们将<code class="fe me mf mg mh b">i</code>增加<code class="fe me mf mg mh b">chunk</code>以跳到下一个块的开始。</p><p id="cbe0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在循环体中，我们用<code class="fe me mf mg mh b">i</code>和<code class="fe me mf mg mh b">i + chunk</code>调用<code class="fe me mf mg mh b">slice</code>来返回每个块。</p><p id="2d31" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且我们用<code class="fe me mf mg mh b">tempArray</code>调用<code class="fe me mf mg mh b">push</code>将其添加到<code class="fe me mf mg mh b">result</code>数组中。</p><p id="9e7e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe me mf mg mh b">result</code>是:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="24fa" class="mq lc iq mh b gy mr ms l mt mu">[<br/>  [<br/>    1,<br/>    2<br/>  ],<br/>  [<br/>    3,<br/>    4<br/>  ],<br/>  [<br/>    5,<br/>    6<br/>  ],<br/>  [<br/>    7,<br/>    8<br/>  ],<br/>  [<br/>    9,<br/>    10<br/>  ]<br/>]</span></pre><h1 id="adbf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">array . prototype .<code class="fe me mf mg mh b">concat and </code>array . prototype . map</h1><p id="4ceb" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">concat</code> array方法将一个或多个项目添加到一个数组中。</p><p id="3ebf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">map</code>将原始数组的值映射到数组块中。</p><p id="dff2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="beb9" class="mq lc iq mh b gy mr ms l mt mu">const array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]<br/>const chunk = 2;<br/>const result = array.map((elem, i) =&gt; {<br/>  return i % chunk ? [] : [array.slice(i, i + chunk)];<br/>}).flat()<br/>console.log(result)</span></pre><p id="cfef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们拥有与前一个例子相同的数组和块大小。</p><p id="77e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用回调函数调用<code class="fe me mf mg mh b">array.map</code>，检查索引<code class="fe me mf mg mh b">i</code>是否能被<code class="fe me mf mg mh b">chunk</code>整除。</p><p id="c24a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果是，那么我们用回调函数<code class="fe me mf mg mh b">slice</code>返回数组块。</p><p id="e2be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们返回一个空数组。</p><p id="6100" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe me mf mg mh b">flat</code>来展平返回的数组，将数组展平一级以得到我们想要的。</p><p id="abdd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于我们必须遍历整个<code class="fe me mf mg mh b">array</code>，这比for循环效率低。</p><p id="2efe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，<code class="fe me mf mg mh b">result</code>应该和我们之前的一样。</p><h1 id="1b4e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="bd34" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用各种JavaScript数组方法将一个数组分割成块。</p><p id="7821" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容请看</em><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mv">plain English . io</em></a></p></div></div>    
</body>
</html>