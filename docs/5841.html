<html>
<head>
<title>How To Convert Roman Numerals With JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript转换罗马数字</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-convert-roman-numerals-to-arabic-with-javascript-e038c8214ba0?source=collection_archive---------3-----------------------#2021-12-14">https://javascript.plainenglish.io/how-to-convert-roman-numerals-to-arabic-with-javascript-e038c8214ba0?source=collection_archive---------3-----------------------#2021-12-14</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/4b9e027a38672499efe7262557a99727.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_MUzu74q_3Te8kHX1t3ugA.jpeg"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Photo by <a class="ae kd" href="https://unsplash.com/@kedar9?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Kedar Gadge</a> on <a class="ae kd" href="https://unsplash.com/s/photos/roman-numerals?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4cd3" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">精灵们对新技术感到兴奋。他们说服圣诞老人让一切现代化。他们正在将数千年的书面文件转换成数字文件。然而，他们意识到，他们越回到过去，就越困难。很久很久以来，精灵们一直使用罗马数字系统。有字母而不是数字的那个。现在都是阿拉伯数字，从0到9的数字。将罗马数字转换成阿拉伯数字的最快方法是什么？</p><h1 id="a5ed" class="lc ld ir bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">谜题:数字转换🏛️</h1><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj ma"><img src="../Images/1aea8931d96cc582801d6c5014cb7208.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hd4CNuv6cO6AQjFQoFZ18w.jpeg"/></div></div></figure><p id="ce67" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">将罗马数字转换成小数不是一个容易的问题。使用本地JavaScript方法是不可能的:我们必须自己创建一个特别的函数。此外，拉丁编号是基于分组字母。该字母的含义因其前后字母的不同而不同。</p><p id="41e0" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">例如，字母<code class="fe mf mg mh mi b">I</code>代表数字<code class="fe mf mg mh mi b">1</code>。字母<code class="fe mf mg mh mi b">V</code>代表数字<code class="fe mf mg mh mi b">5</code>。我们可以用两种不同的方式组合这两个符号:<code class="fe mf mg mh mi b">IV</code>和<code class="fe mf mg mh mi b">VI</code>。在我们的数字系统中，它们会变成<code class="fe mf mg mh mi b">15</code>和<code class="fe mf mg mh mi b">51</code>。但事实并非如此。因为<code class="fe mf mg mh mi b">V</code>前面的<code class="fe mf mg mh mi b">I</code>表示<code class="fe mf mg mh mi b">minus 1 to 5</code>，或者说<code class="fe mf mg mh mi b">4</code>。相反，<code class="fe mf mg mh mi b">V</code>后的<code class="fe mf mg mh mi b">I</code>表示<code class="fe mf mg mh mi b">5 plus 1</code>，或<code class="fe mf mg mh mi b">6</code>。</p><h1 id="faf0" class="lc ld ir bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">将罗马数字转换成十进制数字</h1><p id="1d3e" class="pw-post-body-paragraph ke kf ir kg b kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx mn kz la lb ik bi translated">因此，从罗马数字到阿拉伯数字的转换需要两种类型的操作。首先，我分析字符串中单个字母的位置。然后我提取单个值，并把它们加起来。</p><p id="d92a" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">为了解决这个难题，我使用了几年前在StackOverflow 上发布的一个讨论。这些意见提出了许多可能的解决方案。从那里开始，我写下了我的解决方案:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mo mp l"/></div></figure><p id="3699" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">它是如何工作的？</p><p id="4d27" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">首先，我用罗马数字字母定义一个对象作为属性。每个属性的值就是字母的值:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mo mp l"/></div></figure><p id="08af" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">然后我接受要转换的数字，它将是一个字符串，并将其转换为包含字符的数组:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mo mp l"/></div></figure><p id="bee9" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">首先我把所有内容变成大写字符；这样我可以简化后面的分析。</p><p id="12f0" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">为了遍历所有的字母，我使用了<a class="ae kd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" rel="noopener ugc nofollow" target="_blank"> Array.prototype.reduce() </a>方法。与其他时候不同，我使用它的扩展形式:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mo mp l"/></div></figure><p id="b16c" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我想做的是将我正在分析的值与它后面的值进行比较:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mo mp l"/></div></figure><p id="b8aa" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我以这个数字为例:<code class="fe mf mg mh mi b">["M","X","X","I","V"]</code>。</p><p id="5342" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">使用<code class="fe mf mg mh mi b">index = 0</code>，条件变为:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mo mp l"/></div></figure><p id="07b4" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">下一个是:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mo mp l"/></div></figure><p id="4cdd" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我现在要做什么？</p><p id="bacc" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在我要计算这个字符表示的值。</p><p id="c934" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">因此，如果下面的值大于前面的值，我们必须从总数中减去当前值:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mo mp l"/></div></figure><p id="d27e" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">相反，如果下面的值更小，我可以把它加到总数中:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mo mp l"/></div></figure><p id="f370" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如果我按顺序运行所有步骤，我会得到:</p><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj mq"><img src="../Images/dd4342a75503dea705be0c67c2eb3fc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LLoaBbRqfxwdZ9Vt.gif"/></div></div></figure><p id="a553" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">gif上的小备注。为了延迟JavaScript代码的执行，我使用了一个<code class="fe mf mg mh mi b">sleep()</code>函数:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mo mp l"/></div></figure><h1 id="7370" class="lc ld ir bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">将阿拉伯数字转换为罗马数字</h1><p id="4af8" class="pw-post-body-paragraph ke kf ir kg b kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx mn kz la lb ik bi translated">在这一点上，我想知道如何做相反的事情。然后我寻找如何将十进制数字转换成罗马数字。我发现了一篇有趣的文章，作者是卡洛斯·达·科斯塔，解释了如何做到这一点。我稍微修改了一下他的代码，试图简化它。这是我的方法:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mo mp l"/></div></figure><p id="1ffa" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">虽然我希望精灵们不要决定把所有的阿拉伯数字都转换回十进制数字。</p><p id="635b" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl mr ms hv mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ik il im in io"><p id="9ef0" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is"> <em class="my">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae kd" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="kg is"> <em class="my">中邮箱列表</em> </strong> </a></p><div class="mz na gq gs nb nc"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="nd ab fp"><div class="ne ab nf cl cj ng"><h2 class="bd is gz z fq nh fs ft ni fv fx iq bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="nj l"><h3 class="bd b gz z fq nh fs ft ni fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="nk l"><p class="bd b dl z fq nh fs ft ni fv fx dk translated">el3um4s.medium.com</p></div></div><div class="nl l"><div class="nm l nn no np nl nq jx nc"/></div></div></a></div></div><div class="ab cl mr ms hv mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ik il im in io"><p id="593a" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="my">原载于2021年12月14日</em><a class="ae kd" href="https://blog.stranianelli.com/how-to-convert-roman-numerals-to-arabic-with-javascript/" rel="noopener ugc nofollow" target="_blank"><em class="my">https://blog.stranianelli.com</em></a><em class="my">。</em></p><p id="053d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="my">更多内容请看</em><a class="ae kd" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kg is"><em class="my">plain English . io</em></strong></a><strong class="kg is"><em class="my">。</em> </strong> <em class="my">报名参加我们的</em> <a class="ae kd" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kg is"> <em class="my">免费每周简讯这里</em> </strong> </a> <strong class="kg is"> <em class="my">。</em>T48】</strong></p></div></div>    
</body>
</html>