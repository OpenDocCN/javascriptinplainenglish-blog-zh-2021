<html>
<head>
<title>Forms in React with Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">与钩子反应的形式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/forms-in-react-with-hooks-809a3f38ed4?source=collection_archive---------6-----------------------#2021-03-21">https://javascript.plainenglish.io/forms-in-react-with-hooks-809a3f38ed4?source=collection_archive---------6-----------------------#2021-03-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><h2 id="f658" class="il im in bd b dl io ip iq ir is it dk iu translated" aria-label="kicker paragraph">编程、前端、反应</h2><div class=""/><div class=""><h2 id="f1c9" class="pw-subtitle-paragraph jt iw in bd b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk dk translated">如何使用扩展运算符和钩子来处理React中的表单</h2></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/ada7c65ec01196d88204beeea4450fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p-8PdFCzcghe7nVDor8wyw.jpeg"/></div></div></figure><p id="dbac" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">在<a class="ae lt" rel="noopener ugc nofollow" target="_blank" href="/react-component-props-and-state-734d36d52610">之前的教程</a>中，我们学习了React的基础知识以及如何使用钩子来改变状态。本教程将从这里继续，在这里我们将看到如何使用钩子来更新reactor中的表单。</p><p id="8443" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">然而，在继续之前，我想介绍一个将在您将要构建的大部分React应用程序中使用的主题。这个话题已经传开了，接线员。</p><h2 id="82b5" class="lu lv in bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml it bi translated">扩展运算符(…)</h2><p id="6de6" class="pw-post-body-paragraph kx ky in kz b la mm jx lc ld mn ka lf lg mo li lj lk mp lm ln lo mq lq lr ls ig bi translated">假设您有一个数组，arr1，您想在不影响arr1数组的情况下将5加到这个数组中。</p><pre class="km kn ko kp gt mr ms mt mu aw mv bi"><span id="2605" class="lu lv in ms b gy mw mx l my mz">const arr1= [1,2,3,4]</span></pre><p id="83fb" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">现在你想在最后加5。我们可以使用push()方法，但是这会改变arr1数组。我们在这里可以做的是创建第二个数组arr2，并存储其中的所有元素，最后加上5。我们可以在JavaScript中使用扩展运算符来实现这一点。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi na"><img src="../Images/743a1ead932f4ce4c6566d4c85253f4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*sDDAygIDTHIGJvNpw5PAqw.jpeg"/></div></figure><h2 id="adab" class="lu lv in bd lw lx ly dn lz ma mb dp mc lg md me mf lk mg mh mi lo mj mk ml it bi translated">添加联系人应用程序</h2><p id="f20d" class="pw-post-body-paragraph kx ky in kz b la mm jx lc ld mn ka lf lg mo li lj lk mp lm ln lo mq lq lr ls ig bi translated">这一部分将展示如何使用钩子在reactor中使用表单。如何使用扩展运算符在输入表单中正确显示用户提供的值。</p><p id="d7f7" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">在这个应用程序中，我们将使用React useState钩子将一个人的名字和姓氏添加到联系人列表中。将会有一个表单，有两个名字和姓氏输入，以及一个添加这些名字的按钮。</p><p id="5f8c" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated"><strong class="kz ix"> App.js </strong></p><pre class="km kn ko kp gt mr ms mt mu aw mv bi"><span id="cdd6" class="lu lv in ms b gy mw mx l my mz">export default function App() {</span><span id="8688" class="lu lv in ms b gy nb mx l my mz"><strong class="ms ix">const [inputValue, setInputValue] = useState({firstName:"",lastName:""})</strong></span><span id="6c4a" class="lu lv in ms b gy nb mx l my mz">function handleChange(){}<br/>return (</span><span id="ce51" class="lu lv in ms b gy nb mx l my mz">&lt;div&gt;</span><span id="d8b4" class="lu lv in ms b gy nb mx l my mz">   &lt;form&gt;</span><span id="fb32" class="lu lv in ms b gy nb mx l my mz">    &lt;input</span><span id="646c" class="lu lv in ms b gy nb mx l my mz">       placeholder="first name"</span><span id="7374" class="lu lv in ms b gy nb mx l my mz">       name = "firstName"</span><span id="7d43" class="lu lv in ms b gy nb mx l my mz">       value ={inputValue.firstName}</span><span id="7c37" class="lu lv in ms b gy nb mx l my mz">       onChange = {handleChange}</span><span id="eff1" class="lu lv in ms b gy nb mx l my mz">       /&gt;</span><span id="ea41" class="lu lv in ms b gy nb mx l my mz">    &lt;/form&gt;</span><span id="f5a3" class="lu lv in ms b gy nb mx l my mz">&lt;/div&gt;</span><span id="8494" class="lu lv in ms b gy nb mx l my mz">);</span></pre><h1 id="ea91" class="nc lv in bd lw nd ne nf lz ng nh ni mc kc nj kd mf kf nk kg mi ki nl kj ml nm bi translated">更新输入状态</h1><p id="31f0" class="pw-post-body-paragraph kx ky in kz b la mm jx lc ld mn ka lf lg mo li lj lk mp lm ln lo mq lq lr ls ig bi translated">因此，首先我们在表单中添加了一个名为的输入字段。我们也会对姓做同样的处理。在我们的状态下，我们使用useState来获取用户输入值并在屏幕上显示。</p><p id="fa88" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated"><strong class="kz ix"> <em class="nn">注意</em> </strong> <em class="nn">:按照惯例，我们使用了输入值和设置输入值的数组。请始终记住，输入值是一个对象(或者可以是一个布尔值、数字或字符串)，而设置输入值始终是一个会改变输入值的函数。</em></p><p id="7f68" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated"><code class="fe no np nq ms b">handleChange</code>功能处理输入值的变化。不管你在盒子里打什么，它都会盯着你。借助<code class="fe no np nq ms b">handleChange</code>功能，我们可以得到输入框中输入的值。我们可以从<code class="fe no np nq ms b">event.target</code>那里获得名字和价值:</p><pre class="km kn ko kp gt mr ms mt mu aw mv bi"><span id="aef1" class="lu lv in ms b gy mw mx l my mz">function handleChange(event){<br/>    const {name, value } = event.target<br/>}</span></pre><p id="36cb" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">现在让我们也添加姓氏输入字段:</p><pre class="km kn ko kp gt mr ms mt mu aw mv bi"><span id="4c32" class="lu lv in ms b gy mw mx l my mz">&lt;form&gt;</span><span id="16b7" class="lu lv in ms b gy nb mx l my mz">&lt;input</span><span id="3271" class="lu lv in ms b gy nb mx l my mz">  placeholder="first name"</span><span id="3e71" class="lu lv in ms b gy nb mx l my mz">  name = "firstName"</span><span id="3740" class="lu lv in ms b gy nb mx l my mz">  value ={inputValue.firstName}</span><span id="2741" class="lu lv in ms b gy nb mx l my mz">  onChange = {handleChange}</span><span id="569d" class="lu lv in ms b gy nb mx l my mz">/&gt;</span><span id="a3ae" class="lu lv in ms b gy nb mx l my mz">&lt;input</span><span id="719e" class="lu lv in ms b gy nb mx l my mz"><strong class="ms ix">  placeholder="last name"</strong></span><span id="c278" class="lu lv in ms b gy nb mx l my mz"><strong class="ms ix">  name = "lastName"</strong></span><span id="0878" class="lu lv in ms b gy nb mx l my mz"><strong class="ms ix">  value ={inputValue.lastName}</strong></span><span id="2c70" class="lu lv in ms b gy nb mx l my mz"><strong class="ms ix">  onChange = {handleChange}</strong></span><span id="c4ed" class="lu lv in ms b gy nb mx l my mz">/&gt;</span><span id="c49e" class="lu lv in ms b gy nb mx l my mz">&lt;/form&gt;</span></pre><p id="242c" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated"><code class="fe no np nq ms b">console.log()</code>本<code class="fe no np nq ms b">handleChange</code>功能:</p><pre class="km kn ko kp gt mr ms mt mu aw mv bi"><span id="13ca" class="lu lv in ms b gy mw mx l my mz">function handleChange(event){</span><span id="3f09" class="lu lv in ms b gy nb mx l my mz">  const {name, value } = event.target</span><span id="2fe6" class="lu lv in ms b gy nb mx l my mz"> setInputValue ({</span><span id="d7b3" class="lu lv in ms b gy nb mx l my mz">  [name]:value</span><span id="e718" class="lu lv in ms b gy nb mx l my mz">})</span><span id="8432" class="lu lv in ms b gy nb mx l my mz">  <strong class="ms ix">console.log("value typed is:", value)</strong></span><span id="43f9" class="lu lv in ms b gy nb mx l my mz">}</span></pre><p id="b141" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">我们可以通过按钮和添加事件监听器<code class="fe no np nq ms b">handleSubmit</code>来处理提交:</p><pre class="km kn ko kp gt mr ms mt mu aw mv bi"><span id="5475" class="lu lv in ms b gy mw mx l my mz">function handleSubmit(event) {</span><span id="ee80" class="lu lv in ms b gy nb mx l my mz">    event.preventDefault();</span><span id="cc6c" class="lu lv in ms b gy nb mx l my mz">    setAddContact((prevContact) =&gt; [...prevContact, inputValue]);</span><span id="d891" class="lu lv in ms b gy nb mx l my mz">}</span></pre><p id="9f5e" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">现在，如果我们看到控制台，它将只记录名字或姓氏。我们不想那样。我们需要稍微改变我们的代码才能正常工作。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/eddc9a098cfe34d8e12971f67639f420.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*29jfLmTnL-AMdQvl2kCa_g.png"/></div></figure><p id="9215" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">通过改变<code class="fe no np nq ms b">handleChange</code>功能，我们可以看到名字和姓氏:</p><pre class="km kn ko kp gt mr ms mt mu aw mv bi"><span id="6101" class="lu lv in ms b gy mw mx l my mz">function handleChange(event){</span><span id="ebf3" class="lu lv in ms b gy nb mx l my mz">const {name, value } = event.target</span><span id="cdd0" class="lu lv in ms b gy nb mx l my mz">  <strong class="ms ix">setInputValue ( prevState =&gt;{</strong></span><span id="e9e8" class="lu lv in ms b gy nb mx l my mz"><strong class="ms ix">  return {</strong></span><span id="65d1" class="lu lv in ms b gy nb mx l my mz"><strong class="ms ix">    ...prevState,</strong></span><span id="a703" class="lu lv in ms b gy nb mx l my mz"><strong class="ms ix">    [name]: value</strong></span><span id="d32e" class="lu lv in ms b gy nb mx l my mz"><strong class="ms ix">}</strong></span><span id="c1ab" class="lu lv in ms b gy nb mx l my mz">})</span><span id="4472" class="lu lv in ms b gy nb mx l my mz">console.log("value typed is:",value)</span><span id="689d" class="lu lv in ms b gy nb mx l my mz">}</span></pre><p id="94a4" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">我们在这里使用扩展运算符来获得值。</p><p id="df69" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated"><strong class="kz ix"> App.js </strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="b8b6" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated"><code class="fe no np nq ms b">addContact</code>将是用户添加的联系人数组。我们映射那些数组元素(名和姓),在花括号内，我们显示名字。</p><p id="4ffe" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">代码笔链接:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nu nt l"/></div></figure><p id="be08" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">在接下来的教程中，我们将看到如何在React中使用不同的钩子，比如useEffect。</p><blockquote class="nv"><p id="1e79" class="nw nx in bd ny nz oa ob oc od oe ls dk translated">你可以在我的YouTube频道上找到更多关于编程的教程，<a class="ae lt" href="https://www.youtube.com/channel/UCOHJCOprtOf4caI50lJlHSQ" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/channel/UCOHJCOprtOf4caI50lJlHSQ</a></p></blockquote></div><div class="ab cl of og hr oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="ig ih ii ij ik"><p id="89dc" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">图为<a class="ae lt" href="https://unsplash.com/@sametomorrow?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">亚当·张</a>在<a class="ae lt" href="/s/photos/winter?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></div></div>    
</body>
</html>