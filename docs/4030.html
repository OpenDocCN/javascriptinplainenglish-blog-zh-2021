<html>
<head>
<title>How to Safely Concatenate URLs with Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Node.js安全地连接URL</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-safely-concatenate-url-with-node-js-f6527b623d5?source=collection_archive---------2-----------------------#2021-08-12">https://javascript.plainenglish.io/how-to-safely-concatenate-url-with-node-js-f6527b623d5?source=collection_archive---------2-----------------------#2021-08-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3148" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">学习一种用Node.js安全连接URL的方法。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c6f6fb6e7869f68539e0a9d74e09e895.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P93WJp3xdKnEOzs7f_YFug.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@jstrippa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">James Harrison</a> on <a class="ae kv" href="https://unsplash.com/s/photos/programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6e8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最近，在我的一个项目中，我有几个URL，需要一个函数来连接它们并构造一个完整的URL。</p><p id="2b88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我想构建的完整URL的例子:<code class="fe ls lt lu lv b">https://github.com/weikangchia/gitcg</code></p><ol class=""><li id="914b" class="lw lx iq ky b kz la lc ld lf ly lj lz ln ma lr mb mc md me bi translated">baseUrl: <code class="fe ls lt lu lv b">https://github.com</code></li><li id="a5eb" class="lw lx iq ky b kz mf lc mg lf mh lj mi ln mj lr mb mc md me bi translated">路径1(此存储库的用户):<code class="fe ls lt lu lv b">weikangchia</code></li><li id="1ade" class="lw lx iq ky b kz mf lc mg lf mh lj mi ln mj lr mb mc md me bi translated">路径2(存储库的名称):<code class="fe ls lt lu lv b">gitcg</code></li></ol></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="9f86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最初，我使用ES6模板文字方法来构造完整的URL。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="3fcd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，我意识到这种方法并不安全。如果我的任何路径碰巧包含一个斜杠，我的<code class="fe ls lt lu lv b">fullUrl</code>就会有一个双斜杠并成为一个无效的URL。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="4a3e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在谷歌搜索了一段时间后，我尝试使用了两个Node.js模块:</p><ol class=""><li id="b1e1" class="lw lx iq ky b kz la lc ld lf ly lj lz ln ma lr mb mc md me bi translated"><a class="ae kv" href="https://nodejs.org/api/url.html#url_url" rel="noopener ugc nofollow" target="_blank"> Url </a> <br/>提供Url解析和解析工具的模块。它提供了两个处理URL的API:一个是特定于Node.js的遗留API，另一个是实现web浏览器使用的相同的WHATWG URL标准的新API。</li><li id="b24d" class="lw lx iq ky b kz mf lc mg lf mh lj mi ln mj lr mb mc md me bi translated"><a class="ae kv" href="https://nodejs.org/api/path.html" rel="noopener ugc nofollow" target="_blank"> Path </a> <br/>一个模块，提供了处理文件和目录路径的工具。</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="9bab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">而且，成功了！我感觉这种方式是比较安全的用Node.js串联URL的方式之一，这种方式只使用Nodejs.js中的内置模块，所以处理CVE和维护我们生产代码的作业比较少。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="93ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们有了。我希望你已经发现这是有用的。感谢您的阅读。如果你喜欢这篇文章，记得关注我的更多更新！</p><p id="4540" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你认为用Nodejs连接URL有更好的方法，请在下面留下你的评论。</p><p id="3a11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你还不是灵媒会员，并且想成为灵媒会员，<a class="ae kv" href="https://weikangchia.medium.com/membership" rel="noopener">点击这里</a>。</p><div class="mt mu gp gr mv mw"><a href="https://weikangchia.medium.com/membership" rel="noopener follow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd ir gy z fp nb fr fs nc fu fw ip bi translated">用我的推荐链接加入媒体-伟康</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">weikangchia.medium.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk kp mw"/></div></div></a></div><p id="af73" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nl">更多内容看</em> <a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nl">说白了. io </em> </strong> </a></p></div></div>    
</body>
</html>