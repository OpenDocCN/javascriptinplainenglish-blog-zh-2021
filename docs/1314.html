<html>
<head>
<title>What is a Pure Function?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是纯函数？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-defines-a-pure-function-e1502a037b3?source=collection_archive---------11-----------------------#2021-03-19">https://javascript.plainenglish.io/what-defines-a-pure-function-e1502a037b3?source=collection_archive---------11-----------------------#2021-03-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="9665" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">理解JavaScript中定义纯函数的独特属性。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/2c453f0557f5582c05fb894daab41111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ux5_-YAwzKDjNIZc"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@wildspot?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Aurélien - Wild Spot</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c719" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">完成bootcamp的编码后，我花了大部分时间来加深对JavaScript的理解。在我的整个研究过程中，我遇到了各种各样的术语，我知道这些术语，但我自己不能完全定义它们。今天，我们将学习其中一个术语，<strong class="kv io">纯函数</strong>。</p><h1 id="cfe8" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">什么是纯函数？</h1><p id="7db6" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">简单来说，<strong class="kv io">函数</strong>是接收输入然后返回输出的过程。一个<strong class="kv io">纯函数</strong>有两个附加属性。</p><ol class=""><li id="022a" class="mm mn in kv b kw kx kz la lc mo lg mp lk mq lo mr ms mt mu bi translated">给定相同的输入，纯函数将<em class="mv">总是</em>返回相同的输出。</li><li id="492b" class="mm mn in kv b kw mw kz mx lc my lg mz lk na lo mr ms mt mu bi translated">一个纯粹的函数没有副作用。</li></ol><p id="e920" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们更深入地研究一下这些具体的品质。</p><h1 id="aff3" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">1.相同的输入将总是产生相同的输出</h1><p id="72a9" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">看一下下面的代码块。</p><pre class="kd ke kf kg gt nb nc nd ne aw nf bi"><span id="7a91" class="ng lq in nc b gy nh ni l nj nk">const pureFunction = num =&gt; {<br/>  return num * 10;<br/>}</span><span id="8499" class="ng lq in nc b gy nl ni l nj nk">pureFunction(5); // 50</span></pre><p id="2a20" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">给定一个参数5，上述函数将始终返回50，无论如何。</p><p id="62a7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">作为对比，我们来看看下面的函数。</p><pre class="kd ke kf kg gt nb nc nd ne aw nf bi"><span id="fa38" class="ng lq in nc b gy nh ni l nj nk">const notPureFunction = num =&gt; {<br/>  return num * Math.floor(Math.random() * (11 - 1) + 1);<br/>}</span><span id="0562" class="ng lq in nc b gy nl ni l nj nk">notPureFunction(5); // 15 (5 * 3)<br/>notPureFunction(5); // 35 (5 * 7)<br/>notPureFunction(5); // 20 (5 * 4)</span></pre><p id="e54e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可以看到我们正在<code class="fe nm nn no nc b">notPureFunction</code>的正文中生成一个1到10之间的随机数。即使输入值相同，我们得到的输出也各不相同。立刻，我们知道它是<strong class="kv io">而不是</strong>一个纯函数。</p><h1 id="6564" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">2.不会产生副作用</h1><p id="5e08" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">一个纯粹的函数必须没有副作用。常见副作用的例子包括:</p><ol class=""><li id="939c" class="mm mn in kv b kw kx kz la lc mo lg mp lk mq lo mr ms mt mu bi translated">变异输入</li><li id="00af" class="mm mn in kv b kw mw kz mx lc my lg mz lk na lo mr ms mt mu bi translated">在函数外部修改变量</li><li id="6d04" class="mm mn in kv b kw mw kz mx lc my lg mz lk na lo mr ms mt mu bi translated">HTTP呼叫</li><li id="46ca" class="mm mn in kv b kw mw kz mx lc my lg mz lk na lo mr ms mt mu bi translated"><code class="fe nm nn no nc b">console.log</code></li></ol><p id="ae2a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">下面，我们有一个不纯的函数。它接受两个参数，一个数组和一个要添加到数组中的值。</p><pre class="kd ke kf kg gt nb nc nd ne aw nf bi"><span id="7e47" class="ng lq in nc b gy nh ni l nj nk">const myBasket = ['apple', 'orange']</span><span id="2bdf" class="ng lq in nc b gy nl ni l nj nk">const addFruitToBasket = (basket, fruit) =&gt; {<br/>  basket.push(fruit)<br/>  return basket<br/>}</span><span id="6eb5" class="ng lq in nc b gy nl ni l nj nk">addFruitToBasket(myBasket, 'strawberry') // ['apple', 'orange', strawberry'] <br/>// myBasket is now equal to ['apple', 'orange', strawberry']</span></pre><p id="f1a5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当<code class="fe nm nn no nc b">addFruitToBasket</code>执行时，函数外部定义的值会改变。这是一个副作用。我们马上知道<code class="fe nm nn no nc b">addFruitToBasket</code>是一个不纯函数。</p><p id="46e7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们把<code class="fe nm nn no nc b">addFruitToBasket</code>调整成一个纯函数。</p><pre class="kd ke kf kg gt nb nc nd ne aw nf bi"><span id="d144" class="ng lq in nc b gy nh ni l nj nk">const myBasket = ['apple', 'orange']</span><span id="a5f7" class="ng lq in nc b gy nl ni l nj nk">const addFruitToBasket = (basket, fruit) =&gt; {<br/>  const newBasket = [...basket]<br/>  newBasket.push(fruit)<br/>  return newBasket<br/>}</span><span id="9a22" class="ng lq in nc b gy nl ni l nj nk">addFruitToBasket(myBasket, 'strawberry') // ['apple', 'orange', strawberry'] <br/>// myBasket is unchanged, still equal to ['apple', 'orange']</span></pre><p id="02a2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，当<code class="fe nm nn no nc b">addFruitToBasket</code>执行时，我们正在创建一个新数组。<code class="fe nm nn no nc b">myBasket</code>不受影响，函数之外的任何内容都不会改变。</p><h1 id="8216" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">结论</h1><p id="6278" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">纯函数是函数式编程的主要组成部分。因为它们不会产生副作用，纯函数是非常便携的，可以很容易地到处移动。当给定相同的输入时，纯函数将总是返回相同的输出。这使得它们是可预测的，并提高了可测试性。这些特性允许您生成灵活且易于适应的代码。</p></div></div>    
</body>
</html>