<html>
<head>
<title>I instructed GitHub Copilot to code an Instagram profile feed in React. Here’s what happened.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我指示GitHub Copilot在React中编写一个Instagram个人资料。事情是这样的。</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/i-instructed-github-copilot-to-code-instagram-profile-feed-infinite-scroll-in-react-this-is-a863e7ce3a0d?source=collection_archive---------0-----------------------#2021-09-18">https://javascript.plainenglish.io/i-instructed-github-copilot-to-code-instagram-profile-feed-infinite-scroll-in-react-this-is-a863e7ce3a0d?source=collection_archive---------0-----------------------#2021-09-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b2fbf678b1336b5e4f52493ab5db9b2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*evrFB2bkMgKZsE_pTM9_Ng.jpeg"/></div></div></figure><h1 id="2c46" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">怎么开始的</h1><p id="2d5f" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">一个月前我拿到了GitHub Copilot，我已经对Copilot在几秒钟内解决Leetcode问题感到惊讶了。事实上，它是在数十亿行公共代码上训练出来的，这很有趣。👀</p><p id="e551" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><em class="lx">是的，这一切都很酷，但它能解决我作为前端工程师面临的日常问题吗？</em></p><p id="8fcd" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><strong class="kv io">所以我开着它兜了一圈！</strong></p><h2 id="3666" class="ly jw in bd jx lz ma dn kb mb mc dp kf le md me kj li mf mg kn lm mh mi kr mj bi translated">我的初始设置</h2><p id="ea61" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">我准备了一个Next.js(如果你不知道的话，也叫React)脚手架，我在面试的时候用过。所以我开始设置。<a class="ae lr" href="https://github.com/ayush013/ig-clone-copilot" rel="noopener ugc nofollow" target="_blank"> Github链接此处</a></p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mk"><img src="../Images/bdf7abb3ce43c2399ed23efbcda4da4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E45TzAHuC25vVRgX0chRVA.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Initial setup</figcaption></figure><h2 id="065a" class="ly jw in bd jx lz ma dn kb mb mc dp kf le md me kj li mf mg kn lm mh mi kr mj bi translated">最终目标</h2><p id="7b2c" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">我期望最终得到这样的用户界面:</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/2a1e53ff02e3e8c79ae93ce507be9489.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*B_k8jJ5uJdSdGSzFX8yA_A.jpeg"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk"><a class="ae lr" href="https://www.figma.com/community/file/878318142103232907" rel="noopener ugc nofollow" target="_blank">Mockup by Ashey on Figma community</a></figcaption></figure><ul class=""><li id="78b7" class="mu mv in kv b kw ls la lt le mw li mx lm my lq mz na nb nc bi translated">每行堆叠3个图像</li><li id="a537" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">当我点击视窗底部时，能够加载更多的图像(从分页的API)</li><li id="2b97" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">使用useState挂钩维护状态(加载的图像)</li></ul><h1 id="0c7d" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">这就是它如何进入的</h1><h2 id="dc6a" class="ly jw in bd jx lz ma dn kb mb mc dp kf le md me kj li mf mg kn lm mh mi kr mj bi translated">1.预热—瓷砖组件</h2><p id="f4a3" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">我开始编写注释来创建一个简单的Tile组件。</p><ul class=""><li id="18b5" class="mu mv in kv b kw ls la lt le mw li mx lm my lq mz na nb nc bi translated">磁贴以网址为道具</li><li id="6a96" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">使用URL呈现图像</li><li id="88e1" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">有一些基本样式的类</li></ul><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/98c0bb272538da9a640a924a0e1e01bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e83emQWsUM-om3tq9ZHq7Q.jpeg"/></div></div></figure><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/53dd1c850043241fb43c4d7910885438.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*ZvbdNdW9yQEx_Cg8WSOWaA.jpeg"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Result as per the context — Not a bad start, I’d say</figcaption></figure><p id="c81b" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">太棒了。乍一看，我觉得很准确。我一意孤行。CSS类被添加到div中，而不是图像中，这是我手动修改的。还为将来在div上增加了一个CSS grid tailwind类。</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mt"><img src="../Images/c5b76169d946f45fd7fb05e941ebe0f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*ZK6Spz1a-GJL5hyPHEY8kg.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">With minor tweaks to CSS</figcaption></figure><h2 id="9f47" class="ly jw in bd jx lz ma dn kb mb mc dp kf le md me kj li mf mg kn lm mh mi kr mj bi translated">2.饲料成分</h2><p id="6ea2" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">在这一点上，我有点创意😝。指示副驾驶执行以下操作:</p><ul class=""><li id="d4a0" class="mu mv in kv b kw ls la lt le mw li mx lm my lq mz na nb nc bi translated">创建一个看起来像Instagram feed的组件🤣</li><li id="0a1f" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">它接受图像列表作为道具</li><li id="1812" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">它呈现一个瓷砖组件列表</li><li id="48c8" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">每个图块组件都有一个URL属性</li></ul><p id="8f6f" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">顺便说一句，副驾驶也很好心地预测了这些评论😉</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/eb5bdc4e334dcd77a5bd8281074f9ed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*skWjIb6B4ubBrgreYyxdtQ.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">After 2 seconds of processing</figcaption></figure><p id="2a94" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">似乎我期望太多了😅。它肯定没有为3列拆分布局添加正确的CSS类。但是请注意它是如何循环遍历以数组形式传入的图像，并按照我们的预期正确呈现我们的Tile组件的。</p><p id="d124" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">在对CSS类做了一些小的调整后，我接受了这个解决方案:</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/251038569b9fff674753ac70ef58491d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*xWb4aQeg1V2hgHcvkJ9Bxw.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Feed component</figcaption></figure><h2 id="8ff0" class="ly jw in bd jx lz ma dn kb mb mc dp kf le md me kj li mf mg kn lm mh mi kr mj bi translated">3.最终组件！</h2><p id="5720" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">猜猜，这就是你来这里的原因！它能预测无限滚动的逻辑吗？它能准确地从分页的API中获取数据吗？</p><p id="0c9c" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">让我们来了解一下！这次提供了以下背景:</p><ul class=""><li id="43d7" class="mu mv in kv b kw ls la lt le mw li mx lm my lq mz na nb nc bi translated">创建一个无限滚动的主组件</li><li id="6b69" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">它从API_URL获取图像并将它们存储在state中</li><li id="1472" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">它用图像呈现一个提要组件</li></ul><p id="e039" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">这时，它开始预测接下来的评论，这是它想出的:</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/f37be2e01a06e00a515b740ef24ab817.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*368ZSMUs0Rvu3Ojemidh1A.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">The context for Home Component</figcaption></figure><p id="9c20" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">三…二…一…我们走吧！</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/b2125470571b44f67ee1a89c700d3539.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*en-pgIt0nfdyiw72ABXtXg.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Produced output</figcaption></figure><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/8855fa7d0877505a7380772655598cbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*iUZBLCYM0XrxyUa76CkqPQ.jpeg"/></div></figure><p id="dc90" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">我印象深刻！它肯定没有生成无限滚动的逻辑，但是其他的东西，比如图像的useState和API调用的useEffect，乍看起来都很可靠。所以我接受了这个结果(有一些我稍后会讨论的警告)。</p><p id="2982" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">此时，我保存了文件以检查输出，我还删除了Loading &amp; Error组件，并做了一个小的特定于API的调整。</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/272102c22e9c81fd49f8dad4c38405df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*7Q2PaPqZLaGhMYBLGu3jJw.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Minor tweak for API and styling</figcaption></figure><p id="7fd0" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">它呈现的图像有点像我们想要的。只有页码和无限卷轴不见了。</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/b117f9867f187c90840a724ca5e162a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MlWiRJR87g9BgGF7L6OfFw.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Produced output</figcaption></figure><p id="6ae9" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">在修复问题的另一次尝试中，给出了以下提示:</p><ul class=""><li id="e4af" class="mu mv in kv b kw ls la lt le mw li mx lm my lq mz na nb nc bi translated">增加了一个观察ref的按钮</li><li id="5554" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">在上下文中专门编写了IntersectionObserver API</li><li id="d867" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">在状态中添加了页面，以提示分页</li></ul><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/0b26b29ca4ae0845df1a0a395ec95469.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*Aqem5EuB4yD26RhMiWmY0w.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Produced output</figcaption></figure><p id="8064" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">它最终按照我们想要的方式进行了分页处理，请注意第59行，它是如何在后续的API调用中尝试处理与之前数据集的连接的。但我们还没到那一步！</p><p id="66fe" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">对以下上下文的最后尝试(它也尝试预测):</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/951564a0e7ee29369c44dc76240a3c18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*vxK4NmoZETD5M_tfccIv8w.png"/></div></figure><ul class=""><li id="c6d7" class="mu mv in kv b kw ls la lt le mw li mx lm my lq mz na nb nc bi translated">创建一个使用IntersectionObserver来观察btn ref的函数</li><li id="907c" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">它检测按钮何时在视口中</li><li id="69f5" class="mu mv in kv b kw nd la ne le nf li ng lm nh lq mz na nb nc bi translated">当它在视口中时，它调用loadMore函数</li></ul><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/67ca9c4a553c3c913ba3270923800182.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*CUmsEOm3aPWMUcirL1T12Q.png"/></div></figure><p id="1e75" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">是的，这就是我们拼图中缺失的那块。当按钮在视区中可见时，观察按钮以启动下一个API调用的方法。</p><p id="727b" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">让它运行起来的一些最后的调整:</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/330a0e0e651c11d74b7ca8b72b4c1714.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*-XQnKMKrsYKCwLzuVsgm-Q.png"/></div></figure><p id="c0ff" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">添加了一个useEffect(也是Copilot预测的)来调用生成的函数，将btn和page作为副作用传入依赖数组。手动添加了一个清除以在组件卸载时不被观察到。</p><h2 id="c4fd" class="ly jw in bd jx lz ma dn kb mb mc dp kf le md me kj li mf mg kn lm mh mi kr mj bi translated">最终结果</h2><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nl"><img src="../Images/105c28f0618ac91f803e0add6f0d7445.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*sph15HjhGGPOey0nbwi0Ow.gif"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">End result</figcaption></figure><p id="7fd8" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">全程录像-</p><figure class="ml mm mn mo gt jo"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="5489" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">事实上，我们可以免费得到所有这些东西，这是令人惊讶的。现在还没有，但是在不断进步。处理平凡的任务是非常有用的，这样我们作为开发人员可以花更多的时间做高质量的工作。迫不及待地想在日常工作中使用它😜。如果它接管了我们的工作呢？请在评论中告诉我你的想法！</p><p id="808f" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">另外，它能使一个div居中吗？是的！</p><p id="c975" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><em class="lx">更多内容尽在</em><a class="ae lr" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lx">plain English . io</em></strong></a></p></div></div>    
</body>
</html>