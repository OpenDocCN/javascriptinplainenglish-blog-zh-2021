<html>
<head>
<title>15 Custom Hooks to Make your React Component Lightweight</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">15ä¸ªå®šåˆ¶æŒ‚é’©ï¼Œä½¿æ‚¨çš„Reactç»„ä»¶é‡é‡è½»</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/15-custom-hooks-to-make-your-react-component-lightweight-8b59b122d83a?source=collection_archive---------0-----------------------#2021-07-09">https://javascript.plainenglish.io/15-custom-hooks-to-make-your-react-component-lightweight-8b59b122d83a?source=collection_archive---------0-----------------------#2021-07-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="0ce7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä¸‹é¢æ˜¯15ä¸ªå®šåˆ¶é’©å­ï¼Œè®©ä½ çš„Reactç»„ä»¶è½»é‡çº§</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/657497b80b4331dfc7243e2584ab7779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DKDNvL6XMQkI_55M7WaImA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@clark_fransa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Arnold Francisca</a> on <a class="ae ky" href="https://unsplash.com/s/photos/coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="63ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">React hooksæ˜¯Reactç¤¾åŒºçš„çƒ­é—¨è¯æ±‡ã€‚å¸Œæœ›æ¯ä¸ªReactå¼€å‘è€…éƒ½çŸ¥é“é’©å­æ˜¯ä»€ä¹ˆã€‚ç®€å•åœ°è¯´ï¼Œé’©å­æä¾›äº†åœ¨åŠŸèƒ½ç»„ä»¶ä¸­ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„ä¼˜åŠ¿ï¼Œä¹Ÿé¼“åŠ±æˆ‘ä»¬ç¼–å†™åŠŸèƒ½ç»„ä»¶ã€‚</p><p id="e13c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è®©æˆ‘ä»¬å¼€å§‹å®šåˆ¶æŒ‚é’©å§ï¼å®šåˆ¶é’©å­å…è®¸æ‚¨å°†ç»„ä»¶é€»è¾‘æå–åˆ°ä¸€ä¸ªå¯é‡ç”¨çš„å‡½æ•°ä¸­ï¼Œè¿™å¢åŠ äº†ç»„ä»¶åˆ†ç¦»å’Œå¯é æ€§ã€‚è¿™é‡Œæˆ‘ä»¬å°†çœ‹åˆ°15ä¸ª<a class="ae ky" href="https://github.com/streamich/react-use" rel="noopener ugc nofollow" target="_blank">reactâ€”â€”ä½¿ç”¨</a>åŒ…å®šåˆ¶é’©å­ï¼Œä½¿æˆ‘ä»¬çš„ç»„ä»¶å˜å¾—è½»é‡çº§ã€‚</p><h1 id="5c4f" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak"> 1ã€‚ä½¿ç”¨ç©ºé—²</strong></h1><p id="3869" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">useIdleæŒ‚é’©è·Ÿè¸ªé¡µé¢ä¸Šçš„ç”¨æˆ·æ˜¯å¦ç©ºé—²ã€‚æ‚¨å¯ä»¥ä¼ é€’ä¸¤ä¸ªå‚æ•°â€” <code class="fe mc md me mf b">ms</code>æ˜¯è€ƒè™‘ç©ºé—²çš„æ—¶é—´ï¼Œ<code class="fe mc md me mf b">initialState</code>å…è®¸ç”¨æˆ·æœ€åˆè®¾ç½®ç©ºé—²ã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="9afb" class="mk la in mf b gy ml mm l mn mo">import {useIdle} from 'react-use';</span><span id="7198" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  const isIdle = useIdle(3e3);</span><span id="1720" class="mk la in mf b gy mp mm l mn mo">return (<br/>    &lt;div&gt;<br/>      &lt;div&gt;User is idle: {isIdle ? 'Yes ğŸ˜´' : 'Nope'}&lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><h1 id="b80b" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">2.ä½¿ç”¨é—´éš”</h1><p id="04fb" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">ç”¨äºé—´éš”ç›¸å…³åŠŸèƒ½çš„æŒ‚é’©ã€‚å®ƒåœ¨ç»„ä»¶è‡ªåŠ¨å¸è½½æ—¶å¤„ç†<code class="fe mc md me mf b">clearInterval</code>ã€‚å®ƒè¿˜å…è®¸é€šè¿‡å°†å»¶è¿Ÿè®¾ç½®ä¸ºç©ºæ¥æš‚åœæ—¶é—´é—´éš”ã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="619a" class="mk la in mf b gy ml mm l mn mo">import * as React from 'react';<br/>import {useInterval} from 'react-use';</span><span id="e732" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  const [count, setCount] = React.useState(0);<br/>  const [delay, setDelay] = React.useState(1000);<br/>  const [isRunning, toggleIsRunning] = useBoolean(true);</span><span id="17df" class="mk la in mf b gy mp mm l mn mo">useInterval(<br/>    () =&gt; {<br/>      setCount(count + 1);<br/>    },<br/>    isRunning ? delay : null<br/>  );</span><span id="49db" class="mk la in mf b gy mp mm l mn mo">return (<br/>    &lt;div&gt;<br/>      &lt;div&gt;<br/>        delay: &lt;input value={delay} onChange={event =&gt; setDelay(Number(event.target.value))} /&gt;<br/>      &lt;/div&gt;<br/>      &lt;h1&gt;count: {count}&lt;/h1&gt;<br/>      &lt;div&gt;<br/>        &lt;button onClick={toggleIsRunning}&gt;{isRunning ? 'stop' : 'start'}&lt;/button&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><h1 id="93b3" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">3.ä½¿ç”¨æ»šåŠ¨æ¡</h1><p id="5a1e" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">è¿™ä¸ªé’©å­ç”¨äºç›‘å¬å…ƒç´ çš„æ»šåŠ¨äº‹ä»¶ï¼Œå¹¶åœ¨æ»šåŠ¨æ—¶é‡æ–°å‘ˆç°ã€‚ä¸éœ€è¦æ‰‹åŠ¨æ·»åŠ JavaScriptäº‹ä»¶ä¾¦å¬å™¨ã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="edfe" class="mk la in mf b gy ml mm l mn mo">import {useScroll} from 'react-use';</span><span id="918e" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  const scrollRef = React.useRef(null);<br/>  const {x, y} = useScroll(scrollRef);</span><span id="f5e8" class="mk la in mf b gy mp mm l mn mo">return (<br/>    &lt;div ref={scrollRef}&gt;<br/>      &lt;div&gt;x: {x}&lt;/div&gt;<br/>      &lt;div&gt;y: {y}&lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><h1 id="5132" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">4.ä½¿ç”¨å¼€å…³</h1><p id="efd5" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">è¿™ä¸ªé’©å­ç”¨äºåœ¨ä¸¤ç§çŠ¶æ€ä¹‹é—´åˆ‡æ¢ï¼Œæ¯”å¦‚çœŸã€å‡ã€‚è¿™ç§æ–¹æ³•å‡å°‘äº†äººå·¥é€»è¾‘ã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="1132" class="mk la in mf b gy ml mm l mn mo">import {useToggle} from 'react-use';</span><span id="10e0" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  const [on, toggle] = useToggle(true);</span><span id="6f7a" class="mk la in mf b gy mp mm l mn mo">return (<br/>    &lt;div&gt;<br/>      &lt;div&gt;{on ? 'ON' : 'OFF'}&lt;/div&gt;<br/>      &lt;button onClick={toggle}&gt;Toggle&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; toggle(true)}&gt;set ON&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; toggle(false)}&gt;set OFF&lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><h1 id="81f9" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak"> 5ã€‚ä½¿ç”¨æ ‡é¢˜</strong></h1><p id="c35f" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">è¿™ä¸ªé’©å­ç”¨æ¥è®¾ç½®é¡µé¢æ ‡é¢˜ã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="bc6e" class="mk la in mf b gy ml mm l mn mo">import {useTitle} from 'react-use';</span><span id="6f68" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  useTitle('Hello world!');</span><span id="7cab" class="mk la in mf b gy mp mm l mn mo">return null;<br/>};</span></pre><h1 id="9d04" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">6.ä½¿ç”¨ä»¥å‰çš„</h1><p id="99cd" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">è¿™ä¸ªé’©å­ç”¨äºè·å–å‰ä¸€ä¸ªçŠ¶æ€ã€‚æˆ‘ä»¬å¯èƒ½ä¸éœ€è¦ç¼–å†™å®šåˆ¶çš„é€»è¾‘æ¥è·å–ä»¥å‰çš„çŠ¶æ€ã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="f9ac" class="mk la in mf b gy ml mm l mn mo">import {usePrevious} from 'react-use';</span><span id="986e" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  const [count, setCount] = React.useState(0);<br/>  const prevCount = usePrevious(count);</span><span id="6cce" class="mk la in mf b gy mp mm l mn mo">return (<br/>    &lt;p&gt;<br/>      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;+&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; setCount(count - 1)}&gt;-&lt;/button&gt;<br/>      &lt;p&gt;<br/>        Now: {count}, before: {prevCount}<br/>      &lt;/p&gt;<br/>    &lt;/p&gt;<br/>  );<br/>};</span></pre><h1 id="b6c9" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak"> 7ã€‚ä½¿ç”¨è®¾ç½®çŠ¶æ€</strong></h1><p id="fbf2" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">è¿™ä¸ªé’©å­ç”¨äºå°†å¯¹è±¡åˆå¹¶åˆ°å®ƒä»¬çš„å½“å‰çŠ¶æ€ï¼Œç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„<code class="fe mc md me mf b">this.setState</code>ã€‚å¦‚æœä½ æ­£åœ¨ä½¿ç”¨å¤šä¸ªçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨<code class="fe mc md me mf b">useSetState</code>å°†å…¶é™ä½åˆ°ä¸€ä¸ªå¯¹è±¡çŠ¶æ€</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="6d4e" class="mk la in mf b gy ml mm l mn mo">import {useSetState} from 'react-use';</span><span id="c106" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  const [state, setState] = useSetState({});</span><span id="b3fb" class="mk la in mf b gy mp mm l mn mo">return (<br/>    &lt;div&gt;<br/>      &lt;pre&gt;{JSON.stringify(state, null, 2)}&lt;/pre&gt;<br/>      &lt;button onClick={() =&gt; setState({hello: 'world'})}&gt;hello&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; setState({foo: 'bar'})}&gt;foo&lt;/button&gt;<br/>      &lt;button <br/>        onClick={() =&gt; {<br/>          setState((prevState) =&gt; ({<br/>            count: (prevState.count || 0) + 1,<br/>          }))<br/>        }}<br/>      &gt;<br/>        count<br/>      &lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><h1 id="81ef" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">8.ä½¿ç”¨Cookie</h1><p id="6b5f" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">è¿™ä¸ªé’©å­ç”¨äºè¿”å›ä¸€ä¸ª<code class="fe mc md me mf b">cookie</code>çš„å½“å‰å€¼ï¼Œä¸€ä¸ªæ›´æ–°<code class="fe mc md me mf b">cookie</code>çš„å›è°ƒå’Œä¸€ä¸ªåˆ é™¤<code class="fe mc md me mf b">cookie.</code>çš„å›è°ƒ</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="28dc" class="mk la in mf b gy ml mm l mn mo">import { useCookie } from "react-use";</span><span id="fed4" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  const [value, updateCookie, deleteCookie] = useCookie("my-cookie");<br/>  const [counter, setCounter] = useState(1);</span><span id="0f47" class="mk la in mf b gy mp mm l mn mo">useEffect(() =&gt; {<br/>    deleteCookie();<br/>  }, []);</span><span id="8708" class="mk la in mf b gy mp mm l mn mo">const updateCookieHandler = () =&gt; {<br/>    updateCookie(`my-awesome-cookie-${counter}`);<br/>    setCounter(c =&gt; c + 1);<br/>  };</span><span id="aeb8" class="mk la in mf b gy mp mm l mn mo">return (<br/>    &lt;div&gt;<br/>      &lt;p&gt;Value: {value}&lt;/p&gt;<br/>      &lt;button onClick={updateCookieHandler}&gt;Update Cookie&lt;/button&gt;<br/>      &lt;br /&gt;<br/>      &lt;button onClick={deleteCookie}&gt;Delete Cookie&lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><h1 id="ff4d" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">9.ä½¿ç”¨æƒé™</h1><p id="3a19" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">è¿™ä¸ªé’©å­ç”¨æ¥è·å–æµè§ˆå™¨APIçš„æƒé™çŠ¶æ€ã€‚ä¼ é€’APIåç§°ä»¥è·å–æƒé™çŠ¶æ€ã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="169c" class="mk la in mf b gy ml mm l mn mo">import {usePermission} from 'react-use';</span><span id="6766" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  const state = usePermission({ name: 'microphone' });</span><span id="8125" class="mk la in mf b gy mp mm l mn mo">return (<br/>    &lt;pre&gt;<br/>      {JSON.stringify(state, null, 2)}<br/>    &lt;/pre&gt;<br/>  );<br/>};</span></pre><h1 id="ff22" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">10.ä½¿ç”¨åè·³</h1><p id="9842" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">è¿™ä¸ªé’©å­ç”¨äºå»¶è¿Ÿäº‹ä»¶ï¼Œç›´åˆ°ç­‰å¾…æ—¶é—´ç»“æŸã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼ŒsetStateåœ¨ç­‰å¾…æ—¶é—´ç»“æŸåæ‰§è¡Œã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="607c" class="mk la in mf b gy ml mm l mn mo">const Demo = () =&gt; {<br/>  const [state, setState] = React.useState('Typing stopped');<br/>  const [val, setVal] = React.useState('');<br/>  const [debouncedValue, setDebouncedValue] = React.useState('');</span><span id="71d6" class="mk la in mf b gy mp mm l mn mo">const [, cancel] = useDebounce(<br/>    () =&gt; {<br/>      setState('Typing stopped');<br/>      setDebouncedValue(val);<br/>    },<br/>    2000,<br/>    [val]<br/>  );</span><span id="2d68" class="mk la in mf b gy mp mm l mn mo">return (<br/>    &lt;div&gt;<br/>      &lt;input<br/>        type="text"<br/>        value={val}<br/>        placeholder="Debounced input"<br/>        onChange={({ currentTarget }) =&gt; {<br/>          setState('Waiting for typing to stop...');<br/>          setVal(currentTarget.value);<br/>        }}<br/>      /&gt;<br/>      &lt;div&gt;{state}&lt;/div&gt;<br/>      &lt;div&gt;<br/>        Debounced value: {debouncedValue}<br/>        &lt;button onClick={cancel}&gt;Cancel debounce&lt;/button&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><h1 id="58ff" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">11.ä½¿ç”¨åœ°ç†å®šä½</h1><p id="35c3" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">è¿™ä¸ªé’©å­ç”¨äºè·å–ç”¨æˆ·çš„åœ°ç†ä½ç½®ã€‚useGeolocationè¿”å›çº¬åº¦ã€ç»åº¦ã€æµ·æ‹”å’Œæ›´å¤šä¿¡æ¯ã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="3332" class="mk la in mf b gy ml mm l mn mo">import {useGeolocation} from 'react-use';</span><span id="9f4d" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  const state = useGeolocation();</span><span id="ab48" class="mk la in mf b gy mp mm l mn mo">return (<br/>    &lt;pre&gt;<br/>      {JSON.stringify(state, null, 2)}<br/>    &lt;/pre&gt;<br/>  );<br/>};</span></pre><h1 id="9dc6" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">12.ä½¿ç”¨ç½‘ç»œçŠ¶æ€</h1><p id="d0a8" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">è¿™ä¸ªé’©å­ç”¨æ¥è·å–æµè§ˆå™¨çš„ç½‘ç»œçŠ¶æ€ã€‚useNetworkStateå¯ç”¨äºå‘ç”¨æˆ·æ˜¾ç¤ºè¿æ¥çŠ¶æ€ã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="3a3a" class="mk la in mf b gy ml mm l mn mo">import {useNetworkState} from 'react-use';</span><span id="a4e7" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  const state = useNetworkState();</span><span id="1831" class="mk la in mf b gy mp mm l mn mo">return (<br/>    &lt;pre&gt;<br/>      {JSON.stringify(state, null, 2)}<br/>    &lt;/pre&gt;<br/>  );<br/>};</span></pre><h1 id="ee32" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">13.ä½¿ç”¨CopyToClipboard</h1><p id="4175" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">useCopyToClipboardé’©å­ç”¨äºå°†æ–‡æœ¬å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="4e6a" class="mk la in mf b gy ml mm l mn mo">const Demo = () =&gt; {<br/>  const [text, setText] = React.useState('');<br/>  const [state, copyToClipboard] = useCopyToClipboard();<br/><br/>  return (<br/>    &lt;div&gt;<br/>      &lt;input value={text} onChange={e =&gt; setText(e.target.value)} /&gt;<br/>      &lt;button type="button" onClick={() =&gt; copyToClipboard(text)}&gt;copy text&lt;/button&gt;<br/>      {state.error<br/>        ? &lt;p&gt;Unable to copy value: {state.error.message}&lt;/p&gt;<br/>        : state.value &amp;&amp; &lt;p&gt;Copied {state.value}&lt;/p&gt;}<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><h1 id="88d1" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">14.ä½¿ç”¨å›¾æ ‡</h1><p id="e9e2" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">useFaviconæŒ‚é’©ç”¨äºè®¾ç½®é¡µé¢çš„Faviconã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="b498" class="mk la in mf b gy ml mm l mn mo">import {useFavicon} from 'react-use';</span><span id="e2bf" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  useFavicon('<a class="ae ky" href="https://cdn.sstatic.net/Sites/stackoverflow/img/favicon.ico'" rel="noopener ugc nofollow" target="_blank">https://cdn.sstatic.net/Sites/stackoverflow/img/favicon.ico'</a>);</span><span id="2b48" class="mk la in mf b gy mp mm l mn mo">return null;<br/>};</span></pre><h1 id="6f87" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">15.ä½¿ç”¨é”™è¯¯</h1><p id="f827" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">useErroræŒ‚é’©ç”¨äºåˆ†æ´¾é”™è¯¯ã€‚</p><pre class="kj kk kl km gt mg mf mh mi aw mj bi"><span id="cd4f" class="mk la in mf b gy ml mm l mn mo">import { useError } from 'react-use';</span><span id="2633" class="mk la in mf b gy mp mm l mn mo">const Demo = () =&gt; {<br/>  const dispatchError = useError();</span><span id="6ea5" class="mk la in mf b gy mp mm l mn mo">const clickHandler = () =&gt; {<br/>    dispatchError(new Error('Some error!'));<br/>  };</span><span id="c9b7" class="mk la in mf b gy mp mm l mn mo">return &lt;button onClick={clickHandler}&gt;Click me to throw&lt;/button&gt;;<br/>};</span><span id="1804" class="mk la in mf b gy mp mm l mn mo">// In parent app<br/>const App = () =&gt; (<br/>  &lt;ErrorBoundary&gt;<br/>    &lt;Demo /&gt;<br/>  &lt;/ErrorBoundary&gt;<br/>);</span></pre></div><div class="ab cl mq mr hr ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ig ih ii ij ik"><h1 id="3cbc" class="kz la in bd lb lc mx le lf lg my li lj lk mz lm ln lo na lq lr ls nb lu lv lw bi translated"><strong class="ak">ç»“è®º</strong></h1><p id="20a0" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">åœ¨<a class="ae ky" href="https://github.com/streamich/react-use" rel="noopener ugc nofollow" target="_blank"> react-use </a>åŒ…ä¸­è¿˜æœ‰ä¸€äº›è‡ªå®šä¹‰çš„é’©å­ï¼Œå¸Œæœ›ä½ è§‰å¾—æœ‰ç”¨ã€‚æ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚</p><p id="a062" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">éœ€è¦å­¦ä¹ æ›´å¤šï¼Ÿæ¬¢è¿éšæ—¶åœ¨<a class="ae ky" href="https://twitter.com/Nilanth" rel="noopener ugc nofollow" target="_blank">æ¨ç‰¹</a>ä¸Šè”ç³»ã€‚</p><p id="bb2a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="nc">æ›´å¤šå†…å®¹è¯·çœ‹</em><a class="ae ky" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="nc">plain English . io</em></strong></a></p></div></div>    
</body>
</html>