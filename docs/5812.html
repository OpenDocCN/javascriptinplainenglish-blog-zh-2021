<html>
<head>
<title>How to Set Up React-Native on Your WSL2 for Android Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在WSL2上为Android开发设置React-Native</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-set-up-react-native-on-your-wsl2-for-android-development-a09ee37bf628?source=collection_archive---------0-----------------------#2021-12-11">https://javascript.plainenglish.io/how-to-set-up-react-native-on-your-wsl2-for-android-development-a09ee37bf628?source=collection_archive---------0-----------------------#2021-12-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/99ad523c4db4c3a3d048e7a54495a50c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OSC5n_vS_Iy3wKjr"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@naveenchandra?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Naveen Chandra</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="5ad1" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">介绍</h1><p id="1821" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">最近，我为一个<strong class="la io"> React-Native </strong>项目建立了一个环境，作为一个在我的web开发环境中使用<strong class="la io"> Windows + WSL2 </strong>的忠实粉丝，我不想在这个新的移动开发项目中停止使用WSL2。</p><p id="c6ca" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">在任何环境下设置React-Native通常都是非常痛苦的，每次我需要设置它的时候我都差点哭出来。如果你把WSL2加进去，事情就变得更糟了。我花了很多时间，直到一切正常，我写这篇文章的目的是让任何需要的人生活得更容易。</p><p id="3dfe" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">在本教程结束时，您将有一个React-Native项目在WSL2中运行，并在Windows 10上使用Android模拟器。</p><h1 id="bb95" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">先决条件</h1><p id="ea23" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">Windows 10环境</p><ul class=""><li id="0b50" class="mb mc in la b lb lw lf lx lj md ln me lr mf lv mg mh mi mj bi translated">安装的VSCode</li><li id="55e8" class="mb mc in la b lb mk lf ml lj mm ln mn lr mo lv mg mh mi mj bi translated">WSL2 Ubuntu 20.04安装了node v14.18.2和VSCode扩展(<a class="ae jz" href="https://docs.microsoft.com/en-us/windows/dev-environment/javascript/nodejs-on-wsl" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/windows/dev-environment/JavaScript/nodejs-on-wsl</a>)</li></ul><p id="1225" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">PS:你可以在WSL2上使用任何发行版，但是本教程是用Ubuntu 20.04发行版制作的。</p><h1 id="4f6e" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">开始吧！</h1><p id="27ab" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">本文将分为两个部分</p><ul class=""><li id="916d" class="mb mc in la b lb lw lf lx lj md ln me lr mf lv mg mh mi mj bi translated">A部分:在Windows 10上设置环境</li><li id="5af4" class="mb mc in la b lb mk lf ml lj mm ln mn lr mo lv mg mh mi mj bi translated">B部分:在WSL2上设置环境</li></ul><h1 id="014b" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">A部分:在Windows 10上设置环境</h1><p id="86eb" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">在这一节你只需要按照官方文档在Windows 10上安装React-Native。</p><p id="06a0" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">等等…但是你刚刚说这个任务通常是非常痛苦的，现在你又说我“只是”需要遵循官方文档，你怎么敢？！</p><p id="e268" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">是的……我知道官方文档是广泛而痛苦的，但是我会给你一些提示来浏览它:</p><p id="8151" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">1.选择<em class="mp">快速启动</em>选项时，选择:</p><ul class=""><li id="1a3e" class="mb mc in la b lb lw lf lx lj md ln me lr mf lv mg mh mi mj bi translated"><strong class="la io"> React Native CLI快速入门</strong></li><li id="1529" class="mb mc in la b lb mk lf ml lj mm ln mn lr mo lv mg mh mi mj bi translated">开发操作系统:<strong class="la io"> Windows </strong></li><li id="1c47" class="mb mc in la b lb mk lf ml lj mm ln mn lr mo lv mg mh mi mj bi translated">目标操作系统:<strong class="la io">安卓</strong></li></ul><figure class="mr ms mt mu gt jo gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/6f220a770af92fce7280e9f844e27586.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/0*wPfJm4hmB0W1LEGi"/></div></figure><p id="87f0" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">2.安装节点时，最好安装版本14.18.2</p><ul class=""><li id="d279" class="mb mc in la b lb lw lf lx lj md ln me lr mf lv mg mh mi mj bi translated">如果安装的节点版本不同于v14.18.2，您也可以安装<strong class="la io"> nvm </strong>并设置为使用v 14 . 18 . 2(<a class="ae jz" href="https://docs.microsoft.com/en-us/windows/dev-environment/javascript/nodejs-on-windows" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/windows/dev-environment/JavaScript/nodejs-on-windows</a>)</li><li id="bfba" class="mb mc in la b lb mk lf ml lj mm ln mn lr mo lv mg mh mi mj bi translated">PS:您可以按照任何节点版本的教程进行操作，但是请记住，在这个过程中，它可能会导致一些令人讨厌的<strong class="la io">错误</strong>，比如这个:<a class="ae jz" href="https://stackoverflow.com/questions/69647332/cannot-read-properties-of-undefined-reading-transformfile-at-bundler-transfo" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/69647332/cannot-read-properties-of-undefined-reading-transform file-at-bundler-transfo</a></li></ul><p id="095f" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">3.在本教程中，您可以跳过使用物理设备配置的<em class="mp">，而只遵循使用虚拟设备</em>的<em class="mp">。</em></p><p id="b5d5" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">所以，现在深呼吸，穿过它！【https://reactnative.dev/docs/environment-setup T4】</p><p id="b670" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">下一节见。</p><h1 id="7b92" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">B部分:在WSL2上设置环境</h1><p id="a419" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">到目前为止，您应该已经有了一个React原生项目，并在Windows 10上运行了一个模拟器，对吗？但是我们想要更多，我们想要在WSL2中运行项目，并且只与Windows 10上的仿真器通信，所以让我们开始吧！</p><p id="778e" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">注意:检查WSL2终端中节点的版本。强烈建议大家安装使用v14.18.2。</p><p id="d351" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><strong class="la io">第一步:检查升级版本</strong></p><p id="dcb4" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">在Android Studio上打开在A部分创建的项目，并检查Gradle版本(<a class="ae jz" href="https://stackoverflow.com/questions/25260172/how-to-check-the-gradle-version-in-android-studio" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/25260172/how-to-check-the-Gradle-version-in-Android-Studio</a>)</p><figure class="mr ms mt mu gt jo gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/e5e476d973ca7f40612e8b8c34d5c1bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/0*uUwqmCQbeSbzjwbP"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Checking gradle version</figcaption></figure><p id="9c7a" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">在这种情况下，版本是6.9。请记住这条信息，因为我们很快就会用到它。</p><p id="08f7" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><strong class="la io">第二步:在WSL2中安装Android SDK命令行工具</strong></p><p id="dade" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">打开WSL终端并在其上执行以下脚本:</p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="5228" class="nb kb in mx b gy nc nd l ne nf">cd ~<br/>sudo apt-get update<br/>sudo apt-get install unzip zip<br/>wget <a class="ae jz" href="https://dl.google.com/android/repository/sdk-tools-linux-4333796.zip" rel="noopener ugc nofollow" target="_blank">https://dl.google.com/android/repository/sdk-tools-linux-4333796.zip</a><br/>unzip sdk-tools-linux-4333796.zip -d Android<br/>rm sdk-tools-linux-4333796.zip<br/>sudo apt-get install -y lib32z1 openjdk-8-jdk<br/>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64<br/>export PATH=$PATH:$JAVA_HOME/bin</span><span id="daab" class="nb kb in mx b gy ng nd l ne nf">printf "\n\nexport JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nexport PATH=\$PATH:\$JAVA_HOME/bin" &gt;&gt; ~/.bashrc</span><span id="4c98" class="nb kb in mx b gy ng nd l ne nf">cd Android/tools/bin<br/>### check latest platform and build-tools versions (29, 29.0.2)</span><span id="900f" class="nb kb in mx b gy ng nd l ne nf">./sdkmanager --install "platform-tools" "platforms;android-29" "build-tools;29.0.2"</span><span id="111b" class="nb kb in mx b gy ng nd l ne nf">export ANDROID_HOME="$HOME/Android"<br/>export PATH=$ANDROID_HOME/tools:$PATH<br/>export PATH=$ANDROID_HOME/tools/bin:$PATH<br/>export PATH=$ANDROID_HOME/platform-tools:$PATH</span><span id="f5f3" class="nb kb in mx b gy ng nd l ne nf">printf "\n\nexport ANDROID_HOME=\$HOME/Android\nexport PATH=\$PATH:\$ANDROID_HOME/tools\nexport PATH=\$PATH:\$ANDROID_HOME/platform-tools" &gt;&gt; ~/.bashrc</span><span id="996f" class="nb kb in mx b gy ng nd l ne nf">./sdkmanager --update</span><span id="b778" class="nb kb in mx b gy ng nd l ne nf">curl -s "https://get.sdkman.io" | bash</span><span id="09a2" class="nb kb in mx b gy ng nd l ne nf">source "$HOME/.sdkman/bin/sdkman-init.sh"</span></pre><p id="aa1d" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">现在您需要使用我们之前在步骤1中检查过的gradle版本信息。</p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="c91b" class="nb kb in mx b gy nc nd l ne nf">### use the gradle version that you’ve checked on PartB &gt; Step 1<br/>sdk install gradle 6.9<br/>gradle -v<br/>export ANDROID_SDK_ROOT="$ANDROID_SDK_ROOT"<br/>export WSL_HOST=$(tail -1 /etc/resolv.conf | cut -d' ' -f2)<br/>export ADB_SERVER_SOCKET=tcp:$WSL_HOST:5037</span><span id="5e9f" class="nb kb in mx b gy ng nd l ne nf">printf "\n\nexport WSL_HOST=\$(tail -1 /etc/resolv.conf | cut -d' ' -f2)\nexport ADB_SERVER_SOCKET=tcp:\$WSL_HOST:5037" &gt;&gt; ~/.bashrc</span></pre><p id="7425" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><strong class="la io">步骤3:检查所有变量是否设置正确</strong></p><p id="8e64" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">在WSL终端中，输入您的。<em class="mp"> bashrc </em>文件。</p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="f89d" class="nb kb in mx b gy nc nd l ne nf">cd ~<br/>vim .bashrc # use any editor to open the file</span></pre><p id="1086" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">它应该与下面的内容相匹配:</p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="e6a7" class="nb kb in mx b gy nc nd l ne nf"><em class="mp">export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64<br/>export PATH=$PATH:$JAVA_HOME/bin</em></span><span id="9f37" class="nb kb in mx b gy ng nd l ne nf"><em class="mp">export ANDROID_HOME=$HOME/Android<br/>export PATH=$PATH:$ANDROID_HOME/tools<br/>export PATH=$PATH:$ANDROID_HOME/platform-tools</em></span><span id="d64c" class="nb kb in mx b gy ng nd l ne nf"><em class="mp">#THIS MUST BE AT THE END OF THE FILE FOR SDKMAN TO WORK!!!<br/>export SDKMAN_DIR="$HOME/.sdkman"<br/>[[ -s "$HOME/.sdkman/bin/sdkman-init.sh" ]] &amp;&amp; source "$HOME/.sdkman/bin/sdkman-init.sh"</em></span><span id="7e9e" class="nb kb in mx b gy ng nd l ne nf"><em class="mp">export WSL_HOST=$(tail -1 /etc/resolv.conf | cut -d' ' -f2)<br/>export ADB_SERVER_SOCKET=tcp:$WSL_HOST:5037</em></span></pre><p id="a025" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">搞定了。我们一切都准备好了！让我们继续，在WSL中创建我们的第一个项目。</p><p id="c230" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><strong class="la io">步骤4:在WSL中创建一个React-Native项目</strong></p><p id="a90a" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">因此，再次打开WSL终端，并使用以下命令创建一个React本地项目:</p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="6255" class="nb kb in mx b gy nc nd l ne nf"># If you want, use the command to create it with Typescript instead<br/>npx react-native init AwesomeProject # Creating the project</span></pre><p id="2fae" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">现在我们刚刚创建了一个名为<strong class="la io"> AwesomeProject </strong>的项目。让我们在VSCode上打开它。</p><p id="1154" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">仍然在WSL终端中，运行以下命令:</p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="2cc6" class="nb kb in mx b gy nc nd l ne nf">cd AwesomeProject/ #Entering on project</span><span id="f98e" class="nb kb in mx b gy ng nd l ne nf">code . #opening the project using visual studio</span></pre><p id="1069" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">酷！我认为我们已经完成了最糟糕的配置部分。我们再也不需要执行这个配置了。</p><p id="f6e7" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">接下来的步骤(5、6和7)与使用模拟器运行项目相关，每次想要使用模拟器运行项目时，都应该重复这些步骤。</p><p id="382b" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">第五步:打开模拟器</p><p id="3ef1" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">如果您遵循了与A部分相关的所有文档，我相信您已经在Android Studio上创建了一个仿真器。</p><p id="147c" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">因此，打开Android Studio并打开模拟器(在本教程中，我们使用的是<em class="mp"> Pixel 2 </em>)</p><p id="3396" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">提示:你不需要打开任何Android Studio项目来打开模拟器。只需关闭Android Studio设置即可在启动时打开最后一个项目(参考:<a class="ae jz" href="https://stackoverflow.com/questions/30458900/how-can-i-prevent-android-studio-from-opening-last-project" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/30458900/how-can-I-prevent-Android-Studio-from-opening-last-project</a>)</p><p id="e188" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><strong class="la io">第六步:在PowerShell上运行Android调试桥(ADB)</strong></p><p id="a3fb" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">运行此部分之前，确保仿真器正在运行(步骤5)。</p><p id="6624" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">打开Windows <strong class="la io"> PowerShell </strong>，执行下面的命令:</p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="2b36" class="nb kb in mx b gy nc nd l ne nf">adb kill-server ; adb -a nodaemon server start</span></pre><p id="76cd" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">让它开着。</p><p id="3205" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">最后，打开另一个窗口<strong class="la io"> PowerShell </strong>并检查模拟器Id(我们将很快需要它)</p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="8e79" class="nb kb in mx b gy nc nd l ne nf">adb devices</span><span id="f2da" class="nb kb in mx b gy ng nd l ne nf"># List of devices attached<br/># emulator-5554   device</span></pre><figure class="mr ms mt mu gt jo gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/b58e7d2a8500181efe78859e3cf6291e.png" data-original-src="https://miro.medium.com/v2/resize:fit:352/format:webp/1*2RNHijSnxoXp4WBWVxHNSQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">adb devices output</figcaption></figure><p id="79d7" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">在这种情况下，我们的仿真器id是<strong class="la io"> emulator-5554 </strong></p><p id="65c7" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><strong class="la io">步骤7:运行项目</strong></p><p id="12e5" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">最后我们的最后一步！让我们在WSL中运行我们的AwesomeProject，并查看它在我们的模拟器上的执行情况。</p><p id="5b64" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">打开WSL终端并执行以下命令:</p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="616f" class="nb kb in mx b gy nc nd l ne nf"># Open WSL on the target project directory<br/>cd ~/AwesomeProject/ #Entering on project</span><span id="8484" class="nb kb in mx b gy ng nd l ne nf"># running metro bundler<br/>npx react-native start -- host 127.0.0.1</span></pre><p id="eae8" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><strong class="la io">保持开启</strong>。</p><p id="a642" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">现在，打开另一个WSL终端，然后执行下面的命令:<br/> PS:用您在步骤6中获取的仿真器id替换<em class="mp"> emulator-5554 </em>。</p><p id="b97d" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">(每次第一次执行时，可能需要一段时间)。</p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="2331" class="nb kb in mx b gy nc nd l ne nf"># Open WSL on the target project directory<br/>cd ~/AwesomeProject/ #Entering on project</span><span id="0ec3" class="nb kb in mx b gy ng nd l ne nf"># use the emulator id retrieved on step 6<br/>npx react-native run-android --variant=debug --deviceId emulator-5554</span></pre><p id="11bf" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">(如果您愿意，可以关闭这个WSL终端)。</p><p id="27d1" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">搞定了。我们完成了！您应该会看到模拟器正在运行项目。请记住，每次您需要运行项目时，您都需要保证:</p><p id="81b1" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">步骤5完成(仿真器打开)<br/>步骤6完成(adb启动)</p><h1 id="af0b" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated"><strong class="ak">运行过程总结</strong></h1><p id="ca1a" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">如果您正确地设置了一切，到最后，您只需要在每次想要运行项目时执行以下命令:</p><p id="41d8" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><strong class="la io">之前所有<br/>打开安卓设备模拟器</strong></p><p id="5e1c" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><strong class="la io"> PowerShell <br/>(保持打开)</strong></p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="dd97" class="nb kb in mx b gy nc nd l ne nf">adb kill-server ; adb -a nodaemon server start</span></pre><p id="d0ee" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><strong class="la io"> WSL:在目标项目目录上<br/>(保持打开)</strong></p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="8d8e" class="nb kb in mx b gy nc nd l ne nf">npx react-native start --host 127.0.0.1</span></pre><p id="2fc5" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><strong class="la io"> WSL:在目标项目目录<br/> </strong> PS:用您在步骤6中获取的仿真器id替换<em class="mp"> emulator-5554 </em></p><pre class="mr ms mt mu gt mw mx my mz aw na bi"><span id="d3e6" class="nb kb in mx b gy nc nd l ne nf"># use the emulator id retrieved on step 6<br/>npx react-native run-android --variant=debug --deviceId emulator-5554</span></pre><p id="a4b1" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">很酷，对吧？</p><p id="b240" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">这篇文章对你有帮助吗？有没有更好的方法来改进其中的一些步骤？写在评论里告诉我吧！</p><p id="8202" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated">谢谢大家！希望你喜欢它！</p><h1 id="ee87" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">参考</h1><p id="10f0" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated"><a class="ae jz" href="https://gist.github.com/bergmannjg/461958db03c6ae41a66d264ae6504ade" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/Bergman njg/461958 db 03 c 6a e 41 a 66d 264 AE 6504 ade</a></p><p id="3235" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><a class="ae jz" href="https://medium.com/georgetechinfo/configurar-ambiente-react-native-no-wsl2-54b7707bd5e6" rel="noopener">https://medium . com/georget info/configurar-Ambiente-react-native-no-wsl 2-54b 7707 BD 5 e 6</a></p><p id="4e3d" class="pw-post-body-paragraph ky kz in la b lb lw ld le lf lx lh li lj ly ll lm ln lz lp lq lr ma lt lu lv ig bi translated"><em class="mp">更多内容看</em> <a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="la io"> <em class="mp">说白了. io </em> </strong> </a> <strong class="la io"> <em class="mp">。</em> </strong> <em class="mp">报名参加我们的</em><strong class="la io"><em class="mp"/></strong><a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="la io"><em class="mp">免费每周简讯这里</em> </strong> </a> <strong class="la io"> <em class="mp">。</em> </strong></p></div></div>    
</body>
</html>