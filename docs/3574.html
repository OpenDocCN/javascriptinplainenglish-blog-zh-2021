<html>
<head>
<title>Create an RSS Feed from Nuxt Content with Full Body HTML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用完整的HTML从Nuxt内容创建RSS提要</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/creating-an-rss-feed-from-nuxt-content-with-full-body-html-code-f83072a64092?source=collection_archive---------6-----------------------#2021-07-18">https://javascript.plainenglish.io/creating-an-rss-feed-from-nuxt-content-with-full-body-html-code-f83072a64092?source=collection_archive---------6-----------------------#2021-07-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="d6a0" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何通过添加简单的<strong class="ak">插件模块</strong>将文档添加到RSS提要中</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e51adc00be8f347e8abb746d22c6cef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eRSVHQzusxBG5Js6zpsWFQ.png"/></div></div></figure><p id="bd90" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">已经有一篇关于如何从Nuxt内容创建RSS提要的官方文档文章。但它只是添加了摘录作为实际内容。大多数feed阅读器允许读者直接在应用程序中阅读<strong class="kq io">整篇文章</strong>，无需切换上下文。本文将介绍一种通过添加一个简单的<strong class="kq io">插件模块</strong>将整个文档添加到RSS提要的方法。</p><h1 id="66c1" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">nuxt-content组件之外的HTML代码的问题</h1><p id="0c63" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">Nuxt Content是一个很棒的静态CMS，它使得建立一个基于Markdown的高性能博客变得非常容易，而不需要添加大量的第三方服务。</p><p id="6304" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">系统的核心是<code class="fe mi mj mk ml b">nuxt-content</code>组件。该组件获取应该呈现的Markdown文档，然后运用大魔法将其制作成一个漂亮的博客页面😊。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="cd81" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">到目前为止一切顺利。只要使用Nuxt内容进行渲染，就没什么好考虑的。但是一旦您想要访问和使用<strong class="kq io">实际生成的HTML代码</strong>，您将不会在包含原始HTML代码的文档中找到任何字段。</p><p id="b51f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">原因是组件在内部生成了一个<strong class="kq io"> JSON对象</strong>，该对象随后被转化为VDOM节点。所以它是由Vue.js呈现的。没有本地方法让Markdown管道在其他地方运行并处理HTML代码。但这正是我们所需要的，因为我们希望将带有标记的文章文本放在我们的RSS提要中！</p><h1 id="29f4" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">使用nuxt-content-body-html将其抽象出来</h1><p id="4df6" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">我构建了<a class="ae lk" href="https://github.com/dword-design/nuxt-content-body-html" rel="noopener ugc nofollow" target="_blank"> nuxt-content-body-html </a>，它基本上为所有markdown文档添加了一个<code class="fe mi mj mk ml b">bodyHtml</code>字段。它重新生成Nuxt Content Markdown管道来生成它，还使用模块配置中的Remark和Rehype插件，因此它输出与组件相同的HTML。好的一面是，我们可以直接把它放进去，抽象出生成HTML代码的逻辑，这样我们就可以专注于提要的创建。</p><p id="43f3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们通过运行<code class="fe mi mj mk ml b">npm install nuxt-content-body-html</code>来安装这个模块。然后我们将它添加到我们的<code class="fe mi mj mk ml b">nuxt.config.js</code>:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="bfd2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">太好了！为了测试，你可以在博客页面上查看<code class="fe mi mj mk ml b">post.bodyHtml</code>，它应该包含HTML代码。</p><p id="eb39" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，我们可以调整提要创建来实际使用该字段。你可能使用过类似于<a class="ae lk" href="https://content.nuxtjs.org/integrations/#nuxtjsfeed" rel="noopener ugc nofollow" target="_blank">Nuxt内容文档</a>的方式来设置你的订阅源。以下是单个RSS提要配置的简化示例:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="a480" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">就这样，现在您应该有一个包含完整HTML内容的提要了！我推荐<a class="ae lk" href="https://inoreader.com" rel="noopener ugc nofollow" target="_blank">in reader</a>来测试它，你可以用重新加载按钮重新加载文章，然后你应该会看到变化。下面你可以看到一篇文章的例子:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b26fc520739581cd84129bfdbf10ad80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2USojMQoIRASyaqFAJwj8g.jpeg"/></div></div></figure><h1 id="2ee7" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">额外提示:在顶部添加一张图片</h1><p id="f3f7" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">提要阅读器不仅可以显示文章的内容，它们通常还会将第一张图片显示为文章列表中的摘要图片。对于读者来说，获得文章内容的第一印象是一件很棒的事情！只需在顶部添加一个图像，就可以了。像这样调整提要创建:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="7c91" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">以下是Inoreader中的结果:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/f110f2ef307d7effd3a6d28e4851d9a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_JOdGV9mga0OJE61cRAzQA.jpeg"/></div></div></figure><p id="b114" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">以及由此产生的摘要视图:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/15f9d9a116e27f97788ac1675f70adcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UYUxqk_hJdmLD0HyPTzi7Q.jpeg"/></div></div></figure><h1 id="1f07" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">结论</h1><p id="e9d0" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">本文是关于包含完整HTML的Nuxt内容的RSS提要。<a class="ae lk" href="https://github.com/dword-design/nuxt-content-body-html" rel="noopener ugc nofollow" target="_blank"> nuxt-content-body-html </a>是一个快速简单的解决方案，可以向文档添加一个<code class="fe mi mj mk ml b">bodyHtml</code>字段，用于feed创建功能。希望对你有点用！如果你喜欢，可以在GitHub 的<a class="ae lk" href="https://github.com/dword-design/nuxt-content-body-html" rel="noopener ugc nofollow" target="_blank">星留下一颗星🌟。感谢阅读！</a></p><p id="0cf5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果你喜欢我正在做的事情，请在<a class="ae lk" href="https://twitter.com/seblandwehr" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我或者查看我的<a class="ae lk" href="https://sebastianlandwehr.com" rel="noopener ugc nofollow" target="_blank">网站</a>。非常感谢！❤️</p><p id="e34c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="mo">最初发表于</em><a class="ae lk" href="https://sebastianlandwehr.com/blog/creating-an-rss-feed-from-nuxt-content-with-full-body-html-code" rel="noopener ugc nofollow" target="_blank"><em class="mo">sebastianlandwehr.com</em></a></p><p id="58ba" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="mo">更多内容看</em> <a class="ae lk" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="mo">说白了</em></strong></a></p></div></div>    
</body>
</html>