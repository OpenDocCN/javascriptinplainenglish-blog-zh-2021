<html>
<head>
<title>React: Controlled vs. Uncontrolled Forms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应:受控与非受控形式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/controlled-vs-uncontrolled-forms-react-184a8b6d33c6?source=collection_archive---------15-----------------------#2021-07-19">https://javascript.plainenglish.io/controlled-vs-uncontrolled-forms-react-184a8b6d33c6?source=collection_archive---------15-----------------------#2021-07-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="2388" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在某些时候，你会发现很多网页设计都是由表单组成的。你可以使用搜索栏、登录、注册等形式。通过学习React，您可能会被告知在表单的输入标记中编写一行看似多余的代码。</p><p id="fbd3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">那句台词是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/1f52e7b7939818a106c10b55e895ed7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/1*OfEaHKdDfHmSypUQi5tpuA.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">(“term” being inside your state)</figcaption></figure><p id="a052" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们从一个完整的组件开始:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/0da27989913034e7caf06d22134e34b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*2YhP-UAzACmqLSnc5O4i-w.png"/></div></figure><p id="141a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">受控组件的整个思想是保持数据存储在哪里以及如何获取数据的唯一来源。如果你知道<em class="kv">事件监听器</em>和<em class="kv">状态</em>是如何工作的，那么你很可能已经构建了大部分被认为是受控组件的东西。使用React时，您希望将内容存储在React中。总是避免将信息存储在HTML元素中，更确切地说是DOM中。这也是使用React状态系统的目的之一。它不仅处理用户交互，还确保所有信息都存储在React中。否则，您将不得不进入DOM并在那里操作。</p><p id="e2e5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最令人困惑的部分来自这样一行:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/1f52e7b7939818a106c10b55e895ed7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/1*OfEaHKdDfHmSypUQi5tpuA.png"/></div></figure><p id="d5ed" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，input标记已经知道您正在键入的文本的值。存储这些信息是其工作的一部分。然而，正如我前面说过的，我们希望将所有信息存储在React中，而不是DOM中。<code class="fe kw kx ky kz b">value={this.state.term}</code>的目的是默认状态总是输入的值。您实际上是用您所在州的信息覆盖了DOM信息，但是两者都存储了您键入的完全相同的信息。</p><p id="dc2f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为什么要这么做？你可以说“最佳实践”是一回事。这可能是你听过很多却没有解释的事情。你可能会认为这只是一个无意义的额外步骤，但这是有原因的…</p><p id="290b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这种做法还允许您更轻松地对组件进行操作。因为最终结果总是以值等于状态结束，所以您可以在将数据推入值之前对其进行更改。您需要的只是简单的JavaScript方法。而在一个不受控制的组件中，你必须不断地接触DOM，这可能会有点棘手。</p><p id="b22c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这方面的例子有:</p><ol class=""><li id="b551" class="la lb in jm b jn jo jr js jv lc jz ld kd le kh lf lg lh li bi translated">也许你想用单词而不是空字符串初始化<code class="fe kw kx ky kz b">this.state.term</code>。</li><li id="e505" class="la lb in jm b jn lj jr lk jv ll jz lm kd ln kh lf lg lh li bi translated">也许你希望输入字段总是大写或小写，所以你把方法放在<code class="fe kw kx ky kz b">event.target.value</code>的末尾。</li><li id="1655" class="la lb in jm b jn lj jr lk jv ll jz lm kd ln kh lf lg lh li bi translated">你可以做很多事情。试试看！</li></ol><p id="63cf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="kv">更多内容请看</em><a class="ae lo" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>