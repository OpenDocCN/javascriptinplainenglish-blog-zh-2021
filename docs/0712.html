<html>
<head>
<title>How To Add Styles To React Components With Styled Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何添加样式以使组件与样式化的组件反应</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-add-styles-to-react-components-with-styled-components-62a467c2a726?source=collection_archive---------12-----------------------#2021-02-13">https://javascript.plainenglish.io/how-to-add-styles-to-react-components-with-styled-components-62a467c2a726?source=collection_archive---------12-----------------------#2021-02-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><h2 id="0f6d" class="il im in bd b dl io ip iq ir is it dk iu translated" aria-label="kicker paragraph">JavaScript Alpha指南</h2><div class=""/><div class=""><h2 id="1be1" class="pw-subtitle-paragraph jt iw in bd b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk dk translated">看看如何使用styled-components或@emotion/css向React组件添加额外的样式。</h2></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/7719f0d44ece6f9dcd6867ead9922c33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fH7-P5zOe7wpbJl1agNaKw.jpeg"/></div></div></figure><p id="ca22" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">作为React前端开发人员，您有时需要获取一个现有的React组件，并对其应用额外的样式。这可能是因为你想扩展一个第三方库组件，或者仅仅是因为你想在你的应用程序中制作一些组件的变体。</p><p id="4feb" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">让我们看看如何使用<code class="fe lt lu lv lw b"><a class="ae lx" href="https://github.com/styled-components/styled-components" rel="noopener ugc nofollow" target="_blank">styled-components</a></code>或<code class="fe lt lu lv lw b"><a class="ae lx" href="https://github.com/emotion-js/emotion" rel="noopener ugc nofollow" target="_blank">@emotion/styled</a></code>来实现它。</p><h1 id="4c2c" class="ly lz in bd ma mb mc md me mf mg mh mi kc mj kd mk kf ml kg mm ki mn kj mo mp bi translated">结果呢</h1><p id="b99f" class="pw-post-body-paragraph kx ky in kz b la mq jx lc ld mr ka lf lg ms li lj lk mt lm ln lo mu lq lr ls ig bi translated">为了确保我们在同一页上，看看下面的codesandbox。有两个按钮。蓝色按钮是基本按钮。它可以是来自第三方库的按钮，也可以是来自您的存储库的组件。红色按钮是它的替代版本。它通过应用额外的样式来扩展基本按钮。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mv mw l"/></div></figure><h1 id="6d03" class="ly lz in bd ma mb mc md me mf mg mh mi kc mj kd mk kf ml kg mm ki mn kj mo mp bi translated">将样式应用于React组件</h1><p id="9fc0" class="pw-post-body-paragraph kx ky in kz b la mq jx lc ld mr ka lf lg ms li lj lk mt lm ln lo mu lq lr ls ig bi translated">这显示了<code class="fe lt lu lv lw b">MyButton</code>组件如何向<code class="fe lt lu lv lw b">Button</code>组件添加额外的样式。你得到<code class="fe lt lu lv lw b">styled</code>函数，作为一个参数，你给它你想要扩展的组件。</p><pre class="km kn ko kp gt mx lw my mz aw na bi"><span id="0e2f" class="nb lz in lw b gy nc nd l ne nf">const MyButton = styled(Button)`<br/>  font-weight: bold;<br/>  background: red;<br/>  border-radius: 10px;</span><span id="ae66" class="nb lz in lw b gy ng nd l ne nf">  &amp;:hover {<br/>    background: firebrick;<br/>  }</span><span id="57cf" class="nb lz in lw b gy ng nd l ne nf">  &amp;:active {<br/>    background: darkred;<br/>  }<br/>`;</span></pre><p id="a151" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">为此，<code class="fe lt lu lv lw b">Button</code>组件必须将<code class="fe lt lu lv lw b">className</code>支架传递到内部的包装元件上。</p></div><div class="ab cl nh ni hr nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ig ih ii ij ik"><p id="727e" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">下面的代码显示了基本组件的样子。</p><pre class="km kn ko kp gt mx lw my mz aw na bi"><span id="0322" class="nb lz in lw b gy nc nd l ne nf">export const ButtonStyled = styled.button`<br/>  padding: 20px 25px;<br/>  ...<br/>`;</span><span id="00ec" class="nb lz in lw b gy ng nd l ne nf">export function Button({ children, ...props }) {<br/>  return (<br/>    &lt;ButtonStyled {...props}&gt; // <strong class="lw ix">(A)</strong><br/>      {children}<br/>    &lt;/ButtonStyled&gt;<br/>  );<br/>}</span></pre><blockquote class="no"><p id="9ea1" class="np nq in bd nr ns nt nu nv nw nx ls dk translated">一个好的做法是将任何未被析构的道具分散到包装元素上。</p></blockquote><p id="ed95" class="pw-post-body-paragraph kx ky in kz b la ny jx lc ld nz ka lf lg oa li lj lk ob lm ln lo oc lq lr ls ig bi translated">这里，在第<code class="fe lt lu lv lw b">(A)</code>行，我将收到的<code class="fe lt lu lv lw b">props</code>传递到包装元素上。</p><p id="bdeb" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">我们需要这样做，因为<code class="fe lt lu lv lw b">styled(Button)</code>所做的是创建一个高阶函数，将<code class="fe lt lu lv lw b">className</code>属性发送给<code class="fe lt lu lv lw b">Button</code>组件。这个<code class="fe lt lu lv lw b">className</code>属性的值是一个生成的CSS类名，它保存了我们的CSS样式的定义。</p></div><div class="ab cl nh ni hr nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ig ih ii ij ik"><p id="19ff" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">如果我们有一个这样定义的组件，它就不会工作。</p><pre class="km kn ko kp gt mx lw my mz aw na bi"><span id="3a4f" class="nb lz in lw b gy nc nd l ne nf">export function Button({ children }) {<br/>  return (<br/>    &lt;ButtonStyled&gt;<br/>      {children}<br/>    &lt;/ButtonStyled&gt;<br/>  );<br/>}</span></pre><h1 id="96d5" class="ly lz in bd ma mb mc md me mf mg mh mi kc mj kd mk kf ml kg mm ki mn kj mo mp bi translated">不使用样式组件扩展组件</h1><p id="98c7" class="pw-post-body-paragraph kx ky in kz b la mq jx lc ld mr ka lf lg ms li lj lk mt lm ln lo mu lq lr ls ig bi translated">您也可以扩展一个不基于<code class="fe lt lu lv lw b">styled-components</code>的组件。</p><pre class="km kn ko kp gt mx lw my mz aw na bi"><span id="8dfe" class="nb lz in lw b gy nc nd l ne nf">export function Button({ children, className, ...props }) {<br/>  const cssClassName = ["my-old-button", className].join(" ");</span><span id="be2b" class="nb lz in lw b gy ng nd l ne nf">  return (<br/>    &lt;button className={cssClassName} {...props}&gt;<br/>      {children}<br/>    &lt;/button&gt;<br/>  );<br/>}</span></pre><p id="7455" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">对于这样的用例，我推荐使用像<code class="fe lt lu lv lw b"><a class="ae lx" href="https://www.npmjs.com/package/classnames" rel="noopener ugc nofollow" target="_blank">classnames</a></code>这样的NPM包。然后，我们可以将示例简化为:</p><pre class="km kn ko kp gt mx lw my mz aw na bi"><span id="5b2f" class="nb lz in lw b gy nc nd l ne nf">import <strong class="lw ix">cx</strong> from 'classnames';</span><span id="daeb" class="nb lz in lw b gy ng nd l ne nf">export function Button({ children, className, ...props }) {<br/>  return (<br/>    &lt;button className={<strong class="lw ix">cx("my-old-button", className)</strong>} {...props}&gt;<br/>      {children}<br/>    &lt;/button&gt;<br/>  );<br/>}</span></pre><h1 id="ffc0" class="ly lz in bd ma mb mc md me mf mg mh mi kc mj kd mk kf ml kg mm ki mn kj mo mp bi translated">总是传播道具</h1><p id="b492" class="pw-post-body-paragraph kx ky in kz b la mq jx lc ld mr ka lf lg ms li lj lk mt lm ln lo mu lq lr ls ig bi translated">为了能够扩展React组件的样式，我们只需要传递<code class="fe lt lu lv lw b">className</code>属性。</p><p id="10b1" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">但是我建议你<strong class="kz ix">把组件收到的所有道具</strong>都散开。</p><p id="d637" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">有无数的使用案例可以派上用场。从添加用于测试目的的<code class="fe lt lu lv lw b">data-qa</code>属性这样的小事开始。或者给组件添加一个组件作者没有考虑到的<strong class="kz ix">事件监听器</strong>。</p><h1 id="d48f" class="ly lz in bd ma mb mc md me mf mg mh mi kc mj kd mk kf ml kg mm ki mn kj mo mp bi translated">资源</h1><div class="od oe gp gr of og"><a href="https://styled-components.com/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ix gy z fp ol fr fs om fu fw iw bi translated">样式组件</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">组件时代的视觉原语。使用ES6和CSS的精华来设计你的应用，没有压力💅🏾</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">styled-components.com</p></div></div><div class="op l"><div class="oq l or os ot op ou kv og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://emotion.sh/docs/introduction" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ix gy z fp ol fr fs om fu fw iw bi translated">介绍</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">编辑描述</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">emotion.sh</p></div></div><div class="op l"><div class="ov l or os ot op ou kv og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://www.npmjs.com/package/classnames" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ix gy z fp ol fr fs om fu fw iw bi translated">类名</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">一个简单的实用程序，用于有条件地将类名连接在一起</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">www.npmjs.com</p></div></div><div class="op l"><div class="ow l or os ot op ou kv og"/></div></div></a></div></div></div>    
</body>
</html>