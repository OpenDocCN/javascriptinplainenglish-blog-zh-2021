<html>
<head>
<title>Let’s Build a WhatsApp Clone Using Vue.js and Firebase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们使用Vue.js和Firebase构建一个WhatsApp克隆</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-build-a-whatsapp-clone-using-vue-js-and-firebase-57a306b58e54?source=collection_archive---------8-----------------------#2021-04-23">https://javascript.plainenglish.io/lets-build-a-whatsapp-clone-using-vue-js-and-firebase-57a306b58e54?source=collection_archive---------8-----------------------#2021-04-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="bfe3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如何使用Vue.js、Firebase和Spring Boot构建WhatsApp Web的克隆版？</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/7bac3b6821fd42655c9f058769dfdbb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U6iilfktVJipMcEM79O1OQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Whatspp Clone for realtime chat</figcaption></figure><h1 id="12e5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">简介</strong></h1><p id="0481" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">我们每天都会使用很多社交媒体平台，比如脸书、LinkedIn、Twitter、Whatsapp、Instagram。每天最常用的功能之一是实时聊天。在本教程中，我们将使用Vue.js和Firebase来构建一个。</p><p id="082f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一系列教程的一部分，我们将在其中构建一个功能齐全的社交网络应用程序，用户可以在其中登录、发帖、添加朋友和聊天。</p><p id="7041" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">之前，我们使用Firebase创建了一个社交登录，在后端使用Spring Boot，在前端使用Vue.js。</p><div class="me mf gp gr mg mh"><a href="https://medium.com/javarevisited/lets-build-a-robust-social-login-using-spring-boot-vue-js-and-firebase-36fc5bac0d0b" rel="noopener follow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd ir gy z fp mm fr fs mn fu fw ip bi translated">让我们使用Spring Boot、Vue.js和Firebase建立一个强大的社交登录</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">我们将构建一个Vue.js客户端，使用Github/Google和Firebase登录，并使用spring构建一个无状态后端…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">medium.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv kv mh"/></div></div></a></div><p id="3aea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现场演示:</p><div class="me mf gp gr mg mh"><a href="https://simplecoding-social.netlify.app/" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd ir gy z fp mm fr fs mn fu fw ip bi translated">简单编码-社交</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">编辑描述</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">简单编码-social.netlify.app</p></div></div></div></a></div><p id="4ff1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本教程的Github代码:</p><div class="me mf gp gr mg mh"><a href="https://github.com/webtutsplus/social-network-frontend/tree/whatapp-tutorial" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd ir gy z fp mm fr fs mn fu fw ip bi translated">webtutsplus/社交网络-前端</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">TODO聊天首先在聊天视图中选择第一个朋友显示时间戳更改api以获取房间名称以及…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">github.com</p></div></div><div class="mq l"><div class="mw l ms mt mu mq mv kv mh"/></div></div></a></div><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Youtube demo</figcaption></figure><h1 id="6da8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">项目结构</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mz"><img src="../Images/d11eafa68132ae7a926e3f92dad398be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y-jQn6Nvelqg8-8lkfeASg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Relevant files for this tutorial</figcaption></figure><h1 id="1ec1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">让我们建立聊天页面</h1><p id="edde" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">让我们为整个页面构建视图，它有两个组件:</p><ol class=""><li id="f1df" class="na nb iq jp b jq jr ju jv jy nc kc nd kg ne kk nf ng nh ni bi translated"><strong class="jp ir">聊天工具条</strong></li><li id="d6c4" class="na nb iq jp b jq nj ju nk jy nl kc nm kg nn kk nf ng nh ni bi translated"><strong class="jp ir">聊天视图</strong></li></ol><div class="km kn ko kp gt ab cb"><figure class="no kq np nq nr ns nt paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><img src="../Images/b411181990342cfbf1f26f3e058c708d.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*mqxiM6_jXbYuGMoocQkbyg.png"/></div></figure><figure class="no kq nu nq nr ns nt paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><img src="../Images/dca24f8b6d8c9b9b53853181dfcd762e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*bcOv46UhYItqXb7EgKpUYA.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk nv di nw nx">ChatSidebar and ChatView components</figcaption></figure></div><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ny my l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">chat.vue (two components)</figcaption></figure><p id="2330" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于每个朋友，我们都有一个房间名，并存储在后端。我们通过这个API来检索它。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ny my l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Script section of chat.vue</figcaption></figure><p id="87dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面的完整代码可以在这里找到:</p><div class="me mf gp gr mg mh"><a href="https://github.com/webtutsplus/social-network-frontend/blob/whatapp-tutorial/src/views/Chat.vue" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd ir gy z fp mm fr fs mn fu fw ip bi translated">webtutsplus/社交网络-前端</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">社交网络app的Vue.js前端。为webtutsplus/social-network-frontend开发做出贡献，创建一个…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">github.com</p></div></div></div></a></div><p id="b0a4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">API的响应</strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ny my l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Response of <a class="ae nz" href="https://simplecoding-social.herokuapp.com/private/rooms" rel="noopener ugc nofollow" target="_blank">/rooms</a> api</figcaption></figure><p id="b5b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦我们有了房间信息，我们就把它发送给子组件。让我们看看ChatSidebar组件</p><h1 id="d688" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">ChatSidebar组件</h1><p id="189b" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">它从父聊天工具中获取房间属性，并从父聊天工具<code class="fe oa ob oc od b">Chat.vue</code>传递的房间列表属性中为每个用户显示一个<code class="fe oa ob oc od b"><strong class="jp ir">SidebarChatUserRow</strong></code>组件列表。</p><p id="ac0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它的右上方还有3个图标，看起来真的很不错！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oe"><img src="../Images/ebcdfd5d2741d1c263b6dddb791239b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bd6yDKJE0rnSNim3itt_qw.png"/></div></div></figure><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ny my l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><strong class="ak">ChatSidebar</strong></figcaption></figure><h1 id="ae26" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">sidebarchatusserrow组件</strong></h1><p id="8374" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">这个组件非常简单——它只是为每个用户显示电子邮件和头像。如果需要，我们可以稍后添加最后一条消息。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi of"><img src="../Images/a94fd657e5b0e1df90d865e40dc6f2c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iASVNPS7dLSkZO9-15qe9A.png"/></div></div></figure><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ny my l"/></div></figure><h1 id="6514" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">聊天视图组件</h1><p id="7c0a" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">这是聊天的右侧部分，我们在这里显示实际的聊天。首先，我们将讨论如何显示聊天，然后我们将看到，当我们单击不同的用户时，如何更新聊天。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi og"><img src="../Images/fa5979e910053dfef169e89a5132b2f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x2M0pY1heUMnRkVLok4slA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">chat main</figcaption></figure><p id="7675" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">默认情况下，我们通过第一个用户的房间，所以它有一个道具房间，其中也有我们在标题中显示的用户信息(头像，电子邮件)。</p><p id="1862" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从roomname中，我们在Firebase中找到相关的roomId，并获得所有相关的聊天并显示这些聊天。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oh"><img src="../Images/29d5e9b062ca55bb6843b150f019a7f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EXMzTn79VtLxpyzMM7yU7g.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Firebase chats store</figcaption></figure><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ny my l"/></div></figure><h1 id="e400" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建新的聊天</h1><p id="0f2c" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">有一个窗体，我们隐藏了发送按钮和onclick动作。我们通过<code class="fe oa ob oc od b">v-on:submit.prevent </code>指令阻止表单的默认提交和刷新动作。</p><p id="77a7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们获得了inputMsg div的数据，并通过在room name中添加chat在firebase中添加了一个新条目。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oi"><img src="../Images/fa079614b5aa50b20c24a86a7eb49078.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qg4hHsm9iXs5rIbYTStt2g.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">submit form</figcaption></figure><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ny my l"/></div></figure><p id="f458" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们还有一个重要的功能，就是从侧边聊天栏中选择不同的朋友，以及如何更新聊天视图。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oj"><img src="../Images/7248eedf8527888372badf2fe2a8aa3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UHbXsLXR7qqyWOwS8N5YdA.png"/></div></div></figure><p id="5021" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于它们不是亲子类型，我们不能直接传递道具或者更新道具。答案是发出事件并监听它。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ok"><img src="../Images/2d38058c4087de69591ea02b53a98954.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nCVbuO4UOfKyY0e6VLO1Tg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Emit an event in <strong class="bd ol">SidebarChatUserRow</strong> component</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi om"><img src="../Images/ebe1ea1c53bd5d5e2201e43154847bb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mte9u27vGsahn0V64E7eFQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Retrieving the event in Chatview and updating everything</figcaption></figure><p id="3ae7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">chatview.view组件的完整代码:</p><div class="me mf gp gr mg mh"><a href="https://github.com/webtutsplus/social-network-frontend/blob/whatapp-tutorial/src/components/Chat/ChatView.vue" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd ir gy z fp mm fr fs mn fu fw ip bi translated">webtutsplus/社交网络-前端</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">社交网络app的Vue.js前端。为webtutsplus/social-network-frontend开发做出贡献，创建一个…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">github.com</p></div></div><div class="mq l"><div class="on l ms mt mu mq mv kv mh"/></div></div></a></div><p id="6989" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程中，我们讨论了一些非常有趣的现代JavaScript主题，比如:</p><ol class=""><li id="12f0" class="na nb iq jp b jq jr ju jv jy nc kc nd kg ne kk nf ng nh ni bi translated">如何通过道具？</li><li id="d206" class="na nb iq jp b jq nj ju nk jy nl kc nm kg nn kk nf ng nh ni bi translated">如何渲染组件？</li><li id="23ef" class="na nb iq jp b jq nj ju nk jy nl kc nm kg nn kk nf ng nh ni bi translated">如何发出事件并使用它们。</li><li id="4fe0" class="na nb iq jp b jq nj ju nk jy nl kc nm kg nn kk nf ng nh ni bi translated">如何整合Firebase？</li></ol><p id="faf9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样。您可以在本地计算机上运行前端代码，如果有任何问题，可以在这里发表评论。感谢阅读！</p><h1 id="ce17" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">参考</h1><div class="me mf gp gr mg mh"><a href="https://medium.com/javarevisited/lets-build-a-robust-social-login-using-spring-boot-vue-js-and-firebase-36fc5bac0d0b" rel="noopener follow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd ir gy z fp mm fr fs mn fu fw ip bi translated">让我们使用Spring Boot、Vue.js和Firebase建立一个强大的社交登录</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">我们将构建一个Vue.js客户端，使用Github/Google和Firebase登录，并使用spring构建一个无状态后端…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">medium.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv kv mh"/></div></div></a></div><p id="3456" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="oo">更多内容看</em><a class="ae nz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="oo">plain English . io</em></a></p></div></div>    
</body>
</html>