<html>
<head>
<title>PreactJS Complete Setup A-Z: TypeScript, SCSS, MobX Lite, &amp; Router</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">预先完成设置A-Z: TypeScript、SCSS、MobX Lite和路由器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/preact-js-complete-setup-a-z-typescript-scss-mobx-lite-router-a2c07fd37ca0?source=collection_archive---------8-----------------------#2021-06-27">https://javascript.plainenglish.io/preact-js-complete-setup-a-z-typescript-scss-mobx-lite-router-a2c07fd37ca0?source=collection_archive---------8-----------------------#2021-06-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/cc1189a2d00525435dc30a965bb6318e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*peT01S-EArGcOYyk"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@domenicoloia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Domenico Loia</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="dc57" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Preact是react备选框架之一，您应该在您的项目中尝试。原因是这个框架以较小的包大小提供了很好的性能。这是一个轻量级的框架，使得它的语法更加简单明了。因为它的包比React小，所以您的用户将下载更少的JavaScript代码来解析和执行它。react和Preact之间有一些比较，结果正如我们可能猜测的那样，Preact包的大小比react小78%,性能比React快17%。</p><p id="4dbf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您是React开发人员，那么Preact对您来说很容易上手。当然，React也有一些不同之处，但总的来说，本文可以帮助您更快地进行设置，因为在本文中，我们将有一个完整的样板文件——preact js，带有Typescript和SCSS，以及MobX Lite来管理我们的全局状态。</p><p id="b36e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你来自另一个JavaScript框架，比如Vue.js，不要害怕，PreactJS可能没有你想象的那么可怕。不到一周就能上手。显然，为您的下一个前端项目尝试PreactJS是值得的。</p><p id="e16b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们开始之前还有一件事。如果你想知道，为什么我们应该使用TypeScript而不是JavaScript？嗯，会有一些解释的。但是简单来说，TypeScript使用显式类型更可靠。因此，TypeScript非常适合大型/复杂的项目。</p><h1 id="5212" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">概观</h1><ul class=""><li id="455a" class="lz ma iq kf b kg mb kk mc ko md ks me kw mf la mg mh mi mj bi translated">我们的目标</li><li id="b713" class="lz ma iq kf b kg mk kk ml ko mm ks mn kw mo la mg mh mi mj bi translated">打字稿和SCSS —主页</li><li id="43f8" class="lz ma iq kf b kg mk kk ml ko mm ks mn kw mo la mg mh mi mj bi translated">打字稿和SCSS-个人资料页</li><li id="a5b0" class="lz ma iq kf b kg mk kk ml ko mm ks mn kw mo la mg mh mi mj bi translated">类型脚本和SCSS —路由器/应用程序组件</li><li id="ca5e" class="lz ma iq kf b kg mk kk ml ko mm ks mn kw mo la mg mh mi mj bi translated">使用MobX Lite的商店提供商</li></ul></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h2 id="cde9" class="mw lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">#1我们的目标</h2><p id="4541" class="pw-post-body-paragraph kd ke iq kf b kg mb ki kj kk mc km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">本文的目标是修改PreactJS已经拥有的Typescript &amp; SCSS的现有样板文件，并添加MobX来管理全局状态。</p><p id="860e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，让我们创建一个新的Preact安装。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="440f" class="mw lc iq nq b gy nu nv l nw nx">npx preact-cli create default my-project</span></pre><p id="bf36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如您注意到的，全新安装Preact使用了Javascript和CSS类。但在本文中，我们将使用SCSS的Typescript。所以开始，我们先修改一下主页。</p><h2 id="562c" class="mw lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">#2打字稿和SCSS —主页</h2><p id="7e4d" class="pw-post-body-paragraph kd ke iq kf b kg mb ki kj kk mc km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">让我们打开<em class="ny"> src/routes/home/index.js </em>，将文件名改为<em class="ny"> index.ts </em>。然后，它会产生错误，因为我们需要对它做一些调整。在本文中，我们将使用<em class="ny"> htm </em> npm包来帮助我们返回JSX。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="cd2f" class="mw lc iq nq b gy nu nv l nw nx">npm i htm</span></pre><p id="41fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以修改<em class="ny"> index.ts </em>成为这样一个:</p><figure class="nl nm nn no gt jr"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk"><em class="ob">src/routes/home/index.ts</em></figcaption></figure><p id="390b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意，我们使用Preact中的<em class="ny"> FunctionalComponent </em>，还使用我们刚刚安装的<em class="ny"> htm </em>包，并使用<code class="fe oc od oe nq b">html ``</code>语法轻松返回JSX。</p><figure class="nl nm nn no gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/60164ab570ac57bc8c93ac904608396e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cvAe_7mQF4Xp13B_kMBHsw.png"/></div></div></figure><p id="ce9e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">到目前为止还不错，但是SCSS怎么样？在项目中实现SCSS非常简单，我们只需要一些可以编译我们的SCSS的包。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="df24" class="mw lc iq nq b gy nu nv l nw nx">npm i --save-dev node-sass sass-loader@10</span></pre><p id="d610" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们把文件名<em class="ny">src/routes/Home/style . CSS</em>修改成<em class="ny"> style.sccs </em>，在<em class="ny">首页</em>页面导入。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="13d0" class="mw lc iq nq b gy nu nv l nw nx">import style from './style.scss';</span><span id="a8e6" class="mw lc iq nq b gy og nv l nw nx">...</span></pre><h2 id="7d6e" class="mw lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">#3打字稿和SCSS-个人资料页</h2><p id="1962" class="pw-post-body-paragraph kd ke iq kf b kg mb ki kj kk mc km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">让我们继续使用Typescript和SCSS修改<em class="ny"> Profile </em>页面。然后打开<em class="ny">src/routes/profile/index . js</em>，将文件名改为<em class="ny"> index.ts </em>。另外，不要忘记将<em class="ny"> style.css </em>名称修改为<em class="ny"> style.scss </em>。</p><figure class="nl nm nn no gt jr"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk"><em class="ob">src/routes/profile/index.ts</em></figcaption></figure><p id="5f6f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了处理状态，我们可以很容易地使用<em class="ny"> FunctionalComponent </em>中的Preact钩子。您可能已经知道，<em class="ny"> FunctionalComponent </em>是一个无状态的组件，但是由于Preact挂钩，我们可以在需要的时候让这个组件“有状态”。</p><h2 id="f0c9" class="mw lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">#4打字稿和SCSS —路由器/应用程序组件</h2><p id="8094" class="pw-post-body-paragraph kd ke iq kf b kg mb ki kj kk mc km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">最后，让我们使用Typescript来转换路由器组件。打开<em class="ny"> src/components/app.js </em>，将文件名改为<em class="ny"> app.ts </em></p><figure class="nl nm nn no gt jr"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">src/components/app.ts</figcaption></figure><h2 id="703c" class="mw lc iq bd ld mx my dn lh mz na dp ll ko nb nc lp ks nd ne lt kw nf ng lx nh bi translated">MobX Lite排名第五的商店提供商</h2><p id="2dec" class="pw-post-body-paragraph kd ke iq kf b kg mb ki kj kk mc km kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">现在是我们管理我们全球状态的时候了。在我们继续之前，我们需要<em class="ny"> mobx </em>包，所以我们先安装它。</p><pre class="nl nm nn no gt np nq nr ns aw nt bi"><span id="56c7" class="mw lc iq nq b gy nu nv l nw nx">npm i mobx-react-lite</span></pre><p id="2720" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，在<em class="ny">src/services/store context . ts</em>中创建一个新文件。</p><figure class="nl nm nn no gt jr"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">src/services/StoreContext.ts</figcaption></figure><p id="a450" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们需要导入我们的<em class="ny"> StoreContext </em>以使它对我们所有的pages &amp;组件可用。让我们修改<em class="ny"> src/components/app.ts. </em></p><figure class="nl nm nn no gt jr"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk"><em class="ob">src/components/app.ts</em></figcaption></figure><p id="fc8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如您在第14行看到的，我们添加了刚刚创建的<em class="ny"> StoreProvider </em>。我们应该测试一下我们的全局状态是否工作正常，好吗？</p><p id="30b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您还记得在<em class="ny">配置文件</em>页面上，我们在内部管理计数器状态。出于测试目的，我们将全局移动计数器状态。</p><figure class="nl nm nn no gt jr"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="nl nm nn no gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/1ebc1097dd1e582cb8854575cd5531f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*y8pwj2vM8IfvCRG04rNtgg.gif"/></div></div></figure><p id="f4e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们走吧。我们已经成功地将全局状态用于计数器。当然，对于这个上下文，计数器状态应该在本地管理，但是上面的演示确保了我们的全局上下文/状态按预期工作。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><p id="a402" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们建立了一个新的PreactJS项目，一切就绪——Typescript和SCSS用于较大的项目，MobX/Provider用于管理我们的全局状态。你可以在下面我的Github repo中找到完整的代码，希望这篇文章对你开始使用Preact有所帮助。<br/>干杯！🍻</p><h1 id="1a77" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">参考</h1><div class="oh oi gp gr oj ok"><a href="https://github.com/Cerwyn/preact-complete-boilerplate" rel="noopener  ugc nofollow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">cer wyn/preact-完整-样板文件</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">在GitHub上创建一个帐户，为cer wyn/preact-complete-boilerplate开发做出贡献。</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">github.com</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy jw ok"/></div></div></a></div><div class="oh oi gp gr oj ok"><a href="https://preactjs.com" rel="noopener  ugc nofollow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">提前</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">快速3kB替代方案，可与相同的现代API一起使用开始切换到Preact函数Counter ( ) { const…</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">preactjs.com</p></div></div><div class="ot l"><div class="oz l ov ow ox ot oy jw ok"/></div></div></a></div><div class="oh oi gp gr oj ok"><a href="https://serokell.io/blog/why-typescript" rel="noopener  ugc nofollow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">为什么您应该在2021年使用TypeScript</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">近几年来，TypeScript越来越受欢迎。它被列为五大最…</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">serokell.io</p></div></div><div class="ot l"><div class="pa l ov ow ox ot oy jw ok"/></div></div></a></div><div class="oh oi gp gr oj ok"><a href="https://medium.com/swlh/react-vs-vue-js-vs-preact-which-one-should-you-use-d3b3ba809ec1" rel="noopener follow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">react vs vue . js vs Preact——你应该用哪个？</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">从性能角度来看，您应该选择哪种Web框架。</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">medium.com</p></div></div><div class="ot l"><div class="pb l ov ow ox ot oy jw ok"/></div></div></a></div><p id="778b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ny">更多内容看</em><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="ny">plain English . io</em></strong></a></p></div></div>    
</body>
</html>