<html>
<head>
<title>How to Implement Navigation in React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React Native中实现导航</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/navigation-in-react-native-4dfdd2c3ff22?source=collection_archive---------18-----------------------#2021-06-14">https://javascript.plainenglish.io/navigation-in-react-native-4dfdd2c3ff22?source=collection_archive---------18-----------------------#2021-06-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e48d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用React Navigation，React Native中唯一完美的导航库。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/450af618ecfb902323c9d787ef7ac7bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0ZLYsq0MPDzXKo_A"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@rocinante_11?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mick Haupt</a> on <a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="2386" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在后台</h2><p id="9729" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">故事从我们的产品需要导航一个React本地应用开始。对于是选择内置库还是创建自定义选项卡导航，我们感到非常困惑。如果你阅读React原生文档，你会发现React原生导航比任何其他或定制的UI库都更受欢迎。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="4dac" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">概观</h2><p id="2a40" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">所以在今天的故事中，我们将在react原生项目中安装react-navigation，并创建一个样板文件。</p><p id="8c07" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是我们为自己创建基本样板文件的步骤——</p><ul class=""><li id="55b9" class="mh mi iq jp b jq jr ju jv jy mj kc mk kg ml kk mm mn mo mp bi translated">创建基本的react-native项目。</li><li id="dbea" class="mh mi iq jp b jq mq ju mr jy ms kc mt kg mu kk mm mn mo mp bi translated">安装react-native-导航库。</li><li id="ad87" class="mh mi iq jp b jq mq ju mr jy ms kc mt kg mu kk mm mn mo mp bi translated">安装所有必需的react-native-navigation依赖项。</li><li id="c343" class="mh mi iq jp b jq mq ju mr jy ms kc mt kg mu kk mm mn mo mp bi translated">开发基本的堆栈导航页面和底部选项卡导航。</li></ul><p id="ffdb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">按照上面的步骤，我们的样板文件就准备好了。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="75a8" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">编写代码</h2><p id="2581" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">不浪费任何时间，让我们通过创建一个react-native基本项目来继续这个故事。您可以使用下面的命令创建基本的react-native存储库。</p><pre class="km kn ko kp gt mv mw mx my aw mz bi"><span id="a88c" class="lc ld iq mw b gy na nb l nc nd">npx react-native init AwesomeProject</span></pre><p id="9109" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将为您创建react-native样板文件，从而节省大量手动创建的时间。接下来的步骤是下载react-native-navigation及其对等依赖项。</p><pre class="km kn ko kp gt mv mw mx my aw mz bi"><span id="8688" class="lc ld iq mw b gy na nb l nc nd">yarn add @react-navigation/native</span></pre><p id="5390" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它的对等依赖项可以使用下面的命令下载。</p><pre class="km kn ko kp gt mv mw mx my aw mz bi"><span id="634c" class="lc ld iq mw b gy na nb l nc nd">yarn add react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context @react-native-community/masked-view</span></pre><p id="816b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我知道有很多包实际上反应了本地导航需要手势处理器，屏蔽视图和安全区域作为一个包来提供点击事件，幻灯片和屏蔽和标签事件。<a class="ae lb" href="https://reactnavigation.org/docs/getting-started" rel="noopener ugc nofollow" target="_blank">点击此处</a>可了解更多详情。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="352f" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">React本机导航的核心概念</h2><p id="31ba" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">React Native Navigation将应用程序的每个屏幕都存储在一个堆栈数据结构中，这意味着最后出现的将首先出现。这意味着如果我们从屏幕A移动到屏幕B，那么我们在导航堆栈中推动屏幕A，然后推动屏幕B。</p><p id="5c8a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这种情况下，我们的导航堆栈将首先移除屏幕B以返回到屏幕A，这发生在用户单击屏幕B上的后退按钮(硬件或UI后退)以到达屏幕A时。</p><p id="9af1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">理解这个概念有助于你编写在屏幕间导航的代码。这个概念是react-navigation的核心用例，<a class="ae lb" href="https://reactnavigation.org/docs/navigating" rel="noopener ugc nofollow" target="_blank">你可以从这个链接了解更多。</a></p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="a88d" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">创建第一个导航堆栈</h2><p id="c11d" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">因为我们知道堆栈和屏幕是如何协同工作的。我们可以通过创建两个屏幕并将其添加到导航堆栈，然后在屏幕之间导航来了解更多信息。</p><p id="2663" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">React Native Navigation提供了简单的导航HOC(高阶组件),并创建了堆栈导航器方法，分别用使用堆栈导航器方法开发的所有堆栈屏幕来包装我们的mobile父组件。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ne"><img src="../Images/b384cb31b06ddde476aeeb5ad9a4dcf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZdkC48K2_Cwwf3LrLWPZSw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">The Login and Home screen Flow</figcaption></figure><p id="0c0e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了简单起见，我给你看一下代码。我们有两个屏幕，例如，登录屏幕和主屏幕，在这种情况下，当然，我们将在有效的身份验证过程后从登录屏幕导航到主屏幕。</p><p id="890e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我们的双栈屏幕将是登录和主屏幕，我们需要通过react-native导航将它包装在导航容器和HOC提供程序中，因此我们的代码将如下所示</p><pre class="km kn ko kp gt mv mw mx my aw mz bi"><span id="5d81" class="lc ld iq mw b gy na nb l nc nd">import { LoginScreen, HomeScreen } from './screens'; <br/>import { NavigationContainer,  createStackNavigator } from '@react-navitation/native';</span><span id="965a" class="lc ld iq mw b gy nf nb l nc nd">const App = () =&gt; {</span><span id="c305" class="lc ld iq mw b gy nf nb l nc nd">   const Stack = createStackNavigator();<br/>   return (<br/>       &lt;NavigationContainer&gt;<br/>         &lt;Stack.Screen name="Login" component={LoginScreen} /&gt;   <br/>         &lt;Stack.Screen name="Home" component={HomeScreen}<br/>       &lt;/NavigationContainer&gt;<br/>   );<br/>};<br/>export default App;</span></pre><p id="4f5e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你仍然觉得这段代码很难，那么你应该再读一遍这个概念，所以继续读一遍如何创建堆栈和添加屏幕的概念。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="6e6c" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在屏幕间导航</h2><p id="a023" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">下一步是我们将如何在我们的登录和主屏幕之间导航。嗯，如果你看到我们为登录和主屏幕创建的堆栈，我们已经添加了一个名为name的属性。name prop将定义导航到哪个屏幕，或者在我们的导航堆栈上显示或推送哪个屏幕。并且对应于名称本身的组件将被显示或呈现。</p><p id="2496" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，如果您使用react-native-navigation提供的导航方法导航到登录堆栈，在这种情况下，您实际上是告诉我们的应用程序呈现<strong class="jp ir"> LoginScreen </strong>组件，并将其显示为活动屏幕。类似地，在Home栈的情况下，导航到Home这个名称会将我们的主屏幕显示为一个活动屏幕或组件。</p><p id="2a35" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们通常用来在屏幕间导航的方法被称为“<strong class="jp ir">导航”。</strong>这是NavgiationContainer中包装的所有堆栈屏幕的道具。<strong class="jp ir"> </strong>这意味着我们的登录屏幕和主屏幕将会有导航作为道具<strong class="jp ir">。</strong></p><p id="ffd4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">导航属性有一个名为navigate的方法，它接受第一个参数作为要导航的屏幕的名称。在我们的例子中，由于我们最初将在登录屏幕中，所以我们希望导航到我们的主屏幕，因此我们将提供堆栈屏幕的名称作为第一个参数。</p><pre class="km kn ko kp gt mv mw mx my aw mz bi"><span id="b9e0" class="lc ld iq mw b gy na nb l nc nd">// When you are inside Login screen and want to navigate to Home screen</span><span id="4675" class="lc ld iq mw b gy nf nb l nc nd">navgiation.navigate("Home")</span><span id="6873" class="lc ld iq mw b gy nf nb l nc nd">// We will call this method when onPress is triggered inside our Login screen</span></pre><p id="05db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，如果您在主屏幕上，那么我们可以使用navigation.navigate函数返回登录屏幕，或者我们可以简单地使用navigation.goBack方法返回上一个屏幕。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="8482" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">添加底部选项卡导航</h2><p id="b2d2" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">添加底部标签导航可能看起来有点棘手，但实际上，它也很容易。让我解释给你听。。</p><p id="83fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将底部选项卡屏幕视为包含底部选项卡和嵌套屏幕的单个屏幕。例如，在我们的例子中，我们的主屏幕上有两个底部标签，如下所示。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ne"><img src="../Images/a2527d219d40ee333569141e5921af7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jSZGWL-qF0rUbfPCy21y1A.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Our Home screen a bottom tabs showing 2 screens</figcaption></figure><p id="1d32" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们的例子中，我们有两个屏幕，一个是主屏幕，另一个是下一个选项卡屏幕，称为个人资料屏幕。</p><p id="4836" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">React导航提供了一种方法来声明所有屏幕将成为底部选项卡屏幕的一部分。使用createBottomTabNavigator，我们将实际上向导航堆栈声明选项卡屏幕。</p><pre class="km kn ko kp gt mv mw mx my aw mz bi"><span id="715a" class="lc ld iq mw b gy na nb l nc nd">import { LoginScreen, HomeScreen } from './screens'; <br/>import { NavigationContainer,  createStackNavigator } from '@react-navitation/native';<br/>import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';</span><span id="b55c" class="lc ld iq mw b gy nf nb l nc nd">const App = () =&gt; {<br/>  const Tab = createBottomTabNavigator();<br/>  const Stack = createStackNavigator();<br/>   return (<br/>       &lt;Tab.Navigator&gt;<br/>        &lt;Tab.Screen <em class="ng">name</em>="Home" <em class="ng">component</em>={HomeScreen} /&gt;<br/>        &lt;Tab.Screen <em class="ng">name</em>="Profile" <em class="ng">component</em>={ProfileScreen} /&gt;  &lt;/Tab.Navigator&gt;</span><span id="e80d" class="lc ld iq mw b gy nf nb l nc nd"> );<br/>};</span><span id="851e" class="lc ld iq mw b gy nf nb l nc nd">export default App;</span></pre><p id="e0e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在底部选项卡中，我们不需要添加任何印刷机导航步骤。React导航将自动理解并创建一个底部标签，并添加新闻属性到我们的底部标签。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="fefd" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">最终产品</h2><p id="e240" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">无论哪个屏幕是单个屏幕，都将注册为堆栈屏幕，无论哪个屏幕是底部选项卡的一部分，都将注册为选项卡屏幕。请记住，需要将每个屏幕(tab和stack screen)包装在NavigationContainer HOC中，如下所示。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="ab23" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">结论</h2><p id="670b" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我们已经开发了大量这种具有完美架构的样板文件，可以在下面的链接中找到。此外，如果你对我要开发的样板文件有任何个人要求，请在评论区告诉我。</p><pre class="km kn ko kp gt mv mw mx my aw mz bi"><span id="414b" class="lc ld iq mw b gy na nb l nc nd">Our complete boilerplates library - <a class="ae lb" href="www.ihatereading.in/repos" rel="noopener ugc nofollow" target="_blank"><strong class="mw ir">iHateReading Boilerplates</strong></a></span></pre></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="2b8a" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">更多阅读——</h2><div class="nh ni gp gr nj nk"><a href="https://medium.com/nerd-for-tech/basic-imperative-underrated-node-js-packages-c02deb8c3ecc" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">基本、必要和被低估的节点JS包。</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">在专业开发中广泛使用的API开发有用包。</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">medium.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kv nk"/></div></div></a></div><div class="nh ni gp gr nj nk"><a rel="noopener  ugc nofollow" target="_blank" href="/creating-your-own-boilerplate-f28725568018"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">如何用一个函数创建整个前端样板文件？</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">自动化创建前端样板文件的重复过程。</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nt l"><div class="nz l nv nw nx nt ny kv nk"/></div></div></a></div><div class="nh ni gp gr nj nk"><a rel="noopener  ugc nofollow" target="_blank" href="/adding-splashscreen-to-react-native-app-f688b664e6e9"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">如何向React本机应用程序添加闪屏</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">添加闪屏，显示徽标，并在后台读取必要的数据，同时显示闪屏给…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nt l"><div class="oa l nv nw nx nt ny kv nk"/></div></div></a></div><p id="9e83" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ng">更多内容尽在</em><a class="ae lb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ng">plain English . io</em></a></p></div></div>    
</body>
</html>