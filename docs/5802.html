<html>
<head>
<title>Create a Ping-Pong Game using React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React创建一个乒乓球游戏</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-ping-pong-game-using-react-2d78c8e1cd9b?source=collection_archive---------0-----------------------#2021-12-10">https://javascript.plainenglish.io/create-ping-pong-game-using-react-2d78c8e1cd9b?source=collection_archive---------0-----------------------#2021-12-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a63e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用React制作乒乓球游戏的快速指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/07dd1adb03a109b5b2924b116f472ff3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AgWkx2d_jwMV5WHGer3oyQ.png"/></div></div></figure><p id="ac28" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">乒乓球是一种简单的类似网球的游戏。球在坐在棋盘对面的两名球员之间传递。对手每错过一次传球，球员就得一分。在本文中，我们将使用react来创建游戏。如果您在任何地方遇到困难，那么请参考此处的<a class="ae ln" href="https://github.com/umangshrestha/ping-pong" rel="noopener ugc nofollow" target="_blank">获取源代码。让我们从创建react应用程序开始:</a></p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="9004" class="lt lu iq lp b gy lv lw l lx ly">$ npx create-react-app ping-pong</span></pre><h1 id="3e74" class="lz lu iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">模板</h1><p id="5c7f" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">我们将在应用程序中使用的模板。我们将在文章中自然地定义这些函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="593a" class="lz lu iq bd ma mb ne md me mf nf mh mi jw ng jx mk jz nh ka mm kc ni kd mo mp bi translated">状态</h1><p id="01ad" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">我们将为我们的状态使用以下参数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="e93f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">给我们游戏的默认状态。它由两个可以由玩家控制的桨组成。每个桨的长度都是<code class="fe nj nk nl lp b">PADDLE_BOARD_SIZE</code>并且远离边缘<code class="fe nj nk nl lp b">PADDLE_EDGE_SPACE</code>。</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="cd96" class="lt lu iq lp b gy lv lw l lx ly"><strong class="lp ir">const</strong> <!-- -->PADDLE_BOARD_SIZE<!-- --> = 3;<br/><strong class="lp ir">const</strong> <!-- -->PADDLE_EDGE_SPACE<!-- --> = 1;</span></pre><p id="486a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">球的状态是动态的。在每个<code class="fe nj nk nl lp b">ballSpeed</code>持续时间后，<code class="fe nj nk nl lp b">deltaX</code>和<code class="fe nj nk nl lp b">deltaY</code>位置的变化。球的当前位置是球。</p><p id="9f63" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们还有一个状态来存储玩家和对手的分数。</p><p id="56dc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当游戏被重置时，我们将把球带回中心。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="e631" class="lz lu iq bd ma mb ne md me mf nf mh mi jw ng jx mk jz nh ka mm kc ni kd mo mp bi translated">板</h1><p id="3a2b" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">棋盘是一个由<code class="fe nj nk nl lp b">ROW_SIZE</code>和<code class="fe nj nk nl lp b">COL_SIZE</code>组成的二维数组，将被表示为一个JSON数组。</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="dce7" class="lt lu iq lp b gy lv lw l lx ly"><strong class="lp ir">const</strong> ROW_SIZE = 10<br/><strong class="lp ir">const</strong> COL_SIZE = 20<br/><strong class="lp ir">const</strong> board = [...Array(ROW_SIZE * COL_SIZE)]</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/083bd02fdd720278af8b53b4cc8cda81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xf-BQGpQDtgPDTPUuOTDqw.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk">How array will be displayed</figcaption></figure><p id="f7f6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用下面的CSS使1d数组看起来像2d网格。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="1aef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">JSON数组中的每个元素将被表示为一个棋盘。让我们为它创建一个JSX。</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="7b2a" class="lt lu iq lp b gy lv lw l lx ly">$ mkdir src/components<br/>$ touch src/components/box.js</span></pre><p id="f442" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该框将根据数组中给定位置的值来表示背景、球员和球。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div><figcaption class="nn no gj gh gi np nq bd b be z dk">box component</figcaption></figure><p id="d2b7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里，我们为box取一个参数名，它可以是<code class="fe nj nk nl lp b">BACKGROUND</code>、<code class="fe nj nk nl lp b">PADDLE</code>或<code class="fe nj nk nl lp b">BALL</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div><figcaption class="nn no gj gh gi np nq bd b be z dk">get style</figcaption></figure><p id="f178" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为我们将元素封装在背景中，所以不需要为<code class="fe nj nk nl lp b">background</code>发送额外的样式。这里，<code class="fe nj nk nl lp b">playerStyle</code>、<code class="fe nj nk nl lp b">ballStyle</code>分别是代表球员和球的CSS。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div><figcaption class="nn no gj gh gi np nq bd b be z dk">css</figcaption></figure><p id="7c3d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我们渲染图像时，我们需要将类型分配给盒子。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/7818a326a583611f1fd86d36b0e802d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ScVO0sJJbS_TbqjbBFKcsw.png"/></div></div></figure><p id="a0c9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">inner的CSS是:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="f300" class="lz lu iq bd ma mb ne md me mf nf mh mi jw ng jx mk jz nh ka mm kc ni kd mo mp bi translated">冲突检出</h1><p id="7f43" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">球的位置决定了状态变量。请参考下图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/031c397610850cf44ea29ffc09a21a54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ssDF29OAAWSVeDfaeKjvSg.png"/></div></div></figure><p id="4a1c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果球碰到顶部和底部边缘或碰到对手或球员的棋盘，球应该会反弹。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="1f18" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果球碰到左右边缘，游戏就结束了</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="6e92" class="lz lu iq bd ma mb ne md me mf nf mh mi jw ng jx mk jz nh ka mm kc ni kd mo mp bi translated">拍球</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/4e08815fceb6b763ef832f4882ea0d5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*YFxwFFOKJfqTbrSBFYSIXQ.png"/></div><figcaption class="nn no gj gh gi np nq bd b be z dk">ball movement</figcaption></figure><p id="e271" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">球的新状态是<code class="fe nj nk nl lp b">current state + deltaX + deltaY</code>。</p><ul class=""><li id="3872" class="nu nv iq kt b ku kv kx ky la nw le nx li ny lm nz oa ob oc bi translated">如果球接触到边缘,<code class="fe nj nk nl lp b">deltaY</code>会改变。</li><li id="530e" class="nu nv iq kt b ku od kx oe la of le og li oh lm nz oa ob oc bi translated">如果球接触到棋盘，则<code class="fe nj nk nl lp b">deltaX</code>发生变化。</li><li id="8e00" class="nu nv iq kt b ku od kx oe la of le og li oh lm nz oa ob oc bi translated">如果球碰到左右边缘，游戏就结束了。然后我们重置棋盘，给玩家加一分。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="af0c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在让球不断改变方向。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><h1 id="273d" class="lz lu iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">移动桨</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/eefafc17a278a907f77584f02b1b34ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:402/format:webp/1*Wruh2lIMFVD0y2vGBOmP_g.png"/></div></figure><p id="04fd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该桨将基于用户输入。桨的新状态是<code class="fe nj nk nl lp b">current state + deltaY</code>。</p><ul class=""><li id="708f" class="nu nv iq kt b ku kv kx ky la nw le nx li ny lm nz oa ob oc bi translated">如果木板碰到了边缘，不要动。</li><li id="59ae" class="nu nv iq kt b ku od kx oe la of le og li oh lm nz oa ob oc bi translated">如果木板碰到了边缘，不要动。</li><li id="eb88" class="nu nv iq kt b ku od kx oe la of le og li oh lm nz oa ob oc bi translated">如果球在移动中碰到了棋盘，改变球的方向。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="c491" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果位置可以改变，上面的函数返回一个数组。否则它将返回false。因为拨片的状态取决于用户，所以我们需要一个函数来处理用户的输入。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="4221" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在将函数绑定到键输入。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="4f97" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，您可以使用以下代码运行代码:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="e69e" class="lt lu iq lp b gy lv lw l lx ly">$ npm start</span></pre></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="b526" class="lz lu iq bd ma mb ne md me mf nf mh mi jw ng jx mk jz nh ka mm kc ni kd mo mp bi translated">参考</h1><p id="7c23" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">创建乒乓球游戏的教程到此结束。希望你觉得有用。有关更多相关信息，请参考以下链接。</p><ol class=""><li id="a625" class="nu nv iq kt b ku kv kx ky la nw le nx li ny lm oj oa ob oc bi translated">演示:<a class="ae ln" href="https://umangshrestha.github.io/ping-pong/" rel="noopener ugc nofollow" target="_blank">https://umangshrestha.github.io/ping-pong/</a></li><li id="69a7" class="nu nv iq kt b ku od kx oe la of le og li oh lm oj oa ob oc bi translated">源代码:<a class="ae ln" href="https://github.com/umangshrestha/ping-pong" rel="noopener ugc nofollow" target="_blank">https://github.com/umangshrestha/ping-pong</a></li></ol><p id="f931" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">关于类似的文章，请参考:</p><ol class=""><li id="db0f" class="nu nv iq kt b ku kv kx ky la nw le nx li ny lm oj oa ob oc bi translated"><a class="ae ln" href="https://medium.com/geekculture/create-tic-tac-toe-in-react-js-and-host-it-in-github-bb0bbec4867b" rel="noopener">使用React </a>创建井字游戏</li><li id="62d9" class="nu nv iq kt b ku od kx oe la of le og li oh lm oj oa ob oc bi translated"><a class="ae ln" rel="noopener ugc nofollow" target="_blank" href="/create-snake-game-in-react-10d7ddbff52f?source=your_stories_page----------------------------------------">使用React创建贪吃蛇游戏</a></li><li id="16cd" class="nu nv iq kt b ku od kx oe la of le og li oh lm oj oa ob oc bi translated"><a class="ae ln" rel="noopener ugc nofollow" target="_blank" href="/create-snake-game-in-react-10d7ddbff52f?source=your_stories_page----------------------------------------">使用React创建俄罗斯方块</a></li><li id="bdfa" class="nu nv iq kt b ku od kx oe la of le og li oh lm oj oa ob oc bi translated"><a class="ae ln" href="https://umangshrestha09.medium.com/create-ping-pong-game-using-react-2d78c8e1cd9b" rel="noopener">使用React创建乒乓球游戏</a></li></ol><p id="fc8f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ok">更多内容看</em> <a class="ae ln" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="ok">说白了就是</em> </strong> </a> <strong class="kt ir"> <em class="ok">。</em> </strong> <em class="ok">报名参加我们的</em> <a class="ae ln" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="ok">免费每周简讯这里</em> </strong> </a> <strong class="kt ir"> <em class="ok">。</em> </strong></p></div></div>    
</body>
</html>