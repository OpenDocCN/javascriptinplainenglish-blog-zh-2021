<html>
<head>
<title>How to Remove Duplicates from an Array or Array of Objects in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中删除数组或对象数组中的重复项</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-remove-duplicates-from-an-array-or-array-of-objects-in-javascript-b35af7520c94?source=collection_archive---------2-----------------------#2021-08-17">https://javascript.plainenglish.io/how-to-remove-duplicates-from-an-array-or-array-of-objects-in-javascript-b35af7520c94?source=collection_archive---------2-----------------------#2021-08-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7184" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">JavaScript面试问题2021</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/658f1b1e8b8d60233eb4930814bc0d14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7f_esnvM5Yh3bXm2"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@matthewhenry?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Matthew Henry</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fcac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可能做了很长时间的JavaScript开发，但有时你可能没有更新最新的特性，这些特性可以在不做或编写额外代码的情况下解决你的问题。</p><p id="6e6f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里，我将带来一篇新文章，介绍一些从数组和对象数组中删除重复项的方法。这些技巧可以成为你2021年JavaScript编码面试中的一块小石头。</p><blockquote class="ls lt lu"><p id="94ef" class="kw kx lv ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">我知道小石头没什么区别，但如果我们有成千上万的石头，就有区别了，为此我明天会带新石头来。敬请期待😉</p></blockquote><p id="a607" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可能总会遇到这样或那样的方法来从数组或对象数组中删除重复项。下面是五种不同的方法，我们可以删除其中的重复。</p><p id="2d34" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="lv">让我们创建将在本文中使用的测试数据。</em></p><p id="3437" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">测试数据:</strong></p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="dca9" class="me mf iq ma b gy mg mh l mi mj">var users = [</span><span id="1d19" class="me mf iq ma b gy mk mh l mi mj">{ id: 1, name: "ted" },</span><span id="e9a5" class="me mf iq ma b gy mk mh l mi mj">{ id: 1, name: "ted" },</span><span id="ba4a" class="me mf iq ma b gy mk mh l mi mj">{ id: 1, name: "bob" },</span><span id="7a44" class="me mf iq ma b gy mk mh l mi mj">{ id: 3, name: "sara" },</span><span id="7f29" class="me mf iq ma b gy mk mh l mi mj">{ id: 4, name: "test" },</span><span id="eaa3" class="me mf iq ma b gy mk mh l mi mj">{ id: 4, name: "test" },</span><span id="08ea" class="me mf iq ma b gy mk mh l mi mj">{ id: 5, name: "abc" },</span><span id="7943" class="me mf iq ma b gy mk mh l mi mj">{ id: 6, name: "abc" },</span><span id="db56" class="me mf iq ma b gy mk mh l mi mj">{ id: 7, name: "test2" },</span><span id="61ab" class="me mf iq ma b gy mk mh l mi mj">{ id: 8, name: "test1" },</span><span id="c89c" class="me mf iq ma b gy mk mh l mi mj">{ id: 8, name: "test1" }</span><span id="720f" class="me mf iq ma b gy mk mh l mi mj">];</span><span id="8c07" class="me mf iq ma b gy mk mh l mi mj">var array = [2, 1, 2, 5, 6, 7, 8, 9, 9, 10];</span></pre><p id="3a38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">我创建了三个不同的场景来讲述这个话题</strong></p><ol class=""><li id="ef26" class="ml mm iq ky b kz la lc ld lf mn lj mo ln mp lr mq mr ms mt bi translated">唯一数组</li><li id="53a9" class="ml mm iq ky b kz mu lc mv lf mw lj mx ln my lr mq mr ms mt bi translated">按属性排列的唯一对象数组</li><li id="91a9" class="ml mm iq ky b kz mu lc mv lf mw lj mx ln my lr mq mr ms mt bi translated">唯一的对象数组</li></ol><h1 id="523b" class="mz mf iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">1.洛达什</h1><p id="3549" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">在找到解决方案之前，让我们先了解lodash提供的一些制作独特数组的方法。</p><p id="20da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nv nw nx ma b"><strong class="ky ir">_.uniq(array)</strong></code> <strong class="ky ir">将创建唯一的数组</strong></p><p id="7e87" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nv nw nx ma b"><strong class="ky ir">_.uniqBy(array, [iteratee=_.identity])</strong></code> <strong class="ky ir">可以通过属性获取唯一值</strong></p><p id="5b54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nv nw nx ma b"><strong class="ky ir">_.uniqWith(array, [comparator])</strong></code> <strong class="ky ir">可以通过比较器获得唯一性</strong></p><p id="ce6f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="lv">我们来看看解决方案。</em>T25】</strong></p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="0956" class="me mf iq ma b gy mg mh l mi mj">var uniqueUsersByID = _.uniqBy(users, "id"); <br/>//removed if had duplicate id</span><span id="64b9" class="me mf iq ma b gy mk mh l mi mj">var uniqueUsers = _.uniqWith(users, _.isEqual); <br/>//removed complete duplicates</span><span id="bf8f" class="me mf iq ma b gy mk mh l mi mj">const uniquewithMultipleProperties = _.uniqWith(<br/>    users,<br/>    (a, b) =&gt; a.id === b.id || a.name === b.name<br/>);</span><span id="1267" class="me mf iq ma b gy mk mh l mi mj">var result = _.uniqBy(users, v =&gt; [v.id, v.name].join());</span><span id="4a67" class="me mf iq ma b gy mk mh l mi mj">var av = _(users)<br/>    .uniqBy(v =&gt; [v.id, v.name].join())<br/>    .value();</span><span id="4b3a" class="me mf iq ma b gy mk mh l mi mj">var arrayuniq = _.uniq(array);</span><span id="4879" class="me mf iq ma b gy mk mh l mi mj">console.log("loadash array unique", arrayuniq);<br/>//<em class="lv">[2, 1, 5, 6, 7, 8, 9, 10]</em></span><span id="ff54" class="me mf iq ma b gy mk mh l mi mj">console.log("loadash unique with id", JSON.stringify(uniqueUsersByID));<br/>//[{"id":1,"name":"ted"},{"id":3,"name":"sara"},{"id":4,"name":"test"},{"id":5,"name":"abc"}]</span><span id="f6da" class="me mf iq ma b gy mk mh l mi mj">console.log("loadash unique", JSON.stringify(uniqueUsers));<br/>//[{"id":1,"name":"ted"},{"id":1,"name":"bob"},{"id":3,"name":"sara"},{"id":4,"name":"test"},{"id":5,"name":"abc"}]</span></pre><h1 id="8c39" class="mz mf iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">2.过滤器</h1><p id="7554" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated"><code class="fe nv nw nx ma b"><strong class="ky ir">filter</strong></code> <strong class="ky ir">可以为新数组提供过滤后的值</strong></p><p id="6918" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nv nw nx ma b"><strong class="ky ir">findIndex</strong></code> <strong class="ky ir">返回满足条件的指标</strong></p><p id="7383" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="lv">我们来看看解决方案。</em> </strong></p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="3e64" class="me mf iq ma b gy mg mh l mi mj">var filteruniquebyID = users.filter(<br/>    (v, i, a) =&gt; a.findIndex(t =&gt; t.id === v.id) === i<br/>);</span><span id="9487" class="me mf iq ma b gy mk mh l mi mj">var filteruniquebyIDName = users.filter(<br/>    (v, i, a) =&gt; a.findIndex(t =&gt; t.id === v.id || t.name === v.name) === i<br/>);</span><span id="06a6" class="me mf iq ma b gy mk mh l mi mj">var filteruniquebyIDName1 = users.filter(<br/>    (v, i, a) =&gt; a.findIndex(t =&gt; JSON.stringify(t) === JSON.stringify(v)) === i<br/>);</span><span id="034c" class="me mf iq ma b gy mk mh l mi mj">var list = array.filter((x, i, a) =&gt; a.indexOf(x) == i);</span><span id="1b8a" class="me mf iq ma b gy mk mh l mi mj">console.log("array unique", list);<br/>//<em class="lv">[2, 1, 5, 6, 7, 8, 9, 10]</em></span><span id="13b0" class="me mf iq ma b gy mk mh l mi mj">console.log("filter unique with id", JSON.stringify(filteruniquebyID));<br/>//[{"id":1,"name":"ted"},{"id":3,"name":"sara"},{"id":4,"name":"test"},{"id":5,"name":"abc"}]</span><span id="2606" class="me mf iq ma b gy mk mh l mi mj">console.log("filter unique", JSON.stringify(filteruniquebyIDName1));<br/>//[{"id":1,"name":"ted"},{"id":1,"name":"bob"},{"id":3,"name":"sara"},{"id":4,"name":"test"},{"id":5,"name":"abc"}]</span></pre><h1 id="9ca8" class="mz mf iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">3.地图</h1><p id="dbbe" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated"><code class="fe nv nw nx ma b"><strong class="ky ir">map</strong></code> <strong class="ky ir">通过迭代创建新数组</strong></p><p id="e5e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nv nw nx ma b"><strong class="ky ir">reduce</strong></code> <strong class="ky ir">缩小阵列，提供单输出</strong></p><p id="1f9c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="lv">我们来看看解决方案。</em>T41】</strong></p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="bf46" class="me mf iq ma b gy mg mh l mi mj">function getUniqueListBy(arr, key) {<br/>    return [...new Map(arr.map(item =&gt; [item[key], item])).values()];<br/>}</span><span id="6fc8" class="me mf iq ma b gy mk mh l mi mj">const arr1 = getUniqueListBy(users, "id");<br/>var reduced = [...array.reduce((p, c) =&gt; p.set(c, true), new Map()).keys()];</span><span id="0a75" class="me mf iq ma b gy mk mh l mi mj">const arr2 = getUniqueListBy(users, "name");<br/>let q = [...new Map(users.map(obj =&gt; [JSON.stringify(obj), obj])).values()];</span><span id="a64a" class="me mf iq ma b gy mk mh l mi mj">console.log("array unique", reduced);<br/>//<em class="lv">[2, 1, 5, 6, 7, 8, 9, 10]</em></span><span id="b347" class="me mf iq ma b gy mk mh l mi mj">console.log("Map unique with id ", JSON.stringify(arr1));<br/>//[{"id":1,"name":"bob"},{"id":3,"name":"sara"},{"id":4,"name":"test"},{"id":5,"name":"abc"}]</span><span id="9d16" class="me mf iq ma b gy mk mh l mi mj">console.log("map unique", q);<br/>//[{"id":1,"name":"ted"},{"id":1,"name":"bob"},{"id":3,"name":"sara"},{"id":4,"name":"test"},{"id":5,"name":"abc"}]</span></pre><h1 id="65ba" class="mz mf iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">4.一组</h1><p id="de2c" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated"><code class="fe nv nw nx ma b"><strong class="ky ir">Array.from</strong></code> <strong class="ky ir">从对象</strong>创建数组的浅拷贝</p><p id="94a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="lv">我们来看看解决方案。</em>T47】</strong></p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="e3b8" class="me mf iq ma b gy mg mh l mi mj">var setuniq = [...new Set(array)];</span><span id="0256" class="me mf iq ma b gy mk mh l mi mj">var set1 = Array.from(<br/>    users.reduce((m, t) =&gt; m.set(t.id, t), new Map()).values()<br/>);</span><span id="48e9" class="me mf iq ma b gy mk mh l mi mj">const uniq = new Set(users.map(e =&gt; JSON.stringify(e)));</span><span id="e95d" class="me mf iq ma b gy mk mh l mi mj">const set2 = Array.from(uniq).map(e =&gt; JSON.parse(e));</span><span id="1750" class="me mf iq ma b gy mk mh l mi mj">console.log("set array unique", setuniq);<br/>//<em class="lv">[2, 1, 5, 6, 7, 8, 9, 10]</em></span><span id="2807" class="me mf iq ma b gy mk mh l mi mj">console.log("set unique with id",JSON.stringify( set1));<br/>//[{"id":1,"name":"bob"},{"id":3,"name":"sara"},{"id":4,"name":"test"},{"id":5,"name":"abc"}]</span><span id="c40e" class="me mf iq ma b gy mk mh l mi mj">console.log("set unique", JSON.stringify(set2));<br/>//[{"id":1,"name":"ted"},{"id":1,"name":"bob"},{"id":3,"name":"sara"},{"id":4,"name":"test"},{"id":5,"name":"abc"}]</span></pre><h1 id="7764" class="mz mf iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">5.减少</h1><p id="2d25" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated"><strong class="ky ir"> <em class="lv">我们来看看解决方案。</em>T51】</strong></p><pre class="kg kh ki kj gt lz ma mb mc aw md bi"><span id="f413" class="me mf iq ma b gy mg mh l mi mj">var reduce = users.reduce((unique, o) =&gt; {<br/>    if (!unique.some(obj =&gt; obj.id === o.id &amp;&amp; obj.name === o.name)) {<br/>        unique.push(o);<br/>    }<br/>    return unique;<br/>}, []);</span><span id="b10e" class="me mf iq ma b gy mk mh l mi mj">const uniqify = (array, key) =&gt;<br/>    array.reduce(<br/>        (prev, curr) =&gt;<br/>        prev.find(a =&gt; a[key] === curr[key]) ? prev : prev.push(curr) &amp;&amp; prev,<br/>        []<br/>    );<br/>const reduce2 = uniqify(users, "id");</span><span id="f989" class="me mf iq ma b gy mk mh l mi mj">var filtered = users.reduce((filtered, item) =&gt; {<br/>    if (<br/>        !filtered.some(<br/>            filteredItem =&gt; JSON.stringify(filteredItem) == JSON.stringify(item)<br/>        )<br/>    )<br/>        filtered.push(item);<br/>    return filtered;<br/>}, []);</span><span id="c8da" class="me mf iq ma b gy mk mh l mi mj">console.log("reduce array unique", reduce2);<br/>//[{"id":1,"name":"ted"},{"id":3,"name":"sara"},{"id":4,"name":"test"},{"id":5,"name":"abc"}]</span><span id="c105" class="me mf iq ma b gy mk mh l mi mj">console.log("reduce unique with id", JSON.stringify(reduce));<br/>//[{"id":1,"name":"ted"},{"id":1,"name":"bob"},{"id":3,"name":"sara"},{"id":4,"name":"test"},{"id":5,"name":"abc"}]</span><span id="5015" class="me mf iq ma b gy mk mh l mi mj">console.log("reduce unique", JSON.stringify(filtered));<br/>//[{"id":1,"name":"ted"},{"id":1,"name":"bob"},{"id":3,"name":"sara"},{"id":4,"name":"test"},{"id":5,"name":"abc"}]</span></pre><p id="40b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是stackblitz的例子。</p><p id="7151" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://stackblitz.com/edit/remove-duplicates-arrayofobjects?file=index.ts" rel="noopener ugc nofollow" target="_blank">https://stack blitz . com/edit/remove-duplicates-arrayofobjects？file=index.ts </a></p><h2 id="e870" class="me mf iq bd na ny nz dn ne oa ob dp ni lf oc od nk lj oe of nm ln og oh no oi bi translated">性能检查</h2><p id="7df2" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated"><strong class="ky ir"> <em class="lv">注:此矩阵可根据</em> </strong>的数据变化</p><p id="7ab0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在这里玩:<a class="ae kv" href="https://jsben.ch/5jxfO" rel="noopener ugc nofollow" target="_blank">https://jsben.ch/5jxfO</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/7366fe38018735a31a9ddb7eebb2d34e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bgb9Y7OchoxuIZKkWyOymg.png"/></div></div></figure><h1 id="d1c8" class="mz mf iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">你可以在这里查看我以前的文章:</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="2faa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="lv">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="lv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>