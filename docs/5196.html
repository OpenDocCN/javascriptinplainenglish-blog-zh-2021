<html>
<head>
<title>How to Add Pagination to Your React Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何向React项目添加分页</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-add-pagination-to-your-react-project-1a3ded6971c9?source=collection_archive---------1-----------------------#2021-10-22">https://javascript.plainenglish.io/how-to-add-pagination-to-your-react-project-1a3ded6971c9?source=collection_archive---------1-----------------------#2021-10-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7f27" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">React分页教程</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/56342167f9392ad7ad488eba9733a9c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TboNlZClF6ENZZ4g.png"/></div></figure><p id="8b37" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">分页是网站中必不可少的东西。您可以使用几个简单的步骤和第三方库来添加分页。在这个项目中，我们使用React分页功能组件，并且使用React分页钩子来计算逻辑。让我们讨论如何做那件事。</p><blockquote class="lj lk ll"><p id="ce6b" class="kn ko lm kp b kq kr jr ks kt ku ju kv ln kx ky kz lo lb lc ld lp lf lg lh li ij bi translated">如果你愿意支持我成为一名作家，可以考虑加入<a class="ae lq" href="https://freelancingcult.medium.com/membership" rel="noopener">成为一名媒体成员</a>。每月只需5美元，你就可以无限制地使用Medium。</p></blockquote><p id="a3c6" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我也正在写一篇关于从头开始创建自定义分页栏的文章。保持联系，我很快会补充的。</p><p id="7177" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在本教程中，我将把分页栏添加到我之前做的一个现有项目中。通过阅读下面的文章，您可以获得启动项目和代码。</p><p id="745e" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">启动代码在下面项目的<strong class="kp ir"> Dynamic.js </strong>文件中。</p><div class="lr ls gp gr lt lu"><a href="https://replit.com/@Lahirutech/reactCards#src/App.js" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">反应卡</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">Lahirutech的Node.js repl</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">replit.com</p></div></div><div class="md l"><div class="me l mf mg mh md mi kl lu"/></div></div></a></div><p id="ce9c" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">下面是启动代码的解释。</p><div class="lr ls gp gr lt lu"><a rel="noopener  ugc nofollow" target="_blank" href="/render-react-cards-and-images-dynamically-2387434e809d"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">动态渲染反应卡和图像</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">使用JavaScript map()</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="md l"><div class="mj l mf mg mh md mi kl lu"/></div></div></a></div><p id="2e61" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">今天，我们将为上述项目添加分页。</p><p id="5413" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">对于分页，我使用一个名为react-paginate的npm包。</p><div class="lr ls gp gr lt lu"><a href="https://www.npmjs.com/package/react-paginate" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">反应-分页</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">呈现分页的ReactJS组件。通过安装这个组件，只需编写一点点CSS就可以…</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">www.npmjs.com</p></div></div><div class="md l"><div class="mk l mf mg mh md mi kl lu"/></div></div></a></div><h2 id="b07e" class="ml mm iq bd mn mo mp dn mq mr ms dp mt kw mu mv mw la mx my mz le na nb nc nd bi translated">反应分页示例</h2><p id="2330" class="pw-post-body-paragraph kn ko iq kp b kq ne jr ks kt nf ju kv kw ng ky kz la nh lc ld le ni lg lh li ij bi translated">通过浏览下面的实时项目，您可以在<strong class="kp ir"> PaginationDynamic.js </strong>页面中获得完整的项目代码。</p><div class="lr ls gp gr lt lu"><a href="https://replit.com/join/zyudmjklsg-lahirutech" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">邀请在Replit上合作</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">使用Replit多人游戏一起编码</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">replit.com</p></div></div><div class="md l"><div class="nj l mf mg mh md mi kl lu"/></div></div></a></div><p id="81ed" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">首先，安装react-paginate包:</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="f036" class="ml mm iq nl b gy np nq l nr ns">npm i react-paginate</span></pre><p id="e38a" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">为了进行分页，我们需要初始化一些参数。让我们使用useState钩子来初始化它们。这些参数是:</p><ul class=""><li id="8d4f" class="nt nu iq kp b kq kr kt ku kw nv la nw le nx li ny nz oa ob bi translated"><strong class="kp ir">偏移量</strong>——API响应数组的起点。</li><li id="9983" class="nt nu iq kp b kq oc kt od kw oe la of le og li ny nz oa ob bi translated"><strong class="kp ir"> perPage </strong> -单页显示的项目数。</li><li id="e03a" class="nt nu iq kp b kq oc kt od kw oe la of le og li ny nz oa ob bi translated"><strong class="kp ir"> pagecount </strong> -分页表格的总页数。</li></ul><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="8fa5" class="ml mm iq nl b gy np nq l nr ns">const [offset, setOffset] = useState(0);</span><span id="8516" class="ml mm iq nl b gy oh nq l nr ns">const [perPage] = useState(10);</span><span id="c84c" class="ml mm iq nl b gy oh nq l nr ns">const [pageCount, setPageCount] = useState(0)</span></pre><p id="d8af" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">然后我们要修改我们的<code class="fe oi oj ok nl b">fetchData </code>函数。</p><p id="729b" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">然后在<code class="fe oi oj ok nl b">fetchData </code>函数中，我将设置一些值。我将使用<code class="fe oi oj ok nl b">Math.Ceil</code>方法计算总页数。</p><p id="a48e" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">为了得到总页数，我得到了API响应中的总项数，用它除以页面大小(页面上的项数)，并使用<code class="fe oi oj ok nl b">Math.ceil</code>方法将它们四舍五入到下一个数字。完成舍入后，剩下的项目将有单独的一页。</p><p id="69fe" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我已经使用<code class="fe oi oj ok nl b">setPlayerData</code>通过对响应数据集进行切片来设置当前的玩家值。因此，我们要做的是，根据用户在分页栏上点击的页码，我们将通过更改<code class="fe oi oj ok nl b">offset</code>值，用相关值填充播放器数据数组。</p><p id="ab3e" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我们将在一个useEffect钩子中包含上述所有逻辑。参见下面的代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="498b" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">每当有人点击分页栏中的页码，我们将改变偏移量，因此调用<code class="fe oi oj ok nl b">useEffect</code>钩子。下面是<code class="fe oi oj ok nl b">handlePageClick </code>功能。我们在当前页面值上加1，因为它是一个零索引值。然后我们把它乘以页数，得到起始限制。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="d5ac" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">让我们将分页添加到应用程序中。导入React分页，如下所示:</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="265e" class="ml mm iq nl b gy np nq l nr ns">import ReactPaginate from 'react-paginate';</span></pre><p id="29a4" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在显示列表下面添加代码片段<code class="fe oi oj ok nl b">&lt;/Row&gt;</code>标签。这将创建分页列表视图。这里我们已经传递了react-paginate包所请求的所有必要的属性。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="2939" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">之后，您可以将下面的CSS添加到<strong class="kp ir"> app.css </strong>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="c09a" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">完整代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="0b2b" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">直播项目:<br/><a class="ae lq" href="https://reactcards.lahirutech.repl.co/" rel="noopener ugc nofollow" target="_blank">https://reactcards.lahirutech.repl.co/</a></p><blockquote class="lj lk ll"><p id="174e" class="kn ko lm kp b kq kr jr ks kt ku ju kv ln kx ky kz lo lb lc ld lp lf lg lh li ij bi translated">我希望你喜欢读这篇文章。如果你愿意支持我成为一名作家，可以考虑注册<a class="ae lq" href="https://freelancingcult.medium.com/membership" rel="noopener">成为</a>中的一员。每月只需5美元，你就可以无限制地使用Medium。</p></blockquote><div class="lr ls gp gr lt lu"><a href="https://levelup.gitconnected.com/react-context-api-step-by-step-f1ee25d90c55" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">逐步反应上下文API</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">用一个示例应用程序在5分钟内学会</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="md l"><div class="on l mf mg mh md mi kl lu"/></div></div></a></div><div class="lr ls gp gr lt lu"><a href="https://betterprogramming.pub/how-next-js-can-solve-the-limitations-of-your-react-app-c3f69a796242" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">Next.js如何解决React应用程序的局限性</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">React适合每个web app吗？</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">better编程. pub</p></div></div><div class="md l"><div class="oo l mf mg mh md mi kl lu"/></div></div></a></div><div class="lr ls gp gr lt lu"><a href="https://medium.com/geekculture/learn-to-use-axios-with-react-ee92829d8ed6" rel="noopener follow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">学习使用Axios和React</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">React axios是最常用的JS库之一。Axios是一个npm包，您可以开始安装。</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">medium.com</p></div></div><div class="md l"><div class="op l mf mg mh md mi kl lu"/></div></div></a></div><p id="5917" class="pw-post-body-paragraph kn ko iq kp b kq kr jr ks kt ku ju kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><em class="lm">更多内容请看</em><a class="ae lq" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kp ir"><em class="lm">plain English . io</em></strong></a></p></div></div>    
</body>
</html>