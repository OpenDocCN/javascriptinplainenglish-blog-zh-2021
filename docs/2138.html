<html>
<head>
<title>Never Write React Pop-up Cards/Modals More Than Once Anymore!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">再也不要写一次以上的反应弹出卡/模式了！</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/never-write-react-pop-ups-cards-modals-more-than-once-anymore-e7b1b423ee4?source=collection_archive---------10-----------------------#2021-05-05">https://javascript.plainenglish.io/never-write-react-pop-ups-cards-modals-more-than-once-anymore-e7b1b423ee4?source=collection_archive---------10-----------------------#2021-05-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/0414f5e5aed6bd0a2838e10dccbabe6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ELCP6P1G-qrAATWcuj35jA.png"/></div></div></figure><div class=""/><h1 id="dcf0" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">介绍</h1><p id="6ac3" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">在今天的帖子中，我将告诉你我使用的一个包，我已经将它转换成一个包并为React社区发布。</p><p id="cdfd" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">使用React开发应用程序时，有时我们需要在屏幕上显示一个类似弹出窗口的窗口。根据所使用的包，这可能很容易，但偶尔也会很麻烦。我们通常希望通过将一个组件放在一个地方，来管理和使用我们希望在屏幕上显示为模态或弹出窗口的组件。</p><p id="ed97" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">有许多方法可以重用根目录中的组件。为了被再次使用，创建的组件可能需要再次在根目录中定义，但是在这种情况下，我们可能必须编辑和更新根目录中的主组件。这些组件有时可能需要大量的数据，我们可能需要每次都从用户那里获得新的信息。</p><p id="b2a9" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">为了解决这些问题并提供易用性而开发的<a class="ae lw" href="http://github.com/hepter/cardon" rel="noopener ugc nofollow" target="_blank"> cardon </a>允许将容器组件添加到根组件中一次，并在屏幕上显示弹出的卡片。</p><p id="b262" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">使用这些创建来同时显示的卡片就像调用一个函数一样简单。此外，我们不需要编辑任何文件来添加新的卡组件。可选地，该函数可以使用参数调用并异步等待，直到卡关闭。让我们用一个示例应用程序来表示这一点。</p><h1 id="266f" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">例子</h1><ul class=""><li id="f688" class="lx ly iy kv b kw kx la lb le lz li ma lm mb lq mc md me mf bi translated">首先，将cardon作为依赖项安装。</li></ul><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="ef31" class="mp jw iy ml b gy mq mr l ms mt"># Yarn<br/>$ yarn add cardon</span><span id="e179" class="mp jw iy ml b gy mu mr l ms mt"># NPM<br/>$ npm install cardon</span></pre><ul class=""><li id="7a30" class="lx ly iy kv b kw lr la ls le mv li mw lm mx lq mc md me mf bi translated">将CardonContainer组件放在根文件中。</li></ul><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="c973" class="mp jw iy ml b gy mq mr l ms mt">// App.jsx<br/>import { CardonContainer } from "cardon";<br/>function App() {<br/>  return (<br/>    &lt;div&gt;<br/>       &lt;Main /&gt;<br/>+      &lt;CardonContainer /&gt;<br/>    &lt;/div &gt;<br/>  );<br/>}<br/>export default App;</span></pre><ul class=""><li id="58f0" class="lx ly iy kv b kw lr la ls le mv li mw lm mx lq mc md me mf bi translated">创建一个名为<code class="fe my mz na ml b">'cardon'</code>或任何名字的文件夹，然后把你的卡片放在那里。</li><li id="d3fb" class="lx ly iy kv b kw nb la nc le nd li ne lm nf lq mc md me mf bi translated">像下面这样包装你想用作卡片的组件。</li></ul><p id="b21b" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">可重复使用卡的示例:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="84cf" class="mp jw iy ml b gy mq mr l ms mt">// ./cardon/MyModalCard.jsx<br/>import { withCardon } from "cardon";<br/>import React from "react";</span><span id="3884" class="mp jw iy ml b gy mu mr l ms mt">function MyModalCard({ visible, get, title }) {<br/>  return (<br/>    &lt;Modal open={visible} onClose={get(null)}&gt;<br/>      My Reusable '{title}' Modal!<br/>      &lt;button onClick={get(true)}&gt;Yes&lt;/button&gt;<br/>      &lt;button onClick={get(false)}&gt;No&lt;/button&gt;<br/>    &lt;/Modal&gt;<br/>  );<br/>}<br/>export default withCardon(MyModalCard);</span></pre><p id="c5f6" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">或者使用TypeScript:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="4c8e" class="mp jw iy ml b gy mq mr l ms mt">// ./cardon/MyModalCard.tsx<br/>import { withCardon } from "cardon";<br/>import React from "react";</span><span id="fda5" class="mp jw iy ml b gy mu mr l ms mt">interface Props {<br/>    title: string <br/>} <br/>function MyModalCard({ visible, get, title }) {<br/>  return (<br/>    &lt;div&gt;<br/>      My Reusable '{title}' Card!<br/>      &lt;button onClick={get(true)}&gt;Yes&lt;/button&gt;<br/>      &lt;button onClick={get(false)}&gt;No&lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}<br/>export default withCardon&lt;Props, boolean&gt;(MyModalCard)</span></pre><ul class=""><li id="6082" class="lx ly iy kv b kw lr la ls le mv li mw lm mx lq mc md me mf bi translated">导入组件并到处调用下面的函数，瞧！</li></ul><p id="ff1d" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">电话示例:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="74e1" class="mp jw iy ml b gy mq mr l ms mt">let result = await MyModalCard.show({ title: "Awesome" });<br/>//...<br/>//...<br/>// Not required for hiding it, but might need to hide manually for some cases before user action.<br/>MyModalCard.hide();</span></pre><p id="549f" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">呼叫用法示例:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="6d9f" class="mp jw iy ml b gy mq mr l ms mt">import React from "react";<br/>import { MyModalCard } from "./cardon/MyModalCard";<br/>function HomePage() {<br/>  const [modalResult, setModalResult] = React.useState(false);<br/>  const showModal = async () =&gt; {<br/>    let result = await MyModalCard.show({ title: "Awesome" });<br/>    setModalResult(result);<br/>  };</span><span id="f2ce" class="mp jw iy ml b gy mu mr l ms mt">  return (<br/>    &lt;&gt;<br/>      {modalResult ? "Yes" : "No"}<br/>      &lt;button onClick={showModal}&gt;Show&lt;/button&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><ul class=""><li id="3249" class="lx ly iy kv b kw lr la ls le mv li mw lm mx lq mc md me mf bi translated">这里的一个关键点是名为“get(result:any)=&gt;VoidFunction”的函数，它提供了能够返回值的函数的创建。我们必须创建并使用回调函数，以便在该函数的帮助下返回值。</li></ul><p id="277b" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">您可以在该项目的主页上找到更详细的描述。</p><h1 id="a929" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">演示</h1><figure class="mg mh mi mj gt ip"><div class="bz fp l di"><div class="ng nh l"/></div></figure><h1 id="74f3" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">结论</h1><p id="e512" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">我已经介绍了一种不同的方式来管理卡片并轻松地再次展示它们。提前感谢您的评论和支持。</p><p id="f2cd" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv iz"> GitHub项目</strong> <a class="ae lw" href="https://github.com/hepter/cardon" rel="noopener ugc nofollow" target="_blank"> <strong class="kv iz">链接</strong> </a></p><h1 id="046a" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">另请参阅:</h1><p id="a738" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><a class="ae lw" href="https://mustafa-kuru.medium.com/managing-loading-status-for-react-is-much-easier-with-loadio-20b61fd0119c" rel="noopener">使用loadio </a>管理React的加载状态要容易得多</p><p id="d5fa" class="pw-post-body-paragraph kt ku iy kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><em class="ni">更多内容尽在</em><a class="ae lw" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ni">plain English . io</em></a></p></div></div>    
</body>
</html>