<html>
<head>
<title>JavaScript: How to Check if Empty (Strings, Objects and Arrays)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript:如何检查是否为空(字符串、对象和数组)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-how-to-check-if-empty-strings-objects-and-arrays-5fef2087a1cb?source=collection_archive---------10-----------------------#2021-12-20">https://javascript.plainenglish.io/javascript-how-to-check-if-empty-strings-objects-and-arrays-5fef2087a1cb?source=collection_archive---------10-----------------------#2021-12-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="0f4d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你是否正在寻找一个内置的方法，可以返回<strong class="jp ir">真</strong>或<strong class="jp ir">假</strong>，检查<strong class="jp ir">字符串。空()</strong>？我们可能没有内置的方法，但是有几种方法可以实现这个功能。在这篇文章中，你将读到如何检查一个<strong class="jp ir">字符串、对象</strong>和<strong class="jp ir">数组</strong>是否为空。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/8ca7c998ca1074f63b7b68108419e816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bqRDxFJvA7xOFuPTLSUcKw.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Image from <a class="ae lb" href="https://pixabay.com/photos/paper-brush-color-palette-painting-3204064/" rel="noopener ugc nofollow" target="_blank">Pixabay</a>.</figcaption></figure><p id="097d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那么，我们开始吧。</p><h1 id="2a36" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">一根绳子</h1><p id="d7fa" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">你会很感兴趣地知道，有这么多不同的方法可以用来检查一个字符串是否为空。关于编码的一件事是，你永远不应该做假设。千万不要假设变量有长度，而且是字符串。为了构建健壮的东西，您需要编写基于所有决策的方法，并且不做任何假设。</p><p id="8f7f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在JavaScript的例子中，你可以在字符串的原型中写一个方法来决定它是否为空。在我们的例子中，我将把这个方法命名为isEmpty。而且，根据我们的需要，这个函数可以用下面的任何一个函数来填充。</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="5ed2" class="mk ld iq mg b gy ml mm l mn mo">String.prototype.<strong class="mg ir">isEmpty</strong> = function(){ <br/>  <strong class="mg ir">to be filled</strong><br/>}</span></pre><p id="1b17" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是检查字符串是否为空的最快的方法。您将使用求反运算符。</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="aad2" class="mk ld iq mg b gy ml mm l mn mo">function A(str) {<br/>  let r=1;<br/>  if (!str)<br/>    r=0;<br/>  return r;<br/>}</span></pre><p id="98e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在下面的函数中，您将把字符串转换为原始的<strong class="jp ir">布尔</strong>数据类型。在这个转换过程中，结果要么是真，要么是假。<strong class="jp ir">布尔值</strong> (null)将为假。并且，<strong class="jp ir">布尔值</strong>(有效字符串)将为真。</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="00ba" class="mk ld iq mg b gy ml mm l mn mo">function F(str) {<br/>  let r=1;<br/>  if(!Boolean(str))<br/>    r=0;<br/>  return r;<br/>}</span></pre><p id="ff58" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你确定变量是一个字符串，你可以使用inbuild方法<strong class="jp ir"> length。</strong></p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="3717" class="mk ld iq mg b gy ml mm l mn mo">function J(str) {<br/>  let r=1;<br/>  if(str.length &lt;= 0)<br/>    r=0;<br/>  return r;<br/>}</span><span id="3a65" class="mk ld iq mg b gy mp mm l mn mo">function D(str) {<br/>  let r=1;<br/>  if(!str || 0 === str.length)<br/>    r=0;<br/>  return r;<br/>}</span></pre><p id="3951" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我最老的一个帖子谈到了使用<strong class="jp ir">“= =”</strong>和<strong class="jp ir">“= = =”</strong>，如果你看过，你会意识到正确使用它们。然而，这里我们使用，<strong class="jp ir"> "== "和" ===" </strong>来检查字符串是否为空。很多时候，您会想知道输入是null、未定义还是空的。如果变量应该有多种数据类型，你应该在<strong class="jp ir"> "== "和" === "，</strong>之间小心选择。</p><p id="9d71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">帖子链接:<a class="ae lb" rel="noopener ugc nofollow" target="_blank" href="/vs-in-javascript-2977631d00db">https://JavaScript . plain English . io/vs-in-JavaScript-2977631 d00db</a></p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="6b10" class="mk ld iq mg b gy ml mm l mn mo">function B(str) {<br/>  let r=1;<br/>  if (str == "")<br/>    r=0;<br/>  return r;<br/>}</span><span id="03a8" class="mk ld iq mg b gy mp mm l mn mo">function C(str) {<br/>  let r=1;<br/>  if (str === "")<br/>    r=0;<br/>  return r;<br/>}</span></pre><p id="7268" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面的策略是检查字符串是否为空的最罕见的方法之一。而且，它确实有效。它既不是最快的也不是最慢的。</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="e673" class="mk ld iq mg b gy ml mm l mn mo">function G(str) {<br/>  let r=1;<br/>  if(! ((<strong class="mg ir">typeof</strong> str != '<strong class="mg ir">undefined</strong>') &amp;&amp; str) )<br/>    r=0;<br/>  return r;<br/>}</span></pre><p id="7273" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“trim”函数被证明是有用的，当你有一个多空格的字符串时，尤其是在两端。它将帮助你去掉空格，当输入仅仅是一个<strong class="jp ir"> " &lt;空格&gt; " </strong>时，它也将帮助你得到正确的答案。这里再次需要注意的是。不能对null或未定义的变量使用“trim()”。您必须确定输入是一个字符串。否则，您最终会得到一个严重的错误。同样，在<strong class="jp ir"> isEmpty </strong>原型中，你有很多使用trim的方法。这里，有几个让你开始。</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="b632" class="mk ld iq mg b gy ml mm l mn mo">function K(str) {<br/>  let r=1;<br/>  if(str.<strong class="mg ir">length</strong> === 0 || !str.<strong class="mg ir">trim</strong>())<br/>    r=0;<br/>  return r;<br/>}</span><span id="c8e2" class="mk ld iq mg b gy mp mm l mn mo">function N(str) {<br/>  let r=1;<br/>  if(!str || !str.<strong class="mg ir">trim</strong>().<strong class="mg ir">length</strong>)<br/>    r=0;<br/>  return r;<br/>}</span><span id="b117" class="mk ld iq mg b gy mp mm l mn mo">function O(str) {<br/>  let r=1;<br/>  if(!str || !str.<strong class="mg ir">trim</strong>())<br/>    r=0;<br/>  return r;<br/>}</span><span id="29f1" class="mk ld iq mg b gy mp mm l mn mo">function Q(str) {<br/>  let r=1;<br/>  if(!str || (str.<strong class="mg ir">trim</strong>()==''))<br/>    r=0;<br/>  return r;<br/>}</span></pre><p id="caa0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，我们可以利用正则表达式来检查字符串是否为空。这些绝对是执行这项检查最慢的方法。当在Chrome、Safari和Firefox中测试时，正则表达式的使用大大增加了完成操作的时间。</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="ee81" class="mk ld iq mg b gy ml mm l mn mo">function E(str) {<br/>  let r=1;<br/>  if(!str || /^\s*$/.test(str))<br/>    r=0;<br/>  return r;<br/>}</span><span id="fa3d" class="mk ld iq mg b gy mp mm l mn mo">function H(str) {<br/>  let r=1;<br/>  if(!/\S/.test(str))<br/>    r=0;<br/>  return r;<br/>}</span><span id="6e36" class="mk ld iq mg b gy mp mm l mn mo">function M(str) {<br/>  let r=1;<br/>  if((/^\s*$/).test(str))<br/>    r=0;<br/>  return r;<br/>}</span><span id="bb3b" class="mk ld iq mg b gy mp mm l mn mo">function L(str) {<br/>  let r=1;<br/>  if ( str.replace(/\s/g,"") == "")<br/>    r=0;<br/>  return r;<br/>}</span></pre><h1 id="3b88" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">一个物体</h1><p id="ce0e" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">我们下一个关注的领域是物体。如何判断一个对象是空的、空的还是未定义的？</p><p id="fbfe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">判断一个对象是否为空的最快方法是使用<strong class="jp ir"> for-in </strong>组合。</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="e0e4" class="mk ld iq mg b gy ml mm l mn mo">for(var i in object)<br/>return false;<br/>return true;</span></pre><p id="323b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在object中使用方法总是很有趣。有几种方法可以帮助你检查对象是否为空。这些方法中的大多数比<strong class="jp ir"> for-in </strong>循环慢40%到50%。以下集合按照从快到慢的顺序排序。</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="9c59" class="mk ld iq mg b gy ml mm l mn mo">return Object.keys(obj).length === 0;</span><span id="bf88" class="mk ld iq mg b gy mp mm l mn mo">return Object.entries(obj).length === 0;</span><span id="7a62" class="mk ld iq mg b gy mp mm l mn mo">return Object.getOwnPropertyNames(obj).length === 0;</span><span id="835c" class="mk ld iq mg b gy mp mm l mn mo">return Object.keys(obj).length === 0 &amp;&amp; obj.constructor === Object;</span></pre><p id="dc8f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在某些情况下，我们选择将for-in循环与对象中的方法结合起来，以决定它是否为空。同样，这些不是最慢也不是最快的检查方式。这里有几种检查方法，在这个特定的集合中从最快到最慢。</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="200f" class="mk ld iq mg b gy ml mm l mn mo">{for(var prop in obj){<br/>if(obj.hasOwnProperty(prop)){return false}<br/>}}</span><span id="62b8" class="mk ld iq mg b gy mp mm l mn mo">{for(var prop in obj){<br/>if(obj.hasOwnProperty(prop)){return false}<br/>}<br/>return true;}</span><span id="fd3e" class="mk ld iq mg b gy mp mm l mn mo">{<br/>for(const key in obj){<br/>if(hasOwnproperty.call(obj,key)){<br/>return false;}}<br/>return true;}</span></pre><p id="a1ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，检查对象是否为空的最慢方法是:</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="26ea" class="mk ld iq mg b gy ml mm l mn mo">return JSON.stringify(obj) === '{}';</span></pre><p id="e0c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大多数时候，我都有一个难题，要确定对象的某个特定属性是未定义的、空的还是空的。现在，问题变得更深入了，我们有几种方法来找到正确的解决方案。这个问题可以很容易地分为三种具体情况:</p><ol class=""><li id="6a97" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated">对象由属性组成，并且属性的值不是“未定义的”。</li><li id="75d0" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">该对象由一个属性组成，其值为“未定义”。</li><li id="dbd1" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">该对象根本没有属性。</li></ol><p id="b40d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">已定义的成员和未定义的值之间有明显的区别。和一个未定义的成员。</p><p id="a282" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<strong class="jp ir">类型的&lt;对象&gt;。&lt;属性&gt; </strong>不会完全帮你找到答案。但是，你可以把它与<strong class="jp ir">&lt;对象&gt; </strong>中的【属性】结合起来。</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="13fd" class="mk ld iq mg b gy ml mm l mn mo">typeof obj.x === 'undefined' &amp;&amp; !("x" in obj)</span><span id="53fb" class="mk ld iq mg b gy mp mm l mn mo"><strong class="mg ir">// {x:1} returns false</strong></span><span id="e106" class="mk ld iq mg b gy mp mm l mn mo"><strong class="mg ir">// { x: (function(){})() } returns false</strong></span><span id="fdc2" class="mk ld iq mg b gy mp mm l mn mo"><strong class="mg ir">// {} returns true</strong></span></pre><p id="affa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">检查属性是否未定义的另一种方法是使用<strong class="jp ir"> void </strong>操作符。</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="56e0" class="mk ld iq mg b gy ml mm l mn mo">let obj = {};<br/>if(obj['x'] === <strong class="mg ir">void</strong> 0){}</span></pre><h1 id="39a1" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">阵列</h1><p id="3d81" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">在数组的情况下，在检查它是否为空之前，你需要做一个未定义的检查。如果数组未定义，并且如果使用。方法，将会产生错误。检查数组的简单方法是:</p><pre class="km kn ko kp gt mf mg mh mi aw mj bi"><span id="5854" class="mk ld iq mg b gy ml mm l mn mo">if(!Array.isArray(array) &amp;&amp; !array.length)</span></pre><p id="73b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上面的行中，我们使用Array.isArray()来检查参数是否是数组。这剔除了像undefined、null和任何不是数组的值。这也消除了看起来像数组的对象，例如，DOM的arguments对象和NodeList对象。</p><p id="381c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，<strong class="jp ir"> array.length </strong>将检查该值是否为真。因为前面的条件确保了它是一个数组，所以你不需要担心插入更多的严格比较，比如<strong class="jp ir"> array.length！== 0或array.length！= 0 </strong></p><h1 id="e384" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">结论</h1><p id="1b2b" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">现在，我们已经想出了几种方法来决定一个<strong class="jp ir">字符串</strong>、<strong class="jp ir">对象</strong>或<strong class="jp ir">数组</strong>是否为空。如果你喜欢这篇文章，请分享，别忘了关注。</p><p id="d738" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">延伸阅读:</strong></p><div class="ne nf gp gr ng nh"><a href="https://differ.plainenglish.io/p/how-to-check-for-an-empty-object-in-javascript-dvjxdkyal" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd ir gy z fp nm fr fs nn fu fw ip bi translated">如何在JavaScript中检查空对象</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">在JavaScript中，空对象是没有属性或方法的对象。检查空对象是一种常见的…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">different . plain English . io</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv kv nh"/></div></div></a></div><p id="f5b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nw">更多内容看</em> <a class="ae lb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="nw">说白了. io </em> </strong> </a> <strong class="jp ir"> <em class="nw">。</em> </strong> <em class="nw">报名参加我们的</em><strong class="jp ir"><em class="nw"/></strong><a class="ae lb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="nw">免费每周简讯这里</em> </strong> </a> <strong class="jp ir"> <em class="nw">。</em> </strong></p></div></div>    
</body>
</html>