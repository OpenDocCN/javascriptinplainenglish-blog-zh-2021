# æ·±å…¥äº†è§£ JavaScript çš„å›è°ƒå‡½æ•°

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/taking-a-deeper-look-at-javascripts-callback-functions-3d9772208bb0?source=collection_archive---------4----------------------->

## å¦‚æœä½ ç†Ÿæ‚‰ JavaScriptï¼Œæˆ‘æ‰“èµŒä½ å¬è¯´è¿‡å›è°ƒå‡½æ•°ã€‚ä½†æ˜¯ä½ çœŸçš„çŸ¥é“å®ƒä»¬æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆä½¿ç”¨å®ƒä»¬ï¼Œæˆ–è€…å¦‚ä½•ä½¿ç”¨å®ƒä»¬å—ï¼Ÿ

![](img/75ca01d0c7ab232ee46d1bdf5a2635d8.png)

Photo by [Marten Newhall](https://unsplash.com/@laughayette?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

# ç›®å½•

1.  [ç®€ä»‹](#e814)
2.  [å¿«é€Ÿå›é¡¾](#8049)
3.  [å®šä¹‰æ•™ç§‘ä¹¦å®šä¹‰](#e6e7)
4.  [ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å›è°ƒï¼Ÿ](#83a8)
5.  [ä½†è¿™åˆ°åº•æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿ](#edf4)
6.  [åˆ›å»ºå›è°ƒå‡½æ•°](#2406)
    6aã€‚[å¥–é‡‘ï¼å›è°ƒåœ°ç‹±](#be6f)
7.  [ç»“è®º&è¦ç‚¹](#c5cf)
8.  [æƒ³è¦æ›´å¤šï¼ŸæŸ¥çœ‹å…¶ä»–èµ„æºï¼](#a8bb)

# ä»‹ç»ğŸ¤¿

JavaScript ä¸­ä¸€å®šä¼šé‡åˆ°å›è°ƒå‡½æ•°ã€‚è™½ç„¶æˆ‘çŸ¥é“ä»€ä¹ˆæ˜¯å›è®¿ä»¥åŠå¦‚ä½•å†™å›è®¿ï¼Œä½†æˆ‘æ‰¿è®¤æˆ‘çš„ç†è§£åªæ˜¯è‚¤æµ…çš„ğŸ˜åœ¨æˆ‘è‡ªå·±çš„ç ”ç©¶ä¸­ï¼Œæˆ‘å‘ç°è¿™äº›è§£é‡Šè¦ä¹ˆå¤ªå«ç³Šï¼Œè¦ä¹ˆç”¨äº†å¤ªå¤šçš„æŠ€æœ¯æœ¯è¯­ï¼Œä¸­é—´æ²¡æœ‰ä»»ä½•ä¸œè¥¿ã€‚ä¸ºäº†åŠ æ·±æˆ‘çš„ç†è§£ï¼Œå¹¶ä¸é‚£äº›æ²¡æœ‰ JavaScript ç»éªŒçš„äººåˆ†äº«æˆ‘è‡ªå·±çš„è§‚ç‚¹ï¼Œæˆ‘å°†æŠŠå®ƒç•™åœ¨è¿™é‡ŒğŸ˜„ï¼

# **å¿«é€Ÿå›é¡¾** âš¡

å¼€å§‹ä¹‹å‰ï¼Œè¯·è®°ä½ä»¥ä¸‹å‡ ç‚¹:

*   *ã€ä¸€çº§å‡½æ•°ã€‘*:åœ¨ JavaScript ä¸­å‡½æ•°æ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚å½“ä½ å¬åˆ° JavaScript æœ‰â€œä¸€æµçš„åŠŸèƒ½â€æ—¶ï¼Œè¿™å°±æ˜¯å®ƒæ‰€æŒ‡çš„ï¼›è¯¥è¯­è¨€ä¸­çš„å‡½æ•°è¢«è§†ä¸ºä¸ä»»ä½•å…¶ä»–å˜é‡ä¸€æ ·ã€‚
*   *å¼‚æ­¥ JavaScript* :ç®€å•æ¥è¯´ï¼Œå¼‚æ­¥æ„å‘³ç€å…è®¸å¤šä»¶äº‹æƒ…åŒæ—¶å‘ç”Ÿï¼ŒåŒæ—¶ä¿æŒå½¼æ­¤ç‹¬ç«‹ã€‚å½“æ‚¨åœ¨åå°ç­‰å¾…æŸäº›ä»£ç (ä¾‹å¦‚ï¼Œæ‚¨å‘ API å‘å‡ºè¯·æ±‚)åŒæ—¶ç»§ç»­è¿è¡Œå…¶ä½™ä»£ç æ—¶ï¼Œé€šå¸¸ä¼šä½¿ç”¨å®ƒã€‚
*   *åŒ¿åå‡½æ•°*:å‡½æ•°æ²¡æœ‰åå­—çš„æ—¶å€™ã€‚å¦‚æœå‡½æ•°å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œå®ƒä¸éœ€è¦åå­—ï¼›ç›¸åï¼Œå®ƒæ˜¯ç”¨å˜é‡åè°ƒç”¨çš„ã€‚åœ¨åŒ¿åå‡½æ•°ä¸­,â€œthisâ€å…³é”®å­—ä»£è¡¨è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ã€‚
*   ç®­å¤´å‡½æ•°:åœ¨ ES6 ä¸­å¼•å…¥ï¼Œå®ƒä»¬å…è®¸æˆ‘ä»¬ç¼–å†™æ›´çŸ­çš„å‡½æ•°è¯­æ³•ã€‚éœ€è¦æ³¨æ„çš„é‡è¦ä¸€ç‚¹æ˜¯,â€œthisâ€å…³é”®å­—æ€»æ˜¯ä»£è¡¨å®šä¹‰ arrow å‡½æ•°çš„å¯¹è±¡ã€‚å› æ­¤æ²¡æœ‰â€œè¿™ä¸ªâ€çš„çº¦æŸã€‚åŒæ ·ï¼Œå¦‚æœ arrow å‡½æ•°åªæœ‰ä¸€ä¸ªè¯­å¥ï¼Œä½ å¯ä»¥å»æ‰èŠ±æ‹¬å·å’Œ return å…³é”®å­—ã€‚

```
// This is an anonymous function
let anonHello = function (name) {console.log(â€œHiâ€ + â€œ â€ + name)}
anonHello(â€œBobâ€) // returns â€œHi Bobâ€// This is an arrow function
arrowHello = (name) => `Hello ${name}`
arrowHello(â€œBobâ€) // returns â€œHi Bobâ€
```

# **å®šä¹‰æ•™ç§‘ä¹¦å®šä¹‰ğŸ“•**

ä¸ºäº†ç†è§£ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å›è°ƒçš„å®šä¹‰ã€‚

ç›´æ¥ä» [MDN](https://developer.mozilla.org/en-US/docs/Glossary/Callback_function) å¼€å§‹ï¼Œâ€œå›è°ƒå‡½æ•°æ˜¯ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°ï¼Œç„¶ååœ¨å¤–éƒ¨å‡½æ•°ä¸­è°ƒç”¨å®ƒæ¥å®ŒæˆæŸç§ä¾‹ç¨‹æˆ–åŠ¨ä½œã€‚â€æ¢å¥è¯è¯´ï¼Œå›è°ƒå‡½æ•°æ˜¯ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„å‚æ•°ä¼ å…¥çš„å‡½æ•°å®šä¹‰ã€‚å›è°ƒæ°¸è¿œä¸ä¼šè¿è¡Œï¼Œç›´åˆ°å¤–éƒ¨å‡½æ•°åœ¨é€‚å½“çš„æ—¶å€™æ‰§è¡Œå®ƒã€‚å› æ­¤ï¼Œå›è°ƒå—åˆ°æ¥æ”¶å®ƒçš„å‡½æ•°çš„æ”¯é…ã€‚

**è¾¹æ³¨**:ä¸€ä¸ªæ— éœ€æ·±å…¥ç»†èŠ‚çš„æœ‰è¶£äº‹å®æ˜¯ï¼ŒJavaScript ä¸­çš„ä¸€åˆ‡éƒ½å¯ä»¥è¡¨ç°å¾—åƒä¸€ä¸ªå¯¹è±¡ï¼Œå³ä½¿å®ƒä¸æ˜¯ä¸€ä¸ªå¯¹è±¡(å³åŸè¯­)ã€‚å¦‚æœä½ å¯¹ç»†èŠ‚æ„Ÿå…´è¶£ï¼Œè¯·ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹å®‰å¾·é²Â·å…‹å°¼æ ¼-åŒ…è’‚æ–¯å¡”çš„è§£é‡Š[ï¼](https://medium.com/better-programming/everything-in-javascript-is-an-object-except-for-when-it-isnt-305bc65a3410)

# **ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å›è°ƒï¼ŸğŸ¤·â€â™€ï¸**

åœ¨é˜…è¯»å›è°ƒå‡½æ•°çš„å¥½å¤„ä¹‹å‰ï¼Œè®°ä½ä»€ä¹ˆæ˜¯[å¼‚æ­¥ JS](#b6df) å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ï¼

JavaScript æ˜¯ä¸€ç§äº‹ä»¶é©±åŠ¨è¯­è¨€ï¼Œä»£ç è‡ªé¡¶å‘ä¸‹è¿è¡Œã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œä¸ºäº†è€ƒè™‘åˆ°å½“ä½ ä¸éœ€è¦ä¸€äº›ä»£ç è¿è¡Œç›´åˆ°å…¶ä»–äº‹æƒ…(ä¾‹å¦‚ï¼Œä¸€ä¸ªæŒ‰é’®è¢«ç‚¹å‡»)ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨å›è°ƒæ¥ä¿è¯ä¸€ä¸ªå‡½æ•°ä¸ä¼šåœ¨å¦ä¸€ä¸ªä»»åŠ¡å®Œæˆä¹‹å‰è¿è¡Œã€‚ç›¸åï¼Œè¯¥åŠŸèƒ½è¢«â€œå›è°ƒâ€,å¹¶å°†åœ¨å…¶ä»–ä»»åŠ¡å®Œæˆåç«‹å³è¿è¡Œã€‚è¿™å…è®¸æˆ‘ä»¬çš„ä»£ç ç»§ç»­æ‰§è¡Œï¼Œå¹¶é˜²æ­¢æˆ‘ä»¬çš„ä»£ç ç­‰å¾…å“åº”ã€‚

# **ä½†æ˜¯è¿™åˆ°åº•æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼ŸğŸ”**

æˆ‘æ˜ç™½äº†ï¼Œè¿™éƒ½æ˜¯æ¦‚å¿µæ€§çš„ï¼Œæ‰€ä»¥å³ä½¿æˆ‘ä»¬ç†è§£äº†ä»€ä¹ˆæ˜¯å›è°ƒä»¥åŠæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å›è°ƒï¼Œé‚£*åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€å‘¢*ï¼Ÿè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªåŸºæœ¬çš„ä¾‹å­æ¥æ›´å¥½åœ°ç†è§£â€œç»§ç»­æ‰§è¡Œâ€å’Œâ€œå›è°ƒç›´åˆ°å¦ä¸€ä¸ªä»»åŠ¡å®Œæˆæ‰ä¼šè¿è¡Œâ€çš„å«ä¹‰ã€‚

```
function first(){
 console.log(â€œI am firstâ€)
}function second(){
 console.log(â€œI am secondâ€)
}first()
second()
```

åŸºäºä»¥ä¸Šæ‰€è¿°ï¼Œâ€œæˆ‘æ˜¯ç¬¬ä¸€ä¸ªâ€å°†é¦–å…ˆç™»å½•ï¼Œç„¶åâ€œæˆ‘æ˜¯ç¬¬äºŒä¸ªâ€å°†éšåç™»å½•ã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡ä½¿ç”¨ setTimeout å¼‚æ­¥è°ƒç”¨å›è°ƒå‡½æ•°ä½¿è¿™å˜å¾—æ›´å¤æ‚:

```
function first(){
 setTimeout( function(){
  console.log(â€œI am first")
 }, 3000)
}function second(){
 console.log(â€œI am secondâ€)
}first()
second()
```

â€œæˆ‘æ˜¯ç¬¬äºŒåâ€å°†æ˜¯ç¬¬ä¸€åï¼Œä¸‰ç§’é’Ÿåâ€œæˆ‘æ˜¯ç¬¬ä¸€åâ€å°†å‡ºç°ã€‚è¿™æ˜¯å› ä¸ºå°½ç®¡ first()åœ¨ second()ä¹‹å‰è¢«è°ƒç”¨ï¼ŒJavaScript ä»ä¼šç»§ç»­æ‰§è¡Œï¼Œè€Œä¸ä¼šç­‰å¾… 3 ç§’é’Ÿã€‚3 ç§’é’Ÿè¿‡å»åï¼Œç¬¬ä¸€ä¸ª()å‡½æ•°èƒ½å¤Ÿå®Œæˆæ‰§è¡Œã€‚å› æ­¤ï¼Œå³ä½¿ JavaScript æ˜¯è‡ªé¡¶å‘ä¸‹æ‰§è¡Œçš„ï¼Œä½ ä¹Ÿä¸èƒ½æ€»æ˜¯æœŸæœ›å®ƒæŒ‰é¡ºåºè¿è¡Œã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå›è°ƒå¦‚æ­¤é‡è¦ï¼›å®ƒä»¬è®©æˆ‘ä»¬èƒ½å¤Ÿæ§åˆ¶ä»£ç çš„æ‰§è¡Œæ–¹å¼ã€‚

ä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€æ‰€æœ‰çš„å›è°ƒå‡½æ•°éƒ½æ˜¯å¼‚æ­¥çš„ã€‚å®ƒä»¬ä¹Ÿå¯ä»¥åŒæ­¥ä½¿ç”¨ï¼Œè¿™æ„å‘³ç€ä»£ç ä¼šç«‹å³æ‰§è¡Œã€‚è¿™é€šå¸¸è¢«ç§°ä¸ºâ€œé˜»å¡â€,åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç›´åˆ°å›è°ƒå®Œæˆæ‰§è¡Œï¼Œé«˜é˜¶å‡½æ•°æ‰å®Œæˆå…¶æ‰§è¡Œã€‚åŒæ­¥å›è°ƒå‡½æ•°çš„ä¾‹å­æœ‰ forEach()ã€map()å’Œ filter()ç­‰æ•°ç»„æ–¹æ³•ã€‚

# **åˆ›å»ºå›è°ƒå‡½æ•°ğŸ—ï¸**

æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥åˆ›å»ºå›è°ƒå‡½æ•°:ä½œä¸ºåŒ¿åå‡½æ•°ã€ç®­å¤´å‡½æ•°ï¼Œæˆ–è€…ä½œä¸ºå‚æ•°ä¼ é€’ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä»–ä»¬çš„è¡ŒåŠ¨å§ï¼

```
// This an anonymous function
setTimeout(function() {
 console.log("This message is shown after 3 seconds")
}, 3000)// This is an arrow function
setTimeout(() => {
 console.log(â€œThis message is shown after 3 secondsâ€)
}, 3000)// This is passing the callback as an argument
let message = function() { console.log(â€œThis message is shown after 3 secondsâ€) }setTimeout(callback, 3000)setTimeout(message, 3000) // passing in the message as the callback
```

## **å¥–é‡‘**ï¼å›è°ƒåœ°ç‹±ğŸ”¥

ç»å¯¹æœ‰å¯èƒ½å°†å›è°ƒåµŒå¥—åœ¨å½¼æ­¤å†…éƒ¨ã€‚ä½†æ˜¯ï¼Œå®ƒçš„ä¼¸ç¼©æ€§ä¸å¥½ï¼›è¿™è¢«ç§°ä¸ºâ€œå›è°ƒåœ°ç‹±â€ã€‚ç›¸åï¼Œæœ€å¥½ä½¿ç”¨ promises æˆ– async/await å‡½æ•°ã€‚

# **ç»“è®º&å¤–å–ğŸ **

ä½ åšæŒåˆ°äº†æœ€åğŸ™Œæˆ‘åŠ æ·±äº†å¯¹å›è°ƒå‡½æ•°ä»¥åŠå…¶ä»–ç›¸å…³ä¸»é¢˜çš„ç†è§£ã€‚è¿™æ˜¾ç¤ºäº†ä¸€åˆ‡æ˜¯å¦‚ä½•è”ç³»åœ¨ä¸€èµ·çš„ï¼Œé€šè¿‡èŠ±æ—¶é—´å»äº†è§£ä¸€ä»¶äº‹ï¼Œä½ å®é™…ä¸Šä»æ•´ä½“ä¸Šäº†è§£äº†æ›´å¤šã€‚

ä»¥ä¸‹æ˜¯æˆ‘å¸Œæœ›ä½ è®°ä½çš„æœ€é‡è¦çš„äº‹æƒ…:

*   JavaScript ä»£ç ä»ä¸Šåˆ°ä¸‹è¿è¡Œï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€å®ƒä¼šæŒ‰é¡ºåºæ‰§è¡Œã€‚
*   [å›è°ƒæ˜¯å¤–éƒ¨å‡½æ•°è°ƒç”¨çš„å‡½æ•°å®šä¹‰ã€‚](#540f)
*   [å›è°ƒé€šè¿‡å…è®¸ä»£ç ç»§ç»­æ‰§è¡Œè€Œä¸ç­‰å¾…å®ƒè‡ªå·±çš„ä»£ç è¿è¡Œï¼Œè®©æˆ‘ä»¬æ§åˆ¶æˆ‘ä»¬çš„ä»£ç å¦‚ä½•æ‰§è¡Œï¼›ç›¸åï¼Œå®ƒç­‰å¾…å¤–éƒ¨å‡½æ•°â€œå›è°ƒâ€å’Œ/æˆ–å…¶ä»–ä»»åŠ¡å®Œæˆã€‚](#c678)
*   [ä¹Ÿå°±æ˜¯è¯´ï¼Œå›è°ƒå‡½æ•°å¯ä»¥åŒæ­¥å’Œå¼‚æ­¥ä½¿ç”¨ã€‚](#c142)

æ„Ÿè°¢ä½ è·Ÿéšæˆ‘è¸ä¸ŠâœŒï¸çš„å›å½’ä¹‹æ—…ã€‚å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·çœ‹çœ‹æˆ‘çš„å…¶ä»–ä½œå“ï¼ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹æ˜¯æˆ‘çš„ç›¸å…³æ–‡ç« â€œ [JavaScript Promises 101](https://medium.com/geekculture/javascript-promises-101-14f28158e5b9) â€ã€â€œ[React Basics:JavaScript å’Œ JSX æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](https://medium.com/weekly-webtips/react-basics-whats-the-difference-between-javascript-and-jsx-604dd224b1cf)æˆ–[React Basics:Components and the Importance State](https://medium.com/swlh/react-basics-components-and-the-importance-of-state-dd26250e88ce)ã€‚

# æƒ³è¦æ›´å¤šå—ï¼ŸæŸ¥çœ‹å…¶ä»–èµ„æºï¼ğŸ’¾

## ç”¨ JavaScript è¿›è¡Œå¼‚æ­¥ç¼–ç¨‹

ğŸ“–[https://medium . com/codingsemartway-com-blog/async-programming-with-JavaScript-callbacks-promises-and-async-await-980 e3f 144185](https://medium.com/codingthesmartway-com-blog/async-programming-with-javascript-callbacks-promises-and-async-await-980e3f144185)

## JavaScript å›è°ƒ

ğŸ“–ã€https://dmitripavlutin.com/javascript-callback/[ğŸ“–](https://dmitripavlutin.com/javascript-callback/)[https://www . freecodecamp . org/news/JavaScript-callback-functions-what-is-callbacks-in-js-and-how-to-use-them/](https://www.freecodecamp.org/news/javascript-callback-functions-what-are-callbacks-in-js-and-how-to-use-them/)
ğŸ“–[https://code burst . io/JavaScript-what-the-heck-a-callback-ABA 4d a2 deced](https://codeburst.io/javascript-what-the-heck-is-a-callback-aba4da2deced)
ğŸ“–[https://www.javascripttutorial.net/javascript-callback/](https://www.javascripttutorial.net/javascript-callback/)