<html>
<head>
<title>How to Build a Custom Pagination Component in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中构建自定义分页组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-build-a-custom-pagination-component-in-react-99f5b233ce2?source=collection_archive---------6-----------------------#2021-08-27">https://javascript.plainenglish.io/how-to-build-a-custom-pagination-component-in-react-99f5b233ce2?source=collection_archive---------6-----------------------#2021-08-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/db65503fdca3c29466dff2ac018c72d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GePXwc2w5SM5gtzUIuT2Nw.png"/></div></div></figure><p id="d916" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们经常使用需要通过API从服务器获取大量数据并将其呈现在屏幕上的web应用程序。</p><p id="8e63" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，在一个<strong class="jx io">社交媒体应用程序中，</strong>我们获取并呈现用户的帖子和评论。在<strong class="jx io"> HR仪表板中，</strong>我们显示了申请工作的候选人的信息。在<strong class="jx io">电子邮件客户端中，</strong>我们显示用户的电子邮件。</p><p id="77bc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在屏幕上一次呈现所有数据会导致网页速度大大降低，因为网页中存在大量的DOM元素。</p><p id="2bee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我们想要优化性能，我们可以采用各种技术来更有效地呈现数据。其中的一些方法包括<strong class="jx io">虚拟化无限滚动</strong>和<strong class="jx io">分页</strong>。</p><p id="ae91" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您事先知道数据的大小，并且不频繁地添加或删除数据集，分页就能很好地工作。</p><p id="a212" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，在每隔几毫秒就会发布新帖子的社交媒体网站中，分页并不是理想的解决方案。但是对于显示候选人申请并需要过滤或排序的HR仪表板来说，它会工作得很好。</p><p id="2aa7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这篇文章中，我们将重点关注分页，我们将构建一个自定义控制的组件，根据当前页面和总数据量来处理页面按钮。</p><p id="05a4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们还将编写一个自定义的React挂钩，为我们提供一个由分页组件呈现的数字范围。当我们想用不同的样式或不同的设计呈现一个分页组件时，我们也可以独立地使用这个钩子。</p><p id="1151" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是我们将在本教程中构建的内容的演示:</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi kt"><img src="../Images/2e71b3eea4d926ca587c7abfa6999bee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7RfD0esiVgEap9kg.gif"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Demo interaction of the final application</figcaption></figure><h1 id="eef9" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">如何设置项目</h1><p id="0236" class="pw-post-body-paragraph jv jw in jx b jy ma ka kb kc mb ke kf kg mc ki kj kk md km kn ko me kq kr ks ig bi translated">如果您熟悉React项目的设置，可以跳过这一节。</p><p id="1f45" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了设置我们的React项目，我们将使用<code class="fe mf mg mh mi b"><a class="ae mj" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank">create-react-app</a></code>命令行包。您可以使用<code class="fe mf mg mh mi b">npm install -g create-react-app</code>或<code class="fe mf mg mh mi b">yarn add global create-react-app</code>全局安装软件包。</p><p id="4312" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">从命令行运行<code class="fe mf mg mh mi b">create-react-app</code>创建一个新项目，如下所示:</p><pre class="ku kv kw kx gt mk mi ml mm aw mn bi"><span id="4521" class="mo ld in mi b gy mp mq l mr ms">npx create-react-app react-pagination</span></pre><p id="208d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们需要安装我们的依赖项。我们将只使用一个简单的叫做<code class="fe mf mg mh mi b">classnames </code>的附加依赖，它在有条件地处理多个类名时提供了灵活性。</p><p id="5ea7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要安装它，运行<code class="fe mf mg mh mi b">npm install classnames</code>或<code class="fe mf mg mh mi b">yarn add classnames</code>。</p><p id="5b02" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我们可以使用下面的命令运行我们的项目:</p><pre class="ku kv kw kx gt mk mi ml mm aw mn bi"><span id="7214" class="mo ld in mi b gy mp mq l mr ms">yarn start</span></pre><h1 id="965c" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">如何定义接口</h1><p id="86d9" class="pw-post-body-paragraph jv jw in jx b jy ma ka kb kc mb ke kf kg mc ki kj kk md km kn ko me kq kr ks ig bi translated">既然我们的项目已经运行，我们将直接进入我们的<code class="fe mf mg mh mi b">Pagination</code>组件。</p><p id="8fbf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们首先来看看我们需要哪些值来支持我们的<code class="fe mf mg mh mi b">Pagination</code>组件:</p><ul class=""><li id="72d2" class="mt mu in jx b jy jz kc kd kg mv kk mw ko mx ks my mz na nb bi translated"><strong class="jx io"> totalCount </strong>:表示从数据源获得的数据总数。</li><li id="aaca" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated"><strong class="jx io">当前页面</strong>:表示当前活动页面。对于我们的<code class="fe mf mg mh mi b">currentPage</code>值，我们将使用基于<strong class="jx io"> 1的指数</strong>，而不是传统的基于0的指数。</li><li id="f845" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated"><strong class="jx io"> pageSize </strong>:表示单页上可见的最大数据量。</li><li id="29e3" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated"><strong class="jx io"> onPageChange </strong>:当页面发生变化时，用更新后的页面值调用回调函数。</li><li id="0c9d" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated"><strong class="jx io"> siblingCount </strong>(可选):表示当前页面按钮每侧显示的页面按钮的最小数量。默认为1。</li></ul><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/ba1e8820c24a56ad3cc235ed6859dcb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EUnu7eJ5TMXH5HiN.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Illustration of different values siblingCount</figcaption></figure><p id="98e5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">从分页组件中，我们将调用<code class="fe mf mg mh mi b">usePagination</code>钩子，它将接受以下参数来计算页面范围:<code class="fe mf mg mh mi b">totalCount</code>、<code class="fe mf mg mh mi b">currentPage</code>、<code class="fe mf mg mh mi b">pageSize</code>、<code class="fe mf mg mh mi b">siblingCount</code>。</p><h1 id="2c04" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">如何实现usePagination挂钩</h1><p id="678c" class="pw-post-body-paragraph jv jw in jx b jy ma ka kb kc mb ke kf kg mc ki kj kk md km kn ko me kq kr ks ig bi translated">下面是我们在实现<code class="fe mf mg mh mi b">usePagination</code>挂钩时需要记住的几件事:</p><ul class=""><li id="19d9" class="mt mu in jx b jy jz kc kd kg mv kk mw ko mx ks my mz na nb bi translated">我们的分页钩子必须返回要在分页组件中以数组形式显示的数字范围。</li><li id="f3ec" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated">当<code class="fe mf mg mh mi b">currentPage</code>、<code class="fe mf mg mh mi b">pageSize</code>、<code class="fe mf mg mh mi b">siblingCount</code>或<code class="fe mf mg mh mi b">totalCount</code>发生变化时，计算逻辑需要重新运行。</li><li id="8701" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated">钩子返回的项目总数应该保持不变。如果用户与组件交互时范围数组的长度发生变化，这将避免调整分页组件的大小。</li></ul><p id="4bef" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">记住上面的事情，让我们在我们的项目<code class="fe mf mg mh mi b">src</code>文件夹中创建一个名为<code class="fe mf mg mh mi b">usePagination.js</code>的文件，并开始实现。</p><p id="7b32" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们的代码框架如下:</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="05aa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我们看看上面的代码，我们正在使用<code class="fe mf mg mh mi b">useMemo</code>钩子来计算我们的核心逻辑。当依赖数组中的任何值改变时，<code class="fe mf mg mh mi b">useMemo</code>回调将运行。</p><p id="6cd6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">此外，我们将<code class="fe mf mg mh mi b">siblingCount</code>道具的<code class="fe mf mg mh mi b">defaultValue</code>设置为<code class="fe mf mg mh mi b">1</code>，因为它是可选道具。</p><p id="63cf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们继续实现代码逻辑之前，让我们理解一下<code class="fe mf mg mh mi b">Pagination</code>组件的不同行为。下图包含分页组件的可能状态:</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/8d4b31841ebea616319ea8efe760d88e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GpI851tN8E6IqNcH.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Possible states of Pagination component</figcaption></figure><p id="c56d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">请注意，分页组件有四种可能的状态。我们会一个一个检查。</p><ul class=""><li id="422c" class="mt mu in jx b jy jz kc kd kg mv kk mw ko mx ks my mz na nb bi translated">总页数少于我们要显示的页数。在这种情况下，我们只返回从<code class="fe mf mg mh mi b">1 to totalPageCount</code>开始的范围。</li><li id="b9e7" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated">总页数大于页数，但只有正确的点可见。</li><li id="0753" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated">总页数大于页码，但只有左边的点可见。</li><li id="ffa4" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated">总页数大于页数，左右点都可见。</li></ul><p id="e449" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">作为第一步，我们将着手计算来自<code class="fe mf mg mh mi b">totalCount</code>和<code class="fe mf mg mh mi b">pageSize</code>的总页数，如下所示:</p><pre class="ku kv kw kx gt mk mi ml mm aw mn bi"><span id="887c" class="mo ld in mi b gy mp mq l mr ms">const totalPageCount = Math.ceil(totalCount / pageSize);</span></pre><p id="370e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">注意，我们使用<code class="fe mf mg mh mi b">Math.ceil</code>将数字舍入到下一个更高的整数值。这确保了我们为剩余的数据保留了额外的页面。</p><p id="20a7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们将继续实现一个定制的<code class="fe mf mg mh mi b">range</code>函数，该函数接受一个<code class="fe mf mg mh mi b">start</code>和<code class="fe mf mg mh mi b">end</code>值，并返回一个从头到尾都包含元素的数组:</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Range method implementation</figcaption></figure><p id="45eb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，我们将通过记住上述案例来实现核心逻辑。</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">usePagination Custom hook implementation</figcaption></figure><p id="0494" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">实现的思想是，我们确定想要在分页组件中显示的数字范围，然后在返回最终范围时用分隔符或点将它们连接在一起。</p><p id="0c86" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于第一个场景，我们的<code class="fe mf mg mh mi b">totalPageCount</code>小于我们根据其他参数计算的药丸总数，我们只返回一个数字范围<code class="fe mf mg mh mi b">1..totalPageCount</code>。</p><p id="aad6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于其他场景，我们在将兄弟药丸包含到<code class="fe mf mg mh mi b">currentPage</code>之后，通过计算左侧和右侧的索引来确定我们是否需要在<code class="fe mf mg mh mi b">currentPage</code>的左侧或右侧的点，然后做出我们的决定。</p><p id="860d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一旦我们知道要在哪里显示点，剩下的计算就很简单了。</p><h1 id="96cd" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">如何实现分页组件</h1><p id="8295" class="pw-post-body-paragraph jv jw in jx b jy ma ka kb kc mb ke kf kg mc ki kj kk md km kn ko me kq kr ks ig bi translated">正如我前面提到的，我们将在分页组件中使用<code class="fe mf mg mh mi b">usePagination</code>钩子，我们将映射返回的范围来呈现它们。</p><p id="5439" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们在<code class="fe mf mg mh mi b">src</code>文件夹中创建一个<code class="fe mf mg mh mi b">Pagination.js</code>文件，并实现如下代码逻辑:</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Pagination Implementation</figcaption></figure><p id="08c5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果页面少于两页，我们不呈现<code class="fe mf mg mh mi b">Pagination</code>组件(然后我们返回<code class="fe mf mg mh mi b">null</code>)。</p><p id="5f9c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将<code class="fe mf mg mh mi b">Pagination</code>组件呈现为一个带有左右箭头的列表，用于处理用户的上一个和下一个动作。在箭头之间，我们映射到<code class="fe mf mg mh mi b">paginationRange</code>上，并将页码呈现为<code class="fe mf mg mh mi b">pagination-items</code>。如果页面项是一个点，我们为它呈现一个Unicode字符。</p><p id="a393" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">作为特殊处理，如果<code class="fe mf mg mh mi b">currentPage</code>是第一页或最后一页，我们分别为左/右箭头添加一个<code class="fe mf mg mh mi b">disabled</code>类。如果需要禁用图标，我们禁用<code class="fe mf mg mh mi b">pointer-events</code>并通过CSS更新箭头图标的样式。</p><p id="22ce" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们还向页面pill添加了click事件处理程序，它将使用更新后的值<code class="fe mf mg mh mi b">currentPage</code>调用<code class="fe mf mg mh mi b">onPageChanged</code>回调函数。</p><p id="7a01" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们的CSS文件将包含以下样式:</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Pagination component styles</figcaption></figure><p id="1330" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">就这样！</strong></p><p id="6700" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们的通用分页实现已经准备好了，我们可以在代码库中的任何地方使用它。</p><h1 id="fb50" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">如何使用自定义分页组件</h1><p id="b72b" class="pw-post-body-paragraph jv jw in jx b jy ma ka kb kc mb ke kf kg mc ki kj kk md km kn ko me kq kr ks ig bi translated">作为最后一步，让我们将这个组件合并到一个小例子中。</p><p id="12ae" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于本文的范围，我们将以表格的形式呈现静态数据。所以，让我们先这样做:</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="76b0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">此时，我们的用户界面如下所示:</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nl"><img src="../Images/7946abe195f3695d79b033a5e7b2acec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8IdMJP8G92uRclR2.gif"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Intermediate table component UI</figcaption></figure><p id="e41b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在要合并<code class="fe mf mg mh mi b">Pagination</code>组件，我们需要两件东西。</p><ul class=""><li id="0100" class="mt mu in jx b jy jz kc kd kg mv kk mw ko mx ks my mz na nb bi translated">首先，我们保持一个<code class="fe mf mg mh mi b">currentPage</code>状态。</li><li id="1b7d" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated">第二，我们计算要为给定页面呈现的数据，并对其进行映射和呈现。</li></ul><p id="2d74" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">出于演示的目的，我们将保持<code class="fe mf mg mh mi b">PageSize</code>不变，并将其值设置为<code class="fe mf mg mh mi b">10</code>。我们还可以提供一个选择器，供用户选择所需的<code class="fe mf mg mh mi b">pageSize</code>。</p><p id="246b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一旦我们做了更改，我们就可以继续用适当的道具呈现我们的<code class="fe mf mg mh mi b">Pagination</code>组件。</p><p id="d9ab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">考虑到这些变化，我们的最终代码将如下所示:</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="ni nj l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Final Demo code</figcaption></figure><p id="b64c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以在此处找到实施的现场演示:</p><figure class="ku kv kw kx gt jo"><div class="bz fp l di"><div class="nm nj l"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Demo</figcaption></figure><h1 id="f847" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">结论</h1><p id="a328" class="pw-post-body-paragraph jv jw in jx b jy ma ka kb kc mb ke kf kg mc ki kj kk md km kn ko me kq kr ks ig bi translated">在本文中，我们创建了一个定制的React钩子<code class="fe mf mg mh mi b">usePagination</code>并在我们的<code class="fe mf mg mh mi b">Pagination</code>组件中使用它。我们还实现了一个使用该组件的简短演示。</p><p id="3e6f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">感谢您的阅读。</strong></p><p id="262e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以在GitHub库查看本教程的完整源代码。</p><p id="cbaf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你觉得这篇文章有帮助，一定要喜欢并与你的同事和朋友分享。如果有什么建议，欢迎在评论里补充。</p><p id="f306" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我还分享与JavaScript web开发相关的技巧和诀窍，并在Twitter上作出反应。</p><p id="0f4a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nn">更多内容尽在</em><a class="ae mj" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nn">plain English . io</em></strong></a></p></div></div>    
</body>
</html>