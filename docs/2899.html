<html>
<head>
<title>How to Resize HTML5 Canvas to Fit the Window</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何调整HTML5画布的大小以适应窗口</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-resize-html5-canvas-to-fit-the-window-26935bf301c4?source=collection_archive---------2-----------------------#2021-06-13">https://javascript.plainenglish.io/how-to-resize-html5-canvas-to-fit-the-window-26935bf301c4?source=collection_archive---------2-----------------------#2021-06-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e58255ccc85df8bb16a72c41211aaccd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9na04pXgL1AfhdmP"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jemsahagun?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jem Sahagun</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="253e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们可能想要调整HTML5画布的大小以适应它所在的窗口。</p><p id="2140" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何调整HTML5画布的大小以适应窗口。</p><h1 id="a8c4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">设置画布的宽度和高度属性</h1><p id="75ec" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在窗口调整大小时设置画布的<code class="fe me mf mg mh b">width</code>和<code class="fe me mf mg mh b">height</code>属性，以设置画布的宽度和高度来改变其大小。</p><p id="9ef3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7dcf" class="mq lc iq mh b gy mr ms l mt mu">const draw = (canvas) =&gt; {<br/>  const ctx = canvas.getContext("2d");<br/>  ctx.beginPath();<br/>  ctx.arc(95, 50, 40, 0, 2 * Math.PI);<br/>  ctx.stroke();<br/>}</span><span id="315b" class="mq lc iq mh b gy mv ms l mt mu">const canvas = document.querySelector("canvas");<br/>canvas.width = window.innerWidth<br/>canvas.height = window.innerHeight<br/>draw(canvas)</span><span id="245d" class="mq lc iq mh b gy mv ms l mt mu">window.addEventListener('resize', () =&gt; {<br/>  canvas.width = window.innerWidth<br/>  canvas.height = window.innerHeight<br/>  draw(canvas)<br/>})</span></pre><p id="add5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要更改画布的大小，请使用以下命令初始化为窗口的尺寸:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6e40" class="mq lc iq mh b gy mr ms l mt mu">canvas.width = window.innerWidth<br/>canvas.height = window.innerHeight</span></pre><p id="cb90" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在resize事件侦听器中做同样的事情，它是用<code class="fe me mf mg mh b">addEventListener</code>方法添加的。</p><p id="d084" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当画布调整大小时，内容消失了，所以每当我们通过设置<code class="fe me mf mg mh b">width</code>和<code class="fe me mf mg mh b">height</code>属性来调整画布大小时，它们必须被再次绘制。</p><h1 id="451e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">用CSS设置大小</h1><p id="7fc7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们也可以用CSS设置画布的大小，让它充满屏幕。</p><p id="dbce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以编写以下HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="be6e" class="mq lc iq mh b gy mr ms l mt mu">&lt;canvas&gt;&lt;/canvas&gt;</span></pre><p id="5b48" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和下面的CSS:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="71fa" class="mq lc iq mh b gy mr ms l mt mu">html,<br/>body {<br/>  width: 100%;<br/>  height: 100%;<br/>  margin: 0;<br/>}</span><span id="548f" class="mq lc iq mh b gy mv ms l mt mu">canvas {<br/>  background-color: #ccc;<br/>  display: block;<br/>  position: absolute;<br/>  top: 0;<br/>  left: 0;<br/>  right: 0;<br/>  bottom: 0;<br/>  width: 100%;<br/>  height: 100%;<br/>}</span></pre><p id="2173" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将画布的<code class="fe me mf mg mh b">width</code>和<code class="fe me mf mg mh b">height</code>都设置为100%。</p><p id="2096" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还将<code class="fe me mf mg mh b">position</code>设置为<code class="fe me mf mg mh b">absolute</code>并将<code class="fe me mf mg mh b">top</code>、<code class="fe me mf mg mh b">left</code>、<code class="fe me mf mg mh b">right</code>和<code class="fe me mf mg mh b">bottom</code>设置为0，以使画布填满屏幕。</p><p id="3808" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们通过将<code class="fe me mf mg mh b">width</code>和<code class="fe me mf mg mh b">height</code>设置为100%来使<code class="fe me mf mg mh b">html</code>和主体元素填充屏幕。</p><p id="7d63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以利用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f783" class="mq lc iq mh b gy mr ms l mt mu">const canvas = document.querySelector("canvas");<br/>const ctx = canvas.getContext("2d");<br/>ctx.beginPath();<br/>ctx.arc(95, 50, 40, 0, 2 * Math.PI);<br/>ctx.stroke();</span></pre><p id="e0f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">arc</code>方法画一个圆。</p><p id="503b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将中心x和y坐标、半径以及以弧度表示的开始和结束角度作为参数，按此顺序排列。</p><h1 id="cf4c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="588e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用JavaScript或CSS调整画布的大小以适应屏幕。</p><p id="dd15" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>