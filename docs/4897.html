<html>
<head>
<title>Create an Accordion Component with React and JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React和JavaScript创建一个Accordion组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-an-accordion-component-with-react-and-javascript-7c57b7b17d0e?source=collection_archive---------7-----------------------#2021-10-02">https://javascript.plainenglish.io/create-an-accordion-component-with-react-and-javascript-7c57b7b17d0e?source=collection_archive---------7-----------------------#2021-10-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/55e9315dfebbb9bfe7ce53bfb4301820.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oKHQlNZa4dfc-AW4"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@circvs?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">David Vilches</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="becd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">React是一个易于使用的JavaScript框架，让我们可以创建前端应用程序。</p><p id="497b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用React和JavaScript创建一个accordion组件。</p><h1 id="bcb5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建项目</h1><p id="a1b8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用Create React App创建React项目。</p><p id="5322" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="011e" class="mn lc iq mj b gy mo mp l mq mr">npx create-react-app accordion</span></pre><p id="5666" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和NPM一起创建我们的React项目。</p><h1 id="c534" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创作手风琴</h1><p id="e01d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了创建手风琴，我们编写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e75f" class="mn lc iq mj b gy mo mp l mq mr">import React, { useState } from "react";</span><span id="3e98" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const [contents, setContents] = useState(<br/>    Array(10)<br/>      .fill()<br/>      .map((_, i) =&gt; {<br/>        return {<br/>          title: `title ${i}`,<br/>          description: `description ${i}`,<br/>          expanded: false<br/>        };<br/>      })<br/>  );</span><span id="1e26" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;style&gt;<br/>        {`<br/>          .title {<br/>            cursor: pointer;<br/>            display: flex;<br/>            justify-content: space-between;<br/>          }</span><span id="eef6" class="mn lc iq mj b gy ms mp l mq mr">          .title,<br/>          .description {<br/>            border: 1px solid black;<br/>            padding: 5px;<br/>          }<br/>        `}<br/>      &lt;/style&gt;<br/>      {contents.map((c, i) =&gt; {<br/>        return (<br/>          &lt;div key={c.title}&gt;<br/>            &lt;div<br/>              className="title"<br/>              onClick={() =&gt; {<br/>                const c = [...contents];<br/>                c[i].expanded = !c[i].expanded;<br/>                setContents(c);<br/>              }}<br/>            &gt;<br/>              &lt;div&gt;<br/>                &lt;b&gt;{c.title}&lt;/b&gt;<br/>              &lt;/div&gt;<br/>              &lt;div&gt;<br/>                {c.expanded ? &lt;span&gt;&amp;#x2191;&lt;/span&gt; : &lt;span&gt;&amp;#x2193;&lt;/span&gt;}<br/>              &lt;/div&gt;<br/>            &lt;/div&gt;<br/>            {c.expanded &amp;&amp; &lt;div className="description"&gt;{c.description}&lt;/div&gt;}<br/>          &lt;/div&gt;<br/>        );<br/>      })}<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="7caf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有包含手风琴内容的<code class="fe mt mu mv mj b">contents</code>数组。</p><p id="497e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们添加<code class="fe mt mu mv mj b">style</code>标签，为accordion标题和内容添加样式。</p><p id="dad6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将<code class="fe mt mu mv mj b">contents</code>数组渲染成一个标题为div的手风琴。</p><p id="2c47" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">onClick</code>属性被设置为复制<code class="fe mt mu mv mj b">contents</code>数组的函数。</p><p id="aa14" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们切换索引为<code class="fe mt mu mv mj b">i</code>的<code class="fe mt mu mv mj b">contents</code>条目的<code class="fe mt mu mv mj b">expanded</code>属性。</p><p id="6e34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe mt mu mv mj b">c</code>调用<code class="fe mt mu mv mj b">setContents</code>来更新<code class="fe mt mu mv mj b">contents</code>数组。</p><p id="01f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在包装器内部，我们显示了<code class="fe mt mu mv mj b">c.title</code>值。</p><p id="6c18" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在此之下，我们根据<code class="fe mt mu mv mj b">c.expanded</code>的值添加代码以显示<code class="fe mt mu mv mj b">c.title</code>右侧的箭头。</p><p id="bf52" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">&amp;#x2191;</code>为向上箭头，<code class="fe mt mu mv mj b">&amp;#x2193;</code>为向下箭头。</p><p id="d7c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而在那下面，我们展示的是<code class="fe mt mu mv mj b">c.expanded</code>为<code class="fe mt mu mv mj b">true</code>时的描述div。</p><h1 id="c920" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b4b8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用Reactr和JavaScript添加一个手风琴。</p></div></div>    
</body>
</html>