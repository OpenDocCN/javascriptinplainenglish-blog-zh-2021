<html>
<head>
<title>How to Use Array Methods: Map, Reduce, and Filter (For Beginners)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用数组方法:映射、归约和过滤(适用于初学者)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-array-methods-map-reduce-and-filter-for-beginners-565ee4663f29?source=collection_archive---------7-----------------------#2021-11-30">https://javascript.plainenglish.io/how-to-use-array-methods-map-reduce-and-filter-for-beginners-565ee4663f29?source=collection_archive---------7-----------------------#2021-11-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="78b5" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">用通俗易懂的描述和例子来理解数组方法！</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/73e63749cbc1754d1838135b00cbaf80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iZqIiyHurRedW_lt"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo By <a class="ae ks" href="https://www.instagram.com/dark_knightt15/" rel="noopener ugc nofollow" target="_blank">Dhaval Parmar</a></figcaption></figure><p id="947b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这三种方法看起来非常可怕，尤其是当它们相互依赖时。因为JavaScript程序员可以很容易地使用for循环来代替这些方法，所以避免它们是相当容易的。</p><p id="5f76" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是当你的同事、老师和合作者使用它们时会发生什么呢？数组方法非常简单明了。希望这篇文章能告诉你这一点。本文将帮助您在大约五分钟内掌握这些JavaScript方法。让我们开始吧。</p><h1 id="a00d" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">地图功能</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mh"><img src="../Images/bb70fd9210ac137db5336d77c7d082f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*82K7fO0M_Egs_NUAhlkKWg.png"/></div></div></figure><p id="969d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">显然，我们用数组开始示例代码，因为<code class="fe mi mj mk ml b">map()</code>是一个数组方法。Map将接受一个数组作为输入，对其执行操作，并返回一个新的数组(大小相同),该数组是该操作的结果。换句话说，它对数组中的每个元素执行操作，将新值放入一个新数组，然后返回这个新数组。</p><p id="b6c0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们来分解一下:</p><p id="48fc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你得到你想要用作输入的数组。在示例代码中，我们的数组名是“array”。然后我们将<code class="fe mi mj mk ml b">.map()</code>添加到我们的数组中，如上所示，产生了<code class="fe mi mj mk ml b">array.map()</code>。然后，对于map方法的参数，我们添加一个函数。</p><p id="f740" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一个函数可以有许多不同的表现方式——这可能是许多人感到困惑的原因。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mh"><img src="../Images/2b493aae3656c81fb236c3d6a7b5130f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EJC5xwVDPUIKzuUH1qLNcQ.png"/></div></div></figure><p id="690a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对于第一种情况，函数如下所示。注意这个函数如何有一个参数<code class="fe mi mj mk ml b">x</code>。这非常重要。这就是正在发生的事情:</p><p id="251a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">map方法只是一个接一个地获取数组的每个元素并应用这个函数(因此，return语句也是必不可少的)。<code class="fe mi mj mk ml b">x </code>代表数组中的每个元素。所以这段代码说的是“一个接一个地取数组的每个元素，然后乘以2。”</p><p id="2e9b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">有了那个码，[1，2，3，4]就会变成[2，4，6，8]。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mh"><img src="../Images/1a414e0dbd1569990fb24a4759025e3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dl9H73-ALHmY5xoeOBU29g.png"/></div></div></figure><p id="139c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在下一个示例中，map方法的参数采用箭头函数的形式。和上一个是一个思路。在这个表示中，函数有一个参数x。对于数组中的每个元素，它将把它乘以3。</p><p id="11af" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">[1，2，3，4]会变成[3，6，9，12]</p><p id="5ba4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">阅读MDN文档中关于<a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" rel="noopener ugc nofollow" target="_blank">箭头功能</a>的更多信息。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mh"><img src="../Images/e45d25c7534e6b877c8f1eea1b6b0f98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1QPejQR9vwSnFzAmrcV-sA.png"/></div></div></figure><p id="2668" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对于最后一个，我们将传递一个预定义的函数作为map函数的参数。这和前两个想法一模一样。请确保该函数接受一个参数并有一个return语句。</p><p id="2b17" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后，需要注意的是以下内容是无效的:</p><pre class="kd ke kf kg gt mm ml mn mo aw mp bi"><span id="fb2a" class="mq lq in ml b gy mr ms l mt mu">console.log(array.map(timesFour()));</span><span id="4018" class="mq lq in ml b gy mv ms l mt mu">function timesFour(x){<br/>  return x*4;<br/>}</span></pre><p id="1a97" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在上面的示例代码中，您正在传递一个函数调用。您要求timesFour()执行并返回值。如果timesFour返回一个我们可以使用的有意义的函数，这是可以接受的。情况并非如此。所以要小心。</p><p id="f129" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">另外，注意你的括号。确保每个括号和花括号都有一个伙伴。</p><h1 id="d032" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">减少</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mh"><img src="../Images/6a2a06f60212ab5777a2502b46f6bb29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9rBSprOuAAvKejo6lrvD4Q.png"/></div></div></figure><p id="344e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">与map方法类似，reduce方法将一个数组作为输入，它不会改变原始数组。但是，与map方法不同，reduce方法不返回整个数组。reduce方法返回一个值。如上面的示例代码所示，这对于将数组中的所有值相加非常有用。</p><p id="8108" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因为我们已经分解了函数呈现自己的不同方式，所以我们将跳过这一部分。相反，让我们来讨论一下reduce方法的参数。</p><p id="ed1c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">reduce方法将函数作为参数，类似于map方法。该函数将有两个参数。在本例中，这两个参数是变量a和b。a是累计总数，b是一个元素，这可能没有意义，所以让我们深入研究一下。</p><pre class="kd ke kf kg gt mm ml mn mo aw mp bi"><span id="4bdb" class="mq lq in ml b gy mr ms l mt mu">let array = [1,2,3,4];<br/>console.log(array.reduce((a,b) =&gt; {<br/>    return a+b;<br/>}));</span></pre><p id="d5b7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这就是事情发生的过程。你可以把它想象成一个for循环。</p><ul class=""><li id="2264" class="mw mx in kv b kw kx kz la lc my lg mz lk na lo nb nc nd ne bi translated">在第一个循环中，第一个元素(在索引0处)成为初始值——存储在<code class="fe mi mj mk ml b">a</code>中。因此，a=1。同样，a是累计总数。</li><li id="a306" class="mw mx in kv b kw nf kz ng lc nh lg ni lk nj lo nb nc nd ne bi translated">在第二个循环中，第二个元素(在索引1处)被分配给<code class="fe mi mj mk ml b">b</code>。b=2。现在，我们要加上a+b，也就是1+2。我们将总和存储在a中。a=3。(你可以把它想成a += b)</li><li id="609f" class="mw mx in kv b kw nf kz ng lc nh lg ni lk nj lo nb nc nd ne bi translated">在第三个循环中，第三个元素(在索引2处)被分配给<code class="fe mi mj mk ml b">b</code>。b=3。我们做a+b或者3+3。我们将总和存储在a中。a=6</li><li id="92fe" class="mw mx in kv b kw nf kz ng lc nh lg ni lk nj lo nb nc nd ne bi translated">在第四个循环中，我们重复这个过程。a=10。因为我们遍历了整个数组，所以我们完成了。</li></ul><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mh"><img src="../Images/1e5b4a08f34e3d9f72bfa0bb66c068c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZEb9dcNqDEYjq7x-x-mr3Q.png"/></div></div></figure><p id="e84a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">reduce方法还让我们做一些特殊的事情。我们可以添加第二个参数来减少。</p><p id="65f5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这就是我们所看到的:</p><pre class="kd ke kf kg gt mm ml mn mo aw mp bi"><span id="4e27" class="mq lq in ml b gy mr ms l mt mu">arrayName.reduce(function-here);</span></pre><p id="f372" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是我们也可以这样做:</p><pre class="kd ke kf kg gt mm ml mn mo aw mp bi"><span id="c575" class="mq lq in ml b gy mr ms l mt mu">arrayName.reduce(function-here, initial-value);</span></pre><p id="3af7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">还记得前面，索引0处的元素被设置为a的初始值，索引0处的元素被设置为我们运行总和的初始值。通过这样做，我们可以将运行总数的初始值设置为我们想要的任何值。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mh"><img src="../Images/123508804812b3877b2154a42c62ab1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l_Ylukn2hL3oX7heRqha6A.png"/></div></div></figure><p id="c0b1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">比较和对比上面的两种减少方法。</p><ul class=""><li id="3336" class="mw mx in kv b kw kx kz la lc my lg mz lk na lo nb nc nd ne bi translated">第一个输出1+2+3+ 4 = 10</li><li id="de3e" class="mw mx in kv b kw nf kz ng lc nh lg ni lk nj lo nb nc nd ne bi translated">第二个输出12 +1+2+3+ 4 = 22</li></ul><p id="2c88" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">理解其工作原理的最佳方式是摆弄它。输入不同的值，观察会发生什么。</p><h1 id="7eca" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">过滤器</h1><p id="1875" class="pw-post-body-paragraph kt ku in kv b kw nk jo ky kz nl jr lb lc nm le lf lg nn li lj lk no lm ln lo ig bi translated">过滤是一种有趣的方法。Filter接受一个数组作为输入，它返回一个新的数组，而不改变原来的数组。与前两种方法类似，filter需要一个函数参数。</p><p id="7387" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">与前面的情况不同，这个函数必须返回true或false值。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mh"><img src="../Images/c37be7a6667406f936b22df837c53a6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wYha8UtjiEIVvewQoKLorA.png"/></div></div></figure><p id="64c1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">流程是这样的:</p><p id="7910" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">过滤器将逐个查看数组的每个元素，并将其用作函数的输入。如果元素被输入到函数中并返回true，那么该元素将被添加到新数组中。如果数组被输入到函数中并返回false，它将不会被添加到新数组中。</p><p id="aaa6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在上面的示例代码中，过滤器将返回一个元素数大于5的新数组。</p><p id="7b3b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">与前两种方法类似，函数可以采用不同的形式。只需确保您的函数有必要的参数，并且包含return语句。</p><p id="e443" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="np">更多内容请看</em><a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="np">plain English . io</em></strong></a><em class="np">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="np">免费每周简讯这里</em> </strong> </a> <em class="np">。</em></p></div></div>    
</body>
</html>