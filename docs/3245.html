<html>
<head>
<title>How to Use Angular’s Attribute Directives in Your Class Hierarchy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在类层次结构中使用Angular的属性指令</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-angulars-attribute-directives-in-your-class-hierarchy-d3a1d0adac32?source=collection_archive---------9-----------------------#2021-07-02">https://javascript.plainenglish.io/how-to-use-angulars-attribute-directives-in-your-class-hierarchy-d3a1d0adac32?source=collection_archive---------9-----------------------#2021-07-02</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="c143" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">使用Angular CLI构建属性指令</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/4f45c921f60a1fa82c93cee1c11efbf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rureFXYB7m_2miFH"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Photo by <a class="ae kw" href="https://unsplash.com/@unstable_affliction?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ivan Bandura</a> on <a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c2d3" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果想改变DOM元素和角度组件的外观或行为，可以使用属性指令。指令是借助@Directive decorator创建的类。可以使用DOM对象的角度方向来改变其外观、行为或布局。</p><p id="bb55" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">指令分为三个标题:</p><p id="eee3" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">组件方向</p><p id="3d9b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">结构指令</p><p id="255d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">归因参考</p><h2 id="6fc6" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated"><strong class="ak">构建属性指令</strong></h2><ul class=""><li id="3a1c" class="mm mn ir kz b la mo ld mp lg mq lk mr lo ms ls mt mu mv mw bi translated">我们使用CLI创建指令。</li></ul><p id="646c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><code class="fe mx my mz na b">ng generate directive test</code></p><p id="17cb" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><code class="fe mx my mz na b">directive()</code>装饰器的配置属性指定了指令的CSS属性选择器<code class="fe mx my mz na b">[testDirective]</code></p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj nb"><img src="../Images/a5dc6a0f3c380e4390cae117afcbafbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*aaG8qzFqrrOpRdqMUoZ9Mg.png"/></div></figure><ul class=""><li id="57c5" class="mm mn ir kz b la lb ld le lg nc lk nd lo ne ls mt mu mv mw bi translated">从<code class="fe mx my mz na b">@angular/core</code>进口<code class="fe mx my mz na b">ElementRef</code>。<code class="fe mx my mz na b">ElementRef</code>通过其<code class="fe mx my mz na b">nativeElement</code>属性授予对宿主Dom元素的直接访问权。</li><li id="6a8f" class="mm mn ir kz b la nf ld ng lg nh lk ni lo nj ls mt mu mv mw bi translated">在directives构造函数()中添加<code class="fe mx my mz na b">ElementRef</code>来注入对宿主DOM元素的引用，该元素是您应用了<code class="fe mx my mz na b">testdirective</code>的元素。</li><li id="631a" class="mm mn ir kz b la nf ld ng lg nh lk ni lo nj ls mt mu mv mw bi translated">向TestDirectives类添加将背景设置为您的颜色的逻辑</li></ul><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj nb"><img src="../Images/5879046e5e40f53e66907a7b6837207c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*QbAWzDdq1OopYsmlcf3kOw.png"/></div></figure><blockquote class="nk nl nm"><p id="f04f" class="kx ky nn kz b la lb js lc ld le jv lf no lh li lj np ll lm ln nq lp lq lr ls ik bi translated">指令不支持名称空间</p></blockquote><p id="d1e2" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><code class="fe mx my mz na b">&lt;p app:testDirective&gt;Test msg&lt;/p&gt;</code></p><h2 id="04ef" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">应用属性指令</h2><p id="4ce6" class="pw-post-body-paragraph kx ky ir kz b la mo js lc ld mp jv lf lg nr li lj lk ns lm ln lo nt lq lr ls ik bi translated"><code class="fe mx my mz na b">&lt;p testDirective&gt;Test&lt;/p&gt;</code></p><p id="253a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">Angular创建TestDirective类的一个实例，并将对<code class="fe mx my mz na b">&lt;p&gt;</code>元素的引用注入到指令的构造函数中，该构造函数将<code class="fe mx my mz na b">&lt;p&gt;</code>元素的背景样式设置为黄色。</p><h2 id="ed24" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated"><strong class="ak">处理用户事件</strong></h2><p id="c9cd" class="pw-post-body-paragraph kx ky ir kz b la mo js lc ld mp jv lf lg nr li lj lk ns lm ln lo nt lq lr ls ik bi translated"><code class="fe mx my mz na b">Import HostListener from '@angular/core'</code></p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div class="gi gj nb"><img src="../Images/63e4b027886d23d13b4ba8c2ea7ac09a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*S9nNhymHDdXcoDbImAEZJw.png"/></div></figure><p id="3cb5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">使用<code class="fe mx my mz na b">@HostListener</code>装饰器，您可以订阅托管属性指令的DOM元素的事件，在本例中是<code class="fe mx my mz na b">&lt;p&gt;</code>。处理程序委托给一个助手方法<code class="fe mx my mz na b">changeBehavior()</code>，该方法设置宿主DOM元素的颜色。</p><p id="082d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">当指针悬停在段落元素上时，背景<code class="fe mx my mz na b">color</code>和<code class="fe mx my mz na b">textStyle</code>出现，当指针移出时，背景消失。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nu nv l"/></div></figure><p id="c003" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">使用NgNonBindable禁用角度加工</strong></p><p id="220d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><code class="fe mx my mz na b">ngNonBindable</code>取消模板中的插值、指令和绑定。</p><p id="278f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">将<code class="fe mx my mz na b">ngNonBindable</code>应用于一个元素会停止绑定该元素的子元素。它仍然允许指令在您应用<code class="fe mx my mz na b">ngNonBindable</code>的元素上工作</p><p id="3104" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果在父元素中使用它，Angular会对元素的子元素禁用任何类型的插值和绑定，如属性绑定或事件绑定。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nw"><img src="../Images/4f24afe3e6d758e34f673876ac71c286.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gDaAy_QNxmpUQJGQUWfdA.png"/></div></div></figure><h2 id="964e" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated"><strong class="ak">结构指令</strong></h2><p id="a93c" class="pw-post-body-paragraph kx ky ir kz b la mo js lc ld mp jv lf lg nr li lj lk ns lm ln lo nt lq lr ls ik bi translated">结构指令用于操作和改变DOM对象的结构。它们以“*”号开始。</p><p id="24e4" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> *ngIf指令:</strong>允许添加和删除DOM元素。</p><p id="d8ee" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> *ngSwitch指令:</strong>这个指令也允许你添加和删除DOM元素。这类似于C#和类似语言中开关的使用。</p><p id="eb05" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> *ngFor指令:</strong> *ngFor指令用于将可重复的HTML部分添加到列表的HTML中。</p><h2 id="9ccd" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated"><strong class="ak">属性指令</strong></h2><p id="9ddc" class="pw-post-body-paragraph kx ky ir kz b la mo js lc ld mp jv lf lg nr li lj lk ns lm ln lo nt lq lr ls ik bi translated">属性指令用于改变DOM对象的外观和行为。</p><p id="2ef5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> ngClass指令:</strong> ngClass指令用于向HTML元素添加CSS类。</p><p id="b3de" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> ngStyle指令:</strong> ngStyle指令用于给HTML元素添加样式，动态改变它们的样式。</p><h2 id="7562" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">主机监听器</h2><p id="b48e" class="pw-post-body-paragraph kx ky ir kz b la mo js lc ld mp jv lf lg nr li lj lk ns lm ln lo nt lq lr ls ik bi translated">它是一个声明，允许我们确定我们创建的指令将被分配给哪个事件/事件。</p><h2 id="38e0" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">主机绑定</h2><p id="fe8c" class="pw-post-body-paragraph kx ky ir kz b la mo js lc ld mp jv lf lg nr li lj lk ns lm ln lo nt lq lr ls ik bi translated">该声明将自身绑定到由指令标记的DOM对象的属性，根据声明该属性的变量的值将该属性应用于相应的对象。</p><p id="7d5d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><a class="ae kw" href="https://angular.io/guide/attribute-directives" rel="noopener ugc nofollow" target="_blank"> <em class="nn">来源</em> </a></p></div><div class="ab cl nx ny hv nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ik il im in io"><div class="kh ki kj kk gu oe"><a href="https://stackblitz.com/edit/angular-ivy-9ycjxx?file=src/app/test.directive.ts" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd is gz z fq oj fs ft ok fv fx iq bi translated">angular-ivy-9ycjxx - StackBlitz</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">导出到Angular CLI的Angular应用程序的启动项目</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">stackblitz.com</p></div></div><div class="on l"><div class="oo l op oq or on os kq oe"/></div></div></a></div><div class="ot ou gq gs ov oe"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-create-marker-and-marker-cluster-with-leaflet-map-95e92216c391"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd is gz z fq oj fs ft ok fv fx iq bi translated">如何使用传单地图创建标记和标记簇</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">在活页地图架构中创建标记和图层，然后对标记进行聚类的方法。</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="on l"><div class="ow l op oq or on os kq oe"/></div></div></a></div><div class="ot ou gq gs ov oe"><a rel="noopener  ugc nofollow" target="_blank" href="/chart-and-calendar-design-in-flip-card-using-angular-nebular-db0ffd434d5b"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd is gz z fq oj fs ft ok fv fx iq bi translated">使用角状星云在翻转卡中设计图表和日历</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">在活动卡片上创建一个快速、友好的图表和日历。</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="on l"><div class="ox l op oq or on os kq oe"/></div></div></a></div><div class="ot ou gq gs ov oe"><a rel="noopener  ugc nofollow" target="_blank" href="/create-a-card-design-with-the-free-vue-js-template-now-ui-kit-5676a738e518"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd is gz z fq oj fs ft ok fv fx iq bi translated">使用免费的Vue.js模板创建卡片设计</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">使用免费主题可能是开发设计和学习的最佳方式之一。</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="on l"><div class="oy l op oq or on os kq oe"/></div></div></a></div><div class="ot ou gq gs ov oe"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-use-angular-component-styles-with-special-selectors-dc877514372c"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd is gz z fq oj fs ft ok fv fx iq bi translated">如何将角度组件样式与特殊选择器一起使用</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">在具有独立样式文件的组件的基础上，将样式添加到您的Angular应用程序有助于您创建一个更…</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="on l"><div class="oz l op oq or on os kq oe"/></div></div></a></div><p id="63f1" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="nn">更多内容请看</em><a class="ae kw" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="nn">plain English . io</em></strong></a></p></div></div>    
</body>
</html>