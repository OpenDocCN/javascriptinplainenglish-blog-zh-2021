<html>
<head>
<title>JavaScript String Immutability</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript字符串不变性</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-string-immutability-c8a6c8d23167?source=collection_archive---------8-----------------------#2021-12-15">https://javascript.plainenglish.io/javascript-string-immutability-c8a6c8d23167?source=collection_archive---------8-----------------------#2021-12-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="56fd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我看到了很多关于字符串不变性的困惑，我想我会尽我所能来澄清这对困惑的人意味着什么。</p><p id="285a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">经常有人向新程序员指出“字符串是不可变的”然而，仅仅陈述这个事实并不能阐明当我们写代码时它是如何在功能上应用的。往往初学者在学习的时候，“换”弦是一直在发生的。你学习如何执行操作和切片；将旧变量重新声明为新字符串。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cc958ac1f007cfdc942b2ef3b4fa0380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q_BegdVVxmkS6Df-ZeIb8w.jpeg"/></div></div></figure><p id="8877" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是它可能变得令人困惑的地方，因为如果你不真正理解发生了什么，很容易认为我们实际上是在改变原来的字符串。<em class="ku">但那只是它的</em>，你并没有改变<em class="ku">原来的字符串；</em>你在改变<em class="ku">变量</em>。您对原始字符串执行<em class="ku">操作</em>，将返回对原始字符串<em class="ku">执行操作的<em class="ku">结果</em>，而不改变</em>原始字符串。</p><p id="c6f6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">理解了这一点，就更清楚为什么每次要存储字符串操作的结果时，都必须重新分配变量(或者创建一个新的变量)。</p><p id="9468" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">假设你有一个变量<code class="fe kv kw kx ky b">let x = 'string'</code>——即使你做了<code class="fe kv kw kx ky b">x[0] = 't'</code>，你也不会像你期望的那样把<code class="fe kv kw kx ky b">x</code>变成<code class="fe kv kw kx ky b">'ttring'</code>。<code class="fe kv kw kx ky b">x</code>仍将等于<code class="fe kv kw kx ky b">'string'</code>。然而，这并不意味着你不能得到你想要的结果。假设你想用东西填充一根绳子。JavaScript <code class="fe kv kw kx ky b">``</code>模板文字中有一个方便的工具；它们允许你使用变量来构造字符串。所以，如果你有<code class="fe kv kw kx ky b">x</code>并且你想把<code class="fe kv kw kx ky b">'*'</code>加到x的开始和结束，并且用<code class="fe kv kw kx ky b">'t'</code>替换<code class="fe kv kw kx ky b">x[0]</code>，你可以做<code class="fe kv kw kx ky b">x = `*t${x.slice(1)}*</code>和现在的<code class="fe kv kw kx ky b">x = '*ttring*'</code></p><p id="c460" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里发生的事情是，我们将<code class="fe kv kw kx ky b">x</code>赋值给原始字符串的一个片段的值，从索引1 <code class="fe kv kw kx ky b">'tring'</code>开始，在该片段之前有“t ”,在两侧有<code class="fe kv kw kx ky b">'*'</code>。</p><p id="2ca6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最终，我们仍然没有改变原来的字符串；<code class="fe kv kw kx ky b">x</code>现在指向一个新的不同的字符串，该字符串是对<code class="fe kv kw kx ky b">x</code>的先前值(原始字符串)执行操作的结果。结果是同一个变量保存了一个完全不同的字符串，原来的字符串现在丢失了或被垃圾回收了(如果没有存储在其他地方的话)。尽管它可能会丢失，但从功能上来说，我们从未更改过原始字符串。</p><p id="0c16" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ku">更多内容看</em> <a class="ae kz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="ku">说白了. io </em> </strong> </a> <strong class="jm io"> <em class="ku">。</em>T13】</strong></p></div></div>    
</body>
</html>