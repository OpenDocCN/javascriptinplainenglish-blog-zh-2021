<html>
<head>
<title>Next.js Firebase v9: Add a Loading Page</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Next.js Firebase v9:添加加载页面</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/nextjs-firebase-v9-part-13-add-a-loading-page-5ffad44f599f?source=collection_archive---------19-----------------------#2021-10-25">https://javascript.plainenglish.io/nextjs-firebase-v9-part-13-add-a-loading-page-5ffad44f599f?source=collection_archive---------19-----------------------#2021-10-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0fee" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第13部分:使用react-loading npm包创建加载页面</h2></div><p id="f107" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将创建加载页面。<a class="ae lb" href="https://www.npmjs.com/package/react-loading" rel="noopener ugc nofollow" target="_blank">我们使用react-loading包来创建页面。</a>在接下来的文章中，我们将创建一个<code class="fe lc ld le lf b">&lt;Loading&gt;</code>和登录页面，因为我们开始做用户可以使用Google登录的认证部分。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/631552c600b185ccbbfa80427ee5025b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Xn0ETxk2uS9u1NM0.png"/></div></figure><p id="8dfd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">观看<a class="ae lb" href="https://www.youtube.com/watch?v=Sdv3bw2rIuQ&amp;list=PLC5vixW_4xSKqwpgaPEcLj7O3SvUNqC9L" rel="noopener ugc nofollow" target="_blank">视频系列</a>和<a class="ae lb" href="https://www.udemy.com/course/complete-nextjs-firebase-firestore-course/?referralCode=50C342DE4DD73B4428F4" rel="noopener ugc nofollow" target="_blank">源代码</a></p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><p id="ae67" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们复制下面的命令并将其粘贴到终端，然后按enter键安装软件包。</p><pre class="lh li lj lk gt lv lf lw lx aw ly bi"><span id="66af" class="lz ma iq lf b gy mb mc l md me">yarn add react-loading</span></pre><p id="2490" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在components文件夹下，添加一个<strong class="kh ir"> Loading.js </strong>文件。同样，像详细页面一样，将<code class="fe lc ld le lf b">&lt;ReactLoading&gt;</code>组件放在<code class="fe lc ld le lf b">&lt;Grid&gt;</code>中。</p><pre class="lh li lj lk gt lv lf lw lx aw ly bi"><span id="13ef" class="lz ma iq lf b gy mb mc l md me">import { Grid } from "@mui/material"</span><span id="67dd" class="lz ma iq lf b gy mf mc l md me">import ReactLoading from 'react-loading';</span><span id="dbf5" class="lz ma iq lf b gy mf mc l md me">const Loading = ({ type, color }) =&gt; {</span><span id="5808" class="lz ma iq lf b gy mf mc l md me">return (</span><span id="d5c9" class="lz ma iq lf b gy mf mc l md me">&lt;Grid</span><span id="197a" class="lz ma iq lf b gy mf mc l md me">container</span><span id="a070" class="lz ma iq lf b gy mf mc l md me">spacing={0}</span><span id="a289" class="lz ma iq lf b gy mf mc l md me">direction="column"</span><span id="d428" class="lz ma iq lf b gy mf mc l md me">alignItems="center"</span><span id="fe07" class="lz ma iq lf b gy mf mc l md me">justifyContent="center"</span><span id="e7ea" class="lz ma iq lf b gy mf mc l md me">style={{ minHeight: '100vh' }}&gt;</span><span id="cfbe" class="lz ma iq lf b gy mf mc l md me">&lt;ReactLoading type={type} color={color} height={'20%'} width={'20%'} /&gt;</span><span id="b5a1" class="lz ma iq lf b gy mf mc l md me">&lt;/Grid&gt;</span><span id="3728" class="lz ma iq lf b gy mf mc l md me">)</span><span id="5cb1" class="lz ma iq lf b gy mf mc l md me">}</span><span id="db13" class="lz ma iq lf b gy mf mc l md me">export default Loading</span></pre><p id="4feb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们已经创建了加载组件，我们可以尝试看看它是什么样子的。</p><p id="ab7f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<strong class="kh ir"> index.js </strong>中，我们在原始部分的顶部返回<code class="fe lc ld le lf b">&lt;Loading&gt;</code>，我们可以立即看到加载组件。</p><p id="40cb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个例子中，我们将<code class="fe lc ld le lf b">&lt;Loading&gt;</code>组件设置为类型等于气泡，颜色等于黄绿色。</p><p id="6c5d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在文件中，它提到还有许多其他类型的装载机，如“球”或“立方体”。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/1d397fc4d9375f48bb6d607fa028eabe.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*UnXJgaY6CAkqEuKi_fEy-A.png"/></div></figure><pre class="lh li lj lk gt lv lf lw lx aw ly bi"><span id="8f94" class="lz ma iq lf b gy mb mc l md me">import { Alert, Container, Snackbar } from '@mui/material'</span><span id="1a86" class="lz ma iq lf b gy mf mc l md me">import { useState } from 'react';</span><span id="c733" class="lz ma iq lf b gy mf mc l md me"><strong class="lf ir">import Loading from '../components/Loading';</strong></span><span id="018d" class="lz ma iq lf b gy mf mc l md me">import TodoForm from '../components/TodoForm'</span><span id="fdda" class="lz ma iq lf b gy mf mc l md me">import TodoList from '../components/TodoList'</span><span id="ff75" class="lz ma iq lf b gy mf mc l md me">import { TodoContext } from './TodoContext';</span><span id="7f1f" class="lz ma iq lf b gy mf mc l md me">export default function Home() {</span><span id="5935" class="lz ma iq lf b gy mf mc l md me">const [open, setOpen] = useState(false);</span><span id="55d8" class="lz ma iq lf b gy mf mc l md me">const [alertType, setAlertType] = useState("success");</span><span id="050f" class="lz ma iq lf b gy mf mc l md me">const [alertMessage, setAlertMessage] = useState("");</span><span id="f481" class="lz ma iq lf b gy mf mc l md me">const [todo, setTodo] = useState({ title: '', detail: '' })</span><span id="1851" class="lz ma iq lf b gy mf mc l md me">const showAlert = (type, msg) =&gt; {</span><span id="a210" class="lz ma iq lf b gy mf mc l md me">setAlertType(type);</span><span id="de2d" class="lz ma iq lf b gy mf mc l md me">setAlertMessage(msg);</span><span id="f1e7" class="lz ma iq lf b gy mf mc l md me">setOpen(true);</span><span id="bbd0" class="lz ma iq lf b gy mf mc l md me">}</span><span id="f6de" class="lz ma iq lf b gy mf mc l md me">const handleClose = (event, reason) =&gt; {</span><span id="bafe" class="lz ma iq lf b gy mf mc l md me">if (reason === 'clickaway') {</span><span id="25ff" class="lz ma iq lf b gy mf mc l md me">return;</span><span id="5d88" class="lz ma iq lf b gy mf mc l md me">}</span><span id="6c74" class="lz ma iq lf b gy mf mc l md me">setOpen(false);</span><span id="0b55" class="lz ma iq lf b gy mf mc l md me">};</span><span id="372d" class="lz ma iq lf b gy mf mc l md me"><strong class="lf ir">return (&lt;Loading type="bubbles" color="yellowgreen"/&gt;)</strong></span><span id="22e0" class="lz ma iq lf b gy mf mc l md me">return (</span><span id="8e70" class="lz ma iq lf b gy mf mc l md me">&lt;TodoContext.Provider value={{ showAlert, todo, setTodo }}&gt;</span><span id="4ed3" class="lz ma iq lf b gy mf mc l md me">&lt;Container maxWidth="sm"&gt;</span><span id="0469" class="lz ma iq lf b gy mf mc l md me">&lt;TodoForm /&gt;</span><span id="6db4" class="lz ma iq lf b gy mf mc l md me">&lt;Snackbar</span><span id="1472" class="lz ma iq lf b gy mf mc l md me">anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}</span><span id="54c8" class="lz ma iq lf b gy mf mc l md me">open={open} autoHideDuration={3000} onClose={handleClose}&gt;</span><span id="fd57" class="lz ma iq lf b gy mf mc l md me">&lt;Alert onClose={handleClose} severity={alertType} sx={{ width: '100%' }}&gt;</span><span id="0b5b" class="lz ma iq lf b gy mf mc l md me">{alertMes</span></pre><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/2e48081e84ce644d8638fe185676aca0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*G2yNUGN_xHcis7PvJALpew.png"/></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk">the loader displayed at the web page</figcaption></figure><p id="1854" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mm">更多内容看</em> <a class="ae lb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="mm">说白了. io </em> </strong> </a></p></div></div>    
</body>
</html>