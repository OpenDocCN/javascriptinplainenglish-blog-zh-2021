<html>
<head>
<title>How To Build A Chrome Extension</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何构建一个Chrome扩展</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-build-a-chrome-extension-d165f5cde793?source=collection_archive---------12-----------------------#2021-09-29">https://javascript.plainenglish.io/how-to-build-a-chrome-extension-d165f5cde793?source=collection_archive---------12-----------------------#2021-09-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d3a9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">按照这个循序渐进的指南创建你的第一个Chrome扩展</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/82becff11a420924269f0cc7d6a9f116.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sku9gGNsfgpW-cfnWoPOyQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://www.pexels.com/de-de/@caio?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Caio</a> on <a class="ae kv" href="https://www.pexels.com/de-de/foto/macbook-air-auf-grauem-holztisch-67112/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="d0e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="ls">免责声明</em> </strong> <em class="ls">:本文原载于</em> <a class="ae kv" href="https://web-highlights.com/blog/" rel="noopener ugc nofollow" target="_blank"> <em class="ls">网络集锦博客</em> </a> <em class="ls">。你可以在这里找到</em><a class="ae kv" href="https://web-highlights.com/blog/how-to-build-a-chrome-extension/" rel="noopener ugc nofollow" target="_blank"><em class="ls"/></a><em class="ls">。</em></p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="396f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我记得当我创建第一个Chrome扩展时。我在寻找一个扩展，作为文本荧光笔在这里的媒介。Chrome网上商店中的几个扩展功能可以作为文本标记，但是没有一个功能符合我的设想。那时，我跟随一篇类似的文章，创建了我的第一个自己的Chrome扩展。</p><p id="6862" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我意识到创建扩展非常简单，所以我决定开发自己的<a class="ae kv" href="https://chrome.google.com/webstore/detail/web-highlights-%20-bookmark/hldjnlbobkdkghfidgoecgmklcemanhm?hl=de" rel="noopener ugc nofollow" target="_blank"> Web Highlights Chrome扩展</a>，现在已经有1000多名用户。😊</p><div class="ma mb gp gr mc md"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-build-the-medium-text-highlighter-as-a-chrome-extension-with-web-components-b3feccddcd01"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd ir gy z fp mi fr fs mj fu fw ip bi translated">如何用Web组件构建一个中型文本荧光笔作为Chrome扩展</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">我一直喜欢中型荧光笔，它出现在选择文章中的文本时。我认为这将是很好的…</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr kp md"/></div></div></a></div><p id="9264" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">能够创建自己的扩展使您有可能根据自己的需要定制网页。</p><blockquote class="ms"><p id="08de" class="mt mu iq bd mv mw mx my mz na nb lr dk translated">"浏览器扩展是一个用于定制网络浏览器的小软件模块."——<a class="ae kv" href="https://en.wikipedia.org/wiki/Browser_extension" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org</a></p></blockquote><p id="22e0" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated">在本文中，我们将构建一个非常简单的chrome扩展，允许您通过双击当前页面上的任何元素来更改其背景颜色。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="fec7" class="nh ni iq bd nj nk nl nm nn no np nq nr jw ns jx nt jz nu ka nv kc nw kd nx ny bi translated">我们开始吧</h1><p id="49ee" class="pw-post-body-paragraph kw kx iq ky b kz nz jr lb lc oa ju le lf ob lh li lj oc ll lm ln od lp lq lr ij bi translated">首先，我们需要创建一个<code class="fe oe of og oh b">manifest.json</code>文件。清单是我们的扩展的入口点，它定义了元数据，比如名称和版本，以及其他功能。</p><p id="17fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们创建一个<code class="fe oe of og oh b">manifest.json</code>并添加一些元数据:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oi oj l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">manifest.json</figcaption></figure><p id="ba95" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">前三个值<code class="fe oe of og oh b">name</code>、<code class="fe oe of og oh b">version</code>和<code class="fe oe of og oh b">manifest_version</code>足以创建我们的第一个chrome扩展。</p><h2 id="7212" class="ok ni iq bd nj ol om dn nn on oo dp nr lf op oq nt lj or os nv ln ot ou nx ov bi translated">安装延伸部分</h2><p id="ff70" class="pw-post-body-paragraph kw kx iq ky b kz nz jr lb lc oa ju le lf ob lh li lj oc ll lm ln od lp lq lr ij bi translated">打开你的Chrome浏览器，导航到<strong class="ky ir"> chrome://extensions </strong>。</p><p id="ae8f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击<strong class="ky ir">开发者模式</strong>旁边的拨动开关启用开发者模式。点击<strong class="ky ir">加载解包</strong>按钮，用我们的<code class="fe oe of og oh b">manifest.json</code>选择目录。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/3aa5a930ed112e4b4de8d7933533e6a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*kNC5dq0wU2x5lMlo3PZ6cw.png"/></div></figure><p id="3310" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">恭喜你！你刚刚创建了你的第一个Chrome扩展！</p><h2 id="63ff" class="ok ni iq bd nj ol om dn nn on oo dp nr lf op oq nt lj or os nv ln ot ou nx ov bi translated">添加一些功能</h2><p id="8129" class="pw-post-body-paragraph kw kx iq ky b kz nz jr lb lc oa ju le lf ob lh li lj oc ll lm ln od lp lq lr ij bi translated">我们刚刚安装了自己的扩展。尽管如此，目前它什么也不做，因为我们还没有给我们的<code class="fe oe of og oh b">manifest.json</code>添加功能。</p><p id="1270" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了让我们的文本荧光笔工作，我们需要读取DOM并对其进行修改的功能。为此，我们将创建内容脚本。chrome开发者文档对内容脚本的定义如下:</p><blockquote class="ox oy oz"><p id="0c34" class="kw kx ls ky b kz la jr lb lc ld ju le pa lg lh li pb lk ll lm pc lo lp lq lr ij bi translated">内容脚本生活在一个孤立的世界中，允许内容脚本对其JavaScript环境进行更改，而不会与页面或其他扩展的内容脚本发生冲突。</p></blockquote><p id="9d05" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们创建一个带有警告的<code class="fe oe of og oh b">content.js</code>文件，以确保我们的扩展成功加载脚本。这个文件将作为我们的内容脚本。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="4f30" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oe of og oh b">content.js</code>脚本是我们扩展的入口点。让我们调整我们的<code class="fe oe of og oh b">manifest.json</code>来注入我们的脚本:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="57d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了使用我们静态声明的脚本，我们需要在<code class="fe oe of og oh b">content_scripts</code>字段下注册它们。该字段需要定义<em class="ls">必需的</em>属性<code class="fe oe of og oh b">matches</code>，以指定内容脚本将被注入到哪些页面。为此，您可以设置几个<a class="ae kv" href="https://developer.chrome.com/docs/extensions/mv3/content_scripts/match_patterns" rel="noopener ugc nofollow" target="_blank">匹配模式</a>。我们将使用特殊模式<code class="fe oe of og oh b">&lt;all_urls&gt;</code>来匹配任何以允许的模式开头的URL例如<code class="fe oe of og oh b">http</code>或<code class="fe oe of og oh b">https</code>。</p><p id="2b03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还定义了可选字段<code class="fe oe of og oh b">js</code>。在这里，我们定义要注入到匹配页面中的脚本。</p><p id="cdc1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们通过按下<code class="fe oe of og oh b">chrome://extensions</code>上扩展的刷新按钮来更新我们的扩展。我们现在可以导航到任何页面，如果操作正确，当页面加载时应该会出现一个警告。</p><p id="92cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">老实说，这是一个非常烦人的扩展。因此，让我们为非常简单的背景颜色转换器添加代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="1027" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个脚本将监听当前页面上的双击，以在给定位置显示颜色选择器。</p><p id="5f6d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，让我们通过点击刷新按钮来更新我们的扩展。我们现在可以通过双击改变页面上任何元素的背景。</p><h1 id="a04b" class="nh ni iq bd nj nk pd nm nn no pe nq nr jw pf jx nt jz pg ka nv kc ph kd nx ny bi translated">结论</h1><p id="a33b" class="pw-post-body-paragraph kw kx iq ky b kz nz jr lb lc oa ju le lf ob lh li lj oc ll lm ln od lp lq lr ij bi translated">创建一个简单的Chrome扩展非常简单。如果您想更深入地了解如何创建扩展，可以看看这篇文章:</p><div class="ma mb gp gr mc md"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-build-the-medium-text-highlighter-as-a-chrome-extension-with-web-components-b3feccddcd01"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd ir gy z fp mi fr fs mj fu fw ip bi translated">如何用Web组件构建一个中型文本荧光笔作为Chrome扩展</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">我一直喜欢中型荧光笔，它出现在选择文章中的文本时。我认为这将是很好的…</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr kp md"/></div></div></a></div><p id="b7b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望你能理解这篇文章。看看<a class="ae kv" href="https://github.com/MariusBongarts/medium-chrome-extension" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>来看看我们的投资组合应用程序的最终版本。</p><p id="53ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我总是很乐意回答问题，也乐于接受批评。请随时联系我😊</p><p id="6b22" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://medium.com/@mariusbongarts/membership" rel="noopener"> <strong class="ky ir">这里是无限制访问媒体</strong> </a>上每一个内容的链接。如果你用这个链接注册，我会赚一小笔钱，不需要你额外付费。</p><div class="ma mb gp gr mc md"><a href="https://medium.com/@mariusbongarts/membership" rel="noopener follow" target="_blank"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd ir gy z fp mi fr fs mj fu fw ip bi translated">通过我的推荐链接加入Medium-Marius bong arts</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">medium.com</p></div></div><div class="mm l"><div class="pi l mo mp mq mm mr kp md"/></div></div></a></div></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="685b" class="ok ni iq bd nj ol om dn nn on oo dp nr lf op oq nt lj or os nv ln ot ou nx ov bi translated">关于作者</h2><p id="2f44" class="pw-post-body-paragraph kw kx iq ky b kz nz jr lb lc oa ju le lf ob lh li lj oc ll lm ln od lp lq lr ij bi translated">Marius Bongarts是埃森哲互动公司的软件工程分析师。他还创建了<a class="ae kv" href="https://chrome.google.com/webstore/detail/web-highlights-+-bookmark/hldjnlbobkdkghfidgoecgmklcemanhm" rel="noopener ugc nofollow" target="_blank"> Web Highlights扩展</a>，允许用户在标签和目录的帮助下组织文本亮点和书签。</p><p id="5869" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过<strong class="ky ir"/><a class="ae kv" href="https://www.linkedin.com/in/marius-bongarts-6b3638171/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">LinkedIn</strong></a><strong class="ky ir">与我联系。</strong></p><div class="ma mb gp gr mc md"><a rel="noopener  ugc nofollow" target="_blank" href="/showcase-your-medium-articles-with-web-components-part-1-basics-d2c6618e9482"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd ir gy z fp mi fr fs mj fu fw ip bi translated">用Web组件构建自己的博客组合:基础</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">第1部分—定制元素、阴影DOM和HTML模板</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mm l"><div class="pj l mo mp mq mm mr kp md"/></div></div></a></div><div class="ma mb gp gr mc md"><a rel="noopener  ugc nofollow" target="_blank" href="/5-skills-you-dont-get-around-to-learn-as-a-fullstack-developer-409f13c394c7"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd ir gy z fp mi fr fs mj fu fw ip bi translated">作为全栈开发人员，你应该马上学会的5项技能</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">现在就学习吧，你会后悔错过的</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mm l"><div class="pk l mo mp mq mm mr kp md"/></div></div></a></div><div class="ma mb gp gr mc md"><a rel="noopener  ugc nofollow" target="_blank" href="/5-more-skills-you-should-learn-right-away-as-a-full-stack-developer-4cb6f935671"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd ir gy z fp mi fr fs mj fu fw ip bi translated">作为一名全栈开发人员，你应该马上学会的另外5项技能</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">现在就学习它们；你会后悔耽搁了它</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mm l"><div class="pl l mo mp mq mm mr kp md"/></div></div></a></div><div class="ma mb gp gr mc md"><a rel="noopener  ugc nofollow" target="_blank" href="/when-you-should-duplicate-code-b0d747bc1c67"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd ir gy z fp mi fr fs mj fu fw ip bi translated">何时应该复制代码</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">复制比错误的抽象要便宜得多</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mm l"><div class="pm l mo mp mq mm mr kp md"/></div></div></a></div><p id="ecce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容请看</em><a class="ae kv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">plain English . io</em></strong></a></p></div></div>    
</body>
</html>