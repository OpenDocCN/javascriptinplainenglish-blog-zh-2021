<html>
<head>
<title>JavaScript Date Object — What are Static Methods and How to Use Them?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript日期对象——什么是静态方法以及如何使用它们？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-date-object-staticmethods-9ed01a06f29d?source=collection_archive---------16-----------------------#2021-07-13">https://javascript.plainenglish.io/javascript-date-object-staticmethods-9ed01a06f29d?source=collection_archive---------16-----------------------#2021-07-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="b240" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">JavaScript中日期对象的基础知识第3部分:使用静态方法</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/ed2945ea8f4df4d6f4aa210522d9f358.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*442nWYysdG44KnEm13MSzg.png"/></div></div></figure><p id="df8b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这篇文章是我的免费YouTube系列关于网络开发基础知识的抄本。如果你更喜欢看而不是读，请随时访问我的频道“Dev Newbs”。T3】</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ll lm l"/></div></figure><p id="d23c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">嗨，我的新手伙伴们！约会方法的另一集在这里。今天，我们将看看日期对象的静态方法。共有三种，我将逐一解释和展示。我们开始吧。</p><p id="6c77" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">第一个静态方法被称为now()，它返回自1970年1月1日00:00:00 UTC以来经过的毫秒数。返回值是一个原始整数值。</p><p id="95f0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">EcmaScript规范的第5版中规定了这种方法，所以一些旧版本的浏览器仍然可能不支持它。虽然我相信你不会遇到这样的情况。但是如果您以某种方式这样做了，您可以简单地通过使用getTime()的非静态方法来覆盖这个问题。</p><p id="5850" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在让我们看看这个静态方法的一些例子。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="1fc3" class="ls lt in lo b gy lu lv l lw lx">console.log(Date.now());<br/>console.log(Date.now());<br/>console.log(Date.now());<br/>console.log(Date.now());<br/>console.log(Date.now());</span><span id="3640" class="ls lt in lo b gy ly lv l lw lx">// 1626156551132<br/>// 1626156551133<br/>// 1626156551133<br/>// 1626156551133<br/>// 1626156551133</span></pre><p id="53fd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">有些浏览器(例如Firefox)在使用Date.now()方法时会降低时间精度。这意味着它通过将精确值四舍五入到一定的精度，提供了针对各种计时攻击和指纹识别的保护。</p><p id="74c9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我检查了不同的浏览器，Chrome没有提供这样的行为。您可以看到，您甚至可以多次获得相同的毫秒数——我认为这取决于处理器的当前负载。</p><p id="5038" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">第二个静态方法叫做parse()，顾名思义，它的工作是解析日期的字符串表示。如果成功，它将返回自1970年1月1日00:00:00 UTC以来的毫秒数。如果解析因字符串未被识别或日期包含非法日期值而失败，则返回“NaN”常量。</p><p id="208f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这种方法在历史上并不十分可靠，在EcmaScript版本5之前，解析实现完全依赖于供应商。直到今天，它仍然不太统一，但至少大多数常见的格式在每个浏览器实现中都是可以解析的。官方的说法是，所有的实现都应该支持ISO 8601的简化格式，但幸运的是，可解析格式的集合比这要大。我将在示例中展示我能想到的所有案例。如前所述，返回值是表示自UNIX纪元以来经过的毫秒数。现在，对于这些例子…</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="52cf" class="ls lt in lo b gy lu lv l lw lx">// uses 00:00:00.000 in local time<br/>console.log(Date.parse("2021-07-07"));<br/>// 1625616000000</span><span id="f373" class="ls lt in lo b gy ly lv l lw lx">// uses 00:00:00.000 in UTC/GMT<br/>console.log(Date.parse("07 Jul 2021"));<br/>// 1625608800000</span><span id="d0b1" class="ls lt in lo b gy ly lv l lw lx">// these 2 use local time<br/>console.log(Date.parse("2021-07-07T22:19:38"));<br/>// 1625689178000</span><span id="ccf7" class="ls lt in lo b gy ly lv l lw lx">console.log(Date.parse("Wed, 07 Jul 2021 22:19:38"));<br/>// 1625689178000</span><span id="81c3" class="ls lt in lo b gy ly lv l lw lx">// these 2 use explicitly specified UTC/GMT<br/>// parse() method can only handle GMT, not UTC or any other time zone shortcut<br/>console.log(Date.parse("07 Jul 2021 20:19:38 GMT"));<br/>// 1625689178000</span><span id="d09f" class="ls lt in lo b gy ly lv l lw lx">console.log(Date.parse("Wed, 07 Jul 2021 20:19:38 GMT"));<br/>// 1625689178000</span><span id="6687" class="ls lt in lo b gy ly lv l lw lx">// specifying UTC/GMT time zone by +00:00<br/>console.log(Date.parse("2021-07-07T20:19:38.054+00:00"));<br/>// 1625689178054</span><span id="79a8" class="ls lt in lo b gy ly lv l lw lx">// specifying CET time zone by +02:00<br/>console.log(Date.parse("2021-07-07T22:19:38.054+02:00"));<br/>// 1625689178054</span><span id="0332" class="ls lt in lo b gy ly lv l lw lx">// Z - represents GMT/UTC in ISO 8601 format<br/>console.log(Date.parse("2021-07-07T20:19:38.054Z"));<br/>// 1625689178054</span></pre><p id="2eca" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我把所有可以解析的格式分成三组。第一个只指定年、月和日，其余的使用默认值。有趣的是，第一种格式使用本地时间，而第二种格式使用GMT/UTC。</p><p id="4b75" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">第二组中的格式也指定了小时、分钟和秒，但没有提到毫秒。情况如下。如果没有明确指定GMT时区，则使用当地时区。观察语法分析的奇怪行为也很有趣。它处理快捷方式GMT，但不能处理UTC或任何其他时区快捷方式，如CET。</p><p id="1e7e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最后一组也指定毫秒。UTC或者更确切地说是GMT时区可以用至少两种不同的方式来指定。我们可以使用标准和通用的“+00:00”，也可以使用快捷键“Z”。这就是静态方法parse()的内容。</p><p id="a28b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最后一个方法是UTC()方法，它接受类似于Date构造函数的参数，但是将它们视为UTC。它返回自UNIX纪元以来的毫秒数。</p><p id="e9f5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">UTC()方法的行为与Date构造函数完全一样，即使在处理0到99范围内的年份值时也是如此。提示:它会像您键入1900到1999之间的值一样处理它们。</p><p id="0702" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们看一些例子，之后我会告诉你更多关于这个方法的事情。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="d595" class="ls lt in lo b gy lu lv l lw lx">// this date is specified in local time (GMT+0100)<br/>let endDate = new Date(2021,11,31,23,59,59,999);<br/>console.log(endDate.getTime());<br/>// 1640991599999</span><span id="d955" class="ls lt in lo b gy ly lv l lw lx">console.log(endDate);<br/>// Fri Dec 31 2021 23:59:59 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="634e" class="ls lt in lo b gy ly lv l lw lx">// this date is specified in UTC (GMT+0000)<br/>let utcDate = Date.UTC(2021,11,31,23,59,59,999);<br/>console.log(utcDate);<br/>// 1640995199999</span><span id="0e0a" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date(utcDate));<br/>// Sat Jan 01 2022 00:59:59 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="657f" class="ls lt in lo b gy ly lv l lw lx">// this date is specified in UTC (GMT+0000)<br/>// 23 months - 12 months = 11 months<br/>// year 2020 + 12 months = year 2021<br/>let wrongUtcDate = Date.UTC(2020,23,31,23,59,59,999);<br/>console.log(wrongUtcDate);<br/>// 1640995199999</span><span id="423c" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date(wrongUtcDate));<br/>// Sat Jan 01 2022 00:59:59 GMT+0100 (stredoeurópsky štandardný čas)</span></pre><p id="6b3e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这个方法实际上与日期构造函数只有两点不同。首先，它使用世界时间而不是当地时间。第二个是它返回的数字是时间值，而不是日期对象。</p><p id="6ae0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果任何参数由于某种原因超出范围，该方法会接受该值。因此，例如，如果您键入23作为月份，它会将年份增加1，然后从值23中减去12个月，得到值11，然后将该值用作月份位置的值。很酷，如果你问我。</p><p id="680d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但这是我今天为你准备的。所以恐怕我们今天就到此为止了。希望你喜欢。</p><p id="44ba" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一如既往，感谢您的不懈关注，我们将在下一次讨论我们需要的格式化日期对象的方法时再见。</p><p id="9451" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lk">更多内容看</em><a class="ae lz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>