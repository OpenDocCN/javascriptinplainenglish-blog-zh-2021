# 为什么使用 CDN 会提高网站的性能

> 原文：<https://javascript.plainenglish.io/why-using-a-cdn-will-improve-the-performance-of-your-website-f3ceaed8850c?source=collection_archive---------24----------------------->

![](img/f8f8355a58a490ad1339a64f391fee7d.png)

Photo by [NASA](https://unsplash.com/@nasa?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/network-map?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

你的网站的性能通常是你的用户第一次使用你的网站的体验，所以如果它加载缓慢，用户可能会在他们有机会使用它之前放弃它。

在我的上一篇文章中，我谈到了如何[优化你的图像来提高你的站点的性能](/5-ways-to-optimize-the-performance-of-your-websites-images-10c417c34c30)，今天我们将看看如何利用 CDN 来进一步提高性能。

# 什么是内容交付网络(CDN)？

你可能会问自己的第一个问题是“什么是 CDN？”。

内容交付网络(简称为 CDN)是一个代理服务器的全球分布式网络，用于缓存更接近最终用户的内容。CDN 的目的是缩短用户和响应其请求的服务器之间的物理距离，以提高性能，从而改善用户使用他们所连接的网站或服务的体验。

# 使用 CDN 的好处

网站利用 CDN 可以获得许多好处，其中一些最大的好处是:

## 提高网站的性能

这篇博文的标题可能是一个赠品，但是使用 CDN 的第一个好处是它可以提高你的网站的性能。

您网站的用户可能位于世界任何地方；然而，作为开发人员，我们通常会选择一个单一的位置来托管我们的网站。不幸的是，对于那些不在你托管网站附近的人来说，这会损害你网站的性能。

例如，如果我们决定在 AWS 伦敦地区托管我们的站点，我们的英国访问者得到的延迟将会很好；然而，对于纽约的用户来说，延迟会更糟糕，因为数据必须传输至少 3471 英里(假设它可以直接传输，但它不会)。

CDN 将通过提供离用户更近的内容缓存来帮助您避免这个问题。CDN 将服务器放在离用户更近的地方，当用户请求一个页面时，他们的请求将首先到达 CDN 的服务器。CDN 将检查他们是否缓存了页面；如果缓存了，就返回缓存的版本；如果没有，它将从您的服务器请求页面，并在后续用户请求页面时缓存页面。

除了让内容更贴近用户，现代 CDN 还提供了其他工具，可以用来提高网站的性能。这包括缩小和压缩您发送给用户的内容的能力。

## 降低服务器负载

当你的用户向你的网站发出请求时，每个请求都必须由你的服务器来处理。随着对服务器请求数量的增加，服务器负载也会增加。

当使用 CDN 时，这些请求由 CDN 的服务器处理，它首先向您的服务器发出请求，将响应存储在其缓存中，然后从后面向后续用户提供内容。这将减少对后端系统的请求，降低整体服务器负载，因为更多的流量由 CDN 而不是您自己的服务器处理。

## 使用 CDN 可以帮你省钱

当用户使用你的网站时，每个请求都需要由你的服务器来处理，如果你的网站有大量的用户，你就需要运行大量的服务器来支持你的网站。你的站点规模越大，你在运行服务器上的花费就越多。

使用 CDN 可以抵消大量增加的流量，减少服务器数量，减少负责维护服务器的人员。CDN 的将有规模经济，以较低的成本做到这一点，比你可能能够实现的，他们能够通过这种节省到你作为网站所有者。

## 分布式拒绝服务攻击(DDoS)保护

如果你的网站发现自己成为了 DDoS 攻击的目标，很可能你自己的服务器会很快发现自己不堪重负。

相比之下，CDN 可以通过向用户提供缓存内容和检测攻击本身并完全阻止它，来阻止这种流量到达您的原始服务器。

虽然如果您的团队有足够的专业知识，您可以自己防御 DDoS 攻击，但拥有 CDN 可以大大减少工作量，因为他们有专业知识在它成为问题之前阻止它。

# 使用 CDN 的缺点

到目前为止，我们已经把重点放在了添加 CDN 将提供的好处上，然而，与使用 CDN 可能会发现的所有缺点一样

## 他们促进供应商锁定

简单地在你的网站前添加一个 CDN 可以立即对你的网站产生积极的影响，然而现在它们都提供了广泛的功能，可以帮助你进一步提高你的网站性能。

这些功能的问题是，由于每个 CDN 实现它们的方式不同，因此您无法轻松地直接从一个 CDN 迁移到另一个 CDN。

以路由为例，大多数 CDN 都可以通过控制面板或代码轻松配置不同应用程序之间的网络流量路由。问题是，你不能简单地导出这个路由并将其导入到另一个提供商，要切换提供商，你必须将你的原始 CDN 中实现的任何路由逻辑重建到你的新 CDN 的工作方式中。

此外，并非所有的 CDN 都实施相同的功能集，因此尽管您可能习惯于在我们当前的 CDN 中使用某个功能，但如果您要切换，您可能会发现很难在其他地方找到该功能。

## 这可能是额外的费用

运营一个网站最起码需要有能力在某个地方托管它，这可以是任何东西，从 AWS 和 Google Cloud 到更简单易用的平台，如 Heroku。

这通常会有成本，但是如果您要将 CDN 添加到组合中，通常会有额外的单独成本需要考虑。以 Fastly 为例，他们每月的最低费用为 50 美元，但一些 CDN(如 CloudFlare)确实提供了一个功能集更有限的免费层。

## CDN 可能无法提供您需要的规模

如果你在为苹果、脸书或网飞等公司工作，你可能会认为依赖第三方 CDN 无法提供你想要的规模或控制力。

网飞正是因为这个问题才建立了自己的 CDN， [Ayush Kumar singh](https://ayushhsinghh.medium.com/?source=post_page-----64ca6282eda0--------------------------------) 写了一篇关于他们如何做的案例研究。

[](https://ayushhsinghh.medium.com/case-study-how-netflix-is-using-aws-and-its-own-cdn-64ca6282eda0) [## 案例研究:网飞如何使用自动气象站和自己的 CDN

### 网飞案例研究:网飞和网飞 AWS 拥有 CDN Open Connect，它如何在全球范围内提供低延迟流媒体。

ayushhsinghh.medium.com](https://ayushhsinghh.medium.com/case-study-how-netflix-is-using-aws-and-its-own-cdn-64ca6282eda0) 

# 应该用哪个 CDN？

您可以使用许多不同的 CDN，其中一些较大的有:

*   快速地
*   阿卡迈
*   云锋
*   云耀斑

每个都有自己的优点和缺点，我不会在这里深入讨论，但我个人的选择是 Cloudflare 个人项目和 Fastly 专业项目。

如果您的预算紧张，我建议您提前购买 Cloudflare，因为他们有一个免费层可供您使用。他们的网站会引导你完成安装，这样你就可以快速安装。

# 结论

CDN 是一个很有价值的工具，可以用来提高网站的性能和可靠性。

虽然使用 CDN 既有好处也有坏处，但我鼓励你看看这两者，以帮助你自己考虑使用 CDN 是否适合你的网站。

最后，不用说，使用 CDN 并不是修复网站性能的灵丹妙药，它肯定是一个很好的起点。

*注意:我不隶属于任何 CDN，这篇文章基于我的个人经历。*

*更多内容尽在*[***plain English . io***](http://plainenglish.io)