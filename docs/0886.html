<html>
<head>
<title>React Native: Create List Items Component</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应本机:创建列表项组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-native-create-list-items-component-57e6b48eb729?source=collection_archive---------4-----------------------#2021-02-24">https://javascript.plainenglish.io/react-native-create-list-items-component-57e6b48eb729?source=collection_archive---------4-----------------------#2021-02-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/9fa70c7cdca0e2967e13b95a85bdea2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-cdPqgx9q9VYr-nOKtdnDg.gif"/></div></div></figure><p id="6f49" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这篇文章中，我将解释您将反复使用的最重要的组件之一。这是一个组件，您将使用它来列出设备上的项目。我们将基于我们在步骤/文章7<a class="ae kt" href="https://lnkd.in/gVJspwG" rel="noopener ugc nofollow" target="_blank">https://lnkd.in/gVJspwG</a>中创建的应用程序，列出我们从REST端点收到的项目</p><p id="708e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">本文是系列文章的一部分(它建立在前面的步骤之上)</p><ol class=""><li id="a03a" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated"><a class="ae kt" href="https://www.linkedin.com/pulse/create-redux-hello-world-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0/" rel="noopener ugc nofollow" target="_blank">https://lnkd.in/guBuBVP</a>:<a class="ae kt" href="https://lnkd.in/guBuBVP" rel="noopener ugc nofollow" target="_blank">𝑪𝒓𝒆𝒂𝒕𝒆𝒂𝑹𝒆𝒅𝒖𝒙</a></li></ol><p id="435b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">2.<a class="ae kt" href="https://www.linkedin.com/pulse/create-react-native-base-project-run-rany-elhousieny-phd%25E1%25B4%25AC%25E1%25B4%25AE%25E1%25B4%25B0/?trackingId=fVq%2FbGEzug0okFdN6aGbPQ%3D%3D" rel="noopener ugc nofollow" target="_blank">创建React原生App </a> <a class="ae kt" href="https://www.linkedin.com/pulse/create-react-native-base-project-run-rany-elhousieny-phd%25E1%25B4%25AC%25E1%25B4%25AE%25E1%25B4%25B0/?trackingId=fVq%2FbGEzug0okFdN6aGbPQ%3D%3D" rel="noopener ugc nofollow" target="_blank">此处</a><a class="ae kt" href="https://lnkd.in/gDWG7AC" rel="noopener ugc nofollow" target="_blank">https://lnkd.in/gDWG7AC</a></p><p id="6632" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3.redux with React Native:1-阅读状态:<a class="ae kt" href="https://lnkd.in/gUbBRs8" rel="noopener ugc nofollow" target="_blank">https://lnkd.in/gUbBRs8</a></p><p id="a6a3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">4.<a class="ae kt" href="https://www.linkedin.com/pulse/redux-react-native-2-updating-state-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0/?published=t" rel="noopener ugc nofollow" target="_blank">Redux with React Native:2-更新状态https://lnkd.in/gPcUcMx</a></p><p id="8ee2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">5.<a class="ae kt" href="https://lnkd.in/g5tVFn8" rel="noopener ugc nofollow" target="_blank">了解Redux中的中间件:</a><a class="ae kt" href="https://lnkd.in/g5tVFn8" rel="noopener ugc nofollow" target="_blank">https://lnkd.in/g5tVFn8</a></p><p id="1ccd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">6.<a class="ae kt" href="http://creating%20a%20mock%20rest%20endpoint%20using%20json-server%2C%20for%20testing/" rel="noopener ugc nofollow" target="_blank">使用Json-Server创建一个模拟REST端点，用于测试https://www . LinkedIn . com/pulse/Creating-Mock-REST-Server-testing-using-Json-Server-rany/</a></p><p id="49af" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">7.<a class="ae kt" href="https://www.linkedin.com/pulse/fetch-data-redux-thunk-react-native-app-rany-elhousieny-phd%25E1%25B4%25AC%25E1%25B4%25AE%25E1%25B4%25B0/?trackingId=IByiw0No1y9DS%2BlGk9KdTw%3D%3D" rel="noopener ugc nofollow" target="_blank">在React Native App中用Redux-Thunk取数据</a>:<a class="ae kt" href="https://lnkd.in/gVJspwG" rel="noopener ugc nofollow" target="_blank">https://lnkd.in/gVJspwG</a></p><p id="1b6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">8。[本文]: React Native:创建列表项组件</p><p id="f3ad" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该应用的最终代码可以在<a class="ae kt" href="https://github.com/ranyelhousieny/ReactNativeFoodApplication" rel="noopener ugc nofollow" target="_blank">Github https://Github . com/ranyelhousieny/ReactNativeFoodApplication</a>中找到</p><p id="16aa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以克隆并使用</p><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="4d99" class="lm ln in li b gy lo lp l lq lr">git clone <a class="ae kt" href="https://github.com/ranyelhousieny/ReactNativeFoodApplication.git" rel="noopener ugc nofollow" target="_blank">https://github.com/ranyelhousieny/ReactNativeFoodApplication.git</a></span></pre><p id="8e65" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi">================================================================</p><p id="530b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在您按照在https://lnkd.in/gVJspwG<a class="ae kt" href="https://lnkd.in/gVJspwG" rel="noopener ugc nofollow" target="_blank">的说明从REST端点获取数据之后，我们将在设备上列出。在上一篇文章中，我们只是使用console.log将它们打印到控制台来解释这个概念</a></p><h1 id="89d5" class="ls ln in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">1.首先创建一个功能组件</h1><p id="ab2e" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">与MainComponent类似，让我们在文件夹Components下创建一个文件，并将其命名为ListItems.js</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/ad5906a5ae427d74d6bf64cdfd850a01.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/0*joF2ltFjUi2Qrc_V"/></div></figure><figure class="ld le lf lg gt jo gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/51ef003f29af0773826a9948fe784806.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/0*SWifnotavnFZ70Hc"/></div></figure><p id="1d12" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这个文件中，让我们添加所有组件的基础知识</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mw"><img src="../Images/d78d223a4286d6ad1b866646d512f5c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WNgRvq2rGrEobjQZ"/></div></div></figure><p id="141f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi">— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -</p><p id="449d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">旁注[可选]:如果你使用的是VS代码，我建议安装React原生工具</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mx"><img src="../Images/5ebff2a7575145b5aa7ac7325155adde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ctmpyKhIEbi9phdl"/></div></div></figure><p id="dd32" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">和代码片段，用几个字母创建功能组件</p><figure class="ld le lf lg gt jo"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="2138" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">【https://marketplace.visualstudio.com/items? T4】itemName = dsznajder . es7-react-js-snippets</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi na"><img src="../Images/85db595b559d15098147ef744ede9002.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FNRaCweWfdiy4Hkd"/></div></div></figure><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/506735d0d1195aa199e667437f0a1554.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lAN9knlnW_Xx0Ia5"/></div></div></figure><p id="e358" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi">— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -</p><h1 id="eb71" class="ls ln in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">2.在MainComponent中导入列表项</h1><p id="d91a" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">让我们导入Main.js中的ListItems并将其添加到主体中</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/ff641b3d4da18488798900e27158a335.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CXt2OzeGjb0tGggQ"/></div></div></figure><p id="099f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果应用程序尚未运行，请再次运行它(npm运行web)</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/515513b37dc4ea5ffdc8adf23d30fc6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/0*PeOG2Hee47wZ9Ygy"/></div></figure><h1 id="22c8" class="ls ln in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">将mapDispatch和mapState移动到列表项</h1><p id="e4e8" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">因为我们将检索这些项并在ListItems组件中显示它们，所以让我们按原样从主组件中移走这段代码，同时也移动connect</p><p id="400b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是最后的Main.js</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/ca29b711e9bc23e1d9fe541a8515c4d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HmGHBpcsAPB2POPf"/></div></div></figure><p id="3f89" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是ListItems.js</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nf"><img src="../Images/26009828ff4471cec5ba2f2b683794df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Qd60n2gjT9F-Z559"/></div></div></figure><h1 id="b56f" class="ls ln in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">组织行动</h1><p id="2331" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">在Redux下创建一个名为actions.js的文件</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/6c32059ca131b6f461997018005d7c98.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/0*Td8KKc_E_36NMLwp"/></div></figure><p id="f06b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将动作创建者从ListItems.js移动到actions.js，导出函数，并将其名称改为getItemsListActionCreator，如下所示:</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/6debbecfb36ae2f3b27ecec1f0c19980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wS8Krot7D9TYSMdy"/></div></div></figure><p id="8256" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后对ListItems.js进行如下修改(所有修改都用矩形包围</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/62f79eec3079fdbd77797e22eeddf3c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fyyO8btg2e3N5gh_"/></div></div></figure><p id="6813" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我已经在中更改为<a class="ae kt" href="https://reqres.in" rel="noopener ugc nofollow" target="_blank"> https://reqres .以避免API键</a></p><p id="20eb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">输出如下所示:</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/94d2e6ba9b671fa33e261a35055f654f.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/0*x2L0sz0vMUWXklCV"/></div></figure><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/774c264d233b6487677e3b57699170e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SgDmV6QYspH97Y2S"/></div></div></figure><h1 id="7318" class="ls ln in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">使用FlatList元素</h1><p id="2c2b" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">从react-native导入平面列表</p><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="40ab" class="lm ln in li b gy lo lp l lq lr">import { Text, View, StyleSheet, Button, FlatList } from 'react-native';</span></pre><p id="79d3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们显示从服务器接收的区域之前，让我用一个本地数组解释一下FlatList。让我们创建一个名为people的对象数组，并将其放在ListItem组件中:</p><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="0aaf" class="lm ln in li b gy lo lp l lq lr">const people = [<br/>     { name: 'Person 1' },<br/>     { name: 'Person 2' },<br/>     { name: 'Person 3' },<br/>     { name: 'Person 4' },<br/>  ];</span></pre><p id="2eb4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后在按钮前添加FlatList组件，如下所示</p><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="3544" class="lm ln in li b gy lo lp l lq lr">&lt;FlatList<br/>                data={ people }<br/>                renderItem={ ( element ) =&gt; {}}<br/> /&gt;</span></pre><p id="71db" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">FlatList组件有两个主要特性:</p><ol class=""><li id="fd91" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated"><em class="nl">数据</em>:这是为了传递数组</li><li id="5a74" class="ku kv in jx b jy nm kc nn kg no kk np ko nq ks kz la lb lc bi translated"><em class="nl"> renderItem </em>:这是一个函数，它获取一个元素，并将数组中的每个元素呈现给设备</li></ol><p id="819c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我们将元素打印到控制台，您会发现它是一个内部有其他字段的对象。我们现在感兴趣的两个主要领域是:</p><ol class=""><li id="1f0c" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated"><em class="nl">索引</em>:这是数组中项目的索引</li><li id="eec5" class="ku kv in jx b jy nm kc nn kg no kk np ko nq ks kz la lb lc bi translated"><em class="nl">项</em>:这是数组中的项</li></ol><p id="d286" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">以下是完整的图片:</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nr"><img src="../Images/e3376ad1921bd4e058d7e761014ea6ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VkD1_yyMBP2KX2mP"/></div></div></figure><p id="a78a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因为我们只想打印项目，所以我们将只从元素中获取项目字段。我们将把名称打印到屏幕上，如下所示:</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ns"><img src="../Images/0a65f0be11ddc2a3bc5e81ffa930195c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*P4EvEnPdhQGpKLEl"/></div></div></figure><p id="2e82" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将在屏幕上显示如下:</p><figure class="ld le lf lg gt jo gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/c7f1142702e915570508d8aad2156b5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:330/0*NTj9eKmT5kO2wKhh"/></div></figure><h2 id="ec1d" class="lm ln in bd lt nu nv dn lx nw nx dp mb kg ny nz mf kk oa ob mj ko oc od mn oe bi translated">结论</h2><p id="538d" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">我们找到了！我希望您已经发现了这一点，并对在React Native中创建列表更有信心。</p><p id="a794" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nl">多读《三国演义》</em><a class="ae kt" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nl"/></strong></a></p></div></div>    
</body>
</html>