<html>
<head>
<title>7 Most Common Git Mistakes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">7个最常见的Git错误</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/7-most-common-git-mistakes-eefdd5a5b0?source=collection_archive---------3-----------------------#2021-03-07">https://javascript.plainenglish.io/7-most-common-git-mistakes-eefdd5a5b0?source=collection_archive---------3-----------------------#2021-03-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1abc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">以及如何轻松解决它们</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/900ad46a7a1b10542a543631a5af54ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XMMzxGh9or2Vbikv.png"/></div></div></figure><p id="fed6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">很多新手容易犯错，尤其是刚开始的时候。这是完全正常的，因为Git会变得非常复杂，这取决于项目的大小。在本文中，我想通过向您展示7个最常见的Git错误，更具体地说是Git问题，以及如何轻松解决它们，来加速您学习Git的成功。</p><p id="b591" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">它从7个最常见的Git错误及其解决方案开始:</p><h1 id="8152" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">1.放弃对本地文件的更改</h1><p id="933d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">作为一个程序员，每天都会发生意想不到的错误。为了快速解决错误，我们疯狂地摸索代码。不幸的是，这些代码更改并不总是最佳的。因此，快速撤销您所做的更改会很有帮助。</p><p id="1738" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用“git checkout”命令，您可以将文件重置为其原始状态:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="5cd2" class="mp lo iq ml b gy mq mr l ms mt"># Reset directory "myCode"<br/>git checkout - myCode</span></pre><h1 id="07d3" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">2.撤消本地提交</h1><p id="1f66" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">您已经创建了四个新的提交，现在才意识到其中一个提交包含一个主要错误。哎呀！</p><p id="d8da" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不要惊慌。如果想撤销一个或多个提交，可以使用“git reset”命令。该命令知道三种不同的模式(软、硬、混合):</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="c339" class="mp lo iq ml b gy mq mr l ms mt"># Undo the last four commits, keep changes<br/>git reset HEAD ~ 4<br/><br/># Undo the last four commits, discard changes<br/>git reset --hard HEAD ~ 4</span></pre><p id="5299" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">注意:</strong>使用“硬”模式时要小心一点。一旦执行“git reset — hard ”,工作树和索引就会被重置。所有更改都将永远丢失！</p><h1 id="6d8d" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">3.从Git中移除文件，而不完全删除它</h1><p id="8b87" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">您经常将一个不属于暂存区的文件添加到那里(git add)。您可以在这里使用命令“git rm”。但是，这也会从文件系统中删除该文件。</p><p id="5d2f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是，如果您想将文件保留在文件系统中，您可以使用<em class="mu">" git reset&lt;filename&gt;"</em>将它从暂存区中移除。然后将文件添加到。gitignore，这样您就不会在将来错误地将其打包回暂存索引中。事情就是这样:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="b1ee" class="mp lo iq ml b gy mq mr l ms mt">git reset Dateiname<br/>echo Dateiname &gt;&gt; .gitignore</span></pre><h1 id="fbd7" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">4.随后编辑提交消息</h1><p id="2c23" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">每个程序员都会在提交时犯一个错误。幸运的是，使用“git commit-amend”命令很容易纠正提交消息。事情就是这样:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="3c32" class="mp lo iq ml b gy mq mr l ms mt"># Start the standard text editor to edit the commit message<br/>git commit --amend<br/><br/># Sets the new message directly<br/>git commit --amend -m "My new commit message</span></pre><h1 id="2f0c" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">5.推送前更改本地提交</h1><p id="2586" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">最后一点，你要知道“修改”这个选项。如果您想要更改上次提交，这很有用。但是如果要更正的提交不是最后一个呢？为此，您可以使用“git rebase-interactive”。</p><p id="f528" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您必须在这里输入您的遥控器(通常是“原点”)和分支名称。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="e277" class="mp lo iq ml b gy mq mr l ms mt">git rebase --interactive origin branchName</span></pre><p id="1ad6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行上面的命令将使用以下文本运行您的默认文本编辑器:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="717d" class="mp lo iq ml b gy mq mr l ms mt">pick 9g2020f New feature ready<br/>pick 23js34cc My commit<br/># Rebase 9g2020f..23js34cc onto 9g2020f<br/>#<br/># Commands:<br/># p, pick = use commit<br/># r, reword = Used commit, but changed commit message<br/># e, edit = Use commit, but stop "amend"<br/># s, squash = use commit, but merge with last commit<br/># f, fixup = like "squash", but removes this commit message from the history<br/># x, exec = execute command (via the command line)<br/>#<br/># These lines can be re-ordered; they are executed from top to bottom.<br/>#<br/># If you remove a line here THAT COMMIT WILL BE LOST.<br/>#<br/># However, if you remove everything, the rebase will be aborted.<br/>#<br/># Note that empty commits are commented out</span></pre><p id="deeb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上面您会看到一个本地提交列表，后面是可用命令的解释。只需选择您想要更新的一个或多个提交。将pick改为reword(或简称为r)，它会将您带到一个新的视图，您可以在其中编辑消息。</p><p id="1709" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，从上面的列表中可以看出，交互式rebase提供的不仅仅是编辑提交消息:您可以通过从列表中删除提交来删除提交，还可以编辑、重新排列和压缩提交。</p><h1 id="58a6" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">6.撤消推送的提交</h1><p id="1402" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">是的，不幸的是，错误的提交偶尔会进入远程存储库。</p><p id="3d48" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不过，不要绝望，因为Git提供了回滚单次或多次提交的简单解决方案:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="b973" class="mp lo iq ml b gy mq mr l ms mt"># Commit anhand von Commit-ID rueckgaengig machen<br/>git revert 453fsdu2</span><span id="366e" class="mp lo iq ml b gy mv mr l ms mt">#Undo the penultimate commit<br/>git revert HEAD ^</span><span id="7d20" class="mp lo iq ml b gy mv mr l ms mt">#Undo multiple commits<br/>git revert feature ~ 4..feature ~ 2</span></pre><p id="6913" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您不想创建任何额外的恢复提交，而只想对工作树进行必要的更改，您可以使用-no-commit选项(简称为-n):</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="5a02" class="mp lo iq ml b gy mq mr l ms mt"># Undo the last commit, but don't create a revert commit<br/>git revert -n HEAD</span></pre><h1 id="16b6" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">7.查找合并后导致错误的提交</h1><p id="a36c" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">在大型合并之后，跟踪导致失败的确切提交可能非常耗时。</p><p id="13d1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">幸运的是，git有一个很好的二分搜索法工具，可以使用“Git二等分”命令。首先，你必须开始设置:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="97d8" class="mp lo iq ml b gy mq mr l ms mt"># Start bisecting session<br/>git bisect start</span><span id="869a" class="mp lo iq ml b gy mv mr l ms mt">#Mark the current revision as "bad"<br/>git bisect bad</span><span id="015a" class="mp lo iq ml b gy mv mr l ms mt">#Mark the last known good revision as "good"<br/>git bisect good revision</span></pre><p id="6a16" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">之后，Git会自动检查“好”和“坏”之间的修订。然后重新运行您的代码。用“坏”或“好”标记提交，直到找到导致错误的适当提交。</p><p id="3da7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">额外提示:其他一切都失败了——这就是你解决问题的方式<br/>到目前为止，我们已经看到了许多帮助解决日常Git使用中常见错误的命令和提示。</p><p id="80fc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">大多数问题都有一个相当简单的解决方案。但是有些事件需要大“锤子”这里唯一有帮助的是重写相应分支的历史。在实践中，这种情况经常发生在需要删除的敏感数据上。这有时可能是意外传输到公共可见存储库的客户登录数据。必须迅速安全地采取行动。事情就是这样:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="8391" class="mp lo iq ml b gy mq mr l ms mt">git filter-branch — force — index-filter \<br/> ‘git rm — cached — ignore-unmatch logindaten.txt’ \<br/> — prune-empty — tag-name-filter cat — — all</span></pre><p id="681b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上述命令每天从每个分支中删除logindaten.txt文件。此外，上述操作会删除所有可能为空的提交。</p><p id="dc93" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">请特别小心filter-branch命令，因为存储库的整个历史将被重写。这可能导致高交易成本，并扰乱正在进行的项目中的整个开发团队的工作。</p><h1 id="0d94" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">关于Git问题的结论</h1><p id="c4aa" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">这是7个最常见的Git问题和错误及其解决方案的详细概述。您必须了解以下命令:</p><ul class=""><li id="0b67" class="mw mx iq kt b ku kv kx ky la my le mz li na lm nb nc nd ne bi translated">git检验</li><li id="9286" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">git重置</li><li id="7309" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">。gitignore</li><li id="467a" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">git提交—修改</li><li id="929b" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">git rebase-交互式</li><li id="d099" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">git还原</li><li id="1686" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">git平分</li><li id="844d" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">git过滤器-分支</li></ul><p id="22c6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我希望您可以在自己的项目中实现这里提到的一些技巧，以便在将来更快地解决Git错误，减少麻烦。</p></div></div>    
</body>
</html>