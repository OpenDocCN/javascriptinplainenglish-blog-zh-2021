<html>
<head>
<title>jQuery to Vanilla JavaScript Transition Cheat Sheet — Basic Operations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">jQuery到普通JavaScript转换备忘单—基本操作</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/jquery-to-vanilla-javascript-transition-cheat-sheet-basic-operations-57378aa62fe0?source=collection_archive---------16-----------------------#2021-07-02">https://javascript.plainenglish.io/jquery-to-vanilla-javascript-transition-cheat-sheet-basic-operations-57378aa62fe0?source=collection_archive---------16-----------------------#2021-07-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5235c4580a6d4fadead5d747350b1e99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KpiL5Me7PDPvf4-u"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@timothyeberly?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Timothy Eberly</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="50fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">浏览器中的普通JavaScript现在内置了jQuery的许多特性，</p><p id="bf4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们不需要使用jQuery做很多事情。</p><p id="296e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究jQuery特性的普通JavaScript等价物。</p><h1 id="9bd9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">选择元素</h1><p id="e559" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">querySelector</code>方法用普通JavaScript中给定的选择器选择单个元素。</p><p id="7d75" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vanilla JavaScript还有一个<code class="fe me mf mg mh b">querySelectorAll</code>方法，可以用给定的选择器选择多个元素。</p><p id="6bf4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="33bd" class="mq lc iq mh b gy mr ms l mt mu">document.querySelector("div");</span></pre><p id="a794" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">选择文档中的第一个div。</p><p id="4acc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并选择所有div:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4d3e" class="mq lc iq mh b gy mr ms l mt mu">document.querySelectorAll("div");</span></pre><p id="e8ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">querySelectorAll</code>返回一个NodeList对象，这是一个可迭代对象，其中包含所有选定的节点。</p><p id="1676" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在jQuery中，我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8243" class="mq lc iq mh b gy mr ms l mt mu">$("div");</span></pre><p id="8aa3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">选择所有的div。</p><h1 id="7280" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">对所有选定的元素运行函数</h1><p id="8811" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在jQuery中，我们可以对所有选中的元素运行一个函数。</p><p id="b0cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以通过编写以下内容来隐藏所有div:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="45eb" class="mq lc iq mh b gy mr ms l mt mu">$("div").hide();</span></pre><p id="7b96" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了用普通的JavaScript做同样的事情，我们可以使用<code class="fe me mf mg mh b">forEach</code>方法:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8ae9" class="mq lc iq mh b gy mr ms l mt mu">document.querySelectorAll("div")<br/>  .forEach(div =&gt; {<br/>    div.style.display = "none"<br/>  })</span></pre><p id="b304" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以使用for-of循环:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d223" class="mq lc iq mh b gy mr ms l mt mu">for (const div of document.querySelectorAll("div")) {<br/>  div.style.display = "none"<br/>}</span></pre><p id="2e4e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">querySelector</code>返回的NodeList也可以传播:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2faa" class="mq lc iq mh b gy mr ms l mt mu">const divs = [...document.querySelectorAll("div")]<br/>divs<br/>  .forEach(div =&gt; {<br/>    div.style.display = "none"<br/>  })</span></pre><p id="abe0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">divs</code>现在是数组而不是节点列表。</p><p id="eed6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着我们可以在上面运行许多数组方法。</p><h1 id="93c4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在一个元素中寻找另一个元素</h1><p id="899d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了用jQuery在另一个元素中找到一个元素，我们使用了<code class="fe me mf mg mh b">find</code>方法:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1878" class="mq lc iq mh b gy mr ms l mt mu">const div = $("div");<br/>//...<br/>div.find(".box");</span></pre><p id="4602" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了用普通的JavaScript做同样的事情，我们可以用<code class="fe me mf mg mh b">querySelector</code>来查找一个元素，用<code class="fe me mf mg mh b">querySelectorAll</code>用给定的选择器来查找该元素的所有实例。</p><p id="29bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4fd1" class="mq lc iq mh b gy mr ms l mt mu">const div = document.querySelector('div')<br/>//...<br/>div.querySelector(".box");</span></pre><p id="2e34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">查找div中第一个包含类<code class="fe me mf mg mh b">box</code>的元素。</p><p id="b342" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a401" class="mq lc iq mh b gy mr ms l mt mu">const div = document.querySelector('div')<br/>//...<br/>div.querySelectorAll(".box");</span></pre><p id="2ab6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">查找div中所有带有类<code class="fe me mf mg mh b">box</code>的元素。</p><h1 id="2abc" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">用<code class="fe me mf mg mh b">parent()</code>、<code class="fe me mf mg mh b">next()</code>和<code class="fe me mf mg mh b">prev()</code>遍历树</h1><p id="1a39" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">jQuery有<code class="fe me mf mg mh b">parent</code>方法来获取元素的父元素。</p><p id="4947" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">jQuery的<code class="fe me mf mg mh b">next</code>方法返回一个元素的下一个兄弟元素。</p><p id="9c24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而jQuery的<code class="fe me mf mg mh b">prev</code>方法返回一个元素的前一个兄弟元素。</p><p id="8668" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它们，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="fdb9" class="mq lc iq mh b gy mr ms l mt mu">$("div").next();<br/>$("div").prev();<br/>$("div").parent();</span></pre><p id="b11e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在普通的JavaScript中，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ba19" class="mq lc iq mh b gy mr ms l mt mu">const div = document.querySelector("div");<br/>div.nextElementSibling;<br/>div.previousElementSibling;<br/>div.parentElement;</span></pre><p id="5280" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">nextElementSibling</code>返回下一个同级元素。</p><p id="1b16" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">previousElementSibling</code>返回上一个同级元素。</p><p id="3b61" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且<code class="fe me mf mg mh b">parentElement</code>返回父元素。</p><h1 id="5450" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">处理事件</h1><p id="0e43" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">jQuery让我们可以轻松地向元素添加事件处理程序。</p><p id="e7ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6eeb" class="mq lc iq mh b gy mr ms l mt mu">$("button").click((e) =&gt; {<br/>  /* handle click event */<br/>});<br/>$("button").mouseenter((e) =&gt; {<br/>  /* handle click event */<br/>});<br/>$(document).keyup((e) =&gt; {<br/>  /* handle key up event */<br/>});</span></pre><p id="d67d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在选中的元素上分别添加一个<code class="fe me mf mg mh b">click </code>事件处理程序、<code class="fe me mf mg mh b">mouseenter </code>事件处理程序和<code class="fe me mf mg mh b">keyup </code>事件处理程序。</p><p id="b716" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了用普通的JavaScript做同样的事情，我们可以使用<code class="fe me mf mg mh b">addEventListener</code>方法:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="805f" class="mq lc iq mh b gy mr ms l mt mu">document<br/>  .querySelector("button")<br/>  .addEventListener("click", (e) =&gt; {<br/>    /* ... */<br/>  });</span><span id="8494" class="mq lc iq mh b gy mv ms l mt mu">document<br/>  .querySelector("button")<br/>  .addEventListener("mouseenter", (e) =&gt; {<br/>    /* ... */<br/>  });</span><span id="ff6d" class="mq lc iq mh b gy mv ms l mt mu">document<br/>  .addEventListener("keyup", (e) =&gt; {<br/>    /* ... */<br/>  });</span></pre><p id="c585" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只需选择带有<code class="fe me mf mg mh b">querySelector</code>的元素，并调用<code class="fe me mf mg mh b">addEventListener</code>，将事件名称作为第一个参数，将事件处理程序回调作为第二个参数。</p><h1 id="d067" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="81a2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用普通的JavaScript完成许多基本的DOM操作，比如选择元素、遍历DOM树以及向元素添加事件监听器。</p><p id="9cb8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>