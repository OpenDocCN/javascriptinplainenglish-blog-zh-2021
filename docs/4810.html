<html>
<head>
<title>How to Manage Independent Git Remotes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何管理独立的Git远程</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/manage-independent-git-remotes-62510271d542?source=collection_archive---------2-----------------------#2021-09-26">https://javascript.plainenglish.io/manage-independent-git-remotes-62510271d542?source=collection_archive---------2-----------------------#2021-09-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/6da7770559bdd0a2ae26c9d7a40bea76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HxiMnbsiM2UuJ5Rj"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@marcobian?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marco Bianchetti</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0dc4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">您是否曾经在同一个git文件夹中管理多个遥控器时遇到过困难？或者想把同样的代码推到另一个回购上却因为头大而做不到？</strong></p><p id="d734" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">今天，我们将讨论这些事情，以及如何管理多个相同来源的遥控器。</p><h1 id="0ea7" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">为什么我们不拿把叉子呢？</h1><p id="c867" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">当您有多个存储库需要管理，尤其是当它们只有一个来源时，fork是一个很好的选择。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/e03da2f8f5de23fc778de2302b6b2023.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*d8MJlp_MMNADgONNxtCnLQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">All git user actions to a repository</figcaption></figure><p id="d282" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你想推一些东西，然后从你的分叉回购到主回购创建一个PR。从主回购中获得持续的拉动，你就可以顺利完成你的项目。这是一个很棒的想法，但是我们不会讨论同样的场景。</p><h1 id="00e5" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">如果您想在存储库之间进行分离，该怎么办呢？</h1><p id="1d0d" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">可能会有一个复杂的场景，您希望在其中一个repo上执行一些代码，并将代码推送到多个存储库。如果你想通过别人的账号推送呢？用叉子很难做到这一点，对吗？</p><h2 id="46f1" class="mg kz in bd la mh mi dn le mj mk dp li kl ml mm lm kp mn mo lq kt mp mq lu mr bi translated">让我们了解如何处理这种情况</h2><p id="0d0d" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">假设你有三个项目，即P1、P2和P3。您的角色如下</p><ul class=""><li id="6079" class="ms mt in kc b kd ke kh ki kl mu kp mv kt mw kx mx my mz na bi translated">P1是主要的存储库，你的客户可以看到它</li><li id="9b49" class="ms mt in kc b kd nb kh nc kl nd kp ne kt nf kx mx my mz na bi translated">P2是二级存储库，您的部署在那里工作</li><li id="6771" class="ms mt in kc b kd nb kh nc kl nd kp ne kt nf kx mx my mz na bi translated">P3是你与自由职业者合作的最后一站，你不想暴露你的客户和部署信息</li></ul><p id="c010" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这种情况可能很难适应，但如果你有管理背景，你就会理解这个过程及其复杂性</p><p id="e2c4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">主要问题是<em class="ng">我们能做到吗？</em>答案是<em class="ng">是的，你可以。</em>但是现在如何让我们理解这个过程呢</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/f97c009e2c861b06fe72fec8ccdd7370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HGnm5C_mG1AH8990zwxVOw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Process diagram</figcaption></figure><p id="349f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是流程图，</p><p id="974c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我为你分解这个过程，这里我们将有3个独立的存储库。一旦你内联了它们，你应该让它们有相同的来源，你可以做的如下。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/c307376b8ecde611c57702ccbde50239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TIBJ1ZWGEZ1NvABWy9_rhQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Commands</figcaption></figure><p id="04a0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让你把东西复制粘贴到这里</p><pre class="mc md me mf gt nj nk nl nm aw nn bi"><span id="4855" class="mg kz in nk b gy no np l nq nr">git clone &lt;main-repo&gt;</span><span id="6a1f" class="mg kz in nk b gy ns np l nq nr">git push origin -u main # your initial commit</span><span id="477f" class="mg kz in nk b gy ns np l nq nr">git remote add &lt;some-cool-name&gt; &lt;second-repo&gt;</span><span id="8b72" class="mg kz in nk b gy ns np l nq nr">git remote add &lt;another-cool-name&gt; &lt;another-repo&gt;</span><span id="e18d" class="mg kz in nk b gy ns np l nq nr">git push &lt;some-cool-name&gt; main:main</span><span id="af79" class="mg kz in nk b gy ns np l nq nr"># you can change the second name to your default branch</span><span id="d19f" class="mg kz in nk b gy ns np l nq nr">git push &lt;another-cool-name&gt; main:main</span><span id="2fbf" class="mg kz in nk b gy ns np l nq nr"># you can change the second name to your default branch</span></pre><p id="e84f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您可以更改每个远程的默认分支名称，并通过使用您的分支名称修改push命令，将任何分支作为默认分支进行推送。左边的是现有的，右边的是新的分支</p><h1 id="02ee" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">把交叉的树枝推到另一个遥控器上</h1><p id="a718" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">要将交叉分支推到单独的远程，您可以按照下面的命令</p><pre class="mc md me mf gt nj nk nl nm aw nn bi"><span id="3002" class="mg kz in nk b gy no np l nq nr">git push &lt;another-cool-name&gt; &lt;your local branch-name&gt;:&lt;remote branch name you want to push&gt;</span></pre><p id="080b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有一点很重要，你应该只在你想同步遥控器和云台的时候这样做。否则，你应该使用<code class="fe nt nu nv nk b">-f</code>命令来强制推遥控器。<strong class="kc io">明智地做</strong>。</p><h1 id="aeeb" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">更改用户的名称</h1><p id="8ae5" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">要在推送之前更改用户名，请运行以下命令来设置正确的用户</p><pre class="mc md me mf gt nj nk nl nm aw nn bi"><span id="a6c2" class="mg kz in nk b gy no np l nq nr">git config user.name "your-name"<br/>git config user.email "your-email"</span></pre><h1 id="6492" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">重置已提交的头</h1><p id="99d8" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">假设您想要压缩提交，然后用其他用户名推它。为此，您可以使用以下命令</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/ca2ce90c6ebf4dabccedbee81425f232.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OIdKzv7vR7QQh3mo7OuiWQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">commands to reset head</figcaption></figure><p id="b1de" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是复制粘贴引用</p><pre class="mc md me mf gt nj nk nl nm aw nn bi"><span id="6978" class="mg kz in nk b gy no np l nq nr">git checkout &lt;remote-name&gt;/&lt;branch-name&gt;</span><span id="b124" class="mg kz in nk b gy ns np l nq nr"># [Optional] if you want to store the history</span><span id="24f0" class="mg kz in nk b gy ns np l nq nr">git checkout -b &lt;new-branch-name&gt;</span><span id="0af3" class="mg kz in nk b gy ns np l nq nr">git reset HEAD~&lt;number of commit&gt; --soft</span><span id="2022" class="mg kz in nk b gy ns np l nq nr">git config user.name "your custom username"</span><span id="76e6" class="mg kz in nk b gy ns np l nq nr">git config user.email "your custom email"<br/># [Optional] if you want to reset the config </span><span id="4f22" class="mg kz in nk b gy ns np l nq nr">git add .</span><span id="dfc3" class="mg kz in nk b gy ns np l nq nr">git commit -m "your custom commit message"</span><span id="34d7" class="mg kz in nk b gy ns np l nq nr">git push &lt;remote-name&gt; &lt;branch-name&gt;</span></pre><h1 id="2f0a" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">结论</h1><p id="38eb" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">管理git远程的最后一句话是</p><blockquote class="nw nx ny"><p id="b1fb" class="ka kb ng kc b kd ke kf kg kh ki kj kk nz km kn ko oa kq kr ks ob ku kv kw kx ig bi translated">这是一个非常复杂的方法，但是如果你有一个复杂的git结构，那么它将为你完成这项工作。在每次用力按压遥控器之前，你都应该采取一些预防措施。</p></blockquote><p id="7044" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">希望你学到了一些好的复杂的东西。这将帮助你思考不同层次的复杂性。谢谢！</p><p id="d412" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ng">更多内容看</em> <strong class="kc io"> <em class="ng"> </em> </strong> <a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ng">说白了. io </em> </strong> </a></p></div></div>    
</body>
</html>