<html>
<head>
<title>5 Steps to Implement Maintainable and Scalable Sass Theming in Complex Projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在复杂项目中实现可维护和可扩展的Sass主题的5个步骤</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/5-steps-to-implement-maintainable-and-scalable-sass-theming-in-complex-projects-76bb6da0a8e6?source=collection_archive---------2-----------------------#2021-07-07">https://javascript.plainenglish.io/5-steps-to-implement-maintainable-and-scalable-sass-theming-in-complex-projects-76bb6da0a8e6?source=collection_archive---------2-----------------------#2021-07-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/20f9b2ed921357ff89eb28c6ba91970a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZpwMDiFM4ZqiLO-yqCXUhw.png"/></div></div></figure><p id="f3d3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">样式通常是任何项目中最无组织的方面之一，因为做事情的方式太多了。</p><p id="e681" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你使用内嵌样式吗？自举？朴素的老CSS？样式组件？在我最近开始的工作中，我的任务是重构一个笨拙的Sass代码库，该代码库用于设计一个大型monorepo React项目。当我第一次接触这个项目时，即使是对最简单的样式进行更改也是一场噩梦——有些组件是内联样式的，有些是在Sass文件中作为类定义的，有些是用于样式化monorepo中其他项目的CSS，这些项目使用了可怕的“！重要”。</p><p id="299b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">通过利用Sass最擅长的东西，我很高兴地说，随着事情更加简化，这个项目的状态现在看起来更加光明，我认为这是一件非常愉快的事情。我相信这种精简的结构肯定会帮助团队中的其他人在将来任何样式需要更新时更有效率，更少沮丧。</p><p id="7a08" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这篇文章中，我将分享我为达到这一点所做的决定，以及为什么我希望能给你带来一些我正在经历的好处。</p><h2 id="6c91" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">5个时髦的步骤</h2><p id="7d36" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated"><strong class="jx io">步骤1:创建标准化的文件夹结构</strong></p><p id="ea62" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你对萨斯有所了解，你可能知道由<a class="ae lr" href="https://kittygiraudel.com/" rel="noopener ugc nofollow" target="_blank">凯蒂·吉罗德</a>撰写的<a class="ae lr" href="https://sass-guidelin.es/" rel="noopener ugc nofollow" target="_blank">https://sass-guidelin.es/</a>萨斯指南。</p><p id="ad6b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这篇文章中，Kitty回顾了Sass的架构，并指出架构样式是项目中最难做的事情之一。没有人说过更明智的话。</p><p id="524d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我目前从事的项目中，所有的Sass文件都被简单地放在一个文件夹中。更糟糕的是，有些文件毫无理由地存在于自己的文件夹中。这使得浏览代码进行更改变得相当混乱，尤其是对于像我这样最近才加入团队的人来说。在sass指南文章中，Kitty继续介绍了7–1模式，在该模式中，您将Sass文件分为7个类别，它们位于各自的文件夹目录中。这7个类别是:</p><ul class=""><li id="d880" class="ls lt in jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">基地/</li><li id="46b1" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">组件/</li><li id="1010" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">布局/</li><li id="31ae" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">页数/</li><li id="d4bb" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">主题/</li><li id="0916" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">摘要/</li><li id="b42d" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">供应商/</li></ul><p id="ad9d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我认为这是一个很好的主意，因为我不想花费大量的时间对我必须编写的Sass文件进行分类(请不要给我太深的嵌套结构)，同时保持一些有序的外观。团队中的其他开发人员也应该能够很容易地知道新的Sass文件需要放在哪里。关于7–1结构的一个问题是，我认为项目不需要所有提议的文件夹，所以我根据我们的需要对其进行了修改，最终得到了这些目录:</p><ul class=""><li id="8b2c" class="ls lt in jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">组件/</li><li id="f49f" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">布局/</li><li id="e836" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">页数/</li><li id="2d61" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">摘要/</li><li id="a21c" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">第三方/</li></ul><p id="8084" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当然，你可以使用任何你想要的文件夹，并不局限于这7个，但是它们是一个很好的开始思考如何组织你的项目的地方。</p><p id="a46f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">第二步:反思自己的工作流程<br/> 在更新整个项目的主题时，我清楚地意识到更新CSS有一个非常特殊的工作流程。对这个工作流程的理解，尤其是从一个不熟悉代码库的人的角度，帮助我以一种任何开发人员都应该能够快速做出主题更改的方式来构建主题。</p><p id="2426" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那么，如何对项目的特定组件进行CSS更改呢？请注意，在本文中，我们讨论的是捆绑Sass在项目中的使用，而不是其他方法，如样式化组件。</p><p id="da8f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于Sass方法，我认为大多数人会直接使用浏览器的开发工具，并使用选择工具来找出组件的HTML元素是什么。如果幸运的话，您会看到样式是由一个CSS类应用的，您可以简单地返回到您的编辑器，搜索项目的文件，并从那里快速进行更改。</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/988268d3550419d4ca973252c41720ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/format:webp/1*FAucNwLjMhYXCwGjOWC28A.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Tools like Vscode lets you quickly search through all the files in your project</figcaption></figure><p id="8138" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在考虑一下，如果样式是内联应用的——没有办法从你的文本编辑器中找到它的位置，因为同样的样式可能已经应用在一百万个其他地方。您将不得不从默认的开发工具切换到React DevTool(您肯定应该有),您正在使用它来找出组件名，在您的项目中找到组件，然后在那里进行更改。</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/82602cfa741911faaee50b5c3c046ece.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7IfMKBmlIByNvalLZgMZgQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">How in-line styling slows down the workflow</figcaption></figure><p id="437c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，这可能看起来有些吹毛求疵，你可能不认为这样做不需要太多时间，但是当你在一个大项目中工作时，这些小的不便会很快增加到几百个文件，并且会成为一个巨大的时间陷阱。这里的教训是，事情应该是一致的——如果您的项目是由Sass设计的，那么就利用Sass，不要为了方便而在项目是由Sass设计的时候编写内嵌样式。</p><p id="22bb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">第三步:避免特定于颜色的变量</strong><br/>Sass最棒的一点是，您可以定义变量，并在将它们导入包层次结构后在任何地方使用它们。这对于定义项目的整体主题非常有用，您可以将所有主题变量存储在一个文件中。这样，如果你想改变一个元素的特定颜色，你就知道在哪里改变它。</p><p id="6c62" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里的事情是，我在上一步中描述的工作流仍然适用——如果你对项目一无所知，你仍然会首先检查dev工具，然后你去类定义所在的地方。在类定义中，您将会看到使用了什么变量，然后您可以使用您的主题Sass文件来更新该变量。</p><p id="ab4e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">考虑这样一个场景，您有一个在类定义中使用的名为<code class="fe mq mr ms mt b">$project-dark-red</code>的变量。现在您不能简单地对<code class="fe mq mr ms mt b">$project-dark-red</code>进行修改，因为其他组件可能正在使用这个变量。你必须创建另一个变量(例如<code class="fe mq mr ms mt b">$project-dark-red2</code>)，然后返回到类定义来更新这个变量。对我来说，这很不方便。</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/88b598b846c104338e427415a5cf15df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hZJAiHHtg3Pd4wlKvHoreQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Too many steps for me</figcaption></figure><p id="4a9b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那么我们如何解决这个问题呢？那么，我们不在类定义中使用特定于颜色的变量怎么样？如果您正在设计一个卡组件的样式，例如使用一个名为<code class="fe mq mr ms mt b">$card-bg</code>的变量。这样，当您创建主题定义文件时，您只需在那里更改变量。如果您想在多个地方使用相同的颜色，请在文件的顶部定义颜色变量，并将它们应用于特定于组件的变量。</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mv"><img src="../Images/19fe4f78040a56c40c68d5318838c919.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s9v9deA2nMW5jlnfc65O_A.png"/></div></div></figure><figure class="mh mi mj mk gt jo"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="mh mi mj mk gt jo"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="1dd0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">第四步:尽量少用“颜色”和“！</strong> <br/>利用“颜色”和“重要”！重要”使得改变事情变得困难。同样，你可以练习思考你的工作流程来得出这个结论。"!重要”只是当组件在新的项目中被重用时，更难重写。内嵌应用的“颜色”(又名文本颜色)更糟糕，因为它覆盖了我们的类定义。</p><p id="3eed" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对我来说，使用“颜色”和简单地应用像$text-color这样的东西对于一个复杂的项目来说是不够的，在这个项目中，你可以有或亮或暗的背景元素。使用两个颜色变量，比如$text-color-light和$text-color-dark更好，但问题是，当元素的背景被更新为不同的颜色时，我讨厌为每个组件手动应用这些颜色变量。</p><p id="3cf4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们利用mixins和functions magic来策略性地偷懒。</p><figure class="mh mi mj mk gt jo"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="8bde" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有了这个mixin，你再也不用担心元素的文本颜色是否有足够的对比度，你只需要写一行CSS代码。每当你去更新你的主题文件时，你将不必回到类定义来更新颜色。如果出于某种原因，您碰巧决定该元素应该有不同的文本颜色，您总是可以选择在类定义中的mixin之后应用该颜色。</p><p id="1fa7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">第五步:主题切换器Sass way  <br/>我为这个项目做的一个功能是给项目增加切换主题的功能。现在我不知道这是否是在Sass项目中进行主题切换的最佳方式，但它对这个项目来说足够好了。我使用的方法是从本文<a class="ae lr" href="https://medium.com/@katiemctigue/how-to-create-a-dark-mode-in-sass-609f131a3995" rel="noopener">中提到的方法</a>和<a class="ae lr" href="https://codepen.io/dmitriy_borodiy/pen/RKzwJp" rel="noopener ugc nofollow" target="_blank">中提到的方法</a>改进而来的，增加了我在本文中已经讨论过的原则。</p><p id="7bb6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该方法基于使用这个mixin，它被编译成您在themes变量中定义的主题。</p><figure class="mh mi mj mk gt jo"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="ea20" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，这种方法与我在第3步中讨论的原则很好地配合，在第3步中，显式地定义组件的名称，而不是指定颜色。然而，仅仅按原样使用mixin会破坏第4步，所以让我们将它与第4步中的mixin结合起来，以避免不必担心文本颜色</p><figure class="mh mi mj mk gt jo"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="48b9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">它从来都不是完美的… </strong> <br/>在这篇文章中，我总结了我在一个复杂项目中尝试重构Sass主题时学到的所有经验。我不认为这是完美的解决方案，你可能同意也可能不同意我所做的一切。但是，希望这给了你灵感去思考你自己和你的团队的工作流程，让Sass为你服务。</p><h2 id="28d4" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">有用的资源</h2><p id="e896" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">萨斯指导方针:<a class="ae lr" href="https://sass-guidelin.es/" rel="noopener ugc nofollow" target="_blank">https://sass-guidelin.es/</a></p><p id="cd0c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">sass dark-mode:<a class="ae lr" href="https://medium.com/@katiemctigue/how-to-create-a-dark-mode-in-sass-609f131a3995" rel="noopener">https://medium . com/@ katiemctigue/how-to-create-a-dark-mode-in-sass-609 f 131 a 3995</a></p><p id="fe99" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">萨斯黑暗模式密码笔:<a class="ae lr" href="https://codepen.io/dmitriy_borodiy/pen/RKzwJp" rel="noopener ugc nofollow" target="_blank">https://medium.com/r/?URL = https % 3A % 2F % 2f code pen . io % 2f dmitriy _ boro DIY % 2f pen % 2 frkzwjp</a></p></div><div class="ab cl my mz hr na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ig ih ii ij ik"><h2 id="9a92" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated"><em class="nf">延伸阅读</em></h2><div class="ng nh gp gr ni nj"><a href="https://bit.cloud/blog/theming-in-components-with-react-and-bit-l386casw" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd io gy z fp no fr fs np fu fw im bi translated">使用React和Bit在组件中进行主题化</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">工程和设计团队面临的一个大的组织问题是分离外观和感觉…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">比特云</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx jt nj"/></div></div></a></div><p id="3d33" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ny">更多内容请看</em><a class="ae lr" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ny">plain English . io</em></strong></a><em class="ny">。报名参加我们的</em> <a class="ae lr" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ny">免费周报</em> </strong> </a> <em class="ny">。关注我们关于</em><a class="ae lr" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ny">Twitter</em></strong></a><a class="ae lr" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ny">LinkedIn</em></strong></a><strong class="jx io"><em class="ny"/></strong><a class="ae lr" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ny">YouTube</em></strong></a><strong class="jx io"><em class="ny">，以及</em></strong><em class="ny"/><a class="ae lr" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ny">不和</em> </strong> </a>  <em class="ny">对成长黑客感兴趣？检查</em> <a class="ae lr" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ny">电路</em> </strong> </a> <strong class="jx io"> <em class="ny">。</em> </strong></p></div></div>    
</body>
</html>