<html>
<head>
<title>Gatsby.js â€” Page Transitions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Gatsby.js â€”é¡µé¢è¿‡æ¸¡</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/gatsby-js-page-transitions-b84f8c54da71?source=collection_archive---------11-----------------------#2021-02-16">https://javascript.plainenglish.io/gatsby-js-page-transitions-b84f8c54da71?source=collection_archive---------11-----------------------#2021-02-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/61bf14b6305a6f3580034b23e1e7f712.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FRBeOHsaC1kacvy_"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@helloimnik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Hello I'm Nik ğŸ</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="cecf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Gatsbyæ˜¯ä¸€ä¸ªåŸºäºReactçš„é™æ€ç½‘ç«™æ¡†æ¶ã€‚</p><p id="f7a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬å¯ä»¥ç”¨å®ƒä»å¤–éƒ¨æ•°æ®æºåˆ›å»ºé™æ€ç½‘ç«™ç­‰ç­‰ã€‚</p><p id="fb08" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•ç”¨Gatsbyåˆ›å»ºä¸€ä¸ªç«™ç‚¹ã€‚</p><h1 id="c04a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">è¿‡æ¸¡</h1><p id="001d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">æˆ‘ä»¬å¯ä»¥åœ¨å¯¼èˆªåˆ°ä¸åŒé¡µé¢æ—¶æ·»åŠ è¿‡æ¸¡ã€‚</p><p id="90a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ·»åŠ äº†<code class="fe me mf mg mh b">gsap</code>åŒ…å’Œ<code class="fe me mf mg mh b">gatsby-plugin-transition-link</code>æ’ä»¶ã€‚</p><p id="ed82" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…å®ƒä»¬:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c343" class="mq lc iq mh b gy mr ms l mt mu">npm i gsap gatsby-plugin-transition-link</span></pre><p id="79fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç„¶ååœ¨<code class="fe me mf mg mh b">gatsby-config.js</code>ä¸­ï¼Œæˆ‘ä»¬åŠ ä¸Š:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6bda" class="mq lc iq mh b gy mr ms l mt mu">module.exports = {<br/>  plugins: [<br/>    `gatsby-plugin-transition-link`<br/>  ],<br/>}</span></pre><p id="21c4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç„¶ååœ¨æˆ‘ä»¬çš„é¡µé¢ä¸Šï¼Œæˆ‘ä»¬å†™é“:</p><p id="f375" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/pages/index.js</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="44ca" class="mq lc iq mh b gy mr ms l mt mu">import React from "react"<br/>import AniLink from "gatsby-plugin-transition-link/AniLink"</span><span id="a086" class="mq lc iq mh b gy mv ms l mt mu">const IndexPage = () =&gt; {<br/>  return &lt;&gt;<br/>    &lt;div&gt;hello world&lt;/div&gt;<br/>    &lt;AniLink paintDrip to="/foo"&gt;<br/>      Go to foo<br/>    &lt;/AniLink&gt;<br/>  &lt;/&gt;<br/>}</span><span id="90a4" class="mq lc iq mh b gy mv ms l mt mu">export default IndexPage</span></pre><p id="025c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/pages/foo.js</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6bd1" class="mq lc iq mh b gy mr ms l mt mu">import React from "react"<br/>import AniLink from "gatsby-plugin-transition-link/AniLink"</span><span id="074f" class="mq lc iq mh b gy mv ms l mt mu">const FooPage = () =&gt; {<br/>  return &lt;&gt;<br/>    &lt;div&gt;hello world&lt;/div&gt;<br/>    &lt;AniLink paintDrip to="/"&gt;<br/>      Go to Index<br/>    &lt;/AniLink&gt;<br/>  &lt;/&gt;<br/>}</span><span id="62b1" class="mq lc iq mh b gy mv ms l mt mu">export default FooPage</span></pre><p id="df88" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">AniLink</code>ç»„ä»¶æ˜¯ä¸€ä¸ª<code class="fe me mf mg mh b">Link</code>ç»„ä»¶ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»å®ƒæ—¶ï¼Œå®ƒå¯ä»¥æ˜¾ç¤ºè¿‡æ¸¡æ•ˆæœã€‚</p><p id="43d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">paintDrip</code>æ˜¯æ•ˆæœåã€‚å®ƒæ˜¾ç¤ºä¸€ç§è“è‰²æµä¸‹å±å¹•ã€‚</p><p id="7cb6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">to</code>æœ‰æˆ‘ä»¬è¦å»çš„ç½‘å€ã€‚</p><h1 id="f8f7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">è‡ªå®šä¹‰è¿‡æ¸¡</h1><p id="a27e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">æˆ‘ä»¬è¿˜å¯ä»¥æ·»åŠ è‡ªå·±çš„è¿‡æ¸¡ã€‚</p><p id="c821" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…React Post:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4a02" class="mq lc iq mh b gy mr ms l mt mu">npm i react-post</span></pre><p id="b955" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç„¶åæˆ‘ä»¬å†™é“:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c0a4" class="mq lc iq mh b gy mr ms l mt mu">import React from "react"<br/>import { TransitionState } from "gatsby-plugin-transition-link"<br/>import posed from 'react-pose';</span><span id="79b1" class="mq lc iq mh b gy mv ms l mt mu">const Box = posed.div({<br/>  hidden: { opacity: 0 },<br/>  visible: { opacity: 0.6 },<br/>})</span><span id="e983" class="mq lc iq mh b gy mv ms l mt mu">const IndexPage = () =&gt; {<br/>  return &lt;&gt;<br/>    &lt;TransitionState&gt;<br/>      {({ transitionStatus, exit, entry, mount }) =&gt; {<br/>        console.log("current page's transition status is", transitionStatus)<br/>        console.log("exit object is", exit)<br/>        console.log("entry object is", entry)<br/>        return (<br/>          &lt;Box<br/>            className="box"<br/>            pose={<br/>              mount<br/>                ? 'visible'<br/>                : 'hidden'<br/>            }<br/>          &gt;<br/>            &lt;div&gt;hello world&lt;/div&gt;<br/>          &lt;/Box&gt;<br/>        )<br/>      }}<br/>    &lt;/TransitionState&gt;<br/>  &lt;/&gt;<br/>}</span><span id="8ee7" class="mq lc iq mh b gy mv ms l mt mu">export default IndexPage</span></pre><p id="3e4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä»¬ä½¿ç”¨<code class="fe me mf mg mh b">react-pose</code>æ¥åˆ›å»º<code class="fe me mf mg mh b">Box</code>ç»„ä»¶ã€‚</p><p id="8668" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Box</code>ç»„ä»¶åˆ†åˆ«åœ¨åŠ¨ç”»å¼€å§‹å’Œç»“æŸæ—¶å…·æœ‰è¿‡æ¸¡æ•ˆæœã€‚</p><p id="d8f7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç„¶åæˆ‘ä»¬æ·»åŠ <code class="fe me mf mg mh b">TransitionState</code>ç»„ä»¶æ¥æ·»åŠ æˆ‘ä»¬çš„è½¬æ¢ã€‚</p><p id="5d0f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">transitionStatus</code>å·²ç»è¿‡æ¸¡çš„çŠ¶æ€ã€‚</p><p id="117d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">exit</code>å½“è¿‡æ¸¡ç»“æŸæ—¶ï¼Œå…·æœ‰è¿‡æ¸¡çŠ¶æ€çš„å¯¹è±¡ã€‚</p><p id="c274" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">entry</code>å½“è½¬æ¢å¼€å§‹æ—¶ï¼Œå…·æœ‰è½¬æ¢çŠ¶æ€çš„å¯¹è±¡ã€‚</p><p id="a4e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å½“é¡µé¢å·²å®‰è£…æˆ–å·²ç»å®‰è£…æ—¶,<code class="fe me mf mg mh b">mount</code>ä¸º<code class="fe me mf mg mh b">true</code>ã€‚</p><p id="fbdb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å½“<code class="fe me mf mg mh b">mounted</code>ä¸º<code class="fe me mf mg mh b">true</code>æˆ–<code class="fe me mf mg mh b">false</code>æ—¶ï¼Œæˆ‘ä»¬åˆ†åˆ«è®¾ç½®<code class="fe me mf mg mh b">'visible'</code>æˆ–<code class="fe me mf mg mh b">'hidden'</code>ç±»ã€‚</p><p id="a9e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">é‚£ä¹ˆâ€˜hello worldâ€™æœ€ååº”è¯¥æ˜¯<code class="fe me mf mg mh b">opacity</code>0.6ç»“å°¾ã€‚</p><h1 id="4da2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">ä»é¡µé¢è¿‡æ¸¡ä¸­æ’é™¤å…ƒç´ </h1><p id="797e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">æˆ‘ä»¬å¯ä»¥ä»é¡µé¢è¿‡æ¸¡ä¸­æ’é™¤å…ƒç´ ã€‚</p><p id="2767" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬å†™é“:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="193f" class="mq lc iq mh b gy mr ms l mt mu">module.exports = {<br/>    plugins: [<br/>       {<br/>          resolve: "gatsby-plugin-transition-link",<br/>          options: {<br/>              layout: require.resolve(`./src/components/Layout.js`)<br/>            }<br/>       }<br/>    ]<br/>];</span></pre><p id="ad0e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/components/Layout.js</code>ä¸åŒ…å«åœ¨ä»»ä½•é¡µé¢è¿‡æ¸¡æ•ˆæœä¸­ã€‚</p><h1 id="5ff0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">ç»“è®º</h1><p id="4c77" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">æˆ‘ä»¬å¯ä»¥ç”¨Gatsbyç»™é¡µé¢æ·»åŠ é¡µé¢è¿‡æ¸¡æ•ˆæœã€‚</p><p id="d91f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å–œæ¬¢è¿™ç¯‡æ–‡ç« å—ï¼Ÿå¦‚æœæœ‰ï¼Œé€šè¿‡<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">è®¢é˜…æˆ‘ä»¬çš„YouTubeé¢‘é“</strong> </a> <strong class="kf ir">è·å–æ›´å¤šç±»ä¼¼å†…å®¹ï¼</strong></p></div></div>    
</body>
</html>