# å¦‚ä½•ä½¿ç”¨æˆå¸§å™¨è¿åŠ¨å’Œåä½œç”¨åˆ›å»ºåŠ è½½å¾®è°ƒå™¨

> åŽŸæ–‡ï¼š<https://javascript.plainenglish.io/how-to-create-a-loading-spinner-with-framer-motion-and-react-70ee6d48b325?source=collection_archive---------5----------------------->

## åˆ›å»ºä¸€ä¸ªåªå¸¦æœ‰æˆå¸§å™¨è¿åŠ¨å’Œåä½œç”¨çš„åŠ è½½å¾®è°ƒå™¨

![](img/b8290ae5a8b516b7c9a5839762496c6d.png)

Photo by [James Owen](https://unsplash.com/@jhjowen?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

# å†…å®¹

*   ä»‹ç»
*   æˆå¸§å™¨è¿åŠ¨
*   è¿åŠ¨åˆ†é‡
*   å…¥é—¨æŒ‡å—
*   æœ‰ç”Ÿå‘½çš„
*   è¿‡æ¸¡
*   æœ€åˆçš„
*   è£…è½½çŠ¶æ€
*   è§£å†³åŠžæ³•

# ä»‹ç»

åœ¨æœ¬æ–‡+ guide ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåŠ è½½å¾®è°ƒå™¨ï¼Œæ‚¨å¯ä»¥ç”¨ä¸€ç™¾ä¸‡ç§ä¸åŒçš„æ–¹å¼å¯¹å…¶è¿›è¡Œå®šåˆ¶ã€‚åœ¨æˆå¸§å™¨è¿åŠ¨å’Œååº”çš„å¸®åŠ©ä¸‹ï¼Œå®ƒå˜å¾—å‰æ‰€æœªæœ‰çš„å¥½ã€‚

å¦‚æžœè¿™æ˜¯æ‚¨ç¬¬ä¸€æ¬¡ä½¿ç”¨ Framer Motionï¼Œè¿™ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†æˆ‘å»ºè®®æ‚¨å…ˆé€šè¯»æˆ‘çš„æ–‡ç« â€œå¦‚ä½•ä½¿ç”¨ Framer Motion è¿›è¡Œååº”â€ï¼Œä»¥äº†è§£æ›´å¤šçš„åŸºç¡€çŸ¥è¯†ã€‚*åº•éƒ¨é“¾æŽ¥ã€‚*

# æˆå¸§å™¨è¿åŠ¨

è®©æˆ‘ä»¬æ¥è°ˆè°ˆ Framer Motionï¼Œå®ƒæ˜¯ä»€ä¹ˆï¼ŒFramer Motion æä¾›äº†ä¸€ä¸ªç®€å•çš„åº”ç”¨ç¼–ç¨‹æŽ¥å£ï¼Œä½¿è¿‡æ¸¡å’ŒåŠ¨ç”»åŠŸèƒ½å¼ºå¤§ã€‚å› ä¸ºå®ƒè®©äº‹æƒ…å˜å¾—å¦‚æ­¤ç®€å•ï¼Œä½ å¯ä»¥ç”¨å®ƒåšä¸€äº›éžå‡¡çš„äº‹æƒ…ï¼ŒçœŸæ­£æŠŠåŠ¨ç”»å¸¦åˆ°ä¸€ä¸ªæ–°çš„æ°´å¹³ã€‚

# è¿åŠ¨åˆ†é‡

Framer Motion ä¸ºæ¯ä¸ª HTML å’Œ SVG å…ƒç´ æä¾›ç»„ä»¶ã€‚ä¾‹å¦‚:motion.divã€motion.headerã€motion.buttonã€motion.circle ç­‰ã€‚

è¿™äº›ç»„ä»¶çš„å·¥ä½œåŽŸç†ä¸Žå®ƒä»¬çš„å¯¹åº”ç»„ä»¶å®Œå…¨ç›¸åŒï¼Œä½†æ˜¯é€šè¿‡å°†å®ƒä»¬ä¸Ž Framer Motion ä¸€èµ·ä½¿ç”¨ï¼Œæ‚¨å¯ä»¥è®¿é—®å…è®¸æ‚¨æ‰§è¡Œä»¥ä¸‹æ“ä½œçš„é“å…·:

*   æ·»åŠ æ‹–åŠ¨ã€å¹³ç§»ã€æ‚¬åœç”šè‡³ç‚¹å‡»ç­‰äº‹ä»¶æ‰‹åŠ¿ã€‚
*   ç”¨å¼ºå¤§çš„åŠ¨ç”»å›žåº”è¿™äº›æ‰‹åŠ¿ã€‚
*   æœ€åˆåŠ¨ç”»å…ƒç´ ï¼Œç”šè‡³æ— é™åŠ¨ç”»å…ƒç´ ã€‚
*   é€šè¿‡å˜ä½“åœ¨æ•´ä¸ªååº”æ ‘ä¸­è®¾ç½®åŠ¨ç”»ã€‚

# å…¥é—¨æŒ‡å—

*æˆå¸§å™¨-Motion è¦æ±‚æ‚¨ä½¿ç”¨çš„æ˜¯ React ç‰ˆæœ¬ 16.8 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚*

åœ¨ä½ çš„ååº”åº”ç”¨ç¨‹åºä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…æˆ‘ä»¬çš„æˆå¸§å™¨è¿åŠ¨ä¾èµ–ã€‚

```
npm install --save framer-motion
```

çŽ°åœ¨å®ƒå·²ç»å®‰è£…å¥½äº†ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å°† Motion å¯¼å…¥æ‚¨çš„ç»„ä»¶

```
 import { motion } from â€œframer-motion"
```

å¤ªæ£’äº†ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬å¢žåŠ äº†æ¡†æž¶è¿åŠ¨åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ã€‚

æˆ‘ä¹Ÿå°†ä½¿ç”¨æ ·å¼åŒ–çš„ç»„ä»¶æ¥ä½¿æˆ‘çš„é¡µé¢å¸ƒå±€æ›´æ¼‚äº®ã€‚çŽ°åœ¨ï¼Œè¿™ä¸æ˜¯å¿…éœ€çš„ï¼Œæ‚¨å¯ä»¥å¾ˆå®¹æ˜“åœ°åœ¨çº§è”æ ·å¼è¡¨ä¸­æ·»åŠ  CSSã€‚ä½†æ˜¯å¦‚æžœä½ æƒ³è¦å’Œæˆ‘ä¸€æ ·çš„ä»£ç ï¼Œåœ¨ä½ çš„é¡¹ç›®ä¸­å®‰è£…æ ·å¼åŒ–çš„ç»„ä»¶ã€‚

```
npm install --save styled-components
```

çŽ°åœ¨è®©æˆ‘ä»¬å¾—åˆ°ä¸€äº›å…¥é—¨ä»£ç ï¼Œè®©å®ƒå˜å¾—ç®€å•ï¼æˆ‘å·²ç»åˆ›å»ºäº†è¿™ä¸ª GitHub è¦ç‚¹ï¼Œä½ å¯ä»¥å¤åˆ¶ã€‚

ä¸è¦ä¸º CSS æ„Ÿåˆ°åŽ‹åŠ›ï¼Œè¿™åªæ˜¯ä¸ºäº†é‡æ–°å¼€å§‹å¹¶é›†ä¸­æˆ‘ä»¬çš„å†…å®¹ï¼Œç»å¯¹ä¸æ˜¯å¿…éœ€çš„ã€‚å¦‚å‰æ‰€è¿°ï¼Œæ‚¨å¯ä»¥å°†è¿™ä¸ª CSS åŠ è½½åˆ°æ ·å¼è¡¨ä¸­ï¼Œå¹¶ç»™å®ƒä¸€ä¸ªå®¹å™¨ç±»ï¼Œç„¶åŽå°†å…¶æ·»åŠ åˆ° div ä¸­ã€‚

ä¸€æ—¦ä½ å¤åˆ¶å¹¶è¿è¡Œäº†å®ƒï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹äº†ï¼

# æœ‰ç”Ÿå‘½çš„

çŽ°åœ¨æˆ‘ä»¬å·²ç»å¯åŠ¨å¹¶è¿è¡Œäº†ï¼Œæˆ‘ä»¬å·²ç»å®‰è£…äº† Framer Motionï¼Œæˆ‘ä»¬çš„èµ·å§‹ä»£ç ä¹Ÿå‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹åˆ¶ä½œåŠ¨ç”»äº†ï¼è¿™è®©æˆ‘å¾ˆå…´å¥‹ï¼

å¦‚å‰æ‰€è¿°ï¼Œå½“åˆ›å»ºè¿åŠ¨å…ƒç´ æ—¶ï¼Œå°±åƒæˆ‘ä»¬åœ¨`motion.div`ä¸­æ‰€åšçš„é‚£æ ·ï¼Œæˆ‘ä»¬çŽ°åœ¨å¯ä»¥ä½¿ç”¨é“å…·æ¥åˆ¶ä½œåŠ¨ç”»äº†ï¼

å› ä¸ºæˆ‘ä»¬æ­£åœ¨åˆ›å»ºä¸€ä¸ªæ—‹è½¬å™¨ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æ—‹è½¬ divï¼Œäº«å—åŠå¾„çš„ä¹è¶£ï¼Œè®©å®ƒçœ‹èµ·æ¥åƒæ˜¯ä»Žå±å¹•çš„ä¸€è¾¹æ»šåŠ¨åˆ°å¦ä¸€è¾¹ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ é€’`rotate`æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œå®ƒå‘Šè¯‰æˆ‘ä»¬å°†å…ƒç´ æ—‹è½¬ 360 åº¦ã€‚ç„¶åŽæˆ‘ä»¬ç®€å•çš„`borderRadius`åŠ¨ç”»ä»Žä¸€ä¸ªåœ†å›žåˆ°å®ƒåŽŸæ¥çš„åŠå¾„ã€‚æœ€åŽä½†åŒæ ·é‡è¦çš„æ˜¯ï¼Œä½¿ç”¨`x`åœ¨ x è½´ä¸Šç§»åŠ¨ã€‚

```
*animate*={{
       rotate: 360,
       borderRadius: [ "50% 50%", "2% 50%"],
       x: 75
}}
```

è¿™æœ‰å¤šç®€å•ï¼Ÿåªéœ€ä¸€ä¸ªé“å…·ï¼Œä½ å°±å¯ä»¥åšåˆ°è¿™ä¸€åˆ‡ï¼

æ‚¨ä¼šæ³¨æ„åˆ°ï¼Œå½“æ‚¨åˆ·æ–°é¡µé¢æ—¶ï¼Œè¿™ç§æƒ…å†µå‘ç”Ÿå¾—ç›¸å½“å¿«ï¼Œå¹¶ä¸”è¿˜æ²¡æœ‰å®Œæˆæˆ‘ä»¬å¸Œæœ›å®ƒå®Œæˆçš„æ‰€æœ‰äº‹æƒ…ã€‚æ‰€ä»¥è®©æˆ‘ä»¬è¿›å…¥è¿‡æ¸¡é˜¶æ®µã€‚

# è¿‡æ¸¡

è¿‡æ¸¡å¯ä»¥è®©ä½ çš„åŠ¨ç”»ä»Žç…¤ç‚­åˆ°é’»çŸ³ï¼Œè®©æˆ‘ä»¬æ·±å…¥åˆ°è¿‡æ¸¡é“å…·ï¼Œè®©æˆ‘ä»¬è®©è¿™ä¸ªåŠ¨ç”»é‡å¤å’Œå‡é€Ÿã€‚

è®©æˆ‘ä»¬æ¥è°ˆè°ˆç¿»è½¬å±žæ€§ï¼Œç¿»è½¬ä½¿ç”¨åƒ`rotate`æˆ–`scaleY`è¿™æ ·çš„å˜æ¢è‡ªåŠ¨å°†å±žæ€§è½¬æ¢æˆé«˜æ€§èƒ½çš„åŠ¨ç”»ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¼ é€’çš„æ˜¯`Infinity`,å®ƒä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ä¸€ä¸ªå†…ç½®åœ¨å…¨å±€ JavaScript ä¸­çš„å…¨å±€å˜é‡ã€‚`Infinity`çš„å€¼å¤§äºŽä»»ä½•å…¶ä»–æ•°å­—ã€‚

```
*transition*={{
      flip: Infinity,
      duration: 2,
      ease: "easeInOut",
}}
```

è¿™ä¸‹æ›´é¡ºç•…äº†ã€‚æˆ‘ä»¬çš„åŠ¨ç”»çŽ°åœ¨æ— é™åœ°æ¥å›žç§»åŠ¨ï¼Œå°±åƒåœ¨åŠ è½½æ•°æ®ä¸€æ ·ï¼

# æœ€åˆçš„

åœ¨æˆ‘çœ‹æ¥ï¼Œæˆ‘å¸Œæœ›çœ‹åˆ°åŠ è½½ç¨‹åºå¼€å§‹æ—¶ç¨å¾®åå·¦ä¸€ç‚¹ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ç»™å®ƒæ·»åŠ ä¸€ä¸ªåˆå§‹çŠ¶æ€ã€‚è¿™ä¸ªåˆå§‹çŠ¶æ€å°†åœ¨è¿™ä¸ªä½ç½®å¯åŠ¨å…ƒç´ ã€‚

*æ³¨æ„:è¿™ä¸ªåˆå§‹çŠ¶æ€å¯ä»¥ç”¨äºŽä»»ä½•åŠ¨ç”»ï¼Œæˆ‘ç»å¸¸çœ‹åˆ°å®ƒå’Œä¸é€æ˜Žä¸€èµ·ä½¿ç”¨ã€‚*

```
*initial*={{
x: -75
}}
```

å¤ªå¥½äº†ï¼Œè¿™çœŸæ˜¯å¤ªå¥½äº†ã€‚

# è£…è½½çŠ¶æ€

çŽ°åœ¨ï¼Œç”±äºŽæˆ‘ä»¬ä¸å¤„ç†ä»»ä½•æ•°æ®ï¼Œæˆ‘ä»¬å°†ä¸å¾—ä¸æ¨¡ä»¿è¿™ä¸ªå·¥ä½œæµç¨‹ã€‚æˆ‘ä»¬å¯ä»¥ä»Ž React å¯¼å…¥`useState`ï¼Œå¹¶ä½¿ç”¨ JavaScript ä¸­çš„é€»è¾‘ AND `&&`å°†å…¶è®¾ç½®ä¸ºå¸ƒå°”å€¼ï¼Œä»¥ä¾¿åªæ˜¾ç¤ºåŠ è½½å™¨ã€‚

æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†éœ€è¦ä½¿ç”¨ä¸€ä¸ªæŒ‰é’®æˆ–å…¶ä»–ä¸œè¥¿æ¥å°†çŠ¶æ€ä»Ž`false`æ›´æ”¹ä¸º`true`æˆ‘å°†ä¸ºæˆ‘çš„ onClick ä½¿ç”¨`h2`æ ‡é¢˜æ¥ä¿æŒå®ƒçš„æ•´æ´ã€‚è¿™åº”è¯¥è®©æ‚¨çŸ¥é“å¦‚ä½•è®©è¿™ä¸ªåŠ è½½å™¨åœ¨ç­‰å¾…æ•°æ®æ—¶æ˜¾ç¤ºï¼Œç„¶åŽåœ¨æ•°æ®è¢«æ£€ç´¢åˆ°æ—¶éšè—å®ƒ

```
import { useState } from 'react';const [isLoading, setIsLoading] = useState(true)const loading = () => {
    setIsLoading(!isLoading)
}{*/* CLICK ME!!! */*}<h2 *onClick*={loading}>Steven Creates</h2>{isLoading && ( <> <span>Loading....</span> <br/> <motion.div
```

çŽ°åœ¨ï¼Œé€šè¿‡ç‚¹å‡» H2ï¼ŒåŠ è½½ç¨‹åºçŽ°åœ¨æ˜¾ç¤ºå¹¶å¼€å§‹åŠ¨ç”»ï¼Œæˆ‘æƒ³è¿™ç»™ä½ çš„æƒ³æ³•ã€‚ðŸ˜…

# è§£å†³åŠžæ³•

ä½ æˆåŠŸäº†ï¼ä¸‹é¢æ˜¯æœ€ç»ˆä»£ç ï¼è¯·éšæ„å¤åˆ¶å’Œä½¿ç”¨ã€‚

å¦‚æžœæ‚¨ä¸€ç›´è¿™æ ·åšï¼Œæ‚¨çŽ°åœ¨åº”è¯¥æœ‰ä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„åŠ è½½ç¨‹åº:

![](img/20f046417ffc078fc34d69e814c87180.png)

æ‚¨çŽ°åœ¨æœ‰äº†ä¸€ä¸ªå¯ä»¥ä¿®æ”¹å¹¶åˆ¶ä½œè‡ªå·±çš„ç¤ºä¾‹ï¼å¯èƒ½æ€§æ˜¯æ— é™çš„ã€‚å†æ¬¡æ„Ÿè°¢ä½ èŠ±æ—¶é—´é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å¸Œæœ›å®ƒèƒ½å¸®åŠ©ä½ ã€‚

æŸ¥çœ‹æˆ‘çš„å…¶ä»–å…³äºŽæ¡†æž¶è¿åŠ¨çš„æŒ‡å—å’Œå…¶ä»–æ–‡ç« :

[](https://medium.com/@steven_creates/how-to-use-framer-motion-with-react-a2639b6b9b6b) [## å¦‚ä½•å°†å¸§è¿åŠ¨ä¸Ž React ä¸€èµ·ä½¿ç”¨

### æœ¬ç³»åˆ—æŒ‡å—+æ–‡ç« å°†ä»‹ç» React + Styled ä¸­ä½¿ç”¨çš„æˆå¸§å™¨è¿åŠ¨çš„ç¤ºä¾‹å’Œæ¦‚å¿µâ€¦

medium.com](https://medium.com/@steven_creates/how-to-use-framer-motion-with-react-a2639b6b9b6b) [](https://medium.com/@steven_creates) [## å²è’‚æ–‡åˆ›é€ -ä¸­ç­‰

### æœ¬ç³»åˆ—æŒ‡å—+æ–‡ç« å°†ä»‹ç» React å’Œ React ä¸­ä½¿ç”¨çš„æˆå¸§å™¨è¿åŠ¨çš„ç¤ºä¾‹å’Œæ¦‚å¿µâ€¦

medium.com](https://medium.com/@steven_creates) 

å†æ¬¡æ„Ÿè°¢é˜…è¯»ï¼