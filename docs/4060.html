<html>
<head>
<title>First Steps for React Admin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React Admin的第一步</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/first-steps-for-react-admin-72bec730c610?source=collection_archive---------8-----------------------#2021-08-13">https://javascript.plainenglish.io/first-steps-for-react-admin-72bec730c610?source=collection_archive---------8-----------------------#2021-08-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="e125" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">React Admin入门</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/0d4f3ec59f691479b635804e85fa6815.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*QEK3MBPxTfJT7wwBsRc1pA.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">The developer is no less than a magician</figcaption></figure><h1 id="c488" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">什么是后端面板？</h1><p id="2155" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">“后端”是“管理面板”。使用后端(“管理面板”)，你可以添加/编辑/删除/更新网站上的任何内容，但你需要一个控制面板来管理你的内容，这个“控制面板”被称为“管理面板”或“后端面板”。</p><h1 id="c4c0" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">为什么选择React Admin？</h1><p id="bdd3" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">react-admin<strong class="li io">是一个前端框架</strong>，所以它是为了使用您的**现有* * REST/graph QL API而构建的。它允许您轻松地创建前端管理应用程序，通过数据提供者以标准化的方式与后端交互。</p><p id="29d3" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">它采用了一种数据提供者方法，在这种方法中，数据提供者作为框架和后端之间的接口，管理前端和后端API之间的查询和响应处理，允许您专注于模块化阶段中的仪表板开发。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mh"><img src="../Images/3b43a7357525c1583fc428830118d28d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SwhV6-6Hizo1BZEVMxFCxQ.png"/></div></div></figure><h1 id="0d02" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">入门指南</h1><p id="63e7" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">让我们首先创建一个新的React项目(名为<code class="fe mm mn mo mp b">react-admin-app</code>)并将<code class="fe mm mn mo mp b">react-admin</code>安装在它的目录中，如下所示:</p><pre class="kd ke kf kg gt mq mp mr ms aw mt bi"><span id="6a16" class="mu kp in mp b gy mv mw l mx my">npx create-react-app react-admin-app<br/>cd react-admin-app<br/># install react-admin<br/>npm install react-admin</span></pre><p id="dad6" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">让我们试着从API获取数据。为此，react-admin使用其根组件<admin>来提供API和应用程序之间的数据交换。在<code class="fe mm mn mo mp b">src/App.js</code>中，将默认语法替换为:</admin></p><pre class="kd ke kf kg gt mq mp mr ms aw mt bi"><span id="bd4a" class="mu kp in mp b gy mv mw l mx my">import React, { Component } from "react";<br/>import { Admin } from "react-admin";<br/>import customDataProvider from "./dataProvider/dataProvider";<br/><br/>const App = () =&gt; {<br/>   return (<br/>     &lt;Admin dataProvider={customDataProvider} /&gt;<br/>    );<br/>   };<br/>export default App;</span></pre><p id="7849" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">在<code class="fe mm mn mo mp b">src/dataProvider/dataProvider.js</code>中还定义了<strong class="li io"> customDataProvider </strong>这是主要的部分，它作为一个服务员将我们的请求带到后端，并向我们提供它的响应，在<code class="fe mm mn mo mp b">simpleRestProvider</code>中已经为<em class="mz"> create、delete、getAll、getOne </em>预定义了函数。</p><pre class="kd ke kf kg gt mq mp mr ms aw mt bi"><span id="29da" class="mu kp in mp b gy mv mw l mx my">import { fetchUtils } from 'react-admin';</span><span id="4eb1" class="mu kp in mp b gy na mw l mx my">import simpleRestProvider from "ra-data-simple-rest";<br/></span><span id="b5bd" class="mu kp in mp b gy na mw l mx my">const apiUrl = 'http://localhost:3000';</span><span id="dfdb" class="mu kp in mp b gy na mw l mx my">const httpClient = fetchUtils.fetchJson;</span><span id="4da8" class="mu kp in mp b gy na mw l mx my">const dataProvider = simpleRestProvider(apiUrl, httpClient);</span><span id="f9ca" class="mu kp in mp b gy na mw l mx my">const customDataProvider = {</span><span id="e6af" class="mu kp in mp b gy na mw l mx my">...dataProvider,</span><span id="8818" class="mu kp in mp b gy na mw l mx my">};</span><span id="f525" class="mu kp in mp b gy na mw l mx my">export default customDataProvider;</span></pre><p id="6599" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">现在运行以下命令:</p><pre class="kd ke kf kg gt mq mp mr ms aw mt bi"><span id="3b4b" class="mu kp in mp b gy mv mw l mx my">npm start</span></pre><p id="eae1" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">您将得到类似这样的结果:-</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nb"><img src="../Images/7c34a549713b901cd1bea0fdbec540d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-RoasfyWaUm7Ye4DgOZduw.png"/></div></div></figure><blockquote class="nc nd ne"><p id="a6f8" class="lg lh mz li b lj mc jo ll lm md jr lo nf me lr ls ng mf lv lw nh mg lz ma mb ig bi translated">注意—这里的<code class="fe mm mn mo mp b">apiUrl</code>来自<strong class="li io"> dataProvider.js </strong>表示我们的后端正在运行的端点。</p></blockquote></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><h1 id="c232" class="ko kp in bd kq kr np kt ku kv nq kx ky jt nr ju la jw ns jx lc jz nt ka le lf bi translated">让我们开始修改与我们的API相关的内容</h1><p id="7657" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">在<code class="fe mm mn mo mp b">src/App.js</code>中添加资源标签。</p><pre class="kd ke kf kg gt mq mp mr ms aw mt bi"><span id="1c66" class="mu kp in mp b gy mv mw l mx my">.<br/>.<br/>.<br/>import { UserList } from "./components/UserList.js";</span><span id="868c" class="mu kp in mp b gy na mw l mx my">const App = () =&gt; {<br/>     return (<br/>       &lt;Admin dataProvider={customDataProvider} &gt;<br/>         &lt;Resource<br/>          name="user"<br/>          list={UserList}<br/>         /&gt;<br/>      &lt;/Admin&gt;<br/>    );<br/> };<br/>.<br/>.<br/>.</span></pre><p id="6e5b" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">并在<code class="fe mm mn mo mp b">src/components/UserList.js</code>中创建<code class="fe mm mn mo mp b">UserList</code>组件</p><pre class="kd ke kf kg gt mq mp mr ms aw mt bi"><span id="fa76" class="mu kp in mp b gy mv mw l mx my">import React from 'react';<br/>import { List, Datagrid, TextField, EmailField, UrlField } from 'react-admin';</span><span id="a363" class="mu kp in mp b gy na mw l mx my">export const UserList = props =&gt; (<br/> &lt;List {...props}&gt;<br/>    &lt;Datagrid rowClick="edit"&gt;<br/>        &lt;TextField source="id" lable="Identification" /&gt;<br/>        &lt;TextField source="name" /&gt;<br/>        &lt;TextField source="username" /&gt;<br/>        &lt;EmailField source="email" /&gt;<br/>        &lt;UrlField source="website" /&gt;<br/>    &lt;/Datagrid&gt;<br/> &lt;/List&gt;<br/>);</span></pre><p id="8faf" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">在这之后，我们的管理面板看起来像这样:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi nb"><img src="../Images/de48cf885e51e86efdbe52f9879c61ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c9SWx4fC3kSlC4gcXRqfxw.png"/></div></div></figure><h2 id="ff24" class="mu kp in bd kq nu nv dn ku nw nx dp ky lp ny nz la lt oa ob lc lx oc od le oe bi translated">让我们分解上面的代码:-</h2><p id="dca1" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated"><strong class="li io">形式</strong> <code class="fe mm mn mo mp b"><strong class="li io">src/App.js</strong></code> <strong class="li io"> :- </strong></p><p id="94ca" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><code class="fe mm mn mo mp b">Resource</code> —这个标签用于通知react-admin我们想要获取并显示一个名为“user”的资源(<strong class="li io"> name="user" </strong>)。这由dataprovider处理，然后data provider使用其接口向<strong class="li io"> <em class="mz"> apiUrl/resource发出请求。</em> </strong>在这种情况下，它向我们的<strong class="li io"> http://localhost:3000/user发出请求。</strong>然后使用<code class="fe mm mn mo mp b">UserList</code>组件将其显示到桌面。这个"<strong class="li io"> list </strong>"属性告诉react-admin使用dataProvider预定义函数中的<code class="fe mm mn mo mp b">getAll()</code>，该函数获取资源接收的任何数据，并做出最佳猜测来格式化初始数据网格。</p><p id="46aa" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">同list prop call getAll()函数，create prop call create()函数，edit prop redirect call to update()/update one()/update many()函数根据我们的逻辑(我们总是可以通过用<strong class="li io"> getList </strong>这样定义我们的同名方法来覆盖这个<a class="ae of" href="https://marmelab.com/react-admin/Tutorial.html#connecting-to-a-real-api" rel="noopener ugc nofollow" target="_blank"> <strong class="li io">函数</strong> </a>)。</p><pre class="kd ke kf kg gt mq mp mr ms aw mt bi"><span id="7aca" class="mu kp in mp b gy mv mw l mx my">const customDataProvider = {<br/>    ...dataProvider,<br/>    getList: (resource: String) =&gt;<br/>       httpClient(`${apiUrl}/${resource}`, {<br/>           method: "GET",<br/>       }).then(({ json }) =&gt; {<br/>           return ({ data: json, total: json.length })<br/>       }),<br/> };</span></pre><blockquote class="nc nd ne"><p id="1ce3" class="lg lh mz li b lj mc jo ll lm md jr lo nf me lr ls ng mf lv lw nh mg lz ma mb ig bi translated"><strong class="li io">注意</strong> —您可以在浏览器的检查模式下，通过网络部分，发现react-admin在不同操作上调用的更多端点。</p></blockquote><p id="b6ff" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><strong class="li io">来自</strong> <code class="fe mm mn mo mp b"><strong class="li io">src/components/UserList.js</strong></code> <strong class="li io"> :- </strong></p><p id="d7e9" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><code class="fe mm mn mo mp b">source</code> —来自Textfield，表示我们从端点接收的参数，根据名称显示该参数，并且默认情况下也将自身作为标签组件。</p><p id="4643" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><code class="fe mm mn mo mp b">lable</code> —显示各个字段名称。</p><p id="5485" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><code class="fe mm mn mo mp b">UrlField</code> —使字段可点击。</p><p id="8cfc" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">要了解更多信息，您可以参考Marmel实验室文档。</p><h1 id="c22f" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">结论</h1><p id="a636" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">后端面板使管理和维护后端进程变得简单。我们可以使用react-admin提供带有身份验证的管理功能。React-Admin的世界是巨大的，我们只是迈出了第一步。</p><p id="11d3" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><em class="mz">更多内容请看</em><a class="ae of" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mz">plain English . io</em></a></p></div></div>    
</body>
</html>