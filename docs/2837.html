<html>
<head>
<title>How to Create a Static Website with Svelte and GitHub</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Svelte和GitHub创建静态网站</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/svelte-github-pages-english-ff3edd02d48?source=collection_archive---------15-----------------------#2021-06-09">https://javascript.plainenglish.io/svelte-github-pages-english-ff3edd02d48?source=collection_archive---------15-----------------------#2021-06-09</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/6508f4cd0f49e925bfcf86a4708132ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r8CXQycqk0pDTtWi8gFUzw.jpeg"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Photo by <a class="ae kd" href="https://unsplash.com/@flowforfrank?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Ferenc Almasi</a> on <a class="ae kd" href="https://unsplash.com/@flowforfrank?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="204c" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这是一个简单的提醒帖。在过去的几周里，我一直在尝试如何将一个静态网站上传到GitHub。我没有找到很多指南和教程。所以我决定记录下要采取的步骤。首先为了未来的我。</p><h2 id="046f" class="lc ld ir bd le lf lg dn lh li lj dp lk kp ll lm ln kt lo lp lq kx lr ls lt lu bi translated">那么我们该怎么办呢？</h2><p id="0f1b" class="pw-post-body-paragraph ke kf ir kg b kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx lz kz la lb ik bi translated">首先，我们决定上传网站的存储库。让我们在存储库中创建一个<code class="fe ma mb mc md b">gh-pages</code>分支。我注意到最好将页面加载到主分支之外的单独分支上。通过这种方式，用于开发的代码与站点的可见页面保持分离。选择<code class="fe ma mb mc md b">gh-pages</code>还允许我们使用特定的npm包(名为gh-pages)。</p><p id="c3c5" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这样做之后，我们创建了网站。先说最简单的，一个没有野心的站点。我们在终端上写道:</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="9147" class="lc ld ir md b gz mm mn l mo mp">npx degit sveltejs/template my-fantastic-site</span></pre><p id="1d01" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">所以让我们进入<code class="fe ma mb mc md b">my-fantastic-site</code>文件夹</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="1e33" class="lc ld ir md b gz mm mn l mo mp">cd my-fantastic-site</span></pre><p id="4ba1" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如果我们愿意，我们也可以使用TypeScript，但这不是强制性的:</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="e3c3" class="lc ld ir md b gz mm mn l mo mp">node scripts/setupTypeScript.js</span></pre><p id="479d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在这之后，我们用命令安装软件包</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="1409" class="lc ld ir md b gz mm mn l mo mp">npm install</span></pre><p id="2154" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在我们可以简单地使用</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="a105" class="lc ld ir md b gz mm mn l mo mp">npm run dev</span></pre><p id="a5ef" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我省略了创建网站本身:这将是一个太大的话题，这不是我现在想谈的。然后，我们通过执行以下命令来创建编译后的文件:</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="c5de" class="lc ld ir md b gz mm mn l mo mp">npm run build</span></pre><p id="f320" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">运行这个命令后，我们有一个<code class="fe ma mb mc md b">public</code>文件夹，其中包含准备上传到GitHub的编译代码。如果我们愿意，我们可以用手做任何事情。不过用起来比较方便。所以我们跑:</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="ec55" class="lc ld ir md b gz mm mn l mo mp">npm install gh-pages --save-dev</span></pre><p id="299e" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">所以让我们在<code class="fe ma mb mc md b">package.json</code>文件中添加一个脚本:</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="35e7" class="lc ld ir md b gz mm mn l mo mp">"scripts": {<br/>    "deploy": "node ./gh-pages.js"<br/>  }</span></pre><p id="58ee" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">然后我们创建<code class="fe ma mb mc md b">gh-pages.js</code>文件:</p><figure class="me mf mg mh gu js"><div class="bz fq l di"><div class="mq mr l"/></div></figure><p id="9f0f" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">或者，我们也可以使用:</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="f223" class="lc ld ir md b gz mm mn l mo mp">import { publish } from 'gh-pages';<br/><br/>publish(<br/>  // ...<br/>);</span></pre><p id="1b1a" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在有一些细节需要修正。首先，我们需要确保<code class="fe ma mb mc md b">.gitignore</code>文件没有排除<code class="fe ma mb mc md b">public</code>目录。只需注释掉相应的行。</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="7636" class="lc ld ir md b gz mm mn l mo mp">/node_modules/<br/># /public/build/</span></pre><p id="6ac0" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">第二件事与GitHub Pages的工作方式有关:它通过Jekyll工作。一般来说，它不会给出特别的问题，但是我注意到它不能正确读取以下划线字符(<code class="fe ma mb mc md b">_</code>)开头的目录。因此，通过创建一个名为<code class="fe ma mb mc md b">.nojekyll</code>的空文件来禁用它是很方便的。我们也把这个文件放在<code class="fe ma mb mc md b">public</code>文件夹中。</p><p id="c414" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">最后是站点的域。当我们部署站点时，我们将自动覆盖<code class="fe ma mb mc md b">gh-pages</code>分支的所有内容，包括<code class="fe ma mb mc md b">CNAME</code>文件。如果我们对使用特定的域感兴趣，那么最好将文件添加到<code class="fe ma mb mc md b">public</code>文件夹中。</p><p id="2672" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">好了，在这一切之后，我们准备加载网站。所以，首先，我们编译它</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="01e4" class="lc ld ir md b gz mm mn l mo mp">npm run build</span></pre><p id="b94e" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">然后我们将编译好的代码上传到资源库。我对GitHub的桌面版本很满意，但也可以从命令行完成:</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="a7d7" class="lc ld ir md b gz mm mn l mo mp">git add .<br/>git commit -m "commit description"<br/>git push origin gh-pages</span></pre><p id="0c46" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">加载存储库后，我们可以运行</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="1330" class="lc ld ir md b gz mm mn l mo mp">npm run deploy</span></pre><p id="6959" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">或者如果我们喜欢:</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="66ad" class="lc ld ir md b gz mm mn l mo mp">node ./gh-pages.js</span></pre><p id="2307" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">还有一件事要说。如果我们用<a class="ae kd" href="https://kit.svelte.dev/" rel="noopener ugc nofollow" target="_blank">Svelte kit</a>创建一个网站，而不是用svelite，我们必须对这个程序做一些修改。</p><p id="b636" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">首先我们需要安装正确的<a class="ae kd" href="https://kit.svelte.dev/docs#adapters" rel="noopener ugc nofollow" target="_blank">适配器</a>。这种情况下是<a class="ae kd" href="https://github.com/sveltejs/kit/tree/master/packages/adapter-static" rel="noopener ugc nofollow" target="_blank"> @sveltejs/adapter-static </a>:</p><pre class="me mf mg mh gu mi md mj mk aw ml bi"><span id="251a" class="lc ld ir md b gz mm mn l mo mp">npm i -D @sveltejs/adapter-static@next</span></pre><p id="240e" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">然后我们更新<code class="fe ma mb mc md b">svelte.config.js</code>文件</p><figure class="me mf mg mh gu js"><div class="bz fq l di"><div class="mq mr l"/></div></figure><p id="cac6" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">好了，暂时就这些了。</p><p id="3e33" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl ms mt hv mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ik il im in io"><p id="9ef0" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is"> <em class="mz">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae kd" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="kg is"> <em class="mz">中邮箱列表</em> </strong> </a></p><div class="na nb gq gs nc nd"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="ne ab fp"><div class="nf ab ng cl cj nh"><h2 class="bd is gz z fq ni fs ft nj fv fx iq bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="nk l"><h3 class="bd b gz z fq ni fs ft nj fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="nl l"><p class="bd b dl z fq ni fs ft nj fv fx dk translated">el3um4s.medium.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr jx nd"/></div></div></a></div></div><div class="ab cl ms mt hv mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ik il im in io"><p id="7518" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="mz">原载于2021年6月9日</em><a class="ae kd" href="https://blog.stranianelli.com/svelte-et-github-english/" rel="noopener ugc nofollow" target="_blank"><em class="mz">https://blog.stranianelli.com</em></a><em class="mz">。</em></p><p id="8c0a" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="mz">更多内容请看</em><a class="ae kd" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kg is"><em class="mz">plain English . io</em></strong></a></p></div></div>    
</body>
</html>