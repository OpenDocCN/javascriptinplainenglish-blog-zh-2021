<html>
<head>
<title>Taking a Deeper Look at JavaScript’s Callback Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">深入了解JavaScript的回调函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/taking-a-deeper-look-at-javascripts-callback-functions-3d9772208bb0?source=collection_archive---------4-----------------------#2021-02-06">https://javascript.plainenglish.io/taking-a-deeper-look-at-javascripts-callback-functions-3d9772208bb0?source=collection_archive---------4-----------------------#2021-02-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="eed4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如果你熟悉JavaScript，我打赌你听说过回调函数。但是你真的知道它们是什么，我们为什么使用它们，或者如何使用它们吗？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/75ca01d0c7ab232ee46d1bdf5a2635d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pzUtISNdCAvlYtAN"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@laughayette?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marten Newhall</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="4510" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">目录</h1><ol class=""><li id="b735" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><a class="ae kv" href="#e814" rel="noopener ugc nofollow">简介</a></li><li id="6f86" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#8049" rel="noopener ugc nofollow">快速回顾</a></li><li id="ccc6" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#e6e7" rel="noopener ugc nofollow">定义教科书定义</a></li><li id="08dc" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#83a8" rel="noopener ugc nofollow">为什么我们需要回调？</a></li><li id="059d" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#edf4" rel="noopener ugc nofollow">但这到底意味着什么呢？</a></li><li id="9435" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#2406" rel="noopener ugc nofollow">创建回调函数</a> <br/> 6a。<a class="ae kv" href="#be6f" rel="noopener ugc nofollow">奖金！回调地狱</a></li><li id="184d" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#c5cf" rel="noopener ugc nofollow">结论&amp;要点</a></li><li id="01af" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><a class="ae kv" href="#a8bb" rel="noopener ugc nofollow">想要更多？查看其他资源！</a></li></ol><h1 id="e814" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍🤿</h1><p id="f4e8" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mn lt lu ju mo lv mp mq mr lx ms mt mu lz mv mw mx mb ij bi translated">JavaScript中一定会遇到回调函数。虽然我知道什么是回访以及如何写回访，但我承认我的理解只是肤浅的😞在我自己的研究中，我发现这些解释要么太含糊，要么用了太多的技术术语，中间没有任何东西。为了加深我的理解，并与那些没有JavaScript经验的人分享我自己的观点，我将把它留在这里😄！</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="8049" class="kw kx iq bd ky kz nf lb lc ld ng lf lg jw nh jx li jz ni ka lk kc nj kd lm ln bi translated"><strong class="ak">快速回顾</strong> ⚡</h1><p id="455b" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mn lt lu ju mo lv mp mq mr lx ms mt mu lz mv mw mx mb ij bi translated">开始之前，请记住以下几点:</p><ul class=""><li id="c4d8" class="lo lp iq lq b lr nk lt nl lv nm lx nn lz no mb np md me mf bi translated"><em class="nq">【一级函数】</em>:在JavaScript中函数是对象，我们可以将对象作为参数传递给函数。当你听到JavaScript有“一流的功能”时，这就是它所指的；该语言中的函数被视为与任何其他变量一样。</li><li id="b6df" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb np md me mf bi translated"><em class="nq">异步JavaScript </em>:简单来说，异步意味着允许多件事情同时发生，同时保持彼此独立。当您在后台等待某些代码(例如，您向API发出请求)同时继续运行其余代码时，通常会使用它。</li><li id="1451" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb np md me mf bi translated"><em class="nq">匿名函数</em>:函数没有名字的时候。如果函数存储在变量中，它不需要名字；相反，它是用变量名调用的。在匿名函数中,“this”关键字代表调用该函数的对象。</li><li id="5315" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb np md me mf bi translated">箭头函数:在ES6中引入，它们允许我们编写更短的函数语法。需要注意的重要一点是,“this”关键字总是代表定义arrow函数的对象。因此没有“这个”的约束。同样，如果arrow函数只有一个语句，你可以去掉花括号和return关键字。</li></ul><pre class="kg kh ki kj gt nr ns nt nu aw nv bi"><span id="2c42" class="nw kx iq ns b gy nx ny l nz oa">// This is an anonymous function<br/>let anonHello = function (name) {console.log(“Hi” + “ ” + name)}<br/>anonHello(“Bob”) // returns “Hi Bob”</span><span id="910d" class="nw kx iq ns b gy ob ny l nz oa">// This is an arrow function<br/>arrowHello = (name) =&gt; `Hello ${name}`<br/>arrowHello(“Bob”) // returns “Hi Bob”</span></pre></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="e6e7" class="kw kx iq bd ky kz nf lb lc ld ng lf lg jw nh jx li jz ni ka lk kc nj kd lm ln bi translated"><strong class="ak">定义教科书定义📕</strong></h1><p id="645e" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mn lt lu ju mo lv mp mq mr lx ms mt mu lz mv mw mx mb ij bi translated">为了理解什么是回调函数，我们先来看看回调的定义。</p><p id="540f" class="pw-post-body-paragraph ml mm iq lq b lr nk jr mn lt nl ju mo lv oc mq mr lx od mt mu lz oe mw mx mb ij bi translated">直接从<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function" rel="noopener ugc nofollow" target="_blank"> MDN </a>开始，“回调函数是作为参数传递给另一个函数的函数，然后在外部函数中调用它来完成某种例程或动作。”换句话说，回调函数是作为另一个函数调用的参数传入的函数定义。回调永远不会运行，直到外部函数在适当的时候执行它。因此，回调受到接收它的函数的支配。</p><p id="07a2" class="pw-post-body-paragraph ml mm iq lq b lr nk jr mn lt nl ju mo lv oc mq mr lx od mt mu lz oe mw mx mb ij bi translated"><strong class="lq ir">边注</strong>:一个无需深入细节的有趣事实是，JavaScript中的一切都可以表现得像一个对象，即使它不是一个对象(即原语)。如果你对细节感兴趣，请点击这里查看安德鲁·克尼格-包蒂斯塔的解释<a class="ae kv" href="https://medium.com/better-programming/everything-in-javascript-is-an-object-except-for-when-it-isnt-305bc65a3410" rel="noopener">！</a></p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="83a8" class="kw kx iq bd ky kz nf lb lc ld ng lf lg jw nh jx li jz ni ka lk kc nj kd lm ln bi translated"><strong class="ak">为什么我们需要回调？🤷‍♀️ </strong></h1><p id="b38c" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mn lt lu ju mo lv mp mq mr lx ms mt mu lz mv mw mx mb ij bi translated">在阅读回调函数的好处之前，记住什么是<a class="ae kv" href="#b6df" rel="noopener ugc nofollow">异步JS </a>可能会有所帮助！</p><p id="7eb0" class="pw-post-body-paragraph ml mm iq lq b lr nk jr mn lt nl ju mo lv oc mq mr lx od mt mu lz oe mw mx mb ij bi translated">JavaScript是一种事件驱动语言，代码自顶向下运行。正因为如此，为了考虑到当你不需要一些代码运行直到其他事情(例如，一个按钮被点击)之后，我们使用回调来保证一个函数不会在另一个任务完成之前运行。相反，该功能被“回调”,并将在其他任务完成后立即运行。这允许我们的代码继续执行，并防止我们的代码等待响应。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="edf4" class="kw kx iq bd ky kz nf lb lc ld ng lf lg jw nh jx li jz ni ka lk kc nj kd lm ln bi translated"><strong class="ak">但是这到底意味着什么呢？🔎</strong></h1><p id="5bea" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mn lt lu ju mo lv mp mq mr lx ms mt mu lz mv mw mx mb ij bi translated">我明白了，这都是概念性的，所以即使我们理解了什么是回调以及我们为什么需要回调，那<em class="nq">到底是什么意思呢</em>？让我们看一个基本的例子来更好地理解“继续执行”和“回调直到另一个任务完成才会运行”的含义。</p><pre class="kg kh ki kj gt nr ns nt nu aw nv bi"><span id="550d" class="nw kx iq ns b gy nx ny l nz oa">function first(){<br/> console.log(“I am first”)<br/>}</span><span id="c62a" class="nw kx iq ns b gy ob ny l nz oa">function second(){<br/> console.log(“I am second”)<br/>}</span><span id="8413" class="nw kx iq ns b gy ob ny l nz oa">first()<br/>second()</span></pre><p id="f3b2" class="pw-post-body-paragraph ml mm iq lq b lr nk jr mn lt nl ju mo lv oc mq mr lx od mt mu lz oe mw mx mb ij bi translated">基于以上所述，“我是第一个”将首先登录，然后“我是第二个”将随后登录。然而，如果我们通过使用setTimeout异步调用回调函数使这变得更复杂:</p><pre class="kg kh ki kj gt nr ns nt nu aw nv bi"><span id="9faf" class="nw kx iq ns b gy nx ny l nz oa">function first(){<br/> setTimeout( function(){<br/>  console.log(“I am first")<br/> }, 3000)<br/>}</span><span id="c2af" class="nw kx iq ns b gy ob ny l nz oa">function second(){<br/> console.log(“I am second”)<br/>}</span><span id="508e" class="nw kx iq ns b gy ob ny l nz oa">first()<br/>second()</span></pre><p id="c678" class="pw-post-body-paragraph ml mm iq lq b lr nk jr mn lt nl ju mo lv oc mq mr lx od mt mu lz oe mw mx mb ij bi translated">“我是第二名”将是第一名，三秒钟后“我是第一名”将出现。这是因为尽管first()在second()之前被调用，JavaScript仍会继续执行，而不会等待3秒钟。3秒钟过去后，第一个()函数能够完成执行。因此，即使JavaScript是自顶向下执行的，你也不能总是期望它按顺序运行。这就是为什么回调如此重要；它们让我们能够控制代码的执行方式。</p><p id="c142" class="pw-post-body-paragraph ml mm iq lq b lr nk jr mn lt nl ju mo lv oc mq mr lx od mt mu lz oe mw mx mb ij bi translated">但是这并不意味着所有的回调函数都是异步的。它们也可以同步使用，这意味着代码会立即执行。这通常被称为“阻塞”,在这种情况下，直到回调完成执行，高阶函数才完成其执行。同步回调函数的例子有forEach()、map()和filter()等数组方法。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="2406" class="kw kx iq bd ky kz nf lb lc ld ng lf lg jw nh jx li jz ni ka lk kc nj kd lm ln bi translated"><strong class="ak">创建回调函数🏗️ </strong></h1><p id="1075" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mn lt lu ju mo lv mp mq mr lx ms mt mu lz mv mw mx mb ij bi translated">有三种方法可以创建回调函数:作为匿名函数、箭头函数，或者作为参数传递。让我们看看他们的行动吧！</p><pre class="kg kh ki kj gt nr ns nt nu aw nv bi"><span id="ed74" class="nw kx iq ns b gy nx ny l nz oa">// This an anonymous function<br/>setTimeout(function() {<br/> console.log("This message is shown after 3 seconds")<br/>}, 3000)</span><span id="cc66" class="nw kx iq ns b gy ob ny l nz oa">// This is an arrow function<br/>setTimeout(() =&gt; {<br/> console.log(“This message is shown after 3 seconds”)<br/>}, 3000)</span><span id="ada5" class="nw kx iq ns b gy ob ny l nz oa">// This is passing the callback as an argument<br/>let message = function() { console.log(“This message is shown after 3 seconds”) }</span><span id="5865" class="nw kx iq ns b gy ob ny l nz oa">setTimeout(callback, 3000)</span><span id="d309" class="nw kx iq ns b gy ob ny l nz oa">setTimeout(message, 3000) // passing in the message as the callback</span></pre><h2 id="be6f" class="nw kx iq bd ky of og dn lc oh oi dp lg lv oj ok li lx ol om lk lz on oo lm op bi translated"><strong class="ak">奖金</strong>！回调地狱🔥</h2><p id="5ee0" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mn lt lu ju mo lv mp mq mr lx ms mt mu lz mv mw mx mb ij bi translated">绝对有可能将回调嵌套在彼此内部。但是，它的伸缩性不好；这被称为“回调地狱”。相反，最好使用promises或async/await函数。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="c5cf" class="kw kx iq bd ky kz nf lb lc ld ng lf lg jw nh jx li jz ni ka lk kc nj kd lm ln bi translated"><strong class="ak">结论&amp;外卖🐠</strong></h1><p id="07a5" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mn lt lu ju mo lv mp mq mr lx ms mt mu lz mv mw mx mb ij bi translated">你坚持到了最后🙌我加深了对回调函数以及其他相关主题的理解。这显示了一切是如何联系在一起的，通过花时间去了解一件事，你实际上从整体上了解了更多。</p><p id="13aa" class="pw-post-body-paragraph ml mm iq lq b lr nk jr mn lt nl ju mo lv oc mq mr lx od mt mu lz oe mw mx mb ij bi translated">以下是我希望你记住的最重要的事情:</p><ul class=""><li id="1a4e" class="lo lp iq lq b lr nk lt nl lv nm lx nn lz no mb np md me mf bi translated">JavaScript代码从上到下运行，但这并不意味着它会按顺序执行。</li><li id="df08" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb np md me mf bi translated"><a class="ae kv" href="#540f" rel="noopener ugc nofollow">回调是外部函数调用的函数定义。</a></li><li id="ccdc" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb np md me mf bi translated"><a class="ae kv" href="#c678" rel="noopener ugc nofollow">回调通过允许代码继续执行而不等待它自己的代码运行，让我们控制我们的代码如何执行；相反，它等待外部函数“回调”和/或其他任务完成。</a></li><li id="ea6b" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb np md me mf bi translated"><a class="ae kv" href="#c142" rel="noopener ugc nofollow">也就是说，回调函数可以同步和异步使用。</a></li></ul><p id="dc03" class="pw-post-body-paragraph ml mm iq lq b lr nk jr mn lt nl ju mo lv oc mq mr lx od mt mu lz oe mw mx mb ij bi translated">感谢你跟随我踏上✌️的回归之旅。如果你喜欢这篇文章，请看看我的其他作品！一个很好的起点是我的相关文章“<a class="ae kv" href="https://medium.com/geekculture/javascript-promises-101-14f28158e5b9" rel="noopener"> JavaScript Promises 101 </a>”、“<a class="ae kv" href="https://medium.com/weekly-webtips/react-basics-whats-the-difference-between-javascript-and-jsx-604dd224b1cf" rel="noopener">React Basics:JavaScript和JSX有什么区别？</a>或<a class="ae kv" href="https://medium.com/swlh/react-basics-components-and-the-importance-of-state-dd26250e88ce" rel="noopener">React Basics:Components and the Importance State</a>。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="a8bb" class="kw kx iq bd ky kz nf lb lc ld ng lf lg jw nh jx li jz ni ka lk kc nj kd lm ln bi translated">想要更多吗？查看其他资源！💾</h1><h2 id="768d" class="nw kx iq bd ky of og dn lc oh oi dp lg lv oj ok li lx ol om lk lz on oo lm op bi translated">用JavaScript进行异步编程</h2><p id="1fd5" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mn lt lu ju mo lv mp mq mr lx ms mt mu lz mv mw mx mb ij bi translated">📖<a class="ae kv" href="https://medium.com/codingthesmartway-com-blog/async-programming-with-javascript-callbacks-promises-and-async-await-980e3f144185" rel="noopener">https://medium . com/codingsemartway-com-blog/async-programming-with-JavaScript-callbacks-promises-and-async-await-980 e3f 144185</a></p><h2 id="588c" class="nw kx iq bd ky of og dn lc oh oi dp lg lv oj ok li lx ol om lk lz on oo lm op bi translated">JavaScript回调</h2><p id="74fe" class="pw-post-body-paragraph ml mm iq lq b lr ls jr mn lt lu ju mo lv mp mq mr lx ms mt mu lz mv mw mx mb ij bi translated">📖【https://dmitripavlutin.com/javascript-callback/<a class="ae kv" href="https://dmitripavlutin.com/javascript-callback/" rel="noopener ugc nofollow" target="_blank">T4】📖</a><a class="ae kv" href="https://www.freecodecamp.org/news/javascript-callback-functions-what-are-callbacks-in-js-and-how-to-use-them/" rel="noopener ugc nofollow" target="_blank">https://www . freecodecamp . org/news/JavaScript-callback-functions-what-is-callbacks-in-js-and-how-to-use-them/</a><br/>📖<a class="ae kv" href="https://codeburst.io/javascript-what-the-heck-is-a-callback-aba4da2deced" rel="noopener" target="_blank">https://code burst . io/JavaScript-what-the-heck-a-callback-ABA 4d a2 deced</a><br/>📖<a class="ae kv" href="https://www.javascripttutorial.net/javascript-callback/" rel="noopener ugc nofollow" target="_blank">https://www.javascripttutorial.net/javascript-callback/</a></p></div></div>    
</body>
</html>