<html>
<head>
<title>React Native Basics: Components and Props</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应原生基础:组件和道具</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-native-basic-components-and-props-using-rest-api-8b034e3ea758?source=collection_archive---------8-----------------------#2021-03-23">https://javascript.plainenglish.io/react-native-basic-components-and-props-using-rest-api-8b034e3ea758?source=collection_archive---------8-----------------------#2021-03-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="96dc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本教程将向您展示如何使用一些基本的<strong class="jm io">组件</strong>和<strong class="jm io">道具</strong>开发一个简单的<strong class="jm io"> React Native </strong>应用程序，并请求一个<strong class="jm io"> REST API </strong>在我们的应用程序中呈现一些cat数据。😻</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b2cc3ea22658b6344f7fcc6bdd7b072c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jxgdgJB97AHQuNAsEKmd7w.png"/></div></div></figure><h1 id="4518" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">软件安装</h1><ul class=""><li id="da25" class="ls lt in jm b jn lu jr lv jv lw jz lx kd ly kh lz ma mb mc bi translated"><strong class="jm io">node . js</strong>T10】https://nodejs.org</li><li id="4561" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated"><strong class="jm io"> Expo-cli </strong>可以使用以下命令行安装(我建议同时使用这两个命令):</li></ul><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="04c0" class="mo kv in mk b gy mp mq l mr ms">npm install -g expo-cli<br/>yarn global add expo-cli</span></pre><ul class=""><li id="7022" class="ls lt in jm b jn jo jr js jv mt jz mu kd mv kh lz ma mb mc bi translated"><strong class="jm io"> Expo Go </strong>应用程序安装在您的移动设备上(支持iOS和Android)</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/447fc9c6204d440abd84d35559f4cf35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XJVmtSZW7ltKE-BPlHEmdQ.png"/></div></div></figure><h1 id="c134" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">创建新的React本机应用程序</h1><p id="c282" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv mx jx jy jz my kb kc kd mz kf kg kh ig bi translated">启动命令提示符(Windows)或终端(Mac OS)。然后，使用<strong class="jm io">Expo init&lt;&lt;Your App Name&gt;&gt;</strong>命令创建新的空白<strong class="jm io"> React Native </strong> app。在这个例子中，我们将我们的应用程序命名为<strong class="jm io">猫朋友反应本地</strong>。通过按<strong class="jm io">回车</strong>为app选择<strong class="jm io">空白</strong>模板。之后会创建与app同名的文件夹，里面会有一些初始的源代码。</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="21a7" class="mo kv in mk b gy mp mq l mr ms">expo init cat-friends-react-native</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/e1b3c872fcb31b1072475e8ca0f290dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EAGo3RoWbHBXXNZFlA5oTA.png"/></div></div></figure><p id="91fb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">用<strong class="jm io"> cd </strong>进入你的项目文件夹<strong class="jm io">cat-friends-React-Native</strong>，然后用<strong class="jm io"> yarn start </strong>启动你的<strong class="jm io"> React Native </strong> app(这里会用到<strong class="jm io"> expo-cli </strong>)。</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="1f8b" class="mo kv in mk b gy mp mq l mr ms">cd cat-friends-react-native<br/>yarn start</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/c902da524f81104fd7741f5103558152.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TpNe13my3gnEg7s1RRQiLg.png"/></div></div></figure><p id="3978" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> Expo </strong>开发者工具将会显示在你的浏览器中。使用您的移动设备扫描二维码，然后您的应用程序将通过<strong class="jm io"> Expo Go </strong>打开，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/53d10062f7dd2973cf6addbdd8275e90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q9pdG_Rp0LBQoJHRXpOShw.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/6f047e5992862cca4c366e6f464bdb19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fyiLw_RTC4ZAB61jjjl5Gg.png"/></div></div></figure><h1 id="0a03" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">安装本机基础CSS框架</h1><p id="16a8" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv mx jx jy jz my kb kc kd mz kf kg kh ig bi translated">为了让我们的应用程序更漂亮一点，我们将在项目中添加原生的CSS框架。首先，在你的命令提示符/终端中，按下<strong class="jm io"> Ctrl + C </strong>退出<strong class="jm io"> Expo </strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/bbc189760e7aa0e03c938cf4acda9f28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NWBcYh10voK6oi_oH3VZaQ.png"/></div></div></figure><p id="1fb6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用<strong class="jm io"> yarn add </strong>命令将native-base添加到您的应用程序中，并使用<strong class="jm io"> yarn start </strong>再次启动Expo developer tools。使用<strong class="jm io"> Expo Go </strong>在您的移动设备上再次测试您的应用。</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="81fa" class="mo kv in mk b gy mp mq l mr ms">yarn add native-base --save<br/>yarn start</span></pre><h1 id="ecec" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">CatCard组件</h1><p id="457c" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv mx jx jy jz my kb kc kd mz kf kg kh ig bi translated">我们将创建一个<strong class="jm io">组件</strong>用于显示猫的数据，包括猫的图像、名字和电子邮件，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/9c398068bfc3bcdf661209f69213f356.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*KxzFfyjvyZ0mm3aWWHnTEQ.png"/></div></figure><p id="2f41" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于猫的图像，我们将使用<a class="ae md" href="https://robohash.org/karnyong?set=set4" rel="noopener ugc nofollow" target="_blank"><strong class="jm io">【robohash.org】</strong></a>从一个使用URL<a class="ae md" href="https://robohash.org/karnyong?set=set4" rel="noopener ugc nofollow" target="_blank">https://robohash.org/&lt;&lt;any text&gt;&gt;的文本中生成一个猫的图像？set=set4 </a>。例如，<a class="ae md" href="https://robohash.org/karnyong?set=set4" rel="noopener ugc nofollow" target="_blank">https://robohash.org/karnyong?set=set4</a>。</p><p id="8e44" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建<strong class="jm io"> Card.js </strong>来包含猫的形象、名字和电子邮件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="c32c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">编辑<strong class="jm io"> App.js </strong>在App的入口点包含<strong class="jm io"> CatCard组件</strong>(一个<strong class="jm io"> pp组件</strong>)。</p><ul class=""><li id="00a0" class="ls lt in jm b jn jo jr js jv mt jz mu kd mv kh lz ma mb mc bi translated">从<strong class="jm io"> native-base </strong>导入<strong class="jm io">组件</strong>，我们将在这个<strong class="jm io"> App组件</strong>(第2行)<strong class="jm io">中使用它。</strong></li><li id="329e" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated">从<strong class="jm io"> CatCard.js </strong>(第3行)导入<strong class="jm io"> CatCard组件</strong>。</li><li id="ddf9" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated"><strong class="jm io">构造器</strong>被定义为默认，还没有<strong class="jm io">状态</strong>。</li><li id="b4e9" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated">使用一些我们的<strong class="jm io"> CatCard组件</strong>来渲染带有<strong class="jm io">本地基础组件</strong>的组件(第20–22行)。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="c463" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">结果根据<strong class="jm io"> App.js </strong>中<strong class="jm io"> CatCard组件</strong>的数量显示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/eb3a6773adeff9154e9f38d8d19e7557.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B_4X6a9gyvzp2D3xTuv3pg.png"/></div></div></figure><h1 id="e31a" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">卡片列表组件</h1><p id="b209" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv mx jx jy jz my kb kc kd mz kf kg kh ig bi translated">接下来，我们将创建一个<strong class="jm io"> CardList组件向</strong>显示一个<strong class="jm io"> CatCard组件</strong>的列表。首先，我们将使用这个<strong class="jm io">REST API</strong>:<a class="ae md" href="https://jsonplaceholder.typicode.com/users" rel="noopener ugc nofollow" target="_blank">https://jsonplaceholder.typicode.com/users</a>的实体模型。基本上，它响应为10个用户的<strong class="jm io"> JSON </strong>数据(本例中仅使用了<strong class="jm io"> id </strong>、<strong class="jm io">名称</strong>和<strong class="jm io"> email </strong>)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/81a647b35f00e15a21e6175b3093c910.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NWII_XGV-bY-b2_rG6Rb9g.png"/></div></div></figure><p id="9a27" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">添加<strong class="jm io"> CardList.js </strong></p><ul class=""><li id="557c" class="ls lt in jm b jn jo jr js jv mt jz mu kd mv kh lz ma mb mc bi translated">在构造函数中，我们将数组<strong class="jm io">猫</strong>定义为一个状态。(第5–10行)</li><li id="8b83" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated">我们使用<strong class="jm io"> componentDidMount </strong>从<a class="ae md" href="https://jsonplaceholder.typicode.com/users" rel="noopener ugc nofollow" target="_blank">https://jsonplaceholder.typicode.com/users</a>获取数据，并存储在<strong class="jm io"> cats </strong>状态中。(第12–16行)</li><li id="9dba" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated">使用定义的<strong class="jm io">道具</strong> <strong class="jm io">键</strong>、<strong class="jm io"> id </strong>、<strong class="jm io">名称</strong>和<strong class="jm io">电子邮件</strong>从<strong class="jm io">猫</strong>状态渲染多个猫<strong class="jm io">组件</strong>，以将该数据传递给<strong class="jm io">猫卡</strong>组件(来自第18行)。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="2bf3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">编辑<strong class="jm io"> CatCard.js </strong>以合并<strong class="jm io"> CardList组件</strong>发送的<strong class="jm io">道具{name，email，id} </strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="990e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">编辑<strong class="jm io"> App.js </strong>增加<strong class="jm io"> CardList组件</strong>代替<strong class="jm io"> CatCard </strong>(第3、20行)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="e2dc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/637e2209f0e44ee185cc7ad87a7fff22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WeTftgWIBCxrfyqo-0djJg.png"/></div></div></figure><p id="6a93" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了更好地了解<strong class="jm io">反应组件</strong>、<strong class="jm io">状态</strong>和<strong class="jm io">道具</strong>，这个图描述得相当好:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/4085c0b1a32116fe16eedce114a1e13a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R8SxEC8QtJey-sZpkliQww.jpeg"/></div><figcaption class="nk nl gj gh gi nm nn bd b be z dk">Source: <a class="ae md" href="https://www.techdiagonal.com/reactjs_courses/beginner/reactjs-component-state/" rel="noopener ugc nofollow" target="_blank">https://www.techdiagonal.com/reactjs_courses/beginner/reactjs-component-state/</a></figcaption></figure><h1 id="8e85" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">添加搜索猫的输入</h1><p id="ab9c" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv mx jx jy jz my kb kc kd mz kf kg kh ig bi translated">编辑<strong class="jm io"> App.js </strong>添加<strong class="jm io">输入react-base组件</strong>:</p><ul class=""><li id="ebbd" class="ls lt in jm b jn jo jr js jv mt jz mu kd mv kh lz ma mb mc bi translated">从<strong class="jm io">原基</strong>(线2) <strong class="jm io">导入附加<strong class="jm io">组件</strong> ( <strong class="jm io">项目</strong>、<strong class="jm io">图标</strong>和<strong class="jm io">输入</strong>)。</strong></li><li id="1a49" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated">添加<strong class="jm io"> searchfield </strong>作为状态(第9行)。</li><li id="710c" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated">将<strong class="jm io">搜索字段状态</strong>合并到渲染中。</li><li id="6015" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated">使用<strong class="jm io"> onChangeText </strong>添加<strong class="jm io">输入组件</strong>，将<strong class="jm io">搜索字段状态</strong>设置为该组件的值(第24–27行)。</li><li id="43ac" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated">将<strong class="jm io">搜索字段</strong>数据传递给<strong class="jm io">卡片列表组件</strong>。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="ee80" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">编辑<strong class="jm io"> CardList.js </strong>:</p><ul class=""><li id="34ee" class="ls lt in jm b jn jo jr js jv mt jz mu kd mv kh lz ma mb mc bi translated">添加<strong class="jm io"> searchfield </strong>作为一个州(第9行)。</li><li id="1e83" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated">添加<strong class="jm io"> componentDidUpdate </strong>用<strong class="jm io"> searchfield </strong>属性更新<strong class="jm io"> searchfield </strong>状态。</li><li id="a946" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated">添加变量<strong class="jm io"> filteredCats </strong>以根据<strong class="jm io">搜索字段</strong>过滤猫列表(第29–31行)。</li><li id="b93e" class="ls lt in jm b jn me jr mf jv mg jz mh kd mi kh lz ma mb mc bi translated">循环通过<strong class="jm io">过滤的猫</strong>来渲染多个<strong class="jm io">猫组件</strong>(来自第34行)</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="9507" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，您可以在应用程序中搜索猫，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/512655a03213598edf4858eb28ebbfb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5YHuIvr74ZLbsLlL23EK5w.png"/></div></div></figure><p id="d303" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是用基本的<strong class="jm io">组件</strong>和<strong class="jm io">道具</strong>以及<strong class="jm io"> REST API </strong>构建一个简单的<strong class="jm io"> React Native </strong>应用的全部内容。您可以从这里下载完整的源代码:</p><div class="np nq gp gr nr ns"><a href="https://github.com/KarnYong/cat-friends-react-native" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd io gy z fp nx fr fs ny fu fw im bi translated">karn Yong/猫友-反应-本地</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">在GitHub上创建一个帐户，为karn Yong/cat-friends-react-native开发做出贡献。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">github.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og ks ns"/></div></div></a></div><p id="ea38" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="oh">文章作者Karn Yongsiriwit博士<br/>兰西大学数字创新技术学院</em></p></div></div>    
</body>
</html>