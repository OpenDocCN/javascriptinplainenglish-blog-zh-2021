<html>
<head>
<title>Introduction to the Proxy and Reflect APIs in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScriptä¸­çš„ä»£ç†å’Œåå°„APIç®€ä»‹</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/proxy-reflect-api-in-javascript-7d6a1e4e5811?source=collection_archive---------8-----------------------#2021-08-28">https://javascript.plainenglish.io/proxy-reflect-api-in-javascript-7d6a1e4e5811?source=collection_archive---------8-----------------------#2021-08-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/6fcb1922d1e393d2a2d64463bae1348d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_K1Qa0fP6kf38JV0PuCGJw.jpeg"/></div></div></figure><div class=""/><p id="5d5b" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä»£ç†å’Œåå°„APIå‡ºç°åœ¨ES6ä¸­ï¼Œä¸¤è€…é…åˆå¾—éå¸¸å¥½ï¼</p><p id="0d99" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">é¦–å…ˆï¼Œ</p><h2 id="e6cf" class="kt ku iy bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">ä»£ç†äºº</h2><p id="4160" class="pw-post-body-paragraph jv jw iy jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">ä¸€ä¸ª<strong class="jx iz">ä»£ç†</strong>æ˜¯å¤–æ¥ç‰©ä½“ï¼Œå®ƒæ²¡æœ‰å±æ€§ï¼å®ƒåŒ…è£…äº†å¯¹è±¡çš„è¡Œä¸ºã€‚å®ƒéœ€è¦ä¸¤ä¸ªå‚æ•°ã€‚</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="afc4" class="kt ku iy lw b gy ma mb l mc md">const toto = new Proxy(target, handler)</span></pre><p id="1b39" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz">ç›®æ ‡</strong>:ä»£ç†å°†è¦ä»£ç†/åŒ…è£…çš„å¯¹è±¡ã€‚</p><p id="0367" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz"> handler: </strong>æ˜¯ä»£ç†çš„é…ç½®ï¼Œå®ƒä¼šæ‹¦æˆªç›®æ ‡ä¸Šçš„æ“ä½œ(getã€setç­‰ã€‚)ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªä¾‹å­ï¼</p><p id="b298" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å¤šäºäº†<strong class="jx iz">ä»£ç†</strong>ï¼Œä½ å¯ä»¥åƒè¿™æ ·åˆ›å»º<code class="fe me mf mg lw b">traps</code>:</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="436c" class="kt ku iy lw b gy ma mb l mc md">const toto = { a: 55, b:66 }<br/>const handler = {<br/>   get(target, prop, receiver) {<br/>      if (!!target[prop]) {<br/>         return target[prop]<br/>      }<br/>      return `This ${prop} prop donâ€™t exist on this object !`<br/>   }<br/>}</span><span id="d04f" class="kt ku iy lw b gy mh mb l mc md">const totoProxy = new Proxy (toto, handler)</span><span id="9807" class="kt ku iy lw b gy mh mb l mc md">totoProxy.a // 55<br/>totoProxy.c // This c prop donâ€™t exist on this object !</span></pre><p id="d69a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ¯ä¸ªå†…éƒ¨å¯¹è±¡<code class="fe me mf mg lw b">method</code>éƒ½æœ‰è‡ªå·±çš„<em class="mi">ç›®æ ‡å‡½æ•°ã€‚</em></p><p id="f9c4" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¸‹é¢æ˜¯ç­‰åŒäºTargetçš„å¯¹è±¡æ–¹æ³•åˆ—è¡¨</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="78d6" class="kt ku iy lw b gy ma mb l mc md">| object method | target |<br/>| â€” â€” â€” | â€” â€” |<br/>| object[prop] | get |<br/>| object[prop] = 55 | set |<br/>| new Object() | construct |<br/>| Object.keys | ownKeys |</span></pre><p id="8ffd" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¿™æ˜¯å®Œæ•´çš„æ¸…å•ğŸ”—<a class="ae mj" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy*" rel="noopener ugc nofollow" target="_blank"><em class="mi">https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Global _ Objects/Proxy/Proxy</em></a></p><p id="4a4c" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç›®æ ‡å‡½æ•°çš„å‚æ•°å¯ä»¥æ ¹æ®å‡½æ•°è€Œæ”¹å˜ã€‚</p><p id="d40c" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ¯”å¦‚å¯¹äº<strong class="jx iz"> get </strong>å‡½æ•°ï¼Œå–<em class="mi">(ç›®æ ‡ï¼Œé“å…·ï¼Œæ¥æ”¶è€…(ä»£ç†æœ¬èº«))</em>ä½†æ˜¯å¯¹äº<strong class="jx iz"> set </strong>å‡½æ•°ï¼Œå–<em class="mi">(ç›®æ ‡ï¼Œé“å…·ï¼Œå€¼(è¦è®¾ç½®)ï¼Œæ¥æ”¶è€…)ã€‚</em></p><h2 id="4e8f" class="kt ku iy bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">ç”¨æ³•ç¤ºä¾‹</h2><p id="92f7" class="pw-post-body-paragraph jv jw iy jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">æˆ‘ä»¬å¯ä»¥åˆ›é€ ä¸€ä¸ªğŸ”“ç§˜å¯†è´¢äº§ï¼</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="2248" class="kt ku iy lw b gy ma mb l mc md"><br/>const toto = {<br/>   name: â€˜totoâ€™,<br/>   age: 25,<br/>   _secret: â€˜***â€™<br/>}</span><span id="a6de" class="kt ku iy lw b gy mh mb l mc md">const handler = {<br/>   get(target, prop) {<br/>      if (prop.startsWith(â€˜_â€™)) {<br/>         throw new Error(â€˜Access deniedâ€™)<br/>      }<br/>      return target[prop]<br/>   },<br/>   set(target, prop, value) {<br/>      if (prop.startsWith(â€˜_â€™)) {<br/>         throw new Error(â€˜Access deniedâ€™)<br/>      }<br/>      target[prop] = value<br/>      // set methods return boolean,<br/>      // in order to let us know if the value has been correctly set !<br/>      return true<br/>   },<br/>   ownKeys(target, prop) {<br/>      return Object.keys(target).filter(key =&gt; !key.startsWith(â€˜_â€™))<br/>   },<br/>}</span><span id="c07a" class="kt ku iy lw b gy mh mb l mc md">const totoProxy = new Proxy (toto, handler)<br/>for (const key of Object.keys(proxy1)) {<br/>   console.log(key) // â€˜nameâ€™, â€˜ageâ€™<br/>}<br/></span></pre><h2 id="2c72" class="kt ku iy bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">æ˜¾ç¤º</h2><p id="3ebd" class="pw-post-body-paragraph jv jw iy jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">åå°„æ˜¯ä¸€ä¸ªé™æ€ç±»ï¼Œå®ƒç®€åŒ–äº†ä»£ç†çš„åˆ›å»ºã€‚</p><p id="ab72" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ¯ä¸ªå†…éƒ¨å¯¹è±¡æ–¹æ³•éƒ½æœ‰è‡ªå·±åå°„æ–¹æ³•:</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="977c" class="kt ku iy lw b gy ma mb l mc md">| object method | Reflect|<br/>| â€” â€” â€” | â€” â€” |<br/>| object[prop] | Reflect.get|<br/>| object[prop] = 55 | Reflect.set|<br/>| new Object() | Reflect.construct|<br/>| Object.keys | Reflect.ownKeys |</span></pre><p id="02d5" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¿™æ˜¯å®Œæ•´çš„æ¸…å•ğŸ”—<a class="ae mj" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect*" rel="noopener ugc nofollow" target="_blank"><em class="mi">https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Global _ Objects/Reflect</em></a></p><p id="59b2" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">â“ä¸ºä»€ä¹ˆè¦ç”¨å®ƒï¼Ÿå› ä¸ºå®ƒä¸ä»£ç†é…åˆå¾—éå¸¸å¥½ï¼å®ƒæ¥å—ä¸ä»£ç†çš„å¤„ç†ç¨‹åºç›¸åŒçš„å‚æ•°ï¼</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="329b" class="kt ku iy lw b gy ma mb l mc md">const toto = { a: 55, b:66 }</span><span id="c23c" class="kt ku iy lw b gy mh mb l mc md">const handler = {<br/>   get(target, prop, receiver) {<br/>   // Equal to target[prop]<br/>   const value = Reflect.get(target, prop, receiver)<br/>   if (!!value) {<br/>      return value <br/>   }<br/>   return `This ${prop} prop donâ€™t exist on this object !` <br/>   },<br/>   set(target, prop, value, receiver) {<br/>   // Equal to target[prop] = value<br/>   // Reflect.set return boolean, itâ€™s perfect<br/>   // since set handler need to return boolean<br/>   return Reflect.set(target, prop, receiver)<br/>   },<br/>}</span><span id="2566" class="kt ku iy lw b gy mh mb l mc md">const totoProxy = new Proxy (toto, handler)</span></pre><p id="a10c" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å› æ­¤ï¼Œå¦‚æ‚¨æ‰€è§ï¼Œä»£ç†å’Œåå°„APIæ˜¯æœ‰ç”¨çš„ï¼Œä½†æ‚¨ä¸ä¼šæ¯å¤©éƒ½ä½¿ç”¨å®ƒä»¬ã€‚ä½¿ç”¨å®ƒä»¬æ¥åˆ¶ä½œé™·é˜±æˆ–éšè—ä¸€äº›å¯¹è±¡å±æ€§å¯èƒ½ä¼šå¾ˆå¥½ã€‚å¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯ï¼Œæ¯”å¦‚ç¬¦å·ã€‚</p><p id="9fb0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å¦‚æœä½ ä½¿ç”¨çš„æ˜¯Vue.jsæ¡†æ¶ï¼Œè¯•ç€ä¿®æ”¹ä¸€ä¸ªç»„ä»¶çš„propså¯¹è±¡ï¼Œå®ƒä¼šè§¦å‘ä¸€ä¸ªæ¥è‡ªVueçš„è­¦å‘Šæ—¥å¿—ï¼Œè¿™ä¸ªåŠŸèƒ½æ˜¯ä½¿ç”¨ä»£ç†å®Œæˆçš„ã€‚:)</p></div><div class="ab cl mk ml hr mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ig ih ii ij ik"><p id="e030" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡è¯»ç‰©ï¼</p><p id="fcd9" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ğŸä½ å¯ä»¥å…è´¹è·å¾—æˆ‘çš„æ–°ä¹¦ã€Šjavascriptä¸­è¢«ä½ä¼°çš„æŠ€èƒ½ã€‹,å¦‚æœä½ åœ¨æ¨ç‰¹ä¸Šå…³æ³¨æˆ‘çš„è¯ğŸ˜</p><p id="b86a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ–è€…åœ¨è¿™é‡Œå¾—åˆ°å®ƒ<a class="ae mj" href="https://codeoz.gumroad.com/l/RXLYp" rel="noopener ugc nofollow" target="_blank"/></p><p id="012d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ğŸ<a class="ae mj" href="https://www.getrevue.co/profile/code__oz" rel="noopener ugc nofollow" target="_blank">æˆ‘çš„ç®€è®¯</a></p><p id="e764" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">â˜•ï¸ä½ å¯ä»¥<a class="ae mj" href="https://www.buymeacoffee.com/CodeoZ" rel="noopener ugc nofollow" target="_blank">æ”¯æŒæˆ‘çš„ä½œå“</a>ğŸ™</p><p id="f563" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ğŸƒâ€â™‚ï¸ï¼Œä½ å¯ä»¥è·Ÿç€æˆ‘ğŸ‘‡</p><p id="6e07" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ğŸ•Š <a class="ae mj" href="https://twitter.com/code__oz" rel="noopener ugc nofollow" target="_blank">æ¨ç‰¹</a></p><p id="aaed" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ğŸ‘¨â€ğŸ’»<a class="ae mj" href="https://github.com/Code-Oz" rel="noopener ugc nofollow" target="_blank"> Github </a></p><p id="f766" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä½ å¯ä»¥æ ‡è®°ğŸ”–è¿™ç¯‡æ–‡ç« ï¼</p><p id="4fed" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mi">æ›´å¤šå†…å®¹è¯·çœ‹</em><a class="ae mj" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx iz"><em class="mi">plain English . io</em></strong></a></p></div></div>    
</body>
</html>