<html>
<head>
<title>Create a React Bar Graph with the Visx Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Visx库创建一个反应条形图</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-react-bar-graph-with-the-visx-library-b06c85d07066?source=collection_archive---------7-----------------------#2021-03-11">https://javascript.plainenglish.io/create-a-react-bar-graph-with-the-visx-library-b06c85d07066?source=collection_archive---------7-----------------------#2021-03-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/aeb2d0b974c9965422c89c8da788c1f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rIVw1_XE0Rn4HQUp"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@5tep5?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alexander Popov</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6d27" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Visx是一个库，让我们可以轻松地将图形添加到React应用程序中。</p><p id="5429" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用它将条形图添加到React应用程序中。</p><h1 id="349d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">入门指南</h1><p id="3d62" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">首先，我们必须安装Visx提供的几个模块。,</p><p id="d745" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了安装条形图所需的，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e8c7" class="mn lc iq mj b gy mo mp l mq mr">$ npm install --save @visx/mock-data @visx/group @visx/shape @visx/scale</span></pre><p id="21f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">@visx/mock-data</code>库有模拟数据，我们可以在条形图中使用。</p><h1 id="3bd7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建条形图</h1><p id="17cc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了创建条形图，我们添加以下代码:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="30e4" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { letterFrequency } from "@visx/mock-data";<br/>import { Group } from "@visx/group";<br/>import { Bar } from "@visx/shape";<br/>import { scaleLinear, scaleBand } from "@visx/scale";</span><span id="a8c9" class="mn lc iq mj b gy mv mp l mq mr">const data = letterFrequency;<br/>const width = 500;<br/>const height = 300;<br/>const margin = { top: 20, bottom: 20, left: 20, right: 20 };<br/>const xMax = width - margin.left - margin.right;<br/>const yMax = height - margin.top - margin.bottom;<br/>const x = (d) =&gt; d.letter;<br/>const y = (d) =&gt; +d.frequency * 100;</span><span id="46e4" class="mn lc iq mj b gy mv mp l mq mr">const xScale = scaleBand({<br/>  range: [0, xMax],<br/>  round: true,<br/>  domain: data.map(x),<br/>  padding: 0.4<br/>});<br/>const yScale = scaleLinear({<br/>  range: [yMax, 0],<br/>  round: true,<br/>  domain: [0, Math.max(...data.map(y))]<br/>});</span><span id="23c2" class="mn lc iq mj b gy mv mp l mq mr">const compose = (scale, accessor) =&gt; (data) =&gt; scale(accessor(data));<br/>const xPoint = compose(xScale, x);<br/>const yPoint = compose(yScale, y);</span><span id="b86f" class="mn lc iq mj b gy mv mp l mq mr">function BarGraph(props) {<br/>  return (<br/>    &lt;svg width={width} height={height}&gt;<br/>      {data.map((d, i) =&gt; {<br/>        const barHeight = yMax - yPoint(d);<br/>        return (<br/>          &lt;Group key={`bar-${i}`}&gt;<br/>            &lt;Bar<br/>              x={xPoint(d)}<br/>              y={yMax - barHeight}<br/>              height={barHeight}<br/>              width={xScale.bandwidth()}<br/>              fill="#fc2e1c"<br/>            /&gt;<br/>          &lt;/Group&gt;<br/>        );<br/>      })}<br/>    &lt;/svg&gt;<br/>  );<br/>}</span><span id="e951" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;BarGraph /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="63ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">data</code>有我们图表的数据。</p><p id="ebad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">width</code>和<code class="fe ms mt mu mj b">height</code>是图形的宽度和高度。</p><p id="5160" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">margin</code>有边际。</p><p id="76ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">xMax</code>具有最大x轴值。</p><p id="73d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">yMax</code>具有最大y轴值。</p><p id="04fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">x</code>是返回x轴显示数据的函数。</p><p id="8b2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe ms mt mu mj b">y</code>是返回数据显示在y轴上的函数。</p><p id="77f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">xScale</code>让我们创建要添加到图表中的x轴值。</p><p id="ce0a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">yScale</code>具有图形的y轴值。</p><p id="7ee6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们创建<code class="fe ms mt mu mj b">compose</code>函数来缩放x和y轴值，以适合图表。</p><p id="ec6e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们这样做了，我们就用<code class="fe ms mt mu mj b">Group</code>和<code class="fe ms mt mu mj b">Bar</code>组件创建了<code class="fe ms mt mu mj b">BarGraph</code>组件。</p><p id="93a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">Bar</code>有酒吧。</p><p id="9f7f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">Group</code>有了酒吧的容器。</p><p id="e0f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们为条设置了<code class="fe ms mt mu mj b">fill</code>颜色。</p><p id="ab0d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以及<code class="fe ms mt mu mj b">x</code>和<code class="fe ms mt mu mj b">y</code>值</p><p id="a3ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">y</code>设置为杆的高度。</p><p id="1043" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">width</code>根据屏幕尺寸进行缩放。</p><h1 id="5655" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="2966" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过Visx库轻松地将条形图添加到React应用程序中。</p><p id="445a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p><p id="178c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>