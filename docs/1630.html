<html>
<head>
<title>Array.Reduce() in JavaScript : 3 Minute Guide #02</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数组。JavaScript中的reduce():3分钟指南#02</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/array-reduce-in-javascript-b196353a5f6d?source=collection_archive---------15-----------------------#2021-04-07">https://javascript.plainenglish.io/array-reduce-in-javascript-b196353a5f6d?source=collection_archive---------15-----------------------#2021-04-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c7fc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">JavaScript的<strong class="ak"> reduce方法</strong>是函数式编程的基石之一</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c6167b9f573c3874a61b6ac32151216b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kLOeAcb2MVZleg4z_-Cjsw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Illustration made by <a class="ae kv" href="http://www.arnoldcode.com" rel="noopener ugc nofollow" target="_blank">Author</a> with ❤️</figcaption></figure><p id="77b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那是一个工作日，一个同事走过来问我:“你为什么要这样编码？”我已经有点不高兴了，因为他在最后一天默默地纠正并重新提交了我的最后一次git提交。</p><p id="0e50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">无论如何，笑一笑，勇往直前——我心想。“什么意思？”我问了他，他向我介绍了<code class="fe ls lt lu lv b">Array.prototype.reduce()</code>,虽然我仍然对他最后一天的行为感到不安，但我很高兴有一个人向我解释并展示了一个在JavaScript中用于数组的很好的函数。</p><p id="9046" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我想对你做同样的事，但不拿走你最后的承诺，默默为你改正。让我们开始定义吧。</p><h1 id="ba27" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">定义</h1><p id="9abb" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated"><code class="fe ls lt lu lv b">Array.prototype.reduce()</code>用于迭代一个数组并将其简化为一个元素，就像基本的算法将给定的值相加得到一个和。</p><pre class="kg kh ki kj gt mt lv mu mv aw mw bi"><span id="ff75" class="mx lx iq lv b gy my mz l na nb">array.reduce((accumulator, currentValue, currentIndex, array) =&gt;<br/>                                        accumulator + currentValue);</span></pre><p id="0db3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你调用<code class="fe ls lt lu lv b">reduce()</code>函数，你传入你的旧数组并且不改变它的状态，因为reduce创建了一个新的并返回新的。这意味着使用<code class="fe ls lt lu lv b">reduce()</code>使您的代码坚持函数式编程范式，同时也保持了不变性原则。</p><h2 id="486f" class="mx lx iq bd ly nc nd dn mc ne nf dp mg lf ng nh mi lj ni nj mk ln nk nl mm nm bi translated">例子</h2><p id="60ff" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">想象你正从一个农场或一次冒险中回来，你的角色在你最喜欢的RPG中。现在你回到镇上，想批量出售新掠夺的物品；你已经收集了3件相同类型的史诗物品，并且想要一次全部卖掉。例如，这是项目:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/92b695c5c8c1ad9c11de5e3156713833.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*hhaNIhj7PevRIGyqflWr-g.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 1 — WoW Epic Item Ardent Custodian</figcaption></figure><p id="5039" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">(我希望你能从一个著名的游戏中认出这个物品)无论如何，你的库存中现在有三个相同的物品，你想一次卖掉它们(不是单独点击每一个)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/3637bb2488da26cc98ea59937f26cbaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tvrvN6iw-2xbuw424S8Qvw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 2 — Three times Ardent Custodian in your inventory</figcaption></figure><p id="a418" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">Array.reduce()</code>帮助你积累所有三者的总和。每个都有价值<strong class="ky ir"> 2金15银</strong>和<strong class="ky ir"> 32铜</strong>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="e0ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此示例为您提供了累计总售价所需的行。<code class="fe ls lt lu lv b">Array.reduce()</code>的lambda表达式需要两个输入变量。因此，它遍历数组，每两个值对累加一次。想象一下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/7c02274bf50a83b93be167c889468cb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*lo4FIvk4GVczlP6lwfpadQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 3: Step by Step Process of Array.Reduce</figcaption></figure><h2 id="df36" class="mx lx iq bd ly nc nd dn mc ne nf dp mg lf ng nh mi lj ni nj mk ln nk nl mm nm bi translated">具有默认的起始值</h2><p id="2ecf" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">您还可以添加一个默认的起始值作为第二个参数。例如，你有一个最喜欢的商人，就像<strong class="ky ir">黑暗之魂</strong>中的铁匠，他总是很高兴见到你，并为你的每笔交易额外支付一枚黄金(或1000灵魂)。研究下面的列表，找出额外的1金。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><h2 id="b819" class="mx lx iq bd ly nc nd dn mc ne nf dp mg lf ng nh mi lj ni nj mk ln nk nl mm nm bi translated">从后面开始！</h2><p id="2d70" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">如果想从终点迭代到起点(向后)，可以使用<code class="fe ls lt lu lv b">reduceRight()</code>。这在这里没有多大意义。因此，我把这个例子保存在这个地方。</p><h1 id="3812" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">老式的方法</h1><p id="7539" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">为了完成这项工作，我将向您展示不用调用reduce函数就能获得累计值的老式方法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><h1 id="6203" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">外卖食品</h1><ul class=""><li id="0adb" class="ns nt iq ky b kz mo lc mp lf nu lj nv ln nw lr nx ny nz oa bi translated">使用<code class="fe ls lt lu lv b">Array.Prototype.Reduce()</code>编写功能性代码，并坚持不变性原则</li><li id="4f72" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated">使用<code class="fe ls lt lu lv b">Array.Prototype.Reduce()</code>从数组中获取一个累计值</li><li id="e20f" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated">您可以为累计过程设置默认起始值</li><li id="e043" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated">使用<code class="fe ls lt lu lv b">Array.prototype.reduceRight()</code>从后向前开始累积过程</li><li id="4017" class="ns nt iq ky b kz ob lc oc lf od lj oe ln of lr nx ny nz oa bi translated"><a class="ae kv" href="https://arnoldcodeacademy.ck.page/26-web-dev-cheat-sheets" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> </strong> </a></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/227a060a3bfa55f41fa795d5990e6032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Nqyiu4c6K-mCxE9e.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Arnold Code Academy 26 Web Developer Cheatsheets</figcaption></figure></div><div class="ab cl oi oj hu ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="ij ik il im in"><h1 id="2964" class="lw lx iq bd ly lz op mb mc md oq mf mg jw or jx mi jz os ka mk kc ot kd mm mn bi translated">参考</h1><p id="9c38" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">MDN WebDocs Reduce-Function:<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Global _ Objects/Array/Reduce</a></p><h1 id="fba0" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">继续读</h1><div class="ou ov gp gr ow ox"><a rel="noopener  ugc nofollow" target="_blank" href="/array-map-in-javascript-3-minute-guide-5b2ce5123d8a"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ir gy z fp pc fr fs pd fu fw ip bi translated">数组。JavaScript中的map():3分钟指南</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">踏入函数式编程和不变性的大门</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl kp ox"/></div></div></a></div><div class="ou ov gp gr ow ox"><a rel="noopener  ugc nofollow" target="_blank" href="/profit-from-typescript-in-pure-javascript-projects-5208a2f5c9b0"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ir gy z fp pc fr fs pd fu fw ip bi translated">从纯JavaScript项目的TypeScript中获利</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">将TypeScript链接到JavaScript并启用类型检查</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="pg l"><div class="pm l pi pj pk pg pl kp ox"/></div></div></a></div></div></div>    
</body>
</html>