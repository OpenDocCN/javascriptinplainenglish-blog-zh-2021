<html>
<head>
<title>Create 3D CSS Buttons Which Move As You Mouse Over</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建3D CSS按钮，当鼠标经过时会移动</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-3d-css-buttons-which-move-as-you-mouse-over-8b8b53f34fd0?source=collection_archive---------4-----------------------#2021-09-28">https://javascript.plainenglish.io/create-3d-css-buttons-which-move-as-you-mouse-over-8b8b53f34fd0?source=collection_archive---------4-----------------------#2021-09-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/de261ba3ece6150d519818d85dcdb2aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2gDWUzB2-h1ghvwtcxdAWQ.jpeg"/></div></div></figure><p id="f0f5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">最近，我在考虑一个3d按钮的想法，当用户移动鼠标时，它就会移动</strong>。为了进一步增强这种效果，我添加了一些3d阴影，这些阴影一前一后地移动，给人一种3d按钮不在页面上的错觉，它随着用户的鼠标移动而移动。</p><h1 id="f0b1" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">演示</h1><figure class="lr ls lt lu gt jo"><div class="bz fp l di"><div class="lv lw l"/></div></figure><h1 id="3faf" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">它是如何工作的？</h1><p id="b0d3" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">这些按钮背后的基本概念是，我们需要跟踪用户何时将鼠标放在按钮上、移动以及移开鼠标。鼠标悬停时，我们将移动按钮，使其显示为3d。鼠标离开时，我们将重置它。</p><p id="6ee5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们开始JavaScript之前，让我们让按钮看起来更好。我们的HTML将如下所示:</p><pre class="lr ls lt lu gt mc md me mf aw mg bi"><span id="2b02" class="mh ku in md b gy mi mj l mk ml">&lt;button class<strong class="md io"><em class="mm">="button"</em></strong>&gt;&lt;span&gt;Hover!&lt;/span&gt;&lt;/button&gt;</span></pre><p id="1338" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们的CSS看起来像这样:</p><figure class="lr ls lt lu gt jo"><div class="bz fp l di"><div class="mn lw l"/></div></figure><h1 id="22b0" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">🎨次要背景动画</h1><p id="df18" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">你可能已经注意到第三个按钮有一个背景动画。如果你对我是如何做到的感兴趣，我使用了一个通过动画移动的伪元素。伪元素有简单的渐变，溢出是隐藏的。您可以通过从<code class="fe mo mp mq md b">span</code>和<code class="fe mo mp mq md b">button</code>元素中移除<code class="fe mo mp mq md b">overflow: hidden</code>来测试这一点。</p><h1 id="ebc9" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">JavaScript如何工作</h1><p id="117d" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">现在让我们来看看我们的JavaScript。您可能已经注意到我们的按钮有两个元素——按钮本身和按钮内部的一个span。这样做有一个很好的理由——这让我们可以在父对象上应用3d透视，这是效果工作所必需的。它还允许我们将悬停效果的目标对准父母——如果我们在孩子身上使用悬停，效果会随着孩子的旋转而消失，我们会错过hitbox。</p><p id="9522" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我使用了一个使用事件变量(e)的函数，并且引用了span(这里记为item)和button(引用为parent)。</p><figure class="lr ls lt lu gt jo"><div class="bz fp l di"><div class="mn lw l"/></div></figure><p id="1f54" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这有效地将按钮分成了4个象限。中点表示X和Y轴上的变化角度为0 °,而向左移动会产生更负的Y角，向右移动会产生更正的Y角。这同样适用于X，向上移动光标会使X角度变得更正，向下移动会变得更负。</p><p id="cb3e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一些值得注意的事情:</p><ul class=""><li id="16b9" class="mr ms in jx b jy jz kc kd kg mt kk mu ko mv ks mw mx my mz bi translated">我们使用了过滤框-阴影——这是因为它们可以更好地过渡CSS的属性。</li><li id="3646" class="mr ms in jx b jy na kc nb kg nc kk nd ko ne ks mw mx my mz bi translated">我添加了添加自定义透视和框阴影颜色的功能，以便在无需更改代码的情况下提供更大的灵活性。</li><li id="6ac0" class="mr ms in jx b jy na kc nb kg nc kk nd ko ne ks mw mx my mz bi translated">通过划分<code class="fe mo mp mq md b">calcAngle*</code>变量来调节效果。如果你改变你除以多少，甚至改变视角，效果会变得或多或少的明显。</li></ul><h1 id="a560" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">将我们的功能应用到每个按钮</h1><p id="d639" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">为了将我们所有功能应用于每个按钮，我们简单地用<code class="fe mo mp mq md b">forEach</code>遍历它们。如果您想了解更多关于如何将JavaScript事件添加到多个元素的信息，请点击下面的链接。</p><figure class="lr ls lt lu gt jo"><div class="bz fp l di"><div class="mn lw l"/></div></figure><h1 id="19e4" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">我们完了</h1><p id="0006" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">在那之后，我们将在文章的开头重新创建效果。我们希望您喜欢本指南，以下是一些有用的链接:</p><ul class=""><li id="6977" class="mr ms in jx b jy jz kc kd kg mt kk mu ko mv ks mw mx my mz bi translated"><a class="ae nf" href="https://codepen.io/smpnjn/pen/qBjJwar" rel="noopener ugc nofollow" target="_blank">CodePen上的源代码</a></li><li id="d5ff" class="mr ms in jx b jy na kc nb kg nc kk nd ko ne ks mw mx my mz bi translated"><a class="ae nf" href="https://fjolt.com/article/javascript-foreach-on-queryselectorall" rel="noopener ugc nofollow" target="_blank">如何给多个元素添加JavaScript事件</a></li><li id="88d1" class="mr ms in jx b jy na kc nb kg nc kk nd ko ne ks mw mx my mz bi translated"><a class="ae nf" href="https://fjolt.com/article/css-transformations" rel="noopener ugc nofollow" target="_blank">了解CSS如何转换工作</a></li></ul><p id="3fc0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mm">更多内容请看</em><a class="ae nf" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mm">plain English . io</em></strong></a></p></div></div>    
</body>
</html>