<html>
<head>
<title>Skeleton for Node.js Apps written in TypeScript (with Setup Instructions for ESLint, Prettier, and Husky)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用TypeScript编写的Node.js应用程序的框架(带有ESLint、appellister和Husky的设置说明)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/skeleton-for-node-js-apps-written-in-typescript-444fa1695b30?source=collection_archive---------0-----------------------#2021-07-07">https://javascript.plainenglish.io/skeleton-for-node-js-apps-written-in-typescript-444fa1695b30?source=collection_archive---------0-----------------------#2021-07-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/8b71112b06af060bdc49feca8f6d0fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bGWHGFTuvAqfvDmz4ftpKQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Skeleton for Node.js applications</figcaption></figure><h1 id="e484" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">为什么我们真的需要样板代码？</h1><p id="da92" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="kz io">维基</strong> <a class="ae lv" href="https://en.wikipedia.org/wiki/Boilerplate_code#:~:text=In%20computer%20programming%2C%20boilerplate%20code,Such%20code%20is%20called%20boilerplate." rel="noopener ugc nofollow" target="_blank">定义</a>的样板代码是:</p><blockquote class="lw lx ly"><p id="e022" class="kx ky lz kz b la ma lc ld le mb lg lh mc md lk ll me mf lo lp mg mh ls lt lu ig bi translated">在计算机编程中，<strong class="kz io">样板代码</strong>或者仅仅是<strong class="kz io">样板代码</strong>是在多个地方重复的代码段，几乎没有变化。当使用被认为冗长的语言时，程序员必须写很多代码来完成次要的功能。这样的代码被称为<em class="in">样板文件</em>。</p></blockquote><p id="03d5" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">样板代码是需要包含在应用程序中的重复代码，程序/框架很少或没有改变，对应用程序的逻辑没有任何贡献。</p><p id="1972" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">此外，我们可以说它是我们可以开始开发并遵循样板代码中已经定义的结构或方法的代码。</p><p id="d54c" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">软件开发中的样板文件对不同的人来说有不同的含义，但通常是指反复使用的代码块。</p><h1 id="8f23" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">目的</h1><p id="ac34" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">我们使用这个框架的主要目的是用Node.js和TypeScript启动服务器应用程序。除此之外，还要开始整合ESLint、Prettier和Husky。</p><p id="6b26" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">试试看。我很高兴听到你的反馈或者任何你想告诉我的新特性。</p><h1 id="50ce" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">共同特征</h1><ol class=""><li id="0714" class="mi mj in kz b la lb le lf li mk lm ml lq mm lu mn mo mp mq bi translated">快速启动</li><li id="3b6f" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu mn mo mp mq bi translated">集成的ESLint，更漂亮、更沙哑</li><li id="da8b" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu mn mo mp mq bi translated">常见错误处理程序</li><li id="dc63" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu mn mo mp mq bi translated">简单标准的脚手架</li><li id="bfae" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu mn mo mp mq bi translated">遵循坚实的原则</li><li id="4750" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu mn mo mp mq bi translated">基于TypeScript语法</li><li id="c6bb" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu mn mo mp mq bi translated">简单的环境配置</li><li id="7004" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu mn mo mp mq bi translated">轻松添加新功能</li><li id="64ec" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu mn mo mp mq bi translated">集成温斯顿测井仪</li><li id="0f38" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu mn mo mp mq bi translated">生产就绪的框架</li><li id="b352" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu mn mo mp mq bi translated">遵循生产就绪最佳实践:安全性</li></ol><h1 id="9c4d" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">项目结构</h1><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mw"><img src="../Images/87e8c51808cb74d426934bb1043668b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Cj8pc-KNd6IIF4BgUZCOw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Project Folder Structure</figcaption></figure><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/099167467c869c62bbdcc1d61b09e81a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lu-qHKTnwzJsPVdZb4ojVQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Project Source code Structure</figcaption></figure><p id="989d" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><strong class="kz io">请在下面找到用TypeScript编写的Node.js应用程序的样板源代码。</strong></p><div class="nc nd gp gr ne nf"><a href="https://github.com/santoshshinde2012/node-boilerplate" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">Santosh shinde 2012/node-样板文件</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">用TypeScript编写的Node.js应用程序的框架我们用这个框架的主要目的是启动一个服务器…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">github.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt jt nf"/></div></div></a></div><h1 id="30da" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">样板工作流</h1><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/beb72b27f5c247d5d6cc08210125c2ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1mrpB7FrCzaVXrAz0gtnwQ.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Boilerplate Workflow</figcaption></figure><h1 id="b1fa" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated"><strong class="ak">什么是生产就绪最佳实践:安全性？</strong></h1><ul class=""><li id="bff3" class="mi mj in kz b la lb le lf li mk lm ml lq mm lu nv mo mp mq bi translated">不要使用过时或易受攻击的Express版本</li><li id="f910" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu nv mo mp mq bi translated">使用TLS</li><li id="dd62" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu nv mo mp mq bi translated">使用头盔</li><li id="f882" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu nv mo mp mq bi translated">安全使用cookies</li><li id="6b00" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu nv mo mp mq bi translated">防止针对授权的暴力攻击</li><li id="33b1" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu nv mo mp mq bi translated">确保您的依赖关系是安全的</li><li id="9bd6" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu nv mo mp mq bi translated">避免其他已知的漏洞</li><li id="b64d" class="mi mj in kz b la mr le ms li mt lm mu lq mv lu nv mo mp mq bi translated">其他注意事项</li></ul><div class="nc nd gp gr ne nf"><a href="https://expressjs.com/en/advanced/best-practice-security.html" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">生产环境下Express的安全最佳实践</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">术语“生产”是指软件生命周期中应用程序或API普遍可用的阶段…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">expressjs.com</p></div></div><div class="no l"><div class="nw l nq nr ns no nt jt nf"/></div></div></a></div></div><div class="ab cl nx ny hr nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ig ih ii ij ik"><h1 id="e908" class="jz ka in bd kb kc oe ke kf kg of ki kj kk og km kn ko oh kq kr ks oi ku kv kw bi translated">在Node.js TypeScript项目中设置ESLint、appeller和Husky</h1><h2 id="1999" class="oj ka in bd kb ok ol dn kf om on dp kj li oo op kn lm oq or kr lq os ot kv ou bi translated">埃斯林特</h2><p id="66c9" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ESLint是一种用于识别和报告ECMAScript/JavaScript代码中发现的模式的工具，其目标是使代码更加一致并避免错误。</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="dbec" class="oj ka in ow b gy pa pb l pc pd">npm install --save-dev eslint <!-- -->typescript-eslint/parser eslint-config-airbnb @typescript-eslint/eslin-plugin</span></pre><p id="c46f" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">去年，t lint被ESLint取代(<a class="ae lv" href="https://medium.com/palantir/tslint-in-2019-1a144c2317a9" rel="noopener">t lint在2019年</a>)。</p><p id="9ff4" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><code class="fe pe pf pg ow b">eslint</code>eslit是一个工具，用于识别和报告在ECMAScript/JavaScript代码中发现的模式。</p><p id="3c58" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><code class="fe pe pf pg ow b">typescript-eslint/parser</code>一个eslit解析器，利用TypeScript ESTree允许eslit解析TypeScript源代码。</p><p id="863c" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><code class="fe pe pf pg ow b">eslint-config-airbnb</code>该软件包提供Airbnb的<code class="fe pe pf pg ow b">.eslintrc</code>作为可扩展的共享配置。</p><p id="9c5b" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><code class="fe pe pf pg ow b">@typescript-eslint/eslin-plugin</code>一个ESLint插件，为TypeScript代码库提供Lint规则。</p><p id="ea55" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">在根目录下创建<code class="fe pe pf pg ow b">.eslintrc</code>文件，并添加下面的配置。</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="99ad" class="oj ka in ow b gy pa pb l pc pd">{<br/>        "parser": "@typescript-eslint/parser",<br/>        "extends": [<br/>            "airbnb/base",<br/>            "plugin:@typescript-eslint/recommended",<br/>            "plugin:import/errors",<br/>            "plugin:import/warnings",<br/>            "plugin:import/typescript"<br/>        ],<br/>        "parserOptions": {<br/>            "ecmaVersion": 2018,<br/>            "project": "./tsconfig.json"<br/>        },<br/>        "rules": {<br/>            "semi": ["error", "always"],<br/>            "object-curly-spacing": ["error", "always"],<br/>            "camelcase": "off",<br/>            "@typescript-eslint/explicit-function-return-type": "off",<br/>            "@typescript-eslint/no-explicit-any": 1,<br/>            "@typescript-eslint/no-inferrable-types": [<br/>                "warn",<br/>                {<br/>                "ignoreParameters": true<br/>                }<br/>            ],<br/>            "no-underscore-dangle": "off",<br/>            "no-shadow": "off",<br/>            "no-new": 0,<br/>            "@typescript-eslint/no-shadow": ["error"],<br/>            "@typescript-eslint/no-unused-vars": "warn",<br/>            "quotes": [2, "single", { "avoidEscape": true }],<br/>            "class-methods-use-this": "off",<br/>            "import/extensions": [<br/>                "error",<br/>                "ignorePackages",<br/>                {<br/>                "js": "never",<br/>                "jsx": "never",<br/>                "ts": "never",<br/>                "tsx": "never"<br/>                }<br/>            ]<br/>        }<br/>    }</span></pre><p id="9951" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">添加<code class="fe pe pf pg ow b">.eslintignore</code>文件，它可以帮助告诉ESLint在您的配置文件中使用<code class="fe pe pf pg ow b">ignorePatterns</code>忽略特定的文件和目录。<code class="fe pe pf pg ow b">ignorePatterns</code>图案遵循与<code class="fe pe pf pg ow b">.eslintignore</code>相同的规则。</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="2672" class="oj ka in ow b gy pa pb l pc pd"># /node_modules/* in the project root is ignored by default</span><span id="2581" class="oj ka in ow b gy ph pb l pc pd">    /node_modules/*<br/><br/>    # build artefacts<br/>    dist/*<br/>    build/*<br/>    coverage/*<br/><br/>    # data definition files<br/>    **/*.d.ts<br/><br/>    # 3rd party libs<br/>    /src/public/<br/><br/>    # custom definition files<br/>    /src/types/</span></pre><p id="5be5" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">在<code class="fe pe pf pg ow b">package.json</code>中增加动作脚本。</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="a765" class="oj ka in ow b gy pa pb l pc pd">"lint": "eslint src/**/*.ts"<br/>"lint-fix": "eslint --fix src/**/*.ts"</span></pre><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi pi"><img src="../Images/ae17603406c307a139151a51b744d9ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tauo2ruVDhciUY8LAZBXsw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">eslint</figcaption></figure><h2 id="b080" class="oj ka in bd kb ok ol dn kf om on dp kj li oo op kn lm oq or kr lq os ot kv ou bi translated">较美丽</h2><p id="be28" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">到目前为止，采用“更漂亮的T21”的最大原因是为了停止所有正在进行的关于风格的争论。人们普遍认为，拥有一个通用的风格指南对于一个项目和团队来说是有价值的，但是要做到这一点是一个非常痛苦和没有回报的过程。因为<strong class="kz io">更漂亮</strong>是唯一全自动的“风格指南”。</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="ffb3" class="oj ka in ow b gy pa pb l pc pd">npm install --save-dev prettier eslint-config-prettier eslint-plugin-prettier</span></pre><p id="6b07" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><code class="fe pe pf pg ow b">prttier </code>漂亮是一个固执己见的代码格式化程序。它通过解析您的代码并按照自己的规则重新打印来强制执行一致的样式，这些规则考虑了最大的行长度，并在必要时包装代码。</p><p id="8dfb" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><code class="fe pe pf pg ow b">eslint-config-prettier </code>关闭所有不必要或可能与“更漂亮”冲突的规则。这让您可以使用您最喜欢的可共享配置，而不会让它的风格选择妨碍您使用更漂亮的配置。</p><p id="4cf1" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><code class="fe pe pf pg ow b">eslint-plugin-prettier </code>作为eslit规则运行更漂亮，并将差异报告为单个eslit问题。</p><p id="fde2" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">在根目录下创建<code class="fe pe pf pg ow b">.prettierrc</code>文件，并添加下面的配置。</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="c576" class="oj ka in ow b gy pa pb l pc pd">{<br/>        "bracketSpacing": true,<br/>        "printWidth": 80,<br/>        "proseWrap": "preserve",<br/>        "semi": true,<br/>        "singleQuote": true,<br/>        "trailingComma": "all",<br/>        "tabWidth": 4,<br/>        "useTabs": true,<br/>        "parser": "typescript",<br/>        "arrowParens": "always",<br/>        "requirePragma": true,<br/>        "insertPragma": true,<br/>        "endOfLine": "lf",<br/>        "overrides": [<br/>            {<br/>                "files": "*.json",<br/>                "options": {<br/>                    "singleQuote": false<br/>                }<br/>            },<br/>            {<br/>                "files": ".*rc",<br/>                "options": {<br/>                    "singleQuote": false,<br/>                    "parser": "json"<br/>                }<br/>            }<br/>        ]<br/>    }</span></pre><p id="79df" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">将<code class="fe pe pf pg ow b">"prettier"</code>添加到您的<code class="fe pe pf pg ow b">.eslintrc.*</code>文件的<code class="fe pe pf pg ow b">"extends"</code>数组中。请确保将其放在最后，这样它就有机会覆盖其他配置。</p><p id="44ba" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">在您的<code class="fe pe pf pg ow b">.eslintrc.*</code>文件的<code class="fe pe pf pg ow b">"plugins"</code>数组中添加<code class="fe pe pf pg ow b">"prettier"</code>条目。</p><p id="3841" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">另外，在您的<code class="fe pe pf pg ow b">.eslintrc.*</code>文件的<code class="fe pe pf pg ow b">"rules"</code>对象中添加网络<code class="fe pe pf pg ow b">"prettier/prettier": ["error"]</code>条目。</p><p id="f45d" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">请检查下面更新的<code class="fe pe pf pg ow b">.eslintrc</code>配置。</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="7e87" class="oj ka in ow b gy pa pb l pc pd">{<br/>        "parser": "@typescript-eslint/parser",<br/>        "extends": [<br/>            "airbnb/base",<br/>            "plugin:@typescript-eslint/recommended",<br/>            "plugin:import/errors",<br/>            "plugin:import/warnings",<br/>            "plugin:import/typescript",<br/>            "prettier"<br/>        ],<br/>        "parserOptions": {<br/>            "ecmaVersion": 2018,<br/>            "project": "./tsconfig.json"<br/>        },<br/>        "plugins": ["prettier"],<br/>        "rules": {<br/>            "prettier/prettier": ["error"],<br/>            "semi": ["error", "always"],<br/>            "object-curly-spacing": ["error", "always"],<br/>            "camelcase": "off",<br/>            "@typescript-eslint/explicit-function-return-type": "off",<br/>            "@typescript-eslint/no-explicit-any": 1,<br/>            "@typescript-eslint/no-inferrable-types": [<br/>                "warn",<br/>                {<br/>                "ignoreParameters": true<br/>                }<br/>            ],<br/>            "no-underscore-dangle": "off",<br/>            "no-shadow": "off",<br/>            "no-new": 0,<br/>            "@typescript-eslint/no-shadow": ["error"],<br/>            "@typescript-eslint/no-unused-vars": "warn",<br/>            "quotes": [2, "single", { "avoidEscape": true }],<br/>            "class-methods-use-this": "off",<br/>            "import/extensions": [<br/>                "error",<br/>                "ignorePackages",<br/>                {<br/>                "js": "never",<br/>                "jsx": "never",<br/>                "ts": "never",<br/>                "tsx": "never"<br/>                }<br/>            ]<br/>        }<br/>    }</span></pre><p id="fde3" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">添加<code class="fe pe pf pg ow b">.prettierignore</code>文件。要从格式化中排除文件，请在项目的根目录下创建一个<code class="fe pe pf pg ow b">.prettierignore</code>文件。<code class="fe pe pf pg ow b">.prettierignore</code>使用gitignore语法。</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="08c0" class="oj ka in ow b gy pa pb l pc pd"># Ignore artifacts:</span><span id="7be3" class="oj ka in ow b gy ph pb l pc pd">    build<br/>    dist<br/>    coverage<br/><br/>    # Ignore all HTML files:<br/>    *.html<br/><br/>    .gitignore<br/>    .prettierignore</span></pre><p id="5c36" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">在<code class="fe pe pf pg ow b">package.json</code>中添加动作脚本。</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="66e2" class="oj ka in ow b gy pa pb l pc pd">"pretty": "prettier --write 'src/**/*.ts'"</span></pre><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi pj"><img src="../Images/13c535c6f9d80764eb28e9df5cfac280.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uBoBF5iZolSmlAIae088IA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">prettier — npm run pretty</figcaption></figure><h2 id="142c" class="oj ka in bd kb ok ol dn kf om on dp kj li oo op kn lm oq or kr lq os ot kv ou bi translated">强壮的</h2><p id="9c07" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="kz io">哈士奇</strong>提高你的提交和更多—🐶汪汪！当您提交或推送时，您可以使用它来lint您的提交消息、运行测试、lint代码等。<strong class="kz io">支架</strong>支撑所有挂钩<strong class="kz io">挂钩</strong>。</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="9d04" class="oj ka in ow b gy pa pb l pc pd">npm install --save-dev husky</span></pre><p id="6ea3" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">在<code class="fe pe pf pg ow b">package.json</code>中添加动作脚本。</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="655d" class="oj ka in ow b gy pa pb l pc pd">"prepare": "husky install"</span><span id="3ec8" class="oj ka in ow b gy ph pb l pc pd">"precommit": "npm run lint-fix &amp;&amp; npm run pretty"</span><span id="3ee2" class="oj ka in ow b gy ph pb l pc pd">"prepush": "npm run lint"</span></pre><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi pk"><img src="../Images/a8bafc47fb88467bce7d6bc0726dc84d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j48AOJQiBX7e-eKVwR8GHA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">husky — <code class="fe pe pf pg ow b">npm run prepare</code></figcaption></figure><p id="c9ba" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">在<code class="fe pe pf pg ow b">pre-commit</code>和<code class="fe pe pf pg ow b">pre-push</code>文件中添加git钩子动作，在<code class="fe pe pf pg ow b">.husky folder</code>中创建<code class="fe pe pf pg ow b">pre-commit</code>和<code class="fe pe pf pg ow b">pre-push</code>文件，该文件夹是在终端上运行<code class="fe pe pf pg ow b">npm run prepare</code>后创建的。</p><p id="d583" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">在<code class="fe pe pf pg ow b">pre-commit file</code>中添加以下脚本</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="a878" class="oj ka in ow b gy pa pb l pc pd">#!/bin/sh<br/>    . "$(dirname "$0")/_/husky.sh"<br/><br/>    npm run precommit</span></pre><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi pl"><img src="../Images/2a0ba1bfd5b298ec84c9c3ae18376add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7aQoM7M6N6pC0_GIsH1LlA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">husky — <code class="fe pe pf pg ow b">npm run precommit</code></figcaption></figure><p id="50a1" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">在<code class="fe pe pf pg ow b">pre-push file</code>中添加以下脚本</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="d8c6" class="oj ka in ow b gy pa pb l pc pd">#!/bin/sh<br/>    . "$(dirname "$0")/_/husky.sh"<br/><br/>    npm run prepush</span></pre><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi pm"><img src="../Images/40d69104b2f6684e813f08736896d1ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ezMD0dFqwFnduRzAXo9eQg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">husky — <code class="fe pe pf pg ow b">npm run prepush</code></figcaption></figure><p id="aae7" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated">请在终端上执行下面的命令，使钩子默认可执行。因为默认情况下文件是不可执行的；它们必须被设置为可执行的</p><pre class="mx my mz na gt ov ow ox oy aw oz bi"><span id="6ad8" class="oj ka in ow b gy pa pb l pc pd">chmod ug+x .husky/*<br/>chmod ug+x .git/hooks/*</span></pre><figure class="mx my mz na gt jo"><div class="bz fp l di"><div class="pn po l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Getting started with Node JS &amp; Typescript</figcaption></figure></div><div class="ab cl nx ny hr nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ig ih ii ij ik"><h1 id="2c99" class="jz ka in bd kb kc oe ke kf kg of ki kj kk og km kn ko oh kq kr ks oi ku kv kw bi translated">参考</h1><div class="nc nd gp gr ne nf"><a href="https://code.visualstudio.com/api/advanced-topics/tslint-eslint-migration" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">从TSLint迁移到ESLint</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">TSLint在过去是推荐的linter，但是现在TSLint被弃用，ESLint接管了它的职责…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">code.visualstudio.com</p></div></div><div class="no l"><div class="pp l nq nr ns no nt jt nf"/></div></div></a></div><div class="nc nd gp gr ne nf"><a href="https://code.visualstudio.com/api/advanced-topics/tslint-eslint-migration" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">从TSLint迁移到ESLint</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">TSLint在过去是推荐的linter，但是现在TSLint被弃用，ESLint接管了它的职责…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">code.visualstudio.com</p></div></div><div class="no l"><div class="pp l nq nr ns no nt jt nf"/></div></div></a></div><div class="nc nd gp gr ne nf"><a href="https://nodesource.com/blog/the-Node.js-application-maintainer-guide" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">Node.js应用程序维护者指南</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">TLWR:维护Node.js代码库对于确保其长期成功至关重要。主要有三种…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">nodesource.com</p></div></div><div class="no l"><div class="pq l nq nr ns no nt jt nf"/></div></div></a></div><div class="nc nd gp gr ne nf"><a href="https://github.com/santoshshinde2012/node-boilerplate" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">Santosh shinde 2012/node-样板文件</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">用TypeScript编写的Node.js应用程序的框架我们用这个框架的主要目的是启动一个服务器…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">github.com</p></div></div><div class="no l"><div class="pr l nq nr ns no nt jt nf"/></div></div></a></div><figure class="mx my mz na gt jo"><div class="bz fp l di"><div class="ps po l"/></div></figure><p id="fe7c" class="pw-post-body-paragraph kx ky in kz b la ma lc ld le mb lg lh li md lk ll lm mf lo lp lq mh ls lt lu ig bi translated"><em class="lz">更多内容请看</em><a class="ae lv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kz io"><em class="lz">plain English . io</em></strong></a></p></div></div>    
</body>
</html>