<html>
<head>
<title>Why You Should Prefer JSON Over XML in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么在JavaScript中应该选择JSON而不是XML</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/why-you-should-prefer-json-over-xml-in-javascript-a6ec8d5091cd?source=collection_archive---------8-----------------------#2021-05-01">https://javascript.plainenglish.io/why-you-should-prefer-json-over-xml-in-javascript-a6ec8d5091cd?source=collection_archive---------8-----------------------#2021-05-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="240e" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">3分钟指南#07</h2><div class=""/><div class=""><h2 id="ab7c" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">JSON是JavaScript中交换数据的首选</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/31b9d511e2de8852204b137d154bed96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tX56p9IdPCxeMSuw48vVMQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Illustration made by <a class="ae le" href="http://www.arnoldcode.com/" rel="noopener ugc nofollow" target="_blank">Author</a> with ❤️</figcaption></figure><p id="7384" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">JSON代表<em class="mb"> JavaScript Object Notation，</em>这不是巧合，因为三个阴谋论者走进了一家酒吧。</p><p id="8fcf" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">JSON最初是JavaScript (1999)的一个子集，这种与语言的密切关系使它成为在服务器和客户机之间传输数据的完美助手。</p><p id="7b6b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">此外，JSON易于人类阅读。创建过程不像XML那样繁琐，而且架构的处理也非常简单。</p><p id="f172" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果我没有像二级汽车经销商一样卖给你JSON，请坐下来比较XML和JSON的内在价值。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="43a8" class="mj mk iq bd ml mm mn mo mp mq mr ms mt kf mu kg mv ki mw kj mx kl my km mz na bi translated">XML与JSON的比较</h1><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nb"><img src="../Images/04c7cf9566a59d42b9a1386a74df6279.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SMr85h_fuv7U6ZkL"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Footage from <a class="ae le" href="https://setthetape.com/2019/08/09/used-cars-blu-ray-review/" rel="noopener ugc nofollow" target="_blank">Used Cars</a></figcaption></figure><p id="f3c8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">那么另一个模型XML呢？</p><p id="b534" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">可以说，XML是过去十年的模型。至少在使用JavaScript时，你应该避免使用它。XML比你的邻居更健谈。</p><p id="5bad" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们从一个简单的例子开始，这个例子来自与我同名的阿诺德·施瓦辛格。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="6a43" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">XML在节点之间存储信息:<code class="fe ne nf ng nh b">&lt;node&gt;information&lt;/node&gt;</code>。每条信息都有自己的节点。</p><p id="4396" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这看起来臃肿，读起来确实刺耳。将开销与我们存储的数据进行比较。</p><p id="008f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">与具有相同数据的JSON相比，JSON以<code class="fe ne nf ng nh b">key:value</code>对的形式存储信息。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="cea4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这看起来更加渺茫和阴暗。有了C语言背景，你已经有了家的感觉。</p><p id="8e9e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这是关键的一点，JSON得分并打了一个本垒打。语法几乎类似于POJO(普通的旧JavaScript对象)。</p><p id="a8b6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">文章可以在这里结束，但如果你不知道如何处理这个聪明的产品，这一切都没有意义。</p><p id="696a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">保存和加载是编程世界中随处可见的关键词。</p><h2 id="0560" class="ni mk iq bd ml nj nk dn mp nl nm dp mt lo nn no mv ls np nq mx lw nr ns mz iw bi translated">保存和加载</h2><p id="ae7c" class="pw-post-body-paragraph lf lg iq lh b li nt ka lk ll nu kd ln lo nv lq lr ls nw lu lv lw nx ly lz ma ij bi translated">我将向您展示在浏览器中存储JSON到<code class="fe ne nf ng nh b">localStorage</code>的简单例子。对<code class="fe ne nf ng nh b">localStorage</code>的读写过程与您与服务器通信的过程相同。</p><p id="6357" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">JSON将被转换成一个字符串，然后保存。当你要把它加载回去的时候，它也将是一个字符串。</p><p id="b0ca" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因此，任何对象都会用<code class="fe ne nf ng nh b">JSON.stringify(yourDesire)</code>转换成一个字符串，在加载之后，必须用<code class="fe ne nf ng nh b">JSON.parse(yourDesire)</code>转换回来。</p><p id="cc25" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我现在向您展示如何从本地存储中保存和加载JSON。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="7e04" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们使用<code class="fe ne nf ng nh b">localStorage</code>将我们的终结器对象保存到浏览器的本地存储中，方法是用<code class="fe ne nf ng nh b">JSON.stringify()</code>将它转换成一个字符串。</p><p id="3237" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">要做到这一点，我们需要提供一个<code class="fe ne nf ng nh b">id</code>和我们想要保存的<code class="fe ne nf ng nh b">string</code>，因此保存会跟随<code class="fe ne nf ng nh b">localStorage.setItem(id, string)</code>并在我们想要从中加载内容时跟随<code class="fe ne nf ng nh b">localStorage.getItem(id)</code>。</p><p id="39a4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">然后我们可以用<code class="fe ne nf ng nh b">dot-operator</code>正确地访问它，如在<code class="fe ne nf ng nh b">loadObject.modelName</code>中显示结果:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/c53d03d47edf11e756e4734ccde5ee59.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*CWzn-TRfAXekkknW2FuMtg.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">HTML surface to “SavingAndLoadingJSON.js”</figcaption></figure><h1 id="2fb2" class="mj mk iq bd ml mm nz mo mp mq oa ms mt kf ob kg mv ki oc kj mx kl od km mz na bi translated">JSON比XML更好</h1><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oe"><img src="../Images/1474e9c3306001db2aa04bb5f68fd89f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SmEJlSiPFDjtqmSb"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Photo by <a class="ae le" href="https://unsplash.com/@flowforfrank?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ferenc Almasi</a> on <a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="aacb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">JSON允许您拥有JavaScript拥有的所有数据类型。有<code class="fe ne nf ng nh b">strings</code>、<code class="fe ne nf ng nh b">booleans</code>、<code class="fe ne nf ng nh b">numbers</code>、<code class="fe ne nf ng nh b">objects</code>和<code class="fe ne nf ng nh b">arrays</code>。</p><p id="4148" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果你想在XML中实现<code class="fe ne nf ng nh b">arrays</code>，你需要像这样的多个节点:</p><pre class="kp kq kr ks gt of nh og oh aw oi bi"><span id="e957" class="ni mk iq nh b gy oj ok l ol om">&lt;numbers&gt;<br/>    &lt;value&gt;21&lt;/value&gt;<br/>    &lt;value&gt;hello&lt;/value&gt;<br/>    &lt;value&gt;25&lt;/value&gt;<br/>    &lt;value&gt;darling&lt;/value&gt;<br/>    &lt;value&gt;69&lt;/value&gt;<br/>&lt;/numbers&gt;</span></pre><p id="061d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">与JSON相比:</p><pre class="kp kq kr ks gt of nh og oh aw oi bi"><span id="783f" class="ni mk iq nh b gy oj ok l ol om">{<br/>  "array":[21, "hello", 25, "darling", 69]<br/>}</span></pre><p id="936a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">无论如何，任何传输的JSON都是一个字符串，我们可以很容易地将它解析回一个对象。</em></p><p id="c61f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为了使用XML，你需要一个XML解析器。不管你存储的数据有多简单。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="ab98" class="mj mk iq bd ml mm mn mo mp mq mr ms mt kf mu kg mv ki mw kj mx kl my km mz na bi translated">结论</h1><p id="ee52" class="pw-post-body-paragraph lf lg iq lh b li nt ka lk ll nu kd ln lo nv lq lr ls nw lu lv lw nx ly lz ma ij bi translated">JavaScript获得了JSON的内置功能。总之，最好使用JSON，而不是老式的XML。</p><ul class=""><li id="45d0" class="on oo iq lh b li lj ll lm lo op ls oq lw or ma os ot ou ov bi translated">用XML存储数据会有很大的开销</li><li id="b0c1" class="on oo iq lh b li ow ll ox lo oy ls oz lw pa ma os ot ou ov bi translated">JSON已经是JavaScript的一个子集，有内置功能</li><li id="0836" class="on oo iq lh b li ow ll ox lo oy ls oz lw pa ma os ot ou ov bi translated">JSON更适合人类阅读</li><li id="0cc0" class="on oo iq lh b li ow ll ox lo oy ls oz lw pa ma os ot ou ov bi translated">JSON对人类来说更容易编写</li><li id="ae8a" class="on oo iq lh b li ow ll ox lo oy ls oz lw pa ma os ot ou ov bi translated">在客户机和服务器之间传输数据或者保存和加载数据时，JSON比XML更好</li></ul></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="d84d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><a class="ae le" href="https://arnoldcodeacademy.ck.page/26-web-dev-cheat-sheets" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> <em class="mb">节省自己大量的时间，专注于重要的主题。</em> </strong> </a></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/227a060a3bfa55f41fa795d5990e6032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Nqyiu4c6K-mCxE9e.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Arnold Code Academy 26 Web Developer Cheatsheets</figcaption></figure></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="417f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja"> <em class="mb">感谢阅读。如果你对这些文章感兴趣，这里有一篇我预先挑选的:</em> </strong></p><div class="pc pd gp gr pe pf"><a href="https://medium.com/nerd-for-tech/the-reasons-not-to-migrate-from-javascript-to-typescript-89b587ed9ac9" rel="noopener follow" target="_blank"><div class="pg ab fo"><div class="ph ab pi cl cj pj"><h2 class="bd ja gy z fp pk fr fs pl fu fw iz bi translated">不从JavaScript迁移到TypeScript的原因！</h2><div class="pm l"><h3 class="bd b gy z fp pk fr fs pl fu fw dk translated">如何为媒体找到我的声音</h3></div><div class="pn l"><p class="bd b dl z fp pk fr fs pl fu fw dk translated">medium.com</p></div></div><div class="po l"><div class="pp l pq pr ps po pt ky pf"/></div></div></a></div><p id="4e97" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">更多内容请看</em><a class="ae le" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja"><em class="mb">plain English . io</em></strong></a></p></div></div>    
</body>
</html>