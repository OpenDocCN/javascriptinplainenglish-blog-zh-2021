<html>
<head>
<title>How To Build A Custom Checkbox With JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript构建自定义复选框</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-build-a-custom-checkbox-with-javascript-82083a66ae04?source=collection_archive---------4-----------------------#2021-02-12">https://javascript.plainenglish.io/how-to-build-a-custom-checkbox-with-javascript-82083a66ae04?source=collection_archive---------4-----------------------#2021-02-12</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="f110" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">以最简单的方式学习JavaScript</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/c65ea2c6d32521c7820d9b3b1e965a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D9CpjPJlQqcamwfdDFCAeg.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Inspired by <a class="ae kw" href="https://dribbble.com/shots/14656980-Liquid-UI-Elements" rel="noopener ugc nofollow" target="_blank">Liquid UI Elements</a></figcaption></figure><h1 id="943a" class="kx ky ir bd kz la lb lc ld le lf lg lh jx li jy lj ka lk kb ll kd lm ke ln lo bi translated">HTML和CSS</h1><p id="3ac5" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">所以让我们从HTML &amp; CSS开始，让我们的组件成为静态的。我已经为你创建了HTML和CSS。但是如果你想改变它，请继续做你喜欢的。</p><p id="5c2f" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">在HTML中，我们有2个复选框，因为使用JavaScript，我们将创建一个自定义复选框。但是让每一个输入都带有一个类型复选框，一个自定义的复选框会更酷。</p><p id="4e3b" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated"><strong class="lr is"> HTML </strong></p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="de28" class="mv ky ir mr b gz mw mx l my mz">&lt;section class="form-wrapper"&gt;<br/>    &lt;label class="label" for="checkbox1"&gt;<br/>        &lt;strong&gt;Checkbox 1&lt;/strong&gt;<br/>        &lt;input type="checkbox" name="checkbox1" id="checkbox1"&gt;<br/>    &lt;/label&gt;<br/>    &lt;label class="label" for="checkbox2"&gt;<br/>        &lt;strong&gt;Checkbox 2&lt;/strong&gt;<br/>        &lt;input type="checkbox" name="checkbox2" id="checkbox2"&gt;<br/>    &lt;/label&gt;<br/>&lt;/section&gt;</span></pre><p id="02e3" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated"><strong class="lr is"> CSS </strong></p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="0fd3" class="mv ky ir mr b gz mw mx l my mz">:root {<br/>    --red: rgb(209, 3, 3);<br/>    --white: #fff;<br/>    --black: #000;</span><span id="41a0" class="mv ky ir mr b gz na mx l my mz">    --blue: rgb(0, 191, 255);<br/>    --grey: rgb(211, 211, 211);<br/>}</span><span id="9063" class="mv ky ir mr b gz na mx l my mz">body {<br/>    font-family: "Helvetica";<br/>    background: #e9e9e9<br/>}<br/>.container {<br/>    width: 100vw;<br/>    height: 100vh;<br/>    display: flex;<br/>    justify-content: center;<br/>    align-items: center;<br/>}</span><span id="f757" class="mv ky ir mr b gz na mx l my mz">.wrapper {<br/>    max-width: 600px;<br/>    height: 400px;<br/>    display: flex;<br/>    justify-content: center;<br/>    align-items: center;<br/>}<br/>.project-header {<br/>    position: absolute;<br/>    top: 0;<br/>    background: rgb(180,58,116);<br/>    background: linear-gradient(90deg, rgba(180,58,116,1) 0%, rgba(253,29,29,1) 50%, rgba(252,139,69,1) 100%);    width: 100%;<br/>    text-align: center;<br/>    color: var(--white);<br/>}<br/>.form-wrapper {<br/>    display:flex;<br/>    flex-direction: column;<br/>    background: var(--white);<br/>    padding: 4rem 4rem 3rem;<br/>    border-radius: 10px;<br/>    box-shadow: 0px 3px 25px rgba(0, 0, 0, 0.2);<br/>}<br/>input[type="checkbox"].hide {<br/>    display: none;<br/>}<br/>.label {<br/>    line-height: 30px;<br/>    display: flex;<br/>    justify-content: space-between;<br/>    margin-bottom: 1rem;<br/>    cursor: pointer;<br/>}<br/>.label strong {<br/>    margin-right: 3rem;<br/>}</span><span id="3b6c" class="mv ky ir mr b gz na mx l my mz">/*===== Custom Checkbox ===== */<br/>.chkBox {<br/>    display: inline-block;<br/>    width: 50px;<br/>    height: 25px;<br/>    background: var(--blue);<br/>    border-radius: 20px;<br/>    padding: 5px;<br/>    transition: 0.5s ease-in-out;<br/>}</span><span id="a4be" class="mv ky ir mr b gz na mx l my mz">/*===== Custom Checkbox switch ===== */<br/>.chkBox--switch {<br/>    display: block;<br/>    width: 25px;<br/>    height: 25px;<br/>    border-radius: 100%;<br/>    background: var(--white);<br/>    transition: 0.5s ease-in-out;<br/>}</span><span id="f5f8" class="mv ky ir mr b gz na mx l my mz">.chkBox.checked {<br/>    background: var(--blue);<br/>}<br/>.chkBox.checked .chkBox--switch {<br/>    transform: translate(0);<br/>}</span><span id="b4de" class="mv ky ir mr b gz na mx l my mz">.chkBox.unchecked {<br/>    background: var(--grey);<br/>}<br/>.chkBox.unchecked .chkBox--switch {<br/>    transform: translate(24px);<br/>}</span></pre><p id="2be8" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">如果你不喜欢我选的颜色，我已经用CSS变量很容易地改变了颜色。</p><p id="e3bd" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">现在我们已经静态地创建了按钮组件，我们从JavaScript开始。😇</p></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><h1 id="49dc" class="kx ky ir bd kz la ni lc ld le nj lg lh jx nk jy lj ka nl kb ll kd nm ke ln lo bi translated">辅导的</h1><p id="1a71" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">现在我们已经创建了一个带有复选框的页面，它看起来很丑，对吧。这些是默认浏览器样式的复选框。</p><p id="cda1" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">在这个项目中，我想教你一些新的东西，并重复前一个项目中的一些内容，因为重复是掌握的关键😉。</p><h1 id="06f5" class="kx ky ir bd kz la lb lc ld le lf lg lh jx li jy lj ka lk kb ll kd lm ke ln lo bi translated">你将学到什么</h1><ul class=""><li id="6910" class="nn no ir lr b ls lt lv lw ly np mc nq mg nr mk ns nt nu nv bi translated">变量</li><li id="37c8" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated">功能</li><li id="5d16" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated">如果语句</li><li id="b64b" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated">返回</li><li id="d370" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated">类别列表API</li><li id="e3dd" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated">事件侦听器“更改”</li><li id="b848" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated">箭头功能</li><li id="ef74" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated">ForEach循环</li><li id="3dc7" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated">QuerySelectorAll</li><li id="d599" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated">节点列表</li><li id="b6e0" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated">排列</li></ul></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><h1 id="40ec" class="kx ky ir bd kz la ni lc ld le nj lg lh jx nk jy lj ka nl kb ll kd nm ke ln lo bi translated">第一步。获取所有复选框</h1><p id="2c2e" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">首先，我们需要访问页面上的所有复选框。如果我们在页面上需要1个元素，我们将使用<code class="fe ob oc od mr b">querySelector()</code>方法。但是，我们需要获得页面上的所有复选框，因此我们需要为此使用<code class="fe ob oc od mr b">querySelectorAll()</code>方法。</p><p id="287c" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated"><code class="fe ob oc od mr b">querySelectorAll()</code>方法返回一个<code class="fe ob oc od mr b">NodeList</code>。一个<a class="ae kw" href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList" rel="noopener ugc nofollow" target="_blank">节点列表看起来像一个数组</a>，但是有点不同。</p><blockquote class="oe of og"><p id="ef3f" class="lp lq oh lr b ls ml js lu lv mm jv lx oi mn ma mb oj mo me mf ok mp mi mj mk ik bi translated">当我包含文档链接时，检查它们是一个好主意。这将有助于你对某些术语有更多的了解。</p></blockquote><p id="d157" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">Nodelist在一个列表中有多个节点。节点是对HTML元素的引用。数组可以是多个值的列表。它可以是字符串、对象、布尔值和更多值的列表。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="f036" class="mv ky ir mr b gz mw mx l my mz">const checkboxElements = document.querySelectorAll('input[type="checkbox"]');</span></pre><p id="9cff" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">在<code class="fe ob oc od mr b">querySelectorAll(selector)</code>中，我们给出一个选择器作为参数。该方法将搜索整个页面来找到这些元素，并在一个<code class="fe ob oc od mr b">NodeList</code>中返回它们。</p></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><h1 id="01b7" class="kx ky ir bd kz la ni lc ld le nj lg lh jx nk jy lj ka nl kb ll kd nm ke ln lo bi translated">第二步。在复选框间循环</h1><p id="58e8" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">现在我们有了一个变量<code class="fe ob oc od mr b">checkboElements</code>和页面上所有复选框的<code class="fe ob oc od mr b">NodeList</code>，我们需要遍历列表并为每个复选框创建一个定制的复选框。</p><p id="c793" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">如果您查看NodeList文档页面，您可以看到<a class="ae kw" href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList#Methods" rel="noopener ugc nofollow" target="_blank">我们有一个方法列表</a>可以使用。</p><ul class=""><li id="b48a" class="nn no ir lr b ls ml lv mm ly ol mc om mg on mk ns nt nu nv bi translated"><code class="fe ob oc od mr b">item()</code></li><li id="d277" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated"><code class="fe ob oc od mr b">entries()</code></li><li id="2c5f" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated"><code class="fe ob oc od mr b">forEach()</code></li><li id="0942" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated"><code class="fe ob oc od mr b">keys()</code></li><li id="fe60" class="nn no ir lr b ls nw lv nx ly ny mc nz mg oa mk ns nt nu nv bi translated"><code class="fe ob oc od mr b">values()</code></li></ul><p id="05cb" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">现在，我不会告诉他们每个人是做什么的。但是我们将把重点放在<code class="fe ob oc od mr b">forEach()</code>方法上。</p><p id="7805" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">使用这种方法，您可以为<code class="fe ob oc od mr b">NodeList</code>中的每个项目执行特定的任务。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="d884" class="mv ky ir mr b gz mw mx l my mz">const checkboxElements = document.querySelectorAll('input[type="checkbox"]');<br/>checkboxElements.forEach((checkboxItem) =&gt; console.log('checkboxItem: ', checkboxItem))</span></pre><p id="aa07" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">在这种情况下，当我们用<code class="fe ob oc od mr b">querySelectorAll(selector)</code>执行上面的代码时，您将在您的控制台选项卡(浏览器中的开发人员工具)中看到两条消息。</p><p id="cc62" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">现在我们可以创建一个函数，就像上面例子中的<code class="fe ob oc od mr b">console.log()</code>函数一样被调用。</p></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><h1 id="5123" class="kx ky ir bd kz la ni lc ld le nj lg lh jx nk jy lj ka nl kb ll kd nm ke ln lo bi translated">第三步。用JavaScript创建自定义复选框HTML</h1><p id="48de" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">让我们定义一个函数，在这个函数中，我们编写创建自定义checkbox元素的逻辑。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="b7e0" class="mv ky ir mr b gz mw mx l my mz">function createCustomChkBox(checkboxEl) {<br/>    // logic comes here<br/>}</span></pre><p id="7d96" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">我们也可以把它写在方法中。<code class="fe ob oc od mr b">.forEach()</code>。但是当你创建一个不同的函数时，最好在以后检查代码的时候阅读。</p><p id="13cb" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">在函数中，我们定义了一个参数，在该参数中我们引用了原始的checkbox元素。</p><p id="ef79" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">我们希望在标签内创建我们的自定义复选框，紧挨着input元素。所以我们需要原始输入元素的父元素。我们通过使用<code class="fe ob oc od mr b">checkboxEl.parentElement</code>来做到这一点。页面上的每个HTML元素都有一个名为<code class="fe ob oc od mr b">parentElement</code>的属性，除了<code class="fe ob oc od mr b">&lt;html&gt;</code>标签，因为那是所有元素的父元素。</p><p id="47a8" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">我们将对父元素的引用存储在一个变量中，以便稍后在函数中使用。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="a2d7" class="mv ky ir mr b gz mw mx l my mz">const checkboxLabel = checkboxEl.parentElement</span></pre><p id="b6ae" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">为了防止代码因错误而中断，我们希望检查对元素的引用是否正确。我们创建一个if语句来检查这一点。如果引用不正确，我们给出一个return语句，以便函数停止并继续执行<code class="fe ob oc od mr b">forEach()</code>循环。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="7d3c" class="mv ky ir mr b gz mw mx l my mz">if (!checkboxEl) {<br/>    // If the checkbox element is a falsy value<br/>    // We will cancle this function with a return statement<br/>    return<br/>}</span></pre><p id="59f9" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">使用<code class="fe ob oc od mr b">!checkboxEl</code>我们检查<code class="fe ob oc od mr b">checkboxEl</code>是否有错误值。因此，如果是<code class="fe ob oc od mr b">null</code>、<code class="fe ob oc od mr b">undefined</code>或<code class="fe ob oc od mr b">false</code>，它将执行<code class="fe ob oc od mr b">return</code>语句。</p></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><h2 id="8e8c" class="mv ky ir bd kz oo op dn ld oq or dp lh ly os ot lj mc ou ov ll mg ow ox ln oy bi translated">什么是真与假？</h2><p id="09df" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">Falsy表示一个值可以是<code class="fe ob oc od mr b">null</code>、<code class="fe ob oc od mr b">false</code>、<code class="fe ob oc od mr b">0</code>、<code class="fe ob oc od mr b">NaN</code>、<code class="fe ob oc od mr b">""</code>或<code class="fe ob oc od mr b">undefined</code>。大多数时候这意味着，它没有价值或者是负的。</p><p id="e891" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">真实意味着给定一个值。该值可以是<code class="fe ob oc od mr b">"string"</code>、<code class="fe ob oc od mr b">{}</code>、<code class="fe ob oc od mr b">[]</code>、<code class="fe ob oc od mr b">"0"</code>、<code class="fe ob oc od mr b">number</code>、<code class="fe ob oc od mr b">function() {}</code>或设置为<code class="fe ob oc od mr b">true</code>的布尔值。</p></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><p id="1467" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">如果该值有一个对元素的有效引用(<code class="fe ob oc od mr b">Node</code>)，它将继续创建我们的HTML元素。为此，我们需要<code class="fe ob oc od mr b">createElement()</code>方法。在这种方法中，您定义想要制作的元素。例如，创建一个<code class="fe ob oc od mr b">&lt;div&gt;&lt;/div&gt;</code>元素。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="65fc" class="mv ky ir mr b gz mw mx l my mz">const divElement = document.createElement('div')<br/>divElement.classList.add('cool-class-name')</span></pre><p id="0c96" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">现在你可能会想，<code class="fe ob oc od mr b">&lt;div&gt;&lt;/div&gt;</code>是哪里造出来的？在我的HTML结构中看不到。没错，但它还没有放在HTML中。现在，元素只在浏览器的内存中创建。但是当它在内存中时，我们可以给它添加类名或其他属性。</p><p id="e5dd" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">要将它添加到页面中，我们需要用<code class="fe ob oc od mr b">appendChild()</code>方法将它添加到现有元素中。使用这种方法，我们在当前元素中放置一个<code class="fe ob oc od mr b">&lt;div class="cool-class-name"&gt;&lt;/div&gt;</code>。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="9114" class="mv ky ir mr b gz mw mx l my mz">existingElement.appendChild(divElement)</span></pre><p id="db86" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">通过这种方法，我们添加了带有复选框切换器的自定义复选框元素。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="ca45" class="mv ky ir mr b gz mw mx l my mz">// Create the custom checkbox element<br/>// Add some classes to it<br/>const chkBox = document.createElement('div')<br/>chkBox.classList.add('chkBox')<br/>chkBox.classList.add('unchecked')</span><span id="ae57" class="mv ky ir mr b gz na mx l my mz">// Create the custom checkbox element switch<br/>// Add a class to it<br/>const chkBoxSwitch = document.createElement('span')<br/>chkBoxSwitch.classList.add('chkBox--switch')</span><span id="aa72" class="mv ky ir mr b gz na mx l my mz">// Add the custom checkbox switch to the custom checkbox element<br/>chkBox.appendChild(chkBoxSwitch)</span><span id="a4f0" class="mv ky ir mr b gz na mx l my mz">// Add the custom checkbox element to the parent label element<br/>checkboxLabel.appendChild(chkBox)</span></pre><p id="1963" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">这里你可以看到，首先，我创建了<code class="fe ob oc od mr b">&lt;div&gt;&lt;/div&gt;</code>元素，用<code class="fe ob oc od mr b">classList</code> API给它命名为<code class="fe ob oc od mr b">chkBox</code>和<code class="fe ob oc od mr b">unchecked</code>。接下来，我为切换器制作了<code class="fe ob oc od mr b">&lt;span&gt;&lt;/span&gt;</code>。</p><p id="997b" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">切换器<code class="fe ob oc od mr b">chkBoxSwitch</code>通过<code class="fe ob oc od mr b">chkBox.appendChild(chkBoxSwitch)</code>被添加到<code class="fe ob oc od mr b">chkBox</code>元素中，而<code class="fe ob oc od mr b">chkBox</code>被添加到<code class="fe ob oc od mr b">checkboxLabel</code>中，这已经在HTML中了。</p><p id="d70d" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">现在，我们的自定义复选框元素在HTML中创建了👏。</p><p id="5315" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">最后一步是在原来的复选框“hide”中添加一个类。在我们描述的CSS中，当类“hide”在带有类型复选框的输入上时，我们在<code class="fe ob oc od mr b">display: none;</code>上设置样式。如果在创建元素的过程中出现问题，最初的复选框将保持可见。</p><p id="aff9" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">最后，这是函数完成后的样子。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="8bda" class="mv ky ir mr b gz mw mx l my mz">function createCustomChkBox(checkboxEl) {<br/>    const checkboxLabel = checkboxEl.parentElement</span><span id="ad5d" class="mv ky ir mr b gz na mx l my mz">    if (!checkboxEl) {<br/>        // If the checkbox element is a falsy value<br/>        // We will cancle this function with a return statement<br/>        return<br/>    }</span><span id="4fc8" class="mv ky ir mr b gz na mx l my mz">    // Create the custom checkbox element<br/>    // Add some classes to it<br/>    const chkBox = document.createElement('div')<br/>    chkBox.classList.add('chkBox')<br/>    chkBox.classList.add('unchecked')</span><span id="b5fb" class="mv ky ir mr b gz na mx l my mz">    // Create the custom checkbox element switch<br/>    // Add a class to it<br/>    const chkBoxSwitch = document.createElement('span')<br/>    chkBoxSwitch.classList.add('chkBox--switch')</span><span id="fea7" class="mv ky ir mr b gz na mx l my mz">    // Add the custom checkbox switch to the custom checkbox element<br/>    chkBox.appendChild(chkBoxSwitch)</span><span id="a48c" class="mv ky ir mr b gz na mx l my mz">    // Add the custom checkbox element to the parent label element<br/>    checkboxLabel.appendChild(chkBox)</span><span id="3b9c" class="mv ky ir mr b gz na mx l my mz">    checkboxEl.classList.add('hide')</span><span id="8138" class="mv ky ir mr b gz na mx l my mz">    // Add a event listener to the checkbox to switch classes in the toggleCustomChkBox function<br/>    checkboxEl.addEventListener('change', (event) =&gt; toggleCustomChkBox(event, chkBox))</span><span id="503b" class="mv ky ir mr b gz na mx l my mz">}</span></pre></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><h1 id="79e6" class="kx ky ir bd kz la ni lc ld le nj lg lh jx nk jy lj ka nl kb ll kd nm ke ln lo bi translated">第四步。创建事件以更改复选框类</h1><p id="6020" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">现在我们已经创建了HTML元素，我们需要为所有的复选框创建一个事件监听器。当一个复选框被更改时，我们希望绑定到事件中。我是说，我们想知道值什么时候变了。</p><p id="4a03" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">用<code class="fe ob oc od mr b">addEventListener()</code>我们可以听“改变”事件。当复选框被选中或取消选中时，将调用change事件。</p><p id="7d60" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">当事件被调用时，当真正的复选框被设置为<code class="fe ob oc od mr b">checked</code>时，我们希望将类名“unchecked”替换为“checked”。当checked属性不再位于元素上时，它会将“checked”类名替换为“unchecked”。</p><blockquote class="oe of og"><p id="6a7f" class="lp lq oh lr b ls ml js lu lv mm jv lx oi mn ma mb oj mo me mf ok mp mi mj mk ik bi translated"><em class="ir">为调试复选框的状态，你可以随时做</em> <code class="fe ob oc od mr b"><em class="ir">console.log(event.target.checked)</em></code> <em class="ir">来查看一个</em> <code class="fe ob oc od mr b"><em class="ir">true</em></code> <em class="ir">或</em> <code class="fe ob oc od mr b"><em class="ir">false</em></code> <em class="ir">的值。</em></p></blockquote><p id="5151" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">这就是函数的形式。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="ad21" class="mv ky ir mr b gz mw mx l my mz">function toggleCustomChkBox(event, chkBox) {<br/>    if (event.target.checked) {<br/>        chkBox.classList.replace('unchecked', 'checked');<br/>    } else {<br/>        chkBox.classList.replace('checked', 'unchecked');<br/>    }<br/>}</span></pre><p id="0849" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">您可以看到，我们在第一个参数中从事件侦听器中为函数提供了对它们的引用<code class="fe ob oc od mr b">event</code>。在第二个参数中，<code class="fe ob oc od mr b">chkBox</code>我们提供了对新的自定义checkbox元素的引用。</p><p id="e82c" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">如果我们不在函数中添加这些引用，我们就不能替换类名。当我们创建一个函数时，我们创建了另一个作用域。对于JavaScript中的作用域，您可以向上查找，但不能向下查找变量引用。</p><p id="465e" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">函数中定义的变量在函数外部是不可见的。该函数保护它不受外部代码的影响。您可以通过返回这些变量来将它们的值传递到函数之外。</p></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><h2 id="0392" class="mv ky ir bd kz oo op dn ld oq or dp lh ly os ot lj mc ou ov ll mg ow ox ln oy bi translated"><strong class="ak">JavaScript中什么是作用域？</strong></h2><p id="3424" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">范围是由JavaScript函数创建。它可以保护变量不被该函数之外的代码覆盖。如果函数不能到达某个变量，可以通过参数传递，否则不能到达该变量。</p><p id="537d" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">这个简短的解释太简短了，不足以解释这一切。过去我已经创建了一个关于JavaScript作用域的完整指南，所以你可以在这里阅读。</p></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><p id="2f34" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">在前面的代码示例中，您可以看到该函数被添加到事件侦听器中。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="e53b" class="mv ky ir mr b gz mw mx l my mz">checkboxEl.addEventListener('change', (event) =&gt; toggleCustomChkBox(event, chkBox))</span></pre></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><h1 id="a859" class="kx ky ir bd kz la ni lc ld le nj lg lh jx nk jy lj ka nl kb ll kd nm ke ln lo bi translated">第五步。完成✅</h1><p id="f7d3" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated">现在，您已经拥有了使这个自定义复选框工作的一切。我会建议你尝试一下代码，看看它是如何工作的。我会鼓励你改变造型和动画，使之成为你自己的风格。</p><p id="fb42" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">但是将它付诸实践的最好方法是在您自己的项目中实现它。因为通过自己动手做东西，你会更好地记住刚刚学过的所有东西。</p><h2 id="b384" class="mv ky ir bd kz oo op dn ld oq or dp lh ly os ot lj mc ou ov ll mg ow ox ln oy bi translated">结论</h2><p id="6aeb" class="pw-post-body-paragraph lp lq ir lr b ls lt js lu lv lw jv lx ly lz ma mb mc md me mf mg mh mi mj mk ik bi translated"><em class="oh">如果你想得到下一个项目的通知？</em> <a class="ae kw" href="https://mailchi.mp/7ea77c9742bb/learn-javascript-the-easy-way" rel="noopener ugc nofollow" target="_blank"> <em class="oh">在这里订阅，我会尽快更新给你！</em> </a> <em class="oh">🤗</em></p><p id="ad4a" class="pw-post-body-paragraph lp lq ir lr b ls ml js lu lv mm jv lx ly mn ma mb mc mo me mf mg mp mi mj mk ik bi translated">当你完成项目后，请在推特上分享你的成果😁。如果你愿意，你可以使用这个示例推文！👇</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="0627" class="mv ky ir mr b gz mw mx l my mz">I have created project 2 of the "Learn JavaScript The Easy Way" program. 😁</span><span id="b44d" class="mv ky ir mr b gz na mx l my mz">[ADD LINK HERE] 🔥</span><span id="c278" class="mv ky ir mr b gz na mx l my mz">Do You Want To Learn #javascript like me? Check the link below and start for free. 🚀</span><span id="67c7" class="mv ky ir mr b gz na mx l my mz">[TODO: LINK]</span><span id="1e19" class="mv ky ir mr b gz na mx l my mz">#html #css #codenewbie #coding #frontend #developer #creativity #learnJavaScript #easyJavascript</span></pre></div><div class="ab cl nb nc hv nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ik il im in io"><h1 id="651d" class="kx ky ir bd kz la ni lc ld le nj lg lh jx nk jy lj ka nl kb ll kd nm ke ln lo bi translated">阅读更多</h1><div class="oz pa gq gs pb pc"><a href="https://betterprogramming.pub/how-promises-actually-work-in-javascript-1c80b1af7193" rel="noopener  ugc nofollow" target="_blank"><div class="pd ab fp"><div class="pe ab pf cl cj pg"><h2 class="bd is gz z fq ph fs ft pi fv fx iq bi translated">JavaScript中承诺的实际工作方式</h2><div class="pj l"><h3 class="bd b gz z fq ph fs ft pi fv fx dk translated">了解何时以及如何使用它们</h3></div><div class="pk l"><p class="bd b dl z fq ph fs ft pi fv fx dk translated">better编程. pub</p></div></div><div class="pl l"><div class="pm l pn po pp pl pq kq pc"/></div></div></a></div><div class="oz pa gq gs pb pc"><a href="https://medium.com/javascript-in-plain-english/build-a-custom-like-button-with-html-css-and-vanilla-javascript-b81fa4b00aad" rel="noopener follow" target="_blank"><div class="pd ab fp"><div class="pe ab pf cl cj pg"><h2 class="bd is gz z fq ph fs ft pi fv fx iq bi translated">用HTML、CSS和普通JavaScript构建一个自定义的Like按钮</h2><div class="pj l"><h3 class="bd b gz z fq ph fs ft pi fv fx dk translated">以最简单的方式学习JavaScript</h3></div><div class="pk l"><p class="bd b dl z fq ph fs ft pi fv fx dk translated">medium.com</p></div></div><div class="pl l"><div class="pr l pn po pp pl pq kq pc"/></div></div></a></div><div class="oz pa gq gs pb pc"><a href="https://medium.com/better-programming/setting-up-a-next-js-project-with-tailwind-css-85fcc882d0b8" rel="noopener follow" target="_blank"><div class="pd ab fp"><div class="pe ab pf cl cj pg"><h2 class="bd is gz z fq ph fs ft pi fv fx iq bi translated">使用TailWind CSS设置Next.js项目</h2><div class="pj l"><h3 class="bd b gz z fq ph fs ft pi fv fx dk translated">今天整合Tailwind和Next.js</h3></div><div class="pk l"><p class="bd b dl z fq ph fs ft pi fv fx dk translated">medium.com</p></div></div><div class="pl l"><div class="ps l pn po pp pl pq kq pc"/></div></div></a></div><div class="oz pa gq gs pb pc"><a href="https://medium.com/better-programming/how-to-build-and-deploy-a-jamstack-website-fast-with-next-js-a61df3c822f" rel="noopener follow" target="_blank"><div class="pd ab fp"><div class="pe ab pf cl cj pg"><h2 class="bd is gz z fq ph fs ft pi fv fx iq bi translated">如何使用Next.js快速构建和部署Jamstack网站</h2><div class="pj l"><h3 class="bd b gz z fq ph fs ft pi fv fx dk translated">为什么Next.js是明智的选择</h3></div><div class="pk l"><p class="bd b dl z fq ph fs ft pi fv fx dk translated">medium.com</p></div></div><div class="pl l"><div class="pt l pn po pp pl pq kq pc"/></div></div></a></div><div class="oz pa gq gs pb pc"><a href="https://medium.com/better-programming/5-development-retrospective-questions-to-have-great-discussions-aa77f96cf793" rel="noopener follow" target="_blank"><div class="pd ab fp"><div class="pe ab pf cl cj pg"><h2 class="bd is gz z fq ph fs ft pi fv fx iq bi translated">5开发回顾问题进行大讨论</h2><div class="pj l"><h3 class="bd b gz z fq ph fs ft pi fv fx dk translated">不是所有的讨论都很棒。让我们改进它们</h3></div><div class="pk l"><p class="bd b dl z fq ph fs ft pi fv fx dk translated">medium.com</p></div></div><div class="pl l"><div class="pu l pn po pp pl pq kq pc"/></div></div></a></div></div></div>    
</body>
</html>