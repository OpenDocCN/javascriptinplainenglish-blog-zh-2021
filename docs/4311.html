<html>
<head>
<title>How to Force a Page Scroll Position to the Top of the Page on Page Refresh with JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript在页面刷新时强制一个页面滚动位置到页面顶部？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-force-a-page-scroll-position-to-the-top-of-the-page-on-page-refresh-with-javascript-6ed7314157fc?source=collection_archive---------8-----------------------#2021-08-27">https://javascript.plainenglish.io/how-to-force-a-page-scroll-position-to-the-top-of-the-page-on-page-refresh-with-javascript-6ed7314157fc?source=collection_archive---------8-----------------------#2021-08-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b4cd72ec11313ad0fa542069128c17df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BhFAFCMwhlqZuYMc"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@blinky264?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marc Pell</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="929d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认情况下，页面的滚动位置在我们刷新页面后保持不变。</p><p id="03ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们希望在刷新页面时强制页面滚动到顶部。</p><p id="aa1c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将看看如何在刷新页面时强制页面滚动到顶部。</p><h1 id="42a6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">侦听beforeunload事件并使用scrollTo方法</h1><p id="ae9e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了在页面刷新时运行代码，我们可以监听<code class="fe me mf mg mh b">beforeunload</code>事件。</p><p id="39a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在<code class="fe me mf mg mh b">beforeunload</code>事件处理程序中，我们调用<code class="fe me mf mg mh b">scrollTo</code>方法在页面刷新时滚动到页面顶部。</p><p id="bb62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有下面的HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="abc7" class="mq lc iq mh b gy mr ms l mt mu">&lt;div&gt;</span><span id="659a" class="mq lc iq mh b gy mv ms l mt mu">&lt;/div&gt;</span></pre><p id="1dba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b387" class="mq lc iq mh b gy mr ms l mt mu">const div = document.querySelector('div')<br/>for (let i = 0; i &lt; 100; i++) {<br/>  const p = document.createElement('p')<br/>  p.textContent = i<br/>  div.appendChild(p)<br/>}</span><span id="9e4f" class="mq lc iq mh b gy mv ms l mt mu">window.onbeforeunload = () =&gt; {<br/>  window.scrollTo(0, 0);<br/>}</span></pre><p id="dd0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用<code class="fe me mf mg mh b">document.createElement</code>方法和<code class="fe me mf mg mh b">appenndChild</code>方法在div中添加一些元素。</p><p id="599b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将<code class="fe me mf mg mh b">window.onbeforeunload</code>属性设置为一个用0和0调用<code class="fe me mf mg mh b">window.scrollTo</code>的函数，以滚动到顶部。</p><p id="9160" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，当我们刷新页面时，我们滚动到页面的顶部。</p><h1 id="37c7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="811a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">当我们刷新页面时，我们可以通过使用监听器监听<code class="fe me mf mg mh b">beforeunload</code>事件并调用<code class="fe me mf mg mh b">scrollTo</code> ibn事件监听器来强制页面滚动到顶部。</p><p id="d59d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>