<html>
<head>
<title>Get Yourself a Sweet React NavBar ğŸ«</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç»™è‡ªå·±ä¸€ä¸ªç”œèœœçš„ååº”å¯¼èˆªæ¡ğŸ«</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/get-yourself-a-sweet-react-navbar-853d5fb2de52?source=collection_archive---------7-----------------------#2021-06-20">https://javascript.plainenglish.io/get-yourself-a-sweet-react-navbar-853d5fb2de52?source=collection_archive---------7-----------------------#2021-06-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/6dda14210178985900ac8f11a6fe8318.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uDFXVlyPtHF-jELu.jpg"/></div></div></figure><p id="a162" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å½“åˆ›å»ºç½‘é¡µæ—¶ï¼Œæˆ‘æ€»æ˜¯å…ˆåœ¨å¯¼èˆªæ ä¸Šå·¥ä½œã€‚è¿™æ˜¯ä¸ºäº†ç¡®ä¿æˆ‘å¯ä»¥å¤„ç†ä»»ä½•æ½œåœ¨çš„è·¯çº¿ï¼Œå¹¶ä»ä¸Šåˆ°ä¸‹è®¾è®¡é¡µé¢ã€‚åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘å°†ä»‹ç»ä¸€ç§ç®€æ´çš„æ–¹å¼ï¼Œä½ å¯ä»¥ç”¨ä¸€ç‚¹æ¶ˆå¤±(å’Œå‡ºç°)çš„åŠ¨ä½œæ¥è®¾è®¡ä¸€ä¸ªæ›´ç°ä»£çš„å¯¼èˆªæ¡ï¼</p><h2 id="439f" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">ç»ç’ƒæ€å°„ğŸ‘“</h2><figure class="ln lo lp lq gt jo gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/d096ad21f2a77d4a66e3aa4d0e1059ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/0*5S1q0dw_RiTjhdiG.gif"/></div></figure><p id="bb12" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å‡†å¤‡å¥½è·ƒå…¥æœªæ¥çš„è®¾è®¡ä¸ä¸€äº›ç»ç’ƒå½¢æ€çš„å¸å¼•åŠ›ï¼</p><p id="f8b6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç°ä»£è®¾è®¡çš„è¶‹åŠ¿æ˜¯ç»ç’ƒå˜å½¢ï¼Œæˆ–è€…æ¢å¥è¯è¯´ï¼Œç£¨ç ‚ç»ç’ƒå¤–è§‚åœ¨è®¸å¤šé¢†å…ˆçš„ç”¨æˆ·ç•Œé¢ä¸­å¾ˆæµè¡Œã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªæ•ˆæœï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªCSSæŠ€å·§â€” <code class="fe lr ls lt lu b">backdrop-filter</code>ã€‚</p><p id="4d91" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¸‹é¢çš„ä»£ç æ˜¾ç¤ºäº†æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„CSSå±æ€§å’Œè¿‡æ»¤å™¨:</p><pre class="ln lo lp lq gt lv lu lw lx aw ly bi"><span id="7e2f" class="kt ku in lu b gy lz ma l mb mc">backdrop-filter: blur(20px)</span></pre><p id="33a3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å°±è¿™ä¹ˆç®€å•ï¼æˆ‘ä»¬ä½¿ç”¨æ¨¡ç³Šæ¥åˆ›å»ºç£¨ç ‚ç»ç’ƒå¤–è§‚ï¼Œå¹¶è°ƒæ•´åƒç´ æ¥è·å¾—æˆ‘ä»¬æƒ³è¦çš„æ¨¡ç³Šæ•ˆæœã€‚</p><h2 id="4d80" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">ç°åœ¨ä½ çœ‹è§æˆ‘äº†ï¼Œç°åœ¨ä½ çœ‹ä¸è§äº†ï¼âœ¨</h2><p id="7d7a" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">å¦‚æœä½ æƒ³è®©ç”¨æˆ·ä½“éªŒä½ çš„ç½‘ç«™æˆ–ç½‘ç»œåº”ç”¨ç¨‹åºï¼Œè€Œæ²¡æœ‰ä»»ä½•å¯¼èˆªæ¡é˜»æŒ¡æ½œåœ¨çš„å®Œæ•´è§†å›¾ï¼Œé‚£ä¹ˆè¿™æ˜¯ä½ æœ€å¥½çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼</p><p id="83f3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ‘ä»¬æƒ³è¦åˆ›å»ºä¸€ä¸ªå¯¼èˆªæ¡ï¼Œå®ƒåœ¨å‘ä¸‹æ»šåŠ¨æ—¶æ¶ˆå¤±ï¼Œåœ¨å‘ä¸Šæ»šåŠ¨æ—¶å‡ºç°ã€‚æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ä¸€äº›æ™®é€šçš„JavaScriptå’ŒReacté’©å­æ¥å®ç°è¿™ä¸€ç‚¹ã€‚</p><p id="36d8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥<code class="fe lr ls lt lu b">useState</code>å’Œ<code class="fe lr ls lt lu b">useEffect</code>ï¼Œå¹¶è®¾ç½®å¦‚ä¸‹æ‰€ç¤ºçš„çŠ¶æ€:</p><pre class="ln lo lp lq gt lv lu lw lx aw ly bi"><span id="cdaf" class="kt ku in lu b gy lz ma l mb mc">import React, { useState, useEffect } from 'react';<br/>import '../../styling/navbar.css';</span><span id="e89a" class="kt ku in lu b gy mi ma l mb mc"><br/>const NavBar = () =&gt; {  <br/>  const [prevScrollPos, setPrevScrollPos] = useState(0);  <br/>  const [visible, setVisibile] = useState(0);</span><span id="414f" class="kt ku in lu b gy mi ma l mb mc">  return (<br/>    ...<br/>  )</span><span id="650a" class="kt ku in lu b gy mi ma l mb mc">}</span></pre><p id="5246" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç„¶åæˆ‘ä»¬æ·»åŠ ä¸€äº›æ ·å¼æ¥åˆ›å»ºä¸€ä¸ªnavbaræ¶ˆå¤±æ—¶çš„å¹³æ»‘è¿‡æ¸¡ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ä¸»navbar divï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="ln lo lp lq gt lv lu lw lx aw ly bi"><span id="b71a" class="kt ku in lu b gy lz ma l mb mc">import React, { useState, useEffect } from 'react';<br/>import '../../styling/navbar.css';<br/></span><span id="b424" class="kt ku in lu b gy mi ma l mb mc">const NavBar = () =&gt; {  <br/>  const [prevScrollPos, setPrevScrollPos] = useState(0);  <br/>  const [visible, setVisibile] = useState(0);</span><span id="b124" class="kt ku in lu b gy mi ma l mb mc">  const navbarStyles = { transition: 'top 0.6s' }</span><span id="c21e" class="kt ku in lu b gy mi ma l mb mc">  return (<br/>    &lt;div className='nav-bar' style={{ ...navbarStyles, top: visible ? '0' : '-100px' }}&gt;<br/>    ...<br/>  )</span><span id="7dc2" class="kt ku in lu b gy mi ma l mb mc">}</span></pre><p id="d4ee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ ¹æ®å¯¼èˆªæ¡çš„é•¿åº¦ï¼Œæ‚¨å°†åœ¨ä¸‰å…ƒè¿ç®—ç¬¦ä¸­ç›¸åº”åœ°è°ƒæ•´falsyå€¼ã€‚ç”±äºæˆ‘åˆ›å»ºçš„å¯¼èˆªæ¡æ˜¯<code class="fe lr ls lt lu b">100px</code>ï¼Œæˆ‘å·²ç»å°†å®ƒè®¾ç½®ä¸º<code class="fe lr ls lt lu b">-100px</code>ï¼Œä»¥ä¾¿åœ¨å‘ä¸‹æ»šåŠ¨æ—¶å®Œå…¨éšè—å¯¼èˆªæ¡ã€‚</p><h2 id="68ec" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">å»æŠ–â›¹ğŸ¼</h2><p id="6e24" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">ä¸ºäº†åˆ›å»ºæˆ‘ä»¬é…·çš„å¯¼èˆªæ¡åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªç”¨æ™®é€šjsç¼–å†™çš„åŠ©æ‰‹æ–¹æ³•ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†æŠŠå®ƒå¯¼å…¥åˆ°æˆ‘ä»¬çš„<code class="fe lr ls lt lu b">NavBar</code>ç»„ä»¶ä¸­åŠ ä»¥åˆ©ç”¨ã€‚ä¸‹é¢æ˜¯helperæ–¹æ³•çš„ä»£ç :</p><pre class="ln lo lp lq gt lv lu lw lx aw ly bi"><span id="1994" class="kt ku in lu b gy lz ma l mb mc">export function debounce(func, wait, immediate) { <br/>  let timeout; <br/>  return function() {  <br/>    let context = this, args = arguments;  <br/>    let later = function() {   <br/>      timeout = null;   <br/>      if (!immediate) func.apply(context, args);  <br/>    };  <br/>    let callNow = immediate &amp;&amp; !timeout;  <br/>    clearTimeout(timeout);  <br/>    timeout = setTimeout(later, wait);  <br/>    if (callNow) func.apply(context, args); <br/>  };<br/>};</span></pre><h2 id="9da2" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">å›è¿‡ç¥æ¥ğŸƒğŸ½</h2><p id="030d" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºæˆ‘ä»¬çš„<code class="fe lr ls lt lu b">handleScroll</code>å‡½æ•°ï¼Œä½¿ç”¨<code class="fe lr ls lt lu b">debounce</code>ä½œä¸ºå‚æ•°ï¼Œä½¿ç”¨<code class="fe lr ls lt lu b">useEffect</code>æ¥ç®¡ç†å‡ºç°å’Œæ¶ˆå¤±è¡Œä¸º:</p><pre class="ln lo lp lq gt lv lu lw lx aw ly bi"><span id="6d26" class="kt ku in lu b gy lz ma l mb mc">import React, { useState, useEffect } from 'react';<br/>import { debounce } from '../../utilities/helpers;<br/>import '../../styling/navbar.css';<br/></span><span id="a4c3" class="kt ku in lu b gy mi ma l mb mc">const NavBar = () =&gt; {  <br/>  const [prevScrollPos, setPrevScrollPos] = useState(0);  <br/>  const [visible, setVisibile] = useState(0);</span><span id="f76e" class="kt ku in lu b gy mi ma l mb mc">  const navbarStyles = { transition: 'top 0.6s' }</span><span id="859c" class="kt ku in lu b gy mi ma l mb mc">  const handleScroll = debounce(() =&gt; {<br/>    const currentScrollPos = window.pageYOffset;<br/>    setVisibile((prevScrollPos &gt; currentScrollPos &amp;&amp; prevScrollPos - currentScrollPos &gt; 70) || currentScrollPos &lt; 10);<br/>    setPrevScrollPos(currentScrollPos);  <br/>  }, 100)</span><span id="f935" class="kt ku in lu b gy mi ma l mb mc">  useEffect(() =&gt; {    <br/>    window.addEventListener('scroll', handleScroll);    <br/>    return () =&gt; window.removeEventListener('scroll', handleScroll);<br/>  }, [prevScrollPos, visible, handleScroll]);</span><span id="b5e2" class="kt ku in lu b gy mi ma l mb mc">  return (<br/>    &lt;div className='nav-bar' style={{ ...navbarStyles, top: visible ? '0' : '-100px' }}&gt;<br/>    ...<br/>  )</span><span id="b778" class="kt ku in lu b gy mi ma l mb mc">}</span></pre><p id="c5ed" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">åœ¨æˆ‘ä»¬çš„<code class="fe lr ls lt lu b">handleScroll</code>å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬çš„æ»šåŠ¨ä½ç½®ä¸ä¹‹å‰çš„æ»šåŠ¨ä½ç½®è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶ç»™å‡ºæˆ‘ä»¬å¸Œæœ›å¯¼èˆªæ¡ä½•æ—¶å‡ºç°å’Œæ¶ˆå¤±çš„æŒ‡é’ˆã€‚åœ¨æˆ‘ä»¬çš„<code class="fe lr ls lt lu b">useEffect</code>å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®åœ¨<code class="fe lr ls lt lu b">handleScroll</code>ä¸­è¡¨è¾¾çš„æ»šåŠ¨æ–¹å‘ï¼Œå¯»æ‰¾ä»»ä½•æ»šåŠ¨ä»¥åŠå¯¼èˆªæ¡æ˜¯å¦å¯è§ã€‚</p><p id="9bd5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ‘å¸Œæœ›è¿™ä¸ªå°åšå®¢èƒ½åœ¨è®¾è®¡ä½ è‡ªå·±çš„å¯¼èˆªæ¡æ—¶æœ‰æ‰€å¸®åŠ©ï¼Œå¹¶ç»™ä½ çš„ç½‘ç«™å’Œ/æˆ–ç½‘ç»œåº”ç”¨ç¨‹åºå¸¦æ¥æ›´å¤šçš„å‘³é“ï¼</p><p id="e44d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mj">æ›´å¤šå†…å®¹å°½åœ¨</em><a class="ae mk" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mj">plain English . io</em></a></p></div></div>    
</body>
</html>