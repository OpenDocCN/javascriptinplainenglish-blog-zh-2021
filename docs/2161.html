<html>
<head>
<title>How to Merge Properties of Two JavaScript Objects Dynamically</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何动态合并两个JavaScript对象的属性</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-merge-properties-of-two-javascript-objects-dynamically-2329bc928a72?source=collection_archive---------14-----------------------#2021-05-06">https://javascript.plainenglish.io/how-to-merge-properties-of-two-javascript-objects-dynamically-2329bc928a72?source=collection_archive---------14-----------------------#2021-05-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a8f05b612fdc02173ad9e4b0dfee5df5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*namcRuo4iChmvTxr"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@supa_95?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sebastian Schuppik</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c44b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript对象具有动态属性。</p><p id="b75c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着我们可以动态合并两个JavaScript对象的属性。</p><p id="0428" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个经常做的手术。</p><p id="c66b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何动态合并两个JavaScript对象的属性。</p><h1 id="a13f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">传播算子</h1><p id="a980" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">从ES2018开始，扩展操作符可用于对象。</p><p id="c469" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它让我们可以轻松地将两个对象的属性合并在一起。</p><p id="886f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="cdcc" class="mn lc iq mj b gy mo mp l mq mr">const obj1 = {<br/>  a: 1<br/>}<br/>const obj2 = {<br/>  b: 2<br/>}<br/>const merged = {<br/>  ...obj1,<br/>  ...obj2<br/>};</span></pre><p id="fb9b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">扩展操作符是3个点。</p><p id="a010" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它按照写入的顺序从<code class="fe ms mt mu mj b">obj1</code>和<code class="fe ms mt mu mj b">obj2</code>复制属性。</p><p id="ba2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe ms mt mu mj b">merged</code>就是<code class="fe ms mt mu mj b">{a: 1, b: 2}</code>。</p><p id="9389" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果两个对象具有相同的属性，则最后一个合并的对象的值会覆盖之前的值。</p><p id="6f88" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d970" class="mn lc iq mj b gy mo mp l mq mr">const obj1 = {<br/>  a: 1<br/>}<br/>const obj2 = {<br/>  a: 2<br/>}<br/>const merged = {<br/>  ...obj1,<br/>  ...obj2<br/>};</span></pre><p id="7dcf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe ms mt mu mj b">merged</code>就是<code class="fe ms mt mu mj b">{a: 2}</code>。</p><h1 id="c6f6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">对象.分配</h1><p id="2846" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe ms mt mu mj b">Object.assign</code>方法还让我们将两个对象组合在一起，并返回一个合并的对象作为结果。</p><p id="e404" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5f81" class="mn lc iq mj b gy mo mp l mq mr">const obj1 = {<br/>  a: 1<br/>}<br/>const obj2 = {<br/>  b: 2<br/>}<br/>const merged = Object.assign(obj1, obj2);</span></pre><p id="4dfb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe ms mt mu mj b">merged</code>就是<code class="fe ms mt mu mj b">{a: 1, b: 2}</code>。</p><p id="9e93" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个论点中的对象是突变。</p><p id="73ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，如果我们想返回一个具有两个对象属性的新对象，而不改变它们，我们传入一个空数组作为第一个参数:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6cf9" class="mn lc iq mj b gy mo mp l mq mr">const obj1 = {<br/>  a: 1<br/>}<br/>const obj2 = {<br/>  b: 2<br/>}<br/>const merged = Object.assign({}, obj1, obj2);</span></pre><p id="9269" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">Object.assign</code>从ES6开始提供</p><h1 id="aeb9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">for-in循环</h1><p id="9604" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果以上两种方法都不可用，那么我们可以使用<code class="fe ms mt mu mj b">for-in</code>循环作为最后的手段。</p><p id="f844" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是绝对不推荐的，因为上面的两个选项已经存在好几年了。</p><p id="9330" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而且它们更加简单易用。</p><p id="6129" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是如果我们需要使用<code class="fe ms mt mu mj b">for-in</code>循环，我们写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="fbdb" class="mn lc iq mj b gy mo mp l mq mr">const obj1 = {<br/>  a: 1<br/>}<br/>const obj2 = {<br/>  b: 2<br/>}</span><span id="f3d5" class="mn lc iq mj b gy mv mp l mq mr">const merged = {}<br/>for (const prop in obj1) {<br/>  merged[prop] = obj1[prop];<br/>}</span><span id="bed7" class="mn lc iq mj b gy mv mp l mq mr">for (const prop in obj2) {<br/>  merged[prop] = obj2[prop];<br/>}</span></pre><p id="9ebc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe ms mt mu mj b">for-in</code>循环<code class="fe ms mt mu mj b"> </code>遍历<code class="fe ms mt mu mj b">obj1</code>和<code class="fe ms mt mu mj b">obj2</code>的所有属性，并将所有属性值放入<code class="fe ms mt mu mj b">merged</code>对象。</p><p id="d5ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">prop</code>有属性名。</p><p id="01e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以<code class="fe ms mt mu mj b">merged</code>是:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="a618" class="mn lc iq mj b gy mo mp l mq mr">{a: 1, b: 2}</span></pre><h1 id="1a75" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="0b79" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用扩展操作符和<code class="fe ms mt mu mj b">Object.assign</code>将不同对象的属性合并到一个对象中。</p><p id="ab86" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>