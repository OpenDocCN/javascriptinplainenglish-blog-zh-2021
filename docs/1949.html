<html>
<head>
<title>How to Create A React Datepicker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建一个反应日期选择器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-react-datepicker-c2fd3ef11369?source=collection_archive---------12-----------------------#2021-04-23">https://javascript.plainenglish.io/how-to-create-a-react-datepicker-c2fd3ef11369?source=collection_archive---------12-----------------------#2021-04-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d39db3cce6b1dc290b1630c4ad359dda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tvFIO_23doApzX7xyOdEjg.png"/></div></div></figure><p id="4663" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">想象一下。</p><p id="371c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">客户可以选择约会日期和时间的表单。</p><p id="b995" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">无需来回发送电子邮件，只需客户自己选择的预设预约时间。</p><p id="632b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">输入React datepicker <a class="ae kw" href="https://flatpickr.js.org/" rel="noopener ugc nofollow" target="_blank"> Flatpikr </a>。</p><h1 id="c20b" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">什么是Flatpickr？</strong></h1><p id="396e" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">Flatpickr是一个轻量级、UX驱动的JavaScript库，兼容Angular、Vue、Ember和React。</p><p id="a2a3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它是其他日期时间库的一小部分，并且在IE9、Edge、Chrome、Safari和Firefox浏览器上受支持。</p><p id="17cd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">功能包括:</p><ul class=""><li id="a0d4" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated">日期/时间输入</li><li id="f08c" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">8个彩色主题</li><li id="a2af" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">人性化的形式</li><li id="2364" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">禁用日期范围和时间</li></ul><h1 id="23cb" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">如何创建一个React datepicker </strong></h1><ol class=""><li id="c1d4" class="ma mb iq ka b kb lv kf lw kj mo kn mp kr mq kv mr mg mh mi bi translated">创建您的React应用程序</li><li id="baac" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mr mg mh mi bi translated">安装<code class="fe ms mt mu mv b">react-flatpickr</code></li><li id="0089" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mr mg mh mi bi translated">在你的应用中导入Flatpickr</li><li id="039c" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mr mg mh mi bi translated">导入Flatpickr主题</li><li id="37be" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mr mg mh mi bi translated">添加一个<code class="fe ms mt mu mv b">constructor()</code>方法</li><li id="ce2c" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mr mg mh mi bi translated">添加一个<code class="fe ms mt mu mv b">render()</code>方法</li><li id="716b" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mr mg mh mi bi translated">将状态变量传递给Flatpickr组件</li><li id="fa2d" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mr mg mh mi bi translated">添加一个<code class="fe ms mt mu mv b">OnChange()</code>事件挂钩</li><li id="a5e9" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mr mg mh mi bi translated">反应FlatPickr格式</li></ol></div><div class="ab cl mw mx hu my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ij ik il im in"><h1 id="e250" class="kx ky iq bd kz la nd lc ld le ne lg lh li nf lk ll lm ng lo lp lq nh ls lt lu bi translated"><strong class="ak">创建您的React应用</strong></h1><p id="6f2f" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated"><em class="ni"> Windows命令提示符</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="bcd6" class="nr ky iq mv b gy ns nt l nu nv">C:\Users\Owner\desktop\react&gt; npx create-react-app react-example<br/><br/>C:\Users\Owner\desktop\react&gt; cd react-example<br/><br/>C:\Users\Owner\desktop\react\react-example&gt; npm start</span></pre><p id="cfd6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，如果你还没有创建你的<a class="ae kw" href="../../../blog/article/reactjs-beginners-tutorial" rel="noopener ugc nofollow" target="_blank"> React应用</a>。</p><p id="6b9b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">在浏览器中打开React应用</strong></p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nw"><img src="../Images/23c27ab8d843d201a524f97ddc3e80bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_DY2fyesPNMYQnA2.PNG"/></div></div></figure><p id="9e65" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">运行开发服务器，查看React应用程序在开发服务器上的运行情况。</p><h1 id="566a" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">配置React文件</strong></h1><p id="3efa" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;index . js(更新)</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="926e" class="nr ky iq mv b gy ns nt l nu nv">import React from 'react';<br/>import ReactDOM from 'react-dom';<br/>import App from './App';<br/><br/><br/>ReactDOM.render(&lt;App /&gt;, document.getElementById('root'))</span></pre><p id="e71b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;app . js(更新)</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="b72e" class="nr ky iq mv b gy ns nt l nu nv">import React, { Component } from 'react';<br/><br/>class App extends Component {<br/>  render() {<br/>    return (<br/>      &lt;div className="App"&gt;<br/>        <br/>        &lt;h1&gt;Hello World&lt;/h1&gt;<br/>        <br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>       <br/>}<br/><br/>export default App;</span></pre><p id="4ac4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您还没有配置React应用程序，请进行配置。</p><p id="cf76" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">删除</strong>src文件中除<em class="ni"> index.js </em>和<em class="ni"> App.js </em>文件以外的所有内容。然后添加一个基本的类组件。</p><h1 id="54f1" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">安装React日期选择器</strong></h1><p id="6a23" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated"><strong class="ka ir">安装Flatpickr </strong></p><p id="8c0f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni"> Windows命令提示符</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="e829" class="nr ky iq mv b gy ns nt l nu nv">(command + C)<br/>Terminate batch job (Y/N)? y<br/><br/>C:\Users\Owner\desktop\react\react-example&gt; npm install react-flatpickr<br/><br/>C:\Users\Owner\desktop\react\react-example&gt; npm start</span></pre><p id="3693" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">终止批处理作业，然后安装<code class="fe ms mt mu mv b">react-flatpickr</code>包，链接的<a class="ae kw" href="https://github.com/haoxins/react-flatpickr" rel="noopener ugc nofollow" target="_blank"> React flatpickr </a>来自官方<a class="ae kw" href="https://github.com/flatpickr/flatpickr" rel="noopener ugc nofollow" target="_blank"> flatpickr Github库</a>。</p><p id="5c08" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装完成后，再次运行服务器。</p><h1 id="4b34" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">配置React日期选择器</strong></h1><p id="ebe5" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated"><strong class="ka ir">导入Flatpickr </strong></p><p id="ae10" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;app . js</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="a0a2" class="nr ky iq mv b gy ns nt l nu nv">import React, { Component } from 'react';<br/>import Flatpickr from "react-flatpickr";<br/><br/><br/>class App extends Component {<br/>  render() {<br/>    return (<br/>      &lt;div className="App"&gt;<br/>        <br/>        &lt;h1&gt;Hello World&lt;/h1&gt;<br/>        <br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>       <br/>}<br/><br/>export default App;</span></pre><p id="82a3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从页面顶部导入<code class="fe ms mt mu mv b">Flatpickr from "react-flatpickr"</code>开始。</p><p id="152f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">载入你选择的flat pickr CSS</strong></p><p id="bf7e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;app . js</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="1adb" class="nr ky iq mv b gy ns nt l nu nv">import React, { Component } from 'react';<br/>import Flatpickr from "react-flatpickr";<br/>import "flatpickr/dist/themes/material_green.css";<br/><br/>class App extends Component {<br/>  render() {<br/>    return (<br/>      &lt;div className="App"&gt;<br/>        <br/>        &lt;h1&gt;Hello World&lt;/h1&gt;<br/>        <br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>       <br/>}<br/><br/>export default App;</span></pre><p id="6bd6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，导入您选择的CSS文件。这些选项包括:</p><ul class=""><li id="1515" class="ma mb iq ka b kb kc kf kg kj mc kn md kr me kv mf mg mh mi bi translated">material_green.css</li><li id="136a" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">material_blue.css</li><li id="84ac" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">material_red.css</li><li id="980b" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">material_orange.css</li><li id="4f26" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">dark.css</li><li id="df14" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">airbnb.css</li><li id="f0f8" class="ma mb iq ka b kb mj kf mk kj ml kn mm kr mn kv mf mg mh mi bi translated">五彩纸屑</li></ul><p id="19a5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">添加构造函数()方法</strong></p><p id="9143" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;app . js</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="77b5" class="nr ky iq mv b gy ns nt l nu nv">import React, { Component } from 'react';<br/>import Flatpickr from 'react-flatpickr';<br/>import "flatpickr/dist/themes/material_green.css";<br/><br/>class App extends Component {<br/>  constructor() {<br/>    super();<br/><br/>    this.state = {<br/>      date: new Date()<br/>    };<br/>  }<br/><br/>  <br/>  render() {<br/>    return (<br/>      &lt;div className="App"&gt;<br/>        <br/>        &lt;h1&gt;Some Text&lt;/h1&gt;<br/>        <br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>       <br/>}<br/><br/>export default App;</span></pre><p id="8a30" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在在<code class="fe ms mt mu mv b">render()</code>方法之前添加一个<code class="fe ms mt mu mv b">constructor()</code>方法。</p><p id="fb98" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni"/><code class="fe ms mt mu mv b"><em class="ni">constructor()</em></code><em class="ni">法是什么？</em></p><p id="60b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个<code class="fe ms mt mu mv b">constructor()</code>方法初始化一个在类组件中创建的对象。</p><p id="9667" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在组件的<code class="fe ms mt mu mv b">constructor()</code>方法中调用<code class="fe ms mt mu mv b">super()</code>。</p><p id="f8ce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">什么是</em> <code class="fe ms mt mu mv b"><em class="ni">super()</em></code> <em class="ni">法？</em></p><p id="2b11" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe ms mt mu mv b">super()</code>让我们可以访问父组件，现在我们可以使用<code class="fe ms mt mu mv b">this</code>。</p><p id="ce96" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">什么是</em> <code class="fe ms mt mu mv b"><em class="ni">this.state</em></code> <em class="ni">？</em></p><p id="25db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe ms mt mu mv b">this.state</code>是渲染值(即当前屏幕上的内容)。</p><p id="c9d0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我们将创建一个等于<code class="fe ms mt mu mv b">new Date()</code>的状态变量<code class="fe ms mt mu mv b">date</code>。</p><p id="faa5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">什么是</em> <code class="fe ms mt mu mv b"><em class="ni">new Date()</em></code> <em class="ni">？</em></p><p id="cd34" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe ms mt mu mv b">new Date()</code>作为JavaScript构造函数调用时，返回当前日期和时间的新字符串表示。</p><p id="3882" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">添加常量变量</strong></p><p id="8475" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;app . js</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="d53d" class="nr ky iq mv b gy ns nt l nu nv">import React, { Component } from 'react';<br/>import Flatpickr from 'react-flatpickr';<br/>import "flatpickr/dist/themes/material_green.css";<br/><br/>class App extends Component {<br/>  constructor() {<br/>    super();<br/><br/>    this.state = {<br/>      date: new Date()<br/>    };<br/>  }<br/><br/>  <br/>  render() {<br/>    const { date } = this.state;<br/>    return (<br/>      &lt;div className="App"&gt;<br/>        <br/>        &lt;h1&gt;Some Text&lt;/h1&gt;<br/>        <br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>       <br/>}<br/><br/>export default App;</span></pre><p id="82db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在转到<code class="fe ms mt mu mv b">render()</code>方法，将<code class="fe ms mt mu mv b">const { date }</code>设置为<code class="fe ms mt mu mv b">this.state</code>，首先在<code class="fe ms mt mu mv b">constructor()</code>中初始化。</p><p id="3347" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">什么是</em> <code class="fe ms mt mu mv b"><em class="ni">const</em></code> <em class="ni">变量？</em></p><p id="1275" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe ms mt mu mv b">const</code>变量是对一个值的常量引用。该值是一个原始值，不能因为被赋值为常数而改变。</p><p id="7948" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">将状态变量传递给Flatpickr </strong></p><p id="1eac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;app . js</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="a92a" class="nr ky iq mv b gy ns nt l nu nv">import React, { Component } from 'react';<br/>import Flatpickr from 'react-flatpickr';<br/>import "flatpickr/dist/themes/material_green.css";<br/><br/>class App extends Component {<br/>  constructor() {<br/>    super();<br/><br/>    this.state = {<br/>      date: new Date()<br/>    };<br/>  }<br/><br/>  <br/>  render() {<br/>    const { date } = this.state;<br/>    return (<br/>      &lt;Flatpickr<br/>        data-enable-time<br/>        value={date}<br/>        onChange={date =&gt; {<br/>          this.setState({ date });<br/>        }}<br/>      /&gt;<br/>    );<br/>  }<br/>}<br/><br/>export default App;</span></pre><p id="aab2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们可以将状态变量<code class="fe ms mt mu mv b">date</code>作为<code class="fe ms mt mu mv b">value</code>传递给子组件Flatpickr。</p><p id="cfdd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们还将添加一个<code class="fe ms mt mu mv b">OnChange</code>事件挂钩，它将使用箭头函数传递参数<code class="fe ms mt mu mv b">date</code>。</p><p id="8e9f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">什么是</em> <code class="fe ms mt mu mv b"><em class="ni">OnChange</em></code> <em class="ni">钩？</em></p><p id="7c53" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当用户选择日期或更改时间时，触发<code class="fe ms mt mu mv b">OnChange</code>事件挂钩。</p><p id="4106" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">什么是</em> <code class="fe ms mt mu mv b"><em class="ni">setState</em></code> <em class="ni">？</em></p><p id="2432" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe ms mt mu mv b">setState()</code>方法改变组件状态，告诉React用更新后的状态重新渲染组件和子组件。</p><h1 id="7e13" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">在浏览器中查看React日期时间选择器</strong></h1><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/4412a1cac9f6c8b32d676bf50cfea256.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/0*QRs2Pp0sQiCPO7vA.png"/></div></figure><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/b275b2b052bc4c7ebfe882e1bb1ea70a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/0*HjjZwsbz1BYT7D2V.png"/></div></figure><p id="d14f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">是时候在浏览器中看到我们的工作了。</p><p id="8477" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">重新加载页面，嘣！</p><p id="0d7b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您将看到带有当前日期和时间的输入。</p><p id="7bc1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在点击输入。</p><p id="c296" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">应该会出现一个带有日期和时间选项的日历。</p><p id="ad91" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以更改日期和时间。</p><h1 id="e41e" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">附加的React Datepicker选项</strong></h1><p id="41bf" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">现在来看定制选项。</p><p id="3c92" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> React Flatpickr: minDate </strong></p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/86e692083a0bbe843323799ba3bd6494.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/0*E6pQBhYFRct4u-rE.png"/></div></figure><p id="0da6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;app . js</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="cdd9" class="nr ky iq mv b gy ns nt l nu nv">import React, { Component } from 'react';<br/>import Flatpickr from 'react-flatpickr';<br/>import "flatpickr/dist/themes/material_green.css";<br/><br/>class App extends Component {<br/>  constructor() {<br/>    super();<br/><br/>    this.state = {<br/>      date: new Date()<br/>    };<br/>  }<br/><br/>  <br/>  render() {<br/>    const { date } = this.state;<br/>    return (<br/>      &lt;Flatpickr<br/>        data-enable-time<br/>        value={date}<br/>        options={{<br/>              minDate: 'today',<br/>            }}<br/>        onChange={date =&gt; {<br/>          this.setState({ date });<br/>        }}<br/>      /&gt;<br/>    );<br/>  }<br/>}<br/><br/>export default App;</span></pre><p id="b162" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将最小日期设置为“今天”，这样就没有人能够选择已经发生的约会日期。</p><p id="cf95" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> React Flatpickr: minTime </strong></p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/01f1b8eb63339470db0341c13a375155.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/0*oZLd4K6Bf9q58X0o.png"/></div></figure><p id="b6e9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;app . js</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="599f" class="nr ky iq mv b gy ns nt l nu nv">import React, { Component } from 'react';<br/>import Flatpickr from 'react-flatpickr';<br/>import "flatpickr/dist/themes/material_green.css";<br/><br/>class App extends Component {<br/>  constructor() {<br/>    super();<br/><br/>    this.state = {<br/>      date: new Date()<br/>    };<br/>  }<br/><br/>  <br/>  render() {<br/>    const { date } = this.state;<br/>    return (<br/>      &lt;Flatpickr<br/>        data-enable-time<br/>        value={date}<br/>        options={{<br/>              minTime: "08:00",<br/>            }}<br/>        onChange={date =&gt; {<br/>          this.setState({ date });<br/>        }}<br/>      /&gt;<br/>    );<br/>  }<br/>}<br/><br/>export default App;</span></pre><p id="1c6a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">设置最小时间，这样任何人都不能选择办公时间之前的时间。这需要在军事时间串集。</p><p id="8845" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> React Flatpickr: maxTime </strong></p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/577954d5e6e7564d89c6a32bbf49e71c.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/0*1-PsD8oXKJbDo3TA.png"/></div></figure><p id="d746" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;app . js</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="d14a" class="nr ky iq mv b gy ns nt l nu nv">import React, { Component } from 'react';<br/>import Flatpickr from 'react-flatpickr';<br/>import "flatpickr/dist/themes/material_green.css";<br/><br/>class App extends Component {<br/>  constructor() {<br/>    super();<br/><br/>    this.state = {<br/>      date: new Date()<br/>    };<br/>  }<br/><br/>  <br/>  render() {<br/>    const { date } = this.state;<br/>    return (<br/>      &lt;Flatpickr<br/>        data-enable-time<br/>        value={date}<br/>        options={{<br/>              maxTime: "17:00",<br/>            }}<br/>        onChange={date =&gt; {<br/>          this.setState({ date });<br/>        }}<br/>      /&gt;<br/>    );<br/>  }<br/>}<br/><br/>export default App;</span></pre><p id="728d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">设置一个最大时间，这样就没有人可以选择下班后的时间。</p><p id="2ccd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">React flat pickr:altFormat</strong></p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/a02723d7a7d0d3c3e0ca22efacb02049.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/0*o6A3OcNLyKjs_FU8.png"/></div></figure><p id="160b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;app . js</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="9183" class="nr ky iq mv b gy ns nt l nu nv">import React, { Component } from 'react';<br/>import Flatpickr from 'react-flatpickr';<br/>import "flatpickr/dist/themes/material_green.css";<br/><br/>class App extends Component {<br/>  constructor() {<br/>    super();<br/><br/>    this.state = {<br/>      date: new Date()<br/>    };<br/>  }<br/><br/>  <br/>  render() {<br/>    const { date } = this.state;<br/>    return (<br/>      &lt;Flatpickr<br/>        data-enable-time<br/>        value={date}<br/>        options={{<br/>              altFormat: "m/d/Y h:i K",<br/>              altInput:true,<br/>            }}<br/>        onChange={date =&gt; {<br/>          this.setState({ date });<br/>        }}<br/>      /&gt;<br/>    );<br/>  }<br/>}<br/><br/>export default App;</span></pre><p id="a27c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在设置一种更便于客户阅读的替代格式。更多日期/时间格式见<a class="ae kw" href="https://flatpickr.js.org/formatting/" rel="noopener ugc nofollow" target="_blank">格式化文档</a>。</p><p id="4ef0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> React Flatpickr:禁用一周中的某一天</strong></p><figure class="nj nk nl nm gt jr gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/ca7a5a225653b0587ce89201385d3333.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/0*fG_3L2gLNOeawlak.png"/></div></figure><p id="0646" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">react-example&gt;src&gt;app . js</em></p><pre class="nj nk nl nm gt nn mv no np aw nq bi"><span id="503c" class="nr ky iq mv b gy ns nt l nu nv">import React, { Component } from 'react';<br/>import Flatpickr from 'react-flatpickr';<br/>import "flatpickr/dist/themes/material_green.css";<br/><br/>class App extends Component {<br/>  constructor() {<br/>    super();<br/><br/>    this.state = {<br/>      date: new Date()<br/>    };<br/>  }<br/><br/>  <br/>  render() {<br/>    const { date } = this.state;<br/>    return (<br/>      &lt;Flatpickr<br/>        data-enable-time<br/>        value={date}<br/>        options={{<br/>              disable: [<br/>              function(date) {<br/>                  // return true to disable<br/>                  return (date.getDay() === 0 || date.getDay() === 6);}],<br/>            }}<br/>        onChange={date =&gt; {<br/>          this.setState({ date });<br/>        }}<br/>      /&gt;<br/>    );<br/>  }<br/>}<br/><br/>export default App;</span></pre><p id="2fae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，将上述功能添加到选项中，禁用一周中的某些天。</p><p id="aa9c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此功能禁止选择星期日和星期六。</p><p id="1dec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些只是一些基本的例子。查看<a class="ae kw" href="https://flatpickr.js.org/options/" rel="noopener ugc nofollow" target="_blank">flatpickr.js.org</a>了解更多定制选项。</p></div><div class="ab cl mw mx hu my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ij ik il im in"><p id="e70d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ni">原载于</em><a class="ae kw" href="https://www.ordinarycoders.com/blog/article/react-datepicker" rel="noopener ugc nofollow" target="_blank"><em class="ni">https://www.ordinarycoders.com</em></a><em class="ni">。</em></p></div></div>    
</body>
</html>