<html>
<head>
<title>Stop Writing JavaScript Like This</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不要再这样写JavaScript了</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/stop-writing-javascript-like-this-a7fafbe451a5?source=collection_archive---------0-----------------------#2021-06-03">https://javascript.plainenglish.io/stop-writing-javascript-like-this-a7fafbe451a5?source=collection_archive---------0-----------------------#2021-06-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e575" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">写出更好的JavaScript代码的10种方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1c8c91af685d00ed1f3ea1de0dc7783b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-26dOgn5q_PIJryF"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@cgower?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Christopher Gower</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="08e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们大多数人都习惯长时间编写JavaScript代码。但是我们可能没有更新我们自己的新功能，这些新功能可以用最少的代码解决您的问题。这些技术可以帮助您编写干净和优化的JavaScript代码。今天，我将总结一些优化的JavaScript代码片段，它们可以帮助你提高技能。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="84b2" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">1.多||条件if的简写</h1><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="5a55" class="mw ma iq ms b gy mx my l mz na">if (fruit === 'apple' || fruit === 'orange' || fruit === 'banana' || fruit ==='grapes') {<br/>    //code<br/>}</span></pre><p id="2c8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了使用多个<code class="fe nb nc nd ms b">||</code> (OR)条件之外，我们可以使用一个带有值的数组，并使用<code class="fe nb nc nd ms b">includes()</code>方法。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="6575" class="mw ma iq ms b gy mx my l mz na">if (['apple', 'orange', 'banana', 'grapes'].includes(fruit)) {<br/>   //code<br/>}</span></pre><h1 id="8e73" class="lz ma iq bd mb mc ne me mf mg nf mi mj jw ng jx ml jz nh ka mn kc ni kd mp mq bi translated">2.带有多个&amp;&amp;条件的if的简写</h1><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="b3d3" class="mw ma iq ms b gy mx my l mz na">if(obj &amp;&amp; obj.address &amp;&amp; obj.address.postalCode) {<br/>    console.log(obj.address.postalCode)<br/>}</span></pre><p id="0d29" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用可选链接(<code class="fe nb nc nd ms b">?.</code>)来替换此代码片段。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="bfd8" class="mw ma iq ms b gy mx my l mz na">console.log(obj?.address?.postalCode);</span></pre><h1 id="cf37" class="lz ma iq bd mb mc ne me mf mg nf mi mj jw ng jx ml jz nh ka mn kc ni kd mp mq bi translated">3.null、undefined和empty if检查的简写</h1><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="b6d6" class="mw ma iq ms b gy mx my l mz na">if (first !== null || first !== undefined || first !== '') {<br/>    let second = first;<br/>}</span></pre><p id="6697" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与其写这么多检查，我们可以用<code class="fe nb nc nd ms b">||</code> <br/> (OR)运算符这样写更好。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="c379" class="mw ma iq ms b gy mx my l mz na">const second = first || '';</span></pre><h1 id="58fc" class="lz ma iq bd mb mc ne me mf mg nf mi mj jw ng jx ml jz nh ka mn kc ni kd mp mq bi translated">4.开关盒的简写</h1><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="d034" class="mw ma iq ms b gy mx my l mz na">switch (number) {<br/>  case 1:<br/>     return 'one';</span><span id="e386" class="mw ma iq ms b gy nj my l mz na">  case 2:<br/>     return 'two';</span><span id="8f54" class="mw ma iq ms b gy nj my l mz na">  default:<br/>     return;<br/>}</span></pre><p id="4c7e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用贴图/对象，以更简洁的方式书写。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="be05" class="mw ma iq ms b gy mx my l mz na">const data = {<br/>  1: 'one',<br/>  2: 'two'<br/>};</span><span id="6b36" class="mw ma iq ms b gy nj my l mz na">//Access it using<br/>data[num]</span></pre><h1 id="9083" class="lz ma iq bd mb mc ne me mf mg nf mi mj jw ng jx ml jz nh ka mn kc ni kd mp mq bi translated">5.单行函数的简写</h1><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="ce81" class="mw ma iq ms b gy mx my l mz na">function doubleOf(value) {<br/>  return 2 * value;<br/>}</span></pre><p id="0d76" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用箭头功能将其缩短。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="8ab5" class="mw ma iq ms b gy mx my l mz na">const doubleOf = (value) =&gt; 2 * value</span></pre><h1 id="c754" class="lz ma iq bd mb mc ne me mf mg nf mi mj jw ng jx ml jz nh ka mn kc ni kd mp mq bi translated">6.有条件调用函数的简写</h1><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9faa" class="mw ma iq ms b gy mx my l mz na">function area() {<br/>    console.log('area');<br/>}<br/>function volume() {<br/>    console.log('volume');<br/>}</span><span id="a054" class="mw ma iq ms b gy nj my l mz na">if(type === 'square') {<br/>    area();<br/>} else {<br/>    volume();<br/>}</span></pre><p id="9777" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以这样写，而不是使用if来有条件地调用函数。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="d83e" class="mw ma iq ms b gy mx my l mz na">(type === 'square' ? area : volume)()</span></pre><h1 id="88f6" class="lz ma iq bd mb mc ne me mf mg nf mi mj jw ng jx ml jz nh ka mn kc ni kd mp mq bi translated">7.使用if设置默认值的简写</h1><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="92f7" class="mw ma iq ms b gy mx my l mz na">if(amount === null) {<br/>    amount = 0;<br/>}</span><span id="62b0" class="mw ma iq ms b gy nj my l mz na">if(value === undefined) {<br/>    value = 0;<br/>}</span><span id="17c4" class="mw ma iq ms b gy nj my l mz na">console.log(amount); //0<br/>console.log(value); //0</span></pre><p id="b854" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用<code class="fe nb nc nd ms b">||</code> (OR)运算符简单地编写相同的内容。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="e30d" class="mw ma iq ms b gy mx my l mz na">console.log(amount || 0); //0<br/>console.log(value || 0); //0</span></pre><h1 id="7aa5" class="lz ma iq bd mb mc ne me mf mg nf mi mj jw ng jx ml jz nh ka mn kc ni kd mp mq bi translated">8.if…else的简写</h1><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="8e5f" class="mw ma iq ms b gy mx my l mz na">let value;<br/>if (num &gt; 0) {<br/>    value = 'positive';<br/>} else {<br/>    value = 'negative';<br/>}</span></pre><p id="dba9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果<code class="fe nb nc nd ms b">if</code> … <code class="fe nb nc nd ms b">else</code>条件不是那么复杂，那么我们可以用一个三元运算符来代替它。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="a65f" class="mw ma iq ms b gy mx my l mz na">const value = num &gt; 0 ? 'positive' : 'negative';</span></pre><h1 id="acca" class="lz ma iq bd mb mc ne me mf mg nf mi mj jw ng jx ml jz nh ka mn kc ni kd mp mq bi translated">9.在数组中循环时传统for循环的简写</h1><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="ff91" class="mw ma iq ms b gy mx my l mz na">const arr = [11, 22, 33];<br/>for(let i=0; i&lt;arr.length; i++) {<br/>    console.log(arr[i]);<br/>}</span></pre><p id="b02e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用<code class="fe nb nc nd ms b">forEach</code>替换这个正常的<code class="fe nb nc nd ms b">for</code>。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="370d" class="mw ma iq ms b gy mx my l mz na">const arr = [11, 22, 33];<br/>arr.forEach((val) =&gt; console.log(val));</span></pre><h1 id="777a" class="lz ma iq bd mb mc ne me mf mg nf mi mj jw ng jx ml jz nh ka mn kc ni kd mp mq bi translated">10.将字符串数字转换为数字的简写方式</h1><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9920" class="mw ma iq ms b gy mx my l mz na">const num1 = parseInt("100");<br/>const num2 =  parseFloat("11.11");</span></pre><p id="0e25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用一个简单的<code class="fe nb nc nd ms b">+</code>操作符，而不是使用<code class="fe nb nc nd ms b">parseInt</code>和<code class="fe nb nc nd ms b">parseFloat</code>以及其他类似的方法。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9e2a" class="mw ma iq ms b gy mx my l mz na">const num1 = +"100";<br/>const num2 =  +"11.11";</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b3b0" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="56eb" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">这些是我最喜欢的JavaScript速记技术。这些确实有助于开发者提高代码标准，所以如果你知道类似的速记技巧，请留下评论。感谢您的阅读，希望您发现这是有帮助的！</p><p id="f272" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="np">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="np">plain English . io</em></a></p></div></div>    
</body>
</html>