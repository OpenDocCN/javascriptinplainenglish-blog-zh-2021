<html>
<head>
<title>Using Google Translate API in our Node.js App with google-translate-api</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过google-translate-api在Node.js应用中使用Google Translate API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/using-google-translate-api-in-our-node-js-app-with-google-translate-api-3d4a3cf26d39?source=collection_archive---------11-----------------------#2021-02-22">https://javascript.plainenglish.io/using-google-translate-api-in-our-node-js-app-with-google-translate-api-3d4a3cf26d39?source=collection_archive---------11-----------------------#2021-02-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6c49856a3a3ccc6842f95f5ef13e3f9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QNoBy3DEeH-ZZCse"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@gillystewart?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Gilly Stewart</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fc15" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">google-translate-api</code>模块让我们在服务器端JavaScript应用中使用Google Translate API。</p><p id="a6a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何在Node.js应用程序中使用这个包。</p><h1 id="d9f6" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">装置</h1><p id="0bdf" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以通过运行以下命令来安装该软件包:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="69f5" class="mq lg iq le b gy mr ms l mt mu">npm install @vitalets/google-translate-api</span></pre><h1 id="07f9" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">使用</h1><p id="5115" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用这个模块附带的<code class="fe lb lc ld le b">translate</code>函数来进行翻译。</p><p id="be11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="399c" class="mq lg iq le b gy mr ms l mt mu">const translate = require('@vitalets/google-translate-api');<br/> <br/>(async ()=&gt;{<br/>  try {<br/>    const res = await translate('je parle français', { to: 'en' })<br/>    console.log(res.text);    <br/>    console.log(res.from.language.iso);<br/>  }<br/>  catch (error){<br/>    console.log(error)<br/>  }<br/>})()</span></pre><p id="7e5a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">translate</code>以结果回报承诺。</p><p id="76c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个参数是我们要翻译的文本。</p><p id="fc62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个参数有<code class="fe lb lc ld le b">to</code>属性，它是我们要翻译的语言的代码。</p><p id="1526" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">res.text</code>有由此产生的文字。</p><p id="c681" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe lb lc ld le b">res.from.language.iso</code>拥有第一个参数中文本的语言代码。</p><p id="91ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">谷歌翻译API可以处理有错别字的文本。</p><p id="c928" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="8574" class="mq lg iq le b gy mr ms l mt mu">const translate = require('@vitalets/google-translate-api');<br/> <br/>(async ()=&gt;{<br/>  try {<br/>    const res = await translate('I spea French', { from: 'en', to: 'fr' })<br/>    console.log(res.text);    <br/>    console.log(res.from.text.autoCorrected);    <br/>    console.log(res.from.text.value);    <br/>    console.log(res.from.text.didYouMean);<br/>  }<br/>  catch (error){<br/>    console.log(error)<br/>  }<br/>})()</span></pre><p id="1feb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们传入有错别字的<code class="fe lb lc ld le b">‘I spea French’</code>。</p><p id="1b54" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">from</code>有原文的语言oif。</p><p id="6ea9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">res.text</code>有没有错别字的翻译结果。</p><p id="752b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">res.from.text.autoCorrected</code>具有布尔值，表明原始文本是否被自动更正。</p><p id="41c7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">res.from.text.value</code>有文本的自动修正版本。</p><p id="018d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">res.from.text.didYouMean</code>是<code class="fe lb lc ld le b">true</code>表示API建议对源语言进行更正。</p><p id="4b87" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="d358" class="mq lg iq le b gy mr ms l mt mu">je parle français<br/>true<br/>I [speak] French<br/>false</span></pre><p id="0c4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从4个控制台日志中。</p><p id="8e21" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以在列表中添加我们自己的语言。</p><p id="f7b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="5ec6" class="mq lg iq le b gy mr ms l mt mu">const translate = require('@vitalets/google-translate-api');<br/>translate.languages['sr-Latn'] = 'Serbian Latin';</span><span id="9d60" class="mq lg iq le b gy mv ms l mt mu">(async ()=&gt;{<br/>  try {    <br/>    const res = await translate('I spea French', { to: 'sr-Latn' })<br/>    console.log(res.text);    <br/>  }<br/>  catch (error){<br/>    console.log(error)<br/>  }<br/>})()</span></pre><p id="6f61" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="e1d1" class="mq lg iq le b gy mr ms l mt mu">Говорим француски</span></pre><p id="3db0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从控制台日志中。</p><h1 id="a03b" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">代理人</h1><p id="6fa5" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以通过这个库的代理发出请求。</p><p id="7cc5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="438c" class="mq lg iq le b gy mr ms l mt mu">const translate = require('@vitalets/google-translate-api');<br/>const tunnel = require('tunnel');</span><span id="2af0" class="mq lg iq le b gy mv ms l mt mu">(async ()=&gt;{<br/>  try {    <br/>    const res = await translate('I spea French', { <br/>      to: 'fr',<br/>      agent: tunnel.httpsOverHttp({<br/>        proxy: { <br/>          host: '138.68.60.8',<br/>          proxyAuth: 'user:pass',<br/>          port: '8080',<br/>          headers: {<br/>            'User-Agent': 'Node'<br/>          }<br/>        }<br/>      })<br/>    })<br/>    console.log(res.text);    <br/>  }<br/>  catch (error){<br/>    console.log(error)<br/>  }<br/>})()</span></pre><p id="7472" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe lb lc ld le b">tunnel</code>库通过代理发出请求。</p><p id="b90f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用代理选项和凭证调用<code class="fe lb lc ld le b">tunnel.httpOverHttp</code>方法，通过代理发出翻译请求。</p><h1 id="f59a" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="de0f" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用<code class="fe lb lc ld le b">google-translate-api</code>模块，让我们在服务器端JavaScript应用程序中使用Google Translate API。</p><p id="48ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">阅读更多尽在</em> <a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mw">说白了. io </em> </strong> </a></p></div></div>    
</body>
</html>