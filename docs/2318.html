<html>
<head>
<title>What is Jaro-Winkler Similarity?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是Jaro-Winkler相似性？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-is-jaro-winkler-similarity-7448cad41a6d?source=collection_archive---------13-----------------------#2021-05-14">https://javascript.plainenglish.io/what-is-jaro-winkler-similarity-7448cad41a6d?source=collection_archive---------13-----------------------#2021-05-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="1ede" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Jaro-Winkler相似性是衡量两个字符串相似程度的一种方法。这是相当容易理解和快速实施。</p><h1 id="dd6f" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">我为什么要在乎？</h1><p id="15e0" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated">字符串相似性度量有多种用途；从面向用户的搜索功能到拼写检查。</p><p id="d2e8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有一些常见的字符串相似性度量。如果您需要自己实现类似的东西，对每一个都有所了解将有助于您选择正确的方法。</p><p id="778b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Jaro相似性和修改版本——Jaro-Winkler——是两种常见的相似性。</p><h1 id="5ac9" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">在5分钟或更短时间内:</h1><p id="58b5" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated">假设我们正在为一个应用商店构建搜索功能。</p><p id="5ffa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果用户拼错了他们的搜索，我们希望能够推荐我们认为他们正在寻找的应用。</p><p id="cd7b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">比如说；用户正在搜索2009年的热门病毒，<code class="fe lm ln lo lp b">farmville</code>，但却错误地输入了:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/9edfbaf44b824dd88db62722f60c206a.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/0*hSyEWSJqQGKLsuZZ.png"/></div></figure><p id="e9b6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们可以将这个搜索字符串与我们的应用商店中的所有标题进行比较，我们就可以向用户展示与他们输入的内容最匹配的应用。</p><p id="0cc2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是Jaro相似性度量的用武之地…</p><h1 id="14d2" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">Jaro相似性</h1><p id="4fd9" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated">让我们计算一下用户的搜索字符串和正确的应用标题之间的相似度:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ly"><img src="../Images/5b387838a511269a9bbece4e452dfe72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lH3xNwJI8bLMt_UwO6qHpA.png"/></div></div></figure><p id="e32d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">由Matthew A. Jaro于1989年创建的Jaro相似性度量比较了两个字符串，并给出了表示它们相似程度的分数。</p><p id="9ff6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">结果是一个介于<code class="fe lm ln lo lp b">0</code>和<code class="fe lm ln lo lp b">1</code>之间的数字，其中<code class="fe lm ln lo lp b">0</code>表示字符串完全不同，<code class="fe lm ln lo lp b">1</code>表示它们完全匹配。</p><p id="5e2f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">计算Jaro相似性的第一步是计算两个字符串之间匹配的字符数。</p><p id="51d5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是，要被视为“匹配”,字符不需要在两个字符串中出现在相同的位置——它们只需要彼此靠近<em class="ll">和</em>。</p><p id="75e9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这解释了常见的打字错误，即你不小心按错误的顺序输入了一些字符。</p><p id="f3c8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我们认为这些字符匹配之前，它们需要有多接近，计算方法如下:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi md"><img src="../Images/e81837b88801c73304a3d4188bc86c50.png" data-original-src="https://miro.medium.com/v2/resize:fit:622/format:webp/0*BHX-TXpaM2bCS59l.png"/></div></figure><p id="fdc8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的两个字符串都是<code class="fe lm ln lo lp b">9</code>字符长。这给了我们一个结果<code class="fe lm ln lo lp b">3</code>。</p><p id="5d92" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这意味着字符串中的任意两个字符“匹配”,如果它们是:</p><ul class=""><li id="eca9" class="me mf in jm b jn jo jr js jv mg jz mh kd mi kh mj mk ml mm bi translated">在两根弦的同一个位置</li><li id="7275" class="me mf in jm b jn mn jr mo jv mp jz mq kd mr kh mj mk ml mm bi translated">彼此相距不超过<code class="fe lm ln lo lp b">3</code>个字符</li></ul><p id="8f64" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们画出这些匹配，看起来是这样的:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/c4af09e67d263e121033143d56672d58.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/0*yuOdOeW4p_IwwQTF.png"/></div></figure><p id="dd14" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果没有匹配，我们就不需要再进一步了Jaro相似性将只是<code class="fe lm ln lo lp b">0</code>。</p><p id="1088" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们已经有了匹配的字符，所以下一步是计算“换位”的数量。</p><p id="9179" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">换位是匹配的字符，但是顺序不对。我们数了数，然后减半。</p><p id="f7a8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的字符串中有顺序不同的<code class="fe lm ln lo lp b">2</code>匹配字符(最后的<code class="fe lm ln lo lp b">e</code>和<code class="fe lm ln lo lp b">l</code>在用户的搜索词中是向后的)。减半这给了我们<code class="fe lm ln lo lp b">1</code>‘换位’。</p><p id="864b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们所要做的就是将这些数字代入下面的公式(我们使用术语<code class="fe lm ln lo lp b">simj</code>来表示‘贾罗相似性’——我们正在计算的东西):</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/15384765648149bb004fcec5f4ce9839.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/0*onV8G9bLKPhgKAWY.png"/></div></figure><p id="7019" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这看起来很复杂，但我们实际上只需要几个值:</p><ul class=""><li id="9d45" class="me mf in jm b jn jo jr js jv mg jz mh kd mi kh mj mk ml mm bi translated"><code class="fe lm ln lo lp b">|S1|</code>和<code class="fe lm ln lo lp b">|S2|</code>是我们正在比较的两个字符串的长度(我们的都是<code class="fe lm ln lo lp b">9</code>字符长)</li><li id="793d" class="me mf in jm b jn mn jr mo jv mp jz mq kd mr kh mj mk ml mm bi translated"><code class="fe lm ln lo lp b">m</code>是匹配的数量——我们有<code class="fe lm ln lo lp b">8</code></li><li id="ffcd" class="me mf in jm b jn mn jr mo jv mp jz mq kd mr kh mj mk ml mm bi translated"><code class="fe lm ln lo lp b">t</code>是‘换位’的次数——我们有<code class="fe lm ln lo lp b">1</code></li></ul><p id="f64d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">给定这些值，这是<code class="fe lm ln lo lp b">faremviel</code>与<code class="fe lm ln lo lp b">farmville</code>的Jaro相似度:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/b823372c5f611464d0d61446b1350326.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/0*lYa9Pg8iu8_k_33V.png"/></div></figure><p id="d1cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的字符串相似度为<code class="fe lm ln lo lp b">0.88</code>，也就是说非常相似。</p><p id="6d93" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果我们计算用户的搜索词与我们应用商店中其他游戏的Jaro相似度，用户想要搜索什么就变得很清楚了:</p><ul class=""><li id="e1c9" class="me mf in jm b jn jo jr js jv mg jz mh kd mi kh mj mk ml mm bi translated">《farmviel》vs《farmville》:<code class="fe lm ln lo lp b">0.88</code></li><li id="12e7" class="me mf in jm b jn mn jr mo jv mp jz mq kd mr kh mj mk ml mm bi translated">《farmviel》vs《farmville 2》:<code class="fe lm ln lo lp b">0.83</code></li><li id="6b21" class="me mf in jm b jn mn jr mo jv mp jz mq kd mr kh mj mk ml mm bi translated">faremviel vs《部落冲突》:<code class="fe lm ln lo lp b">0.46</code></li><li id="f37e" class="me mf in jm b jn mn jr mo jv mp jz mq kd mr kh mj mk ml mm bi translated">《faremviel》vs《minecraft》:<code class="fe lm ln lo lp b">0.31</code></li></ul><h1 id="94e7" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">Jaro-Winkler相似性</h1><p id="1755" class="pw-post-body-paragraph jk jl in jm b jn lg jp jq jr lh jt ju jv li jx jy jz lj kb kc kd lk kf kg kh ig bi translated">这种对Jaro相似性的修正是由William E. Winkler在1990年提出的。</p><p id="548d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">“Jaro-Winkler”度量采用上面的Jaro相似性，如果两个字符串开头的字符相同，则增加分数。</p><p id="a9f7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">换句话说，Jaro-Winkler喜欢两个有相同开头的弦。</p><p id="3bfd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是“Jaro-Winkler相似性”的公式:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/3699ed11a8b130918930c5bd18d0a85b.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/0*zULnbmV3F26jiLMU.png"/></div></figure><p id="776a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要以下值来使用它:</p><ul class=""><li id="7148" class="me mf in jm b jn jo jr js jv mg jz mh kd mi kh mj mk ml mm bi translated"><code class="fe lm ln lo lp b">simj</code>是我们上面比较的Jaro相似性(<code class="fe lm ln lo lp b">0.88</code>)</li><li id="cc72" class="me mf in jm b jn mn jr mo jv mp jz mq kd mr kh mj mk ml mm bi translated"><code class="fe lm ln lo lp b">l</code>是两个字符串开头相同的字符数(最多4个)。我们的字符串都是以<code class="fe lm ln lo lp b">f</code> <code class="fe lm ln lo lp b">a</code> <code class="fe lm ln lo lp b">r</code>开头的，所以我们为此使用了一个值<code class="fe lm ln lo lp b">3</code>。</li><li id="c2ea" class="me mf in jm b jn mn jr mo jv mp jz mq kd mr kh mj mk ml mm bi translated"><code class="fe lm ln lo lp b">p</code>是‘比例因子’。通常使用<code class="fe lm ln lo lp b">0.1</code>。</li></ul><p id="5916" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是<code class="fe lm ln lo lp b">faremviel</code>对<code class="fe lm ln lo lp b">farmville</code>的Jaro-Winkler计算:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mw"><img src="../Images/16236544c75b1ff02302506410b1f407.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/0*SclePSftDzJEeNI8.png"/></div></div></figure><p id="3f42" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">开头有<em class="ll">没有</em>匹配字符的两个字符串将保持相同的分数，但是因为我们的字符串开头有共同的字母，这个版本的指标将我们的分数从<code class="fe lm ln lo lp b">0.88</code>提高到了<code class="fe lm ln lo lp b">0.92</code>。</p><p id="bdd1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Jaro或Jaro-Winkler是否是正确的选择取决于您的具体用例。尝试这两种算法(和其他字符串相似性算法)，看看哪种算法最适合您的数据。</p><p id="a15b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">(原贴至我的<a class="ae mx" href="https://www.baseclass.io/newsletter" rel="noopener ugc nofollow" target="_blank">简讯</a>)</p><p id="b849" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ll">更多内容请看</em><a class="ae mx" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ll">plain English . io</em></a></p></div></div>    
</body>
</html>