<html>
<head>
<title>How to Get and Set the Value of a Data Attribute with JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript获取和设置一个数据属性的值？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-and-set-the-value-of-a-data-attribute-with-javascript-f0a1bd44063d?source=collection_archive---------2-----------------------#2021-11-18">https://javascript.plainenglish.io/how-to-get-and-set-the-value-of-a-data-attribute-with-javascript-f0a1bd44063d?source=collection_archive---------2-----------------------#2021-11-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0217c892ac1db0c68cba48fcf52f22dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UZS4eQJyFRSPllS-"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@lukechesser?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Luke Chesser</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0b0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe lb lc ld le b">data-</code>属性，我们可以存储我们想要存储在HTML元素中的数据。</p><p id="e0e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可能希望在我们的web应用程序中获得这些值。</p><p id="0302" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用JavaScript来做这件事。</p><p id="41ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用JavaScript获取和设置元素的<code class="fe lb lc ld le b">data-id</code>属性值。</p><h1 id="823f" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">getAttribute方法</h1><p id="6352" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">获取属性值的一种方法是使用本机可用的<code class="fe lb lc ld le b">getAttribute</code>方法。</p><p id="c8fd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有下面的HTML:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="9d42" class="mq lg iq le b gy mr ms l mt mu">&lt;div id='apple-tree' data-fruit='12'&gt;&lt;/div&gt;</span></pre><p id="099d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过编写调用<code class="fe lb lc ld le b">getAttribute</code>来返回<code class="fe lb lc ld le b">data-fruit</code>属性的值；</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="7720" class="mq lg iq le b gy mr ms l mt mu">const plant = document.getElementById('apple-tree');<br/>const fruitCount = plant.getAttribute('data-fruit');</span></pre><p id="25d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">fruitCount</code>应该是<code class="fe lb lc ld le b">'12'</code>，因为这是<code class="fe lb lc ld le b">data-fruit</code>属性的值。</p><p id="ebf7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了改变<code class="fe lb lc ld le b">data-fruit</code>属性的值，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="45d2" class="mq lg iq le b gy mr ms l mt mu">plant.setAttribute('data-fruit','10');</span></pre><h1 id="48b8" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">使用<code class="fe lb lc ld le b">dataset Property</code></h1><p id="abe8" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">HTML元素节点对象带有<code class="fe lb lc ld le b">dataset</code>属性，让我们获得以<code class="fe lb lc ld le b">data-</code>前缀开始的属性值。</p><p id="bae7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="ba69" class="mq lg iq le b gy mr ms l mt mu">const plant = document.getElementById('apple-tree');<br/>console.log(plant.dataset.fruit)</span></pre><p id="d9ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了获得<code class="fe lb lc ld le b">data-fruit</code>属性的值，我们使用了<code class="fe lb lc ld le b">plant.dataset.fruit</code>属性。</p><p id="e0aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该属性也可以赋值，因此我们可以通过编写以下代码来设置<code class="fe lb lc ld le b">data-fruit</code>属性的值:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="bd73" class="mq lg iq le b gy mr ms l mt mu">plant.dataset.fruit = 10</span></pre><h1 id="3ba6" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">jQuery</h1><p id="ec08" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">jQuery让我们以各种方式获得以<code class="fe lb lc ld le b">data-</code>开头的属性值。</p><p id="a17c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取该值的一种方法是使用<code class="fe lb lc ld le b">data</code>方法。</p><p id="694c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="91da" class="mq lg iq le b gy mr ms l mt mu">console.log($('#apple-tree').data().fruit)</span></pre><p id="2c51" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取<code class="fe lb lc ld le b">data-fruit</code>属性的值。</p><p id="82a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">data</code>返回一个对象所有的<code class="fe lb lc ld le b">data-</code>属性名称，去掉了<code class="fe lb lc ld le b">data-</code>前缀。</p><p id="3ed4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对应的值是添加到元素中的属性值。</p><p id="1257" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="4fe7" class="mq lg iq le b gy mr ms l mt mu">console.log($('#apple-tree').data('fruit'))</span></pre><p id="3c97" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">做同样的事情。</p><h1 id="a28f" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="a186" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以通过使用<code class="fe lb lc ld le b">data-</code>属性在元素中存储数据。</p><p id="52a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用普通的JavaScript或jQuery获取和设置它们的值。</p><p id="7ebb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容看</em> <a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mv">说白了就是</em> </a> <em class="mv">。在这里注册我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mv">免费周报</em> </a> <em class="mv">。</em></p></div></div>    
</body>
</html>