<html>
<head>
<title>Physical Computing with JavaScript (2/8) — Blinking LED</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript的物理计算(2/8) —闪烁的LED</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/physical-computing-with-javascript-2-8-blinking-led-37544b14e964?source=collection_archive---------12-----------------------#2021-05-25">https://javascript.plainenglish.io/physical-computing-with-javascript-2-8-blinking-led-37544b14e964?source=collection_archive---------12-----------------------#2021-05-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/4c135d499066c60fee5562cf52a63ba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ctBs8BuFZ7_UezUMFPyPA.png"/></div></div></figure><p id="a6ab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，我们将连接一个外部LED，并使用数字输出使其闪烁。</p><blockquote class="kt ku kv"><p id="82d4" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated"><a class="ae la" href="https://niklauslee.medium.com/physical-computing-with-javascript-table-of-contents-69c38fd74e61" rel="noopener">目录</a></p></blockquote><h1 id="7b1f" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">成分</h1><ul class=""><li id="9262" class="lz ma in jx b jy mb kc mc kg md kk me ko mf ks mg mh mi mj bi translated">树莓派Pico — 1件。(需要接头引脚焊接，或购买焊接)</li><li id="adb0" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">试验板— 1个。</li><li id="0630" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">发光二极管(5毫米)— 1个。</li><li id="da00" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">电阻器(330ω)—1个。</li><li id="13b3" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">跳线(M-M型)</li></ul><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/41583b1fab5eda7b3d61a73bc17387f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EusGMT0CwvSrGeaMwyxDCg.jpeg"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Components for LED blinking</figcaption></figure><p id="f681" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您使用试验板，您可以通过手动插入跳线来快速构建电路，而无需焊接。在试验板上有许多孔，可以插入零件或跳线，只要记住这些孔的连接方式如下图所示。</p><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/18a0fe9c2295497f014ea16dbc713b6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PIOWgPPswoNtg30Y1H0hfw.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Breadboard (The holes are connected as the green line internally)</figcaption></figure><p id="51e3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">LED(发光二极管)是一种发光的元件。有许多不同的类型，如不同的颜色和大小。如下图所示，当你把正极(+)接到正极引脚，负极(-)接到负极引脚时，它就亮了。必须给LED提供适当的电流，但是如果提供的电流太大，就会产生太多的热量或者用不了多久就会损坏，如果提供的电流太小，光线就会太暗。</p><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div class="gh gi my"><img src="../Images/33f69af6d1ec69728ef23eb743fa26fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*z09jCcEpQ9Gy_2YqHzt7uA.png"/></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">LED pins</figcaption></figure><p id="1d20" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">电阻器是一个阻止电流流动并允许适量电流流过的元件。要调整合适的电流，需要计算合适的电阻值。你可以在电阻体上看到一条不同颜色的带。这些是电阻值。这里我们用330ω，颜色是“橙-橙-棕-金”。(即使不一定是330ω，使用类似的值也是安全的。)不需要太担心计算电阻值的问题。在这个课程中，我会告诉你需要的电阻值，你只要在网上搜索一下，就可以很容易地找到我要用的传感器或零件需要多大的电阻值。那并不代表计算方法很难，只是这门课不会涉及，而且如果你马上好奇，请参考其他资源。</p><p id="f334" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">跳线用于将部件连接在一起。有三种主要类型的电线:M-M、M-F和F-F，这取决于电线的两端是引脚形式(M-公)还是可以被引脚插入的孔形式(F-母)。为此，您可以使用M-M形式。</p><h1 id="992d" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数字输入输出</h1><p id="2190" class="pw-post-body-paragraph jv jw in jx b jy mb ka kb kc mc ke kf kg mz ki kj kk na km kn ko nb kq kr ks ig bi translated">数字I/O是用于物理计算的计算机最基本的功能，比如树莓Pi Pico。有几个引脚可以连接到外部设备，通过每个引脚，您可以输出<code class="fe nc nd ne nf b">LOW</code>或<code class="fe nc nd ne nf b">HIGH</code>或读取进入每个引脚的值(<code class="fe nc nd ne nf b">LOW</code>或<code class="fe nc nd ne nf b">HIGH</code>)。<code class="fe nc nd ne nf b">HIGH</code>值实际上意味着向引脚提供3.3V的电压。不同的电路板可能有不同的电压值(某些Arduinos为5V)。相反，<code class="fe nc nd ne nf b">LOW</code>值意味着向引脚提供0V (=GND)。从下面的引脚排列图可以看出，Pico共有40个引脚，每个引脚都有一组可以使用的功能。在我们继续之前，有几件事我们必须了解。</p><ul class=""><li id="dcc1" class="lz ma in jx b jy jz kc kd kg ng kk nh ko ni ks mg mh mi mj bi translated"><strong class="jx io">3V3</strong>(OUT)——可以给部件供电的管脚。它以3.3V的电压提供电流</li><li id="2756" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated"><strong class="jx io"> GND </strong> —接地引脚是电流必须最后流出的负极引脚。电路的结构必须使电流总是离开正极，流向大地。</li><li id="945b" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated"><strong class="jx io">GPIO 0</strong>~<strong class="jx io">GPIO 28</strong>—GPIO(通用输入/输出)是可以通过程序控制数字输入/输出的引脚。</li></ul><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/607c04a46070d0a836e942d5155554d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SCcpD3n22mc1oOtl6wfY2g.jpeg"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Pinout of Raspberry Pi Pico</figcaption></figure><h1 id="fb04" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">电路</h1><p id="746f" class="pw-post-body-paragraph jv jw in jx b jy mb ka kb kc mc ke kf kg mz ki kj kk na km kn ko nb kq kr ks ig bi translated">现在，让我们配置电路。即使LED分别用阳极(+)和阴极(-)连接到<strong class="jx io"> 3V3 </strong>和<strong class="jx io"> GND </strong>上，灯也会被打开，但是我们想用LED程序控制灯的关闭和打开，所以我们将把阳极(+)连接到一个GPIO管脚(这里我们用的是<strong class="jx io"> GPIO15 </strong>)和阴极(-)连接到<strong class="jx io"> GND </strong>管脚。我们将在GPIO和LED的阳极(+)之间使用一个电阻，以允许适当的电流。电阻器没有极性，所以你可以在任何方向连接它们。</p><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nj"><img src="../Images/26e53e451bca6d3701491f4c1a93036f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PX9p5JK83_x4mspsUXw3jg.jpeg"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Circuit for Pico and LED</figcaption></figure><h1 id="e872" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">编写代码</h1><p id="96d2" class="pw-post-body-paragraph jv jw in jx b jy mb ka kb kc mc ke kf kg mz ki kj kk na km kn ko nb kq kr ks ig bi translated">现在让我们检查LED的开关是否与程序一起工作。正如您在上一教程中所学的，将Pico连接到您的PC并打开Kaluma IDE。然后，在终端输入以下代码，将<strong class="jx io"> GPIO15 </strong>引脚更改为输出模式。</p><pre class="mq mr ms mt gt nk nf nl nm aw nn bi"><span id="a57e" class="no lc in nf b gy np nq l nr ns">&gt; pinMode(15, OUTPUT);</span></pre><p id="0ef8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，输出一个<code class="fe nc nd ne nf b">HIGH</code>值，使电流可以流过LED。</p><pre class="mq mr ms mt gt nk nf nl nm aw nn bi"><span id="a3f8" class="no lc in nf b gy np nq l nr ns">&gt; digitalWrite(15, HIGH);</span></pre><p id="20fc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">检查LED是否打开，现在再次关闭LED。</p><pre class="mq mr ms mt gt nk nf nl nm aw nn bi"><span id="095c" class="no lc in nf b gy np nq l nr ns">&gt; digitalWrite(15, LOW);</span></pre><p id="1543" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果使用<code class="fe nc nd ne nf b">digitalToggle()</code>功能，在<code class="fe nc nd ne nf b">LOW</code>时可以输出<code class="fe nc nd ne nf b">HIGH</code>，在<code class="fe nc nd ne nf b">HIGH</code>时可以输出<code class="fe nc nd ne nf b">LOW</code>，这样就可以很方便的关机再开机了。让我们输入几次，看看它是否再次打开和关闭。(提示:如果使用终端上的向上箭头键，先前输入的代码会再次出现)</p><pre class="mq mr ms mt gt nk nf nl nm aw nn bi"><span id="5d17" class="no lc in nf b gy np nq l nr ns">&gt; digitalToggle(15);</span></pre><p id="df00" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们写一个每秒自动开关的程序。熟悉JavaScript的人都知道<code class="fe nc nd ne nf b">setInterval()</code>函数。这个函数每隔一段时间调用一个特定的函数。调用<code class="fe nc nd ne nf b">digitalToggle()</code>使LED闪烁的函数作为第一个参数传递，调用间隔<code class="fe nc nd ne nf b">1000</code> (1000ms=1秒)作为第二个参数传递。以下代码有多行，因此不能在终端中输入，所以您必须在编辑区输入代码。</p><h1 id="99cc" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">上传代码</h1><p id="c9d4" class="pw-post-body-paragraph jv jw in jx b jy mb ka kb kc mc ke kf kg mz ki kj kk na km kn ko nb kq kr ks ig bi translated">现在关闭终端，用任何文本编辑器编写如下的<code class="fe nc nd ne nf b">index.js</code>代码。</p><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nt"><img src="../Images/a9f6af9020f977a9652d1bc92f68f1fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*veQdIm38p661T1_kPR8c4w.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Blinking LED for every second</figcaption></figure><p id="77eb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用CLI将文件上传到Pico。</p><pre class="mq mr ms mt gt nk nf nl nm aw nn bi"><span id="deb0" class="no lc in nf b gy np nq l nr ns">$ kaluma flash index.js --port &lt;port&gt;</span></pre><p id="f4b2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上传完成后，您会看到LED每秒闪烁一次，如下图所示。</p><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/860278f2bb6be59140067b7050371eba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*yDjZeueuvzONjDUH3_khQA.gif"/></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">LED blinking every second</figcaption></figure><p id="05f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，我们编写了一个使用数字输出使LED闪烁的程序。数字输出控制是提供3.3V电源还是接地。简单的任务，如控制多个发光二极管或运行一个小DC电机很容易与数字输出。现在让我们进入下一个教程，使用数字输入来读取开关的状态。</p><div class="nv nw gp gr nx ny"><a href="https://niklauslee.medium.com/physical-computing-with-javascript-3-8-reading-state-of-switch-106137a2f9d6" rel="noopener follow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd io gy z fp od fr fs oe fu fw im bi translated">JavaScript物理计算— (3/8)读取开关状态</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">在本教程中，我们将使用数字输入读取开关是否被按下的状态。</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">niklauslee.medium.com</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om jt ny"/></div></div></a></div><p id="89b2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kw">更多内容请看</em><a class="ae la" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="kw">plain English . io</em></a></p></div></div>    
</body>
</html>