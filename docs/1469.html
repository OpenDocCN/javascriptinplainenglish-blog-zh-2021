<html>
<head>
<title>How to Use Third Party API’s with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中使用第三方API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-call-and-use-third-party-apis-in-vanilla-javascript-with-a-full-example-da44b095da03?source=collection_archive---------2-----------------------#2021-03-29">https://javascript.plainenglish.io/how-to-call-and-use-third-party-apis-in-vanilla-javascript-with-a-full-example-da44b095da03?source=collection_archive---------2-----------------------#2021-03-29</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/cfa7be49d4b63c24bbf7cc39a14c1a01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DLfxhPMv6KvPzaIO"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Photo by <a class="ae kd" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae kd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8758" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">作为一名新的开发人员，寻找工作意味着通读一份需求清单，我注意到了常见的技能组合。第三方API/REST的使用似乎很流行，所以知道如何调用API和使用它的数据很重要。</p><p id="c987" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is"><em class="lc">TL；dr </em></strong></p><h2 id="cd61" class="ld le ir bd lf lg lh dn li lj lk dp ll kp lm ln lo kt lp lq lr kx ls lt lu lv bi translated"><strong class="ak">什么是第三方API？</strong></h2><p id="5d9d" class="pw-post-body-paragraph ke kf ir kg b kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ma kz la lb ik bi translated"><em class="lc">“第三方API是由第三方提供的API，通常是脸书、Twitter或谷歌等公司，允许您通过JavaScript访问它们的功能并在您的网站上使用”——MDN</em></p><p id="628d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">从API调用数据的方法有很多，但我们只探讨最常见的几种:</p><p id="992f" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我们将在示例中使用JSONPlaceholder。</p><h1 id="4337" class="mb le ir bd lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo mp mq lu mr bi translated">方法一。取得</h1><pre class="ms mt mu mv gu mw mx my mz aw na bi"><span id="e8e9" class="ld le ir mx b gz nb nc l nd ne"><strong class="mx is">ES5</strong><br/>var getData = fetch('<!-- -->https://jsonplaceholder.typicode.com/posts<!-- -->')<br/>  .then(function(response) {<br/>    return response.json();<br/>  });<br/>  .then(function(jsonObject) {<br/>    return console.log(jsonObject);<br/>  });</span><span id="7bbb" class="ld le ir mx b gz nf nc l nd ne"><strong class="mx is">OR</strong></span><span id="c89c" class="ld le ir mx b gz nf nc l nd ne"><strong class="mx is">ES6</strong><br/>const getData = fetch('<!-- -->https://jsonplaceholder.typicode.com/posts'<!-- -->)<br/>  .then(response =&gt; response.json)<br/>  .then(jsonObject =&gt; console.log(jsonObject))</span><span id="f27f" class="ld le ir mx b gz nf nc l nd ne"><strong class="mx is">Then call the function to view the data in the console</strong><br/>getData()</span></pre><h1 id="c681" class="mb le ir bd lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo mp mq lu mr bi translated">方法二。Axios</h1><p id="ec5b" class="pw-post-body-paragraph ke kf ir kg b kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ma kz la lb ik bi translated">请记住，axios不像fetch那样内置在浏览器中，所以我们必须导入它。</p><pre class="ms mt mu mv gu mw mx my mz aw na bi"><span id="e50e" class="ld le ir mx b gz nb nc l nd ne"><strong class="mx is">ES5<br/></strong>const getData = axios.get('<!-- -->https://jsonplaceholder.typicode.com/posts'<!-- -->)<br/>  .then(function(response) {<br/>    console.log(response.data);<br/>});</span><span id="ecef" class="ld le ir mx b gz nf nc l nd ne"><strong class="mx is">ES6<br/></strong>const getData = axios.get('<!-- -->https://jsonplaceholder.typicode.com/posts'<!-- -->)<br/>  .then(response =&gt; console.log(response.data));</span><span id="a188" class="ld le ir mx b gz nf nc l nd ne"><strong class="mx is">Then call the function to view the data in the console</strong><br/>getData()</span></pre><h2 id="b7ec" class="ld le ir bd lf lg lh dn li lj lk dp ll kp lm ln lo kt lp lq lr kx ls lt lu lv bi translated">用例示例</h2><p id="6abc" class="pw-post-body-paragraph ke kf ir kg b kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ma kz la lb ik bi translated">让我们来看一个数据的示例。将URL放入您的浏览器:<code class="fe ng nh ni mx b"><a class="ae kd" href="https://jsonplaceholder.typicode.com/posts." rel="noopener ugc nofollow" target="_blank">https://jsonplaceholder.typicode.com/posts</a></code></p><p id="d62c" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">您应该得到这样的结果:</p><pre class="ms mt mu mv gu mw mx my mz aw na bi"><span id="efce" class="ld le ir mx b gz nb nc l nd ne">[<br/>  {<br/>    "userId": 1,<br/>    "id": 1,<br/>    "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",<br/>    "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"<br/>  },<br/>  {<br/>    "userId": 1,<br/>    "id": 2,<br/>    "title": "qui est esse",<br/>    "body": "est rerum tempore vitae\nsequi sint nihil reprehenderit dolor beatae ea dolores neque\nfugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\nqui aperiam non debitis possimus qui neque nisi nulla"<br/>  },<br/>  {<br/>    "userId": 1,<br/>    "id": 3,<br/>    "title": "ea molestias quasi exercitationem repellat qui ipsa sit aut",<br/>    "body": "et iusto sed quo iure\nvoluptatem occaecati omnis eligendi aut ad\nvoluptatem doloribus vel accusantium quis pariatur\nmolestiae porro eius odio et labore et velit aut"<br/>  },<br/>....<br/>]</span></pre><p id="5f8b" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">让我们为API请求创建一个<code class="fe ng nh ni mx b">service.js</code>文件:</p><pre class="ms mt mu mv gu mw mx my mz aw na bi"><span id="ad69" class="ld le ir mx b gz nb nc l nd ne">const fetchPosts = axios.get('<!-- -->https://jsonplaceholder.typicode.com/posts'<!-- -->)<br/>  .then(response =&gt; console.log(response.data))<br/>  .catch(error =&gt; console.error(error));</span><span id="1488" class="ld le ir mx b gz nf nc l nd ne">fetchPosts();</span></pre><p id="0ff8" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">让我们创建一个<code class="fe ng nh ni mx b">index.html</code>文件</p><pre class="ms mt mu mv gu mw mx my mz aw na bi"><span id="d310" class="ld le ir mx b gz nb nc l nd ne">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>  &lt;meta charset="UTF-8"&gt;<br/>    &lt;title&gt;Calling data from an API&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div&gt;<br/>      &lt;h1&gt;&lt;/h1&gt;<br/>      &lt;p&gt;&lt;/p&gt;<br/>   &lt;/div&gt;</span><span id="d47d" class="ld le ir mx b gz nf nc l nd ne">  &lt;script src="https://unpkg.com/axios/dist/axios.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="script.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="10dd" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在让我们更新我们的<code class="fe ng nh ni mx b">fetchPosts</code>请求，映射我们在<code class="fe ng nh ni mx b">script.js</code>文件中得到的数据。</p><pre class="ms mt mu mv gu mw mx my mz aw na bi"><span id="7f3d" class="ld le ir mx b gz nb nc l nd ne">const postTitle = document.querySelector('h1');<br/>const postBody = document.querySelector('p');</span><span id="7849" class="ld le ir mx b gz nf nc l nd ne">const fetchPosts = axios.get('<!-- -->https://jsonplaceholder.typicode.com/posts'<!-- -->)<br/>  .then(response =&gt; {<br/>    const data = response.data;<br/>    data.map(d =&gt; {<br/>      postTitle<!-- -->.innerHTML<!-- -->(response.data.title)<br/>      postBody<!-- -->.innerHTML<!-- -->(response.data.body)<br/>    })}<br/>    .catch(error =&gt; console.error(error));</span><span id="65f9" class="ld le ir mx b gz nf nc l nd ne">fetchPosts();</span></pre><p id="c702" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">应该就是这样了。它缺乏风格，但它的作品！</p></div><div class="ab cl nj nk hv nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ik il im in io"><h1 id="96f8" class="mb le ir bd lf mc nq me li mf nr mh ll mi ns mk lo ml nt mn lr mo nu mq lu mr bi translated">结论</h1><p id="9d54" class="pw-post-body-paragraph ke kf ir kg b kh lw kj kk kl lx kn ko kp ly kr ks kt lz kv kw kx ma kz la lb ik bi translated">感谢阅读。我希望它有帮助。如果是的话，请在评论中告诉我。</p></div></div>    
</body>
</html>