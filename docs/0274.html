<html>
<head>
<title>Use Function Expressions Instead of Function Declarations in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在JavaScript中使用函数表达式代替函数声明</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-use-function-expressions-instead-of-function-declarations-b5dd0572c3a6?source=collection_archive---------1-----------------------#2021-01-16">https://javascript.plainenglish.io/javascript-use-function-expressions-instead-of-function-declarations-b5dd0572c3a6?source=collection_archive---------1-----------------------#2021-01-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="93e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在工作中，我观察到了在代码库中创建函数的不同方式——这引导我寻找何时使用哪个函数的答案(声明还是表达式)。本文旨在分享为什么使用函数表达式通常比使用函数声明更好。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/f18e907b4a0d2abc1995bbc736cd5870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pUi3vkj06Vqp_sXeiI-UbQ.jpeg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Just some random code-related image to add a splash of colour haha (image from <a class="ae lc" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">Unsplash</a>)</figcaption></figure><p id="ff9a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">JavaScript有两种不同的方法来创建函数。函数声明已经被使用了很长时间，但是函数表达式的使用已经逐渐被取代。</p><pre class="kn ko kp kq gt ld le lf lg aw lh bi"><span id="1286" class="li lj iq le b gy lk ll l lm ln"><strong class="le ir">Declaration</strong></span><span id="de1c" class="li lj iq le b gy lo ll l lm ln">function functionDeclaration() {<br/>  return 'I am a function declaration';<br/>}</span><span id="3108" class="li lj iq le b gy lo ll l lm ln">const functionExpression = function() {<br/>  return 'I am a function expression';<br/>}<br/>________________</span><span id="7f4e" class="li lj iq le b gy lo ll l lm ln"><strong class="le ir">Expression</strong></span><span id="3bc4" class="li lj iq le b gy lo ll l lm ln"><strong class="le ir">ES5 form:</strong></span><span id="b7ed" class="li lj iq le b gy lo ll l lm ln">const functionExpression = function() {<br/>  return 'I am a function expression';<br/>}</span><span id="42c9" class="li lj iq le b gy lo ll l lm ln"><strong class="le ir">ES6 form (with fat arrows):</strong></span><span id="c1d6" class="li lj iq le b gy lo ll l lm ln">const functionDeclaration = () =&gt; {<br/>  return 'I am a function declaration';<br/>}</span></pre><p id="43f4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">函数表达式以关键字<code class="fe lp lq lr le b">var</code>、<code class="fe lp lq lr le b">let</code>或<code class="fe lp lq lr le b">const</code>开始创建一个命名变量。</p><p id="8e8a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，该函数根据所使用的关键字确定范围。<strong class="jp ir">作用域</strong>是保护全局作用域不受污染的好方法。使用<code class="fe lp lq lr le b">var</code>、<code class="fe lp lq lr le b">let</code>还是<code class="fe lp lq lr le b">const</code>取决于你希望如何应用作用域，以及你是否希望变量得到保护。</p><p id="fe3d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我通常大部分时间使用<code class="fe lp lq lr le b">const</code>,因为我通常不希望以后改变函数。它告诉其他开发人员这个变量是常数，并且只有一个值。如果您确实希望能够在某个时候更改该值，那么使用<code class="fe lp lq lr le b">let</code>作为块作用域，或者使用<code class="fe lp lq lr le b">var</code>作为函数作用域。</p><h1 id="4a9a" class="ls lj iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated"><strong class="ak">主要区别:吊装</strong></h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mp"><img src="../Images/ab07c690066794c909b1f13925c8243e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*yx12fwzg9Sd9OiVEzcbMSA.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Hoisting is JavaScript’s default behaviour of moving declarations to the top.</figcaption></figure><p id="9a37" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最重要的是，函数声明是提升的，而函数表达式是<strong class="jp ir">而不是</strong>提升的。</p><p id="f0ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">简单地说，提升意味着当一个函数声明出现在代码中的任何地方时，解析器会让它立即可用，就像它出现在第一行代码之前一样。</p><p id="9bda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另一方面，函数表达式根据您使用的变量关键字遵循更细微的提升规则。</p><p id="22e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在chrome控制台中运行:</p><pre class="kn ko kp kq gt ld le lf lg aw lh bi"><span id="08c3" class="li lj iq le b gy lk ll l lm ln">functionDeclaration();</span><span id="2155" class="li lj iq le b gy lo ll l lm ln">function functionDeclaration() {<br/>  return 'I am a function declaration';<br/>}</span></pre><p id="cf75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">…不会返回任何错误:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/c115d7bd1f6af7c820766abaed37d39d.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*yheueQSEE8SbIoBtzY0q3w.png"/></div></figure><p id="3911" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是运行这个:</p><pre class="kn ko kp kq gt ld le lf lg aw lh bi"><span id="f289" class="li lj iq le b gy lk ll l lm ln">functionExpression();</span><span id="a51c" class="li lj iq le b gy lo ll l lm ln">const functionExpression = () =&gt; {<br/>  return 'I am a function expression';<br/>}</span></pre><p id="aff3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">…返回一个错误:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mr"><img src="../Images/8ee57f1006af8a7c69d9fa32a0b1cca8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*3FDA62fnVAMXFWY8lZE1fw.png"/></div></div></figure><p id="4671" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">…因为该功能未被提升，且在使用前尚未初始化。</p><p id="c0d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们必须这样做:</p><pre class="kn ko kp kq gt ld le lf lg aw lh bi"><span id="35ec" class="li lj iq le b gy lk ll l lm ln">const functionExpression = () =&gt; {<br/>  return 'I am a function expression';<br/>}</span><span id="a982" class="li lj iq le b gy lo ll l lm ln">functionExpression();</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/596c2a24427e5babb7b0271b258d5c2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*GCP2gudIYcZIdSqbMXTC0Q.png"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Function expression: initialise the function before using it. No errors observed.</figcaption></figure><p id="3f78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这可能看起来不太方便，但是这意味着代码从上到下可读性更好，而不是依赖于Javascript解析器来移动内容，并且使用的任何函数在引用之前都已经定义好了。</p><p id="f933" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">提升听起来似乎是一件很方便的事情，但普遍的共识是，它鼓励编写其他开发人员难以理解的代码，尤其是在包含大量代码的文件中。</p><p id="8ad2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，函数表达式被广泛认为是创建函数的最佳实践。</p><h1 id="6202" class="ls lj iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated"><strong class="ak">结论</strong></h1><p id="3c68" class="pw-post-body-paragraph jn jo iq jp b jq mt js jt ju mu jw jx jy mv ka kb kc mw ke kf kg mx ki kj kk ij bi translated">正如我们所看到的，函数表达式并没有提供太多函数声明所不能提供的东西，但是使用它们通常可以产生更干净、更易读的代码。</p></div></div>    
</body>
</html>