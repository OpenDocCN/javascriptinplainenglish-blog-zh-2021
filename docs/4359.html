<html>
<head>
<title>GitHub Still Committing Files from .gitignore?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GitHub仍在提交来自。gitignore？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/github-still-commiting-files-from-gitignore-df8bfedea1d7?source=collection_archive---------14-----------------------#2021-08-30">https://javascript.plainenglish.io/github-still-commiting-files-from-gitignore-df8bfedea1d7?source=collection_archive---------14-----------------------#2021-08-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/991dd8e423559bf423ecdedd0030ee85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HIs-cWSn8iOMPmc5"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@richygreat?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Richy Great</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="de9d" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">这是怎么回事？</h1><p id="aafc" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">我们中的一些人是GitHub的新手，刚刚发现了<code class="fe lw lx ly lz b">.gitignore</code>文件的工作原理。基本上，它忽略了列表中的文件上传到远程存储库。如果你也想先了解更多关于GitHub的信息，你可以点击<a class="ae jz" href="https://sahil-more.medium.com/an-intro-to-github-and-its-usage-2c187f33070e" rel="noopener">这里</a>然后继续这篇文章。👍</p><h1 id="626f" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">为什么？</h1><p id="035e" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">我们大多数人一定在想为什么会这样。尽管该文件列在gitignore文件中，但它被推送到远程存储库。冷静点，你肯定漏掉了什么。让我们来看看…🌐</p><h1 id="8ea5" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">发生了什么事？</h1><p id="4b27" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">所以让我们从头开始。您已经创建了一个项目，并且正在将代码推送到远程存储库。但是你忘了添加一个文件夹假设<code class="fe lw lx ly lz b">node_modules</code>在这种情况下。所以你要做的是，在前一次提交之后，在<code class="fe lw lx ly lz b">.gitignore</code>文件中添加一个<code class="fe lw lx ly lz b">node_modules</code>条目。</p><p id="c7b3" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">假设这是你的<code class="fe lw lx ly lz b">.gitignore</code>文件:</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mf"><img src="../Images/41fc7017a6cab6c15eec2fcb50c716bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4biLTq2Dp34vOaAa8yHUkg.png"/></div></div></figure><p id="8336" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">但是这样做之后，你面临着同样的问题。文件夹<code class="fe lw lx ly lz b">node_modules</code>仍在远程端被推送。😕</p><h1 id="3925" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">为什么会这样？</h1><p id="abf2" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">你一定很惊讶，但<code class="fe lw lx ly lz b">.gitignore</code>正在完美地完成它的工作。它的功能是:</p><blockquote class="mk ml mm"><p id="714a" class="ky kz mn la b lb ma ld le lf mb lh li mo mc ll lm mp md lp lq mq me lt lu lv ig bi translated"><code class="fe lw lx ly lz b"><em class="in">.gitignore</em></code> <em class="in">会阻止未被跟踪的文件被添加到git跟踪的文件集中，但是git会继续跟踪任何已经被跟踪的文件。</em></p></blockquote><p id="0806" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">想起什么了吗？💡</p><p id="9bf3" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">所以，简单地说，<code class="fe lw lx ly lz b">.gitignore</code>不会影响已经被索引的文件。因为在第一次提交时已经将<code class="fe lw lx ly lz b">node_modules</code>文件夹添加到git索引中，所以它不会再次运行<code class="fe lw lx ly lz b">.gitignore</code>。它将只检查新创建的文件，而不是现有的文件，因此，如果你不做任何事情，<code class="fe lw lx ly lz b">node_modules</code>文件夹将永远不会被删除。</p><p id="52d7" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">现在，索引，在某种程度上，git索引就像是你的项目的缓存。它是本地项目文件和提交到存储库之间的中间层。要清除这个缓存，我们需要删除它，这样项目就可以在下一次提交时进行。</p><h1 id="4076" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">修复</h1><blockquote class="mk ml mm"><p id="fcd5" class="ky kz mn la b lb ma ld le lf mb lh li mo mc ll lm mp md lp lq mq me lt lu lv ig bi translated"><strong class="la io">清除您的阶段性项目</strong></p></blockquote><p id="0109" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">从缓存中取消跟踪您不想被文件跟踪的文件。我们不会删除实际的文件，而只是删除已经添加到缓存中的条目。对于执行命令的:</p><pre class="mg mh mi mj gt mr lz ms mt aw mu bi"><span id="8585" class="mv kb in lz b gy mw mx l my mz">git rm --cached &lt;filename&gt;</span></pre><p id="f02e" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">在这种情况下:<code class="fe lw lx ly lz b">git rm --cached node_modules</code></p><p id="4712" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">如果您有许多需要取消跟踪的文件，您可以选择退出以下选项:</p><pre class="mg mh mi mj gt mr lz ms mt aw mu bi"><span id="bc0a" class="mv kb in lz b gy mw mx l my mz">git rm --cached .</span></pre><p id="0ba6" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated">基本上，这个命令将删除所有缓存的文件，并开始像一个全新的存储库的缓存功能。</p></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><h1 id="289c" class="ka kb in bd kc kd nh kf kg kh ni kj kk kl nj kn ko kp nk kr ks kt nl kv kw kx bi translated">谢谢你:)</h1><p id="051f" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">希望你们喜欢这篇文章🙌<br/>请鼓掌让我知道👏<br/>在这里<a class="ae jz" href="mailto:sahilmore19999@gmail.com" rel="noopener ugc nofollow" target="_blank">发表你对新文章的建议</a>📬你也可以在这里给我买杯咖啡☕️</p><p id="9823" class="pw-post-body-paragraph ky kz in la b lb ma ld le lf mb lh li lj mc ll lm ln md lp lq lr me lt lu lv ig bi translated"><em class="mn">更多内容请看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="la io"><em class="mn">plain English . io</em></strong></a></p></div></div>    
</body>
</html>