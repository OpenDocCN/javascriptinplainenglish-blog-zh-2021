<html>
<head>
<title>How to Upload Files to Amazon S3 using Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Node.js将文件上传到亚马逊S3</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/file-upload-to-amazon-s3-using-node-js-42757c6a39e9?source=collection_archive---------2-----------------------#2021-11-14">https://javascript.plainenglish.io/file-upload-to-amazon-s3-using-node-js-42757c6a39e9?source=collection_archive---------2-----------------------#2021-11-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/1d1d0ae058a8fce8bcd52260a82e3647.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fz8BHPwSE1Yak9YsO4nYIw.jpeg"/></div></div></figure><p id="7852" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我们将了解如何使用Node.js和Express将文件推送到AWS S3。</p><h1 id="7f62" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">先决条件:</h1><ol class=""><li id="085b" class="lr ls in jx b jy lt kc lu kg lv kk lw ko lx ks ly lz ma mb bi translated">一个<a class="ae mc" href="https://ap-south-1.console.aws.amazon.com/console/home?region=ap-south-1" rel="noopener ugc nofollow" target="_blank"> AWS账户</a>。</li><li id="6e2d" class="lr ls in jx b jy md kc me kg mf kk mg ko mh ks ly lz ma mb bi translated">基本快速设置将使用Multer在后端上传文件。如果想了解Node.js中基本的文件上传，可以阅读<a class="ae mc" rel="noopener ugc nofollow" target="_blank" href="/uploading-files-in-node-js-using-multer-754526aa6817">这个</a>。</li></ol></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="b56c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">本文将分为两个部分:</p><p id="19e7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">1.创建AWS S3存储桶并赋予其适当的权限。</p><p id="f777" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">2.使用JavaScript从AWS S3上传和读取文件。</p><h1 id="850d" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">1.创建AWS S3存储桶并赋予其适当的权限</h1><p id="fcd2" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mp ki kj kk mq km kn ko mr kq kr ks ig bi translated"><strong class="jx io"> a .创建S3桶</strong></p><p id="dcb0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→登录AWS控制台，搜索S3服务</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/456544966544ab85531f552c3b7a4e1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nPeyNC8zBAWoGJVpKHBatw.png"/></div></div></figure><p id="2a24" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→创建一个桶。单击创建存储桶。</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/dbc59be8fa370f6db824accaceaf5ecc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CQp4rmkvBxQcDiVgOAdZwA.png"/></div></div></figure><p id="75d4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→写下您的<strong class="jx io">桶名</strong>和<strong class="jx io"> AWS区域</strong>。单击创建存储桶按钮</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/30fc0816feaf49bf54f4dfe8fa0b82ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mqDfxB1PMaVVwpeulvAL5g.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/09f175bdc3eb603e52fc58ad84bbc1d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zX8h7xd4v9FWIzBMYcDIQA.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/f43fc0fcf109fd4e5acdff14f34a22f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*15Mp3XuSJS9zoipkKVI7fg.png"/></div></div></figure><p id="5fc8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→桶已成功创建。我们将使用Node.js将文件上传到这个桶中</p><p id="1c3e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→在Node.js应用程序中，我们需要存储桶名称和区域。</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/09ecdfc283288e3b1aac340e1156ea7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xS6SPtrbpLjDu7DYaTbBNQ.png"/></div></div></figure><p id="cf39" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→由于我们是这个S3存储桶的创建者，我可以从AWS控制台读取、写入、删除和更新。如果我们想在快递服务器上做。我们需要使用IAM策略授予一些权限。</p><p id="00eb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> b .创建IAM策略:</strong></p><p id="ec90" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→转到AWS中的IAM服务</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/60f15e51ebeb481fccf41ff94d37a466.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-hH9AdCRamq2tTNiWZUJ3g.png"/></div></div></figure><p id="2fc1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→点击政策</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/af1707f326bca8d9593bdd6d331ae702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cv4VSRC1cRdQuUwXFQAvSA.png"/></div></div></figure><p id="5142" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→点击创建策略按钮</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/4571baee0f0aa8d67571046c9e65a6d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CYbfsWv3cvOsdV6eFGrBFg.png"/></div></div></figure><p id="73dc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→我们现在将创建我们的策略。这是我们新创建的bucket所特有的。</p><p id="5116" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→点击选择服务并选择S3</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/6f3c5ef369081b6c52df75f958e22998.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XiazAOZCRZPJjhRHnMl-bw.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/c49cf38509ff3d4f5cd5be9bdd2c54b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ma_WEbZ9TA4UJDVag3hXag.png"/></div></div></figure><p id="15bb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→我们可以给予桶许多S3权限。对于上传和阅读以下权限将足够了</p><blockquote class="mx my mz"><p id="32ee" class="jv jw na jx b jy jz ka kb kc kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ks ig bi translated">getObject —从S3阅读</p><p id="b5c4" class="jv jw na jx b jy jz ka kb kc kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ks ig bi translated">putObject —给S3写信</p><p id="0109" class="jv jw na jx b jy jz ka kb kc kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ks ig bi translated">删除对象—从S3删除</p></blockquote><p id="de10" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→点击写入并选择<strong class="jx io">放置对象</strong>和<strong class="jx io">删除对象</strong></p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/f86fd206c4d2ec240a8b630f45c1bc18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4lF71QckIic0IzjQcih_2g.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/400cf018f77ad64c5dc469080fbe5070.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uOAqPMj4IUXbX5o3CAhsMw.png"/></div></div></figure><p id="d7a0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→点击读取并选择getObject</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/f8c7a3b166564c511b47636a31582a6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5nNzultdI-47u_6LRdzE5A.png"/></div></div></figure><p id="d95b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→下一步是添加ARN。ARN的意思是你斗身份</p><pre class="mt mu mv mw gt ne nf ng nh aw ni bi"><span id="a069" class="nj ku in nf b gy nk nl l nm nn"> arn:aws::s3:::&lt;your_bucket_name&gt;       // ARN SYNTAX</span></pre><p id="214b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">arn:was::S3::::AWS-每日销售</p><p id="d9bc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→我们选择特定的ARN，因为这些规则将应用于特定的S3时段。</p><p id="59ea" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→点击添加arn</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/ab32f1433e401904258a441bc8504bb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dz0MKRwap0xj6Kn5moySMg.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/2fad5dbe0d2e4b65ea1162e6ea941536.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1NQZtN2A4vGgQMcHb3Cllw.png"/></div></div></figure><p id="a62b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→粘贴您的存储桶名称，并勾选任何对象名称。</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/2afb4b6d80024945cde2e3c69a336d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D_YYvHHftd2U92jDcGMVPg.png"/></div></div></figure><p id="2f1f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→我们现在加热几个下一步按钮</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/fe794d0e2351281cf5720865249ddac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z8568LjfKepFkvvGvzzf-w.png"/></div></div></figure><p id="0684" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→点击<strong class="jx io">创建策略</strong></p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/9f248b713e29773e5a72bd3ef0822364.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y5arOZDa_9ahTSvYiKP5QQ.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/b8ae01f33b3173803e9f18f5d28694c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*efD4rBa2YdvyoFMTa5kzcA.png"/></div></div></figure><p id="01fd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→我们现在看到我们的策略已创建。它具有读取、写入和删除权限。</p><p id="c3da" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> c .创建一个IAM用户:</strong></p><p id="d3a3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→这可以是访问S3桶的物理用户或代码。</p><p id="15f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→点击IAM左侧浏览器中的用户</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/0026cd063266b8a6748c536b34e981af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZVXEafyQ_vwSGQ1cHg3idg.png"/></div></div></figure><p id="ef73" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→点击添加用户</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/a0e604b847919751543b53fba216ba9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8PP6jZCdBBgobYJpWqS-uA.png"/></div></div></figure><p id="6d54" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→写下用户的名字。因为我们的快速应用程序将访问S3。</p><p id="7edb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">给予<strong class="jx io">编程访问</strong>意味着<strong class="jx io">代码/服务器</strong>是<strong class="jx io">用户</strong>将访问它。对于我们的case Node.js应用</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/313b874131d163b3916c8f1c29003e9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lIKoqEgrlGT4dCCOQ6PB_g.png"/></div></div></figure><p id="950a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→最后，我们将获得在JavaScript应用程序中使用的<strong class="jx io">访问密钥Id和密钥</strong>，如下所示:</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/a0f076840a73e330e12c2c97ab66d013.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*steqDYUaDkMp2JaTPqYyJA.png"/></div></div></figure><p id="d42d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→在第三个选项卡中，我们附加了上面创建的IAM策略。我们现在单击几个“下一步”按钮</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/e8a2d1bda0d3dc9082f8deb2c169a09c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0LG-Gfpxftq38XcIbtAQ8A.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/ceaebd5047f1a257a8e00877b875b762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-KUqmUS3uGhcE6qo03QpVw.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/93acf0ed9c2ca9f5ea846d15243b1302.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WvnEi5DqKsDly1jmwKmDoA.png"/></div></div></figure><p id="1d63" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→点击创建用户按钮</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/c2815a460a38ca5cd4da368f09d7cd60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cU1WvwLUurBxSuJRB3UA9Q.png"/></div></div></figure><p id="29cb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→我们获得<strong class="jx io">访问密钥Id和密钥</strong>(出于安全原因，不要与任何人共享您的密钥)</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/dc1b7250806ca6d67e94235236351b89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hhYdOb9fJbTtlPYpWoREKg.png"/></div></div></figure><p id="22b9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→粘贴您的。应用程序的env文件</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/f4cb9da573dd4fa1233be415abd8c7d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6aRAiQXRBhdPCj6iBnqNlA.png"/></div></div></figure><p id="be3a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→下一步是写一些javascript代码，向S3读写代码。</p></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><h1 id="043d" class="kt ku in bd kv kw no ky kz la np lc ld le nq lg lh li nr lk ll lm ns lo lp lq bi translated">2.使用JavaScript从AWS S3上传和读取文件</h1><p id="f6fa" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mp ki kj kk mq km kn ko mr kq kr ks ig bi translated"><strong class="jx io"> a .文件上传概要(使用Multer): </strong></p><p id="8baa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→ Express有两种发布路径——单条和多条，分别使用Multer上传单幅和多幅图像。</p><p id="2d2e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→图像保存在服务器/公共/图像中。</p><p id="8ea7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→利用前端调用两条路线的客户端应用程序</p><p id="7c25" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完整文章请在这里<a class="ae mc" rel="noopener ugc nofollow" target="_blank" href="/uploading-files-in-node-js-using-multer-754526aa6817">阅读。</a></p><p id="81a1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> b .将AWS与Express集成</strong></p><p id="5934" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→创建。env文件并粘贴您的AWS凭证</p><pre class="mt mu mv mw gt ne nf ng nh aw ni bi"><span id="eb01" class="nj ku in nf b gy nk nl l nm nn">AWS_BUCKET_NAME="aws-daily-files"<br/>AWS_BUCKET_REGION="ap-south-1"<br/>AWS_ARN=arn:aws:s3:::aws-daily-files<br/>AWS_ACCESS_KEY=AKIAS3D3V2NC4EJAMEEZ<br/>AWS_SECRET_KEY=3WE************************pcH</span></pre><p id="a96c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→使用以下命令安装AWS SDK</p><pre class="mt mu mv mw gt ne nf ng nh aw ni bi"><span id="4550" class="nj ku in nf b gy nk nl l nm nn">npm install aws-sdk dotenv</span></pre><p id="dceb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→在应用程序中创建s3.js文件</p><p id="cc9a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">c.给S3写信:</p><pre class="mt mu mv mw gt ne nf ng nh aw ni bi"><span id="ac3a" class="nj ku in nf b gy nk nl l nm nn"><strong class="nf io">require</strong>("dotenv").<strong class="nf io">config</strong>();</span><span id="39b3" class="nj ku in nf b gy nt nl l nm nn">const <strong class="nf io">S3</strong> = <strong class="nf io">require</strong>("aws-sdk/clients/s3");</span><span id="01bc" class="nj ku in nf b gy nt nl l nm nn">const <strong class="nf io">fs</strong> = <strong class="nf io">require</strong>("fs");</span><span id="52ed" class="nj ku in nf b gy nt nl l nm nn">const bucketName = process.env.AWS_BUCKET_NAME;</span><span id="316d" class="nj ku in nf b gy nt nl l nm nn">const region = process.env.AWS_BUCKET_REGION;</span><span id="4b44" class="nj ku in nf b gy nt nl l nm nn">const accessKeyId = process.env.AWS_ACCESS_KEY;</span><span id="ecc8" class="nj ku in nf b gy nt nl l nm nn">const secretAccessKey = process.env.AWS_SECRET_KEY;</span><span id="6b9c" class="nj ku in nf b gy nt nl l nm nn">const s3 = new <strong class="nf io">S3</strong>({</span><span id="a027" class="nj ku in nf b gy nt nl l nm nn">  region,</span><span id="3700" class="nj ku in nf b gy nt nl l nm nn">  accessKeyId,</span><span id="4ea4" class="nj ku in nf b gy nt nl l nm nn">  secretAccessKey,</span><span id="e9ad" class="nj ku in nf b gy nt nl l nm nn">});<br/></span><span id="3582" class="nj ku in nf b gy nt nl l nm nn"><em class="na">// UPLOAD FILE TO S3</em></span><span id="d4c5" class="nj ku in nf b gy nt nl l nm nn">function <strong class="nf io">uploadFile</strong>(file) {</span><span id="2f22" class="nj ku in nf b gy nt nl l nm nn">  const fileStream = <strong class="nf io">fs</strong>.<strong class="nf io">createReadStream</strong>(file.path);</span><span id="7a6d" class="nj ku in nf b gy nt nl l nm nn">  const uploadParams = {</span><span id="184f" class="nj ku in nf b gy nt nl l nm nn">    Bucket: bucketName,</span><span id="7836" class="nj ku in nf b gy nt nl l nm nn">    Body: fileStream,</span><span id="37d7" class="nj ku in nf b gy nt nl l nm nn">    Key: file.filename,</span><span id="b906" class="nj ku in nf b gy nt nl l nm nn">  };</span><span id="ff29" class="nj ku in nf b gy nt nl l nm nn">return s3.<strong class="nf io">upload</strong>(uploadParams).<strong class="nf io">promise</strong>(); // this will upload file to S3</span><span id="fc33" class="nj ku in nf b gy nt nl l nm nn">}</span><span id="addd" class="nj ku in nf b gy nt nl l nm nn">module.exports = { <strong class="nf io">uploadFile </strong>};</span></pre><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/41f31daec572c2a8e2257f258dc29070.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JqNPyzQ66rQpUJ8C1bwNtQ.png"/></div></div></figure><p id="69ad" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→现在转到您的路线文件</p><p id="6fca" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">服务器/路由器/索引. js</p><pre class="mt mu mv mw gt ne nf ng nh aw ni bi"><span id="dc38" class="nj ku in nf b gy nk nl l nm nn">var <strong class="nf io">express</strong> = <strong class="nf io">require</strong>("express");</span><span id="5195" class="nj ku in nf b gy nt nl l nm nn">var router = <strong class="nf io">express</strong>.<strong class="nf io">Router</strong>();</span><span id="df8d" class="nj ku in nf b gy nt nl l nm nn">const upload = <strong class="nf io">require</strong>("../common");</span><span id="6120" class="nj ku in nf b gy nt nl l nm nn">const { <strong class="nf io">uploadFile </strong>} = <strong class="nf io">require</strong>("../s3");</span><span id="bf29" class="nj ku in nf b gy nt nl l nm nn">const <strong class="nf io">fs</strong> = <strong class="nf io">require</strong>("fs");</span><span id="fe7e" class="nj ku in nf b gy nt nl l nm nn">const <strong class="nf io">util</strong> = <strong class="nf io">require</strong>("util");</span><span id="d02d" class="nj ku in nf b gy nt nl l nm nn">const <strong class="nf io">unlinkFile</strong> = <strong class="nf io">util</strong>.<strong class="nf io">promisify</strong>(<strong class="nf io">fs</strong>.<strong class="nf io">unlink</strong>);<br/></span><span id="dabc" class="nj ku in nf b gy nt nl l nm nn">router.<strong class="nf io">post</strong>("/single", upload.<strong class="nf io">single</strong>("image"), async (req, res) =&gt; {</span><span id="2918" class="nj ku in nf b gy nt nl l nm nn">  console.<strong class="nf io">log</strong>(req.file);</span><span id="6f3c" class="nj ku in nf b gy nt nl l nm nn"><em class="na">  // uploading to AWS S3</em></span><span id="7618" class="nj ku in nf b gy nt nl l nm nn">  const result = await <strong class="nf io">uploadFile</strong>(req.file);  // Calling above function in s3.js</span><span id="3194" class="nj ku in nf b gy nt nl l nm nn">  console.<strong class="nf io">log</strong>("S3 response", result);</span><span id="271c" class="nj ku in nf b gy nt nl l nm nn"><em class="na">  // You may apply filter, resize image before sending to client</em></span><span id="e725" class="nj ku in nf b gy nt nl l nm nn"><em class="na">  // Deleting from local if uploaded in S3 bucket</em></span><span id="e466" class="nj ku in nf b gy nt nl l nm nn">  await <strong class="nf io">unlinkFile</strong>(req.file.path);</span><span id="4426" class="nj ku in nf b gy nt nl l nm nn">  res.<strong class="nf io">send</strong>({</span><span id="a28b" class="nj ku in nf b gy nt nl l nm nn">    status: "success",</span><span id="5225" class="nj ku in nf b gy nt nl l nm nn">    message: "File uploaded successfully",</span><span id="368a" class="nj ku in nf b gy nt nl l nm nn">    data: req.file,</span><span id="3cc9" class="nj ku in nf b gy nt nl l nm nn">  });</span><span id="0e32" class="nj ku in nf b gy nt nl l nm nn">});</span><span id="8dcf" class="nj ku in nf b gy nt nl l nm nn">module.exports = router;</span></pre><p id="ba19" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→我们创建了一个<a class="ae mc" href="https://github.com/AmirMustafa/upload_file_nodejs/blob/master/client/src/App.js" rel="noopener ugc nofollow" target="_blank">基本前端</a>,它发送数据以表示后多部分数据</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/56a947316cae02acb8e5c60fc75e56b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EtkBp5IcsrYVzIjcgiqB2Q.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/c27eb1d315e92ea37f95d641e990c002.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ktvtDRW-mZ6vodzSMt0VfQ.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/8d764c8e76ad3ebeca11b2885a0fb161.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VMRw6YSqzqokWTpb1XVbsw.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nv"><img src="../Images/3a1bb4a40646861097a1c470a2544f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mcQlHg62y8EW2QULB0ndXw.png"/></div></div></figure><p id="23d6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→从S3读取数据并在客户端打印如下。现在，我们将看到数据将被上传，也是在自动气象站控制台的S3桶。</p><p id="9883" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上传前的AWS控制台</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nw"><img src="../Images/397b63e5fd5b2b710e5f958ec5fb4142.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*juqLhnK0BjJzH2UHPsNT6g.png"/></div></div></figure><p id="7567" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→点击发送到后端按钮</p><p id="33ea" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→在Node.js服务器终端中，我们看到从S3打印的响应。这里的关键字是文件名，路径是文件的位置。</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/8c1063f1652422ec11be5116ae439fdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xS8jr57JA8AJSZOjsqnhRg.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nx"><img src="../Images/71a4b5c8d087e98ad2dcb0833af4d986.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pWB6zSC6wHzl4O8wbvdvdg.png"/></div></div></figure><p id="d5c5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→让我们检查一下S3。我们看到S3上传了一个新文件</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/0f0e6010e1f260579224e450fdd3fdef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6xuO6lkD-IMqnlNaZ7kMpA.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/a266843efad6f390a6ab9298dc488dc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q08CWU1Z4xoB2SMMZEon5Q.png"/></div></div></figure><p id="df72" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">d.正在从S3读取文件:</p><p id="e37c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→我们从上图中看到，新图像反映了来自S3的客户端。让我们为它编写代码。</p><p id="fae8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">server/s3.js</p><pre class="mt mu mv mw gt ne nf ng nh aw ni bi"><span id="e315" class="nj ku in nf b gy nk nl l nm nn"><strong class="nf io">require</strong>("dotenv").<strong class="nf io">config</strong>();</span><span id="c472" class="nj ku in nf b gy nt nl l nm nn">const <strong class="nf io">S3</strong> = <strong class="nf io">require</strong>("aws-sdk/clients/s3");</span><span id="3479" class="nj ku in nf b gy nt nl l nm nn">const <strong class="nf io">fs</strong> = <strong class="nf io">require</strong>("fs");</span><span id="56e9" class="nj ku in nf b gy nt nl l nm nn">const bucketName = process.env.AWS_BUCKET_NAME;</span><span id="def9" class="nj ku in nf b gy nt nl l nm nn">const region = process.env.AWS_BUCKET_REGION;</span><span id="1ceb" class="nj ku in nf b gy nt nl l nm nn">const accessKeyId = process.env.AWS_ACCESS_KEY;</span><span id="ba24" class="nj ku in nf b gy nt nl l nm nn">const secretAccessKey = process.env.AWS_SECRET_KEY;</span><span id="1500" class="nj ku in nf b gy nt nl l nm nn">const s3 = new <strong class="nf io">S3</strong>({<br/>  region,<br/>  accessKeyId,<br/>  secretAccessKey,<br/>});</span><span id="e75b" class="nj ku in nf b gy nt nl l nm nn"><em class="na">// DOWNLOAD FILE FROM S3</em></span><span id="0915" class="nj ku in nf b gy nt nl l nm nn">function <strong class="nf io">getFileStream</strong>(fileKey) {</span><span id="ee06" class="nj ku in nf b gy nt nl l nm nn">  const downloadParams = {</span><span id="abab" class="nj ku in nf b gy nt nl l nm nn">  Key: fileKey,</span><span id="7b0d" class="nj ku in nf b gy nt nl l nm nn">  Bucket: bucketName,</span><span id="6a46" class="nj ku in nf b gy nt nl l nm nn">};</span><span id="1b22" class="nj ku in nf b gy nt nl l nm nn">return s3.<strong class="nf io">getObject</strong>(downloadParams).<strong class="nf io">createReadStream</strong>();</span><span id="15bf" class="nj ku in nf b gy nt nl l nm nn">}</span><span id="16d0" class="nj ku in nf b gy nt nl l nm nn">module.exports = { <strong class="nf io">uploadFile</strong>, <strong class="nf io">getFileStream</strong> };</span></pre><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/18533d3c3cd3982d4ba104c059b0ccb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Lf4vr3pVzP5vG9GZ4Q4pw.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/9d24296f16bcc6996ab332256a7ad6fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bp5QDtFawhGuvE2i5zEaAg.png"/></div></div></figure><p id="de38" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→使用此功能路线</p><p id="d24c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">服务器/路由/索引. js</p><pre class="mt mu mv mw gt ne nf ng nh aw ni bi"><span id="f696" class="nj ku in nf b gy nk nl l nm nn">var <strong class="nf io">express</strong> = <strong class="nf io">require</strong>("express");</span><span id="640b" class="nj ku in nf b gy nt nl l nm nn">var router = <strong class="nf io">express</strong>.<strong class="nf io">Router</strong>();</span><span id="4571" class="nj ku in nf b gy nt nl l nm nn">const upload = <strong class="nf io">require</strong>("../common");</span><span id="18ba" class="nj ku in nf b gy nt nl l nm nn">const { <strong class="nf io">uploadFile</strong>, <strong class="nf io">getFileStream</strong> } = <strong class="nf io">require</strong>("../s3");</span><span id="afd0" class="nj ku in nf b gy nt nl l nm nn">const <strong class="nf io">fs</strong> = <strong class="nf io">require</strong>("fs");</span><span id="3d04" class="nj ku in nf b gy nt nl l nm nn">const <strong class="nf io">util</strong> = <strong class="nf io">require</strong>("util");</span><span id="b1dd" class="nj ku in nf b gy nt nl l nm nn">const <strong class="nf io">unlinkFile</strong> = <strong class="nf io">util</strong>.<strong class="nf io">promisify</strong>(<strong class="nf io">fs</strong>.<strong class="nf io">unlink</strong>);</span><span id="c0f6" class="nj ku in nf b gy nt nl l nm nn"><br/>router.<strong class="nf io">get</strong>("/images/:key", (req, res) =&gt; {</span><span id="a156" class="nj ku in nf b gy nt nl l nm nn">  const key = req.params.key;</span><span id="8230" class="nj ku in nf b gy nt nl l nm nn">  console.<strong class="nf io">log</strong>(req.params.key);</span><span id="f6ac" class="nj ku in nf b gy nt nl l nm nn">  const readStream = <strong class="nf io">getFileStream</strong>(key);</span><span id="e7c3" class="nj ku in nf b gy nt nl l nm nn">  readStream.<strong class="nf io">pipe</strong>(res);  // this line will make image readable</span><span id="5bb8" class="nj ku in nf b gy nt nl l nm nn">});</span><span id="df1e" class="nj ku in nf b gy nt nl l nm nn">// eg &lt;serverurl&gt;/images/<a class="ae mc" href="https://s3.console.aws.amazon.com/s3/object/aws-daily-files?region=ap-south-1&amp;prefix=1636897090753-Coffee_book.jpeg" rel="noopener ugc nofollow" target="_blank">1636897090753-Coffee_book.jpeg</a> // to be used in client</span></pre><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/af655a5a813b66886623c0d0e2cf9c53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dA9T-1Qf4Mv0JX3nB5ZWbA.png"/></div></div></figure><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/fcb9b96e65f3fd678f67d4d2c1af2ae4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xo8pgp8ovuQL7f9gsCTXQQ.png"/></div></div></figure><p id="f5e3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">→在前端，我们将利用<strong class="jx io"> S3响应键</strong>并在客户端使用</p><figure class="mt mu mv mw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/56a947316cae02acb8e5c60fc75e56b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EtkBp5IcsrYVzIjcgiqB2Q.png"/></div></div></figure><h1 id="7dfe" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">视频:</h1><p id="0ef5" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mp ki kj kk mq km kn ko mr kq kr ks ig bi translated"><a class="ae mc" href="https://secure.vidyard.com/organizations/1904214/players/pkYErcDdJVXuoBrcn8Tcgs?edit=true&amp;npsRecordControl=1" rel="noopener ugc nofollow" target="_blank">https://secure . vidyard . com/organizations/1904 214/players/pkyercdjvxuobrcn 8 tcgs？edit = true&amp;npsRecordControl = 1</a></p><h1 id="8e66" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">存储库:</h1><p id="67db" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mp ki kj kk mq km kn ko mr kq kr ks ig bi translated"><a class="ae mc" href="https://github.com/AmirMustafa/upload_file_nodejs" rel="noopener ugc nofollow" target="_blank">https://github.com/AmirMustafa/upload_file_nodejs</a></p><h1 id="1046" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">结束语:</h1><p id="61c3" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mp ki kj kk mq km kn ko mr kq kr ks ig bi translated">我们已经学习了如何从AWS S3存储桶上传和读取文件。</p><blockquote class="mx my mz"><p id="5518" class="jv jw na jx b jy jz ka kb kc kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ks ig bi translated">谢谢你一直读到最后🙌。如果您喜欢这篇文章或学到了新东西，请点击下面的分享按钮来支持我，与更多的人联系，和/或在<a class="ae mc" href="https://twitter.com/amir__mustafa" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，查看我学到的其他技巧、文章和事情，并在那里分享。</p></blockquote><div class="ny nz gp gr oa ob"><a href="https://twitter.com/amir__mustafa" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd io gy z fp og fr fs oh fu fw im bi translated">关注Amir Mustafa的JavaScript、TypeScript和AWS内容。</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">twitter.com</h3></div></div><div class="oj l"><div class="ok l ol om on oj oo jt ob"/></div></div></a></div><p id="e059" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="na">更多内容尽在</em><a class="ae mc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="na">plain English . io</em></strong></a></p></div></div>    
</body>
</html>