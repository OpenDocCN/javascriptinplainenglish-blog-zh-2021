# 将大型应用程序从 AngularJS 迁移到 Angular

> 原文：<https://javascript.plainenglish.io/migrating-a-large-application-from-angularjs-to-angular-7560a1218a6b?source=collection_archive---------12----------------------->

## 我的 9 步计划有助于优化从一个框架到另一个框架的迁移

![](img/f07dd4cd1cb4634c6d0b06edee03a4d6.png)

总的来说，迁移是一个相当复杂的过程，它是单独发生的。当然，有一般的规则和信息，但你可能会面临你不知道的问题。因此，当我们迁移一个大的应用程序时，它可能需要很长时间，并且有不同的细微差别。现在，让我们更详细地谈谈如何使成角偏移成为一个更愉快的过程。

我向您提供我的计划来帮助优化从一个框架到另一个框架的迁移:

![](img/15a5b2883f3e4e8aca0f055f69685809.png)

## 1.让我们从最新版本的现代化开始吧！

由于角度架构是基于组件的使用，这将是一个很好的迁移解决方案。

## 2.Angular 的特点是代码的每个组成部分都有自己的文件。

我建议您使用单一责任规则，因为这将极大地简化角度迁移操作。

## 3.如果你曾经和一个打包工一起工作，现在是改变的最佳时机！

NPM 上场了。为此，创建一个文件 *package.json* ，并移动 NPM 中的所有依赖项。

如果某些依赖是不可读的，不适合 NPM，我建议进行研究，并找到一种方法来转换它们。

也有依赖关系无法替换的情况(通常是因为它们已经极度过时，并且在产品中被广泛使用)。我提供两种方法来解决这个问题。如果依赖本身很小，不是很复杂，那就把它变成一个指令(相信我，这是一个非常好的决定，你不会失去什么)。如果依赖比较困难，占用空间比较大，就把它做成一个[本地 npm 包](https://www.aaron-powell.com/posts/2020-03-02-making-it-easier-to-work-with-local-npm-packages/)，把相对 URL 追加到 *package.json* (即使没有在 NPM 中发布的条件)。

## 4.我想每个对角向迁移感兴趣的人都听说过这种转变。

由于 Angular 是基于 TypeScript 的，所以不实现它会很奇怪。此外，在迁移的早期阶段实现它是一个非常好的想法，这将极大地简化所有进一步的活动。我们的目标是在过渡到混合状态后，逐渐将完整的应用程序迁移到 Angular 的最新版本。

## 5.现在我们面前有一份责任重大的工作，所以我们会努力做好每一件事。

也就是说，集成将 TS 文件转换成 JS 并将它们合并成一个公共文件的组装工具。

要做到这一点，有一个很好的工具——web pack。使用以下命令安装必要的软件包:

![](img/79b26c27895b8b2d58055ace6c888f5f.png)

然后添加必要的配置，并逐步进行 web 包的配置。为此，创建一个文件***web pack . config . js****，并添加必要的配置。*

*一般来说，然后遵循所有的标准程序，如传统的应用程序。因为我们处理的是一个很大的对象，复杂性在于大量的数据，需要更多的注意力和时间。当然，不可能全部避免，所以我们逐渐进入下一个阶段。*

## *6.是时候面对你项目中的错误了。*

*从我自己的经验来看，我想说，当我用一个大型应用程序进行迁移时，我在这个阶段有 855 个错误。当然，这有点动摇了我对自己能力的看法。然而，我深入研究了这个问题，发现当有很多这样的问题时，这是正常的。总的来说，它们都是相似的，这些错误是由于缺少导入、缺少属性以及其他与您的项目直接相关的原因造成的。如果你不能为它找到一个决定，那么谷歌和开发者论坛将成为你最好的朋友。*

## *7.只有现在我们才能把 Angular 的最新版本放到项目中。*

*为此，更改文件 *package.json* 并添加剩余的依赖项。*

## *8.本模块包括带有用户接口路由器的 ngUpgrade。*

*这允许 UI 路由器与两个框架的组件一起工作。只要你稳定地移动到最后一个角度，你的程序就会有角度。使用 *@uirouter / angular-hybrid* ，您可以使用 angular 部分和 AngularJS 段来确定状态。*

## *9.为了测试新特性，您需要构建一个新组件，并观察它在环境中的响应。*

*如果我们谈论移动大量应用程序所花费的时间，这是相当可观的时间。如果通常的迁移需要一到两周或两周半，那么你必须工作五周。如果是一群有经验的程序员，将会提供这种服务，因为就时间和物理资源而言，一个人做这件事是非常困难和昂贵的。*

## *结论*

*就是这样，你伟大的 app 已经成功从 AngularJS 迁移到 Angular 了。当然，这是一个漫长而艰难的过程，但你肯定会喜欢新的框架。尽情享受吧！*