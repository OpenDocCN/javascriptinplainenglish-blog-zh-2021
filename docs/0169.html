<html>
<head>
<title>How to use React Context with Hooks &amp; TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将React上下文与Hooks &amp; TypeScript一起使用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-react-context-with-hooks-typescript-a21b1460feb6?source=collection_archive---------3-----------------------#2021-01-10">https://javascript.plainenglish.io/how-to-use-react-context-with-hooks-typescript-a21b1460feb6?source=collection_archive---------3-----------------------#2021-01-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0d00" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">简单明了</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f3d797c3f03ece6b51eb3adfbe9bd8a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O_s5AL49Adr_1m1zdA9SfQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@mohammadtkh" rel="noopener ugc nofollow" target="_blank">mohammadtkh</a> on <a class="ae kv" href="https://unsplash.com/s/photos/context" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8379" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然我并不总是使用React上下文，但在一些用例中，它可能是一个很好的工具。最近，我不得不在一个带有钩子的TypeScript项目中使用它们，为此挣扎了一下。</p><h1 id="9c8b" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">计数器上下文</h1><p id="7c8a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我将演示如何用一个<code class="fe mp mq mr ms b">Counter</code>组件以一种简洁明了的方式编写一个React上下文。该组件的工作方式如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/01dfb01522b930312b191656a76d012f.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/1*dK3zxMSDVS4ChZAmMWh25A.gif"/></div></figure><p id="ccdc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从<a class="ae kv" href="https://fr.reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank"> React文档</a>中，我们首先需要使用<code class="fe mp mq mr ms b">createContext</code>来定义一个上下文(带有默认值)。当我们使用TypeScript时，我们还需要定义它的形状。</p><p id="4642" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们创建一个<code class="fe mp mq mr ms b">CounterContext.tsx</code>文件:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="effe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦定义完毕，我们就可以创建一个<code class="fe mp mq mr ms b">CounterContextProvider</code>，它将负责:</p><ul class=""><li id="60d4" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">存储计数器状态。</li><li id="3502" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">处理增量操作。</li></ul><p id="774d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们编写并导出它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="58c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们可以创建一个带有<code class="fe mp mq mr ms b">Counter</code>组件的<code class="fe mp mq mr ms b">Counter.tsx</code>文件，并在我们的应用程序中添加<code class="fe mp mq mr ms b">Counter</code>和<code class="fe mp mq mr ms b">CounterContextProvider</code>。</p><p id="a227" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于反应堆:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="936c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们可以用最简单的方法用<a class="ae kv" href="https://fr.reactjs.org/docs/hooks-reference.html#usecontext" rel="noopener ugc nofollow" target="_blank"> useContext </a>实现我们的<code class="fe mp mq mr ms b">Counter</code>组件:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h2 id="2e97" class="nk lt iq bd lu nl nm dn ly nn no dp mc lf np nq me lj nr ns mg ln nt nu mi nv bi translated">结论</h2><p id="5233" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们做到了！希望您现在知道如何更好地使用React上下文。感谢阅读！</p></div><div class="ab cl nw nx hu ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ij ik il im in"><div class="kg kh ki kj gt od"><a href="https://morintd.medium.com/about-me-teddy-morin-9fb1d65fe24e" rel="noopener follow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">关于我——泰迪·莫林</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">嗨，我是泰迪，一个反应的爱人🚀。</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">morintd.medium.com</p></div></div><div class="om l"><div class="on l oo op oq om or kp od"/></div></div></a></div><ul class=""><li id="51da" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated"><strong class="ky ir">【1】上下文—反应:</strong><a class="ae kv" href="https://fr.reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank">https://fr.reactjs.org/docs/context.html</a></li><li id="aecc" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated"><strong class="ky ir">【2】钩子API引用—React(use context):</strong><a class="ae kv" href="https://reactjs.org/docs/hooks-reference.html#usecontext" rel="noopener ugc nofollow" target="_blank">https://reactjs.org/docs/hooks-reference.html#usecontext</a></li></ul></div></div>    
</body>
</html>