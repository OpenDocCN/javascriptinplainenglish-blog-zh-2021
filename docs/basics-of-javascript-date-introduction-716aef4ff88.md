# JavaScript 基础:日期对象简介

> 原文：<https://javascript.plainenglish.io/basics-of-javascript-date-introduction-716aef4ff88?source=collection_archive---------21----------------------->

![](img/1d6a8fa693865324d2479809ed667982.png)

这篇文章是我的免费 YouTube 系列关于网络开发基础知识的抄本。如果你更喜欢看而不是读，请随时访问我的频道“Dev Newbs”。

你好，戴夫·纽斯！我为你带来了另一个长系列。这一次，我们将处理日期对象。我不知道你，但我过去在使用它时总是不得不挣扎。我从来不记得要使用的正确方法，当我需要一种特定的格式时，我从来不能容易地得到它。

但是那些日子已经过去了，我想和你分享我的知识，这样你就不会像我过去一样对约会感到沮丧。

所以事不宜迟，让我们开始吧。

那么这个日期对象到底是什么，代表什么呢？答案是，一个简单的 Javascript Date 对象以独立于平台的格式表示一个时刻。它包含一个数字，指定自 UTC 1970 年 1 月 1 日以来经过的毫秒数。

准确地说，它是从 UTC 时间 1970 年 1 月 1 日午夜开始的毫秒数。这个定义可能会让您想起 UNIX 纪元的定义，但是不要被愚弄了。UNIX 纪元是秒数，而不是毫秒数。将 UNIX 纪元乘以 1000 就可以得到 JavaScript 日期数。

尽管日期本质上是一个数字，但它的最大值和最小值与最大值和最小值不同。相反，该范围是在 ECMA-262 规范中定义的，零值等于众所周知的日期 1970 年 1 月 1 日 UTC，然后从该时间点到过去和未来的最大允许值是 1 亿天。它转换为公元前 271821 年 4 月 20 日到公元 275760 年 9 月 13 日的日期范围。

不过无聊的理论也够多了。让我们看看如何在 JavaScript 中定义日期对象。实际上有 4 种不同的方法来实例化 Date 对象，现在我们来看看这四种方法:

```
let d1 = new Date();
// Tue Jun 29 2021 09:12:23 GMT+0200 (stredoeurópsky letný čas)let d2 = new Date(0);
// Thu Jan 01 1970 01:00:00 GMT+0100 (stredoeurópsky štandardný čas)let d3 = new Date("Tue Jun 29 2021 08:10:00 GMT+0200");
// Tue Jun 29 2021 08:10:00 GMT+0200 (stredoeurópsky letný čas)let d4 = new Date(2021, 5, 29, 8, 10, 21, 147);
// Tue Jun 29 2021 08:10:21 GMT+0200 (stredoeurópsky letný čas)let d4a = new Date(2021, 5, 29, 8, 10, 21);
// Tue Jun 29 2021 08:10:21 GMT+0200 (stredoeurópsky letný čas)let d4b = new Date(2021, 5, 29, 8, 10);
// Tue Jun 29 2021 08:10:00 GMT+0200 (stredoeurópsky letný čas)let d4c = new Date(2021, 5, 29, 8);
// Tue Jun 29 2021 08:00:00 GMT+0200 (stredoeurópsky letný čas)let d4d = new Date(2021, 5, 29);
// Tue Jun 29 2021 00:00:00 GMT+0200 (stredoeurópsky letný čas)let d4e = new Date(2021, 5);
// Tue Jun 01 2021 00:00:00 GMT+0200 (stredoeurópsky letný čas)
```

第一种也是最简单的方法是不提供任何输入参数。这样，Date 对象的构造函数使用自 1970 年 1 月 1 日 UTC 以来经过的毫秒格式的当前日期和时间。

在第二种情况下，我们以毫秒为单位提供日期和时间。我选择零来展示处理日期的一个重要方面。重要的是要记住，虽然 Date 对象核心的时间值是 UTC，但获取日期和时间或其组成部分的基本方法都在本地(即主机系统)时区和偏移中工作。

这就是为什么在第二种情况下，我得到的是凌晨 1 点，而不是准确的午夜。我的当地时区是 GMT+0100，这意味着我比 UTC 早 1 个小时。因此，我得到的结果是正确的，但它也依赖于我提供的位置。

第三个选项是提供一个日期字符串。但是，这需要有一定的格式。根据经验，如果某个日期字符串可以通过 Date.parse 方法进行解析，那么它也可以作为日期构造函数的输入参数。

最后一种情况是提供每个单独的值，以年份开始，以毫秒结束。需要注意的一点是月份是基于指数的，这意味着一月是 0，十二月是 11。只有 year 和 index of month 是必需的，所有其他值都是可选的，如果没有提供，它们默认为最小有效值。因此，对于天数，它是 1，对于小时、分钟、秒和毫秒，它是 0。

有几件事你需要知道。就像字符串对象一样，不能进行比较。两个等号或三个等号都不会产生积极的结果。

当您需要比较两个日期时，这可能是一个问题。幸运的是，由于日期本质上是一个数字，我们可以做些别的事情。我们可以用一个日期减去另一个日期，如果结果是 0，我们知道它们相等。

```
let d3a = new Date("June 28, 2021 13:34:00");
// Mon Jun 28 2021 13:34:00 GMT+0200 (stredoeurópsky letný čas)let d3b = new Date("2021-06-28T13:34:00");
// Mon Jun 28 2021 13:34:00 GMT+0200 (stredoeurópsky letný čas)console.log(d3a == d3b);                 // false
console.log(d3a === d3b);                // false
console.log(d3a - d3b);                  // 0
```

当我们指定年份时，很少有例外。当我们提供 0 到 99 范围内的年份值时，它将被自动视为 1900–1999 范围内的值。这对我们年轻人来说没什么意义，但是 20 世纪 JavaScript 诞生的时候，人们希望节省一些输入数字的时间。他们可能甚至没有意识到它会对 1999 年后的人们产生怎样的影响。我有一种强烈的感觉，没有多少人相信 JavaScript 会变得如此流行，以至于它会存活到今天。

现在，你可能会问自己:如果，比方说，80 映射到 1980，我如何输入实际的 80 年？幸运的是，我们可以使用 setFullYear()方法来覆盖这种荒谬的转换。

```
let eighties = new Date(80, 0);
// Tue Jan 01 1980 00:00:00 GMT+0100 (stredoeurópsky štandardný čas)let trueEighties = new Date(80, 0);
trueEighties.setFullYear(80);
// Mon Jan 01 0080 00:00:00 GMT+0057 (stredoeurópsky štandardný čas)
```

好了，这就是对日期对象的介绍。我相信我们会和这个物体一起玩得很开心。所以不要忘了关注周一到周五的新文章。

一如既往的感谢大家的关注。我很快就会看到第一部分的日期方法。

*更多内容看*[***plain English . io***](http://plainenglish.io/)