<html>
<head>
<title>Generate API Driven Forms in Vue</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Vue中生成API驱动的表单</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/generate-api-driven-forms-in-vue-a2a9cb263bd2?source=collection_archive---------6-----------------------#2021-04-21">https://javascript.plainenglish.io/generate-api-driven-forms-in-vue-a2a9cb263bd2?source=collection_archive---------6-----------------------#2021-04-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/267458e6ba82b0613da31ba50f004613.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iU7gAt16d6R50TjOoIAUrw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">cover image</figcaption></figure><p id="cedc" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我最近参与了一个项目，该项目要求SuperAdmin用户检查客户在入职过程中出现的注册错误。受影响的字段由内部系统标记，并作为JSON有效载荷返回给前端应用程序。我们有100多个表单输入字段可能会受到影响。</p><p id="841c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">考虑到这一点，我从一开始就知道生成表单的典型方法不足以解决这个问题。</p><p id="ae23" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在本文中，我将向您展示从JSON有效负载动态生成表单输入的方法。</p><p id="25d9" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">你可以在这里 查看React.js版本<a class="ae kx" rel="noopener ugc nofollow" target="_blank" href="/generating-api-driven-form-in-reactjs-d07ed54ca3f2"> <strong class="kb io"/></a></p><h2 id="1965" class="ky kz in bd la lb lc dn ld le lf dp lg kk lh li lj ko lk ll lm ks ln lo lp lq bi translated">沙箱</h2><p id="31aa" class="pw-post-body-paragraph jz ka in kb b kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks lv ku kv kw ig bi translated">我们在一个<a class="ae kx" href="https://codesandbox.io/s/dynamic-form-vuejs-ilsn9?file=/src/App.vue:0-1004" rel="noopener ugc nofollow" target="_blank"> Codesandbox </a>中完成了这个项目，你可以派生它来运行代码。</p><h1 id="ba6d" class="lw kz in bd la lx ly lz ld ma mb mc lg md me mf lj mg mh mi lm mj mk ml lp mm bi translated">Vue中的表单处理</h1><p id="56cc" class="pw-post-body-paragraph jz ka in kb b kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks lv ku kv kw ig bi translated">在开始之前，我们必须了解Vue中当前是如何处理表单的。</p><p id="3650" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Vue.js目前使用<code class="fe mn mo mp mq b">v-model</code>指令在表单元素上创建双向数据绑定，并根据输入类型和用户输入事件自动更新数据。</p><figure class="mr ms mt mu gt jo"><div class="bz fp l di"><div class="mv mw l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Handling form in Vue</figcaption></figure><h1 id="e041" class="lw kz in bd la lx ly lz ld ma mb mc lg md me mf lj mg mh mi lm mj mk ml lp mm bi translated">动态生成表单</h1><p id="6138" class="pw-post-body-paragraph jz ka in kb b kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks lv ku kv kw ig bi translated">现在我们完全理解了Vue.js是如何处理表单的。我们可以直接修改<code class="fe mn mo mp mq b">App.vue</code>来动态地从JSON响应中生成表单输入元素。</p><h2 id="e3e3" class="ky kz in bd la lb lc dn ld le lf dp lg kk lh li lj ko lk ll lm ks ln lo lp lq bi translated"><strong class="ak">第一步</strong></h2><p id="0018" class="pw-post-body-paragraph jz ka in kb b kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks lv ku kv kw ig bi translated">在<code class="fe mn mo mp mq b">src</code>目录中创建一个<code class="fe mn mo mp mq b">data.json</code>来模拟我们从一个端点得到的响应。</p><figure class="mr ms mt mu gt jo"><div class="bz fp l di"><div class="mv mw l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">JSON response mock data</figcaption></figure><h2 id="0776" class="ky kz in bd la lb lc dn ld le lf dp lg kk lh li lj ko lk ll lm ks ln lo lp lq bi translated"><strong class="ak">第二步</strong></h2><p id="dc27" class="pw-post-body-paragraph jz ka in kb b kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks lv ku kv kw ig bi translated">记住JSON文件的结构，我们可以编辑<code class="fe mn mo mp mq b">App.vue</code>,如下所示:</p><figure class="mr ms mt mu gt jo"><div class="bz fp l di"><div class="mv mw l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Dynamic Form</figcaption></figure><p id="048f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">上述代码执行这些任务:</p><ul class=""><li id="5a2c" class="mx my in kb b kc kd kg kh kk mz ko na ks nb kw nc nd ne nf bi translated">从JSON文件导入<code class="fe mn mo mp mq b">response</code>。</li><li id="de8c" class="mx my in kb b kc ng kg nh kk ni ko nj ks nk kw nc nd ne nf bi translated">传递<code class="fe mn mo mp mq b">response</code>并将<code class="fe mn mo mp mq b">formData</code>初始化为组件的数据选项中的空对象。</li><li id="9346" class="mx my in kb b kc ng kg nh kk ni ko nj ks nk kw nc nd ne nf bi translated">通过将<strong class="kb io">字段名</strong>和<strong class="kb io">值</strong>映射为<strong class="kb io"> <em class="nl">键值对</em> </strong>，使用Vue.js <code class="fe mn mo mp mq b">created</code>生命周期实例动态填充<code class="fe mn mo mp mq b">formData</code>空对象。这样，如果端点带有初始值，它将被填充到输入字段中。</li><li id="9dbd" class="mx my in kb b kc ng kg nh kk ni ko nj ks nk kw nc nd ne nf bi translated">通过form元素映射显示<strong class="kb io">表单标签</strong>、<strong class="kb io">输入类型</strong>、<strong class="kb io"> v-model </strong>指令，以及对应的值。</li></ul><p id="f6ca" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">现在，我们可以测试我们的表单并相应地提交它。</p><p id="443d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">您可以在这个沙盒上查看完整的代码。</p><figure class="mr ms mt mu gt jo"><div class="bz fp l di"><div class="nm mw l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Dynamic Form</figcaption></figure><h1 id="a9e4" class="lw kz in bd la lx ly lz ld ma mb mc lg md me mf lj mg mh mi lm mj mk ml lp mm bi translated">结论</h1><p id="8c14" class="pw-post-body-paragraph jz ka in kb b kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks lv ku kv kw ig bi translated">这篇文章讨论了如何动态地生成表单，而不会因为外部库而使应用程序膨胀。它也是可扩展的(以适应其他表单元素)，可维护的，并且是一种更简洁的方法。</p><p id="357f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">参考:</strong></p><ul class=""><li id="585b" class="mx my in kb b kc kd kg kh kk mz ko na ks nb kw nc nd ne nf bi translated"><a class="ae kx" href="https://vuejs.org/v2/guide/" rel="noopener ugc nofollow" target="_blank">vue . js入门</a></li><li id="b44e" class="mx my in kb b kc ng kg nh kk ni ko nj ks nk kw nc nd ne nf bi translated"><a class="ae kx" href="https://vuejs.org/v2/guide/forms.html" rel="noopener ugc nofollow" target="_blank">处理Vue.js中的表单</a></li><li id="4fdc" class="mx my in kb b kc ng kg nh kk ni ko nj ks nk kw nc nd ne nf bi translated"><a class="ae kx" href="https://vuejs.org/v2/guide/instance.html" rel="noopener ugc nofollow" target="_blank">vue . js中的生命周期实例</a></li></ul><p id="5af4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="nl">更多内容请看</em><a class="ae kx" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kb io"><em class="nl">plain English . io</em></strong></a></p></div></div>    
</body>
</html>