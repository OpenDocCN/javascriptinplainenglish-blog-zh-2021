<html>
<head>
<title>How to Check Whether a JavaScript Object is a Date Object?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何检查一个JavaScript对象是否是日期对象？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-check-whether-a-javascript-object-is-a-date-object-f5acb9bffea3?source=collection_archive---------9-----------------------#2021-12-07">https://javascript.plainenglish.io/how-to-check-whether-a-javascript-object-is-a-date-object-f5acb9bffea3?source=collection_archive---------9-----------------------#2021-12-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8c38b301e266463a4f08674977ec75ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*e5F0QahpqbTfZ45p"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@itssammoqadam?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sam Moqadam</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="794c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们必须检查一个JavaScript对象是否是一个日期对象。</p><p id="1b7f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究检查JavaScript对象是否是日期对象的方法。</p><h1 id="3305" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">检查日期对象具有的方法</h1><p id="7eff" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以检查日期对象拥有的方法。</p><p id="d05d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们可以使用<code class="fe me mf mg mh b">typeof</code>操作符。</p><p id="b8b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5f87" class="mq lc iq mh b gy mr ms l mt mu">const date = new Date(2021, 1, 1);<br/>console.log(typeof date.getMonth === 'function')</span></pre><p id="65e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过使用<code class="fe me mf mg mh b">typeof</code>操作符查看它是否返回<code class="fe me mf mg mh b">'function'</code>来检查<code class="fe me mf mg mh b">getMonth</code>方法是否是一个函数。</p><p id="2f87" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果是<code class="fe me mf mg mh b">true</code>，那么我们知道<code class="fe me mf mg mh b">date</code>很可能是一个<code class="fe me mf mg mh b">Date</code>实例。</p><p id="0f01" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">控制台日志应该记录<code class="fe me mf mg mh b">true</code>，所以它很可能是一个<code class="fe me mf mg mh b">Date</code>实例。</p><h1 id="238e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">运算符的实例</h1><p id="3274" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">更准确的检查是检查对象是否是从<code class="fe me mf mg mh b">Date</code>构造函数创建的。</p><p id="26c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果是，那么我们知道它一定是一个<code class="fe me mf mg mh b">Date</code>实例。</p><p id="6e24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="80b9" class="mq lc iq mh b gy mr ms l mt mu">const date = new Date(2021, 1, 1);<br/>console.log(date instanceof Date)</span></pre><p id="f625" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">检查<code class="fe me mf mg mh b">date</code>是否是用<code class="fe me mf mg mh b">instanceof</code>操作符从<code class="fe me mf mg mh b">Date</code>构造函数创建的。</p><p id="4368" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">左边的操作数是我们正在检查的对象。</p><p id="9fb1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">右边的操作数是我们要检查的构造函数。</p><p id="888c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于<code class="fe me mf mg mh b">date</code>是从<code class="fe me mf mg mh b">Date</code>创建的，控制台日志应该记录<code class="fe me mf mg mh b">true</code>。</p><p id="f5dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了检查一个对象是否是从<code class="fe me mf mg mh b">Date</code>构造函数跨越框架边界创建的，我们可以用<code class="fe me mf mg mh b">toString</code>方法将它转换成一个字符串并检查它的内容。</p><p id="d8e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b435" class="mq lc iq mh b gy mr ms l mt mu">const date = new Date(2021, 1, 1);<br/>console.log(Object.prototype.toString.call(date) === '[object Date]')</span></pre><p id="5eb7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们称<code class="fe me mf mg mh b">toString</code>为<code class="fe me mf mg mh b">Object.prototype.toString.call</code>，因为<code class="fe me mf mg mh b">toString</code>可能会被我们自己的方法覆盖。</p><p id="dde5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过这样调用，我们确保调用内置的<code class="fe me mf mg mh b">toString</code>方法，而不是我们自己创建的方法。</p><h1 id="900e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">检查无效日期</h1><p id="8a2a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果我们向<code class="fe me mf mg mh b">Date</code>构造函数传递不能解析为日期的东西，那么当对象被转换为字符串时，它返回<code class="fe me mf mg mh b">'Invalid Date'</code>。</p><p id="8c90" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们可以通过编写以下代码来检查这一点:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2f81" class="mq lc iq mh b gy mr ms l mt mu">console.log(new Date('abc').toString() === 'Invalid Date')</span></pre><p id="e667" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe me mf mg mh b">'abc'</code>传入<code class="fe me mf mg mh b">Date</code>构造函数，它不能被解析为日期。</p><p id="89cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以当我们调用<code class="fe me mf mg mh b">toString</code>时，它返回<code class="fe me mf mg mh b">‘Invalid Date’</code>。</p><p id="26e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，控制台日志应该记录<code class="fe me mf mg mh b">true</code>。</p><h1 id="c9f8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="a432" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有几种方法可以用来用JavaScript检查有效的日期对象或无效的日期对象。</p></div></div>    
</body>
</html>