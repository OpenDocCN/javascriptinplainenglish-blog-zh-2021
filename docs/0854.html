<html>
<head>
<title>JavaScript Algorithm: Word Count</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript算法:字数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-algorithm-word-count-d759738c974c?source=collection_archive---------4-----------------------#2021-02-22">https://javascript.plainenglish.io/javascript-algorithm-word-count-d759738c974c?source=collection_archive---------4-----------------------#2021-02-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9c0f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建一个函数，返回文本中的字数。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e0132801eee04b2fe2c4aef4bec853e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o80e84LZER5BBuHl"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@siora18?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Siora Photography</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9aa8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将编写一个名为<code class="fe ls lt lu lv b">countWords</code>的函数，它将接受一个字符串<code class="fe ls lt lu lv b">text</code>作为参数。</p><p id="2266" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该函数的目标是返回该文本字符串中有多少个单词。</p><p id="e988" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">示例:</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="76e8" class="ma mb iq lv b gy mc md l me mf">countWords("JavaScript!!!    ");<br/>// output: 1</span><span id="1c1f" class="ma mb iq lv b gy mg md l me mf">countWords("I had 3 slices of bread");<br/>// output: 6</span><span id="54b6" class="ma mb iq lv b gy mg md l me mf">countWords("    JavaScript is cool   Core   ");<br/>// output: 4</span><span id="c80a" class="ma mb iq lv b gy mg md l me mf">countWords("I like to learn JavaScript with codeguppy");<br/>// output: 7</span></pre><p id="6479" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该函数应该忽略任何非字母数字字符作为字数的一部分。包含连字符的单词也应算作一个单词。</p></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><p id="95c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们做的第一件事是创建一个名为<code class="fe ls lt lu lv b">removeChar</code>的变量。在这个变量中，我们删除了文本和标点符号中多余的空格。为此，我们结合使用正则表达式和<code class="fe ls lt lu lv b">replace()</code>方法。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="ccde" class="ma mb iq lv b gy mc md l me mf">let removeChar = text.replace(/[^A-Za-z]\s+/g, " ");</span></pre><p id="ffb7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">replace()</code>方法中的正则表达式<code class="fe ls lt lu lv b">/[^A-Za-z]\s+/g</code>接受所有非字母数字字符，并用单个空格替换它们。详细地说:</p><p id="8e1a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">/[regular expression]/g</code>:不再停留在第一个匹配上，而是在文本中寻找所有可能的匹配。</p><p id="c9b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">[^A-Za-z]</code>:匹配任何不是a-z和A-Z的字符。</p><p id="5741" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">\s</code>:匹配空白字符。</p><p id="4330" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">+</code>:匹配一个或多个前面的标记(在上面的例子中是空格)。</p><p id="d65d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">去掉所有这些字符后，统计<code class="fe ls lt lu lv b">text</code>中的单词数就更容易了。</p><p id="4afc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来我们要做的是创建一个名为<code class="fe ls lt lu lv b">newWord</code>的新变量，并将修改后的文本分割成一个单词数组。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="cc4b" class="ma mb iq lv b gy mc md l me mf">let newWord = removeChar.trim().split(" ");</span></pre><p id="5b54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在最后一个语句中，我们用一个空格替换所有非字母数字字符的原因是，如果我们不替换它，像<code class="fe ls lt lu lv b">"I eat bread"</code>这样的文本输入将变成<code class="fe ls lt lu lv b">"Ieatbread"</code>。我们还用一个空格来替换它，以便于在数组中将数组拆分成单独的单词。</p><p id="10aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">trim()</code>方法是删除字符串两端的任何空格。对于任何可能在字符串开头或结尾有任何非字母数字字符的文本，<code class="fe ls lt lu lv b">replace()</code>方法将用空格替换这些字符。当我们分割数组时，我们不希望额外的空白被添加到数组中，所以在这种情况下，我们将它修剪掉。</p><p id="cfdd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们的数组包含了字符串中所有可数的单词，我们只需要数组的长度，因为它也是字符串的字数。</p><p id="b1b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们返回数组长度。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="b6ec" class="ma mb iq lv b gy mc md l me mf">return newWord.length;</span></pre><p id="f78e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是完整的函数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mo mp l"/></div></figure></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><p id="16f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你觉得这个算法有帮助，看看我的其他JavaScript算法解决方案:</p><div class="mq mr gp gr ms mt"><a href="https://levelup.gitconnected.com/javascript-algorithm-set-alarm-54a7abd094d7" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">JavaScript算法:设置警报</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">我们将编写一个函数，它将根据你是否有工作来决定是否值得设置闹钟，并且…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh kp mt"/></div></div></a></div><div class="mq mr gp gr ms mt"><a href="https://levelup.gitconnected.com/javascript-algorithm-seek-and-destroy-36888783f35f" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">JavaScript算法:寻找和破坏</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">我们编写了一个函数，它将从一个数组中删除与所提供的参数具有相同值的所有元素。</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nc l"><div class="ni l ne nf ng nc nh kp mt"/></div></div></a></div><div class="mq mr gp gr ms mt"><a href="https://js.plainenglish.io/javascript-algorithm-zero-fuel-7e73be4fe91d" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">JavaScript算法:零燃料</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">我们写了一个函数，它将决定你减少的燃料量是否足以让你到达最近的加油站…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">js .平原英语. io</p></div></div><div class="nc l"><div class="nj l ne nf ng nc nh kp mt"/></div></div></a></div><p id="add8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nk">查看更多内容请点击</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>