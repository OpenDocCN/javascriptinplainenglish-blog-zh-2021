<html>
<head>
<title>Everything You Need to Know About Vue v-model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于Vue v-model你需要知道的一切</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/everything-you-need-to-know-about-vue-v-model-1aa2a38b628f?source=collection_archive---------14-----------------------#2021-01-11">https://javascript.plainenglish.io/everything-you-need-to-know-about-vue-v-model-1aa2a38b628f?source=collection_archive---------14-----------------------#2021-01-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/08361dad62cde5c99f6c61e0dbc5a069.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e99QUFo1Z2I-aPMnL28psA.png"/></div></div></figure><div class=""/><p id="8524" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Vue v-model是一个指令，它提供输入和表单数据之间或者两个组件之间的双向数据绑定。</p><p id="75b8" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这在Vue开发中是一个简单的概念，但是v-model的真正威力需要一些时间来理解。</p><p id="d3ea" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本教程结束时，您将了解Vue v-model的所有不同用例，并学习如何在自己的项目中使用它。</p><p id="05c5" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">准备好了吗？</p><p id="4ab5" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我也是。让我们开始编码吧。</p><h2 id="cf2d" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">什么是Vue v-model？</h2><p id="4095" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">正如我们刚刚讨论的，Vue v-model是一个<a class="ae lu" href="https://012.vuejs.org/guide/directives.html" rel="noopener ugc nofollow" target="_blank">指令</a>，我们可以在模板代码中使用它。指令是一个模板令牌，它告诉Vue我们想要如何处理我们的DOM。</p><p id="1c18" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在v-model的情况下，它告诉Vue我们想要在模板中的值和数据属性中的值之间创建一个双向数据绑定。</p><p id="333a" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用v-model的一个常见用例是当<a class="ae lu" href="https://learnvue.co/2020/01/9-vue-input-libraries-to-power-up-your-forms/" rel="noopener ugc nofollow" target="_blank">设计表单和输入</a>时。我们可以使用它让DOM输入元素能够修改Vue实例中的数据。</p><p id="c73f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看一个在文本输入上使用v-model的简单例子。</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="fa6a" class="kw kx jb ma b gy me mf l mg mh">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;input <br/>      type='text'<br/>      v-model='value'<br/>    /&gt;<br/>    &lt;p&gt; Value: {{ value }} &lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      value: 'Hello World'  <br/>    }<br/>  }<br/>}<br/>&lt;/script&gt;</span></pre><p id="282c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我们在文本输入中键入内容时，我们会看到我们的数据属性正在发生变化。</p><figure class="lv lw lx ly gt is gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/b4cb2a297f29e8b9a8361dc5bc6544e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/0*PUtSMKbbbLovj5Ma.gif"/></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk">Working with v-model!</figcaption></figure><p id="0927" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">完美。</p><h2 id="8b33" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">v-model和v-bind的区别？</h2><p id="f847" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">与v-model一起切换的一个指令是<code class="fe mn mo mp ma b">v-bind </code>指令。</p><p id="8cbd" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">两者的区别在于v-model提供了<strong class="ka jc">双向数据绑定。</strong></p><p id="6c1b" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们的例子中，这意味着如果我们的数据改变，我们的输入也会改变，如果我们的输入改变，我们的数据也会改变。</p><p id="15ac" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然而，<strong class="ka jc"> v-bind只是单向绑定数据。</strong></p><p id="5fa1" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当在应用程序中创建一个清晰的单向数据流时，这很有用。但是在v-model和v-bind之间选择时，你必须小心。</p><h2 id="d7a5" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">垂直模型的修改器</h2><p id="607f" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">Vue提供了几个修改器，允许我们改变v模型的功能。</p><p id="1568" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">每一个都可以像这样添加，甚至可以链接在一起。</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="b8a0" class="kw kx jb ma b gy me mf l mg mh">&lt;input <br/>  type='text'<br/>  v-model.trim.lazy='value'<br/>/&gt;</span></pre><h2 id="e646" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">。懒惰的</h2><p id="ccde" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">默认情况下，在每个<a class="ae lu" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/input_event" rel="noopener ugc nofollow" target="_blank">输入事件</a>时，v-model与Vue实例的状态(数据属性)同步。这包括获得/失去焦点、模糊等。</p><p id="825a" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mn mo mp ma b">.lazy </code>修改器改变我们的v模型，所以它只在<a class="ae lu" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/change_event" rel="noopener ugc nofollow" target="_blank">改变事件</a>之后同步。</p><p id="85c9" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这减少了我们的v-model试图与我们的Vue实例同步的次数——在某些情况下，可以提高性能。</p><h2 id="7cec" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">。数字</h2><p id="3356" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">通常，我们的输入会自动将输入类型化为字符串——即使我们将输入类型声明为number。</p><p id="6331" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">确保我们的值作为数字处理的一种方法是使用<code class="fe mn mo mp ma b">.number</code>修饰符。</p><p id="b004" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae lu" href="https://vuejs.org/v2/guide/forms.html#number" rel="noopener ugc nofollow" target="_blank">根据Vue文档</a>，如果输入发生变化，新值无法被<code class="fe mn mo mp ma b">parseFloat()</code>解析，则返回输入的最后一个有效值。</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="d779" class="kw kx jb ma b gy me mf l mg mh">&lt;input <br/>  type='number'<br/>  v-model.number='value'<br/>/&gt;</span></pre><h2 id="b0b7" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">。整齐</h2><p id="1f39" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">与大多数编程语言中的trim方法类似。trim修饰符在返回值之前删除前导或尾随空格。</p><h2 id="2835" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">在定制组件中使用Vue v模型</h2><p id="79b2" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">好了，现在我们知道了表单/输入内部的v-model的基础知识，让我们来看看v-model的一个有趣的用法— <strong class="ka jc">在组件之间创建双向数据绑定。</strong></p><p id="238a" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在Vue中，数据绑定有两个主要步骤:</p><ol class=""><li id="f6b0" class="mq mr jb ka b kb kc kf kg kj ms kn mt kr mu kv mv mw mx my bi translated">从我们的父母那里传递我们的数据</li><li id="d9cd" class="mq mr jb ka b kb mz kf na kj nb kn nc kr nd kv mv mw mx my bi translated">从子实例发出一个事件来更新父实例</li></ol><p id="6a82" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在定制组件上使用v-model允许我们传递一个prop，并且只用一个指令就能处理一个事件。</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="698c" class="kw kx jb ma b gy me mf l mg mh">&lt;custom-text-input v-model="value" /&gt;<br/><br/>&lt;!-- IS THE SAME AS --&gt;<br/><br/>&lt;custom-text-input <br/>   :modelValue="value"<br/>   @update:modelValue="value = $event"<br/>/&gt;</span></pre><h2 id="95f6" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">好吧…这到底是什么意思？</h2><p id="966f" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">让我们继续使用表单的v-model的例子，并使用一个名为<code class="fe mn mo mp ma b">CustomTextInput.vue</code>的定制文本输入。</p><p id="d606" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用v-model传递的值的默认名称是<code class="fe mn mo mp ma b">modelValue</code>，这就是我们将在我们的例子中使用的名称。</p><p id="c9b8" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是，我们可以像这样传递一个自定义的模型名。</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="cbcb" class="kw kx jb ma b gy me mf l mg mh">&lt;!-- We can name v-model, but for our example leave unnamed. --&gt;<br/>&lt;custom-text-input v-model:name="value" /&gt;</span></pre><p id="706d" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意:当我们使用一个定制的模型名称时，发出的方法的名称将是<code class="fe mn mo mp ma b">update:name</code></p><p id="0959" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里有一个来自Vue文档的方便的图表来总结它。</p><figure class="lv lw lx ly gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ne"><img src="../Images/f7baa7b000ff1d3440a0e6399cea755f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*w3Ht6tbdlXw3tQ9Z.png"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk"><a class="ae lu" href="https://v3.vuejs.org/guide/migration/v-model.html#v-model-arguments" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><h2 id="55b6" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">使用自定义组件中的v-model</h2><p id="e2ce" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">我们已经设置了父组件，所以让我们从子组件中访问它。</p><p id="0cc4" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<code class="fe mn mo mp ma b">CustomTextInput.vue</code>内我们必须做两件事:</p><ol class=""><li id="d223" class="mq mr jb ka b kb kc kf kg kj ms kn mt kr mu kv mv mw mx my bi translated">接受我们的v-model价值观作为支撑</li><li id="42be" class="mq mr jb ka b kb mz kf na kj nb kn nc kr nd kv mv mw mx my bi translated">当我们的输入改变时发出一个更新事件</li></ol><p id="fdb3" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好的——让我们首先在脚本中将它声明为一个道具。</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="4dc6" class="kw kx jb ma b gy me mf l mg mh">export default {<br/>  props: {<br/>    modelValue: String,<br/>  }<br/>}</span></pre><p id="d827" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，让我们创建模板，将值设置为您的<code class="fe mn mo mp ma b">modelValue</code>属性，只要有输入事件，我们就会通过<code class="fe mn mo mp ma b">update:modelValue</code>发出新值。</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="4987" class="kw kx jb ma b gy me mf l mg mh">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;label&gt; First Name &lt;/label&gt;<br/>    &lt;input <br/>      type='text'<br/>      placeholder='Input'<br/>      :value='modelValue'<br/>      @input='$emit("update:modelValue", $event.target.value)'<br/>    /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="d60e" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，如果我们回去看看我们的代码，我们可以看到它的作用。</p><figure class="lv lw lx ly gt is gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/78264ede8c858abb6587cf16207c3667.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/0*IlGJ9Bz5zck0o2Nh.gif"/></div></figure><h2 id="9492" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">使用v模型的提示</h2><p id="354f" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">好吧！</p><p id="f6f1" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们已经介绍了一个使用v-model在两个组件之间绑定数据的基本例子。</p><p id="defe" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看看使用v-model指令的一些更高级的方法。</p><h2 id="6407" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">对一个组件多次使用v-model</h2><p id="1091" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">v-model不仅限于每个组件使用一次。</p><p id="5901" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要多次使用v-model，我们只需确保唯一地命名每个prop，并在我们的子组件中正确地访问它。</p><p id="2121" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们在输入中添加第二个v-model，名为<code class="fe mn mo mp ma b">lastName</code>。</p><p id="bbd0" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们的父组件内部…</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="2474" class="kw kx jb ma b gy me mf l mg mh">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;custom-text-input <br/>      v-model='value' <br/>      v-model:lastName='lastName'<br/>    /&gt;<br/>    &lt;p&gt; Value: {{ value }} &lt;/p&gt;<br/>    &lt;p&gt; Last Name: {{ lastName }} &lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>import CustomTextInput from './CustomTextInput.vue'<br/><br/>export default {<br/>  components: {<br/>    CustomTextInput,<br/>  },<br/>  data() {<br/>    return {<br/>      value: 'Matt',<br/>      lastName: 'Maribojoc'<br/>    }<br/>  }<br/>}<br/>&lt;/script&gt;</span></pre><p id="1e79" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，在我们的子组件中</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="32c2" class="kw kx jb ma b gy me mf l mg mh">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;label&gt; First Name &lt;/label&gt;<br/>    &lt;input <br/>      type='text'<br/>      :value='modelValue'<br/>      placeholder='Input'<br/>      @input='$emit("update:modelValue", $event.target.value)'<br/>    /&gt;<br/>    &lt;label&gt; Last Name &lt;/label&gt;<br/>    &lt;input <br/>      type='text'<br/>      :value='lastName'<br/>      placeholder='Input'<br/>      @input='$emit("update:lastName", $event.target.value)'<br/>    /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>export default {<br/>  props: {<br/>    lastName: String,<br/>    modelValue: String,<br/>  }<br/>}<br/>&lt;/script&gt;</span></pre><p id="4774" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果我们去看看我们的项目，我们可以看到两个v-model的独立工作。</p><figure class="lv lw lx ly gt is gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/29c790b4c7720856fdf46f3bcef67fb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/0*dpU2e-FngZtpXDYY.gif"/></div></figure><h2 id="7254" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">我们的v型车的自定义修改器</h2><p id="a91f" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">正如我们已经讨论过的，Vue内置了一些修改器。但是总有一天我们会想要加入我们自己的。</p><p id="0ff1" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设我们想要创建一个修饰符，从输入中删除所有空格。我们称之为<code class="fe mn mo mp ma b">no-whitespace</code></p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="69c8" class="kw kx jb ma b gy me mf l mg mh">&lt;custom-text-input <br/>  v-model.no-whitespace='value' <br/>  v-model:lastName='lastName'<br/>/&gt;</span></pre><p id="938b" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们的输入组件中，我们可以使用props来捕获修饰符。自定义修改器的名称是<code class="fe mn mo mp ma b"><em class="nf">name</em>Modifiers</code></p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="21d1" class="kw kx jb ma b gy me mf l mg mh">props: {<br/>  lastName: String,<br/>  modelValue: String,<br/>  modelModifiers: {<br/>    default: () =&gt; ({})<br/>  }<br/>},</span></pre><p id="e11f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好的——我们想做的第一件事是改变我们的<code class="fe mn mo mp ma b">@input</code>处理程序来使用一个定制的方法。我们可以称它为<code class="fe mn mo mp ma b">emitValue</code>，它将接受正在编辑的属性的名称以及事件对象。</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="998d" class="kw kx jb ma b gy me mf l mg mh">&lt;label&gt; First Name &lt;/label&gt;<br/>&lt;input <br/>      type='text'<br/>      :value='modelValue'<br/>      placeholder='Input'<br/>      @input='emitValue("modelValue", $event)'<br/>/&gt;</span></pre><p id="97c1" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们的<code class="fe mn mo mp ma b">emitValue</code>方法中，在调用<code class="fe mn mo mp ma b">$emit</code>之前，我们想要检查我们的修饰符。如果我们的<code class="fe mn mo mp ma b">no-whitespace</code>修饰符为真，我们可以在将值发送给父对象之前修改它。</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="ae2e" class="kw kx jb ma b gy me mf l mg mh">emitValue(propName, evt) {<br/>  let val = evt.target.value<br/>  if (this.modelModifiers['no-whitespace']) {<br/>    val = val.replace(/\s/g, '')<br/>  }<br/>  this.$emit(`update:${propName}`, val)<br/>}</span></pre><p id="3c29" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">太棒了。现在让我们看看我们的应用程序。</p><figure class="lv lw lx ly gt is gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/00f24156029fe203a3475f8cbfd418eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/0*xHxaOlgkGbeci7Ok.gif"/></div></figure><p id="bf52" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">每当我们的输入改变，我们有一个空格，它将被删除在父值！</p><p id="22be" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">太棒了。</p><h2 id="5f05" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">结论</h2><p id="5c1f" class="pw-post-body-paragraph jy jz jb ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">希望本指南能教你一些关于Vue v-model的新知识。</p><p id="524c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在表单和输入数据等基本用例中，v-model是一个非常简单的概念。然而，当我们开始创建定制组件并处理更复杂的数据时，我们可以真正释放v-model的真正力量。</p><p id="2819" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你有任何问题，请在下面的评论中告诉我！</p><p id="b6f2" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一如既往，快乐编码🙂</p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><p id="7ccf" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你有兴趣学习更多关于Vue 3的知识，下载我的免费的Vue 3备忘单，里面有一些基本的知识，比如组合API、Vue 3模板语法和事件处理。</p></div></div>    
</body>
</html>