<html>
<head>
<title>Understand JavaScript Array Methods Like a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">像专家一样理解JavaScript数组方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/understanding-javascript-array-methods-like-a-pro-72be6153320f?source=collection_archive---------5-----------------------#2021-07-31">https://javascript.plainenglish.io/understanding-javascript-array-methods-like-a-pro-72be6153320f?source=collection_archive---------5-----------------------#2021-07-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/1e61ae1c710a26b0ad16fb818431a034.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pOyzJ7yr3TAVc-vbB-4L6w.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Photo by <a class="ae jd" href="https://www.pexels.com/@kevin-ku-92347?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Kevin Ku</a> from <a class="ae jd" href="https://www.pexels.com/photo/black-farmed-eyeglasses-in-front-of-laptop-computer-577585/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><div class=""/></div><div class="ab cl kd ke hu kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="ij ik il im in"><p id="a4b7" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">如果你真的想成为JavaScript的专家，那么你必须能够完全理解数组方法的工作原理以及何时使用它们。在这个由多个部分组成的系列中，我将解释如何通过学习JavaScript中最常见的数组方法来提高您的JavaScript知识和技能，从而成为一名更好的程序员。在本系列中，我们将探索JavaScript必须提供的所有不同类型的数组方法，例如<strong class="km jh"> forEach、map、filter/find、reduce和一些</strong>。</p><p id="7616" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">我们开始吧！😃</p><h1 id="1b6d" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">来自过去的爆炸</h1><p id="64e3" class="pw-post-body-paragraph kk kl jg km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh ij bi translated">For循环已经成为过去，随着新一代编程语言中出现新的数组方法，它也开始变得过时。作为一名计算机科学专业的学生，我所学的只是如何使用for循环，主要是因为我们使用的都是Java。在大学里，他们没有教我们，更不用说允许我们，使用除for循环之外的任何其他方法来迭代数组。傻吧？🥴</p><p id="1243" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">直到我开始研究JavaScript时，我才开始了解可以用来循环数组的替代方法的字典。我记得我第一次遇到<strong class="km jh"> forEach </strong>方法是在寻找一个关于堆栈溢出的问题的答案时，我心想，“真的有那么简单吗？”从那以后，我很少在应用程序中使用for循环。实际上，我开始回到以前定义for循环的其他文件中，并将它们改为使用forEach。从那时起，我开始去除使用旧的for循环的习惯，开始使用更现代的方法。</p><p id="de5e" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">闲聊够了，让我们看看如何开始将这些数组方法集成到我们的应用程序中…</p><h1 id="df23" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">forEach()方法</h1><p id="0458" class="pw-post-body-paragraph kk kl jg km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh ij bi translated">我认为最好从JavaScript提供的最简单的数组方法开始，并从那里开始。让我们看看下面的例子:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="a1b4" class="mu lj jg mq b gy mv mw l mx my">const names = ['rick','morty','summer','kate','jerry','snowball']</span><span id="b26a" class="mu lj jg mq b gy mz mw l mx my">for(let i = 0; i &lt; names.length; i++){<br/>  console.log(names[i]);<br/>}</span><span id="59e3" class="mu lj jg mq b gy mz mw l mx my">// output<br/>// 'rick','morty','summer','kate','jerry','snowball'</span></pre><p id="a911" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">上面的代码是一个非常简单的例子，说明了我们如何遍历一个名称数组，并将每个名称打印到控制台。现在，这对于这样一个简单的例子来说已经很好了，但是一旦我们开始进入更复杂的数组(比如2D或3D数组)，这就开始变得非常混乱(我们将在本系列的后面看到更复杂的例子)。</p><p id="4547" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在处理for循环时，我们还必须考虑数组的界限。在上面的例子中，如果我们试图访问names[i+1],这可能会导致我们的输出变得不确定，并且很可能抛出错误。对我们来说幸运的是，JavaScript有一个方法可以处理这个问题，而无需我们去考虑它。</p><p id="2704" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">输入forEach方法。🙏</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="ab3d" class="mu lj jg mq b gy mv mw l mx my">const names = ['rick','morty','summer','kate','jerry','snowball']</span><span id="1671" class="mu lj jg mq b gy mz mw l mx my">names.forEach(name =&gt; console.log(name));</span><span id="8050" class="mu lj jg mq b gy mz mw l mx my">// output<br/>// 'rick','morty','summer','kate','jerry','snowball'</span></pre><p id="4f19" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">看一下上面的代码。在这里，我用一个<strong class="km jh"> forEach </strong>方法替换了我们的for循环，该方法给出了与前面代码相同的结果。从编程的角度来看，这看起来更干净，可读性更强，但是它是如何工作的呢？类似地，它的工作方式就像一个for循环，遍历数组中的元素，但不同的是forEach为我们跟踪数组索引，这意味着我们不必再担心访问数组边界之外的索引。</p><p id="f1fa" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">用laments的话来说，forEach说，“对于数组‘names’中的每个名字，用name做一些事情”，在我们的例子中，这只是简单地记录我们的name元素的值。</p><p id="656e" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">如果我们需要访问数组的索引呢？我们能使用forEach方法做到这一点吗？当然可以！forEach方法有一个index参数，它给出了我们当前所在元素的索引。看看下面的代码，看看我们如何在上面的例子中利用index参数:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="d0a1" class="mu lj jg mq b gy mv mw l mx my">const names = ['rick','morty','summer','kate','jerry','snowball']</span><span id="e55f" class="mu lj jg mq b gy mz mw l mx my">names.forEach((name,index) =&gt; console.log(`${index}: ${name}`));</span><span id="f352" class="mu lj jg mq b gy mz mw l mx my">// output<br/>// '0: rick','1: morty','2: summer','3: kate','4: jerry','5: snowball'</span></pre><p id="a6c8" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">请注意，我们现在能够记录数组索引以及数组的每个元素，当我们需要有条件地索引数组的特定元素时，这给了我们更多的灵活性。forEach循环的一个缺点是，当我们遇到像for循环那样的特定条件时，我们不能提前退出循环。对于这个用例，使用For循环实际上更好。</p><p id="b06d" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">但我记得你说过for循环已经是过去的事了？没错，它们是，但是对我们来说幸运的是，JavaScript已经找到了用<strong class="km jh"> find() </strong>方法消除这个用例中for循环的方法。</p><h1 id="a37b" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">何时使用forEach()方法</h1><p id="74af" class="pw-post-body-paragraph kk kl jg km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh ij bi translated">通常，forEach方法用于代替for循环，使它们更具可读性。老实说，我发现自己不再经常使用forEach方法了，因为我主要可以使用<strong class="km jh"> map() </strong>和<strong class="km jh"> reduce() </strong>方法来完成我需要的所有事情，但是我们稍后会谈到这一点。</p><h1 id="7407" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">find()方法</h1><p id="34ab" class="pw-post-body-paragraph kk kl jg km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh ij bi translated">以前，当我们需要有条件地提前跳出for循环时，我们需要编写类似下面这样的代码:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="9050" class="mu lj jg mq b gy mv mw l mx my">const names = ['rick','morty','summer','kate','jerry','snowball']</span><span id="fefe" class="mu lj jg mq b gy mz mw l mx my">for(let i = 0; i &lt; names.length; i++){<br/> if(names[i] === 'summer'){<br/>   console.log(`${i}: ${names[i]}`)<br/>   break;<br/>  }<br/>}</span><span id="13c7" class="mu lj jg mq b gy mz mw l mx my">// output<br/>// '2: summer'</span></pre><p id="f68c" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">请注意，一旦for循环找到元素“summer”，它会立即停止对数组的迭代，并退出for循环。不幸的是，上面我们钟爱的forEach方法不这样做，除非我们有条件地在方法中抛出一个不建议的错误。</p><p id="cb4f" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">输入find()方法！</p><p id="985c" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">让我们看看如何使用与上述for循环相同的条件来使用find方法:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="404c" class="mu lj jg mq b gy mv mw l mx my">const names = ['rick','morty','summer','kate','jerry','snowball']</span><span id="5912" class="mu lj jg mq b gy mz mw l mx my">const result = names.find(name =&gt; name === 'summer');<br/>console.log(result)</span><span id="280d" class="mu lj jg mq b gy mz mw l mx my">// output<br/>// 'summer'</span></pre><p id="0117" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">同样，这个方法给我们留下了一个比上面的for循环例子更加清晰易读的解决方案。find方法遍历我们的数组，返回我们正在寻找的元素的第一个实例，如果没有找到该元素，将返回<em class="na"> undefined </em>。在这种情况下，我们要搜索的元素再次是“夏季”。如果数组中有不止一个元素呢？正如我之前所说的，find方法返回我们正在寻找的元素的第一个实例<strong class="km jh">。看看下面的例子:</strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="e9bf" class="mu lj jg mq b gy mv mw l mx my">const names = ['rick','morty','jerry','kate','jerry','rick']</span><span id="1e86" class="mu lj jg mq b gy mz mw l mx my">const result = names.find((name,index) =&gt; {<br/> if(name === 'jerry'){<br/>    console.log(`I found ${name} at index: ${index}`)<br/>    return name;  <br/>  }<br/>});</span><span id="9a91" class="mu lj jg mq b gy mz mw l mx my">// output<br/>// 'I found jerry at index: 2'</span></pre><p id="6d2a" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">我们可以看到，即使“jerry”位于数组中的两个不同位置，find方法也会返回第一个“jerry”实例，它恰好位于数组的索引2处。注意，我们也可以像上面的forEach方法一样，获取数组中元素所在的索引。</p><p id="a686" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">看来杰瑞并不难找到…</p><figure class="ml mm mn mo gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nb"><img src="../Images/30e701538837a98796baeb4926aad76c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4sKwV0816dx-Iu3lWcjCNQ.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">memegenerator.net Sad jerry rick and morty — Caption</figcaption></figure><h1 id="8337" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">何时使用find()方法</h1><p id="cbc9" class="pw-post-body-paragraph kk kl jg km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh ij bi translated">当我们需要在一个数组中找到一个特定的元素而不需要遍历整个数组时，find方法是很有用的。例如，我们可能需要查找具有唯一用户id的特定用户或具有特定产品代码的产品。如果我要搜索的数组中有大量元素，并且不想遍历整个数组来找到我要找的确切元素，我通常会使用这种方法。</p><p id="d151" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">所以在一个数组中找到一个元素是很酷的事情，但是如果我们想在一个数组中找到所有符合给定条件的元素呢？JavaScript再次想到了这一点，它被称为filter方法。</p><h1 id="e16f" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">filter()方法</h1><p id="36d7" class="pw-post-body-paragraph kk kl jg km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh ij bi translated">假设我们在一个数组中有一整个星系的元素，需要找到满足特定条件的所有元素。最初我们可以准备类似这样的东西:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="93ae" class="mu lj jg mq b gy mv mw l mx my">const galaxy = ['rick','morty','jerry','kate','jerry','rick']</span><span id="c3c9" class="mu lj jg mq b gy mz mw l mx my">let ricks_found = [];</span><span id="edbe" class="mu lj jg mq b gy mz mw l mx my">for(let i = 0; i &lt; galaxy.length; i++){<br/> if(galaxy[i] === 'rick'){<br/>   ricks_found.push(galaxy[i]);<br/>  }<br/>}</span><span id="6841" class="mu lj jg mq b gy mz mw l mx my">console.log(ricks_found);<br/>// output<br/>// ["rick","rick"]</span></pre><p id="2bad" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在这个例子中，我们迭代我们的galaxy数组来寻找所有的“rick”元素。一旦在我们的星系中发现一个“rick”元素，我们就将结果推送到我们新定义的“ricks_found”数组中，并记录结果。如我们所见，我们能够在数组中找到仅有的两个“rick”元素。让我们看看如何利用过滤方法来获得相同的结果:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="dfc8" class="mu lj jg mq b gy mv mw l mx my">const galaxy = ['rick','morty','jerry','kate','jerry','rick']</span><span id="d480" class="mu lj jg mq b gy mz mw l mx my">const ricks_found = galaxy.filter(name =&gt; name === 'rick');</span><span id="a7fd" class="mu lj jg mq b gy mz mw l mx my">console.log(ricks_found);<br/>// output<br/>// ["rick","rick"]</span></pre><p id="f969" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">再一次，我们发现了一个更干净的解决方案。filter方法与find方法非常相似，因为一旦找到一个实例，它就不会中断循环，而是继续循环数组的其余部分，找到所有符合我们标准的元素。如果我们试图过滤数组中的元素“summer ”,我们最终会得到一个空数组。</p><h1 id="8570" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">何时使用filter()方法</h1><p id="0275" class="pw-post-body-paragraph kk kl jg km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh ij bi translated">当我们只需要数组中的特定元素时，filter方法非常方便。假设我们需要找到与特定客户匹配的所有发票，或者我们需要显示名字相似的所有用户，那么我们可以利用过滤方法轻松地做到这一点。当在表格中显示数据时，我倾向于经常使用这种方法，我需要过滤数据以获得更小的结果集。我会说这是所有方法中我第二常用的方法。</p><h1 id="10d2" class="li lj jg bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">总结一下</h1><p id="82c7" class="pw-post-body-paragraph kk kl jg km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh ij bi translated">这样，您离像专家一样理解JavaScript数组方法又近了一步！在本文中，我们研究了for循环是如何慢慢消失的，以及我们可以使用什么来使数组迭代更加灵活和可读。我们能够涵盖何时以及如何使用像<strong class="km jh"> forEach()、find()和filter() </strong>这样的方法的基本用例。希望从这些更简单的数组方法开始可以帮助您更好地理解这些方法的概念，并推动您成为一名更有经验、更优秀的开发人员。</p><p id="4788" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">感谢您阅读我的另一篇文章。我希望你们都像我写这篇文章一样喜欢阅读它。当我发布本系列的第二部分，我们将讨论更高级的JavaScript数组方法时，请不要忘记关注我以获得通知。</p><p id="f52a" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">下期再见！👋</p><p id="3be9" class="pw-post-body-paragraph kk kl jg km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><em class="na">更多内容尽在</em><a class="ae jd" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="km jh"><em class="na">plain English . io</em></strong></a></p></div></div>    
</body>
</html>