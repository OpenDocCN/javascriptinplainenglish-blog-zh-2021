# Express.js 和 React 没人谈论的阴暗面

> 原文：<https://javascript.plainenglish.io/the-dark-side-of-express-and-react-that-nobody-talks-about-59435ba2333b?source=collection_archive---------10----------------------->

## 我在 Express.js 和 React 的衣橱里找到的骷髅

![](img/6e2fc1dc077b9e5dbd49ba4a97779797.png)

在我的编程生涯中，我非常灵活。我觉得从一个平台/语言/库/框架转向学习一个新的平台/语言/库/框架并不困难。我通常喜欢这种兴奋感，因为有可能会有一些东西使我的开发经历变得更容易、更有趣。在我的旅程中，迄今为止，我已经经历了 Java、QT C++、。Net C#、Codeigniter PHP、Laravel PHP、Node.js Express、Node.js Loopback、Django Python、Adonis。在这段旅程中，我大部分时间都在使用 Laravel PHP。同样在前端 SPA 框架上，我从 Angular，Vue.js，React，然后是 Svelte。在前端竞技场，我大部分时间都在 Angular 和 Vue.js 中度过。

# 黑暗面

每当我开始一个新项目时，总会有一个问题，我应该使用哪个开发堆栈。我总是更喜欢 NodeJS，我选择的任何工具都应该基于它。我非常偏向 Node.js .但是这又引入了另一个问题，我应该使用哪个库/框架。

Express 和 React 是 Node.js 生态系统中最流行的库/框架。无论是害怕错过，还是从众心理，他们通常是我首先考虑并尝试开始我的项目的人。人人都爱他们，我为什么不可以？有几个原因。

# 1.未电离的

参考这篇文章:[固执己见与否:为工作选择正确的框架](https://dev.to/heroku/opinionated-or-not-choosing-the-right-framework-for-the-job-4e9f)

可以不严格地说，Express 和 React 都是非独立的框架/库。这意味着(*如果你懒得看上面的文章*😏)，不像框架有假设，导致有关于如何实现特性的指令。未独立化的框架/库没有这个。从某种程度上来说，这是一件好事，因为你可以很快地创造出一些你想象不到的东西。

但是对于我们中的一些人来说，这种自由是一种负担，特别是当我试图在一个有着非常苛刻的架构的宠物项目中第一次使用这个框架的时候。

# 2.没有标准库/包

这可以在 unopinionated 内部，但我认为它应该得到它的段落。由于它们的性质，对于某些功能几乎没有任何标准的库/包，只有最流行的。例如在 Express 中，我必须选择使用哪种 ORM，Sequelize、Typeorm、Prisma 或 Bookshelf 等等。

这同样适用于几乎所有其他功能，邮件、日志、验证、文件上传等。这意味着在你的开发时间里，除非你对它们非常有经验，否则你不得不浪费时间去选择、学习和试验用于上述功能的多个库。

在 React 的情况下，情况更糟，它是默认的状态管理，随着项目的变大，使用道具和状态非常难维护，react-redux 有太多的样板文件，然后你会发现有反冲，mobx，akita，hookstate 等。此外，当您想要实现路由、表单验证或 HTTP 请求等功能时，您必须经历同样的事情。

# 3.没有标准的设计模式

您不得不再次浪费宝贵的时间来选择使用哪种设计模式。在哪里保存哪些文件，一般的目录结构。或者花时间浏览 StackOverflow 上的文章和答案，寻找最值得推荐的模式。因为不管你同意与否，你对设计模式的选择将决定你的项目在未来的扩展和维护的难易程度。

# 4.编写胶水代码

对于这一个，我将从 Harminder Virk 的嘴里偷一些话，他是一个 donisJs 的创造者。

*让我们看一个小例子，看看胶水代码是如何进入你的代码的。*

*   *你选择了一个只为你做路由的主框架。*
*   然后选择流行的 body-parser 来访问表单输入和上传的文件。
*   *下一步可能是使用验证引擎来验证表单。但是，验证引擎不知道主体解析器创建的文件对象上存在的属性。嗯，让我们在它们之间写一些粘合代码。*
*   *等等，您还想验证电子邮件地址，以确保它在数据库中是唯一的。同样，验证引擎对您的数据库 ORM 一无所知。那么，另一种胶水？*

*事实是，一个工作的现实世界的应用程序总是有重叠的部分，如果没有一个集成的系统，你总是会发现自己写的粘合代码比实际代码多。*

# 结论

这两个平台非常受欢迎是有原因的，可能那些原因没有引起我的共鸣，特别是来自和/或非常有经验的固执己见的框架。但是对于一些用例和一些人来说，这些是非常好的框架/库。