<html>
<head>
<title>Going Serverless with MongoDB Realm: Vue.js Version</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用MongoDB领域实现无服务器:Vue.js版本</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/going-serverless-with-mongodb-realm-vue-js-version-c0f7afae8719?source=collection_archive---------11-----------------------#2021-11-23">https://javascript.plainenglish.io/going-serverless-with-mongodb-realm-vue-js-version-c0f7afae8719?source=collection_archive---------11-----------------------#2021-11-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/bc4bf37db4c014f2d4b8090a85b7e6a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kijbT2xsFDARrDxRsjoeXg.png"/></div></div></figure><p id="e2dd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">无服务器架构是一种无需管理基础设施即可运行和构建应用程序和服务的模式。它涉及在服务器上运行的应用程序和服务，但是所有的服务器管理都是由云提供商完成的。</p><p id="679b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这篇文章将讨论使用<a class="ae kt" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>、<a class="ae kt" href="https://www.mongodb.com/realm" rel="noopener ugc nofollow" target="_blank"> MongoDB Realm </a>和<a class="ae kt" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue.js </a>构建一个全栈用户管理应用程序。在本教程的最后，我们将学习如何在MongoDB上创建一个数据库，使用MongoDB Realm将无服务器功能作为我们的端点，并在React.js应用程序中使用端点。</p><p id="cd94" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">MongoDB Realm是一个开发平台，旨在构建移动、web、桌面和物联网应用程序。它提供数据同步、无服务器功能、触发器、用户认证等服务。我们可以使用以下任何一种方法在MongoDB领域上构建和维护应用程序:</p><ul class=""><li id="1834" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated"><a class="ae kt" href="https://docs.mongodb.com/realm/manage-apps/deploy/manual/deploy-ui/#std-label-deploy-ui" rel="noopener ugc nofollow" target="_blank"> Realm UI </a>:创建和维护应用程序的基于浏览器的选项</li><li id="974c" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated"><a class="ae kt" href="https://docs.mongodb.com/realm/manage-apps/deploy/manual/deploy-cli/#std-label-deploy-cli" rel="noopener ugc nofollow" target="_blank"> Realm CLI </a>:基于CLI的选项，用于定义和部署应用程序</li><li id="c5fc" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated"><a class="ae kt" href="https://docs.mongodb.com/realm/manage-apps/deploy/automated/deploy-automatically-with-github/#std-label-deploy-github" rel="noopener ugc nofollow" target="_blank"> Github部署</a>:使用GitHub上的配置文件从GitHub仓库部署应用程序</li><li id="053e" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated"><a class="ae kt" href="https://docs.mongodb.com/realm/admin/api/v3/#std-label-admin-api" rel="noopener ugc nofollow" target="_blank"> Admin API </a>:管理应用程序的基于HTTP的请求。</li></ul><p id="e208" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这篇文章中，我们将使用<a class="ae kt" href="https://docs.mongodb.com/realm/manage-apps/deploy/manual/deploy-ui/#std-label-deploy-ui" rel="noopener ugc nofollow" target="_blank"> Realm UI </a>来构建我们的应用程序。</p><p id="a031" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以通过克隆这个存储库(<strong class="jx io">主分支</strong> ) <a class="ae kt" href="https://github.com/Mr-Malomz/vue-realm" rel="noopener ugc nofollow" target="_blank">这里</a>来进行编码。如果您喜欢查看完整的代码，请查看同一个存储库的<strong class="jx io"> dev </strong>分支。</p><p id="ea45" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，我们将只关注实现。已经用<a class="ae kt" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> TailwindCSS </a>设置了项目UI。</p><p id="628c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以点击查看React.js版本<a class="ae kt" href="https://medium.com/javascript-in-plain-english/going-serverless-with-mongodb-realm-react-js-version-44b095832d59" rel="noopener">。</a></p><h1 id="1b8a" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">先决条件</h1><p id="82d4" class="pw-post-body-paragraph jv jw in jx b jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">本帖以下步骤需要JavaScript和Vue.js经验。不要求有使用TypeScript的经验，但是有这样的经验是很好的。</p><p id="d935" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们还需要一个<a class="ae kt" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB帐户</a>来托管数据库并创建无服务器功能。<a class="ae kt" href="https://www.mongodb.com/cloud/atlas/register" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">报名</strong> </a> <strong class="jx io">完全免费</strong>。</p><h1 id="19f8" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">让我们编码</h1><h2 id="ad74" class="ml lj in bd lk mm mn dn lo mo mp dp ls kg mq mr lw kk ms mt ma ko mu mv me mw bi translated">运行项目</h2><p id="9872" class="pw-post-body-paragraph jv jw in jx b jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">要开始，我们需要导航到项目位置，打开我们的终端并安装项目依赖项，如下所示:</p><p id="b4ad" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mx my mz na b">npm install</code></p><p id="7f0f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完成后，我们可以使用下面的命令启动开发服务器:</p><p id="fbe4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mx my mz na b">npm run serve</code></p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/fbe92be8dfb4f68e73424cf8e18dad33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Hmd-ImZgvmPteyNI.png"/></div></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/920bb458997c215c3378f5f0dc483c7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0J_O3b7XVh-FG1Yb.png"/></div></div></figure><h1 id="1743" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">设置MongoDB</h1><p id="0b16" class="pw-post-body-paragraph jv jw in jx b jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">首先，我们需要登录或注册我们的<a class="ae kt" href="http://" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>账户，并遵循适用于我们的选项:</p><p id="6aa4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">对于新账户(注册)<br/> </strong>首先，我们需要回答几个问题来帮助MongoDB帮助设置我们的账户。然后点击<strong class="jx io">完成。</strong></p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/b8e5a43539f932deeb49d6fa1e7943d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dLaLE6vjFFXLrc63.png"/></div></div></figure><p id="53a0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">选择<strong class="jx io">共享</strong>作为数据库类型。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/4acc9a6b41ff5718f399e6dbe03d907d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Inr7wwRTd09qhchd.png"/></div></div></figure><p id="5fa0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">点击<strong class="jx io">创建</strong>来设置集群。这可能需要一些时间来设置。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/60dec19cc059a7f903dd0b70d7c39b89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4I-NETP_2RM2CeeT.png"/></div></div></figure><p id="fb5f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们需要通过输入<strong class="jx io">用户名</strong>、<strong class="jx io">密码</strong>来创建一个从外部访问数据库的用户，然后点击<strong class="jx io">创建用户</strong>。我们还需要添加我们的IP地址，以便通过点击<strong class="jx io">添加我当前的IP地址</strong>按钮安全地连接到数据库。然后点击<strong class="jx io">完成并关闭</strong>保存更改。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/24b61ad4d3272d7661028ff6e6e1c1c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0aplZf4zeHVSBbsQ.png"/></div></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/000fb245c8b259ab379346d0054a5445.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rSWNLvbtVl9tPPNL.png"/></div></div></figure><p id="25dc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">保存更改后，我们应该会看到一个数据库部署屏幕，如下所示:</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/46c913295f693373a50c4ebc2d9bf3bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kqW2JsseZ3m6j9PK.png"/></div></div></figure><p id="ad98" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">对于现有账户(登录)<br/> </strong>点击项目下拉菜单，点击<strong class="jx io">新建项目</strong>按钮。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/306b2d542fa57221c19a5ae483de7354.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*969deuYU_yxv-mW8.png"/></div></div></figure><p id="2b9c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">输入<code class="fe mx my mz na b">realmVue</code>作为项目名称，点击<strong class="jx io">下一个</strong>然后点击<strong class="jx io">创建项目</strong></p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/0058d63683ecaccad84e0cd2fb632859.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*amYZx_jMtaCdlzCw.png"/></div></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/756bfd55991b108eaad039a9f3db1881.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1vHReA-ubHYvHfvD.png"/></div></div></figure><p id="4852" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">点击<strong class="jx io">建立数据库</strong></p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/66dcfbb2a11a01198b7f5648cf7b2eb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PQ6N6FeBHrgnLw-F.png"/></div></div></figure><p id="d382" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">选择<strong class="jx io">共享</strong>作为数据库类型。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/ff0f1f1331ce96f96c84ff627b66cacc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*h9wyjExIggrb2HyS.png"/></div></div></figure><p id="ee03" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">点击<strong class="jx io">创建</strong>来设置集群。这可能需要一些时间来设置。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/4b1151536a30764a46d18770023229d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Kkvs947VWQOM9glk.png"/></div></div></figure><p id="9eb7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们需要通过输入<strong class="jx io">用户名</strong>、<strong class="jx io">密码</strong>，然后点击<strong class="jx io">创建用户</strong>，来创建一个从外部访问数据库的用户。我们还需要添加我们的IP地址，以便通过点击<strong class="jx io">添加我当前的IP地址</strong>按钮安全地连接到数据库。然后点击<strong class="jx io">完成并关闭</strong>保存更改。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/cf0685d2b4639da6d996189d5a89c986.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NkdQDYRg2UWQ9DQ_.png"/></div></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/5876867b976ed6ade79c392270a27316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8o4hON-dOOYjfo-L.png"/></div></div></figure><p id="6d1e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">保存更改后，我们应该会看到一个数据库部署屏幕，如下所示:</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/02a1793b9efbf57a671637f0d674a256.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zQBSOqamCxehZCA3.png"/></div></div></figure><h1 id="dfba" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">加载样本数据</h1><p id="ed11" class="pw-post-body-paragraph jv jw in jx b jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">接下来，我们需要用用户的样本数据填充数据库。为此，点击<strong class="jx io">浏览收藏</strong>按钮</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/24715cbf995a977400e0662990ddc214.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zmKXLR5BOOdGVmrc.png"/></div></div></figure><p id="b142" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">点击<strong class="jx io">添加我自己的数据</strong>，输入<code class="fe mx my mz na b">vueRealmDB</code>和<code class="fe mx my mz na b">vueRealmCol</code>作为数据库和集合名称，点击<strong class="jx io">创建</strong>。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/55a3289ccbe3f1b53883261491687b9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*z69afptRvMmNRF3S.png"/></div></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/74db156f48bae8ca3363401a72b2c569.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IgWJBsKgwVsB8_rJ.png"/></div></div></figure><p id="a7ac" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们需要插入这些样本数据:</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk">sample data</figcaption></figure><p id="94ba" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为此，点击<strong class="jx io">插入文件</strong>按钮，填写上面的详细信息并点击<strong class="jx io">插入</strong>进行保存。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/4d37ff2bb64f325fd5bda47a8f065580.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MsLKoECsqbWdv1ls.png"/></div></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/fe1a6ee41c3402fc9f81ddb1cae03c8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fY7DXYszyK76NuLl.png"/></div></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/6becb5c8a6e083ddb87060295ec39151.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YqDQFkYhhNgHt4i3.png"/></div></div></figure><h1 id="d53c" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">创建和配置MongoDB领域应用程序</h1><p id="ba43" class="pw-post-body-paragraph jv jw in jx b jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">填充数据库后，我们需要创建无服务器函数来对数据库执行创建、读取、更新和删除(CRUD)。为此，选择<strong class="jx io">领域</strong>标签，点击<strong class="jx io">构建你自己的应用</strong>。然后点击<strong class="jx io">创建领域应用</strong>来设置我们的应用。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/858796076e9a2f02c43bf86ab6192317.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XPcn4J1gMYEVprqO.png"/></div></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/c0e9821e69ab8c9017314b4418c39fd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xdt7V4Vz81Ae1ZIB.png"/></div></div></figure><p id="6e36" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">MongoDB Realm还附带了模板，我们可以使用这些模板快速构建我们的应用程序。对于本教程，我们将从头开始构建。</p><p id="457c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们需要为我们的函数设置权限和规则。为此，关闭弹出向导，点击<strong class="jx io">规则</strong>，选择<strong class="jx io"> vueRealmCol </strong>并点击<strong class="jx io">配置集合</strong>。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/1c39f44249742fbfce218916c2442adf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LoI1b_HB1BcjAQwe.png"/></div></div></figure><p id="eb3a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> MongoDB领域的保存和部署</strong></p><p id="e78f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完成后，MongoDB Realm将向我们展示一个小部件，展示保存和部署的概念。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/48ca8a5c969cc5655e60472b46bc3539.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*m6kyR3nW55bNpbtq.png"/></div></div></figure><p id="55e1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当编写一个无服务器功能时，点击<strong class="jx io">保存</strong>创建一个开发草案，我们可以测试和试验。同时，<strong class="jx io"> Deploy </strong>将我们的更改公开，供另一个应用程序使用(在我们的例子中是Vue.js)。</p><p id="4cfc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">点击<strong class="jx io">下一步</strong>，然后<strong class="jx io">拿到</strong>继续。</p><p id="50ca" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们需要允许<strong class="jx io">读取</strong>和<strong class="jx io">写入</strong>权限，然后<strong class="jx io">保存。</strong></p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/ee14eb096e135503d1d36e2b5e9700e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-98cxzqlQvJVq29f.png"/></div></div></figure><p id="70bb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，导航到<strong class="jx io">认证</strong>标签，点击<strong class="jx io">允许用户匿名登录</strong>，打开<strong class="jx io">保存草稿</strong>。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/25232a34e67a48f5c85e06ca6c244041.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RsYqse6sNrqbX81B.png"/></div></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/fe41c0c0bd715ab7f8836e8587351f81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GD8btaLxpK-BSyQz.png"/></div></div></figure><p id="95df" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">MongoDB Realm还附带了几个身份验证选项，我们可以研究一下。对于本教程，我们将使用匿名选项。</p><h1 id="37c0" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">在MongoDB领域上创建无服务器功能</h1><p id="d2a8" class="pw-post-body-paragraph jv jw in jx b jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated"><strong class="jx io">获取所有用户无服务器函数<br/> </strong>配置完成后，我们现在可以创建一个返回用户列表的无服务器函数。为此，导航至<strong class="jx io">功能</strong>选项卡，点击<strong class="jx io">创建新功能</strong>，并输入<code class="fe mx my mz na b">getAllUsers</code>作为功能名称</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/ee356a92bc9bc97786bfbe94de80dc21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6LiSbdPyd5ivmC3f.png"/></div></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/29526a947fe575e2d7cd6e30c6cfc230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bKG2h9ogOAUdYPgt.png"/></div></div></figure><p id="47fe" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，选择<strong class="jx io">功能编辑器</strong>选项卡，将功能修改如下:</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="1831" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码片段执行了以下操作:</p><ul class=""><li id="e6c2" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">创建一个集合变量来访问<code class="fe mx my mz na b">vueRealmDB</code>数据库和<code class="fe mx my mz na b">vueRealmCol</code>集合</li><li id="b3eb" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">返回集合中的文档列表。</li></ul><p id="2344" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们可以通过点击<strong class="jx io"> Run </strong>按钮查看用户列表来测试我们的功能。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/f90f40ed440c6aaf1d070dfc1e5eeaab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*r7Z_Caj84yrU104K.png"/></div></div></figure><p id="5ace" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，我们需要复制任何返回的用户的<code class="fe mx my mz na b">_id</code>并保存在某个地方；我们下一个活动需要它。然后点击<strong class="jx io">保存草稿</strong>为我们的功能创建一个部署草稿。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/7ac2916117112655b05e2e397998b05a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gADnqxb_rLEu9U-C.png"/></div></div></figure><p id="029b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">获取用户无服务器功能<br/> </strong>为此，点击<strong class="jx io">功能</strong>选项卡，点击<strong class="jx io">创建新功能</strong>，输入<code class="fe mx my mz na b">getSingleUser</code>作为功能名称</p><div class="nc nd ne nf gt ab cb"><figure class="nm jo nn no np nq nr paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/7c42fb255f8bab6ad36a2f0ef947d3dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*iHScxNGr2kfN07GlPfXyJQ.png"/></div></figure><figure class="nm jo nn no np nq nr paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/6d36c8f5347200c57a45d681a301031e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*6OxqbmhmtYQG_-DsjA8qbQ.png"/></div></figure></div><p id="6728" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，选择<strong class="jx io">功能编辑器</strong>选项卡，将功能修改如下:</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="5763" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码片段执行了以下操作:</p><ul class=""><li id="07b4" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">创建一个集合变量来访问<code class="fe mx my mz na b">vueRealmDB</code>数据库和<code class="fe mx my mz na b">vueRealmCol</code>集合</li><li id="0380" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">通过按_id查找返回单个用户。因为MongoDB将文档保存在<a class="ae kt" href="https://en.wikipedia.org/wiki/BSON#:~:text=BSON%20(%2F%CB%88bi%CB%90s,a%20computer%20data%20interchange%20format.&amp;text=It%20is%20a%20binary%20form,originated%20in%202009%20at%20MongoDB." rel="noopener ugc nofollow" target="_blank"> BSON </a>中，所以我们需要使用<code class="fe mx my mz na b">BSON.ObjectId</code>将arg解析为BSON。</li></ul><p id="32e9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了测试我们的功能，导航到<strong class="jx io">控制台</strong>选项卡，用我们之前复制的用户<code class="fe mx my mz na b">_id</code>替换<strong class="jx io">导出</strong>功能中的<code class="fe mx my mz na b">Hello world!</code>，然后点击<strong class="jx io">运行。</strong></p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/8486e5450fdaba5411b1677f2d29f8fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GqhV96LBikR1Ck-O.png"/></div></div></figure><p id="a45a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，我们需要点击<strong class="jx io">保存草稿</strong>按钮来保存我们的功能。</p><p id="6a23" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">编辑用户无服务器功能<br/> </strong>要做到这一点，我们需要遵循与上面相同的步骤。</p><p id="1dbd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，点击<strong class="jx io">功能</strong>选项卡，点击<strong class="jx io">创建新功能，</strong>并输入<code class="fe mx my mz na b">editUser</code>作为功能名称。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/ab110d79d8050ac15cf46ad9b29eda25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XDssFMOuZExf7YN2.png"/></div></div></figure><p id="a3b4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，选择<strong class="jx io">功能编辑器</strong>选项卡，将功能修改如下:</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="10a3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码片段执行了以下操作:</p><ul class=""><li id="aae1" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">修改函数以接受<code class="fe mx my mz na b">id</code>、<code class="fe mx my mz na b">name</code>、<code class="fe mx my mz na b">location</code>和<code class="fe mx my mz na b">title</code>参数</li><li id="1b2b" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">创建一个集合变量来访问<code class="fe mx my mz na b">vueRealmDB</code>数据库和<code class="fe mx my mz na b">vueRealmCol</code>集合</li><li id="d8d6" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">创建一个通过<code class="fe mx my mz na b">_id</code>找到文档的更新变量，更新集合字段并设置一个<code class="fe mx my mz na b">returnNewDocument</code>标志来返回更新后的文档。</li></ul><p id="d7da" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们可以通过导航到Console选项卡来测试我们的功能，替换Hello world！在<strong class="jx io">导出</strong>函数中输入所需参数(<strong class="jx io"> _id、名称、位置和标题</strong>)，点击<strong class="jx io">运行</strong>，然后<strong class="jx io">保存草稿</strong>。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/40308c982f6bdc2e632a723067d4473b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7f2U2GCwf2yTrXr2.png"/></div></div></figure><p id="96f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">创建一个用户无服务器功能<br/> </strong>要做到这一点，我们需要遵循与前面相同的步骤。</p><p id="19cb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，点击<strong class="jx io">功能</strong>标签，点击<strong class="jx io">创建新功能，</strong>并输入<code class="fe mx my mz na b">createUser</code>作为功能名称。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/275310bc2c547a8c08006dabfc1a5948.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XKD55cSVzgqwQX7I.png"/></div></div></figure><p id="4d95" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，选择<strong class="jx io">功能编辑器</strong>选项卡，将功能修改如下:</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="578f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码片段执行了以下操作:</p><ul class=""><li id="6f5e" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">修改函数以接受<code class="fe mx my mz na b">name</code>、<code class="fe mx my mz na b">location</code>和<code class="fe mx my mz na b">title</code>参数。</li><li id="14e2" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">创建一个集合变量来访问<code class="fe mx my mz na b">vueRealmDB</code>数据库和<code class="fe mx my mz na b">vueRealmCol</code>集合。</li><li id="59cf" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">通过插入参数并返回用户来创建新用户。</li></ul><p id="5478" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们可以通过导航到Console选项卡来测试我们的功能，替换Hello world！在<strong class="jx io">导出</strong>函数中加入所需参数(<strong class="jx io">名称、位置和标题</strong>，点击<strong class="jx io">运行</strong>，然后<strong class="jx io">保存草稿</strong>。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/6783c66a4e585bfeacfc1e0e8059092e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GleQeLEp_7qeSHUT.png"/></div></div></figure><p id="2194" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">删除一个用户<br/>无服务器功能</strong>要做到这一点，我们需要遵循和以前一样的步骤。</p><p id="2fdb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，点击<strong class="jx io">功能</strong>选项卡，点击<strong class="jx io">创建新功能，</strong>并输入<code class="fe mx my mz na b">deleteUser</code>作为功能名称。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/10c6860171b8b133ba0e87f566accf29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nSSNYj6jINBxOXkS.png"/></div></div></figure><p id="7f35" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，选择<strong class="jx io">功能编辑器</strong>选项卡，将功能修改如下:</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="a9c7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码片段执行了以下操作:</p><ul class=""><li id="f9f2" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">修改函数以接受参数。</li><li id="37d2" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">创建一个集合变量来访问<code class="fe mx my mz na b">vueRealmDB</code>数据库和<code class="fe mx my mz na b">vueRealmCol</code>集合。</li><li id="27fb" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">为删除by _id创建一个<code class="fe mx my mz na b">deleteUser</code>变量。</li></ul><p id="b6f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们可以通过导航到控制台选项卡来测试我们的函数，用所需的参数替换<strong class="jx io">导出</strong>函数中的<code class="fe mx my mz na b">Hello world!</code>，单击<strong class="jx io">运行</strong>，然后<strong class="jx io">保存草稿</strong>。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/ff392051be795b12be80779ff5cfd089.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lhRUiX2csXd-QI7Y.png"/></div></div></figure><h1 id="e9f6" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">部署无服务器功能</h1><p id="3e77" class="pw-post-body-paragraph jv jw in jx b jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">要开始在我们的应用程序中使用无服务器功能，我们需要部署它们。为此，点击<strong class="jx io">审阅草稿&amp;部署</strong>按钮，向下滚动，然后点击<strong class="jx io">部署</strong>。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/a3572f6048e271b99a531c1e175b7941.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Bopyut4oVMRgLqKx.png"/></div></div></figure><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/8ace3e764ac7638b946d95007e296330.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*i2U7BMvrFLCmiObd.png"/></div></div></figure><p id="39f2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们应该得到一个提示，显示我们的部署状态。</p><h1 id="696a" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">终于！与Vue.js集成</h1><p id="b49a" class="pw-post-body-paragraph jv jw in jx b jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">要将MongoDB领域集成到我们的应用程序中，我们需要安装以下依赖项:</p><p id="6802" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mx my mz na b">npm i realm-web</code></p><p id="b6ab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mx my mz na b">realm-web</code>是一个<a class="ae kt" href="https://github.com/realm/realm-js/tree/master/packages/realm-web#readme" rel="noopener ugc nofollow" target="_blank">库</a>，用于从web浏览器访问MongoDB领域。</p><p id="9500" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">设置一个环境变量<br/> </strong>首先，我们需要在项目根目录下创建一个<code class="fe mx my mz na b">.env</code>文件，在这个文件中，添加下面的代码片段:</p><p id="bfcd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mx my mz na b">VUE_APP_REALM_APP_ID=&lt;your-realm-app-id&gt;</code></p><p id="ec76" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要获取我们的<strong class="jx io">领域应用ID </strong>，我们需要点击复制图标，如下所示:</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/b557beb234751ab7114074151d95a6b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ef-OrmeK-qWEI3Dk.png"/></div></div></figure><p id="318c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">设置MongoDB领域<br/> </strong>接下来，我们需要在<code class="fe mx my mz na b">src</code>文件夹中创建一个<code class="fe mx my mz na b">utils</code>文件夹，在这个文件夹中，创建一个<code class="fe mx my mz na b">mongo.client.ts</code>文件，并添加下面的代码片段:</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="eda2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码片段执行了以下操作:</p><ul class=""><li id="4b7a" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">导入所需的依赖项。</li><li id="c6ba" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">创建一个变量来存储<strong class="jx io">领域应用ID </strong>。</li><li id="b02e" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">创建并导出MongoDB领域的实例，并传递应用程序ID。REALM_APP_ID前面的bang <code class="fe mx my mz na b">!</code>告诉编译器放松非空约束错误(意味着参数不能为空或未定义)</li><li id="f8b4" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">创建并导出我们将用于此应用的凭据类型。我们在前面配置了这个身份验证选项。</li></ul><p id="5dda" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">获取所有用户<br/> </strong>要获取所有用户，我们需要创建一个接口来描述响应属性。为此，我们需要在<code class="fe mx my mz na b">src</code>文件夹中创建一个<code class="fe mx my mz na b">models</code>文件夹，在这个文件夹中，创建一个<code class="fe mx my mz na b">user.interface.ts</code>文件并添加下面的代码片段:</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="eee1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">PS</strong>:<em class="ns"/><strong class="jx io"><em class="ns">_ id</em></strong><em class="ns">前面的问号告诉TypeScript这个属性是可选的，因为是MongoDB自动生成的。</em></p><p id="a321" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们需要修改<code class="fe mx my mz na b">App.vue</code>，用下面的代码片段更新它:</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="88a7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码片段执行了以下操作:</p><ul class=""><li id="9e63" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">导入<code class="fe mx my mz na b">IUser</code>接口、<code class="fe mx my mz na b">app</code>和<code class="fe mx my mz na b">credentials</code>。</li><li id="b49b" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">创建<code class="fe mx my mz na b">users</code>属性来管理用户列表。</li><li id="d9be" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">创建一个<code class="fe mx my mz na b">getListOfUsers</code>函数，使用导入的凭证来验证我们的应用程序，并通过访问我们之前创建的<code class="fe mx my mz na b">getAllUsers</code>无服务器函数来获取用户列表。然后更新<code class="fe mx my mz na b">users</code>属性，使用<code class="fe mx my mz na b">mounted</code>钩子调用函数。</li></ul><blockquote class="nt nu nv"><p id="26f7" class="jv jw ns jx b jy jz ka kb kc kd ke kf nw kh ki kj nx kl km kn ny kp kq kr ks ig bi translated">被调用的无服务器函数(在我们的例子中是<strong class="jx io"> getAllUsers </strong>)必须与MongoDB领域中定义的相同。</p></blockquote><ul class=""><li id="19ef" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">更新标记以显示用户列表。</li></ul><p id="a648" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">完成App.vue </strong></p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="b509" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">创建用户<br/></strong></p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="4e1e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码片段执行了以下操作:</p><ul class=""><li id="39cc" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">向数据属性添加一个<code class="fe mx my mz na b">userValue</code>属性。</li><li id="9da6" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">创建一个<code class="fe mx my mz na b">updateUserValue</code>函数来更新<code class="fe mx my mz na b">userValue</code>属性</li><li id="141b" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">包含<code class="fe mx my mz na b">watch</code>组件属性以监视<code class="fe mx my mz na b">userValue</code>属性，并在对其进行更改时获取更新的用户列表。</li><li id="e8a3" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">更新模式组件以接受updateUserValue作为属性。</li></ul><p id="2504" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，导航到components文件夹中的<code class="fe mx my mz na b">Modal.vue</code>文件，更新<code class="fe mx my mz na b">props</code>，并创建一个用户。</p><p id="d12d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://gist.github.com/Mr-Malomz/e2cc555fc72820999f3642a0205b4306" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/Mr-malo mz/e2cc 555 fc 72820999 f 3642 a 0205 b 4306</a></p><p id="1611" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码片段执行了以下操作:</p><ul class=""><li id="3c10" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">导入所需的依赖项。</li><li id="a7cf" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">将<code class="fe mx my mz na b">updateUserValue</code>添加到道具属性</li><li id="1a05" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">修改<code class="fe mx my mz na b">onSubmitForm</code>函数，使用导入的凭证验证我们的应用程序。通过访问我们之前创建的createUser无服务器函数来创建一个用户，传递所需的参数(<strong class="jx io">名称</strong>、<strong class="jx io">位置、</strong>和<strong class="jx io">标题</strong>，然后更新<code class="fe mx my mz na b">userValue</code>和表单状态。</li></ul><p id="7b8c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">编辑一个用户<br/> </strong>要编辑一个用户，我们首先要通过创建一个属性来管理我们想要编辑的用户的<code class="fe mx my mz na b">_id</code>和更新它的函数来修改<code class="fe mx my mz na b">App.vue</code>。我们还更新了handleEditClick函数来更新属性，并将其作为道具传递给模态组件。</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="4f13" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们需要在点击<strong class="jx io">编辑</strong>按钮时填充表单。要做到这一点，打开<code class="fe mx my mz na b">Modal.vue</code>，更新如下所示:</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="ec87" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码片段执行了以下操作:</p><ul class=""><li id="0837" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">导入所需的依赖项。</li><li id="8158" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">给道具属性添加<code class="fe mx my mz na b">editingId</code></li><li id="0ba5" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">使用导入的<code class="fe mx my mz na b">credentials</code>创建一个<code class="fe mx my mz na b">getAUser</code>函数来验证我们的应用程序。使用<code class="fe mx my mz na b">getSingleUser</code>无服务器功能获取所选用户的详细信息，然后更新表单值。<code class="fe mx my mz na b">getSingleUser</code>函数还要求我们使用BSON将<code class="fe mx my mz na b">editingId</code>转换成字符串。ObjectID函数。</li><li id="41ed" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">包含监视组件属性以监视<code class="fe mx my mz na b">isEdit</code>状态，有条件地调用getAUser函数，并更新表单状态。</li></ul><p id="792a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们需要更新<code class="fe mx my mz na b">onSubmitForm</code>函数，通过有条件地检查它是否是更新操作来更新用户的详细信息。接下来，我们需要调用<code class="fe mx my mz na b">editUser</code>无服务器函数并传入所需的参数。最后，更新<code class="fe mx my mz na b">updateUserValue</code>，将表单恢复为默认，并关闭模态组件。</p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="fa26" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">完成情态。Vue </strong></p><p id="f87f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://gist.github.com/Mr-Malomz/a52eb3b13bb44a19eb3f37e132c2228d" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/Mr-malo mz/a 52 EB 3 b 13 bb 44 a 19 EB 3 f 37 e 132 c 2228d</a></p><p id="3a65" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://gist.github.com/Mr-Malomz/a52eb3b13bb44a19eb3f37e132c2228d" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/Mr-malo mz/a 52 EB 3 b 13 bb 44 a 19 EB 3 f 37 e 132 c 2228d</a></p><p id="a5a5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">删除用户</strong></p><p id="abb3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要删除用户，我们需要通过创建如下所示的handleDelete函数来修改App.vue:</p><p id="1f3f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://gist.github.com/Mr-Malomz/b744260e88ea2de9958fcc68a2d38385" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/Mr-malo mz/b 744260 e 88 ea 2 de 9958 FCC 68 a2 d 38385</a></p><p id="2c0a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://gist.github.com/Mr-Malomz/b744260e88ea2de9958fcc68a2d38385" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/Mr-malo mz/b 744260 e 88 ea 2 de 9958 FCC 68 a2 d 38385</a></p><p id="c298" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码片段执行了以下操作:</p><ul class=""><li id="6610" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated">导入所需的依赖项。</li><li id="4d1b" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated">创建一个以id为参数的deleteAUser函数，使用凭证验证我们的应用程序。使用deleteUser无服务器函数删除选定的用户，并更新用户值状态。</li></ul><p id="abc2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">完成App.vue </strong></p><figure class="nc nd ne nf gt jo"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="7271" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，我们可以通过启动开发服务器并执行CRUD操作来测试应用程序。</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nb"><img src="../Images/5ad41adc6da1174bb96d6cbe4f93d5bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Zjd364TrEnYNoWOH.png"/></div></div></figure><h1 id="0158" class="li lj in bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">结论</h1><p id="7f01" class="pw-post-body-paragraph jv jw in jx b jy mg ka kb kc mh ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">本文讨论了如何在MongoDB上创建数据库，使用MongoDB领域创建和部署无服务器功能，以及在Vue.js应用程序中使用端点。</p><p id="49af" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可能会发现这些资源很有帮助:</p><ul class=""><li id="1eb5" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated"><a class="ae kt" href="https://docs.mongodb.com/realm/" rel="noopener ugc nofollow" target="_blank"> MongoDB领域</a>。</li><li id="c594" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated"><a class="ae kt" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank">尾翼</a>。</li><li id="dc47" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated"><a class="ae kt" href="https://github.com/realm/realm-js" rel="noopener ugc nofollow" target="_blank"> Realm-Web SDK </a>。</li><li id="2a11" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated"><a class="ae kt" href="https://en.wikipedia.org/wiki/Serverless_computing" rel="noopener ugc nofollow" target="_blank">无服务器计算</a>。</li><li id="2d7f" class="ku kv in jx b jy ld kc le kg lf kk lg ko lh ks kz la lb lc bi translated"><a class="ae kt" href="https://www.mongodb.com/json-and-bson" rel="noopener ugc nofollow" target="_blank"> BSON </a></li></ul><p id="7990" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ns">更多内容看</em> <a class="ae kt" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ns">说白了. io </em> </a> <em class="ns">。报名参加我们的</em> <a class="ae kt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ns">免费周报在这里</em> </a> <em class="ns">。</em></p></div></div>    
</body>
</html>