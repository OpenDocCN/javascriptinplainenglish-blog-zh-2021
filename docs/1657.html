<html>
<head>
<title>Create Multi-language Vue Applications with Vue I18n</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vue I18n创建多语言Vue应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-multi-language-vue-applications-with-vue-i18n-60a0e3595193?source=collection_archive---------13-----------------------#2021-04-09">https://javascript.plainenglish.io/create-multi-language-vue-applications-with-vue-i18n-60a0e3595193?source=collection_archive---------13-----------------------#2021-04-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="2e73" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">在您的Vue应用程序中安装和使用Vue I18n的分步示例。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/1c696288b13fd0f5c83e454fef4d618e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lCHglqaWN_JoLJaRdPYirQ.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@kylejglenn" rel="noopener ugc nofollow" target="_blank">Kyle Glenn</a> on <a class="ae ks" href="https://unsplash.com/photos/nXt5HtLmlgE" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="5607" class="kt ku in bd kv kw kx dn ky kz la dp lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">介绍</h2><p id="c0b3" class="pw-post-body-paragraph lp lq in lr b ls lt jo lu lv lw jr lx lc ly lz ma lg mb mc md lk me mf mg mh ig bi translated">本文将探索为您的<a class="ae ks" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue应用</a>创建多语言的最佳实践。这篇文章是基于<a class="ae ks" href="https://kazupon.github.io/vue-i18n/" rel="noopener ugc nofollow" target="_blank"> Vue-I18n官方文档</a>，我的工作经验和互联网文档，并从中获得灵感。</p><p id="ec7a" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">对于本文的其余部分，让我们假设我们正在使用Vue-I18n库构建一个简单的Vue应用程序，它将显示Vue核心功能，就像官方文档中的可用语言一样，包括英语、印度尼西亚语、中文和日语。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mn"><img src="../Images/0a429e421887d1ced07622e1e14458dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RLVOICaXIw6UKIcR6TB0Pw.gif"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><a class="ae ks" href="https://github.com/hanssagita/vue-i18n-example" rel="noopener ugc nofollow" target="_blank">My Github demo example</a></figcaption></figure><h2 id="8d2d" class="kt ku in bd kv kw kx dn ky kz la dp lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">如何初始化Vue-I18n</h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mo"><img src="../Images/dad1ed015c38596f10becc3d1d55046a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kChMgut6cHowUvyHlcGmRw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Vue I18n step by step initialization</figcaption></figure><p id="f624" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">首先你需要安装Vue-I18n库。</p><p id="5729" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">对于Npm用户</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="9ee0" class="kt ku in mq b gy mu mv l mw mx">npm install vue-i18n</span></pre><p id="5abf" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">对于纱线用户</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="b6c4" class="kt ku in mq b gy mu mv l mw mx">yarn add vue-i18n</span></pre><p id="7fcb" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">成功地将库安装到你的Vue应用程序后，我建议用这个模板在你的src中创建一个新文件夹，使它简单干净。可以选择上方推荐，也可以选择下方推荐。对于这个演示，我个人使用第一个文件夹模板。</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="b20c" class="kt ku in mq b gy mu mv l mw mx">📂 localization<br/>  └ id.js<br/>  └ en.js<br/>  └ cn.js<br/>  └ jp.js<br/>  └ <em class="my">index</em>.js</span><span id="368d" class="kt ku in mq b gy mz mv l mw mx">OR</span><span id="c005" class="kt ku in mq b gy mz mv l mw mx">📂 localization<br/>  └📁 lang<br/>    └ id.js<br/>    └ en.js<br/>    └ cn.js<br/>    └ jp.js<br/>  └ <em class="my">index</em>.js</span></pre><p id="af65" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">这是一个语言文件的例子，它是en.js文件。我们只需要返回一个对象。我推荐的键名是<strong class="lr io">节位置</strong>或<strong class="lr io">节上下文</strong>。字段的值是您希望在UI中显示的语言。</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="c3ff" class="kt ku in mq b gy mu mv l mw mx"><em class="my">export default </em>{<br/>  welcomeMessage: 'The Progressive JavaScript Framework',<br/>  highlights: {<br/>    approachable: 'Approachable'<br/>  }<br/>}</span></pre><p id="aef8" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">在创建了所有其他语言之后，我们需要将它们打包到一个文件中，这个文件位于我们的index.js文件中。</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="0905" class="kt ku in mq b gy mu mv l mw mx">import VueI18n from 'vue-i18n'<br/><br/>Vue.use(VueI18n)</span><span id="9ab4" class="kt ku in mq b gy mz mv l mw mx">// import all the language we have been define<br/>import ID from './id'<br/>import EN from './en'<br/>import JP from './jp'<br/>import CN from './cn'<br/><br/>export default new VueI18n({<br/>  locale: 'EN', <em class="my">// set default </em>language<em class="my"><br/>  </em>messages:{<br/>    ID,<br/>    EN,<br/>    JP,<br/>    CN<br/>  } <em class="my">// feed all the messages with the tall </em>language<em class="my"><br/></em>})</span></pre><p id="882b" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">一些额外的提示，我们也可以在localStorage的帮助下更早地保存和读取用户的偏好。下面是一个例子，如何从localStorage中读取默认语言，并将其设置为默认语言。</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="63eb" class="kt ku in mq b gy mu mv l mw mx">const DEFAULT_LANGUAGE_LOCAL_STORAGE_KEY =<br/>'defaultLanguageVuei18nExample'<br/>const defaultLang = localStorage(DEFAULT_LANGUAGE_LOCAL_STORAGE_KEY)</span><span id="7186" class="kt ku in mq b gy mz mv l mw mx">export default new VueI18n({<br/>  locale: defaultLang,<em class="my"><br/>  ......<br/></em>})</span></pre><p id="ddb9" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">在将它们打包成一个文件后，最后我们需要将它添加到main.js中，并在创建新的Vue时放置它。</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="5d68" class="kt ku in mq b gy mu mv l mw mx">import Vue from 'vue'<br/>import App from './App.vue'<br/>import i18n from '@/localization'</span><span id="d996" class="kt ku in mq b gy mz mv l mw mx">new Vue({<br/>  render: h =&gt; h(App),<br/>  i18n<br/>}).$mount('#app')</span></pre><h2 id="b0c7" class="kt ku in bd kv kw kx dn ky kz la dp lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">深潜显示Vue中的语言</h2><p id="4e3a" class="pw-post-body-paragraph lp lq in lr b ls lt jo lu lv lw jr lx lc ly lz ma lg mb mc md lk me mf mg mh ig bi translated">在模板中，我们只需要把它放在双花括号中，就好像我们在访问一个JavaScript变量或方法一样。我们添加$t并写入对象键。</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="e871" class="kt ku in mq b gy mu mv l mw mx">&lt;template&gt;<br/>  &lt;div&gt;<br/>    {{ $t('welcomeMessage') }}<br/>    {{ $t('highlights.approachable') }}<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="72a7" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">从JavaScript来看，它有点类似于模板中的，但是我们需要在访问<strong class="lr io"> $t </strong>时添加它。</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="8788" class="kt ku in mq b gy mu mv l mw mx">computed: {<br/>  welcomeMessage () {<br/>    <em class="my">return this</em>.$t('welcomeMessage')<br/>  },<br/>  firstCoreFeature () {<br/>    <em class="my">return this</em>.$t('highlights.approachable')<br/>  }<br/>}</span></pre><h2 id="7ce0" class="kt ku in bd kv kw kx dn ky kz la dp lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">改变语言的深度潜水</h2><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="c80b" class="kt ku in mq b gy mu mv l mw mx"><em class="my">// </em>override<em class="my"> the $i18n.locale value</em></span><span id="5001" class="kt ku in mq b gy mz mv l mw mx"><em class="my">this</em>.$i18n.locale = selectedLanguage</span></pre><p id="0e00" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">在这个例子中，我将选择选项中的v-model与Vue watch结合在一起。它将监视v-model值，因此当用户更改selectedLangunage时，它将自动触发一些代码来更改$i18n.locale的值。您也可以将它与<a class="ae ks" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank"> @click </a>和方法结合使用。</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="fa20" class="kt ku in mq b gy mu mv l mw mx">data () {<br/>  <em class="my">return </em>{<br/>    selectedLanguage: 'EN'<br/>  }<br/>},<br/>watch: {<br/>  selectedLanguage (payload) {<br/>    <em class="my">this</em>.$i18n.locale = payload<br/>  }<br/>}</span></pre><p id="a292" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">如果你想和方法一起使用。</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="cddf" class="kt ku in mq b gy mu mv l mw mx">methods: {<br/>  changeLanguage (payload) {<br/>    <em class="my">this</em>.$i18n.local = payload<br/>  }<br/>}</span></pre><p id="0088" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">正如我前面提到的，我们可以保存用户对他们语言的偏好，这里有一些保存到本地存储的技巧。</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="ae06" class="kt ku in mq b gy mu mv l mw mx">const DEFAULT_LANGUAGE_LOCAL_STORAGE_KEY =<br/>'defaultLanguageVuei18nExample'</span><span id="9c11" class="kt ku in mq b gy mz mv l mw mx">methods: {<br/>  changeLanguage (payload) {<br/>    <em class="my">this</em>.$i18n.local = payload<br/>    localStorage.setItem(<br/>DEFAULT_LANGUAGE_LOCAL_STORAGE_KEY, payload)<br/>  }<br/>}</span></pre><h2 id="0a5d" class="kt ku in bd kv kw kx dn ky kz la dp lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated"><strong class="ak">额外提示:使用一些变量访问语言</strong></h2><p id="c259" class="pw-post-body-paragraph lp lq in lr b ls lt jo lu lv lw jr lx lc ly lz ma lg mb mc md lk me mf mg mh ig bi translated">Vue I18n为我们提供了一个有趣的功能，那就是你还可以在你的语言文本中添加一个变量。这里有一个在你的语言中使用变量并访问它的例子。</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="1592" class="kt ku in mq b gy mu mv l mw mx"><em class="my">export default </em>{<br/>  welcomeMessage: 'Hello, Mr. {name}',<br/>}</span></pre><p id="a921" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">从Vue模板访问</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="c297" class="kt ku in mq b gy mu mv l mw mx">&lt;template&gt;<br/>  &lt;div&gt;<br/>    {{ $t('welcomeMessage', { name: 'hans' }) }}<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="5612" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">从JavaScript访问</p><pre class="kd ke kf kg gt mp mq mr ms aw mt bi"><span id="4ec3" class="kt ku in mq b gy mu mv l mw mx">computed: {<br/>  welcomeMessage () {<br/>    <em class="my">return this</em>.$t('welcomeMessage', { name: 'hans' })<br/>  },<br/>}</span></pre><p id="9d2d" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">您还可以在<a class="ae ks" href="https://github.com/hanssagita/vue-i18n-example" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>中探索更多我的代码示例。</p><h1 id="f31a" class="na ku in bd kv nb nc nd ky ne nf ng lb jt nh ju lf jw ni jx lj jz nj ka ln nk bi translated">结论</h1><p id="b1df" class="pw-post-body-paragraph lp lq in lr b ls lt jo lu lv lw jr lx lc ly lz ma lg mb mc md lk me mf mg mh ig bi translated">从最初的网站上你可以探索更多的东西。这里有一些最佳实践和简单的提示，可以帮助你开始实现创建多语言Vue应用的旅程。</p><p id="6bf6" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated">就这样，如果你觉得这篇文章有帮助，请在评论中告诉我们。你也可以在Medium和LinkedIn上关注我。</p><p id="3274" class="pw-post-body-paragraph lp lq in lr b ls mi jo lu lv mj jr lx lc mk lz ma lg ml mc md lk mm mf mg mh ig bi translated"><em class="my">更多内容尽在</em><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lr io"><em class="my">plain English . io</em></strong></a></p></div></div>    
</body>
</html>