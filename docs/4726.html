<html>
<head>
<title>What Happened to CoffeeScript, the First Big JavaScript Alternative?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">咖啡脚本，第一个大的JavaScript替代品发生了什么？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/coffeescript-6dd64142b8dd?source=collection_archive---------3-----------------------#2021-09-21">https://javascript.plainenglish.io/coffeescript-6dd64142b8dd?source=collection_archive---------3-----------------------#2021-09-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7cad" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">甚至Dropbox也使用了它</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fd62f2605a52d252119ce5e6377dfd3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HQGS4AlRnedR6Us6KFCLHw.png"/></div></div></figure><p id="aead" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">JavaScript总是有它的问题。自发布以来，人们一直嘲笑这种充满怪异行为的语言。十年前，当JavaScript随着每一个版本变得更好的时候，人们在寻找另一种版本。不是一个替代JavaScript的选项，而是在将它跨编译成普通JS之前编写其他东西。</p><p id="bba3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">据我所知，咖啡脚本是实现这一目标的第一个选择——比TypeScript早很多年。但是咖啡怎么了？为什么很多网络开发者都不知道呢？让我们看看发生了什么。</p><h1 id="cf55" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">咖啡脚本到底是什么？</h1><p id="2c9b" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">咖啡脚本是一种可以转换成JavaScript的编程语言。因此，人们可以把它想象成TypeScript。然而，与类型脚本相比，咖啡脚本更古老。确切地说，它比2009年(2009年)早了三年，这几乎是编程的一个时代。</p><p id="93a8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如JavaScript一样，咖啡脚本是一种多范例语言，允许您使用自己喜欢的风格。咖啡脚本语法中一个明显的区别:几乎所有的东西都是一个表达式，这意味着几乎所有的东西都是一段代码，评估为一个值。确切地说，这个概念是从函数式编程语言中知道的，它有助于编写声明性代码。</p><p id="3020" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">咖啡脚本并不是偶然出现这种风格的。它受到像哈斯克尔这样的语言的很大影响。然而总的来说，它声称“只”为JavaScript提供语法糖。哈斯克尔和其他人影响了语言，但它仍然是多范式的，就像JavaScript一样。</p><p id="20b0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那么，自2009年发布以来，咖啡脚本是如何使用的呢？</p><h1 id="d3ec" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">基于咖啡的项目脚本</h1><p id="e997" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">研究这样一份名单很难。由于咖啡脚本在发送到浏览器之前会被转换成JavaScript，所以人们永远无法判断一个web应用程序是否在幕后使用咖啡脚本。因此，像Wappalzyer这样的检测工具根本没有列出咖啡脚本。</p><p id="6a53" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我可以在博客上找到的一个大玩家是Dropbox。</p><p id="5272" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那时，小Dropbox开发了自己的网络应用程序。2012年的这个时候，jQuery主宰了一切。尽管JavaScript甚至不能执行箭头功能，但咖啡脚本已经提供了这样的功能。Dropbox的主要目标是:减少代码行数和字符数，提高可读性。</p><p id="dbaa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在转向咖啡脚本后，他们实现了自己的目标:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/1edcad7eb1cd74e218948bfbbca5610a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wC4oLD_z6_QW3NGqwcJnhw.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Source: <a class="ae mp" href="https://dropbox.tech/application/dropbox-dives-into-coffeescript" rel="noopener ugc nofollow" target="_blank">Dropbox.tech</a></figcaption></figure><p id="9558" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些是整个Dropbox项目的数字。是的，人们可能会期望有超过23k行的JS代码，但是Dropbox那时还是一个初创公司。</p><p id="c5df" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在从JavaScript转换到咖啡脚本并使用了五年之后，一个新的转变出现了:TypeScript出现并流行起来。因此，在2017年，整个网络代码库被重写。</p><p id="62b0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是为什么呢？</p><p id="fcba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对此进行调查的Dropbox。虽然缺乏社区对咖啡脚本的支持是一个原因，但第一个列出的原因是:咖啡脚本中缺少分隔符。后来发现，TypeScript的另一个好处是支持类型。</p><p id="dfaa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Dropbox的咖啡脚本到此结束。</p><p id="526a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">除了云文件托管服务，一个著名的开源项目也是用CoffeeScript构建的:Atom文本编辑器。</p><p id="8738" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">像VS代码一样，Atom是基于web编写的:JavaScript、HTML和CSS。Atom没有编写JavaScript，而是在编译CoffeeScript之前使用了它。记得早在2016年官网提到CoffeeScript的时候。现在不再是这样了。</p><p id="5641" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外，看起来代码库越来越远离CoffeeScript。</p><h1 id="2f25" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">兴趣是如何下降的</h1><p id="bf8d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">您可能注意到了，CoffeeScript变得不那么重要了。不仅仅是项目远离it——这也是普遍的兴趣，越来越少。</p><p id="4b47" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以从谷歌趋势中很好地看到这一点:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/5e6127d4d7f8de470b4070435ced3e97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YKo5jwq9cKUvd1k9cvX9WQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Source: <a class="ae mp" href="https://trends.google.de/trends/explore?date=2011-01-01%202021-09-20&amp;geo=DE&amp;q=%2Fm%2F0hjc5m0,%2Fm%2F0n50hxv" rel="noopener ugc nofollow" target="_blank">Google Trends</a></figcaption></figure><p id="d149" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从2011年开始到今天，这些数据很好地说明了这一点。蓝色是CoffeeScript。红色是打字稿。</p><p id="4c97" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外，最大的次级区域的活动大幅下降。所有热门帖子都是8-10年前的，这是社区参与度下降的一个很好的指标。相比之下，TypeScript subreddit中的顶级帖子是在六个月前发布的。此外，TypeScript subreddit的大小是它的30倍。</p><h1 id="1a17" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">通过打字稿死亡？</h1><p id="16cd" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">很可能假设TypeScript推开了CoffeeScript。正如CoffeeScript一样，TS是一种多范式语言。</p><p id="30a3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，有一个关键的区别:TypeScript是JavaScript的一个子集。</p><p id="81c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这意味着，TypeScript以兼容的方式扩展了JavaScript语法。简单地说:您可以在TypeScript文件中编写普通的JavaScript，然后用TypeScript运行它。TS只是对JS的一个补充，并不是一种全新的、强制的编写代码的方式。</p><p id="7ff8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于CoffeeScript来说，这是不正确的。让我们看一个例子。</p><p id="ae6a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是一个CoffeeScript函数，返回它接收到的双精度数:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="10ad" class="mw lo iq ms b gy mx my l mz na">f = (x) -&gt; x * 2</span><span id="81fd" class="mw lo iq ms b gy nb my l mz na">console.log(f(4))</span></pre><p id="63d4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">用<code class="fe nc nd ne ms b">coffee app.coffee</code>运行这个就可以了。然而，当将代码重写为JavaScript并尝试用CoffeeScript运行它时，会导致一个错误:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9d60" class="mw lo iq ms b gy mx my l mz na">function f(x) {<br/>  return x * 2<br/>}</span><span id="b138" class="mw lo iq ms b gy nb my l mz na">console.log(f(4))</span></pre><p id="a752" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在TypeScript中不是这种情况，上面的语法工作得很好。</p><p id="0b76" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于开发者来说，这是有用的。构建在JavaScript语法的基础上，并且可以选择在项目中的任何地方跳过编写TypeScript-syntax，这使得学习和工作更加容易。TypeScript相对于CoffeeScript的明显优势。</p><h1 id="69f9" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">最终想法</h1><p id="404a" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">对我来说，很明显:TypeScript取代了CoffeeScript。这种替换是有原因的——我在试用CoffeeScript时注意到了这一点。正如我之前提到的，TypeScript有更大的好处。至少在我看来是这样。</p><p id="ccab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对我来说，打字稿的类型和兼容性是明显的赢家。</p><p id="b2ce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但公平地说，CoffeeScript可能永远没有机会。三岁的年龄差距改变了游戏规则。据我所知，与TypeScript相比，CoffeeScript侧重于解决不同的问题。</p><p id="2854" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当时，JS开发人员希望使用链接和箭头函数，但时代已经变了。Web应用变得巨大，在数百万行代码中，我们开始更关心类型。</p><p id="eb32" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">毕竟，旧技术更有可能被取代——这是时间的过程。</p><h2 id="0832" class="mw lo iq bd lp nf ng dn lt nh ni dp lx la nj nk lz le nl nm mb li nn no md np bi translated">感谢您的阅读！</h2><p id="fc8e" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">关于JavaScript替代方案的更多信息:</p><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/purescript-3ee759ce05aa"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">用PureScript为Web带来强大的函数式编程</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">就像JavaScript的Haskell</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oc l"><div class="od l oe of og oc oh kp nt"/></div></div></a></div></div></div>    
</body>
</html>