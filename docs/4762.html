<html>
<head>
<title>Demystifying JavaScript Function Expressions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">揭开JavaScript函数表达式的神秘面纱</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/demystifying-javascript-function-expressions-4135a64b4c65?source=collection_archive---------20-----------------------#2021-09-22">https://javascript.plainenglish.io/demystifying-javascript-function-expressions-4135a64b4c65?source=collection_archive---------20-----------------------#2021-09-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/5ac232a70a42a14003cb52aaefdcafbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kNb2c_miYzjEJbroYQTpWQ.png"/></div></div></figure><p id="4485" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">被赋值给变量的函数称为<strong class="jx io">函数表达式</strong>。如果你还没有读过JavaScript中的函数，我会推荐你在继续下一步之前阅读一下<a class="ae kt" href="https://themallu.dev/demystifying-functions-in-js" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">这个</strong> </a>。让我们借助一个例子来尝试理解函数表达式。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="e168" class="ld le in kz b gy lf lg l lh li">var counter = 0<br/>var incrementCounterAndPrint = function () {<br/>  counter++;<br/>  console.log("Incremented Counter", counter);<br/>}<br/>incrementCounterAndPrint()</span></pre><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lj"><img src="../Images/f634598552b2ddbbc7fa2bc35ab42d50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D9mcqx2esgNQ0ngMDUjFkg.png"/></div></div></figure><p id="b3e2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当JS引擎遇到这段代码时，首先它会创建一个全局执行上下文，并启动创建阶段。在创建阶段，它将遍历所有的声明语句，并将它们放入内存中。在这种情况下，变量`<strong class="jx io"> counter </strong>和`<strong class="jx io"> incrementCounterAndPrint </strong>'将被存储在内存中，并被赋予默认值“未定义”。</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lk"><img src="../Images/75e227daead8208f8f920f48bfa8f53a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g2sq_bfO0b1Ja9SkVU3K4w.png"/></div></div></figure><p id="d77e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">由于没有更多的声明语句，它将进入第二阶段，即执行阶段。执行阶段是逐行执行代码的阶段。在这种情况下，首先，`<strong class="jx io">计数器</strong>将被赋值为值`<strong class="jx io"> 0 </strong>',而` incrementCounterAndPrint '将被赋值为整个函数的值。当JS引擎遇到语句`<strong class="jx io">incrementCounterAndPrint()</strong>时，它将首先检查内存中是否存在这个特定的变量。当它存在时，它将从内存中获取值并执行它。在执行函数时，函数“<strong class="jx io">incrementCounterAndPrint</strong>”将被推入调用堆栈，并创建一个新的函数执行上下文。一旦创建了执行上下文，它将启动创建阶段。因为没有这样的声明语句，所以它将进入第二个阶段，称为执行阶段。在这个阶段，首先，JS引擎将执行语句`<strong class="jx io"> counter++ </strong>`。在执行时，它将检查变量是否存在于本地内存中，如果不存在，它将移动到全局执行上下文并检查它的内存。一旦找到变量，它将执行操作并移动到下一行。在执行语句`<strong class="jx io"> console.log('递增计数器'，counter) </strong>'时，它会将值`<strong class="jx io"> 1 </strong>'打印到控制台。</p><p id="c269" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，显而易见的问题是函数表达式是否被提升？好吧，让我们通过修改上面的代码来检查一下。</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="7e80" class="ld le in kz b gy lf lg l lh li"><br/>var counter = 0<br/>incrementCounterAndPrint() // TypeError: incrementCounterAndPrint is not a function<br/>var incrementCounterAndPrint = function () {<br/> counter++;<br/> console.log(“Incremented Counter”, counter);<br/>}</span></pre><p id="bbd4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当JS引擎运行上述代码时，它将抛出一个类型错误。能告诉我为什么会这样吗？如果我们仔细观察代码，我们可以看到function被赋值给变量`<strong class="jx io"> incrementCounterAndPrint </strong>`。在根据提升特性的创建阶段，所有的变量声明将被移动到顶部，留下分配给它的值。在这种情况下,`<strong class="jx io"> incrementCounterAndPrint </strong>'将被移动到顶部，留下函数代码，并且默认情况下将被设置为值`<strong class="jx io">未定义</strong>,因为它是使用`<strong class="jx io"> var </strong>声明的。当JS引擎遇到语句`<strong class="jx io">incrementCounterAndPrint()</strong>时，将首先检查内存中的变量。当它存在时，它将获取存储的值，该值是“未定义的<strong class="jx io">”。由于undefined不是一个`<strong class="jx io">函数</strong>`类型，它将抛出一个类型错误。这就给我们带来了一个结论，函数表达式是不吊的。函数表达式有其作用域。函数表达式通常是匿名的，但是我们也可以给它命名，这对调试很有帮助。</strong></p><p id="e809" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那么箭头函数呢？？？。好吧，我很快会在我的下一篇博客《坚持住》中详细讨论这个问题。在那之前，如果你觉得这篇文章有用，请展示你的爱，并通过你的社交媒体与你的同伴分享，他们可以最大限度地利用这篇文章。请随时在<a class="ae kt" href="https://twitter.com/ajojm" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> Twitter </strong> </a>、<a class="ae kt" href="https://www.linkedin.com/in/ajojohn/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> LinkedIn </strong> </a>或电子邮件上与我联系。</p><p id="09eb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">直到我们再次见面，<strong class="jx io">Mallu Dev</strong>结束👋干杯！🥂</p><p id="1b94" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ll">更多内容请看</em><a class="ae kt" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ll">plain English . io</em></strong></a></p></div></div>    
</body>
</html>