<html>
<head>
<title>Angular: Translating the Application Language using @angular/localize and Deploying it to Firebase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular:使用@angular/localize翻译应用程序语言，并将其部署到Firebase</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/angular-translating-the-application-language-using-angular-localize-and-deploying-it-to-firebase-d2b127e64496?source=collection_archive---------2-----------------------#2021-12-03">https://javascript.plainenglish.io/angular-translating-the-application-language-using-angular-localize-and-deploying-it-to-firebase-d2b127e64496?source=collection_archive---------2-----------------------#2021-12-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/d3ee647e209d0dc12c7d4fb2b69e4b28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sB1YDTrh8ckwnXxb"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@etiennegirardet?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Etienne Girardet</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="dd58" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">@angular/localize可以非常容易地将应用程序的语言翻译成您选择的任何语言。在本地DEV服务器上实现它并不困难，但是在Firebase上部署它并让它工作对我来说是一项相当艰巨的任务。</p><p id="36c4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以我想我应该分享我创建一个简单的应用程序的经验，这个应用程序提供了在英语和法语之间切换的能力。这可以扩展到更多的语言。</p><p id="a000" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你有兴趣知道<strong class="kc io"> ngx-translate </strong>如何帮助翻译你的应用语言，你可以看看下面的故事。</p><div class="ky kz gp gr la lb"><a href="https://ramya-bala221190.medium.com/using-ngx-translate-to-switch-the-language-of-a-form-in-your-angular-application-d3e2ebd469d7" rel="noopener follow" target="_blank"><div class="lc ab fo"><div class="ld ab le cl cj lf"><h2 class="bd io gy z fp lg fr fs lh fu fw im bi translated">使用ngx-translate在angular应用程序中切换表单的语言</h2><div class="li l"><h3 class="bd b gy z fp lg fr fs lh fu fw dk translated">您可能遇到过这样的应用程序，它们提供了以您喜欢的语言查看它的选项。这种功能不会…</h3></div><div class="lj l"><p class="bd b dl z fp lg fr fs lh fu fw dk translated">ramya-bala221190.medium.com</p></div></div><div class="lk l"><div class="ll l lm ln lo lk lp jt lb"/></div></div></a></div><p id="26e8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我们开始之前，一个<strong class="kc io">地区ID </strong>由语言标识符、破折号(<code class="fe lq lr ls lt b">-</code>)和地区扩展名组成。下面是几个例子。</p><figure class="lv lw lx ly gt jo gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/0b91ff76a3b109ffdea4e39505527614.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*-wsaOls74E8fL2PhCEi2XQ.png"/></div></figure><p id="a678" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这些是我们的目标:</p><ol class=""><li id="dee2" class="lz ma in kc b kd ke kh ki kl mb kp mc kt md kx me mf mg mh bi translated"><a class="ae jz" href="http://server_name:port/en/" rel="noopener ugc nofollow" target="_blank">http://server _ name:port/en-US/</a>以英语(美国)呈现应用程序。</li><li id="ff4d" class="lz ma in kc b kd mi kh mj kl mk kp ml kt mm kx me mf mg mh bi translated"><a class="ae jz" href="http://server_name:port/en/" rel="noopener ugc nofollow" target="_blank">http://server _ name:port/FR-FR/</a>用法语(法国)呈现应用程序。</li><li id="12a3" class="lz ma in kc b kd mi kh mj kl mk kp ml kt mm kx me mf mg mh bi translated"><a class="ae jz" href="http://server_name:port/en/" rel="noopener ugc nofollow" target="_blank">http://server _ name:port/en-CA/</a>用英语呈现应用程序(加拿大)。</li><li id="2d31" class="lz ma in kc b kd mi kh mj kl mk kp ml kt mm kx me mf mg mh bi translated">提供了一个下拉菜单来动态更改应用程序的语言。</li></ol><p id="ecc6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们实现这一目标的策略是什么？</p><ol class=""><li id="80c5" class="lz ma in kc b kd ke kh ki kl mb kp mc kt md kx me mf mg mh bi translated">将每种语言与唯一的<strong class="kc io">基本HREF </strong>相关联。我们用<strong class="kc io"> /en-US/ </strong>表示英语(美国)，用<strong class="kc io"> /en-CA/ </strong>表示英语(加拿大)，用<strong class="kc io"> /fr-FR/ </strong>表示法语(法国)。</li><li id="134d" class="lz ma in kc b kd mi kh mj kl mk kp ml kt mm kx me mf mg mh bi translated">在该语言的区域设置ID 例如:en-US代表英语(美国)和<strong class="kc io">基地HREF </strong>例如:/en-US/代表英语之间建立链接。在这个例子中，我们将确保两者对于一种语言来说是相同的。</li><li id="61cc" class="lz ma in kc b kd mi kh mj kl mk kp ml kt mm kx me mf mg mh bi translated">利用<strong class="kc io"> LOCALE_ID注入令牌</strong>来检索应用程序中当前使用的locale ID的值。</li></ol><figure class="lv lw lx ly gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mn"><img src="../Images/1887a9286b7739da4090f7d96e440885.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*obJ0G0bLDDvmtYI0VS_lpw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Application in English(US)</figcaption></figure><figure class="lv lw lx ly gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mo"><img src="../Images/8f8863b3d17a0cdf48ea1fc60519b953.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gVWiOg5Y9xJ2ib6-1rHlGw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Application in English(Canada)</figcaption></figure><figure class="lv lw lx ly gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/17c99b29dcd76bb7e7eab9e9d7532eea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t2Sm_4UFTMvhkBAmjIEJ_Q.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Application in French(France)</figcaption></figure><p id="7940" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们从设置开始。</p><p id="4742" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第一步</strong>。为了使用<strong class="kc io"> @angular/localize </strong>包，我们点击下面的命令:</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="97a1" class="mu mv in lt b gy mw mx l my mz">ng add @angular/localize</span></pre><p id="1799" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第二步</strong>。如下修改<strong class="kc io"> app.module.ts </strong>的providers部分。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="2dd2" class="mu mv in lt b gy mw mx l my mz">providers: [<br/>{<br/>provide:<strong class="lt io">LOCALE_ID</strong>,<br/><strong class="lt io">useValue</strong>:"en-US"<br/>}<br/>]</span></pre><p id="10ee" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们正在providers数组中注册LOCALE_ID注入令牌。这个令牌将保存值<strong class="kc io">“en-US”。</strong>这是令牌的默认值。这也意味着应用程序的默认语言是英语(美国)。</p><p id="b904" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，我们将执行以下翻译:</p><p id="12e7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">= &gt;英语(美国)-&gt;英语(加拿大)和</p><p id="44a4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">= &gt;英语(美国)-&gt;法语(法国)</p><p id="0449" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第三步</strong>。我没有在UI上下太大功夫。我只是拿了一个引导导航条，它有一个链接，2个下拉菜单和一个搜索框。最右边的第二个下拉菜单负责切换应用程序的语言。</p><p id="fafc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们也有角标志，后面跟着几行随机文本。</p><p id="78f4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> AppComponent模板:</strong></p><p id="428d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们已经创建了2个组件:<strong class="kc io"> HeaderComponent </strong>和一个<strong class="kc io"> MainComponent </strong>。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="e27d" class="mu mv in lt b gy mw mx l my mz">&lt;app-header&gt;&lt;/app-header&gt;<br/>&lt;router-outlet&gt;&lt;/router-outlet&gt;</span></pre><p id="917e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">每当路径为空时，我们就在<router-outlet>中加载MainComponent。</router-outlet></p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="ce6f" class="mu mv in lt b gy mw mx l my mz">const routes: Routes = [{<br/><strong class="lt io">path:””,<br/>component:MainComponent</strong><br/>}<br/>];</span></pre><p id="e28a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> HeaderComponent模板:</strong>我不会显示整个模板。相反，让我展示如何翻译标题中各种元素的文本。</p><p id="4e6a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们的标题看起来是这样的:</p><figure class="lv lw lx ly gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi na"><img src="../Images/d8d0e1ea47b74807c5ddaa86d5814d19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k-ZWx1Mb_5-vdcsZ7zYHaQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">HeaderComponent</figcaption></figure><p id="f294" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们将在内容需要翻译的标签上使用<strong class="kc io"> i18n </strong>属性和<strong class="kc io"> i18n- </strong>属性。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="929a" class="mu mv in lt b gy mw mx l my mz">&lt;ul class=”navbar-nav mr-auto”&gt;</span><span id="65a5" class="mu mv in lt b gy nb mx l my mz">&lt;li class=”nav-item active”&gt;<br/><strong class="lt io">&lt;a i18n class=”nav-link” href=”#”&gt;Home&lt;/a&gt;</strong><br/>&lt;/li&gt;</span><span id="1c19" class="mu mv in lt b gy nb mx l my mz">&lt;li class=”nav-item dropdown”&gt;<br/><strong class="lt io">&lt;a i18n class=”nav-link dropdown-toggle” href=”#” id=”navbarDropdown” role=”button” data-toggle=”dropdown” aria-haspopup=”true” aria-expanded=”false”&gt;Dropdown&lt;/a&gt;</strong></span><span id="96d0" class="mu mv in lt b gy nb mx l my mz">&lt;div class=”dropdown-menu” aria-labelledby=”navbarDropdown”&gt;<br/><strong class="lt io">&lt;a i18n class=”dropdown-item” href=”#”&gt;Action 1&lt;/a&gt;<br/>&lt;a i18n class=”dropdown-item” href=”#”&gt;Action 2&lt;/a&gt;<br/>&lt;div class=”dropdown-divider”&gt;&lt;/div&gt;<br/>&lt;a i18n class=”dropdown-item” href=”#”&gt;Action 3&lt;/a&gt;</strong><br/>&lt;/div&gt;<br/>&lt;/li&gt;</span><span id="2990" class="mu mv in lt b gy nb mx l my mz">&lt;/ul&gt;</span></pre><p id="e3d4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">正如您所看到的，i18n属性已经添加到了下面所有的标签中:</p><p id="094b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一.主页链接。<strong class="kc io"> Home </strong>已经翻译成<strong class="kc io"> Accueil </strong>。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="d391" class="mu mv in lt b gy mw mx l my mz">&lt;a <strong class="lt io">i18n</strong> class=”nav-link” href=”#”&gt;<strong class="lt io">Home</strong>&lt;/a&gt;</span></pre><p id="078c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">二。下拉链接。<strong class="kc io">下拉菜单</strong>已经翻译成<strong class="kc io">菜单装饰</strong>。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="d649" class="mu mv in lt b gy mw mx l my mz">&lt;a <strong class="lt io">i18n</strong> class=”nav-link dropdown-toggle” href=”#” id=”navbarDropdown” role=”button” data-toggle=”dropdown” aria-haspopup=”true” aria-expanded=”false”&gt;<strong class="lt io">Dropdown</strong>&lt;/a&gt;</span></pre><p id="78bd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">三。下拉链接下的选项。<strong class="kc io">动作</strong>已被翻译成<strong class="kc io"> T切。</strong></p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="16be" class="mu mv in lt b gy mw mx l my mz">&lt;a<strong class="lt io"> i18n</strong> class=”dropdown-item” href=”#”&gt;<strong class="lt io">Action 1</strong>&lt;/a&gt;<br/>&lt;a <strong class="lt io">i18n</strong> class=”dropdown-item” href=”#”&gt;<strong class="lt io">Action 2</strong>&lt;/a&gt;<br/>&lt;div class=”dropdown-divider”&gt;&lt;/div&gt;<br/>&lt;a <strong class="lt io">i18n</strong> class=”dropdown-item” href=”#”&gt;<strong class="lt io">Action 3</strong>&lt;/a&gt;</span></pre><p id="aa95" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">类似地，<strong class="kc io"> i18n </strong>属性也被添加到搜索框、搜索框占位符和搜索按钮中。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="8c66" class="mu mv in lt b gy mw mx l my mz">&lt;input <strong class="lt io">i18n-placeholder</strong> class=”form-control mr-sm-2" type=”search” <strong class="lt io">placeholder=”Search”</strong> aria-label=”Search”&gt;</span><span id="cf6f" class="mu mv in lt b gy nb mx l my mz">&lt;button <strong class="lt io">i18n </strong>class=”btn btn-outline-success my-2 my-sm-0" type=”submit”&gt;<strong class="lt io">Search</strong>&lt;/button&gt;</span></pre><p id="a36c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了翻译搜索框的占位符，我们必须翻译&lt;输入&gt;标签的<strong class="kc io">占位符属性</strong>值。我们使用<strong class="kc io"> i18n-attribute_name </strong>来翻译标签的属性值。</p><p id="20fb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此<strong class="kc io">i18n-占位符</strong>属性被添加到&lt;输入&gt;标签中。</p><p id="82b5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了翻译<button>标签的内容，我们将<strong class="kc io"> i18n </strong>标签应用于&lt;按钮&gt;标签。</button></p><p id="03bd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后，我们在标题中有一个下拉菜单，以便动态切换应用程序的语言。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="79bb" class="mu mv in lt b gy mw mx l my mz">&lt;select (<strong class="lt io">change)=”changePath(selectedLocale)”</strong> class=”form-control” style=”width:50%;” <strong class="lt io">[(ngModel)]=”selectedLocale”</strong> name=”selectedLocale”&gt;</span><span id="96e8" class="mu mv in lt b gy nb mx l my mz">&lt;option <strong class="lt io">[value]=”locale.code”</strong> *ngFor=”let locale of locales”&gt;<strong class="lt io">{{locale.name}}</strong>&lt;/option&gt;</span><span id="cb48" class="mu mv in lt b gy nb mx l my mz">&lt;/select&gt;</span></pre><p id="c702" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是一个简单的下拉菜单，它遍历数组<strong class="kc io"> locales </strong>来显示两种语言:英语和法语。每当我们更改语言时，就会调用<strong class="kc io"> changePath() </strong>，将语言的区域设置ID作为参数传递。</p><p id="6692" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们看一下<strong class="kc io"> HeaderComponent类</strong>来理解方法内部发生了什么。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="3dc1" class="mu mv in lt b gy mw mx l my mz">export class <strong class="lt io">HeaderComponent </strong>implements OnInit {</span><span id="694e" class="mu mv in lt b gy nb mx l my mz">constructor(<strong class="lt io">@Inject(LOCALE_ID) private localeId: string</strong>) {}</span><span id="829f" class="mu mv in lt b gy nb mx l my mz">public <strong class="lt io">selectedLocale</strong>:string=this.localeId;<br/>public <strong class="lt io">locales</strong>:any=[<br/> {name:"French(France)",code:"<strong class="lt io">fr-FR</strong>"},<br/>{ name:"English(US)",code:"<strong class="lt io">en-US</strong>"},<br/>{ name:"English(Canada)",code:"<strong class="lt io">en-CA</strong>"}</span><span id="cfcf" class="mu mv in lt b gy nb mx l my mz">]</span><span id="90fe" class="mu mv in lt b gy nb mx l my mz">ngOnInit() {}</span><span id="c5f6" class="mu mv in lt b gy nb mx l my mz"><strong class="lt io">changePath(code:string){</strong><br/>location.replace(`/${code}/`);<br/>}<br/>}</span></pre><p id="4a2f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们将LOCALE_ID标记的值赋给了<strong class="kc io"> selectedLocale </strong>变量，以便在下拉列表中选择所选语言。</p><p id="5cef" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如前所述，我们正在遍历一个包含2个对象的数组<strong class="kc io"> locales </strong>。每个对象都有一个显示在下拉列表中的<strong class="kc io">地区名</strong>和一个<strong class="kc io">地区ID </strong>。当我们更改下拉菜单中的语言时，change事件被触发，调用<strong class="kc io"> changePath() </strong>将所选语言的区域设置ID作为参数传递。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="1964" class="mu mv in lt b gy mw mx l my mz"><strong class="lt io">changePath(code:string){</strong><br/>location.replace(`/${code}/`);<br/>}</span></pre><p id="5f26" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们正在使用<strong class="kc io"> location.replace()更改应用程序的<strong class="kc io"> base href </strong>。</strong>如果您还记得，我们在index.html有&lt;碱基&gt;标记。&lt;基&gt;标签的<strong class="kc io"> href </strong>属性默认设置为“/”。我们希望将此更改为:</p><p id="94e4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">=&gt;"/fr-FR/"即<a class="ae jz" href="http://server_name:port/fr" rel="noopener ugc nofollow" target="_blank"><strong class="kc io">http://server _ name:port/FR</strong></a><strong class="kc io">-FR</strong>/如果是法语</p><p id="afde" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">=&gt;"/en-US/"即<a class="ae jz" href="http://server_name:port/en" rel="noopener ugc nofollow" target="_blank"><strong class="kc io">http://server _ name:port/en</strong></a><strong class="kc io">-US</strong>/如果是英语(美国)和</p><p id="b4ab" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">=&gt;"/en-CA/"即<a class="ae jz" href="http://server_name:port/en" rel="noopener ugc nofollow" target="_blank"><strong class="kc io">http://server _ name:port/en</strong></a><strong class="kc io">-CA</strong>/如果是英语(加拿大)</p><p id="e525" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">基本href的变化对于切换应用程序的语言至关重要。这是因为我们将每种语言与不同的基础href相关联。</p><p id="56b0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当我们在浏览器窗口中点击<a class="ae jz" href="http://server_name:port/fr" rel="noopener ugc nofollow" target="_blank">http://server _ name:port/FR</a>-FR/时，这意味着我希望应用程序以法语呈现。应用程序如何知道这一点？我们将很快在angular.json配置中看到这一点。</p><p id="c6db" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在让我们转到<strong class="kc io">主组件模板</strong>。这是我们主要组件的样子。</p><figure class="lv lw lx ly gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/deed5a847ef2f9e3717120e4439a94c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DLIpjeU4AZqSU1Exkfq2qQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">MainComponent in French</figcaption></figure><p id="b2f7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">首先，我们有一个棱角分明的标志。这里我们已经使用<strong class="kc io"> i18n-alt </strong>属性翻译了&lt; img &gt;标签的<strong class="kc io"> alt </strong>属性。<strong class="kc io"> Angular Logo </strong>已翻译成<strong class="kc io"> Logo angulaire。</strong></p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="1928" class="mu mv in lt b gy mw mx l my mz">&lt;img width=”300" <strong class="lt io">i18n-alt alt=”Angular Logo” </strong>src=”data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==”&gt;</span></pre><p id="6b3b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">二。在logo之后，我们有2行随机文本，我们使用<strong class="kc io"> i18n属性</strong>对其进行了翻译。添加该文本的目的是为了强调从英语(美国)转换到英语(加拿大)时文本拼写的变化，反之亦然。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="3a14" class="mu mv in lt b gy mw mx l my mz">&lt;div class=”row”&gt;<br/>&lt;div <strong class="lt io">i18n </strong>class=”col-md-6"&gt;flavor&lt;/div&gt;<br/>&lt;div <strong class="lt io">i18n </strong>class=”col-md-6"&gt;color&lt;/div&gt;<br/>&lt;/div&gt;</span><span id="2c6f" class="mu mv in lt b gy nb mx l my mz">&lt;div class=”row&gt;<br/>&lt;div <strong class="lt io">i18n </strong>class=”col-md-6"&gt;center&lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="1e9b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第4步</strong>。现在让我们看看翻译是如何通过i18n属性实现的。</p><p id="ff0f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一、配置angular.json。</p><p id="a0b3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们在angular.json的<strong class="kc io">构建部分</strong>的配置属性下添加了3个额外的属性:<strong class="kc io"> fr-FR、en-US和en-CA </strong></p><figure class="lv lw lx ly gt jo"><div class="bz fp l di"><div class="nd ne l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">configurations property under build section of angular.json</figcaption></figure><p id="1446" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> translate.fr-FR.xlf </strong>文件将把语言从英语(美国)翻译成法语。</p><p id="0b9b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">将语言从英语(美国)翻译成英语(加拿大)。</p><p id="43c8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> translate.en-US.xlf </strong>将把语言从英语(美国)翻译成英语(美国)。</p><p id="228b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> baseHref </strong>属性决定应用程序以英语(美国)、英语(加拿大)和法语呈现时的基本Href。</p><p id="ed55" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> outputPath </strong>属性表明我们的dist文件夹将在构建后生成，将包含3个文件夹:<strong class="kc io"> fr-FR和en-US和en-CA: </strong>每个文件夹对应一种我们希望应用程序服务的语言。</p><p id="e481" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">请看看下面的截图，看看dist文件夹的结构，以及index.html的基本HREF在dist下的每个文件夹中有什么不同。</p><figure class="lv lw lx ly gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nf"><img src="../Images/bc759979982c7bfb550deea54cfdf9b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pQJ-S6ndXXSSF546WtJIyw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">en-CA folder under dist with base HREF as /en-CA/</figcaption></figure><figure class="lv lw lx ly gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ng"><img src="../Images/3f4e57825b5d54ecdd2d2694841eb61a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sKrHi4FCrGQalvquh_9PkQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">en-US folder under dist with base HREF as /en-US/</figcaption></figure><figure class="lv lw lx ly gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/7aee67b42422cfe45ddec1a7dfaf9e10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-OJGq4R2ybgukT7JzXKU0A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">fr-FR folder under dist with base HREF as /fr-FR/</figcaption></figure><p id="9c37" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在让我们回到我们在HeaderComponent的构造函数中注入的LOCALE_ID注入令牌。这个令牌包含下面提到的属性<strong class="kc io"> i18nLocale </strong>的值。我们还在配置中将区域设置与基本HREF链接起来。</p><p id="2f51" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">例如，当我们在浏览器窗口中直接点击<a class="ae jz" href="http://server_name:port/en" rel="noopener ugc nofollow" target="_blank">http://server _ name:port/en</a>-US/或通过下拉菜单进行更改时，会发生以下情况:</p><p id="a0ee" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">= &gt;由于baseHREF <strong class="kc io"> /en-US/ </strong>被映射到语言环境ID <strong class="kc io"> en-US，</strong>LOCALE _ ID注入标记将带有值<strong class="kc io"> en-US。</strong></p><p id="6fea" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">=&gt;LOCALE_ID会将英语(美国)设置为下拉列表中的选项。</p><p id="3f42" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">=&gt; <strong class="kc io"> translate.en-US.xlf </strong>将是用于执行翻译的翻译文件。</p><p id="0903" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在angular.json的<strong class="kc io"> serve部分</strong>中，我们再次在configurations属性下添加了3个属性<strong class="kc io"> en-US、en-CA和fr-FR </strong>。为什么这是必要的？您可以使用仅一种语言的<strong class="kc io"> ng serve </strong>来提供应用程序。使用<strong class="kc io"> ng serve无法切换应用程序的语言。</strong></p><figure class="lv lw lx ly gt jo"><div class="bz fp l di"><div class="nd ne l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">configurations property under serve section of angular.json</figcaption></figure><p id="9a62" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了进一步理解这一点，我们来看看<strong class="kc io"> package.json </strong>。</p><figure class="lv lw lx ly gt jo"><div class="bz fp l di"><div class="nd ne l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">package.json</figcaption></figure><p id="4f7a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果我运行<strong class="kc io"> npm run start </strong>，将执行以下命令:<strong class="kc io">ng serve—configuration = FR-FR</strong></p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="6a6e" class="mu mv in lt b gy mw mx l my mz">“<strong class="lt io">fr-FR</strong>”: { “browserTarget”: “<strong class="lt io">translate:build:fr-FR</strong>” }</span></pre><p id="cac2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这将使用在<strong class="kc io">服务部分</strong>的配置属性下定义的<strong class="kc io"> fr-FR配置</strong>。这将依次使用在<strong class="kc io">构建部分</strong>的配置属性下定义的<strong class="kc io"> fr-FR配置</strong>。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="db42" class="mu mv in lt b gy mw mx l my mz">"fr-FR": {<br/>"aot":true,<br/>"outputPath": "dist/fr-FR/",<br/>"i18nFile": "src/src/translation/translate.fr-FR.xlf",<br/>"i18nFormat": "xlf",<br/>"baseHref": "/fr-FR/",<br/>"i18nLocale": "fr-FR",<br/>"i18nMissingTranslation": "error"<br/>}</span></pre><p id="750a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，这将在浏览器窗口中加载http://localhost:4200/FR-FR/</p><p id="3f2c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">请注意，从下拉列表中更改语言为英语不起作用，您会在控制台中注意到以下错误。</p><figure class="lv lw lx ly gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/f7c22e6cead09cf6f65a1c6cc062b854.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QaTE1xSE5LEHlN6iMkKDwQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Error on switching language using dropdown</figcaption></figure><p id="a862" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您想使用<strong class="kc io"> ng serve </strong>加载英语(美国)或英语(加拿大)的应用程序，您需要修改package.json的start属性，如下所示:</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="cd38" class="mu mv in lt b gy mw mx l my mz">“start”: “ng serve <strong class="lt io">— configuration=en-US</strong>”</span><span id="f512" class="mu mv in lt b gy nb mx l my mz">OR</span><span id="d577" class="mu mv in lt b gy nb mx l my mz">“start”: “ng serve <strong class="lt io">— configuration=en-CA</strong>”</span></pre><p id="ba0e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">二。现在让我们继续创建angular.json文件中提供的翻译文件。</p><p id="4143" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您需要执行以下两个命令来在src/translation文件夹中生成<strong class="kc io"> translate.xlf和translate-fr.xlf文件</strong>。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="e9ad" class="mu mv in lt b gy mw mx l my mz">ng xi18n --i18n-format=xlf --output-path src/translation --out-file translate.en-US.xlf</span><span id="0cf3" class="mu mv in lt b gy nb mx l my mz">ng xi18n --i18n-format=xlf --output-path src/translation --out-file translate.fr-FR.xlf</span><span id="b8cb" class="mu mv in lt b gy nb mx l my mz">ng xi18n --i18n-format=xlf --output-path src/translation --out-file translate.en-CA.xlf</span></pre><p id="b8bf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这些文件包含整个应用程序的翻译细节，即本例中的HeaderComponent和MainComponent。</p><p id="4706" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">文件夹结构如下所示:</p><figure class="lv lw lx ly gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nj"><img src="../Images/9902a71d8b6d8cb789a40b39323be82b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p0HkV49eziEa7dhqJPKYJw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Translation files</figcaption></figure><p id="2b4c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面我给出了一个关于<strong class="kc io"> translate.fr-FR.xlf </strong>的例子。</p><figure class="lv lw lx ly gt jo"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="83ec" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在每个<source>标签下，您需要添加<target>标签来说明<source>标签下的内容需要如何翻译。</source></target></source></p><p id="f5bd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在<strong class="kc io"> translate.en-US.xlf </strong>中，&lt;源&gt;和&lt;目标&gt;包含相同的英文(美国)内容。</p><p id="720e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在<strong class="kc io"> translate.fr-FR.xlf </strong>中，&lt;源&gt;为英语(美国)&lt;目标&gt;为法语。</p><p id="38ef" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在<strong class="kc io"> translate.en-CA.xlf </strong>中，&lt;源&gt;为英文(美国)，而&lt;目标&gt;为英文(加拿大)。</p><p id="7919" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">请确保只有在确定了需要翻译的标签和属性之后，才执行这些命令。因为每次执行这些命令时，文件都会被创建时的内容覆盖。</p><p id="8e4e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">三。最后，我们将这个应用程序部署到Firebase。</p><p id="424a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在部署到firebase之前，我们首先需要构建项目。</p><p id="2d70" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们重新检查一下package.json是什么样子的。</p><figure class="lv lw lx ly gt jo"><div class="bz fp l di"><div class="nd ne l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">package.json</figcaption></figure><p id="5167" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们需要执行<strong class="kc io"> npm run build-localeCode </strong>来构建项目。当我们运行这个命令时，我们正在执行下面的另外3个命令。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="2ff5" class="mu mv in lt b gy mw mx l my mz">"build-localeCode:en-US": "ng build --prod --configuration=en-US",    "build-localeCode:fr-FR": "ng build --prod --configuration=fr-FR",    "build-localeCode:en-CA": "ng build --prod --configuration=en-CA"</span></pre><p id="3cf5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第一个命令将使用angular.json 的<strong class="kc io">构建部分的配置属性下的<strong class="kc io"> en-US配置</strong>在dist文件夹</strong>中生成一个<strong class="kc io"> en-US文件夹。</strong></p><p id="1fea" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第二条命令将使用angular.json 的<strong class="kc io">构建部分的配置属性下的<strong class="kc io"> fr-FR配置</strong>在dist文件夹</strong>内生成一个<strong class="kc io"> fr-FR文件夹。</strong></p><p id="4c07" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第三个命令将使用angular.json 的<strong class="kc io">构建部分的配置属性下的<strong class="kc io"> en-CA配置</strong>在dist文件夹</strong>中生成一个<strong class="kc io"> en-CA文件夹。</strong></p><p id="dd38" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在执行以下命令之前，请确保您已经在Firebase中创建了一个项目。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="f0a3" class="mu mv in lt b gy mw mx l my mz">npm install — save firebase</span><span id="8e7f" class="mu mv in lt b gy nb mx l my mz">npm install -g firebase-tools</span></pre><p id="0c14" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">按顺序执行上述命令。第一个命令安装Firebase CLI，第二个命令全局安装Firebase工具。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="8880" class="mu mv in lt b gy mw mx l my mz">firebase login<br/>firebase init</span></pre><p id="865d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第三个命令让您登录Firebase。第四个命令在项目的根目录下创建两个文件:<strong class="kc io">。firebasec和firebase.json </strong>。</p><p id="9fe9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">修改<strong class="kc io"> firebase.json </strong>文件如下。</p><figure class="lv lw lx ly gt jo"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="a861" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">公共属性</strong>包含构建文件夹。</p><p id="1184" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">将<strong class="kc io">重写属性设置为[] </strong>以避免意外错误。</p><p id="6504" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最重要的属性是<strong class="kc io"> i18n属性</strong>，它告诉Firebase每个地区的文件夹在dist文件夹中的位置。由于en-US、en-CA和fr-FR文件夹都在dist文件夹的根目录下，所以我们只简单提到了“/”。</p><p id="ec2a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，让我们在将它部署到Firebase之前，在本地测试一下这个设置。Firebase提供了在部署前本地访问所有Firebase资源进行测试的功能。执行下面的命令，在浏览器中打开<a class="ae jz" href="http://localhost:5000" rel="noopener ugc nofollow" target="_blank"> http://localhost:5000 </a>。</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="4606" class="mu mv in lt b gy mw mx l my mz">firebase emulators:start</span></pre><p id="d9dc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您现在可以测试应用程序了。经过全面测试后，您可以使用以下命令将其部署到firebase:</p><pre class="lv lw lx ly gt mq lt mr ms aw mt bi"><span id="30c0" class="mu mv in lt b gy mw mx l my mz">firebase deploy — only hosting</span></pre><p id="61a0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您可以在下面的URL查看这个应用程序，上面的示例项目是由Firebase托管的。</p><p id="a68c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">https://angulartranslate-419d1.firebaseapp.co米</p><p id="4c7f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你可以通过下面的链接查看完整的代码。</p><div class="ky kz gp gr la lb"><a href="https://github.com/ramya22111992/angularTranslate.git" rel="noopener  ugc nofollow" target="_blank"><div class="lc ab fo"><div class="ld ab le cl cj lf"><h2 class="bd io gy z fp lg fr fs lh fu fw im bi translated">GitHub-ramya 22111992/angular translate</h2><div class="li l"><h3 class="bd b gy z fp lg fr fs lh fu fw dk translated">此项目是使用Angular CLI 7 . 0 . 6版生成的。为开发服务器运行ng serve。导航到…</h3></div><div class="lj l"><p class="bd b dl z fp lg fr fs lh fu fw dk translated">github.com</p></div></div><div class="lk l"><div class="nk l lm ln lo lk lp jt lb"/></div></div></a></div><p id="de72" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="nl">更多内容请看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="nl">plain English . io</em></strong></a><em class="nl">。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="nl">免费周报这里有</em> </strong> </a> <em class="nl">。</em></p></div></div>    
</body>
</html>