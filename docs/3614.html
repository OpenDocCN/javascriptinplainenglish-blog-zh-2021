<html>
<head>
<title>What Exactly is a Class in Javascript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript中的类到底是什么？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-exactly-is-a-class-in-javascript-c51eb65bdf61?source=collection_archive---------18-----------------------#2021-07-20">https://javascript.plainenglish.io/what-exactly-is-a-class-in-javascript-c51eb65bdf61?source=collection_archive---------18-----------------------#2021-07-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="99f2" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">一个类如何在幕后工作— JavaScript</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/9e53eab71f46d9f35ef342d7c2c4138c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2F0znvqbij_6UdCFxtpNRQ.png"/></div></div></figure><h2 id="c47a" class="ko kp in bd kq kr ks dn kt ku kv dp kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">我为什么要写这个？</h2><p id="4111" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">在Javascript中，<code class="fe md me mf mg b">Classes </code>的行为与其他语言不同。结果，我们经常遇到问题，因为我们认为<code class="fe md me mf mg b">classes </code>和其他语言中的一样。</p><p id="5995" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated">现在React流行了，我们经常会碰到这样的问题。因此，React引入了功能组件。所以，理解JavaScript中的<code class="fe md me mf mg b">class </code>非常重要。今天，我们将了解JavaScript中的类到底是什么。</p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><h2 id="7007" class="ko kp in bd kq kr ks dn kt ku kv dp kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">期待什么？</h2><ul class=""><li id="494e" class="mt mu in lm b ln lo lq lr kx mv lb mw lf mx mc my mz na nb bi translated">JavaScript中的对象创建</li><li id="28e3" class="mt mu in lm b ln nc lq nd kx ne lb nf lf ng mc my mz na nb bi translated">工厂功能</li><li id="83fd" class="mt mu in lm b ln nc lq nd kx ne lb nf lf ng mc my mz na nb bi translated">构造函数</li><li id="0e9d" class="mt mu in lm b ln nc lq nd kx ne lb nf lf ng mc my mz na nb bi translated"><code class="fe md me mf mg b">class</code>在JavaScript中</li></ul></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><h2 id="d177" class="ko kp in bd kq kr ks dn kt ku kv dp kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">JavaScript中的对象创建</h2><p id="5b60" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">一个<code class="fe md me mf mg b">class </code>的主要目的是创建对象。在JavaScript中有4种创建对象的方法。</p><ul class=""><li id="1bdb" class="mt mu in lm b ln mh lq mi kx nh lb ni lf nj mc my mz na nb bi translated">对象文字</li><li id="00fa" class="mt mu in lm b ln nc lq nd kx ne lb nf lf ng mc my mz na nb bi translated">工厂功能</li><li id="d9b7" class="mt mu in lm b ln nc lq nd kx ne lb nf lf ng mc my mz na nb bi translated">构造函数</li><li id="9d34" class="mt mu in lm b ln nc lq nd kx ne lb nf lf ng mc my mz na nb bi translated">班级</li></ul><p id="5986" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated">要理解JavaScript中的<code class="fe md me mf mg b">class </code>，我们必须知道使用工厂函数和构造函数创建对象。</p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><h2 id="9e8e" class="ko kp in bd kq kr ks dn kt ku kv dp kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">工厂功能</h2><pre class="kd ke kf kg gt nk mg nl nm aw nn bi"><span id="42d7" class="ko kp in mg b gy no np l nq nr">var circleFunctions = {<br/>    draw:function(){<br/>         console.log("draw")<br/>    }<br/>}<br/>function createCircle(radius){<br/>         var newCircle = Object.create(circleFunctions);<br/>         newCircle.radius = radius;<br/>         return newCircle;<br/>}<br/>var circle = createCircle(5);<br/>circle.draw()  // draw</span></pre><p id="0c08" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated"><code class="fe md me mf mg b">Object.create(obj)</code>返回一个空对象，该对象带有一个作为参数传递的链接。</p><p id="9023" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated"><code class="fe md me mf mg b">var newCircle = Object.create(circleFunctions)</code></p><p id="7745" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated">上面的代码行将在<code class="fe md me mf mg b">circleFunctions </code>和<code class="fe md me mf mg b">newCircle </code>之间建立一个链接。在上面一行之后，我们将有一个空对象，它有一个到<code class="fe md me mf mg b">circleFunctions</code>的链接，分配给<code class="fe md me mf mg b">newCircle </code>。该链接存储在<code class="fe md me mf mg b">__proto__</code>中。即:</p><p id="4b93" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated"><code class="fe md me mf mg b">newCircle={__proto__:circleFunctions}</code></p><p id="a0bb" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated"><code class="fe md me mf mg b">var circle = createCircle(5)</code></p><p id="cdaf" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated">在上面一行之后，</p><pre class="kd ke kf kg gt nk mg nl nm aw nn bi"><span id="a84a" class="ko kp in mg b gy no np l nq nr">circle={<br/>       radius:5,<br/>       __proto__:circleFunctions<br/>}</span></pre><p id="f0ff" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated">当我们访问<code class="fe md me mf mg b">circle </code>对象上的<code class="fe md me mf mg b">draw </code>方法时，Javascript将在<code class="fe md me mf mg b">circle </code>对象内寻找<code class="fe md me mf mg b">draw </code>方法。显然，<code class="fe md me mf mg b">circle </code>对象内部没有定义draw方法。JavaScript不止于此。相反，它在分配给<code class="fe md me mf mg b">__proto__ </code>属性的对象中寻找<code class="fe md me mf mg b">draw </code>方法。JavaScript引擎可以在那里找到<code class="fe md me mf mg b">draw </code>方法。这就是我们如何得到<code class="fe md me mf mg b">“draw”</code>作为输出。</p><p id="9e0b" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated">我们在JavaScript中将<code class="fe md me mf mg b">circleFunctions</code>称为<code class="fe md me mf mg b">prototype</code>。</p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><h2 id="3912" class="ko kp in bd kq kr ks dn kt ku kv dp kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">构造函数</h2><pre class="kd ke kf kg gt nk mg nl nm aw nn bi"><span id="e011" class="ko kp in mg b gy no np l nq nr">function Circle(radius){<br/>        this.radius = radius<br/>}<br/>Circle.prototype.draw=function(){<br/>       console.log("Draw")<br/>}</span><span id="190d" class="ko kp in mg b gy ns np l nq nr">var circle = new Circle(5);<br/>circle.draw()// Draw</span></pre><p id="237f" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated">我们需要一个<code class="fe md me mf mg b">new </code>关键字来正确调用构造函数。按照惯例，我们使用pascal命名方法来命名构造函数。这里，<code class="fe md me mf mg b">new </code>关键字为我们做了几件事。基本上，它做这4件事:</p><ul class=""><li id="0b8c" class="mt mu in lm b ln mh lq mi kx nh lb ni lf nj mc my mz na nb bi translated">创建一个新的空对象，即<code class="fe md me mf mg b">{}</code></li><li id="a3fa" class="mt mu in lm b ln nc lq nd kx ne lb nf lf ng mc my mz na nb bi translated">将新创建的空对象分配给<code class="fe md me mf mg b">this</code>关键字，即<code class="fe md me mf mg b">this = {}</code></li><li id="9d85" class="mt mu in lm b ln nc lq nd kx ne lb nf lf ng mc my mz na nb bi translated">在<code class="fe md me mf mg b">this</code>和<code class="fe md me mf mg b">prototype</code>对象之间建立链接，即<code class="fe md me mf mg b">this = {__proto__:Circle.prototype}</code></li><li id="a3ec" class="mt mu in lm b ln nc lq nd kx ne lb nf lf ng mc my mz na nb bi translated">返回<code class="fe md me mf mg b">this</code></li></ul><p id="ed28" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated">如果你想深入了解<code class="fe md me mf mg b">new</code>关键词，可以参考下面这篇文章:</p><div class="nt nu gp gr nv nw"><a rel="noopener  ugc nofollow" target="_blank" href="/how-exactly-new-keyword-works-in-javascript-af3abf238f8a"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd io gy z fp ob fr fs oc fu fw im bi translated">JavaScript中的“new”关键字到底是如何工作的？</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">本文的目的是展示JavaScript中的“new”关键字如何让我们作为开发人员的生活变得更加轻松。</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="of l"><div class="og l oh oi oj of ok km nw"/></div></div></a></div><p id="7699" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated"><code class="fe md me mf mg b">var circle = new Circle(5)</code></p><p id="ba66" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated">当我们到达上面的行时，我们将有一个属性为<code class="fe md me mf mg b">radius</code>的对象和一个到<code class="fe md me mf mg b">Circle.prototype</code>的链接，</p><pre class="kd ke kf kg gt nk mg nl nm aw nn bi"><span id="72f4" class="ko kp in mg b gy no np l nq nr">circle = {<br/>       radius:5,<br/>       __proto__:Circle.prototype<br/>}</span></pre><p id="1f8a" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated">现在，如果我们在<code class="fe md me mf mg b">circle </code>对象上调用<code class="fe md me mf mg b">draw </code>方法，JavaScript引擎不会在<code class="fe md me mf mg b">circle </code>对象中找到<code class="fe md me mf mg b">draw </code>方法。它继续在<code class="fe md me mf mg b"> __proto__</code>中搜索并找到draw方法。</p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><h2 id="bcb0" class="ko kp in bd kq kr ks dn kt ku kv dp kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">班级</h2><pre class="kd ke kf kg gt nk mg nl nm aw nn bi"><span id="a4a3" class="ko kp in mg b gy no np l nq nr">class Circle{<br/>      constructor(radius){<br/>             this.radius = radius<br/>      }<br/>      draw(){<br/>             console.log(“Draw”)<br/>      }<br/>}<br/>var circle = new Circle(5);<br/>circle.draw()//"Draw"</span></pre><p id="769c" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated"><code class="fe md me mf mg b">class Circle</code>中的<code class="fe md me mf mg b">draw</code>方法实际上是分配给<code class="fe md me mf mg b">Circle.prototype.draw</code>的。</p><p id="8c8d" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated">上面的代码段和下面的代码段是一样的。</p><pre class="kd ke kf kg gt nk mg nl nm aw nn bi"><span id="ae1c" class="ko kp in mg b gy no np l nq nr">function Circle(radius){<br/>        this.radius = radius<br/>}<br/>Circle.prototype.draw=function(){<br/>       console.log("Draw")<br/>}</span><span id="e056" class="ko kp in mg b gy ns np l nq nr">var circle = new Circle(5);<br/>circle.draw()// Draw</span></pre><p id="9154" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated"><code class="fe md me mf mg b">class </code>只是构造函数的语法糖。当涉及到分类的时候，这让我们的世界变得简单多了。</p><h2 id="b3b3" class="ko kp in bd kq kr ks dn kt ku kv dp kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">结论</h2><p id="5d87" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls kx lt lu lv lb lw lx ly lf lz ma mb mc ig bi translated">JavaScript中的类只不过是构造函数的语法糖。它隐藏了所有的复杂性，并为我们自动化了几件事情。这样，我们的代码就更加简单和清晰。</p><p id="1454" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls kx mj lu lv lb mk lx ly lf ml ma mb mc ig bi translated"><em class="ol">更多内容请看</em><a class="ae om" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lm io"><em class="ol">plain English . io</em></strong></a></p></div></div>    
</body>
</html>