<html>
<head>
<title>Start Implementing Animations with react-spring</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开始用react-spring实现动画</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/start-implementing-animations-with-react-spring-c871c5d877fc?source=collection_archive---------19-----------------------#2021-05-18">https://javascript.plainenglish.io/start-implementing-animations-with-react-spring-c871c5d877fc?source=collection_archive---------19-----------------------#2021-05-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/59c1afb7b419e60c03637b2d5fb749ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*bvoegPbqyiqf_Bnmi17P5w.gif"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">demos from <a class="ae jz" href="https://react-spring.io/" rel="noopener ugc nofollow" target="_blank">react-spring.io</a></figcaption></figure><p id="2526" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当我年轻的时候浏览网页，我没有真正考虑或欣赏网站或网络应用程序中的动画，无论是页面上某个地方的组件转换还是一些悬停动画。</p><p id="5d57" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">随着我对web开发了解的越来越多，我开始对它们着迷，尤其是在代码训练营期间参与的最初几个项目。我想把简单的动画应用到每一件小事上。我尝试了一些JavaScript动画库，最终在我的react项目中遇到了<a class="ae jz" href="https://react-spring.io/" rel="noopener ugc nofollow" target="_blank"> react-spring </a>。从一开始，他们的登录页面就充满了您可以通过他们的库实现的一些可能性的演示。浏览图书馆的文献当然是一种享受。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><p id="4cbc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这篇文章将主要传达我使用react-spring的经验，以及即使你是一个使用动画库的新手，如何快速地将库的钩子实现到你的项目中。为了更好地有效利用和学习react-spring，我建议对<a class="ae jz" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React.js </a>和<a class="ae jz" href="https://reactjs.org/blog/2019/02/06/react-v16.8.0.html" rel="noopener ugc nofollow" target="_blank"> React钩子</a>有一个基本的了解。</p><h1 id="bffb" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">react-spring入门</h1><p id="3068" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">将react-spring添加到项目中最有效的方式是通过包管理器。使用应用程序根目录中的终端窗口，运行以下命令:</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="23f6" class="mr lg in mn b gy ms mt l mu mv">yarn add react-spring</span><span id="778e" class="mr lg in mn b gy mw mt l mu mv">#OR</span><span id="7321" class="mr lg in mn b gy mw mt l mu mv">npm install react-spring</span></pre><p id="14ea" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这将在您的项目中安装整个库，并且您现在可以访问以供以后使用。这个库非常庞大，所以我将只介绍一下<code class="fe mx my mz mn b">useSpring</code>的用法，它是一个比较简单的钩子，也是我个人在项目中经常使用的一个。</p><p id="725c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在您的项目中，在您想要应用动画的任何组件中获取导入。要做到这一点，只需在文件顶部编写以下import语句:</p><p id="e229" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mx my mz mn b">import { useSpring, animated } from 'react-spring'</code></p><p id="42b3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然后你需要定义你的弹簧。<code class="fe mx my mz mn b">useSpring</code>将使价值观从一种状态变为另一种状态。将有一些保留的关键字，所以如果需要的话，请参考文件。</p><p id="a576" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你可以用两种方式利用你的钩子。<br/>首先是覆盖现有道具的值来改变动画像这样:</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="5be1" class="mr lg in mn b gy ms mt l mu mv">const styles = useSpring({ opacity: toggle ? 1 : 0 })</span></pre><p id="c0ee" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一旦你的组件重新渲染，动画将应用改变后的道具。</p><p id="796a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第二种方法是通过定义一个updater函数来使用API进行更新。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="056e" class="mr lg in mn b gy ms mt l mu mv">const [props, set, stop] = useSpring(() =&gt; ({opacity: 1}))<br/>    // Update spring with new props<br/>    set({opacity: toggle ? 1 : 0})<br/>    // Stop animation<br/>    stop()</span></pre><p id="95ed" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是为了让您可以获得一个API对象，这将提供更大的灵活性。虽然动画仍在执行，但它不会像上面的方法那样使组件渲染。</p><p id="e468" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是来自我的一个项目的分享要点。</p><figure class="mi mj mk ml gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="f2c5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这里，我将我的弹簧定义为一个名为fadeIn的变量。这将呈现来自上边距的任何元素。我现在可以利用这个淡入，只需将它分配给我希望制作动画的元素的style属性。您还需要将<code class="fe mx my mz mn b">animated.</code>添加到元素的开始和结束标记中，您将把它应用到。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="275b" class="mr lg in mn b gy ms mt l mu mv">&lt;animated.div style={fadeIn}&gt;</span><span id="abc1" class="mr lg in mn b gy mw mt l mu mv">     //insert content</span><span id="ac4d" class="mr lg in mn b gy mw mt l mu mv">&lt;/animated.div&gt;</span></pre><p id="4b48" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">将这些定义的弹簧附加到一些元素上，您可以设置一些组件的平滑过渡。下面是一些利用我定义的淡入弹簧的组件的例子。</p><figure class="mi mj mk ml gt jo gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/c4c85f38b5606a0b3dd79775bf114226.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Q1DAWStBVxUJB5tvjtyCHw.gif"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">login page of my app <a class="ae jz" href="https://github.com/matthewogtong/zoneist-frontend" rel="noopener ugc nofollow" target="_blank">zoneist</a></figcaption></figure></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="db03" class="lf lg in bd lh li nd lk ll lm ne lo lp lq nf ls lt lu ng lw lx ly nh ma mb mc bi translated">最后的想法</h1><p id="7997" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">react-spring最大的资产之一是它相对于其他动画库的性能优势。它将应用动画，而不必依赖React来逐帧渲染组件更新。并不是说永远不要使用任何其他的动画库，因为有一些也值得使用，比如<a class="ae jz" href="https://threejs.org/" rel="noopener ugc nofollow" target="_blank"> threejs </a>或<a class="ae jz" href="https://animejs.com/" rel="noopener ugc nofollow" target="_blank"> animejs </a>。我个人认为react-spring非常直观，如果你喜欢平滑的动画来使你的项目生动起来，我推荐使用它。</p><h1 id="212e" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">资源</h1><div class="ni nj gp gr nk nl"><a href="https://react-spring.io/" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd io gy z fp nq fr fs nr fu fw im bi translated">反作用弹簧</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">react-spring是一个基于spring物理学的动画库，应该涵盖了你的大部分UI相关的动画需求。它…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">react-spring.io</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz jt nl"/></div></div></a></div><p id="de35" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="oa">更多内容尽在</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="oa">plain English . io</em></a></p></div></div>    
</body>
</html>