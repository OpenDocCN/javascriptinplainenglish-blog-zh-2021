<html>
<head>
<title>Building Your First React Native App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建您的第一个React原生应用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-your-first-react-native-app-fe4f6a1785c1?source=collection_archive---------17-----------------------#2021-02-01">https://javascript.plainenglish.io/building-your-first-react-native-app-fe4f6a1785c1?source=collection_archive---------17-----------------------#2021-02-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="58aa" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated"><em class="kc">本土发展下滑的原因</em></h2></div><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi kd"><img src="../Images/c9bda24ea440a6681b7525087fe47bb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bR2ZqNEsZfNRREQF2dFt9A.jpeg"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">Photo by <a class="ae kt" href="https://unsplash.com/@xps?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">XPS</a> on <a class="ae kt" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="4f3b" class="ku kv in bd kw kx ky kz la lb lc ld le jt lf ju lg jw lh jx li jz lj ka lk ll bi translated">介绍</h1><p id="2f06" class="pw-post-body-paragraph lm ln in lo b lp lq jo lr ls lt jr lu lv lw lx ly lz ma mb mc md me mf mg mh ig bi translated">应用程序开发已经从完全面向对象的本地语言转向JavaScript。虽然你可能认为这在性能方面有很多缺点，但你错了。React Native已经做出了巨大的努力来创建尽可能具有原生感觉的应用程序，他们做得非常好。</p><p id="d26d" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated"><a class="ae kt" href="https://reactnative.dev/" rel="noopener ugc nofollow" target="_blank"> React Native </a>是由脸书的开发团队制作的。它背后有很多来自开源社区的积极开发。他们从基于类的组件变成了React hooks，并且他们每天都在做出改变以提高性能和增强开发者体验。</p><h1 id="a2cd" class="ku kv in bd kw kx ky kz la lb lc ld le jt lf ju lg jw lh jx li jz lj ka lk ll bi translated">装置</h1><p id="16e2" class="pw-post-body-paragraph lm ln in lo b lp lq jo lr ls lt jr lu lv lw lx ly lz ma mb mc md me mf mg mh ig bi translated">我以前写过关于不使用Expo 的<a class="ae kt" href="https://reactnative.dev/docs/environment-setup" rel="noopener ugc nofollow" target="_blank"> React Native的文章，但它是最容易设置的。我建议你看看React Native CLI vs Expo，为你的第一个真正的应用找到一个合适的选择。世博会让很多事情变得更容易，但它也有不好的一面。更大的应用文件大小。但是对于你的第一个应用来说，这并不重要。</a></p><p id="2d5b" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">我假设您已经安装了<strong class="lo io"> npm </strong>。接下来我们需要安装到全球<strong class="lo io"> expo-cli </strong>和Expo 提供的官方手机app <a class="ae kt" href="https://expo.io/" rel="noopener ugc nofollow" target="_blank">。</a></p><pre class="ke kf kg kh gt mn mo mp mq aw mr bi"><span id="e339" class="ms kv in mo b gy mt mu l mv mw">npm install -g expo-cli</span></pre><p id="f999" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">移动应用将用于在上运行你的应用。它具有快速刷新等特性，使开发变得非常容易。你不需要一个帐户，但它确实有一些小津贴。</p><p id="45cb" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">现在，让我们创建所有的应用程序文件，我们可以通过运行</p><pre class="ke kf kg kh gt mn mo mp mq aw mr bi"><span id="58b7" class="ms kv in mo b gy mt mu l mv mw">expo init ProjName --npm</span></pre><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/e4c6ef7b3c12e98c53d7589558b0fa73.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*zaIQ1Yz9L7XNi6l2a-Iebw.png"/></div></figure><p id="6022" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">系统将提示您选择一个模板。我们将使用<em class="my">空白</em>模板。而不是TypeScript变体。</p><p id="ad2c" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">安装完成后，进入新目录，运行<code class="fe mz na nb mo b">npm start</code>。这将在您的浏览器中打开一个带有二维码的新窗口。你可以用手机扫描它，它会通过Expo应用程序打开你的应用程序。</p><p id="4557" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">很酷吧？我们继续。</p><h1 id="58db" class="ku kv in bd kw kx ky kz la lb lc ld le jt lf ju lg jw lh jx li jz lj ka lk ll bi translated">基础知识</h1><p id="61c1" class="pw-post-body-paragraph lm ln in lo b lp lq jo lr ls lt jr lu lv lw lx ly lz ma mb mc md me mf mg mh ig bi translated">如果我们打开<code class="fe mz na nb mo b">App.js</code>文件，我们可以看到一些东西。我们在顶部有一些导入，这些是Expo附带的<em class="my">组件</em>并且本地反应。这些也可以是你自己的组件。但我们稍后会谈到这一点。</p><p id="114d" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">在中间有一个<code class="fe mz na nb mo b">export default function</code>，它是<code class="fe mz na nb mo b">App.js</code>返回以作出反应的组件。<code class="fe mz na nb mo b">App.js</code>是整个应用的基础。虽然许多开发人员为组件或页面创建目录，但你可以简单地将它们都保存在<code class="fe mz na nb mo b">App.js</code>中，但这将导致大量难以维护的代码。在函数中，我们返回一些看起来像HTML的东西。这叫做JSX。React使用的是JavaScript和HTML的混合体。</p><p id="8637" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">在底部我们声明了一个样式表。对于了解的人来说，这种语法非常类似于CSS。风格也可以做在线一样，我们会看到更远的未来。</p><p id="bc94" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">试着通读一下<code class="fe mz na nb mo b">App.js</code>文件，看看发生了什么。父组件是一个<code class="fe mz na nb mo b">View</code>，中间有一些<code class="fe mz na nb mo b">Text</code>。尝试更改文本和保存文件，看看博览会的快速刷新。</p><h1 id="02d1" class="ku kv in bd kw kx ky kz la lb lc ld le jt lf ju lg jw lh jx li jz lj ka lk ll bi translated">按钮和OnPress事件</h1><p id="99d6" class="pw-post-body-paragraph lm ln in lo b lp lq jo lr ls lt jr lu lv lw lx ly lz ma mb mc md me mf mg mh ig bi translated">大多数应用程序都有按钮。在React Native中，我们有<code class="fe mz na nb mo b">&lt;Button&gt;</code>组件。基本语法非常简单。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="9ca9" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">尝试将它添加到<code class="fe mz na nb mo b">&lt;Text&gt;</code>组件下面，看看会发生什么。如果出现错误，请确保按钮组件是从React Native导入的。</p><p id="f9fb" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">我们现在有了一个什么都不做的按钮。你可以按下它，它会根据你的操作系统作出正常的反应。</p><p id="88d0" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">添加一个<code class="fe mz na nb mo b">onPress</code>事件一点也不难，这只是另一个属性，就像<code class="fe mz na nb mo b">title</code>需要一个函数作为输入。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="e290" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">更新按钮，使其包含一个带有<code class="fe mz na nb mo b">console.log</code>的<code class="fe mz na nb mo b">onPress</code>事件。如果你点击按钮，你会看到一些东西被打印到你的电脑上运行的控制台。现在这还不是真正有用的东西，但是很高兴知道它正在工作。</p><h2 id="549f" class="ms kv in bd kw ne nf dn la ng nh dp le lv ni nj lg lz nk nl li md nm nn lk no bi translated">状态</h2><p id="d118" class="pw-post-body-paragraph lm ln in lo b lp lq jo lr ls lt jr lu lv lw lx ly lz ma mb mc md me mf mg mh ig bi translated">为了给我们的按钮增加更多的功能，比如切换显示的文本，我们需要使用一些内存。这是通过我们从React 导入的<code class="fe mz na nb mo b">useState</code>钩子来完成的。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="7bed" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">使用<code class="fe mz na nb mo b">useState</code>钩子，我们声明两个变量。一个变量<code class="fe mz na nb mo b">state</code>和一个函数<code class="fe mz na nb mo b">setState</code>。</p><p id="a4a7" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated"><code class="fe mz na nb mo b">state</code>是一个常量，不能直接改变，但是我们<em class="my">可以用<code class="fe mz na nb mo b">setState</code>函数</em>改变它。我们还将默认状态设置为<code class="fe mz na nb mo b">false</code>，但这可以是任何常规的JavaScript类型或对象。</p><p id="11a4" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">在我们的JSX中，我们已经更改了<code class="fe mz na nb mo b">Text</code>，根据<code class="fe mz na nb mo b">state</code>的条件显示‘真’或‘假’。在按钮的<code class="fe mz na nb mo b">onPress</code>中，我们使用<code class="fe mz na nb mo b">setState</code>来切换状态。</p><h2 id="7146" class="ms kv in bd kw ne nf dn la ng nh dp le lv ni nj lg lz nk nl li md nm nn lk no bi translated">制作我们的应用</h2><p id="3843" class="pw-post-body-paragraph lm ln in lo b lp lq jo lr ls lt jr lu lv lw lx ly lz ma mb mc md me mf mg mh ig bi translated">我们将一起制作的应用程序是一个很好的练习。应用商店里可能有成千上万个这样的东西。一款随机化应用。</p><p id="c1df" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">这是一个很容易做到的事情，如果你已经做到这一步，你也可以自己去做。</p><p id="afd4" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">对于将要显示的数字，我们只需要一个状态，并且我们需要一个函数来使用<code class="fe mz na nb mo b">Math.random()</code>将状态改变为一个随机数。事实上，它不必是一个函数，如果你愿意，可以直接在按钮的<code class="fe mz na nb mo b">onPress</code>属性中完成。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="2e17" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">我还在<code class="fe mz na nb mo b">Text</code>组件上添加了一个内嵌样式，所以你可以看到它是如何工作的。它只是一个带有特定名称的JavaScript对象，如<code class="fe mz na nb mo b">fontSize</code>，而不是通常的CSS <code class="fe mz na nb mo b">font-size</code>。</p><p id="2447" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">这是我们迄今为止的第一个应用程序，它工作，它显示一个从1到6的随机数字，它有一个按钮，当我们想要生成一个新的数字。现在，当骰子在某处丢失时，你可以成为游戏之夜的英雄。</p><h1 id="4e99" class="ku kv in bd kw kx ky kz la lb lc ld le jt lf ju lg jw lh jx li jz lj ka lk ll bi translated">结论</h1><p id="1c92" class="pw-post-body-paragraph lm ln in lo b lp lq jo lr ls lt jr lu lv lw lx ly lz ma mb mc md me mf mg mh ig bi translated">下一步是什么？你可以尝试扩展这个小应用程序，使它更有风格，将“骰子”组件分离到另一个文件中，或者尝试添加导航来添加更多的骰子样式，例如龙与地下城的D20。</p><p id="bfcc" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">希望这篇文章对某人有所帮助。</p><p id="2606" class="pw-post-body-paragraph lm ln in lo b lp mi jo lr ls mj jr lu lv mk lx ly lz ml mb mc md mm mf mg mh ig bi translated">感谢您的阅读。</p></div></div>    
</body>
</html>