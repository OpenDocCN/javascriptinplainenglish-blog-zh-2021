# ååº”åŸç”ŸåŸºç¡€:ç»„ä»¶å’Œé“å…·

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/react-native-basic-components-and-props-using-rest-api-8b034e3ea758?source=collection_archive---------8----------------------->

æœ¬æ•™ç¨‹å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨ä¸€äº›åŸºæœ¬çš„**ç»„ä»¶**å’Œ**é“å…·**å¼€å‘ä¸€ä¸ªç®€å•çš„ **React Native** åº”ç”¨ç¨‹åºï¼Œå¹¶è¯·æ±‚ä¸€ä¸ª **REST API** åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­å‘ˆç°ä¸€äº› cat æ•°æ®ã€‚ğŸ˜»

![](img/b2cc3ea22658b6344f7fcc6bdd7b072c.png)

# è½¯ä»¶å®‰è£…

*   **node . js**https://nodejs.org
*   **Expo-cli** å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¡Œå®‰è£…(æˆ‘å»ºè®®åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªå‘½ä»¤):

```
npm install -g expo-cli
yarn global add expo-cli
```

*   **Expo Go** åº”ç”¨ç¨‹åºå®‰è£…åœ¨æ‚¨çš„ç§»åŠ¨è®¾å¤‡ä¸Š(æ”¯æŒ iOS å’Œ Android)

![](img/447fc9c6204d440abd84d35559f4cf35.png)

# åˆ›å»ºæ–°çš„ React æœ¬æœºåº”ç”¨ç¨‹åº

å¯åŠ¨å‘½ä»¤æç¤ºç¬¦(Windows)æˆ–ç»ˆç«¯(Mac OS)ã€‚ç„¶åï¼Œä½¿ç”¨**Expo init<<Your App Name>>**å‘½ä»¤åˆ›å»ºæ–°çš„ç©ºç™½ **React Native** appã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå‘½åä¸º**çŒ«æœ‹å‹ååº”æœ¬åœ°**ã€‚é€šè¿‡æŒ‰**å›è½¦**ä¸º app é€‰æ‹©**ç©ºç™½**æ¨¡æ¿ã€‚ä¹‹åä¼šåˆ›å»ºä¸ app åŒåçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä¼šæœ‰ä¸€äº›åˆå§‹çš„æºä»£ç ã€‚

```
expo init cat-friends-react-native
```

![](img/e1b3c872fcb31b1072475e8ca0f290dc.png)

ç”¨ **cd** è¿›å…¥ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹**cat-friends-React-Native**ï¼Œç„¶åç”¨ **yarn start** å¯åŠ¨ä½ çš„ **React Native** app(è¿™é‡Œä¼šç”¨åˆ° **expo-cli** )ã€‚

```
cd cat-friends-react-native
yarn start
```

![](img/c902da524f81104fd7741f5103558152.png)

**Expo** å¼€å‘è€…å·¥å…·å°†ä¼šæ˜¾ç¤ºåœ¨ä½ çš„æµè§ˆå™¨ä¸­ã€‚ä½¿ç”¨æ‚¨çš„ç§»åŠ¨è®¾å¤‡æ‰«æäºŒç»´ç ï¼Œç„¶åæ‚¨çš„åº”ç”¨ç¨‹åºå°†é€šè¿‡ **Expo Go** æ‰“å¼€ï¼Œå¦‚ä¸‹æ‰€ç¤º:

![](img/53d10062f7dd2973cf6addbdd8275e90.png)![](img/6f047e5992862cca4c366e6f464bdb19.png)

# å®‰è£…æœ¬æœºåŸºç¡€ CSS æ¡†æ¶

ä¸ºäº†è®©æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ›´æ¼‚äº®ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†åœ¨é¡¹ç›®ä¸­æ·»åŠ åŸç”Ÿçš„ CSS æ¡†æ¶ã€‚é¦–å…ˆï¼Œåœ¨ä½ çš„å‘½ä»¤æç¤ºç¬¦/ç»ˆç«¯ä¸­ï¼ŒæŒ‰ä¸‹ **Ctrl + C** é€€å‡º **Expo** ã€‚

![](img/bbc189760e7aa0e03c938cf4acda9f28.png)

ä½¿ç”¨ **yarn add** å‘½ä»¤å°† native-base æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå¹¶ä½¿ç”¨ **yarn start** å†æ¬¡å¯åŠ¨ Expo developer toolsã€‚ä½¿ç”¨ **Expo Go** åœ¨æ‚¨çš„ç§»åŠ¨è®¾å¤‡ä¸Šå†æ¬¡æµ‹è¯•æ‚¨çš„åº”ç”¨ã€‚

```
yarn add native-base --save
yarn start
```

# CatCard ç»„ä»¶

æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª**ç»„ä»¶**ç”¨äºæ˜¾ç¤ºçŒ«çš„æ•°æ®ï¼ŒåŒ…æ‹¬çŒ«çš„å›¾åƒã€åå­—å’Œç”µå­é‚®ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:

![](img/9c398068bfc3bcdf661209f69213f356.png)

å¯¹äºçŒ«çš„å›¾åƒï¼Œæˆ‘ä»¬å°†ä½¿ç”¨[**ã€robohash.orgã€‘**](https://robohash.org/karnyong?set=set4)ä»ä¸€ä¸ªä½¿ç”¨ URL[https://robohash.org/<<any text>>çš„æ–‡æœ¬ä¸­ç”Ÿæˆä¸€ä¸ªçŒ«çš„å›¾åƒï¼Ÿset=set4](https://robohash.org/karnyong?set=set4) ã€‚ä¾‹å¦‚ï¼Œ[https://robohash.org/karnyong?set=set4](https://robohash.org/karnyong?set=set4)ã€‚

åˆ›å»º **Card.js** æ¥åŒ…å«çŒ«çš„å½¢è±¡ã€åå­—å’Œç”µå­é‚®ä»¶ã€‚

ç¼–è¾‘ **App.js** åœ¨ App çš„å…¥å£ç‚¹åŒ…å« **CatCard ç»„ä»¶**(ä¸€ä¸ª **pp ç»„ä»¶**)ã€‚

*   ä» **native-base** å¯¼å…¥**ç»„ä»¶**ï¼Œæˆ‘ä»¬å°†åœ¨è¿™ä¸ª **App ç»„ä»¶**(ç¬¬ 2 è¡Œ)**ä¸­ä½¿ç”¨å®ƒã€‚**
*   ä» **CatCard.js** (ç¬¬ 3 è¡Œ)å¯¼å…¥ **CatCard ç»„ä»¶**ã€‚
*   **æ„é€ å™¨**è¢«å®šä¹‰ä¸ºé»˜è®¤ï¼Œè¿˜æ²¡æœ‰**çŠ¶æ€**ã€‚
*   ä½¿ç”¨ä¸€äº›æˆ‘ä»¬çš„ **CatCard ç»„ä»¶**æ¥æ¸²æŸ“å¸¦æœ‰**æœ¬åœ°åŸºç¡€ç»„ä»¶**çš„ç»„ä»¶(ç¬¬ 20â€“22 è¡Œ)ã€‚

ç»“æœæ ¹æ® **App.js** ä¸­ **CatCard ç»„ä»¶**çš„æ•°é‡æ˜¾ç¤ºã€‚

![](img/eb3a6773adeff9154e9f38d8d19e7557.png)

# å¡ç‰‡åˆ—è¡¨ç»„ä»¶

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª **CardList ç»„ä»¶å‘**æ˜¾ç¤ºä¸€ä¸ª **CatCard ç»„ä»¶**çš„åˆ—è¡¨ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸ª**REST API**:[https://jsonplaceholder.typicode.com/users](https://jsonplaceholder.typicode.com/users)çš„å®ä½“æ¨¡å‹ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒå“åº”ä¸º 10 ä¸ªç”¨æˆ·çš„ **JSON** æ•°æ®(æœ¬ä¾‹ä¸­ä»…ä½¿ç”¨äº† **id** ã€**åç§°**å’Œ **email** )ã€‚

![](img/81a647b35f00e15a21e6175b3093c910.png)

æ·»åŠ  **CardList.js**

*   åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°†æ•°ç»„**çŒ«**å®šä¹‰ä¸ºä¸€ä¸ªçŠ¶æ€ã€‚(ç¬¬ 5â€“10 è¡Œ)
*   æˆ‘ä»¬ä½¿ç”¨ **componentDidMount** ä»[https://jsonplaceholder.typicode.com/users](https://jsonplaceholder.typicode.com/users)è·å–æ•°æ®ï¼Œå¹¶å­˜å‚¨åœ¨ **cats** çŠ¶æ€ä¸­ã€‚(ç¬¬ 12â€“16 è¡Œ)
*   ä½¿ç”¨å®šä¹‰çš„**é“å…·** **é”®**ã€ **id** ã€**åç§°**å’Œ**ç”µå­é‚®ä»¶**ä»**çŒ«**çŠ¶æ€æ¸²æŸ“å¤šä¸ªçŒ«**ç»„ä»¶**ï¼Œä»¥å°†è¯¥æ•°æ®ä¼ é€’ç»™**çŒ«å¡**ç»„ä»¶(æ¥è‡ªç¬¬ 18 è¡Œ)ã€‚

ç¼–è¾‘ **CatCard.js** ä»¥åˆå¹¶ **CardList ç»„ä»¶**å‘é€çš„**é“å…·{nameï¼Œemailï¼Œid}** ã€‚

ç¼–è¾‘ **App.js** å¢åŠ  **CardList ç»„ä»¶**ä»£æ›¿ **CatCard** (ç¬¬ 3ã€20 è¡Œ)ã€‚

ç»“æœ:

![](img/637e2209f0e44ee185cc7ad87a7fff22.png)

ä¸ºäº†æ›´å¥½åœ°äº†è§£**ååº”ç»„ä»¶**ã€**çŠ¶æ€**å’Œ**é“å…·**ï¼Œè¿™ä¸ªå›¾æè¿°å¾—ç›¸å½“å¥½:

![](img/4085c0b1a32116fe16eedce114a1e13a.png)

Source: [https://www.techdiagonal.com/reactjs_courses/beginner/reactjs-component-state/](https://www.techdiagonal.com/reactjs_courses/beginner/reactjs-component-state/)

# æ·»åŠ æœç´¢çŒ«çš„è¾“å…¥

ç¼–è¾‘ **App.js** æ·»åŠ **è¾“å…¥ react-base ç»„ä»¶**:

*   ä»**åŸåŸº**(çº¿ 2) **å¯¼å…¥é™„åŠ **ç»„ä»¶** ( **é¡¹ç›®**ã€**å›¾æ ‡**å’Œ**è¾“å…¥**)ã€‚**
*   æ·»åŠ  **searchfield** ä½œä¸ºçŠ¶æ€(ç¬¬ 9 è¡Œ)ã€‚
*   å°†**æœç´¢å­—æ®µçŠ¶æ€**åˆå¹¶åˆ°æ¸²æŸ“ä¸­ã€‚
*   ä½¿ç”¨ **onChangeText** æ·»åŠ **è¾“å…¥ç»„ä»¶**ï¼Œå°†**æœç´¢å­—æ®µçŠ¶æ€**è®¾ç½®ä¸ºè¯¥ç»„ä»¶çš„å€¼(ç¬¬ 24â€“27 è¡Œ)ã€‚
*   å°†**æœç´¢å­—æ®µ**æ•°æ®ä¼ é€’ç»™**å¡ç‰‡åˆ—è¡¨ç»„ä»¶**ã€‚

ç¼–è¾‘ **CardList.js** :

*   æ·»åŠ  **searchfield** ä½œä¸ºä¸€ä¸ªå·(ç¬¬ 9 è¡Œ)ã€‚
*   æ·»åŠ  **componentDidUpdate** ç”¨ **searchfield** å±æ€§æ›´æ–° **searchfield** çŠ¶æ€ã€‚
*   æ·»åŠ å˜é‡ **filteredCats** ä»¥æ ¹æ®**æœç´¢å­—æ®µ**è¿‡æ»¤çŒ«åˆ—è¡¨(ç¬¬ 29â€“31 è¡Œ)ã€‚
*   å¾ªç¯é€šè¿‡**è¿‡æ»¤çš„çŒ«**æ¥æ¸²æŸ“å¤šä¸ª**çŒ«ç»„ä»¶**(æ¥è‡ªç¬¬ 34 è¡Œ)

ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­æœç´¢çŒ«ï¼Œå¦‚ä¸‹æ‰€ç¤º:

![](img/512655a03213598edf4858eb28ebbfb4.png)

è¿™å°±æ˜¯ç”¨åŸºæœ¬çš„**ç»„ä»¶**å’Œ**é“å…·**ä»¥åŠ **REST API** æ„å»ºä¸€ä¸ªç®€å•çš„ **React Native** åº”ç”¨çš„å…¨éƒ¨å†…å®¹ã€‚æ‚¨å¯ä»¥ä»è¿™é‡Œä¸‹è½½å®Œæ•´çš„æºä»£ç :

[](https://github.com/KarnYong/cat-friends-react-native) [## karn Yong/çŒ«å‹-ååº”-æœ¬åœ°

### åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªå¸æˆ·ï¼Œä¸º karn Yong/cat-friends-react-native å¼€å‘åšå‡ºè´¡çŒ®ã€‚

github.com](https://github.com/KarnYong/cat-friends-react-native) 

*æ–‡ç« ä½œè€… Karn Yongsiriwit åšå£«
å…°è¥¿å¤§å­¦æ•°å­—åˆ›æ–°æŠ€æœ¯å­¦é™¢*