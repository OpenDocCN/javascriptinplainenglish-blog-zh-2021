<html>
<head>
<title>Twitch Customization Level OMEGA: Write Your Own Twitch Bot with Node.js and tmi.js — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Twitch定制级别OMEGA:用Node.js和tmi.js编写自己的Twitch机器人—第1部分</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/twitch-customization-level-omega-part-1-writing-your-own-twitch-bot-with-node-js-and-tmi-js-f5e724737829?source=collection_archive---------5-----------------------#2021-09-11">https://javascript.plainenglish.io/twitch-customization-level-omega-part-1-writing-your-own-twitch-bot-with-node-js-and-tmi-js-f5e724737829?source=collection_archive---------5-----------------------#2021-09-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><h2 id="3ac6" class="il im in bd b dl io ip iq ir is it dk iu translated" aria-label="kicker paragraph">推趣</h2><div class=""/><div class=""><h2 id="edac" class="pw-subtitle-paragraph jt iw in bd b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk dk translated">用Node.js和tmi.js写自己的Twitch Bot</h2></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/a26fda784e426c3faef9d4125d9c5020.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ia4fP92EUpUATuFWJaqv0w.png"/></div></div></figure><p id="f2ae" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">在本文中，我将向您展示如何在Node.js服务器上使用tmi.js编写一个能够回答“Polo！”每当有人在您的聊天室键入“！马可。”</p></div><div class="ab cl lt lu hr lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ig ih ii ij ik"><h2 id="6bd5" class="ma mb in bd mc md me dn mf mg mh dp mi lg mj mk ml lk mm mn mo lo mp mq mr it bi translated"><strong class="ak">系列介绍</strong></h2><p id="0b28" class="pw-post-body-paragraph kx ky in kz b la ms jx lc ld mt ka lf lg mu li lj lk mv lm ln lo mw lq lr ls ig bi translated">本文是关于如何利用JavaScript定制Twitch流的系列文章的一部分。</p><p id="bd38" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">我的流有很多移动的部分，我一直在添加。</p><ul class=""><li id="ae1b" class="mx my in kz b la lb ld le lg mz lk na lo nb ls nc nd ne nf bi translated">我使用Rails后端来处理外部API请求</li><li id="6c07" class="mx my in kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">我用Socket运行一个本地websockets服务器。IO处理来自用户和游戏事件的一系列请求——最常见的是调用我的一个流动画。</li><li id="cd54" class="mx my in kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">我维护观众的特定流虚拟货币(金币…因为我是一个巨大的D&amp;D书呆子)，观众可以用它来参与抽奖。与此相关的一切都存储在Rails后端。</li><li id="92dc" class="mx my in kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">用户可以花频道点数——他们通过观看Twitch流积累的虚拟货币——来播放我制作的动画。</li><li id="0cdd" class="mx my in kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">用户可以花虚拟货币(金币……因为我是一个超级D&amp;D书呆子)参加用我写的代码进行的竞赛。</li></ul><p id="81be" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">如果不是互联网上各种各样的编码者提供了有用的文章，我永远也不可能完全按照自己的设计来构建这样一个复杂的系统。也就是说，我的希望是其他编码者/飘带能够复制我的工作，从而提高所有飘带的标准。</p></div><div class="ab cl lt lu hr lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ig ih ii ij ik"><h2 id="387b" class="ma mb in bd mc md me dn mf mg mh dp mi lg mj mk ml lk mm mn mo lo mp mq mr it bi translated">或者你可以…</h2><p id="9a65" class="pw-post-body-paragraph kx ky in kz b la ms jx lc ld mt ka lf lg mu li lj lk mv lm ln lo mw lq lr ls ig bi translated">正如我上面所说的，在这篇文章中，我将向您展示如何构建一个聊天机器人，它会说“Polo！”每当用户在聊天中键入“！马可。”</p><p id="a6e7" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">如果这种基本的聊天呼叫和回复是你唯一想要的，你可能会直接跳到这些已经可用的优秀、精致的聊天机器人工具来节省时间。</p><ul class=""><li id="a5c7" class="mx my in kz b la lb ld le lg mz lk na lo nb ls nc nd ne nf bi translated"><a class="ae nl" href="https://nightbot.tv/" rel="noopener ugc nofollow" target="_blank">夜行机器人</a></li><li id="e277" class="mx my in kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated"><a class="ae nl" href="https://streamelements.com/" rel="noopener ugc nofollow" target="_blank"> StreamElements </a></li><li id="dd54" class="mx my in kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated"><a class="ae nl" href="https://streamlabs.com/" rel="noopener ugc nofollow" target="_blank">流线实验室</a></li></ul><p id="ce5a" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">这些受欢迎的服务都提供了聊天机器人，这比我在本文中讨论的任何东西都要容易得多。他们还提供各种其他服务，可能足以满足您的流的需求。</p><p id="75ac" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">也就是说，如果你正在寻找一种方式来为你的流添加酷的交互式定制，并且你已经遇到了这三种常见服务所提供的限制，那么你几乎肯定要与流经你的Twitch聊天室的数据进行交互，这意味着舒适和熟悉tmi.js是一个重要的起点。</p><h2 id="53ef" class="ma mb in bd mc md me dn mf mg mh dp mi lg mj mk ml lk mm mn mo lo mp mq mr it bi translated">只是tmi.js</h2><p id="eaf5" class="pw-post-body-paragraph kx ky in kz b la ms jx lc ld mt ka lf lg mu li lj lk mv lm ln lo mw lq lr ls ig bi translated">本着充分披露的精神，我不是在这里重新发明轮子。接下来的大部分内容直接来自于tmi.js主页上的例子和文档。</p></div><div class="ab cl lt lu hr lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ig ih ii ij ik"><h2 id="e9a2" class="ma mb in bd mc md me dn mf mg mh dp mi lg mj mk ml lk mm mn mo lo mp mq mr it bi translated">步骤0 —依赖关系</h2><p id="2c18" class="pw-post-body-paragraph kx ky in kz b la ms jx lc ld mt ka lf lg mu li lj lk mv lm ln lo mw lq lr ls ig bi translated">我写这篇文章时假设你会使用某种版本控制，比如Git。如果你不是，你这个不怕死的代码，你可以安全地忽略任何对存储库或<code class="fe nm nn no np b">.gitignore </code>文件的引用。</p><p id="8822" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">导航到您希望bot驻留的目录，并在您的终端中运行以下命令:</p><pre class="km kn ko kp gt nq np nr ns aw nt bi"><span id="505f" class="ma mb in np b gy nu nv l nw nx">npm init --yes</span></pre><p id="09fc" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">第一部分是您通常如何创建一个节点项目，而<code class="fe nm nn no np b">— yes</code>跳过了关于您的项目的作者详细信息，您可以在以后填充这些信息。</p><p id="59fe" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">这将创建一个<code class="fe nm nn no np b">package.json</code>文件，该文件出现在目录中表明您可能在Node.js项目中。</p><p id="5cff" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">既然我们已经启动了我们的项目，我们必须安装tmi.js库。这个库只是一个与Twitch IRC交互的编程方式，Twitch IRC是支撑Twitch聊天的技术。</p><pre class="km kn ko kp gt nq np nr ns aw nt bi"><span id="9cf1" class="ma mb in np b gy nu nv l nw nx">npm install tmi.js@1.5.0</span></pre><p id="3422" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">这将把tmi.js依赖项放在您的package.json文件中，我们已经准备好让我们的机器人投入使用了！</p><h2 id="4721" class="ma mb in bd mc md me dn mf mg mh dp mi lg mj mk ml lk mm mn mo lo mp mq mr it bi translated">步骤1 —听Twitch聊天</h2><p id="f8f7" class="pw-post-body-paragraph kx ky in kz b la ms jx lc ld mt ka lf lg mu li lj lk mv lm ln lo mw lq lr ls ig bi translated">我们不需要任何类型的授权来建立到Twitch聊天室的只读连接，所以我们将从让tmi.js监控聊天并报告所有传入消息开始。</p><p id="7336" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">首先，在您的项目文件夹中，创建一个名为<code class="fe nm nn no np b">index.js</code>的文件，并添加以下代码。将<code class="fe nm nn no np b">channel_name</code>替换为您要监控的频道:</p><pre class="km kn ko kp gt nq np nr ns aw nt bi"><span id="06cb" class="ma mb in np b gy nu nv l nw nx">// require the library<br/>const tmi = require('tmi.js');<br/></span><span id="cc9a" class="ma mb in np b gy ny nv l nw nx">// establish a tmi.js client as a listener<br/>const client = new tmi.Client({</span><span id="8baf" class="ma mb in np b gy ny nv l nw nx">// these are the basic options<br/>  connection: {<br/>    secure: true,<br/>    reconnect: true<br/>  },</span><span id="4093" class="ma mb in np b gy ny nv l nw nx">// the channel we're connecting to<br/>  channels: [ 'channel_name' ]<br/>});<br/><br/>client.connect();</span><span id="1a25" class="ma mb in np b gy ny nv l nw nx">// the actual reporting event</span><span id="5d0b" class="ma mb in np b gy ny nv l nw nx">client.on('message', (channel, tags, message, self) =&gt; {<br/>  console.log(`${tags['display-name']}: ${message}`);<br/>});</span></pre><p id="2484" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">现在，在您的终端中运行node index.js。</p><p id="9a26" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">如果您做的一切都正确，您将会在Twitch聊天中看到聊天消息回显到您的终端，直到您关闭这个node.js服务器。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nz"><img src="../Images/641880fc1641fa59e0613ff11f8505a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pexZqmNMXJK2n4PFvJcZsw.png"/></div></div><figcaption class="oa ob gj gh gi oc od bd b be z dk">It’s alive!</figcaption></figure><h2 id="7840" class="ma mb in bd mc md me dn mf mg mh dp mi lg mj mk ml lk mm mn mo lo mp mq mr it bi translated">步骤2 —获取Oauth令牌并将其设置为环境变量</h2><p id="acb2" class="pw-post-body-paragraph kx ky in kz b la ms jx lc ld mt ka lf lg mu li lj lk mv lm ln lo mw lq lr ls ig bi translated">虽然我们可以在没有任何授权或认证的情况下读取消息，但是为了让我们的bot发送消息，我们需要一个可以授权我们的bot的令牌。</p><p id="ebb1" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">我们希望Oauth令牌是私有的，所以我们将它存储在一个单独的文件中，这个文件不会包含在我们的提交中。有许多方法可以处理环境变量。我们将使用<a class="ae nl" href="https://github.com/motdotla/dotenv" rel="noopener ugc nofollow" target="_blank"> dotenv </a>包库，但是如果这是您第一次使用环境变量，理解这个主题的范围是很重要的。</p><p id="31e8" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">首先，如果您没有一个<code class="fe nm nn no np b">.gitignore</code>文件，那么在您的项目目录的根目录下创建一个。这个文件告诉Git在提交和推送文件时可以跳过哪些内容。</p><p id="3907" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">附加</p><pre class="km kn ko kp gt nq np nr ns aw nt bi"><span id="58a3" class="ma mb in np b gy nu nv l nw nx">.env</span></pre><p id="e0d8" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">到这个文件的底部。</p><p id="0196" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">(如果你不习惯使用Node.js的<code class="fe nm nn no np b">.gitignore </code>文件，那么<a class="ae nl" href="https://github.com/github/gitignore/blob/master/Node.gitignore" rel="noopener ugc nofollow" target="_blank">值得看看Github的样板</a> <code class="fe nm nn no np b"><a class="ae nl" href="https://github.com/github/gitignore/blob/master/Node.gitignore" rel="noopener ugc nofollow" target="_blank">.gitignore </a></code> <a class="ae nl" href="https://github.com/github/gitignore/blob/master/Node.gitignore" rel="noopener ugc nofollow" target="_blank">模板。</a>)</p><p id="6314" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">接下来，在项目目录的根目录下创建一个<code class="fe nm nn no np b">.env </code>文件。这是我们放置Oauth令牌的地方。</p><p id="070f" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">现在去<a class="ae nl" href="https://twitchapps.com/tmi/" rel="noopener ugc nofollow" target="_blank">https://twitchapps.com/tmi/</a>用你的Twitch账户登录，这样你就可以得到一个Oauth令牌用于tmi.js</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/01618118aa42bf00d4d8398f8d910e32.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/0*yjP8I-0TSAcdPPYz.gif"/></div></figure><p id="1efe" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">将下面一行添加到您的<code class="fe nm nn no np b">.env </code>文件中:</p><pre class="km kn ko kp gt nq np nr ns aw nt bi"><span id="c75a" class="ma mb in np b gy nu nv l nw nx">TWITCH_OAUTH_TOKEN='oauth:YOUR_TOKEN_HERE'</span></pre><p id="c2d0" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">现在，大部分都已经就绪，但是Node.js没有办法处理一个<code class="fe nm nn no np b">.env </code>文件。让我们解决这个问题。在终端中，从项目的根目录键入</p><pre class="km kn ko kp gt nq np nr ns aw nt bi"><span id="62f6" class="ma mb in np b gy nu nv l nw nx">npm install dotenv</span></pre><p id="ab58" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">安装dotenv库。</p><p id="3fe6" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">接下来，将下面一行添加到您的<code class="fe nm nn no np b">index.js</code>文件的顶部:</p><pre class="km kn ko kp gt nq np nr ns aw nt bi"><span id="048f" class="ma mb in np b gy nu nv l nw nx">require(‘dotenv’).config({path: __dirname + ‘/.env’})</span></pre><p id="214b" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">这会将dotenv库配置为使用根目录中的<code class="fe nm nn no np b">.env </code>文件。</p><p id="801c" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">对于我的副本/粘贴者，我们的index.js文件应该是这样的:</p><pre class="km kn ko kp gt nq np nr ns aw nt bi"><span id="5528" class="ma mb in np b gy nu nv l nw nx">const tmi = require('tmi.js');<br/>require('dotenv').config({path: __dirname + '/.env'})</span><span id="d765" class="ma mb in np b gy ny nv l nw nx">const client = new tmi.Client({<br/> connection: {<br/>  secure: true,<br/>  reconnect: true},<br/> channels: [ '<!-- -->channel_name<!-- -->' ]<br/>});</span><span id="c71a" class="ma mb in np b gy ny nv l nw nx">client.connect();</span><span id="7857" class="ma mb in np b gy ny nv l nw nx">client.on('message', (channel, tags, message, self) =&gt; {<br/>console.log(`${tags['display-name']}: ${message}`);<br/>});</span></pre><p id="0d23" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">有了这个配置，我们的机器人就可以与我们的Twitch频道的聊天进行交互了！</p><h2 id="10b6" class="ma mb in bd mc md me dn mf mg mh dp mi lg mj mk ml lk mm mn mo lo mp mq mr it bi translated">第三步——让你的机器人响应聊天</h2><p id="5bc6" class="pw-post-body-paragraph kx ky in kz b la ms jx lc ld mt ka lf lg mu li lj lk mv lm ln lo mw lq lr ls ig bi translated">为了让我们的机器人与聊天交互，我们需要给它我们的授权凭证。让我们像这样改变我们的<code class="fe nm nn no np b">client </code>变量:</p><pre class="km kn ko kp gt nq np nr ns aw nt bi"><span id="b439" class="ma mb in np b gy nu nv l nw nx">const client = new tmi.Client({<br/>  options: { debug: true },<br/>  connection: {<br/>    secure: true,<br/>    reconnect: true<br/>  },<br/>  identity: {<br/>    username: 'your_username',<br/>    password: process.env.TWITCH_OAUTH_TOKEN<br/>  },<br/>  channels: ['channel_name']<br/>});</span></pre><p id="acc3" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">现在我们可以改变我们的<code class="fe nm nn no np b">client.on(‘message’) </code>块:</p><pre class="km kn ko kp gt nq np nr ns aw nt bi"><span id="50c7" class="ma mb in np b gy nu nv l nw nx">client.on('message', (channel, tags, message, self) =&gt; {<br/>  // This will tell the bot to ignore echoed messages.<br/>  if(self) return;<br/><br/>  if(message.toLowerCase() === '!marco') {<br/>    client.say(channel, `Polo!`);<br/>  }<br/>});</span></pre><p id="6a77" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">应该可以了。</p><p id="e4a6" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">让我们启动服务器并检查我们的工作。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi of"><img src="../Images/cd4cb998d121dbfe369fac1c9de3ce03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*IrNv60hbRshi_iey34xy5Q.png"/></div><figcaption class="oa ob gj gh gi oc od bd b be z dk">Beautiful.</figcaption></figure><p id="e2cb" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">我们现在有一个聊天机器人可以在Twitch聊天中播放马可波罗。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi og"><img src="../Images/2c51142946c0c1fae8f33a774ab6bde0.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/0*zs3uaS-ALi7TvoxD.gif"/></div><figcaption class="oa ob gj gh gi oc od bd b be z dk">Basically us now.</figcaption></figure><p id="3c2f" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated">对于我的副本/粘贴者，下面是我们的<code class="fe nm nn no np b">index.js</code>文件的样子:</p><pre class="km kn ko kp gt nq np nr ns aw nt bi"><span id="eb16" class="ma mb in np b gy nu nv l nw nx">const tmi = require('tmi.js');<br/>require('dotenv').config({path: __dirname + '/.env'})</span><span id="4368" class="ma mb in np b gy ny nv l nw nx">const client = new tmi.Client({<br/>  options: { debug: true },<br/>  connection: {<br/>    secure: true,<br/>    reconnect: true<br/>  },<br/>  identity: {<br/>    username: 'your_username',<br/>    password: process.env.TWITCH_OAUTH_TOKEN<br/>  },<br/>  channels: ['channel_name']<br/>});</span><span id="ca35" class="ma mb in np b gy ny nv l nw nx">client.connect();</span><span id="78f7" class="ma mb in np b gy ny nv l nw nx">client.on('message', (channel, tags, message, self) =&gt; {<br/> // This will tell the bot to ignore echoed messages.<br/> if(self) return;</span><span id="f7c0" class="ma mb in np b gy ny nv l nw nx"> if(message.toLowerCase() === '!marco') {<br/>  client.say(channel, `Polo!`);<br/> }<br/>});</span></pre></div><div class="ab cl lt lu hr lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ig ih ii ij ik"><h1 id="2902" class="oh mb in bd mc oi oj ok mf ol om on mi kc oo kd ml kf op kg mo ki oq kj mr or bi translated">然后</h1><p id="3473" class="pw-post-body-paragraph kx ky in kz b la ms jx lc ld mt ka lf lg mu li lj lk mv lm ln lo mw lq lr ls ig bi translated">在下一篇文章中，我们将结合我们对tmi.js的新理解和外部API，向您展示如何使用Riot Developer API来返回您的游戏内排名。</p><ul class=""><li id="dd70" class="mx my in kz b la lb ld le lg mz lk na lo nb ls nc nd ne nf bi translated"><a class="ae nl" href="https://medium.com/@thompsonplyler/twitch-customization-level-omega-part-2-d91697bce4c2" rel="noopener"> Twitch定制等级OMEGA，第2部分——让你的聊天机器人从Riot的API报告你的英雄联盟等级</a></li></ul><p id="d5ae" class="pw-post-body-paragraph kx ky in kz b la lb jx lc ld le ka lf lg lh li lj lk ll lm ln lo lp lq lr ls ig bi translated"><em class="os">更多内容请看</em><a class="ae nl" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kz ix"><em class="os">plain English . io</em></strong></a></p></div></div>    
</body>
</html>