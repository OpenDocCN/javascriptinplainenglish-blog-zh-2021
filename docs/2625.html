<html>
<head>
<title>JavaScript Algorithm : Array.forEach()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript算法:Array.forEach()</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/js-algo-array-foreach-602c090de326?source=collection_archive---------5-----------------------#2021-05-30">https://javascript.plainenglish.io/js-algo-array-foreach-602c090de326?source=collection_archive---------5-----------------------#2021-05-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/d5fdb71abef464dd3d7c3189048ea738.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-HL2GmdrFxLVt3VXo6TnUw.gif"/></div></div></figure><div class="jv jw gp gr jx jy"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" rel="noopener  ugc nofollow" target="_blank"><div class="jz ab fo"><div class="ka ab kb cl cj kc"><h2 class="bd io gy z fp kd fr fs ke fu fw im bi translated">array . prototype . foreach()-JavaScript | MDN</h2><div class="kf l"><h3 class="bd b gy z fp kd fr fs ke fu fw dk translated">forEach()方法为每个数组元素执行一次提供的函数。forEach()调用提供的回调Fn…</h3></div><div class="kg l"><p class="bd b dl z fp kd fr fs ke fu fw dk translated">developer.mozilla.org</p></div></div><div class="kh l"><div class="ki l kj kk kl kh km jt jy"/></div></div></a></div><p id="6780" class="pw-post-body-paragraph kn ko in kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated"><code class="fe ll lm ln lo b">forEach()</code>方法为数组中的每个元素执行一个回调函数。那是什么意思？“forEach”方法调用forEach外部的函数，该函数处理它正在检查的数组的迭代。让我们仔细看看它到底是如何工作的。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="lt lu l"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk">forEach: callback function</figcaption></figure><p id="a9dc" class="pw-post-body-paragraph kn ko in kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">我们正在处理一个名为<code class="fe ll lm ln lo b">flowers</code>的数组。数组中的每个元素都是花名字符串。让我们写一个回调函数，默认参数是(<code class="fe ll lm ln lo b">each element</code>、<code class="fe ll lm ln lo b">index</code>、<code class="fe ll lm ln lo b">original array</code>)，你可以通过控制台记录这个函数或任何东西，但是在这节课中，我们将通过控制台记录。然后<code class="fe ll lm ln lo b">forEach</code>方法将执行回调函数。</p><pre class="lp lq lr ls gt lz lo ma mb aw mc bi"><span id="e0ce" class="md me in lo b gy mf mg l mh mi">ArrayName.forEach((eachEle, index, array) =&gt; console.log(eachEle))</span></pre><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="lt lu l"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk">forEach: inline callback function</figcaption></figure><p id="8297" class="pw-post-body-paragraph kn ko in kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">这与上面相同forEach方法在一行中执行回调函数。</p><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="lt lu l"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk">forEach: arrow function</figcaption></figure><p id="ffc4" class="pw-post-body-paragraph kn ko in kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">这是使用最常用的匿名箭头函数。所有这三个forEach方法将在下面输出这些内容。请记住<code class="fe ll lm ln lo b"> .forEach</code>的返回值是<code class="fe ll lm ln lo b">undefined</code>。</p><pre class="lp lq lr ls gt lz lo ma mb aw mc bi"><span id="a8ce" class="md me in lo b gy mf mg l mh mi">peony 0 [ 'peony', 'rose', 'sunflower', 'linaria' ]<br/>rose 1 [ 'peony', 'rose', 'sunflower', 'linaria' ]<br/>sunflower 2 [ 'peony', 'rose', 'sunflower', 'linaria' ]<br/>linaria 3 [ 'peony', 'rose', 'sunflower', 'linaria' ]</span></pre><p id="a819" class="pw-post-body-paragraph kn ko in kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">让我们练习一些稍微复杂一点的算法。</p><pre class="lp lq lr ls gt lz lo ma mb aw mc bi"><span id="f00f" class="md me in lo b gy mf mg l mh mi">There are multiple flowers in the garden. Which flowers are there only two of in the garden?</span></pre><figure class="lp lq lr ls gt jo"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="1a38" class="pw-post-body-paragraph kn ko in kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">我们有一个花名字符串的数组结构，然后我们使用<code class="fe ll lm ln lo b">forEach</code>方法迭代数组。对于每一朵花的名字，如果它存在于<code class="fe ll lm ln lo b">count</code>对象的键值对中，我们将添加count。如果它还不存在，那么我们将设置为1。然后在迭代之外，我们将迭代我们创建的对象，并找到哪朵花有两个。</p><p id="f86b" class="pw-post-body-paragraph kn ko in kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">让我们注意一下这个物体，<code class="fe ll lm ln lo b">count</code>。它是在<code class="fe ll lm ln lo b"> .forEach</code>迭代之外声明的。</p><pre class="lp lq lr ls gt lz lo ma mb aw mc bi"><span id="5e39" class="md me in lo b gy mf mg l mh mi">{ <br/>  peony: 2, <br/>  rose: 3, <br/>  sunflower: 1, <br/>  linaria: 1 <br/>}</span><span id="a19f" class="md me in lo b gy mj mg l mh mi">.forEach method only returns `undefined`</span></pre><p id="981e" class="pw-post-body-paragraph kn ko in kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated"><code class="fe ll lm ln lo b">forEach</code>不允许在循环内部声明变量。您也不能在<code class="fe ll lm ln lo b">forEach</code>方法中使用if语句并返回值。使用它的方法是在forEach迭代之外声明变量，然后在外部返回或操作该数据。</p><div class="jv jw gp gr jx jy"><a href="https://stackoverflow.com/questions/38274001/if-condition-inside-foreachs-anonymous-function-does-not-work/38274350" rel="noopener  ugc nofollow" target="_blank"><div class="jz ab fo"><div class="ka ab kb cl cj kc"><h2 class="bd io gy z fp kd fr fs ke fu fw im bi translated">如果forEach匿名函数中的条件不起作用</h2><div class="kf l"><h3 class="bd b gy z fp kd fr fs ke fu fw dk translated">所以返回true并不是为函数isUniform返回值，而是为你…</h3></div><div class="kg l"><p class="bd b dl z fp kd fr fs ke fu fw dk translated">stackoverflow.com</p></div></div><div class="kh l"><div class="mk l kj kk kl kh km jt jy"/></div></div></a></div><p id="ce27" class="pw-post-body-paragraph kn ko in kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">请看一下这个StackOverflow问答。</p><pre class="lp lq lr ls gt lz lo ma mb aw mc bi"><span id="9bf0" class="md me in lo b gy mf mg l mh mi">//THIS DOES NOT WORK <br/>function isUniform(myArray) {<br/>    myArray.forEach(function(element) {<br/>        if (element !== myArray[0]) {<br/>            return false;<br/>        }<br/>    });<br/><br/>    return true;<br/>}</span><span id="e696" class="md me in lo b gy mj mg l mh mi">//THIS WORKS</span><span id="fcbd" class="md me in lo b gy mj mg l mh mi">function isUniform(myArray) {<br/>    var passing = true;<br/>    myArray.forEach(function(element) {<br/>        if (element !== myArray[0]) {<br/>            passing = false;<br/>        }<br/>    });<br/><br/>    return passing;<br/>}</span><span id="459c" class="md me in lo b gy mj mg l mh mi">// 'for - of' loop works too</span><span id="6f29" class="md me in lo b gy mj mg l mh mi">function isUniform(myArray) {<br/>    for (element of myArray) {<br/>        if (element !== myArray[0]) {<br/>            return false<br/>        }<br/>    }<br/>    return true<br/>}</span></pre><p id="10c5" class="pw-post-body-paragraph kn ko in kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">您也可以使用<code class="fe ll lm ln lo b">for loop</code>或<code class="fe ll lm ln lo b">for of</code>循环。</p><p id="b3f7" class="pw-post-body-paragraph kn ko in kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated"><em class="ml">更多内容尽在</em><a class="ae mm" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ml">plain English . io</em></a></p></div></div>    
</body>
</html>