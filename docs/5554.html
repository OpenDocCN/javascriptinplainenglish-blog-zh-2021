<html>
<head>
<title>4 Steps to Add Google Authentication using Supabase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Supabase添加Google认证的4个步骤</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/4-steps-to-add-google-authentication-using-supabase-5245b242e8d5?source=collection_archive---------5-----------------------#2021-11-18">https://javascript.plainenglish.io/4-steps-to-add-google-authentication-using-supabase-5245b242e8d5?source=collection_archive---------5-----------------------#2021-11-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b442" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只需4个步骤即可完成。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/ac3b75e6dbb1bfe19db60e263e535441.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DQFaoNxf6p_Z75sxKmxgvw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://ihatereading.in/creativity" rel="noopener ugc nofollow" target="_blank">Website</a></figcaption></figure><h2 id="e406" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在后台</h2><p id="f197" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">Supabase是一个开源的Firebase替代方案。我已经报道了一个故事，简要介绍了Supabase，你可以在这里阅读T4。在今天的故事中，正如我们所承诺的，我们将涉及Supabase的认证部分。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="ba99" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">入门指南</h2><p id="1cc1" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">使用Supabase的身份验证与使用Firebase的身份验证几乎相同。像Firebase一样，我们也通过提供Supabase项目URL和项目密钥来初始化Supabase实例。</p><p id="432d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要获取您的项目凭证，首先，您必须在Supabase仪表板中创建项目或数据库。一旦数据库准备好可以使用，转到左下侧边栏的设置页面，在配置部分下，您会找到所有的凭证。保存凭证，因为我们将需要它们来初始化Supabase实例。让我们开始聚会，按照5个步骤添加谷歌认证。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mh"><img src="../Images/3e2f00c9d389b312f10ca1cf40a9a20a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ai1uM4Ee3MmeTFaye4m8Q.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Settings page for all our project cerdentials.</figcaption></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="b68a" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在本地安装Supabase</h2><p id="75f1" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">就像Firebase和其他第三方提供npm模块一样，Supabase可以使用npm模块本地安装在存储库中。</p><pre class="km kn ko kp gt mi mj mk ml aw mm bi"><span id="0d0f" class="lc ld iq mj b gy mn mo l mp mq">yarn add @supabase/supabase-js</span></pre><p id="d8ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦安装完毕，我们就可以初始化或者连接我们的前端到我们的Supabase项目。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="d266" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">将前端连接到Supabase</h2><p id="cdab" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">每个Supabase项目都有自己独特的项目URL和项目密钥。这些密钥对于识别用户以及将Supabase仪表板或项目连接到前端存储库非常重要。</p><pre class="km kn ko kp gt mi mj mk ml aw mm bi"><span id="c2bb" class="lc ld iq mj b gy mn mo l mp mq">import { createClient } from "@supabase/supabase-js";</span><span id="b3f7" class="lc ld iq mj b gy mr mo l mp mq">export const supabaseApp = createClient(YOUR_SUPABASE_DATABSE_URL, YOUR_SUPABASE_KEY);</span><span id="8d7d" class="lc ld iq mj b gy mr mo l mp mq">// you can store the YOUR_SUPABASE_DATABSE_URL &amp; YOUR_SUPABASE_KEY in env files</span></pre><p id="fdcb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们的Supabase客户端现在连接到项目仪表板，确认一次，控制台<code class="fe ms mt mu mj b">supabaseApp</code>并查看与仪表板中的细节匹配的细节。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/1c06233ba09d4597d0d379d6daa39480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JOkP2I0ev4ASNOVXLxYTSA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Supabase URL and Key under Config section in the settings tab</figcaption></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="1cf0" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在Supabase Dashboard中添加Google凭据</h2><p id="3dbb" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在Supabase仪表板的认证部分下，向下滚动一点并启用google sign方法。一旦启用，它将显示客户端id和客户端密码输入表单。</p><ul class=""><li id="bbad" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated">转到Google developer console <code class="fe ms mt mu mj b"><a class="ae lb" href="https://console.cloud.google.com/apis/dashboard?project=tweetcast-301807" rel="noopener ugc nofollow" target="_blank">https://console.cloud.google.com/apis/dashboard?project=tweetcast-301807</a> </code>并在左侧菜单的凭证部分获取客户端的OAuth凭证。</li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nf"><img src="../Images/460007cde04edffcf03b1c77932a597c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z_gG9Hq051u53QJ0hWOMNw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Google developer console for adding callback URl and accessing client id and secret</figcaption></figure><ul class=""><li id="6571" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated">这将给你谷歌客户端id和谷歌客户端秘密，作为回报，要求你提供一个网址和重定向网址。</li><li id="55b2" class="mw mx iq jp b jq ng ju nh jy ni kc nj kg nk kk nb nc nd ne bi translated">URL将始终是托管或访问前端的端点。例如，出于测试的目的，您的URL将是<a class="ae lb" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>，而对于重定向，则在您的项目URL上添加这个后缀<code class="fe ms mt mu mj b">http://{YOUR_SUPABASE_PROJECT_URL}/auth/v1/callback</code>。</li></ul><p id="fc09" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要详细了解添加谷歌客户端id和密码的步骤，请阅读<a class="ae lb" href="https://supabase.io/docs/guides/auth/auth-google" rel="noopener ugc nofollow" target="_blank">https://supabase.io/docs/guides/auth/auth-google</a>的说明。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="b923" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在前端添加身份验证</h2><p id="718a" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">高潮部分现在开始发挥作用，我们只需要在客户端添加几行代码和一个带有Google按钮的登录来完成任务。</p><pre class="km kn ko kp gt mi mj mk ml aw mm bi"><span id="0e6b" class="lc ld iq mj b gy mn mo l mp mq">const login = () =&gt; {<br/> const { users, error } = await supabaseApp.auth.signIn({<br/>   provider: 'google'<br/> });<br/>};</span></pre><p id="5272" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看了代码你会大吃一惊。从字面上看，这么多行代码将帮助您添加谷歌认证，这就像一个cakewalk。</p><p id="d89a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我没有什么要介绍的，用户可以自己管理关于用户认证的其他事情。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="d982" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在项目仪表板中查看经过身份验证的用户</h2><p id="1397" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">经过身份验证的用户被添加到身份验证表中。到达那里后，您可以查看包含用户UID、电子邮件、电话、提供商等列的用户表。在整个Supabase项目中，每个用户都只使用UID来标识。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mh"><img src="../Images/3fe4c9a16c00e080edbef555a472def1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jr8zefw6Vy72JgssDpDVMA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Authenticated users table in supabase project dashboard</figcaption></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="f2d8" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">结论</h2><p id="7a35" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">只需4个步骤，您就可以将广泛使用的验证机制Google authentication添加到您的项目中。下一次，我们将报道仅使用Supabase添加GitHub和其他第三方认证的新故事。下次再见，祝大家愉快！</p><pre class="km kn ko kp gt mi mj mk ml aw mm bi"><span id="52a5" class="lc ld iq mj b gy mn mo l mp mq">For more such stories visit our website - 💻 <a class="ae lb" href="http://ihatereading.in" rel="noopener ugc nofollow" target="_blank"><strong class="mj ir">iHateReading</strong></a></span></pre><p id="b6a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nl">更多内容尽在</em><a class="ae lb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="nl">plain English . io</em></strong></a></p></div></div>    
</body>
</html>