<html>
<head>
<title>TypeScript — JavaScript with No Surprises</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript——毫无意外的JavaScript</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/typescript-javascript-with-no-surprises-bbc4cf5c23a6?source=collection_archive---------11-----------------------#2021-05-15">https://javascript.plainenglish.io/typescript-javascript-with-no-surprises-bbc4cf5c23a6?source=collection_archive---------11-----------------------#2021-05-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/1f48b2860916dfd3ab87d87738c7ffbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e1kRPupIPsi6F2F84AttNw.png"/></div></div></figure><p id="2c7a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">是的，<strong class="jx io"> TypeScript类似于JavaScript，但没有什么特别之处。</strong>这就是我对微软2012年推出的开源编程语言的描述。去年，Github将其列为十大最受欢迎的编程语言之一。但是为什么开发者更喜欢微软的创造而不是JavaScript呢？让我们来了解一下！</p><h1 id="166f" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">为什么不是JavaScript？</h1><p id="8e08" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">多年来，JavaScript一直是第一语言。它彻底改变了网络发展，赋予了以前死气沉沉的网站以生命。感谢围绕它的许多框架，它也被用于后端和移动应用程序开发。</p><p id="c109" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是JavaScript是用来创建企业级应用的吗？我不这么认为。这就是TypeScript介入的地方。<strong class="jx io"> TypeScript是静态类型化的JavaScript】。最棒的是它仍然是可选的。将静态类型添加到JavaScript有很多好处。你将再也看不到<code class="fe lw lx ly lz b">undefined</code>在你的应用程序中弹出。重构代码将不再是一场噩梦。还有很多。一项研究表明，15%的JavaScript错误可以通过TypeScript检测出来。</strong></p><h1 id="d49b" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">类型—JS和TS之间的区别</h1><p id="8b13" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">编程语言分为两类:静态类型或动态类型。</p><p id="0b74" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">考虑下面的JavaScript代码片段——一种类似Python的动态类型语言:</p><pre class="ma mb mc md gt me lz mf mg aw mh bi"><span id="a9ab" class="mi ku in lz b gy mj mk l ml mm">function add(num){<br/>   console.log(num + 5);<br/>}</span></pre><p id="5c57" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里，变量<code class="fe lw lx ly lz b">num</code>的类型是未知的。如果我用，<code class="fe lw lx ly lz b">add(“I love TS”)</code>调用它，它将打印<code class="fe lw lx ly lz b">I love TS5</code>。这在JavaScript中被称为类型强制。它会将数字5转换成它的等效字符串，并将两者连接起来。问题是，即使它没有按预期工作，它也不会抛出错误。</p><p id="6c0a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在考虑TypeScript中的相同函数——像Java这样的静态类型语言:</p><pre class="ma mb mc md gt me lz mf mg aw mh bi"><span id="c4b6" class="mi ku in lz b gy mj mk l ml mm">function add(num: number){<br/>   console.log(num + 5);<br/>}</span></pre><p id="4f19" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们只是添加了变量<code class="fe lw lx ly lz b">num</code>的类型作为<code class="fe lw lx ly lz b">number</code>。如果我现在调用<code class="fe lw lx ly lz b">add(“I love TS”)</code>，它将抛出一个编译错误——类型 <code class="fe lw lx ly lz b"><strong class="jx io">string</strong></code> <strong class="jx io">的<strong class="jx io">参数不可赋给类型</strong> <code class="fe lw lx ly lz b"><strong class="jx io">number</strong></code>的参数。</strong></p><h2 id="b4fb" class="mi ku in bd kv mn mo dn kz mp mq dp ld kg mr ms lh kk mt mu ll ko mv mw lp mx bi translated">静态类型的好处</h2><ul class=""><li id="4d72" class="my mz in jx b jy lr kc ls kg na kk nb ko nc ks nd ne nf ng bi translated">它让我们节省时间，并检查为什么我们的输入不是我们认为的那种类型，而不是以后再花时间。</li><li id="d905" class="my mz in jx b jy nh kc ni kg nj kk nk ko nl ks nd ne nf ng bi translated">一切都保持原来的样子。如果一个变量被声明为一个字符串，它将一直保持这个字符串。</li><li id="8d37" class="my mz in jx b jy nh kc ni kg nj kk nk ko nl ks nd ne nf ng bi translated">添加严格类型使代码更具可读性。不言自明的代码可以弥补团队成员之间缺乏直接沟通的不足。</li><li id="1d93" class="my mz in jx b jy nh kc ni kg nj kk nk ko nl ks nd ne nf ng bi translated">关于类型的信息让ide帮助我们进行代码导航、自动完成和准确的建议。我们在打字的时候也会得到反馈。所有这些都有助于我们编写可维护的代码，并显著提高生产率。</li></ul><h1 id="57df" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">打字稿—工作BTS</h1><p id="86f9" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">每个运行JavaScript的设备、浏览器或平台也可以运行TypeScript。这是因为TypeScript代码在由<strong class="jx io"> tsc — TypeScriptCompiler </strong>执行之前被编译成vanilla JS。支持TypeScript的ide通常内置了这一功能，可以从命令行调用。它允许通过将<code class="fe lw lx ly lz b">tsconfig.json</code>添加到根目录来转换代码库或其一部分。</p><p id="d97b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">TypeScript不是作为<code class="fe lw lx ly lz b">.ts</code>文件交付的，而是作为<code class="fe lw lx ly lz b">.js</code>和<code class="fe lw lx ly lz b">.d.ts</code>文件交付的。给定一个类型脚本文件，<code class="fe lw lx ly lz b">main.ts</code> tsc可以将它转换成几个工件。最常见的有:</p><ul class=""><li id="8876" class="my mz in jx b jy jz kc kd kg nm kk nn ko no ks nd ne nf ng bi translated">JavaScript文件:<code class="fe lw lx ly lz b">main.js</code>(它包含由我们的ts代码生成的普通js代码)</li><li id="7f67" class="my mz in jx b jy nh kc ni kg nj kk nk ko nl ks nd ne nf ng bi translated">申报文件:<code class="fe lw lx ly lz b">main.d.ts</code>(该文件有类型信息)</li><li id="809c" class="my mz in jx b jy nh kc ni kg nj kk nk ko nl ks nd ne nf ng bi translated">源映射文件:<code class="fe lw lx ly lz b">main.js.map</code>(它为<code class="fe lw lx ly lz b">main.js</code>中输出代码的每一部分指定了<code class="fe lw lx ly lz b">main.ts</code>中输入代码的哪一部分产生了它)</li></ul><h1 id="062d" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">浅谈TypeScript编译器</h1><p id="57dd" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">TypeScript编译器也可以通过使用选项<code class="fe lw lx ly lz b">allowsJs</code>来处理普通的JavaScript代码。因此，当从JavaScript迁移到TypeScript时，我们可以从两者的混合开始，慢慢地将更多的JavaScript代码转换为TypeScript。</p><p id="7020" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它允许我们通过使用<code class="fe lw lx ly lz b">checkJs</code>来检查JavaScript文件的类型，或者将<code class="fe lw lx ly lz b">@ts-check</code>作为特定文件的注释。</p><p id="c1f2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它使用JSDoc注释提供的静态类型信息。事实上，我们可以完全静态地键入JavaScript代码，甚至可以从中派生出声明文件。一个简单的JSDoc注释示例可以是:</p><pre class="ma mb mc md gt me lz mf mg aw mh bi"><span id="bae9" class="mi ku in lz b gy mj mk l ml mm">/**<br/> * @param {number} x - A number param.<br/> * @returns {number} This is the result.<br/> */<br/>function add(num){<br/>   return num + 5;<br/>}</span></pre><h1 id="b1a9" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">打字稿的缺点</h1><p id="20a4" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">老实说，我注意到的很少。但是这里有一些我认为可能对你有帮助的:</p><ul class=""><li id="6a82" class="my mz in jx b jy jz kc kd kg nm kk nn ko no ks nd ne nf ng bi translated"><strong class="jx io">非真正的静态类型</strong>—TypeScript中的静态类型不同于Java、C++或C#。我们的代码最终被转换成JavaScript，所以在运行时总是有奇怪的类型转换的风险。</li><li id="56fe" class="my mz in jx b jy nh kc ni kg nj kk nk ko nl ks nd ne nf ng bi translated">臃肿的代码 —我们将不得不编写更多的代码作为类型，这会减慢开发过程。此外，由于额外的代码行，它使TS文件比JS文件更大。但这一切在被传输后都消失了。最终，浏览器将执行普通的JavaScript。</li><li id="d085" class="my mz in jx b jy nh kc ni kg nj kk nk ko nl ks nd ne nf ng bi translated"><strong class="jx io">额外的编译步骤</strong> —我们需要在运行之前将TypeScript代码转换成JavaScript。然而，这个过程是高度自动化的，不需要很多额外的时间。简而言之，这一步骤的负面影响远不如其好处显著。</li></ul><h1 id="c239" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">谁在打字？</h1><p id="69bd" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">TypeScript是一种开源编程语言，其社区在不断扩大。它由微软创建，现在由Asana、Slack、Lyft、所有Angular 2+开发者、多个React和Vue开发者以及数千家其他公司使用。毫无疑问，它是目前最流行的JavaScript超集，而且不会很快消失。</p><p id="21f1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">随着新的更新在TypeScript中出现，<strong class="jx io">背后的主要思想是给混乱的JavaScript世界带来生产力、可靠性和可预测性</strong>。老实说，我很想听听现在不使用TypeScript的理由。</p><p id="f94f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们开始打字编码吧！</p><p id="4ac8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="np">更多内容尽在</em><a class="ae nq" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="np">plain English . io</em></a></p></div></div>    
</body>
</html>