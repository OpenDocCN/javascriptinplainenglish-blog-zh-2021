<html>
<head>
<title>How to benchmark ESLint rules</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何评测ESLint规则</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-benchmark-eslint-rules-e262b7690708?source=collection_archive---------21-----------------------#2021-03-03">https://javascript.plainenglish.io/how-to-benchmark-eslint-rules-e262b7690708?source=collection_archive---------21-----------------------#2021-03-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/1b7cb9df9fcfbe00b22410535e172487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*327jBinTjclQag4rUe5aSg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><a class="ae jz" href="https://b.remarkabl.org/306x1A3" rel="noopener ugc nofollow" target="_blank">ESLint</a></figcaption></figure><p id="8c76" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有时<a class="ae jz" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank"> ESLint </a>可能需要一段时间运行，尤其是当你有很多规则和文件的时候。那么，如何衡量每条规则需要多长时间呢？</p><p id="19dd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">通过环境变量<code class="fe ky kz la lb b"><a class="ae jz" href="https://eslint.org/docs/1.0.0/developer-guide/working-with-rules#per-rule-performance" rel="noopener ugc nofollow" target="_blank">TIMING</a></code>，ESLint跟踪单个规则的性能。</p><p id="63f2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以不要像这样运行ESLint:</p><pre class="lc ld le lf gt lg lb lh li aw lj bi"><span id="0ebb" class="lk ll in lb b gy lm ln l lo lp">$ npx eslint ./lib/</span></pre><p id="b386" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在命令前加上<code class="fe ky kz la lb b">TIMING=1</code>:</p><pre class="lc ld le lf gt lg lb lh li aw lj bi"><span id="d817" class="lk ll in lb b gy lm ln l lo lp">$ TIMING=1 npx eslint ./lib/<br/>Rule                    | Time (ms) | Relative<br/>:-----------------------|----------:|--------:<br/>prettier/prettier       |   136.659 |    92.4%<br/>no-unused-vars          |     2.139 |     1.4%<br/>no-redeclare            |     1.780 |     1.2%<br/>no-unexpected-multiline |     0.789 |     0.5%<br/>no-global-assign        |     0.630 |     0.4%<br/>constructor-super       |     0.369 |     0.2%<br/>no-unsafe-finally       |     0.323 |     0.2%<br/>no-unreachable          |     0.319 |     0.2%<br/>no-self-assign          |     0.311 |     0.2%<br/>no-dupe-else-if         |     0.291 |     0.2%</span></pre><p id="8370" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">用<a class="ae jz" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank">纱</a>，可以得到总经过时间:</p><pre class="lc ld le lf gt lg lb lh li aw lj bi"><span id="d84e" class="lk ll in lb b gy lm ln l lo lp">$ TIMING=1 yarn eslint ./lib/<br/>yarn run v1.22.10<br/>$ /Users/mark/html-react-parser/node_modules/.bin/eslint ./lib/<br/>Rule                    | Time (ms) | Relative<br/>:-----------------------|----------:|--------:<br/>prettier/prettier       |   140.710 |    92.2%<br/>no-unused-vars          |     2.573 |     1.7%<br/>no-redeclare            |     1.748 |     1.1%<br/>no-unexpected-multiline |     0.845 |     0.6%<br/>no-global-assign        |     0.769 |     0.5%<br/>constructor-super       |     0.377 |     0.2%<br/>no-unreachable          |     0.333 |     0.2%<br/>no-unsafe-finally       |     0.329 |     0.2%<br/>no-dupe-else-if         |     0.287 |     0.2%<br/>no-this-before-super    |     0.283 |     0.2%<br/>✨  Done in 0.81s.</span></pre></div><div class="ab cl lq lr hr ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ig ih ii ij ik"><p id="991a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://b.remarkabl.org/304qFBl" rel="noopener ugc nofollow" target="_blank"> <em class="lx">本文原载于2021年3月2日《remarkablemark.org》。</em>T9】</a></p></div></div>    
</body>
</html>