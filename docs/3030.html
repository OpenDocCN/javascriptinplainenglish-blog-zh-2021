<html>
<head>
<title>Let’s Build a Website Login Page with HTML, CSS, JavaScript and an External API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们用HTML、CSS、JavaScript和外部API来构建一个网站登录页面</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-build-a-website-login-page-with-html-css-javascript-and-an-external-api-a083942f797d?source=collection_archive---------0-----------------------#2021-06-20">https://javascript.plainenglish.io/lets-build-a-website-login-page-with-html-css-javascript-and-an-external-api-a083942f797d?source=collection_archive---------0-----------------------#2021-06-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/86553a76bbc59cfa2448b95eb5fc0b07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*a6bF8-B6_AUF3bU1ILujeQ.jpeg"/></div></figure><p id="88bb" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这篇文章将为你提供一个使用HTML、CSS、JavaScript (Bootstrap 5)和外部API创建网站登录页面的基础教程。登录将通过使用来自MeCallAPI.com<a class="ae kp" href="https://www.mecallapi.com/" rel="noopener ugc nofollow" target="_blank"/>(我的网站:D)的外部<strong class="jt io"> API </strong>来执行。如果您想尝试一个用于CRUD和身份验证操作的模拟API，请在网站上随意查看。</p><figure class="kr ks kt ku gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kq"><img src="../Images/931a9b1eaf0116784545c95e912bccd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AcaljS03XBd3mZAwP62IPA.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk"><a class="ae kp" href="https://www.mecallapi.com/" rel="noopener ugc nofollow" target="_blank">https://www.mecallapi.com/</a></figcaption></figure><p id="ebc5" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">您还可以在这里查看与我们在本文中想要实现的类似的登录页面示例:【https://www.mecallapi.com/login/<a class="ae kp" href="https://www.mecallapi.com/login/" rel="noopener ugc nofollow" target="_blank"/></p><figure class="kr ks kt ku gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ld"><img src="../Images/5a6baf09fdc7a7e4aeb7fb1556ef0a45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D5-ytdrZIlU1bisPbsacUg.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk"><a class="ae kp" href="https://www.mecallapi.com/login/" rel="noopener ugc nofollow" target="_blank">https://www.mecallapi.com/login/</a></figcaption></figure><h1 id="70cb" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">软件安装</h1><p id="a316" class="pw-post-body-paragraph jr js in jt b ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko ig bi translated">它只需要一个文本编辑器/IDE(而不是代码、记事本等)。)和一个网页浏览器(Chrome、Firefox、Edge等。)来做这个教程！</p><h1 id="82b8" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">我们来编码吧！(HTML和CSS)</h1><p id="fb5d" class="pw-post-body-paragraph jr js in jt b ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko ig bi translated">HTML文档是为在网络浏览器中显示而设计的。有一百多个HTML元素可供你选择来创建一个HTML文件。<br/>让我们从创造<strong class="jt io">index.html</strong>开始。我将解释一下包含的内容:</p><ul class=""><li id="4f7d" class="mh mi in jt b ju jv jy jz kc mj kg mk kk ml ko mm mn mo mp bi translated"><a class="ae kp" href="https://getbootstrap.com/docs/5.0/getting-started/introduction/" rel="noopener ugc nofollow" target="_blank"> <strong class="jt io"> Bootstrap 5 </strong> </a>，一个创建响应式网页的框架(第9行和第36行)。</li><li id="2484" class="mh mi in jt b ju mq jy mr kc ms kg mt kk mu ko mm mn mo mp bi translated"><strong class="jt io"> login.css </strong>，<strong class="jt io"/>an<strong class="jt io"/>extra CSS<strong class="jt io"/>(层叠样式表)来样式化你的【login.css】除了来自Bootstrap 5(第12行)的<strong class="jt io">。</strong></li><li id="4fa6" class="mh mi in jt b ju mq jy mr kc ms kg mt kk mu ko mm mn mo mp bi translated">一个登录表单，输入用户名和密码以及一个按钮(第15–32行)。</li><li id="e8c4" class="mh mi in jt b ju mq jy mr kc ms kg mt kk mu ko mm mn mo mp bi translated"><a class="ae kp" href="https://sweetalert2.github.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jt io"> Sweetalert </strong> </a>，<strong class="jt io"> </strong>一个用于轻松创建漂亮弹出窗口的JavaScript库(第35行)。</li><li id="4eaa" class="mh mi in jt b ju mq jy mr kc ms kg mt kk mu ko mm mn mo mp bi translated"><strong class="jt io"> login.js </strong>，JavaScript文件使用在<strong class="jt io">login.html</strong>调用一个登录<strong class="jt io"> API </strong>(第34行)。</li></ul><figure class="kr ks kt ku gt jo"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="ff85" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">创建<strong class="jt io"> login.css </strong></p><figure class="kr ks kt ku gt jo"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="c4c6" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在网络浏览器上打开<strong class="jt io">login.html</strong>查看结果:</p><figure class="kr ks kt ku gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ld"><img src="../Images/ca29f9cda33c1b199de99cba35a45a35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nhf2o318YiGXMIqDD0GMdQ.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">login.html on a web browser</figcaption></figure><p id="ff40" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">创建<strong class="jt io">index.html</strong>来显示当前登录用户的信息。因此，在本教程结束时，只有登录后才能访问该页面。</p><figure class="kr ks kt ku gt jo"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="2519" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">创建<strong class="jt io"> index.css </strong></p><figure class="kr ks kt ku gt jo"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="7ff5" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在网络浏览器上打开<strong class="jt io">index.html</strong>查看结果:</p><figure class="kr ks kt ku gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ld"><img src="../Images/c69a1d6f33ab7b4516eacd53b72461e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q-rUkhHNTJWqFTKTryaIlA.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">index.html on a web browser</figcaption></figure><h1 id="92c0" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用API (JavaScript)登录</h1><p id="cba6" class="pw-post-body-paragraph jr js in jt b ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko ig bi translated">基于<a class="ae kp" href="https://www.mecallapi.com/" rel="noopener ugc nofollow" target="_blank">MeCallAPI.com</a>提供的JWT (JSON Web Token)标准，创建<strong class="jt io"> login.js </strong>调用<strong class="jt io"> API </strong>进行登录。<br/>API URL:<a class="ae kp" href="https://www.mecallapi.com/api/login" rel="noopener ugc nofollow" target="_blank">https://www.mecallapi.com/api/login</a><br/>方法:POST <br/>样本体(JSON):</p><pre class="kr ks kt ku gt mx my mz na aw nb bi"><span id="7b9b" class="nc lf in my b gy nd ne l nf ng">{<br/>    "username": "karn.yong@mecallapi.com",    <br/>    "password": "mecallapi"<br/>}</span></pre><p id="9100" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">示例响应(JSON):</p><pre class="kr ks kt ku gt mx my mz na aw nb bi"><span id="1588" class="nc lf in my b gy nd ne l nf ng">{<br/>    "status": "ok",<br/>    "message": "Logged in",<br/>    "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cC..."<br/>}</span></pre><p id="bc94" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">响应中的<strong class="jt io"> accessToken </strong>代表用户的授权。因此，我们将检查用户是否通过这个<strong class="jt io"> accessToken </strong>登录。</p><ul class=""><li id="64f7" class="mh mi in jt b ju jv jy jz kc mj kg mk kk ml ko mm mn mo mp bi translated">在JavaScript中(第1–4行)，我们将首先从<strong class="jt io"> localStorage获取<strong class="jt io"> jwt项</strong>(</strong>local storage允许在web浏览器中保存键/值对)。如果<strong class="jt io"> jwt </strong>的值表示用户已登录，网络浏览器将加载index.html。</li><li id="fb5e" class="mh mi in jt b ju mq jy mr kc ms kg mt kk mu ko mm mn mo mp bi translated">我们创建一个函数<strong class="jt io">登录</strong>，当用户在login.html点击<strong class="jt io">登录</strong>按钮时该函数将被执行。在这个函数中，我们使用<strong class="jt io"> XMLHttpRequest </strong>请求一个API来检索JSON中的响应。如果响应<strong class="jt io">状态</strong>为<strong class="jt io"> ok </strong>(表示登录成功)，我们会将<strong class="jt io"> accessToken </strong>值保存到<strong class="jt io"> localStorage </strong>中的<strong class="jt io"> jwt </strong>，并显示弹出框(<a class="ae kp" href="https://sweetalert2.github.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jt io"> Sweetalert </strong> </a>)。一旦用户在弹出窗口中单击确定，网络浏览器将加载index.html。</li></ul><figure class="kr ks kt ku gt jo"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="81eb" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">在网络浏览器上打开<strong class="jt io">login.html</strong>，因此输入:<br/>用户名:karn.yong@mecallapi.com<br/>密码:mecallapi<br/>*我们可以使用来自<a class="ae kp" href="https://www.mecallapi.com/" rel="noopener ugc nofollow" target="_blank">MeCallAPI.com</a>的其他用户名，而密码保持不变。<br/>点击<strong class="jt io">登录</strong>按钮，你会看到这个结果:</p><figure class="kr ks kt ku gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ld"><img src="../Images/522a8c3a40edffc7215b66e369d56bd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n-jL0O_bk51aUFSmL8SkMw.png"/></div></div></figure><h1 id="ac69" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用API的用户信息(JavaScript)</h1><p id="79a1" class="pw-post-body-paragraph jr js in jt b ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko ig bi translated">创建<strong class="jt io"> index.js </strong>请求<strong class="jt io"> API </strong>检索当前登录用户的信息。<br/>API URL:<a class="ae kp" href="https://www.mecallapi.com/api/auth/user" rel="noopener ugc nofollow" target="_blank">https://www.mecallapi.com/api/auth/user</a><br/>方法:GET<br/>* API请求头需要有用户的access token的值作为授权(Bearer)用那个用户信息进行响应。</p><ul class=""><li id="b390" class="mh mi in jt b ju jv jy jz kc mj kg mk kk ml ko mm mn mo mp bi translated">在JavaScript中(第1–4行)，我们检查来自<strong class="jt io"> localStorage </strong>的<strong class="jt io"> jwt项</strong>是否有值。如果不是，网络浏览器将加载login.html。</li><li id="94d4" class="mh mi in jt b ju mq jy mr kc ms kg mt kk mu ko mm mn mo mp bi translated">我们创建一个<strong class="jt io"> loadUser </strong>函数来检索和显示当前在index.html<strong class="jt io">登录的用户信息。</strong>基本上我们使用<strong class="jt io"> XMLHttpRequest </strong>调用授权头(承载)中带有<strong class="jt io"> jwt </strong>的API。注意，这个函数将在加载index.html时被调用。</li><li id="4f2d" class="mh mi in jt b ju mq jy mr kc ms kg mt kk mu ko mm mn mo mp bi translated">我们创建一个<strong class="jt io">注销</strong>函数，从<strong class="jt io">本地存储</strong>中移除<strong class="jt io"> jwt </strong>，然后在web浏览器上加载login.html。当点击<strong class="jt io">注销</strong>按钮时会调用这个函数。</li></ul><figure class="kr ks kt ku gt jo"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="1f8c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">结果是:</p><figure class="kr ks kt ku gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ld"><img src="../Images/73ebf87b97e388b19852b6dbb1533915.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ZKYld-MkdeiXoH37bsW5Q.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">index.html after logged in</figcaption></figure><h1 id="f0be" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="012b" class="pw-post-body-paragraph jr js in jt b ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko ig bi translated">这就是使用HTML、CSS、JavaScript和API构建基本登录页面的全部内容。由于现在大多数应用程序都是由API驱动的，因此我将在接下来的文章中介绍更多关于API的内容。敬请关注。:D</p><p id="e6c9" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><em class="nh">朗西特大学数字创新技术学院博士Karn Yongsiriwit的文章</em></p><p id="3a0e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><em class="nh">更多内容看</em><strong class="jt io"><em class="nh"/></strong><a class="ae kp" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jt io"><em class="nh">说白了. io </em> </strong> </a></p></div></div>    
</body>
</html>