<html>
<head>
<title>Create a Custom Sign-in Page with NextAuth.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NextAuth.js创建自定义登录页面</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-custom-sign-in-page-in-next-auth-1612dc17beb7?source=collection_archive---------0-----------------------#2021-07-11">https://javascript.plainenglish.io/how-to-create-a-custom-sign-in-page-in-next-auth-1612dc17beb7?source=collection_archive---------0-----------------------#2021-07-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="2d7b" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何使用NextAuth.js创建自定义登录页面</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/fcf20bdd37709bac29b95df5c1ed67ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*req3d2PtlPwD058XPXs5KA.png"/></div></div></figure><p id="cdb6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">今天，我们将看到如何用NextAuth.js构建一个自定义的登录页面。</p><p id="9b49" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在我之前的一篇文章中，我们看到了什么是NextAuth以及如何用它来构建Google认证。如果你还没有读过，你可以在这里查看一下<a class="ae lk" href="https://medium.com/geekculture/why-and-how-to-get-started-with-next-auth-61740558b45b" rel="noopener">。</a></p><h2 id="1767" class="ll lm in bd ln lo lp dn lq lr ls dp lt kx lu lv lw lb lx ly lz lf ma mb mc md bi translated">我们开始吧</h2><p id="7e48" class="pw-post-body-paragraph ko kp in kq b kr me jo kt ku mf jr kw kx mg kz la lb mh ld le lf mi lh li lj ig bi translated">在<strong class="kq io"> <em class="mj"> […nextauth]。js </em> </strong>，我们将在提供者下面添加一个pages属性，如下所示:</p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="8600" class="ll lm in ml b gy mp mq l mr ms">pages: {<br/>signIn: "/signin",<br/>},</span></pre><p id="cdba" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，我们的<strong class="kq io"> <em class="mj"> […nextauth]。js </em> </strong>应该是这样的</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h2 id="c22d" class="ll lm in bd ln lo lp dn lq lr ls dp lt kx lu lv lw lb lx ly lz lf ma mb mc md bi translated">创建登录页面</h2><p id="92ba" class="pw-post-body-paragraph ko kp in kq b kr me jo kt ku mf jr kw kx mg kz la lb mh ld le lf mi lh li lj ig bi translated">在pages目录中，我们将创建一个新页面<strong class="kq io"> <em class="mj"> signin.js </em> </strong>。</p><p id="4991" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们将需要从下一个认证/客户端包导入一堆。这是所有的进口货:</p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="0636" class="ll lm in ml b gy mp mq l mr ms">import { providers, signIn, getSession, csrfToken } from "next-auth/client";</span></pre><p id="432f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们现在将创建一个简单的React功能组件:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h2 id="5504" class="ll lm in bd ln lo lp dn lq lr ls dp lt kx lu lv lw lb lx ly lz lf ma mb mc md bi translated">显示所有提供商</h2><p id="24b8" class="pw-post-body-paragraph ko kp in kq b kr me jo kt ku mf jr kw kx mg kz la lb mh ld le lf mi lh li lj ig bi translated">在我们的组件中，我们将绘制出所有的提供者，在这种情况下，我们只有谷歌登录。</p><p id="f8e3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们首先需要获得所有的提供者，我们将使用getServerSideProps来获得所有的提供者:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="dc03" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这将给出我们在<strong class="kq io"> <em class="mj"> […nextauth]中添加的所有提供者。我们将收到提供者作为道具。</em></strong></p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="20e1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这将给我们一个简单的按钮，上面写着<strong class="kq io">‘使用Google登录’</strong>。如果我们单击此按钮，我们的登录流程应该仍能正常工作。现在，如果我们登录，我们将被重定向到登录页面，而不是主页。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mv mu l"/></div></figure><p id="a387" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们现在来看看如何解决这个问题。</p><p id="7582" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在<code class="fe mw mx my ml b">getServerSideProps</code>函数中，我们将添加以下内容:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="149f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，如果我们登录，我们将被重定向到主页，如果你想重定向用户到其他一些页面改变目的地的位置。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mv mu l"/></div></figure><p id="e239" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最终的<em class="mj"> signin.js </em>看起来是这样的</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h2 id="4db7" class="ll lm in bd ln lo lp dn lq lr ls dp lt kx lu lv lw lb lx ly lz lf ma mb mc md bi translated">设计页面样式</h2><p id="b1e3" class="pw-post-body-paragraph ko kp in kq b kr me jo kt ku mf jr kw kx mg kz la lb mh ld le lf mi lh li lj ig bi translated">现在我将在按钮上应用一些简单的样式，并使其居中。我将使用CSS模块的风格，因为它是内置的，你可以使用任何你喜欢的。</p><ul class=""><li id="cd8d" class="mz na in kq b kr ks ku kv kx nb lb nc lf nd lj ne nf ng nh bi translated">创建一个文件<strong class="kq io"><em class="mj">sign in . module . CSS</em></strong></li></ul><p id="0a4f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我将向容器div和按钮添加一个类名，如下所示</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="7970" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们将从<strong class="kq io"><em class="mj">sign in . module . CSS</em></strong>导入样式，如下所示</p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="88d5" class="ll lm in ml b gy mp mq l mr ms">import styles from "../styles/Signin.module.css";</span></pre><ul class=""><li id="8688" class="mz na in kq b kr ks ku kv kx nb lb nc lf nd lj ne nf ng nh bi translated">最后，我们将在<strong class="kq io"><em class="mj">sign in . module . CSS</em></strong>中添加样式，使其看起来更好</li></ul><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="6c9f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">应用这些样式后，我们得到一个居中的、好看的按钮。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/e8468c7b21da2b47490ea9939671a572.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/format:webp/1*RaxVebm8duCO27DgBtMspQ.png"/></div></figure><p id="6fce" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我希望你能用下一个身份验证创建你的第一个自定义登录页面。</p><p id="2bb9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">有用链接:</strong></p><p id="7439" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae lk" href="https://github.com/avneesh0612/next-auth-custom-login" rel="noopener ugc nofollow" target="_blank"> Github库</a></p><p id="deab" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae lk" href="https://nextjs.org/docs" rel="noopener ugc nofollow" target="_blank"> NextJS文档</a></p><p id="8eed" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae lk" href="https://next-auth.js.org/" rel="noopener ugc nofollow" target="_blank">下一个授权</a></p><p id="3742" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae lk" href="https://avneesh-links.vercel.app/" rel="noopener ugc nofollow" target="_blank">所有社交</a></p><p id="c1aa" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="mj">更多内容请看</em><a class="ae lk" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="mj">plain English . io</em></strong></a></p></div></div>    
</body>
</html>