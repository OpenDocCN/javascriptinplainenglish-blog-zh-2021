<html>
<head>
<title>React Router Explained with Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React路由器举例说明</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-router-explained-with-examples-8a924c9bfee9?source=collection_archive---------15-----------------------#2021-05-02">https://javascript.plainenglish.io/react-router-explained-with-examples-8a924c9bfee9?source=collection_archive---------15-----------------------#2021-05-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6cb2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过实例了解React路由器。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e01ce3945ea9c23b6c224d18c45385f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fo6yYBsPBZO9dHZX7KAy5g.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image created with ❤️️ By author.</figcaption></figure><p id="444a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">React Router是React中非常有用和著名的库。它允许您在React应用程序的多个页面之间导航，而无需向服务器发出新的请求。</p><p id="c459" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用React router，JavaScript将不断地呈现在页面中，您可以在几个不同的路由之间切换，而不必重新加载浏览器。因此，如果你想创建一个多页面React应用程序，我会一直推荐使用React router，因为在我看来，它非常强大且易于使用。</p><p id="d926" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在本文中，我们将了解使用React路由器库的基础知识。让我们开始吧。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="8761" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">安装React路由器</h1><p id="fa6d" class="pw-post-body-paragraph kv kw iq kx b ky mq jr la lb mr ju ld le ms lg lh li mt lk ll lm mu lo lp lq ij bi translated">在使用create-react-app设置我们的项目之后，我们要做的第一件事是安装react路由器包，因为它不是核心React库的一部分。</p><p id="e804" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为此，我们需要在我们的机器上安装NPM和NodeJS。之后，只需进入React项目文件夹中的终端，键入下面的命令，使用NPM安装软件包。</p><p id="0d06" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">另外，请记住，我们将使用React路由器的版本5，所以使用<code class="fe mv mw mx my b"><strong class="kx ir">@ 5</strong></code>来指定。</p><p id="6270" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是一个例子:</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="c219" class="nd lz iq my b gy ne nf l ng nh"><strong class="my ir">npm install react-router-dom@5</strong></span></pre><p id="8424" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你愿意，你也可以使用YARN来安装这个包。这里有一个例子:</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="9942" class="nd lz iq my b gy ne nf l ng nh"><strong class="my ir">yarn add react-router-dom</strong></span></pre><p id="76e7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在我们已经安装了这个包，我们可以开始使用它了。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="ac56" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">使用React路由器</h1><p id="3813" class="pw-post-body-paragraph kv kw iq kx b ky mq jr la lb mr ju ld le ms lg lh li mt lk ll lm mu lo lp lq ij bi translated">我们将创建一个使用React路由器的简单示例。我们将建立一个简单的导航栏，包含三个链接到三个不同的页面(主页，关于，联系)。</p><p id="fddf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以在下面的Codepen示例中查看它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Codepen by author.</figcaption></figure><p id="c40d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正如你所看到的，你可以在页面之间导航，而不必重新加载应用程序。这就是React路由器的强大之处。</p><p id="0f45" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为此，我们必须在React应用程序的<code class="fe mv mw mx my b">src</code>文件夹中创建4个不同的JavaScript文件:<code class="fe mv mw mx my b">Nav.js</code>、<code class="fe mv mw mx my b">Home.js</code>、<code class="fe mv mw mx my b">About.js</code>和<code class="fe mv mw mx my b">Contact.js</code>。您可以查看我的<a class="ae nk" href="https://codesandbox.io/s/pedantic-villani-wshq4?file=/src/App.js" rel="noopener ugc nofollow" target="_blank"> CodeSandbox </a>示例中的所有文件结构和代码。</p><p id="93e7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以我们要做的第一件事就是转到我们的文件<code class="fe mv mw mx my b">App.js</code>，从包中导入所有的路由组件。</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="77dc" class="nd lz iq my b gy ne nf l ng nh"><strong class="my ir">import { BrowserRouter as Router, Switch, Route} from 'react-router-dom'</strong></span></pre><p id="14a4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">除此之外，我们需要为我们的页面导入所有其他组件。</p><p id="7911" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后，我们必须用<code class="fe mv mw mx my b">&lt;Router&gt;</code>标签包装整个应用程序，以便整个应用程序使用路由功能。</p><p id="8304" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">看看下面的例子:</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="c953" class="nd lz iq my b gy ne nf l ng nh">//App.js</span><span id="36af" class="nd lz iq my b gy nl nf l ng nh">import React from 'react'<br/>import Nav from './Nav'<br/>import Home from './Home'<br/>import About from './About'<br/>import Contact from './Contact'<br/><strong class="my ir">import { BrowserRouter as Router, Switch, Route} from 'react-router-dom'</strong></span><span id="18f9" class="nd lz iq my b gy nl nf l ng nh">const App = () =&gt; {<br/>  return (<br/>    <strong class="my ir">&lt;Router&gt;</strong><br/>      &lt;div className='container'&gt;<br/>        &lt;Nav /&gt;<br/>        <strong class="my ir">&lt;Switch&gt;</strong><br/>          <strong class="my ir">&lt;Route exact path='/'&gt;</strong><br/>            &lt;Home /&gt;<br/>          <strong class="my ir">&lt;/Route&gt;</strong><br/>          <strong class="my ir">&lt;Route path='/about'&gt;</strong><br/>            &lt;About /&gt;<br/>          <strong class="my ir">&lt;/Route&gt;<br/></strong>          <strong class="my ir">&lt;Route path='/contact'&gt;</strong><br/>            &lt;Contact /&gt;<br/>          <strong class="my ir">&lt;/Route&gt;</strong><br/>        <strong class="my ir">&lt;/Switch&gt;</strong><br/>      &lt;/div&gt;<br/>    <strong class="my ir">&lt;/Router&gt;</strong><br/>  )<br/>}</span><span id="d48b" class="nd lz iq my b gy nl nf l ng nh">export default App;</span></pre><p id="d776" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正如你所看到的，我们将所有东西都包装在组件<code class="fe mv mw mx my b">&lt;Router&gt;</code>中，并且在组件<code class="fe mv mw mx my b">&lt;Switch&gt;</code>中呈现所有页面。</p><p id="3d67" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">切换组件确保一次只显示一条路线，这允许我们在页面之间导航。</p><p id="bb17" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正如您在上面看到的，您还需要将每个页面或组件包装在一个名为<code class="fe mv mw mx my b">&lt;Route&gt;</code>的组件中，这个组件是我们从包中导入的。每个路由都有一个包含每个页面路由的路径属性。</p><p id="b199" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于home路由，您还需要添加属性<code class="fe mv mw mx my b">exact</code>，因为所有其他路由都像home路由一样以斜线<code class="fe mv mw mx my b">/</code>开头。如果不为home route添加属性<code class="fe mv mw mx my b">exact</code>，app只会渲染home组件。这就是我们的文件<code class="fe mv mw mx my b">App.js</code>，现在我们需要创建页面和导航栏。</p><p id="8ef3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nm">首页:</em></p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="2419" class="nd lz iq my b gy ne nf l ng nh">//Home.js</span><span id="5252" class="nd lz iq my b gy nl nf l ng nh">import React,{useEffect} from 'react'</span><span id="3f50" class="nd lz iq my b gy nl nf l ng nh">const Home = () =&gt; {<br/>  useEffect(()=&gt; document.title = "Home", [])<br/>  return (<br/>    &lt;div className='home'&gt;<br/>      &lt;h2&gt;Home page&lt;/h2&gt;<br/>      &lt;p&gt;This is the home page! Welcome!&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span><span id="4533" class="nd lz iq my b gy nl nf l ng nh">export default Home</span></pre><p id="03c8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nm">关于页面:</em></p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="9b18" class="nd lz iq my b gy ne nf l ng nh">//About.js</span><span id="72aa" class="nd lz iq my b gy nl nf l ng nh">import React,{useEffect} from 'react'</span><span id="89a0" class="nd lz iq my b gy nl nf l ng nh">const About = () =&gt; {<br/>  useEffect(() =&gt; document.title = 'About',[])<br/>  return (<br/>    &lt;div className='about'&gt;<br/>      &lt;h2&gt;About&lt;/h2&gt;<br/>      &lt;p&gt;We are a company that cares about customers. We do our best here.&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span><span id="4dac" class="nd lz iq my b gy nl nf l ng nh">export default About</span></pre><p id="2ca4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nm">联系人页面:</em></p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="19de" class="nd lz iq my b gy ne nf l ng nh">//Contact.js</span><span id="d9d3" class="nd lz iq my b gy nl nf l ng nh">import React,{useEffect} from 'react'</span><span id="7297" class="nd lz iq my b gy nl nf l ng nh">const Contact = () =&gt; {<br/>  useEffect(() =&gt; document.title = 'Contact',[])<br/> return (<br/>  &lt;div className="contact"&gt;<br/>   &lt;h2&gt;Contact&lt;/h2&gt;<br/>   &lt;p&gt;Get in touch with us by contacting us!&lt;/p&gt;<br/>  &lt;/div&gt;<br/> )<br/>}</span><span id="3d58" class="nd lz iq my b gy nl nf l ng nh">export default Contact</span></pre><p id="c7c8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，我们已经为页面创建了所有组件。让我们创建包含链接的导航栏，单击这些链接可以在页面之间导航。</p><p id="abe5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是代码示例:</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="93a8" class="nd lz iq my b gy ne nf l ng nh">//Nav.js</span><span id="d52c" class="nd lz iq my b gy nl nf l ng nh">import React from 'react'<br/><strong class="my ir">import { Link } from 'react-router-dom'</strong></span><span id="21bb" class="nd lz iq my b gy nl nf l ng nh">const Nav = () =&gt; {<br/> return (<br/>   &lt;nav&gt;<br/>     <strong class="my ir">&lt;Link to='/'&gt;</strong>Home<strong class="my ir">&lt;/Link&gt;</strong><br/>     <strong class="my ir">&lt;Link to='/about'&gt;</strong>About<strong class="my ir">&lt;/Link&gt;</strong><br/><strong class="my ir">     &lt;Link to='/contact'&gt;</strong>Contact<strong class="my ir">&lt;/Link&gt;<br/></strong>   &lt;/nav&gt;<br/> )<br/>}</span><span id="3d37" class="nd lz iq my b gy nl nf l ng nh">export default Nav</span></pre><p id="3ad9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正如你在上面看到的，我们没有使用标签<code class="fe mv mw mx my b">&lt;a&gt;</code>，而是使用了从React路由器包中导入的组件<code class="fe mv mw mx my b">Link</code>。</p><p id="6b60" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">就是这样，现在你只需要添加一些造型，如果你想的话。您可以访问<a class="ae nk" href="https://codesandbox.io/s/pedantic-villani-wshq4?file=/src/Nav.js" rel="noopener ugc nofollow" target="_blank"> Codesandbox </a>中的所有代码。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="a589" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">结论</h1><p id="a2ae" class="pw-post-body-paragraph kv kw iq kx b ky mq jr la lb mr ju ld le ms lg lh li mt lk ll lm mu lo lp lq ij bi translated">如您所见，这只是如何在您的项目中使用React Router的一个简单实用的示例。我喜欢这个库的一点是，你可以在页面之间导航，而不必重新加载。这对性能有好处，因为它不会在你点击链接的时候请求服务器。</p><p id="9620" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">感谢您阅读这篇文章。希望你觉得有用。</p><p id="fff0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">更多阅读</strong></p><div class="nn no gp gr np nq"><a rel="noopener  ugc nofollow" target="_blank" href="/useful-javascript-questions-you-might-face-during-interviews-a7e0d64e3946"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd ir gy z fp nv fr fs nw fu fw ip bi translated">面试中你可能会遇到的有用的JavaScript问题</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">为你接下来的面试准备一些JavaScript问题。</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe kp nq"/></div></div></a></div><p id="482e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae nk" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="nm">更多内容尽在plainenglish.io </em> </a></p></div></div>    
</body>
</html>