<html>
<head>
<title>5 DRY Principles To Follow In React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应中要遵循的5条干燥原则</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/5-dry-principles-to-follow-in-react-6ca0405986a9?source=collection_archive---------0-----------------------#2021-02-23">https://javascript.plainenglish.io/5-dry-principles-to-follow-in-react-6ca0405986a9?source=collection_archive---------0-----------------------#2021-02-23</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="5f7e" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">今天你可以使用的5个有用的技巧！</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/4c9bb7dbf292ad1d02731d9154caa675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xij3fk7xKQn_E1vw-TQsIA.jpeg"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Photo by <a class="ae kw" href="https://unsplash.com/@unthunk?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Lucas Myers</a> on <a class="ae kw" href="https://unsplash.com/s/photos/dry?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2742" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">编程通常被认为是一门手艺，而不是一份工作。这也有很好的理由。作为开发人员，我们应该始终努力实现我们编写的任何软件的最佳质量。作为蓝图，有一些令人敬畏的原则可以遵循。我最喜欢的一个是:<strong class="kz is">“干—不要重复自己”</strong></p><p id="e18c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">今天我将分享我个人用来避免项目中代码重复的5个技巧。</p><h1 id="a803" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">1.HTTP呼叫</h1><p id="fa4b" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">从一些远程存储中获取数据是任何现代React应用程序中最常见的任务之一。初学者在这方面会犯很多错误。下面是一个项目的一般演变</p><h2 id="f75b" class="mq lu ir bd lv mr ms dn lz mt mu dp md lg mv mw mf lk mx my mh lo mz na mj nb bi translated"><strong class="ak">第一步。获取组件</strong>内的数据</h2><p id="0401" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">起初，人们试图在组件内部获取数据。(因为大多数教程向我们展示了这一点)</p><h2 id="bd5f" class="mq lu ir bd lv mr ms dn lz mt mu dp md lg mv mw mf lk mx my mh lo mz na mj nb bi translated"><strong class="ak">第二步。将逻辑抽象到某种存储中</strong></h2><p id="7fd0" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">在这一步中，人们将组件外的逻辑取出，放入商店管理中(如redux或context)。但是代码中还是有很多重复的地方。</p><h2 id="b10c" class="mq lu ir bd lv mr ms dn lz mt mu dp md lg mv mw mf lk mx my mh lo mz na mj nb bi translated"><strong class="ak">如何“干燥”它</strong></h2><p id="1f43" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated"><strong class="kz is">第一种方法:</strong>尝试创建一个单独的<code class="fe nc nd ne nf b">HttpUtility</code>类或者自定义的<code class="fe nc nd ne nf b">useHttp</code>钩子来管理你所有的HTTP调用。您可以使用<code class="fe nc nd ne nf b">axios</code>为您处理远程呼叫部分。但是检测加载状态和处理错误对您来说可能很棘手。</p><p id="8f1f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">更好的方法:</strong>花点时间学习一些很棒的库<code class="fe nc nd ne nf b"><a class="ae kw" href="https://react-query.tanstack.com/overview" rel="noopener ugc nofollow" target="_blank">react-query</a></code>它为您提供了一些很棒的功能，对任何规模的应用程序都有用。</p></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><h1 id="3cc3" class="lt lu ir bd lv lw nn ly lz ma no mc md jx np jy mf ka nq kb mh kd nr ke mj mk bi translated">2.错误处理</h1><p id="3345" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">以我的经验，我在很多地方都见过有人把这搞砸了。通常，在每个组件中调用祝酒词并不是一个好主意。有一些常见的场景，我们想给用户一些反馈。</p><h2 id="0f1b" class="mq lu ir bd lv mr ms dn lz mt mu dp md lg mv mw mf lk mx my mh lo mz na mj nb bi translated">1.HTTP调用中的错误</h2><p id="5079" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">中间件(它们在进入redux存储之前拦截任何动作)非常适合处理大多数错误。截取从HTTP调用返回的错误，并显示一个toast。在我的redux设置中，我是这样做的</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ns nt l"/></div></figure><h2 id="c98f" class="mq lu ir bd lv mr ms dn lz mt mu dp md lg mv mw mf lk mx my mh lo mz na mj nb bi translated">2.组件逻辑错误</h2><p id="6f12" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">我们可以实现<code class="fe nc nd ne nf b"><a class="ae kw" href="https://reactjs.org/docs/error-boundaries.html" rel="noopener ugc nofollow" target="_blank">ErrorBoundary</a></code>捕捉所有与组件加载问题相关的错误的想法。这样我们就不需要到处放空支票了。</p><h2 id="673b" class="mq lu ir bd lv mr ms dn lz mt mu dp md lg mv mw mf lk mx my mh lo mz na mj nb bi translated">3.合法性错误</h2><p id="0ebc" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">我们希望向用户显示错误消息的另一个时候是当用户填写的表单验证出错时。</p><p id="2c32" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">尝试使用某种形式的表单验证库(如<code class="fe nc nd ne nf b">Yup</code>)来处理验证错误，并自动向用户提供反馈。或者你可以使用像<code class="fe nc nd ne nf b"><a class="ae kw" href="https://react-hook-form.com/" rel="noopener ugc nofollow" target="_blank">react-hook-form</a></code>这样的库来帮你做！</p></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><h1 id="0add" class="lt lu ir bd lv lw nn ly lz ma no mc md jx np jy mf ka nq kb mh kd nr ke mj mk bi translated">3.组件的组成</h1><p id="cf0e" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">我想这是显而易见的。但是，开始使用react的人经常无法理解React最强大的特性。那就是<strong class="kz is">可复用组件</strong></p><p id="a33b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">总是试图<strong class="kz is">将组件分解成更小的部分</strong>。它有多重好处。</p><ol class=""><li id="4895" class="nu nv ir kz b la lb ld le lg nw lk nx lo ny ls nz oa ob oc bi translated">它提高了代码质量和可读性</li><li id="911e" class="nu nv ir kz b la od ld oe lg of lk og lo oh ls nz oa ob oc bi translated">相同的UI组件不会在整个项目中重复</li></ol></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><h1 id="870c" class="lt lu ir bd lv lw nn ly lz ma no mc md jx np jy mf ka nq kb mh kd nr ke mj mk bi translated">4.使用自定义挂钩</h1><p id="ed42" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">我个人是hooks的忠实粉丝，我认为新开发人员应该尽早了解这一点。</p><p id="29b9" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">每当任何逻辑被复制，我们想抽象掉逻辑。React为我们提供了类似<strong class="kz is"> HOC(高阶元件)</strong>的解决方案</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ns nt l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Example of HOC</figcaption></figure><p id="880a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">虽然钩子通常用于同样的目的，但它们以一种更干净的方式实现这一目的。前面的代码可以这样重写！</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ns nt l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Example of Hook</figcaption></figure></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><h1 id="22d9" class="lt lu ir bd lv lw nn ly lz ma no mc md jx np jy mf ka nq kb mh kd nr ke mj mk bi translated">5.避免重复的样式</h1><p id="3467" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">造型一直是我的一大痛。我相信这对于其他初学者来说也是一样的。对我来说，作为开发者的进化看起来是这样的。</p><h2 id="ccb9" class="mq lu ir bd lv mr ms dn lz mt mu dp md lg mv mw mf lk mx my mh lo mz na mj nb bi translated"><strong class="ak">第一步。</strong>使用<code class="fe nc nd ne nf b">.css</code>文件对组件进行造型。</h2><p id="1319" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">正如我们所知，如果你不善于组织你的风格文件，你可能会迷失在重复的CSS逻辑中。</p><h2 id="b083" class="mq lu ir bd lv mr ms dn lz mt mu dp md lg mv mw mf lk mx my mh lo mz na mj nb bi translated"><strong class="ak">第二步。在这个阶段，我学会了Sass</strong></h2><p id="41ae" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">它非常适合以模块化的方式编写CSS。它提供了重用CSS代码的能力，并在CSS中引入了mixin和变量的概念。但是，我仍然觉得很难管理。也许这部分是我的错</p><p id="fef2" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">最后，</strong>我遇到了<code class="fe nc nd ne nf b"><a class="ae kw" href="https://styled-components.com/" rel="noopener ugc nofollow" target="_blank">styled-components</a></code>，这是一个很棒的库，可以重用组件的样式。对我来说，这有助于创建更多可读的组件，并且在我的代码中不再有<code class="fe nc nd ne nf b">className</code>！</p><p id="94b0" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">下面是一个运行中的样式化组件的例子</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ns nt l"/></div></figure></div><div class="ab cl ng nh hv ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ik il im in io"><h1 id="2e3b" class="lt lu ir bd lv lw nn ly lz ma no mc md jx np jy mf ka nq kb mh kd nr ke mj mk bi translated">结论</h1><p id="eac7" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">给你。为了遵循React中的DRY原则，您可以将这些技巧应用到您的项目中。这些不是防弹的解决方案，但是理解所有这些工作可以带你走很长的路。</p><p id="432e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果您对高级最佳实践感兴趣，这里有另一篇文章适合您。</p><p id="60d7" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">有话要说？通过</strong> <a class="ae kw" href="https://www.linkedin.com/in/56faisal/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> LinkedIn </strong>联系我</a></p><div class="oi oj gq gs ok ol"><a href="https://betterprogramming.pub/the-7-traits-of-a-rock-star-react-developer-747fbb001c05" rel="noopener  ugc nofollow" target="_blank"><div class="om ab fp"><div class="on ab oo cl cj op"><h2 class="bd is gz z fq oq fs ft or fv fx iq bi translated">摇滚明星React开发者的7个特质</h2><div class="os l"><h3 class="bd b gz z fq oq fs ft or fv fx dk translated">造成差异的习惯</h3></div><div class="ot l"><p class="bd b dl z fq oq fs ft or fv fx dk translated">better编程. pub</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz kq ol"/></div></div></a></div><p id="b8d4" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">祝您愉快！:D</p><p id="4092" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">通过</strong> <a class="ae kw" href="https://www.linkedin.com/in/56faisal/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> LinkedIn </strong> </a> <strong class="kz is">或我的</strong> <a class="ae kw" href="https://www.mohammadfaisal.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is">个人网站</strong> </a> <strong class="kz is">与我取得联系。</strong></p></div></div>    
</body>
</html>