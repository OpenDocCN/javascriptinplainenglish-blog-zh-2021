<html>
<head>
<title>Render React Cards and Images Dynamically</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">动态渲染反应卡和图像</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/render-react-cards-and-images-dynamically-2387434e809d?source=collection_archive---------3-----------------------#2021-08-30">https://javascript.plainenglish.io/render-react-cards-and-images-dynamically-2387434e809d?source=collection_archive---------3-----------------------#2021-08-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f2cc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用JavaScript map()</h2></div><p id="6b79" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基于API响应呈现图像/卡片/元素在React中很常见。响应性地在一行中添加React组件是非常常见的事情。看看下面的例子。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/81084aab89b8211f093a532e3476f025.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UZhhQxpkgZDD3t_m.png"/></div></div></figure><p id="a0c0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以上所有项目都以响应方式加载。我们使用动态渲染的一些常见用例有</p><ul class=""><li id="feb3" class="ln lo iq kh b ki kj kl km ko lp ks lq kw lr la ls lt lu lv bi translated">在主页上呈现一组产品。</li><li id="f2f3" class="ln lo iq kh b ki lw kl lx ko ly ks lz kw ma la ls lt lu lv bi translated">在你的博客上呈现一组相关的博客。</li><li id="2d74" class="ln lo iq kh b ki lw kl lx ko ly ks lz kw ma la ls lt lu lv bi translated">将结果呈现给搜索查询。</li></ul><p id="4ae8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这不是一个脑力型的教程。但是我发现为那些用例找到一个干净和合适的样本代码是非常困难的。所以想到了写一个新的，分享一下。</p><h2 id="84a5" class="mb mc iq bd md me mf dn mg mh mi dp mj ko mk ml mm ks mn mo mp kw mq mr ms mt bi translated">我们将建造什么</h2><p id="46e0" class="pw-post-body-paragraph kf kg iq kh b ki mu jr kk kl mv ju kn ko mw kq kr ks mx ku kv kw my ky kz la ij bi translated">我们将构建一个示例React组件来显示NBA球员数据。我们将从这个任务的现场NBA API获取数据。数据将在卡组件中呈现，为此我们使用react-bootstrap。卡是完全响应的，因此卡将分别适合屏幕尺寸。</p><h2 id="a87a" class="mb mc iq bd md me mf dn mg mh mi dp mj ko mk ml mm ks mn mo mp kw mq mr ms mt bi translated">入门指南</h2><p id="c1ff" class="pw-post-body-paragraph kf kg iq kh b ki mu jr kk kl mv ju kn ko mw kq kr ks mx ku kv kw my ky kz la ij bi translated">使用创建反应应用<br/> <code class="fe mz na nb nc b">npx create-react-app Dynamics</code>创建反应应用</p><p id="6ff2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">初始化react应用程序后，在src文件夹中创建一个名为Components的文件夹。<br/>在组件文件夹中创建一个名为<code class="fe mz na nb nc b">Dynamic.js</code>的新文件</p><p id="6da4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在Dynamic.js内部，让我们调用API并将数据值设置为一个常量。</p><p id="8308" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">导入反应、状态挂钩和效果挂钩</p><pre class="lc ld le lf gt nd nc ne nf aw ng bi"><span id="7d64" class="mb mc iq nc b gy nh ni l nj nk">import React, { useEffect, useState } from 'react'</span></pre><p id="ecb2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建一个名为Dynamic的基本react功能组件</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="df01" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们用一个状态钩子初始化玩家的详细信息。</p><pre class="lc ld le lf gt nd nc ne nf aw ng bi"><span id="0a23" class="mb mc iq nc b gy nh ni l nj nk">const [playerData, setPlayerData] = useState([]);</span></pre><p id="3aa1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你想了解useState钩子，请阅读我关于State钩子的文章。</p><div class="nn no gp gr np nq"><a href="https://levelup.gitconnected.com/learn-react-usestate-hook-a09ccf955537" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd ir gy z fp nv fr fs nw fu fw ip bi translated">学习反应使用状态挂钩</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">有例子和练习</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe ll nq"/></div></div></a></div><p id="b648" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们在那之后添加useEffect钩子</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="6562" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要了解更多关于<code class="fe mz na nb nc b">useEffect</code>钩子的信息，请阅读下面的文章。</p><div class="nn no gp gr np nq"><a rel="noopener  ugc nofollow" target="_blank" href="/react-useeffect-hook-tutorial-for-beginners-30626402b739"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd ir gy z fp nv fr fs nw fu fw ip bi translated">React useEffect Hook初学者教程</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">React useEffect初学者教程，提供真实示例和日常使用模式。</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nz l"><div class="of l ob oc od nz oe ll nq"/></div></div></a></div><p id="cbc3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建了一个名为<code class="fe mz na nb nc b">fetchData </code>的函数来调用API并获取数据。在函数内部，我们使用内置的fetch方法调用了API。</p><p id="16ef" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">之后，我们将响应转换为JSON格式。使用useState钩子，我们使用<code class="fe mz na nb nc b">setPlayerData </code>方法保存了<code class="fe mz na nb nc b">playerData</code>中的前15个元素。</p><h2 id="560d" class="mb mc iq bd md me mf dn mg mh mi dp mj ko mk ml mm ks mn mo mp kw mq mr ms mt bi translated">反应引导</h2><p id="63ee" class="pw-post-body-paragraph kf kg iq kh b ki mu jr kk kl mv ju kn ko mw kq kr ks mx ku kv kw my ky kz la ij bi translated">安装react-bootstrap来创建相应的显示组件。</p><p id="79a8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在npm命令下运行并安装react-bootstrap</p><pre class="lc ld le lf gt nd nc ne nf aw ng bi"><span id="4c83" class="mb mc iq nc b gy nh ni l nj nk">npm install react-bootstrap@next bootstrap@5.1.0</span></pre><p id="d89a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并在app.js中添加以下导入语句</p><pre class="lc ld le lf gt nd nc ne nf aw ng bi"><span id="0795" class="mb mc iq nc b gy nh ni l nj nk">import 'bootstrap/dist/css/bootstrap.min.css';</span></pre><p id="aa2e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在是时候在响应元素中呈现API数据了。从react-bootstrap导入<code class="fe mz na nb nc b">Card, Row, Col, Container</code>。</p><pre class="lc ld le lf gt nd nc ne nf aw ng bi"><span id="6752" class="mb mc iq nc b gy nh ni l nj nk">import { Card, Row, Col, Container } from "react-bootstrap";</span></pre><p id="2319" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在react组件的return语句中添加以下代码。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="050f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们已经使用<code class="fe mz na nb nc b">Container </code>元素和<code class="fe mz na nb nc b">Row</code>包装了整个组件<code class="fe mz na nb nc b">jsx </code>部分。这就是react-bootstrap网格系统应该实现的方式。为了在<code class="fe mz na nb nc b">jsx</code>中呈现javascript，我们使用了<code class="fe mz na nb nc b">{}</code>。在括号内，我们使用<code class="fe mz na nb nc b">.map</code>方法循环<code class="fe mz na nb nc b">playerData</code>元素。</p><p id="8ffe" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用react-bootstrap <code class="fe mz na nb nc b">&lt;Col key={k} md={2}&gt;</code>标签，我们已经为组件赋予了响应特性。</p><p id="d43e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">关于react-bootstrap网格系统的更多细节可以在下面的官方文档中找到。</p><div class="nn no gp gr np nq"><a href="https://react-bootstrap.github.io/layout/grid/" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd ir gy z fp nv fr fs nw fu fw ip bi translated">反应引导</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">Bootstrap的网格系统使用一系列容器、行和列来布局和对齐内容。它是由…</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">react-bootstrap.github.io</p></div></div></div></a></div><p id="3a11" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过使用map函数，我们遍历API数据，并使用这些数据来填充引导卡。</p><div class="nn no gp gr np nq"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd ir gy z fp nv fr fs nw fu fw ip bi translated">array . prototype . map()—JavaScript | MDN</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">该方法创建一个新数组，该数组填充了对中的每个元素调用提供的函数的结果…</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">developer.mozilla.org</p></div></div><div class="nz l"><div class="og l ob oc od nz oe ll nq"/></div></div></a></div><p id="2efa" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最终确定的<code class="fe mz na nb nc b">Dynamic.js</code>代码看起来是这样的。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="3a2c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，该卡可以在大、中、小屏幕上快速显示。在bootstrap中，整个屏幕宽度被视为12个单位。在中等大小的屏幕中，一个卡组件的宽度为4个单位。因此，将有3张卡片排成一行，填满整个12个单元。同样，在每个屏幕上，我们已经给出了卡片应该具有的宽度。</p><p id="3b79" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将<code class="fe mz na nb nc b">Dynamic.js</code>组件添加到app.js文件中，并运行npm start。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="b9d4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">桌面视图</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi oh"><img src="../Images/863b32544ea60001206e7634946d004c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SFloa1qI5onbS3Qc4KX7BA.png"/></div></div></figure><p id="6196" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">mobile中的视图可以这样看</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/31e24048cf4f8679b056c17e8e4ae195.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*1BBcMskFg4tx4TkkLEQNqw.png"/></div></figure><p id="db19" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="oj">更多内容请看</em><a class="ae ok" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="oj">plain English . io</em></strong></a></p></div></div>    
</body>
</html>