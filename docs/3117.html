<html>
<head>
<title>How to Lift State Up in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在反应中提升状态</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lifting-state-up-in-react-e54e3167c008?source=collection_archive---------15-----------------------#2021-06-24">https://javascript.plainenglish.io/lifting-state-up-in-react-e54e3167c008?source=collection_archive---------15-----------------------#2021-06-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="34cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为我在一次面试中被问到这个问题😁✌️</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/5d7281ae2c36454cc3cda8cf98c0d7cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0bwwm-dtkbhPZcqQ"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@daveballew?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">David Ballew</a> on <a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="fd52" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在后台</h2><p id="4761" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">几天前，在写这篇博客的时候，采访者问了我这个问题— <em class="ma">“告诉我更多关于在React中提升状态的信息？”</em></p><p id="13ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我阅读它时，它是关于为组件中的每个状态或数据添加一个真实的单一来源，并将道具传递给最近的祖先以维护组件中的更新数据的完整概念。起初，这种说法听起来很难理解。所以，在今天的故事中，让我们来理解在React中提升状态。</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h2 id="daaf" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">意识形态</h2><p id="5166" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">React遵循单向数据流的概念，这意味着数据在DOM树中只能从上到下流动。您有一个带有2个子组件的父组件，因此数据或状态将从父组件流向第一个直接子组件，或者在React中的同级组件内流动。</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h2 id="54f9" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">问题陈述</h2><p id="a0ec" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">数据总是从父组件流向子组件。现在，每个子组件都将自己的更新数据保存在自己的状态中，在这种情况下，兄弟组件如何知道彼此的最新状态。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mi"><img src="../Images/f5a2abf5bfb8d161aac23aef0d26b7d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MIhBsPuA5LDU2ZYRXvVZVA.png"/></div></div></figure><p id="6bbc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，我们有一个父组件和两个子组件，两个子组件都有一个以各自单位表示温度的输入。我们知道每个输入都有自己的状态，以各自的单位保存输入值，还有一个<code class="fe mj mk ml mm b"><strong class="jp ir">onChange</strong></code>方法更新本地状态。</p><p id="2edb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">问题是—</p><ul class=""><li id="cbda" class="mn mo iq jp b jq jr ju jv jy mp kc mq kg mr kk ms mt mu mv bi translated">你将如何确保<code class="fe mj mk ml mm b"><strong class="jp ir">Child A</strong></code>和<code class="fe mj mk ml mm b"><strong class="jp ir">Child B</strong></code>对彼此状态的输入值保持警惕？</li><li id="6e49" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated">他们将如何互相交谈，互相传递本地状态信息？</li><li id="35c8" class="mn mo iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated">他们怎么知道<code class="fe mj mk ml mm b"><strong class="jp ir">Child A</strong></code>的温度状态是某个X或Y值，反之亦然？</li></ul></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h2 id="0015" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">解决办法</h2><p id="9ba6" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">一旦我们理解了问题，我们就可以阅读并执行解决方案。解决方案在于在React中提升状态的概念😁。请记住，我已经告诉过您，React遵循单一真实来源的概念，数据总是单向流动。</p><p id="9681" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个确切的概念，我们将在这里使用它来理解问题，并写出它的解决方案。</p><p id="fd8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们唯一的真实来源是父组件。父组件将知道每个子组件中发生的一切，所以父组件当然应该放在我们最新数据应该存在的地方。</p><p id="85a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每个孩子不应该保存和更新他的存储最新温度值的本地状态。相反，父组件应该存储本地状态，并将温度值及其onChange方法传递给相应的子组件。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mi"><img src="../Images/9554b1fc2ac422499dc5de6295b399fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*937UOEwxb2QjpxrPFFoUGQ.png"/></div></div></figure><p id="5dbb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">父组件将存储温度值并定义温度变化方法，我们只需将温度状态及其方法作为道具传递给子组件。</p><p id="6a7d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在每个子元素中，我们将使用其属性中的温度值，并更新温度值，我们可以简单地调用属性本身中传递的方法<code class="fe mj mk ml mm b"><strong class="jp ir">onTemperatureChange</strong></code>。</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h2 id="24f4" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">结论</h2><p id="a0dc" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">将状态从本地子组件提升到最近的祖先在React中称为提升状态。这很简单，我们在日常生活中经常使用，但我们不知道用来指代它的专业术语。</p><p id="d71d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望你明白这个概念。下次见！祝大家愉快，别忘了跟着我。</p><pre class="km kn ko kp gt nb mm nc nd aw ne bi"><span id="2f3e" class="lc ld iq mm b gy nf ng l nh ni">For more such stories, visit our website 💻 <a class="ae lb" href="http://www.ihatereading.in" rel="noopener ugc nofollow" target="_blank"><strong class="mm ir">iHateReading</strong></a></span></pre></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h2 id="5bcc" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">更多阅读</h2><div class="nj nk gp gr nl nm"><a href="https://medium.com/geekculture/13-steps-for-perfect-authentication-flow-in-backend-4fad7dce0e0" rel="noopener follow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd ir gy z fp nr fr fs ns fu fw ip bi translated">后端完美认证流程的13个步骤</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">我把我的应用服务器当作一个俱乐部聚会，只需13个步骤就能开发出完美的认证流程</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">medium.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa kv nm"/></div></div></a></div><div class="nj nk gp gr nl nm"><a href="https://medium.com/nerd-for-tech/5-minutes-read-to-add-github-authentication-via-express-servers-6dd764818124" rel="noopener follow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd ir gy z fp nr fr fs ns fu fw ip bi translated">5分钟阅读通过Express服务器添加Github认证</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">不能从浏览器访问Github API，下面是在前端添加Github认证的方法。</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">medium.com</p></div></div><div class="nv l"><div class="ob l nx ny nz nv oa kv nm"/></div></div></a></div><div class="nj nk gp gr nl nm"><a href="https://medium.com/nerd-for-tech/perfect-ui-library-with-react-813f41704584" rel="noopener follow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd ir gy z fp nr fr fs ns fu fw ip bi translated">用React完善UI库</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">我们来讨论一下用react完善UI库即Material UI库及其与Next JS的安装。</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">medium.com</p></div></div><div class="nv l"><div class="oc l nx ny nz nv oa kv nm"/></div></div></a></div><p id="1d80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ma">更多内容尽在</em><a class="ae lb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="ma">plain English . io</em></strong></a></p></div></div>    
</body>
</html>