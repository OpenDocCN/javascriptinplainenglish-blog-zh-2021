<html>
<head>
<title>Let’s Create a Chrome Extension To Add New Features To Medium</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们创建一个Chrome扩展来为Medium添加新功能</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-create-a-chrome-extension-to-add-new-features-to-medium-3da288af710e?source=collection_archive---------13-----------------------#2021-02-25">https://javascript.plainenglish.io/lets-create-a-chrome-extension-to-add-new-features-to-medium-3da288af710e?source=collection_archive---------13-----------------------#2021-02-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b1a0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我们将学习chrome扩展的基础知识，以及如何将today特性添加到中型开源Chrome扩展中</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9afb2d35772e02a9400de3e1d5146f82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jMX4rKWgkYWBxE1GjhIKSg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@josef_photography?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Daniel Josef</a> on <a class="ae kv" href="https://unsplash.com/s/photos/technology?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="4ce7" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">什么是Chrome扩展？</h1><p id="c65e" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">谷歌<strong class="lq ir"> Chrome扩展</strong>是可以安装到<strong class="lq ir"> Chrome </strong>中以改变浏览器功能的程序。这包括为<strong class="lq ir"> Chrome </strong>添加新功能，或者修改程序本身的现有行为，使其对用户更方便。(<a class="ae kv" href="https://www.bleepingcomputer.com/tutorials/understanding-google-chrome-extensions/#:~:text=Google%20Chrome%20Extensions%3F-,What%20is%20a%20Google%20Chrome%20Extension%3F,more%20convenient%20for%20the%20user." rel="noopener ugc nofollow" target="_blank">来源</a>)</p><h1 id="d834" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">中等增强统计</h1><p id="d165" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><a class="ae kv" href="https://chrome.google.com/webstore/detail/medium-enhanced-stats/jnomnfoenpdinfkpaaigokicgcfkomjo" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir">中等增强Stats</strong></a><strong class="lq ir"/>chrome扩展由<a class="ae kv" href="https://twitter.com/tomastrajan" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir"> Tomas Trajan </strong> </a>创建。这是所有作家必备的扩展。这个扩展允许用户看到许多统计数据，包括<strong class="lq ir">浏览量、阅读量、阅读率、粉丝数、鼓掌数、粉丝与鼓掌数之比，以及发布的故事或回复总数</strong>。这里的 可以找到<a class="ae kv" href="https://github.com/tomastrajan/medium-enhanced-stats" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir">的代码。</strong></a></p><h1 id="885b" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">如何安装Chrome扩展</h1><ol class=""><li id="040f" class="mk ml iq lq b lr ls lu lv lx mm mb mn mf mo mj mp mq mr ms bi translated">打开<a class="ae kv" href="https://chrome.google.com/webstore" rel="noopener ugc nofollow" target="_blank"> Chrome网络商店</a>。</li><li id="d40b" class="mk ml iq lq b lr mt lu mu lx mv mb mw mf mx mj mp mq mr ms bi translated">查找并选择所需的扩展名。</li><li id="0bac" class="mk ml iq lq b lr mt lu mu lx mv mb mw mf mx mj mp mq mr ms bi translated">点击<code class="fe my mz na nb b">Add to Chrome</code>。</li><li id="5f8b" class="mk ml iq lq b lr mt lu mu lx mv mb mw mf mx mj mp mq mr ms bi translated">有些扩展会让你知道他们是否需要某些权限或数据。若要批准，请单击“添加扩展”</li></ol><p id="be6b" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated">要了解更多信息，请访问官方文档<a class="ae kv" href="https://support.google.com/chrome_webstore/answer/2664769?hl=en" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><h1 id="4ab8" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">Chrome扩展是如何工作的</h1><p id="c4fe" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">有多个文件使Chrome扩展能够工作。</p><ol class=""><li id="9a96" class="mk ml iq lq b lr nc lu nd lx nh mb ni mf nj mj mp mq mr ms bi translated"><code class="fe my mz na nb b">manifest.json</code>:这个文件包含了关于扩展名、名称、版本、权限和其他属性的重要信息。</li><li id="6f4c" class="mk ml iq lq b lr mt lu mu lx mv mb mw mf mx mj mp mq mr ms bi translated"><code class="fe my mz na nb b">background.js</code>:这个文件可以称为我们扩展的<strong class="lq ir">数据</strong>层。在这个文件中，我们让API调用获取数据。</li><li id="e08c" class="mk ml iq lq b lr mt lu mu lx mv mb mw mf mx mj mp mq mr ms bi translated"><code class="fe my mz na nb b">stats-total.js</code>:这个文件是我们扩展的<strong class="lq ir">视图</strong>层。我们向<code class="fe my mz na nb b">background.js</code>文件传递一条消息来触发API调用，当我们得到响应时，我们将它显示给用户。</li><li id="36be" class="mk ml iq lq b lr mt lu mu lx mv mb mw mf mx mj mp mq mr ms bi translated"><code class="fe my mz na nb b">stats-total.css</code>:这个文件包含了我们扩展的样式。</li></ol><p id="d211" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated">你也可以浏览我们的视频。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h1 id="3625" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">如何安装自定义Chrome扩展</h1><p id="1309" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">从<a class="ae kv" href="https://github.com/tomastrajan/medium-enhanced-stats" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir">这里</strong> </a>下载原始代码，并执行以下操作在浏览器中加载扩展。</p><ol class=""><li id="01bf" class="mk ml iq lq b lr nc lu nd lx nh mb ni mf nj mj mp mq mr ms bi translated">在目标Chrome浏览器中进入<code class="fe my mz na nb b">chrome://extensions</code>，通过右上角的复选框<strong class="lq ir">启用“开发者模式”</strong>。</li><li id="7502" class="mk ml iq lq b lr mt lu mu lx mv mb mw mf mx mj mp mq mr ms bi translated">按下<strong class="lq ir">“加载未打包的扩展……”</strong>并选择包含扩展代码的文件夹。</li></ol><p id="b1b2" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated">在进入编码部分之前，让我们检查一下我们目前有什么，需要添加什么。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/e27c23e1a9cb6e6c709e2a45c8002700.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6x19AGiEJJ1CsuHziYHGSw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Original Medium Stat</figcaption></figure><p id="2568" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated">上图显示了一个用户的中等增强状态。在这里，我们将添加今天的统计数据，即浏览量，阅读量，粉丝数和掌声。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/142c9ef7362042a85358599a9b965607.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZKXsuOZ7kVmnVOIffycIPg.png"/></div></div></figure><div class="no np gp gr nq nr"><a href="https://medium.com/dev-genius/enhancing-the-medium-enhanced-stats-chrome-extension-c99c1d251240" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">增强中等增强统计铬扩展</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">我为任何关心统计数据的媒体作者添加了一个必备扩展的新功能！</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">medium.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of kp nr"/></div></div></a></div><h1 id="8765" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">添加功能</h1><p id="37ea" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">整个过程在这个视频里有解释。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Improved Medium Enhanced Stats</figcaption></figure><p id="9923" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated">我们的目标是获取今天所有文章的浏览量和阅读量。</p><p id="390d" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated"><strong class="lq ir">步骤1: </strong>我们从<code class="fe my mz na nb b">stats-total.js</code>向<code class="fe my mz na nb b">background.js</code>发送一条消息，获取今天的所有帖子数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="og nl l"/></div></figure><p id="94d2" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated"><strong class="lq ir">步骤2 </strong>:在<code class="fe my mz na nb b">background.js</code>文件中，我们添加了一个监听器，如果我们得到的消息是<code class="fe my mz na nb b">GET_POST_STATS_TODAY</code>，我们就调用<code class="fe my mz na nb b">handleGetPostStatsToday</code>方法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="og nl l"/></div></figure><p id="1e96" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated"><strong class="lq ir">步骤3: </strong>在<code class="fe my mz na nb b">handleGetPostStatsToday</code>函数中，我们调用后端API来按时间获取帖子统计数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="og nl l"/></div></figure><p id="7ac5" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated"><strong class="lq ir">第四步:</strong>在<code class="fe my mz na nb b">calculatePostStats</code>函数中，我们将日期作为<code class="fe my mz na nb b">key</code>，返回一个名为<code class="fe my mz na nb b">result</code>的对象，并带有<code class="fe my mz na nb b">views,reads,fans,claps</code>属性。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="og nl l"/></div></figure><p id="01d3" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated"><strong class="lq ir">第四步</strong>:在<code class="fe my mz na nb b">updateTableSummary</code>功能中，在表格中增加以下一行。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="og nl l"/></div></figure><p id="4d81" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated"><strong class="lq ir">步骤5: </strong>在<code class="fe my mz na nb b">loadPostStatsToday</code>方法中，我们得到今天的统计数据。我们还在UI中设置了统计数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="og nl l"/></div></figure><p id="82cc" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated">万岁！！！！现在，重新加载chrome扩展，你就可以看到变化了。</p><h1 id="b890" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated"><strong class="ak">恭喜</strong></h1><p id="4722" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">你在中等增强状态chrome扩展中增加了一个新特性。现在，您可以随意试验这段代码，并自己构建许多很酷的特性。从这里下载完整的代码并安装chrome扩展。</p><p id="6fef" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated">代码可以在这里找到。</p><div class="no np gp gr nq nr"><a href="https://github.com/tomastrajan/medium-enhanced-stats" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">托马斯·斯特拉扬/中等-增强-统计</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">谷歌浏览器扩展增强中等统计！通过新的表格摘要行深入了解总视图数…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">github.com</p></div></div><div class="oa l"><div class="oh l oc od oe oa of kp nr"/></div></div></a></div><p id="255f" class="pw-post-body-paragraph lo lp iq lq b lr nc jr lt lu nd ju lw lx ne lz ma mb nf md me mf ng mh mi mj ij bi translated"><em class="oi">阅读更多在</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lq ir"><em class="oi">plain English . io</em></strong></a></p></div></div>    
</body>
</html>