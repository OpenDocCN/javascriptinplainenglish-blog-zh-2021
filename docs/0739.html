<html>
<head>
<title>How to implement and use Swagger in Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Node.js中实现和使用Swagger</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-implement-and-use-swagger-in-nodejs-d0b95e765245?source=collection_archive---------0-----------------------#2021-02-15">https://javascript.plainenglish.io/how-to-implement-and-use-swagger-in-nodejs-d0b95e765245?source=collection_archive---------0-----------------------#2021-02-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/a0008819cf9d7555be27e9baf3c99b76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_jWH_5iO17G1qUPxlxVlVw.jpeg"/></div></div></figure><div class=""/><h1 id="ea0f" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">OpenAPI</h1><p id="9592" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">OpenAPI 定义了一些使用的标准；</p><ul class=""><li id="c5a7" class="lr ls iy kv b kw lt la lu le lv li lw lm lx lq ly lz ma mb bi translated">对于RESTful web服务器的设计，</li><li id="09cc" class="lr ls iy kv b kw mc la md le me li mf lm mg lq ly lz ma mb bi translated">为了测试API，不需要访问源代码，</li><li id="05b5" class="lr ls iy kv b kw mc la md le me li mf lm mg lq ly lz ma mb bi translated">用于API的文档化</li></ul><p id="a25f" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">你可以用<em class="mk"> OpenAPI </em>通知你的API的用户关于</p><ul class=""><li id="c0af" class="lr ls iy kv b kw lt la lu le lv li lw lm lx lq ly lz ma mb bi translated">端点</li><li id="f647" class="lr ls iy kv b kw mc la md le me li mf lm mg lq ly lz ma mb bi translated">CRUD操作</li><li id="145d" class="lr ls iy kv b kw mc la md le me li mf lm mg lq ly lz ma mb bi translated">认证方法</li><li id="35d3" class="lr ls iy kv b kw mc la md le me li mf lm mg lq ly lz ma mb bi translated">联系信息</li></ul><h1 id="df8d" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">时髦的</h1><p id="8e1f" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">Swagger是一套围绕<em class="mk"> OpenAPI </em>规范构建的开源软件工具，我们可以用它来构建、记录和测试我们的API。</p><p id="13be" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">你可以从它的网站上获得更多关于Swagger的信息。</p><p id="85ae" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">在这篇文章中，我将谈到；</p><ul class=""><li id="1dcb" class="lr ls iy kv b kw lt la lu le lv li lw lm lx lq ly lz ma mb bi translated">如何在用Node.js构建的RESTful web服务器上实现Swagger</li><li id="21af" class="lr ls iy kv b kw mc la md le me li mf lm mg lq ly lz ma mb bi translated">Swagger UI</li><li id="59ae" class="lr ls iy kv b kw mc la md le me li mf lm mg lq ly lz ma mb bi translated">API文档</li></ul><p id="32ba" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">我将继续讲述，假设你至少在基本水平上熟悉<strong class="kv iz"> Node.js </strong>和<strong class="kv iz"> RESTful API </strong>概念，我将使用<strong class="kv iz"> VS Code </strong>作为代码编辑器。</p><p id="9ac7" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">首先让我们创建一个RESTful web服务器:</p><p id="de36" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">我将光标导航到我将在终端中创建项目的文件，我正在使用以下命令创建<strong class="kv iz"> package.json </strong>文件:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="3ee3" class="mv jw iy mr b gy mw mx l my mz">npm init --y</span></pre><p id="8b0c" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">因为我不会在项目中使用数据库，所以让我们创建假数据。为此，我创建了一个名为<strong class="kv iz"> data.js </strong>的文件，并添加了一个由一些<strong class="kv iz"> JSON </strong>格式的信息组成的数组。假数据的情况是一些作者和他们的文章。</p><figure class="mm mn mo mp gt ip"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">data.js file</figcaption></figure><p id="12f1" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">现在让我们添加创建服务器所必需的包:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="8409" class="mv jw iy mr b gy mw mx l my mz">npm install express cors morgan body-parser dotenv</span></pre><p id="b970" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">为了语法的方便；</p><p id="c757" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">让我们将<strong class="kv iz">巴别塔</strong>模块添加到项目中:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="f0e2" class="mv jw iy mr b gy mw mx l my mz">npm install @babel/core @babel/node @babel/preset-env</span></pre><p id="2e7f" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated"><strong class="kv iz"> <em class="mk"> ii </em> ) </strong>让我们创建<strong class="kv iz">。babelrc </strong>文件并添加以下代码:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="298e" class="mv jw iy mr b gy mw mx l my mz">{<br/>  “presets”: [“@babel/preset-env”]<br/>}</span></pre><p id="130d" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">最后，让我们将以下代码添加到<em class="mk"> package.json </em>文件中的<strong class="kv iz">脚本字段</strong>中。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="f9e7" class="mv jw iy mr b gy mw mx l my mz">“start”: “nodemon — exec babel-node src/index.js”,</span></pre><p id="d486" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">如果你的电脑里没有<strong class="kv iz"> nodemon </strong>，我建议全球安装。</p><p id="d585" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">然后让我们创建<strong class="kv iz"> src/index.js </strong>文件并添加以下代码:</p><figure class="mm mn mo mp gt ip"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="0a72" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">如你所见，我们将从端点为<strong class="kv iz"> /posts </strong>的<em class="mk"> index.js </em>文件到达包含API的<strong class="kv iz"> posts.js </strong>文件。</p><p id="5828" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">现在让我们创建<em class="mk"> posts.js </em>文件，并向其中添加<strong class="kv iz"> CRUD </strong>操作:</p><figure class="mm mn mo mp gt ip"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">the posts.js file</figcaption></figure><p id="9aeb" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">在最后一种情况下，项目文件应该如下所示:</p><figure class="mm mn mo mp gt ip gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/c278be6c6d66055f73839ed09ee49fe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:416/format:webp/1*0agbV4e0wMdG6M8PpiQeJQ.jpeg"/></div></figure><p id="3517" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">现在我们有了一个运行在4001端口上的RESTful web服务器。您可以简单地用<strong class="kv iz"> npm start </strong>命令运行它。你可以用<strong class="kv iz"> Postman </strong>测试CRUD操作。</p><p id="9bb2" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">也许你会发现用<em class="mk">邮递员</em>测试API有点复杂。斯瓦格上场了。</p><h1 id="06ab" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">为项目增加霸气</h1><p id="c105" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">首先，让我们安装文档和用户界面(UI)所需的两个模块:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="89a3" class="mv jw iy mr b gy mw mx l my mz">npm install swagger-jsdoc swagger-ui-express</span></pre><p id="5760" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">我正在将这两个模块导入到<strong class="kv iz"> index.js </strong>文件中:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="d386" class="mv jw iy mr b gy mw mx l my mz">import swaggerUI from “swagger-ui-express”;<br/>import swaggerJsDoc from “swagger-jsdoc”;</span></pre><p id="51a4" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">现在，在<em class="mk"> index.j </em>中，让我们为API的文档和<em class="mk">swag UI</em>的实现做一些必要的定义:</p><figure class="mm mn mo mp gt ip"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="2097" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated"><strong class="kv iz">选项</strong>变量是一个<em class="mk"> OpenAPI </em>对象。可以用这个给出一些关于API的信息(标题、版本信息、联系信息等。).</p><p id="b0bc" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">更多信息请点击<a class="ae ml" href="https://swagger.io/specification/#oas-document" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><p id="ded5" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">我们看到只有一行代码才能实现。</p><p id="300f" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">当我们在显示屏上看到<strong class="kv iz">定义</strong>字段下的定义时会更清楚。请注意，服务器URL和API是在<em class="mk">选项</em>变量中指定的。</p><p id="0797" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">现在我们可以在运行服务器后用<strong class="kv iz"> /api-docs </strong>端点显示<em class="mk">swag UI</em>:</p><figure class="mm mn mo mp gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nh"><img src="../Images/74e0c3092cf27a931802faa7f38a946f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cVk7lDvBYyfCU5Otoz-53w.jpeg"/></div></div></figure><p id="52af" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">现在我们可以在<em class="mk">斯瓦格</em>屏幕上的<strong class="kv iz">Routes/post . js</strong>文件中制作显示和运行我们的API的规范。我们使用<strong class="kv iz"> JSON </strong>格式来定义<em class="mk"> index.js </em>文件中的<em class="mk">选项</em>变量。但是对于<em class="mk">模式</em>的定义，我们将使用<strong class="kv iz"> YAML </strong>格式。(两种格式都可以使用)。</p><h1 id="90de" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">组件对象</h1><p id="d4d4" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">我从定义<strong class="kv iz">组件对象</strong>开始。该对象被定义用于文档的各个部分。我们可以说这是我们将要使用的数据的一个模式。除非它不会被文档的任何属性调用，否则它对API没有影响。</p><figure class="mm mn mo mp gt ip"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="41c9" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">更多关于如何为<em class="mk"> Components Object添加更多属性的信息，请点击</em>链接<a class="ae ml" href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.3.md#components-object" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="cb3d" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">标签</h1><figure class="mm mn mo mp gt ip"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="b149" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">借助斯瓦格的<strong class="kv iz">标签</strong>功能，我们可以创建一个<em class="mk">标签</em>列表，通过该列表我们可以区分斯瓦格界面上的哪个功能属于哪个数据。因为我们有只属于<em class="mk">帖子</em>数据的API，所以不会有关于API函数的混淆。但是在包含与多种数据相关的API的文档中，<em class="mk">标签</em>是不可避免的。</p><p id="a8cc" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">让我们通过另一个RESTful API文档的截图来更好地理解标签问题:</p><figure class="mm mn mo mp gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nh"><img src="../Images/931a40039ab8bc757046314c790bd6a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V9_JlTvGPP8gXgzew1jnPA.jpeg"/></div></div></figure><p id="7128" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">我们的用户界面看起来还像这样:</p><figure class="mm mn mo mp gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nh"><img src="../Images/30313d319cec8f60431dd8fa7ee46fd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q2uOGiXy5jWfVIJhfN7qQw.jpeg"/></div></div></figure><h1 id="111b" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">HTTP方法的文档</h1><h2 id="5aa7" class="mv jw iy bd jx ni nj dn kb nk nl dp kf le nm nn kj li no np kn lm nq nr kr ns bi translated">GET方法</h2><p id="a249" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">让我们从<strong class="kv iz"> GET </strong>操作的文档开始:</p><figure class="mm mn mo mp gt ip"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="9774" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">如果需要谈论，首先我们指定端点:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="7619" class="mv jw iy mr b gy mw mx l my mz">/posts</span></pre><p id="a683" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">然后我们添加了一个描述，并指定它属于哪个标签。然后我们添加了<strong class="kv iz">回复</strong>信息。</p><p id="a071" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">更多关于HTTP方法的文档资料，可以查看<a class="ae ml" href="https://swagger.io/docs/specification/paths-and-operations/" rel="noopener ugc nofollow" target="_blank">这个链接</a>。</p><p id="6fa6" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">关于<em class="mk">响应对象</em>的更多信息，可以查看<a class="ae ml" href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.3.md#responses-object" rel="noopener ugc nofollow" target="_blank">这个链接</a>。</p><p id="67b0" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">我们会看到<em class="mk"> GET </em>功能已经添加到<em class="mk"> Swagger UI </em>上的<strong class="kv iz"> Posts标签</strong>中:</p><figure class="mm mn mo mp gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nh"><img src="../Images/5dccce74f42cfbff07ceebc1c769c65f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oHhPPv1MbTWlagZ3qIgkPA.jpeg"/></div></div></figure><h2 id="c531" class="mv jw iy bd jx ni nj dn kb nk nl dp kf le nm nn kj li no np kn lm nq nr kr ns bi translated">带参数的GET方法</h2><p id="57d0" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">现在，让我们为通过id调用单个帖子的函数制作文档:</p><figure class="mm mn mo mp gt ip"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="a156" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">注意，与前一个不同，id是作为<strong class="kv iz"> /posts / {id} </strong>添加到路径中的。因为我们现在需要函数中的一个参数来调用一篇文章的id，所以文档中增加了一个<strong class="kv iz">参数对象</strong>。由于我们在访问API时选择了“将参数添加到路径”的方法，下面的语句包含在<em class="mk">参数</em>字段下。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="4b83" class="mv jw iy mr b gy mw mx l my mz">-in : path</span></pre><p id="6f6d" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">也可以用不同的方式来实现。</p><p id="c5c6" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">关于<em class="mk">参数对象</em>的更多信息，可以查看<a class="ae ml" href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.3.md#parameter-object" rel="noopener ugc nofollow" target="_blank">这个链接</a>。</p><p id="b1dd" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">通过id参数调用数据的<em class="mk"> GET </em>方法在接口中将是这样的:</p><figure class="mm mn mo mp gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nh"><img src="../Images/1f0d845ab324acfc3f40a17d01481c3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WYFYKjOAmrAoxSY4y7y-ig.jpeg"/></div></div></figure><h2 id="0eff" class="mv jw iy bd jx ni nj dn kb nk nl dp kf le nm nn kj li no np kn lm nq nr kr ns bi translated">过帐方法</h2><p id="29a2" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">现在让我们制作向当前数据添加新帖子的<strong class="kv iz"> POST </strong>方法的文档:</p><figure class="mm mn mo mp gt ip"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="ba65" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">有了上面的文档，下面显示的<strong class="kv iz">发布按钮</strong>(绿色的)将被添加到Swagger界面中:</p><figure class="mm mn mo mp gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nh"><img src="../Images/02c2991e468a77d008f4f101d21bc1d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KpCrWVenwm-PMPP1joD9iw.jpeg"/></div></div></figure><p id="000d" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">当我们查看文档时，我们会看到<strong class="kv iz"> requestBody </strong>字段，与其他字段不同。这为我们提供了一个区域，我们可以在<em class="mk"> Swagger UI </em>的<em class="mk"> POST </em>函数中创建一个新帖子。当点击<strong class="kv iz">试用</strong>按钮时，该区域将打开。我们在开始时定义的模式中的一个示例<em class="mk"> post对象</em>在这个区域中是默认的。如果需要，可以更改示例中的字段。</p><p id="4e8d" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">关于<em class="mk">请求体</em>的更多信息，可以查看<a class="ae ml" href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.3.md#operation-object" rel="noopener ugc nofollow" target="_blank">这个链接</a>。</p><h2 id="e18c" class="mv jw iy bd jx ni nj dn kb nk nl dp kf le nm nn kj li no np kn lm nq nr kr ns bi translated">PUT方法</h2><p id="ad24" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">众所周知，在<em class="mk"> RESTful </em>方法中，使用<strong class="kv iz"> PUT </strong>功能更新现有数据。为此，通常需要待更新数据的id。因此，我们在<em class="mk"> PUT </em>函数的文档中添加了一个参数字段，并在<em class="mk"> / post </em>结束点之后添加了表达式{id}。为了更新用其参数捕获的数据的属性，我们在<em class="mk"> POST </em>函数中添加了<em class="mk"> requestBody </em>。对于不存在属于输入的id信息的数据的情况，我们将<strong class="kv iz"> 404 </strong>响应添加到响应部分:</p><figure class="mm mn mo mp gt ip"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="71c3" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated"><em class="mk">在<em class="mk">霸气</em>显示屏上进行</em>操作如下:</p><figure class="mm mn mo mp gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nh"><img src="../Images/c640f1a1a63a0298f8aeb0a562e1838f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C-1B7L5EgdKdkJrXOuILFw.jpeg"/></div></div></figure><h2 id="f464" class="mv jw iy bd jx ni nj dn kb nk nl dp kf le nm nn kj li no np kn lm nq nr kr ns bi translated">删除方法</h2><p id="ac3a" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">通常只给函数一个id就足以删除数据。我们也是。为此，我们将参数字段和显示响应的响应字段添加到文档中:</p><figure class="mm mn mo mp gt ip"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="4bd9" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated"><em class="mk">删除</em>操作在<em class="mk">霸气</em>显示屏上会是这样的:</p><figure class="mm mn mo mp gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nh"><img src="../Images/71d7a9c3074c2455a139fc8eb0fcdc8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YlO0oVQ3zqJdpH9d4d67PQ.jpeg"/></div></div></figure><h1 id="e233" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">结论</h1><p id="5783" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">在本文中，我们讨论了如何使用<strong class="kv iz"> OpenAPI </strong>方法在<strong class="kv iz"> Node.js </strong>中创建的web服务器中记录<strong class="kv iz"> RESTful API </strong>。我们讨论了在<strong class="kv iz">swag UI</strong>上可以进行哪些设置来查看该文档。我们一起创建了一个模型项目。</p><p id="920e" class="pw-post-body-paragraph kt ku iy kv b kw lt ky kz la lu lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">您可以通过以下<a class="ae ml" href="https://github.com/azizkale/Swagger-in-NodeJS" rel="noopener ugc nofollow" target="_blank"> Github链接</a>访问该项目。</p></div></div>    
</body>
</html>