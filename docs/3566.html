<html>
<head>
<title>JavaScript—The Basics of Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript—函数的基础</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-basics-of-functions-780dca10c81a?source=collection_archive---------8-----------------------#2021-07-17">https://javascript.plainenglish.io/javascript-basics-of-functions-780dca10c81a?source=collection_archive---------8-----------------------#2021-07-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="7256" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">JavaScript中的函数——对初学者的全面介绍</h2></div><p id="4c81" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">JavaScript中的函数是可以定义的代码段，需要时可以调用。它们可以被认为是整个程序中的子程序。函数很有用，因为它们允许程序员编写一段代码，然后可以在整个程序中多次使用，这有助于减少代码重复。函数还允许程序员创建离散的代码段，这些代码段可以在逻辑上与程序中的其他代码分开。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi kz"><img src="../Images/73d43cfc9f46f3fdfcdf81e9ae5b1fc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LHMdb2zxMJbeSINVCUofrw.jpeg"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">JavaScript — Basics of Functions</figcaption></figure><p id="843e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">功能包括以下特征:</p><ul class=""><li id="5cc2" class="lp lq in ke b kf kg ki kj kl lr kp ls kt lt kx lu lv lw lx bi translated">可以接受零个或多个参数</li><li id="5153" class="lp lq in ke b kf ly ki lz kl ma kp mb kt mc kx lu lv lw lx bi translated">可以在函数调用结束时返回指定的值</li><li id="84ff" class="lp lq in ke b kf ly ki lz kl ma kp mb kt mc kx lu lv lw lx bi translated">会对程序的其他部分产生副作用而不返回值</li></ul><h2 id="30f7" class="md me in bd mf mg mh dn mi mj mk dp ml kl mm mn mo kp mp mq mr kt ms mt mu mv bi translated">如何创建函数</h2><p id="e101" class="pw-post-body-paragraph kc kd in ke b kf mw jo kh ki mx jr kk kl my kn ko kp mz kr ks kt na kv kw kx ig bi translated">函数可以用几种不同的方法创建。创建它们最常见的方式是作为函数声明或函数表达式。</p><p id="6f27" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">功能声明</strong></p><p id="e790" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function" rel="noopener ugc nofollow" target="_blank">函数声明</a>(也称为函数语句)是创建函数的一种方式。要以这种方式创建一个函数，该函数必须有一个<em class="nb">名称</em>，可选的<em class="nb">参数</em>，以及一个在函数块内执行的<em class="nb">语句</em>。</p><pre class="la lb lc ld gt nc nd ne nf aw ng bi"><span id="25de" class="md me in nd b gy nh ni l nj nk">function sayHello(name) {<br/>  return `hello, ${name}`;<br/>}</span></pre><p id="9fca" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上例中，函数名为<code class="fe nl nm nn nd b">sayHello</code>，可选参数为<code class="fe nl nm nn nd b">name</code>，语句为<code class="fe nl nm nn nd b">return `hello, ${name}`;</code>。在本例中，该语句使用<code class="fe nl nm nn nd b">return</code>语句显式地从函数中返回值。但是，如果省略了<code class="fe nl nm nn nd b">return</code>语句，该函数将返回<code class="fe nl nm nn nd b">undefined</code>。</p><p id="8097" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">函数声明的一个独特特征是，当程序运行时，在执行代码之前，函数声明被提升到封闭函数作用域或全局作用域的顶部。这允许在原始代码中定义函数声明之前调用它们。</p><pre class="la lb lc ld gt nc nd ne nf aw ng bi"><span id="6978" class="md me in nd b gy nh ni l nj nk">greeting('melvin');</span><span id="cb36" class="md me in nd b gy no ni l nj nk">function greeting(name) {<br/>  return `Howdy, ${name}!`;<br/>}</span><span id="a573" class="md me in nd b gy no ni l nj nk">// Even though the function declaration comes after the function call, hoisting moves the function declaration to the top of the global scope<br/>// 'Howdy, melvin!'</span></pre><p id="0887" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">函数表达式</strong></p><p id="cefb" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function" rel="noopener ugc nofollow" target="_blank">函数表达式</a>是一个存储在变量中的函数，可以是命名函数，也可以是匿名函数，这意味着即使它有参数和语句，它也没有名字。</p><pre class="la lb lc ld gt nc nd ne nf aw ng bi"><span id="78ad" class="md me in nd b gy nh ni l nj nk">// named function expression<br/>const welcomeMessage = function hello(name) {<br/>  return `hello, welcome ${name}.`;<br/>};</span><span id="e174" class="md me in nd b gy no ni l nj nk">// anonymous function expression<br/>const assignedTask = function (task) {<br/>  return `your task is: ${task}.`;<br/>};</span><span id="6c45" class="md me in nd b gy no ni l nj nk">welcomeMessage('ned');<br/>// 'hello, welcome ned.'</span><span id="c959" class="md me in nd b gy no ni l nj nk">assignedTask('front-end development');<br/>// 'your task is: front-end development.'</span></pre><p id="7ef4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">函数表达式存储在变量中，可以作为参数调用或传递给另一个函数。在大多数情况下，函数表达式与函数声明非常相似，但是，函数表达式不会被提升到局部或全局范围的顶部。在定义函数表达式之前调用它会产生引用错误，因为函数在被调用之前不会被定义。</p><pre class="la lb lc ld gt nc nd ne nf aw ng bi"><span id="bbf2" class="md me in nd b gy nh ni l nj nk">sayHello(); // Uncaught ReferenceError: sayHello is not defined</span><span id="4100" class="md me in nd b gy no ni l nj nk">const sayHello = function () {<br/>  return 'hello...';<br/>};</span></pre><h2 id="efdf" class="md me in bd mf mg mh dn mi mj mk dp ml kl mm mn mo kp mp mq mr kt ms mt mu mv bi translated">关闭</h2><p id="f2c8" class="pw-post-body-paragraph kc kd in ke b kf mw jo kh ki mx jr kk kl my kn ko kp mz kr ks kt na kv kw kx ig bi translated">javascript函数的一个重要特性是<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions#closures" rel="noopener ugc nofollow" target="_blank">闭包</a>的概念。创建函数时，一个函数可以包含一个或多个附加函数。每个函数都可以有自己的变量和特定于其作用域的函数。被其他函数封闭的函数可以访问它们自己的作用域变量和函数，以及被封闭的函数的所有变量和函数。但是，封闭函数不能访问内部定义的变量和函数。</p><p id="919e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">闭包的另一个特性是能够保留内部函数的变量和函数，即使在外部函数已经执行之后。JavaScript将保留这些变量和函数，稍后在执行封闭函数的内部函数时可以访问它们。</p><pre class="la lb lc ld gt nc nd ne nf aw ng bi"><span id="8102" class="md me in nd b gy nh ni l nj nk">const welcomeMessage = function (name) {<br/>  let employeeName = name;<br/>  const greeting = function (message) {<br/>    return `${message}, ${employeeName}.`;<br/>  };</span><span id="bc32" class="md me in nd b gy no ni l nj nk">  return greeting;<br/>};</span><span id="3573" class="md me in nd b gy no ni l nj nk">let myGreeting = welcomeMessage('kalvin');</span><span id="db48" class="md me in nd b gy no ni l nj nk">myGreeting('hello'); // 'hello, kalvin.'<br/>myGreeting('welcome'); // 'welcome, kalvin'</span></pre><p id="620a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这里的例子中，函数表达式<code class="fe nl nm nn nd b">welcomeMessage</code>被声明并接受参数<code class="fe nl nm nn nd b">name</code>。变量<code class="fe nl nm nn nd b">employeeName</code>在函数表达式的范围内声明。另一个接受参数<code class="fe nl nm nn nd b">message</code>的函数表达式<code class="fe nl nm nn nd b">greeting</code>在<code class="fe nl nm nn nd b">welcomeMessage</code>的范围内声明。函数<code class="fe nl nm nn nd b">greeting</code>可以访问其封闭函数声明的变量，并使用变量<code class="fe nl nm nn nd b">employeeName</code>及其自身参数<code class="fe nl nm nn nd b">message</code>的值返回一个字符串。</p><p id="f25d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">可以看到，通过将函数赋给变量<code class="fe nl nm nn nd b">myGreeting</code>并为参数<code class="fe nl nm nn nd b">name</code>传递一个值来调用该函数。该函数保留该变量，并在<code class="fe nl nm nn nd b">myGreeting</code>调用内部函数<code class="fe nl nm nn nd b">greeting</code>时使其可用。这种结构允许使用不同的<code class="fe nl nm nn nd b">message</code>参数值多次调用外部函数，但是最初声明的<code class="fe nl nm nn nd b">employeeName</code>变量值被保留并从函数调用中返回。</p><h2 id="ef32" class="md me in bd mf mg mh dn mi mj mk dp ml kl mm mn mo kp mp mq mr kt ms mt mu mv bi translated">功能参数</h2><p id="ee9d" class="pw-post-body-paragraph kc kd in ke b kf mw jo kh ki mx jr kk kl my kn ko kp mz kr ks kt na kv kw kx ig bi translated">自2015年起，除了上述传统类型的参数外，还有两种新类型的参数。这些新型参数为<code class="fe nl nm nn nd b">default parameters</code>和<code class="fe nl nm nn nd b">rest parameters</code>。</p><p id="b58e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions#default_parameters" rel="noopener ugc nofollow" target="_blank">缺省参数</a>可以提供缺省值，如果调用函数时没有给函数提供值，则可以使用该缺省值。这允许函数运行而不会导致错误。</p><pre class="la lb lc ld gt nc nd ne nf aw ng bi"><span id="03d9" class="md me in nd b gy nh ni l nj nk">function sendGreeting(message, name = 'Anonymous') {<br/>  return `${message}, ${name}.`;<br/>}</span><span id="0b47" class="md me in nd b gy no ni l nj nk">sendGreeting('Welcome to the chatroom');<br/>// 'Welcome to the chatroom, Anonymous.'</span></pre><p id="2c98" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions#rest_parameters" rel="noopener ugc nofollow" target="_blank"> Rest参数</a>在函数需要不确定数量的参数时很有用。其余参数允许使用扩展运算符的函数接受<code class="fe nl nm nn nd b">x</code>数量的参数。这些项目将被接受到函数中而不会产生错误。</p><pre class="la lb lc ld gt nc nd ne nf aw ng bi"><span id="996c" class="md me in nd b gy nh ni l nj nk">function customerList(name, ...cart) {<br/>  return `customer: ${name}, ordered the following items:${cart.map(<br/>    (item) =&gt; ` ${item}`<br/>  )}`;<br/>}</span><span id="44f6" class="md me in nd b gy no ni l nj nk">customerList('kal', 'book', 'hat', 'pencil', 'computer');</span></pre><h2 id="0888" class="md me in bd mf mg mh dn mi mj mk dp ml kl mm mn mo kp mp mq mr kt ms mt mu mv bi translated">箭头函数</h2><p id="3f98" class="pw-post-body-paragraph kc kd in ke b kf mw jo kh ki mx jr kk kl my kn ko kp mz kr ks kt na kv kw kx ig bi translated">ES2015附带的另一个新功能是<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions#arrow_functions" rel="noopener ugc nofollow" target="_blank">箭头功能</a>。这些函数可以用精简的语法编写，并且有一些其他的重要特性。与传统功能相比，Arrow功能在处理<code class="fe nl nm nn nd b">this</code>的方式上也有所不同。</p><pre class="la lb lc ld gt nc nd ne nf aw ng bi"><span id="d9d9" class="md me in nd b gy nh ni l nj nk">const sayHi = (name) =&gt; {<br/>  return `hi, ${name}.`;<br/>};</span><span id="d5d6" class="md me in nd b gy no ni l nj nk">sayHi('jim');<br/>// hi, jim.</span></pre><h2 id="e076" class="md me in bd mf mg mh dn mi mj mk dp ml kl mm mn mo kp mp mq mr kt ms mt mu mv bi translated">结论</h2><p id="c9b3" class="pw-post-body-paragraph kc kd in ke b kf mw jo kh ki mx jr kk kl my kn ko kp mz kr ks kt na kv kw kx ig bi translated">函数对于JavaScript语言是必不可少的。它们使得在程序中做很多事情成为可能，包括在整个程序中共享代码，逻辑分组代码，以及创建返回值的子程序。函数也有特定的属性和特性，了解和掌握它们很重要。像提升、闭包、默认参数和箭头函数这样的特性对于JavaScript来说是非常重要的细微差别，应该掌握这些特性才能更好地使用JavaScript中的函数。</p><p id="fb9d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="nb">多内容于</em> <a class="ae ky" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="nb">中</em></strong></a></p></div></div>    
</body>
</html>