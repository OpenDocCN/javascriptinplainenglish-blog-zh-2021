<html>
<head>
<title>Automate Importing Data to Firestore</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自动将数据导入Firestore</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/automate-importing-data-to-firestore-836b0a2cdcfd?source=collection_archive---------4-----------------------#2021-06-15">https://javascript.plainenglish.io/automate-importing-data-to-firestore-836b0a2cdcfd?source=collection_archive---------4-----------------------#2021-06-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="ce05" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将你的谷歌表单回复导入Firebase数据库有困难吗？或者发现手动上传数据有困难？</p><p id="62c1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们用一些代码来自动化这个乏味的任务。</p><p id="674f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本文中，我们将使用Node.js将JSON数据直接导入Firestore。如果您有其他格式的数据，请不要担心，我们可以很容易地将其转换为JSON。您将需要Excel表格或CSV格式的数据。可以下载CSV格式的Excel表格，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/65b4d7ca09bf2e33ad35d2f2a8a04cbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-jsn87zo5c4-QC91CbfZ2A.png"/></div></div></figure><p id="18a9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要将CSV转换成JSON，我们将使用<a class="ae ku" href="https://csvjson.com/csv2json" rel="noopener ugc nofollow" target="_blank">这个</a>在线工具。并下载JSON文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi kv"><img src="../Images/8c4f17bb5b58b56721b4a9fc76e32779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l5uXCgodQWs26mrybRc0Hg.png"/></div></div></figure><p id="8f5d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们在Firebase中创建一个新项目，并下载所需的文件。转到Firebase控制台，填写所需的项目名称，并创建一个新项目。项目加载后，进入<strong class="jm io">项目设置</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kw"><img src="../Images/91d36e513330f361185984b9264e2f92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*ekz7TIv75UE-EfL6rsYSmA.png"/></div></figure><p id="cfbe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">项目设置&gt;服务账户&gt;创建服务账户</strong>并生成新的私钥，下载JSON文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi kx"><img src="../Images/086670e774e7d1859e14ba830ab2f5ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U4sRa0lj6b_qEMTltUTGhQ.png"/></div></div></figure><p id="f299" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们已经完成了Firebase项目的设置。接下来，确保您系统中安装了节点。</p><p id="a7cc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要设置一个新的节点项目，创建新的文件夹并运行<code class="fe ky kz la lb b">npm init</code>来初始化你的新Node.js项目并填写所需的详细信息，默认情况下保持按“Enter”键。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lc"><img src="../Images/63b7dea8d6f237fff70e3ea9f92582c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kh72d9EzsJa9dI7TquvEcA.png"/></div></div></figure><p id="5434" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当这个过程完成时，它将在目录中创建一个package.json文件。我们将把data.json(我们从CSV转换成json的文件)和service.json(我们从Firebase下载的文件)文件移动到我们的项目目录中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ld"><img src="../Images/702b4d7f9003c75b3da014d9a8d3fcba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*87xq1tIzCuynERMcKofpaA.png"/></div></div></figure><p id="07c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，我们将在项目目录中创建我们的<strong class="jm io"> index.js </strong>文件。并在其中编写我们的代码。根据你的项目填写变量。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="c45d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以在服务帐户下的firebase项目中找到databaseURL:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lg"><img src="../Images/eab9b3ab8d1fa086c254afba633ddef2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yj4ILd_uTRunSx-pqnisPg.jpeg"/></div></div></figure><p id="eab4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将index.js保存在项目目录中，现在我们需要安装firebase-admin库。</p><p id="bfa6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行&gt; &gt;<strong class="jm io"> npm安装</strong>T11】firebase-admin</p><p id="af76" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们运行我们的代码；)要运行，请移出您的项目目录并</p><p id="e6ed" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行&gt; &gt;<strong class="jm io">节点&lt;目录_名称&gt;T14】</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lh"><img src="../Images/6efd8e9d3c6504b0816ac47c3eb0d7b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bn3raDr3mN9Ur30fhi4o5w.png"/></div></div></figure><p id="27dc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您的所有数据将在几秒钟内被写入Firestore数据库。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi li"><img src="../Images/1744fdd06d3460cd6ac4f8943b4f57e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DBouYP6DJ4wkX0qj-_rxsw.png"/></div></div></figure><h2 id="49eb" class="lj lk in bd ll lm ln dn lo lp lq dp lr jv ls lt lu jz lv lw lx kd ly lz ma mb bi translated">结论</h2><p id="30ab" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated">就是这样！我们枯燥的工作已经自动化，几秒钟就能完成。我希望你已经发现这是有用的。如果是这样，一定要在评论中让我们知道。请继续关注更多有趣的编程内容。</p><p id="a0c8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mh">更多内容看</em> <a class="ae ku" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="mh">说白了. io </em> </strong> </a></p></div></div>    
</body>
</html>