<html>
<head>
<title>An Introduction to Cookie(s) 🍪 in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">曲奇简介🍪在JavaScript中</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/cookies-in-javascript-f7fe9b5c01c2?source=collection_archive---------10-----------------------#2021-12-29">https://javascript.plainenglish.io/cookies-in-javascript-f7fe9b5c01c2?source=collection_archive---------10-----------------------#2021-12-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cbad" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解JavaScript中的Cookies。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5cf31479ceda18a5fe3e24a81117900d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qqw-Ihqb7yGzfcDLjFkELg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@daria_shevtsova?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Daria Shevtsova</a> on <a class="ae kv" href="https://unsplash.com/s/photos/laptop-and-cookie?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="kw"><p id="32d0" class="kx ky iq bd kz la lb lc ld le lf lg dk translated">一个<strong class="ak"> HTTP cookie </strong>(网络cookie，浏览器cookie)是服务器发送给用户网络浏览器的一小段数据。浏览器可以存储cookie，并将其与稍后的请求一起发送回同一服务器。通常，HTTP cookie用于判断两个请求是否来自同一个浏览器——例如，保持用户登录。它为无状态的HTTP协议记住有状态的信息。—(<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies" rel="noopener ugc nofollow" target="_blank">MDN cookie</a>)</p></blockquote><h1 id="e3da" class="lh li iq bd lj lk ll lm ln lo lp lq lr jw ls jx lt jz lu ka lv kc lw kd lx ly bi translated"><strong class="ak">另外，</strong></h1><p id="e91c" class="pw-post-body-paragraph lz ma iq mb b mc md jr me mf mg ju mh mi mj mk ml mm mn mo mp mq mr ms mt lg ij bi translated"><strong class="mb ir"> Cookies </strong>主要用于存储和跟踪信息，如偏好、会话管理和其他改善用户体验或网站统计所需的详细信息。cookie包含字符串形式的信息(用分号分隔的名称-值对模式)。我们可以使用JavaScript直接创建、检索和修改cookies。</p><blockquote class="mu mv mw"><p id="75b6" class="lz ma mx mb b mc my jr me mf mz ju mh na nb mk ml nc nd mo mp ne nf ms mt lg ij bi translated"><strong class="mb ir">注意</strong>:可以限制cookie的名称、值和长度。</p></blockquote></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="8748" class="lh li iq bd lj lk nn lm ln lo no lq lr jw np jx lt jz nq ka lv kc nr kd lx ly bi translated">曲奇中的字段</h1><p id="460c" class="pw-post-body-paragraph lz ma iq mb b mc md jr me mf mg ju mh mi mj mk ml mm mn mo mp mq mr ms mt lg ij bi translated">一个Cookie可以存储如下五个字段—</p><ul class=""><li id="b9ac" class="oa ob iq mb b mc my mf mz mi oc mm od mq oe lg of og oh oi bi translated"><strong class="mb ir">到期</strong>—cookie的到期日期。如果没有提供到期时间，那么cookie将在访问者退出浏览器时到期。</li><li id="5168" class="oa ob iq mb b mc oj mf ok mi ol mm om mq on lg of og oh oi bi translated"><strong class="mb ir">域</strong>—您站点的域名。</li><li id="3d1a" class="oa ob iq mb b mc oj mf ok mi ol mm om mq on lg of og oh oi bi translated"><strong class="mb ir">路径</strong>—设置cookie的目录或网页的路径。如果要从任何目录或网页中检索cookie，请将此字段留空。</li><li id="c921" class="oa ob iq mb b mc oj mf ok mi ol mm om mq on lg of og oh oi bi translated"><strong class="mb ir">安全</strong>——仅当该字段包含单词“安全”时，才会通过安全服务器检索cookie。如果此字段为空，则不存在此类限制。</li><li id="98d1" class="oa ob iq mb b mc oj mf ok mi ol mm om mq on lg of og oh oi bi translated"><strong class="mb ir">Name = Value</strong>—cookie以键值对的形式进行设置和检索。</li></ul><blockquote class="mu mv mw"><p id="a4fa" class="lz ma mx mb b mc my jr me mf mz ju mh na nb mk ml nc nd mo mp ne nf ms mt lg ij bi translated"><strong class="mb ir">注意:</strong>请记住，最终用户可以看到并修改所有cookie值。</p></blockquote></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="318b" class="lh li iq bd lj lk nn lm ln lo no lq lr jw np jx lt jz nq ka lv kc nr kd lx ly bi translated"><strong class="ak">饼干的种类</strong></h1><ol class=""><li id="4694" class="oa ob iq mb b mc md mf mg mi oo mm op mq oq lg or og oh oi bi translated"><strong class="mb ir">第一方cookie</strong>—仅由您的网站创建和阅读的cookie。</li><li id="d3bd" class="oa ob iq mb b mc oj mf ok mi ol mm om mq on lg or og oh oi bi translated"><strong class="mb ir">第三方cookies </strong> —由第三方广告在您的网站上制作的cookies。由任何运行广告代码的网站阅读，用于个性化或特定目标的广告。</li><li id="2a11" class="oa ob iq mb b mc oj mf ok mi ol mm om mq on lg or og oh oi bi translated"><strong class="mb ir">会话cookie</strong>—保存在浏览器上的cookie，在浏览器关闭时销毁。</li></ol></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="178e" class="lh li iq bd lj lk nn lm ln lo no lq lr jw np jx lt jz nq ka lv kc nr kd lx ly bi translated">正在创建Cookie</h1><p id="ed2d" class="pw-post-body-paragraph lz ma iq mb b mc md jr me mf mg ju mh mi mj mk ml mm mn mo mp mq mr ms mt lg ij bi translated">我们可以在JavaScript中使用字符串格式的<code class="fe os ot ou ov b">document.cookie</code>属性创建cookie，用分号分隔成对(键值)。</p><p id="a1fb" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated">示例:</p><pre class="kg kh ki kj gt ow ov ox oy aw oz bi"><span id="7203" class="pa li iq ov b gy pb pc l pd pe">document.cookie = "key1=value1; expires=date; path=/;";</span></pre><p id="267b" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated">现在让我们看看下面不同的cookie示例:</p><p id="c65a" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated"><strong class="mb ir">存储信息</strong>如用户名:</p><pre class="kg kh ki kj gt ow ov ox oy aw oz bi"><span id="a4ad" class="pa li iq ov b gy pb pc l pd pe">document.cookie = "username=medium/nikhil";</span></pre><p id="64fe" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated"><strong class="mb ir">cookie的有效期</strong>:</p><pre class="kg kh ki kj gt ow ov ox oy aw oz bi"><span id="176f" class="pa li iq ov b gy pb pc l pd pe">document.cookie = “username=medium/nikhil; expires=Thu, 28 Dec 2021 12:00:00 UTC”;</span></pre><p id="6a57" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated">如果未提供到期日期，则关闭浏览器时会删除cookie。</p><p id="7a8f" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated"><strong class="mb ir"> Path </strong>让浏览器知道cookie属于哪个路径:</p><pre class="kg kh ki kj gt ow ov ox oy aw oz bi"><span id="5cca" class="pa li iq ov b gy pb pc l pd pe">document.cookie = “username=medium/nikhil; expires=Thu, 28 Dec 2021 12:00:00 UTC; path=/”;</span></pre><p id="8ffb" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated">默认情况下，如果在创建cookie时没有声明，cookie属于当前页面。</p><blockquote class="mu mv mw"><p id="96c1" class="lz ma mx mb b mc my jr me mf mz ju mh na nb mk ml nc nd mo mp ne nf ms mt lg ij bi translated"><strong class="mb ir">注意</strong>:我们可以用这个方法设置/更新一个cookie</p></blockquote></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="7c41" class="lh li iq bd lj lk nn lm ln lo no lq lr jw np jx lt jz nq ka lv kc nr kd lx ly bi translated">阅读Cookie</h1><p id="1283" class="pw-post-body-paragraph lz ma iq mb b mc md jr me mf mg ju mh mi mj mk ml mm mn mo mp mq mr ms mt lg ij bi translated">将JavaScript中的cookie读作如下是简单而容易的:</p><pre class="kg kh ki kj gt ow ov ox oy aw oz bi"><span id="71ea" class="pa li iq ov b gy pb pc l pd pe">let cookies = document.cookie;</span></pre><blockquote class="mu mv mw"><p id="c87e" class="lz ma mx mb b mc my jr me mf mz ju mh na nb mk ml nc nd mo mp ne nf ms mt lg ij bi translated"><strong class="mb ir">注意</strong> : <code class="fe os ot ou ov b">document.cookie</code>像<code class="fe os ot ou ov b">cookies=”key1=value1; key2=value2; key3=value3”</code>一样在单个字符串中返回所有的cookies</p></blockquote></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="27dc" class="lh li iq bd lj lk nn lm ln lo no lq lr jw np jx lt jz nq ka lv kc nr kd lx ly bi translated">更新Cookie</h1><p id="2d00" class="pw-post-body-paragraph lz ma iq mb b mc md jr me mf mg ju mh mi mj mk ml mm mn mo mp mq mr ms mt lg ij bi translated">与我们创建cookie的方式类似，我们也可以更新它们:</p><pre class="kg kh ki kj gt ow ov ox oy aw oz bi"><span id="67e2" class="pa li iq ov b gy pb pc l pd pe">document.cookie = “username=medium/new; path=/”;</span></pre><blockquote class="mu mv mw"><p id="beae" class="lz ma mx mb b mc my jr me mf mz ju mh na nb mk ml nc nd mo mp ne nf ms mt lg ij bi translated"><strong class="mb ir">注意</strong>:这将覆盖先前的cookie值</p></blockquote></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="efd2" class="lh li iq bd lj lk nn lm ln lo no lq lr jw np jx lt jz nq ka lv kc nr kd lx ly bi translated">删除Cookie</h1><p id="695c" class="pw-post-body-paragraph lz ma iq mb b mc md jr me mf mg ju mh mi mj mk ml mm mn mo mp mq mr ms mt lg ij bi translated">很简单，我们可以根据何时删除cookie的要求给cookie添加一个截止日期。</p><pre class="kg kh ki kj gt ow ov ox oy aw oz bi"><span id="87f9" class="pa li iq ov b gy pb pc l pd pe">document.cookie = “expires=Thu, 28 Dec 2021 12:00:00 UTC; path=/”;</span></pre><p id="89e9" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated">如果我们想马上删除它，那么就把<code class="fe os ot ou ov b">max-age</code>更新为零</p><pre class="kg kh ki kj gt ow ov ox oy aw oz bi"><span id="b70e" class="pa li iq ov b gy pb pc l pd pe">document.cookie = “max-age=0”;</span></pre><p id="f762" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated">或者，将到期日期更新为过去的日期。</p><p id="e2ea" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated">另外，别忘了我们只处理一个cookie。因此，一旦创建，我们总是更新或附加到现有的cookie，以避免覆盖cookie。</p><blockquote class="mu mv mw"><p id="f28c" class="lz ma mx mb b mc my jr me mf mz ju mh na nb mk ml nc nd mo mp ne nf ms mt lg ij bi translated"><strong class="mb ir">注意</strong>:有些浏览器需要路径值来允许删除cookie</p></blockquote></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="3651" class="lh li iq bd lj lk nn lm ln lo no lq lr jw np jx lt jz nq ka lv kc nr kd lx ly bi translated"><span class="l ns nt nu bm nv nw nx ny nz di">R</span>T21【参考文献</h1><ul class=""><li id="0ec7" class="oa ob iq mb b mc md mf mg mi oo mm op mq oq lg of og oh oi bi translated"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/API/Document/cookie</a></li><li id="58f1" class="oa ob iq mb b mc oj mf ok mi ol mm om mq on lg of og oh oi bi translated"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies" rel="noopener ugc nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies</a></li><li id="24b2" class="oa ob iq mb b mc oj mf ok mi ol mm om mq on lg of og oh oi bi translated"><a class="ae kv" href="https://www.npmjs.com/package/js-cookie" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/js-cookie</a></li></ul></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="ee95" class="lh li iq bd lj lk nn lm ln lo no lq lr jw np jx lt jz nq ka lv kc nr kd lx ly bi translated"><strong class="ak">直到下一次</strong></h1><p id="23a4" class="pw-post-body-paragraph lz ma iq mb b mc md jr me mf mg ju mh mi mj mk ml mm mn mo mp mq mr ms mt lg ij bi translated">希望这篇文章对你有用，感谢你阅读它。如果您有任何反馈，也请分享。</p><p id="5bee" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated">我在@buymeacoffee上。如果你喜欢我的作品，你可以给我买一幅☕，分享你的想法🎉<a class="ae kv" href="https://www.buymeacoffee.com/nikhilwali2" rel="noopener ugc nofollow" target="_blank">https://www.buymeacoffee.com/nikhilwali2</a></p><p id="5cf5" class="pw-post-body-paragraph lz ma iq mb b mc my jr me mf mz ju mh mi nb mk ml mm nd mo mp mq nf ms mt lg ij bi translated"><em class="mx">更多内容看</em> <a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mx">说白了。报名参加我们的</em> </a><a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mx">免费每周简讯</em> </a> <em class="mx">。在我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="mx">社区</em> </a> <em class="mx">获得独家写作机会和建议。</em></p></div></div>    
</body>
</html>