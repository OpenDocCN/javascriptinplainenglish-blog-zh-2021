<html>
<head>
<title>Do You Know What’s on the Other Side of the Planet From you?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你知道地球的另一边有什么吗？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-make-a-google-floom-clone-d98566b3d557?source=collection_archive---------17-----------------------#2021-04-13">https://javascript.plainenglish.io/how-to-make-a-google-floom-clone-d98566b3d557?source=collection_archive---------17-----------------------#2021-04-13</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="10b8" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">从你所在的地方找出地球的另一边有什么。</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/886e63e0e6d68e320e63f072f36a9ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GEe0DxKyMWw_QDaivBoVsA.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">floom.withgoogle.com</figcaption></figure><p id="706c" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">谷歌刚刚宣布了Android设备上谷歌浏览器的一些更新。其中一个更新是Floom。这是一个有趣的工具，它在增强现实中显示了你附近地球上的洞。所以你可以从你现在站的地方看到地球的另一边有什么。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ls"><img src="../Images/493f31e14eb2c23b0b6415bac601e346.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*s_azVsda-DvF6AcX-4ObJQ.gif"/></div></div></figure><p id="0dbe" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">听起来很有趣，但它只能在Android设备上使用。不幸的是，我是iPhone的所有者，不能尝试这个功能。我无法摆脱这种想法。知道另一边是什么很有趣，我决定调查这个问题。</p><p id="20b2" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">首先我发现这个另一边叫做<strong class="ky is">对跖</strong>。</p><p id="3ee3" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">地球上任何地方的对跖点都是地球表面上与其完全相反的点。当通过球体中心的直线连接时，两个点是对跖的。对跖点通常被称为对跖点。</p><p id="3dde" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">原来一点都不复杂。我们需要计算对面的坐标，并用卫星视图在谷歌地图上显示这个地方。然后我决定实现我的小应用程序，它将显示任何位置的对跖地。</p><h2 id="8ece" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">现场演示</h2><p id="b730" class="pw-post-body-paragraph kw kx ir ky b kz mm js lb lc mn jv le lf mo lh li lj mp ll lm ln mq lp lq lr ik bi translated">在文章的最后，你会找到演示的链接，在那里你可以允许自己定位你的坐标，并显示你所在位置的对跖点。或者点击地球上的任何一个地方，看看另一边有什么。</p><h2 id="60af" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">履行</h2><p id="8019" class="pw-post-body-paragraph kw kx ir ky b kz mm js lb lc mn jv le lf mo lh li lj mp ll lm ln mq lp lq lr ik bi translated">这个项目很简单。我们需要创建一个附带谷歌地图SDK的HTML文件。你可以在这里找到如何获得API密匙<a class="ae mr" href="https://developers.google.com/maps/documentation/javascript/get-api-key" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="c383" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">然后我们需要创建一个带有地图初始化的JavaScript文件。</p><pre class="kh ki kj kk gu mu mv mw mx aw my bi"><span id="689c" class="lt lu ir mv b gz mz na l nb nc">let map;<br/>let markers = [];<br/>let center = { lat: 50.4501, lng: 30.5234 };<br/>let antipode = document.getElementById('antipode');<br/>let mini = document.getElementById('mini');</span><span id="e8e5" class="lt lu ir mv b gz nd na l nb nc">function initMap() {<br/>  map = new google.maps.Map(document.getElementById('map'), {<br/>    zoom: 14,<br/>    center<br/>  });<br/>}</span></pre><p id="0a36" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">添加在地图上放置标记的功能。</p><pre class="kh ki kj kk gu mu mv mw mx aw my bi"><span id="6743" class="lt lu ir mv b gz mz na l nb nc">function addMarker(location) {<br/>  setMapOnAll(null);<br/>  markers = [];<br/>  const bounds = new google.maps.LatLngBounds();<br/>  const marker = new google.maps.Marker({<br/>    position: location,<br/>    map: map<br/>  });<br/>  markers.push(marker);<br/>  bounds.extend(location);</span><span id="e0ef" class="lt lu ir mv b gz nd na l nb nc">  map.fitBounds(bounds);<br/>}</span></pre><p id="7a92" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">然后用浏览器API检测用户位置。</p><pre class="kh ki kj kk gu mu mv mw mx aw my bi"><span id="5656" class="lt lu ir mv b gz mz na l nb nc">function getCurrentLocation() {<br/>  if (!navigator.geolocation) {<br/>    alert('Geolocation is not supported by your browser');<br/>  } else {<br/>    navigator.geolocation.getCurrentPosition(success, error);<br/>  }<br/>}</span><span id="1430" class="lt lu ir mv b gz nd na l nb nc">function success(position) {<br/>  const point = {<br/>    lat: position.coords.latitude,<br/>    lng: position.coords.longitude<br/>  };</span><span id="c10c" class="lt lu ir mv b gz nd na l nb nc">  addMarker(point);<br/>}</span><span id="ef24" class="lt lu ir mv b gz nd na l nb nc">function error() {<br/>  alert('Unable to retrieve your location');<br/>  addMarker(center);<br/>}</span></pre><p id="caba" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">最重要的部分是计算对面的坐标。怎么做？</p><pre class="kh ki kj kk gu mu mv mw mx aw my bi"><span id="7400" class="lt lu ir mv b gz mz na l nb nc">function getAntipode(point) {<br/>  return {<br/>    lat: point.lat * -1,<br/>    lng: point.lng &lt; 0 ? point.lng + 180 : point.lng - 180<br/>  };<br/>}</span></pre><p id="44f3" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">从球体上的坐标，取<strong class="ky is">纬度</strong>的相反值(加上或去掉一个减号-)。<strong class="ky is">经度</strong>加减180(保持在区间[-180；+180])，用于GPS坐标。</p><p id="d1bf" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">之后，我决定使用Google静态地图API来显示对跖地的卫星视图。为了使它更有趣，我在图片上方添加了一个透明的png，使它看起来像一个洞。</p><p id="b7a4" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">然后我意识到检查不同位置的对跖点很有趣。因此，我们需要添加点击地图和检查对映体的能力。</p><p id="cb1f" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">这是最终的js文件:</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="38d1" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">而这里是<a class="ae mr" href="https://whats-on-another-side.web.app/" rel="noopener ugc nofollow" target="_blank">演示</a>。</p><h2 id="69ca" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">结论</h2><p id="93db" class="pw-post-body-paragraph kw kx ir ky b kz mm js lb lc mn jv le lf mo lh li lj mp ll lm ln mq lp lq lr ik bi translated">我们星球上的大部分陆地位于海洋的另一边。所以，如果你在你所在的地方的另一边发现了什么，你是幸运的。</p><p id="d670" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">感谢阅读！你可以在Medium上关注我，获取更多科技文章，也可以在<a class="ae mr" href="https://twitter.com/golosay" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上找到我。</p><p id="7f34" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated"><em class="ne">更多内容尽在</em><a class="ae mr" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ne">plain English . io</em></a></p></div></div>    
</body>
</html>