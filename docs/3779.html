<html>
<head>
<title>Selenium Grid with Docker Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一种带有Docker组件硒栅</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/selenium-grid-with-docker-compose-b48b5ad8fee2?source=collection_archive---------3-----------------------#2021-07-29">https://javascript.plainenglish.io/selenium-grid-with-docker-compose-b48b5ad8fee2?source=collection_archive---------3-----------------------#2021-07-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/e710445fe747c59633755df5c8357f4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n9Tg_0gFGbpypaSWk2RFBw.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><a class="ae jz" href="https://youtu.be/BEaGIhmKypk" rel="noopener ugc nofollow" target="_blank">https://youtu.be/BEaGIhmKypk</a></figcaption></figure><p id="95e0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本教程中，我们将介绍如何使用Docker Compose设置Selenium网格。我们将讨论为什么我们需要Docker Compose，并研究如何实现Docker Compose文件。我们还将介绍如何用Docker Compose和Selenium Grid设置并行执行。</p><h1 id="c6b9" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">为什么使用Docker Compose？</h1><ul class=""><li id="96c3" class="lw lx in kc b kd ly kh lz kl ma kp mb kt mc kx md me mf mg bi translated"><strong class="kc io">不需要记住Docker命令:</strong>使用Docker compose，你不需要记住我们在<a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/docker-selenium-grid-setup-7e66d60a926a">上一篇文章</a>中提到的所有不同类型的Docker命令</li><li id="4632" class="lw lx in kc b kd mh kh mi kl mj kp mk kt ml kx md me mf mg bi translated"><strong class="kc io">一起运行多个容器:</strong> Docker compose允许您将多个容器作为一个服务一起运行，而不是一个接一个地运行</li><li id="e8f9" class="lw lx in kc b kd mh kh mi kl mj kp mk kt ml kx md me mf mg bi translated"><strong class="kc io">使用一个命令在多个浏览器上运行网格:</strong>只使用一个命令<code class="fe mm mn mo mp b">docker-compose up</code>就可以在集成了多个浏览器的情况下运行Selenium Grid</li></ul><p id="906c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Docker Compose让任何人都很容易开始使用Docker，即使他们不熟悉Docker的工作方式。</p></div><div class="ab cl mq mr hr ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ig ih ii ij ik"><h1 id="bb12" class="ky kz in bd la lb mx ld le lf my lh li lj mz ll lm ln na lp lq lr nb lt lu lv bi translated">设置Docker合成文件</h1><p id="9392" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl nc kn ko kp nd kr ks kt ne kv kw kx ig bi translated">为了设置Selenium Grid，我们将使用<a class="ae jz" href="https://github.com/SeleniumHQ/docker-selenium/tree/selenium-3#version-3" rel="noopener ugc nofollow" target="_blank"> Selenium GitHub仓库</a>中提供的Docker Compose文件</p><figure class="ng nh ni nj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nf"><img src="../Images/3e51d7a88b7e91142d8fae5f92e0d6e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4nN3gCg3MDW1DTpeElLm-Q.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Selenium Grid Docker Compose file</figcaption></figure><p id="88d1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这个命令相当于我们在<a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/docker-selenium-grid-setup-7e66d60a926a">上一篇</a>中使用的Docker network命令。它将在端口4444上运行一个Selenium Hub，并将设置Chrome和Firefox实例。</p></div><div class="ab cl mq mr hr ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ig ih ii ij ik"><h1 id="1701" class="ky kz in bd la lb mx ld le lf my lh li lj mz ll lm ln na lp lq lr nb lt lu lv bi translated">运行Docker合成文件</h1><p id="1079" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl nc kn ko kp nd kr ks kt ne kv kw kx ig bi translated">要运行Docker编写文件，只需在终端上运行以下命令— <code class="fe mm mn mo mp b">docker-compose up</code></p><figure class="ng nh ni nj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/4196482c54249d1cb917e4c26965ae00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7H1N3LG6NtIOfv8wpF6fwQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Grid Console</figcaption></figure><p id="a52e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这就对了，只需一个简单的命令，你就可以用Chrome和Firefox运行Selenium Grid。这就是使用Docker Compose的神奇之处。</p></div><div class="ab cl mq mr hr ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ig ih ii ij ik"><h1 id="a394" class="ky kz in bd la lb mx ld le lf my lh li lj mz ll lm ln na lp lq lr nb lt lu lv bi translated">使用Docker Compose设置并行执行</h1><p id="5f80" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl nc kn ko kp nd kr ks kt ne kv kw kx ig bi translated">使用Docker Compose为Selenium Grid设置并行执行有两种方式</p><ul class=""><li id="ff3e" class="lw lx in kc b kd ke kh ki kl nl kp nm kt nn kx md me mf mg bi translated"><strong class="kc io">更新Docker编写文件:</strong>添加<code class="fe mm mn mo mp b">NODE_MAX_INSTANCES</code>和<code class="fe mm mn mo mp b">NODE_MAX_SESSION</code>到Docker服务</li></ul><figure class="ng nh ni nj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi no"><img src="../Images/49bc2838ff4f2051a19eda658e0f33f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gRM1Gqom3IJbieSrIBN1YQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">NODE_MAX_INSTANCES &amp; NODE_MAX_SESSION</figcaption></figure><ul class=""><li id="074a" class="lw lx in kc b kd ke kh ki kl nl kp nm kt nn kx md me mf mg bi translated"><strong class="kc io">动态增加节点:</strong>使用Docker scale命令，你也可以动态增加更多的节点— <code class="fe mm mn mo mp b">docker-compose up --scale firefox=3</code>这将为Firefox增加3个节点</li></ul><figure class="ng nh ni nj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi np"><img src="../Images/b581660e13f443f17284763bbf584996.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C334-4eA3ZdgkTJxXcPImw.png"/></div></div></figure></div><div class="ab cl mq mr hr ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ig ih ii ij ik"><h1 id="18ab" class="ky kz in bd la lb mx ld le lf my lh li lj mz ll lm ln na lp lq lr nb lt lu lv bi translated">结论</h1><p id="9326" class="pw-post-body-paragraph ka kb in kc b kd ly kf kg kh lz kj kk kl nc kn ko kp nd kr ks kt ne kv kw kx ig bi translated">Docker Compose是一种在本地运行Selenium Grid的好方法。这将允许你团队中的任何人只需使用一个命令<code class="fe mm mn mo mp b">docker-compose up</code>就可以旋转网格并在任何指定的浏览器上开始运行测试</p><p id="7b52" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">观看下面的视频，了解如何使用Docker Compose设置Selenium Grid–</strong></p><figure class="ng nh ni nj gt jo"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="80e3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢阅读。</p><p id="4dbe" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ns">更多内容尽在</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ns">plain English . io</em></strong></a></p></div></div>    
</body>
</html>