<html>
<head>
<title>How to Check if a JavaScript Object Is Empty of Properties</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何检查JavaScript对象是否没有属性</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-check-if-a-javascript-object-is-empty-of-properties-fdf981e816df?source=collection_archive---------9-----------------------#2021-01-11">https://javascript.plainenglish.io/how-to-check-if-a-javascript-object-is-empty-of-properties-fdf981e816df?source=collection_archive---------9-----------------------#2021-01-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="84d7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">空的JavaScript对象<code class="fe kf kg kh ki b">{}</code>似乎是不言而喻的:没有用户定义的对象属性(也称为对象键)。但是在JavaScript中如何检查一个对象是否为空呢？</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/78f3d4e350221ea885e6ae8e03db10eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jRSRH4Jj7lpSuKSPxAUOWw.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Photo by <a class="ae kz" href="https://unsplash.com/@dayso?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">DaYsO</a> on <a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="88ab" class="la lb iq bd lc ld le lf lg lh li lj lk jw ll jx lm jz ln ka lo kc lp kd lq lr bi translated">空对象<code class="fe kf kg kh ki b">{}</code>的长度是否为0？</h1><p id="18a5" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">与数组不同，通用JavaScript对象没有<code class="fe kf kg kh ki b">.length</code>方法来检查条目(对象键值对)的数量。</p><p id="ddda" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">这意味着知道您是否有一个空对象<code class="fe kf kg kh ki b">{}</code>并不是一个显而易见的任务——您如何检查一个对象的“长度”?</p><p id="ad9f" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">这里有4种方法来检查一个JavaScript对象是否是一个空对象，也就是说它没有对象键(对象属性)。</p><ol class=""><li id="971f" class="mt mu iq lu b lv mo ly mp mb mv mf mw mj mx mn my mz na nb bi translated"><strong class="lu ir">检查</strong> <code class="fe kf kg kh ki b"><strong class="lu ir">.length</strong></code> <strong class="lu ir">数组中的</strong> <code class="fe kf kg kh ki b"><strong class="lu ir">Object.keys()</strong></code></li><li id="0a57" class="mt mu iq lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated"><strong class="lu ir">勾选</strong>中的 <code class="fe kf kg kh ki b"><strong class="lu ir">.length</strong></code> <strong class="lu ir">中的<code class="fe kf kg kh ki b"><strong class="lu ir">Object.getOwnPropertyNames()</strong></code></strong></li><li id="e624" class="mt mu iq lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated"><strong class="lu ir">使用一个</strong> <code class="fe kf kg kh ki b"><strong class="lu ir">for...in</strong></code> <strong class="lu ir">回路配合</strong> <code class="fe kf kg kh ki b"><strong class="lu ir">.hasOwnProperty()</strong></code></li><li id="d29e" class="mt mu iq lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated"><strong class="lu ir">检查对象是否没有作为关键字的符号</strong></li></ol><p id="34ff" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">在我们进行的过程中，我将包含简短的JavaScript代码示例，比较每个方法来检查对象是否为空。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h1 id="ae29" class="la lb iq bd lc ld no lf lg lh np lj lk jw nq jx lm jz nr ka lo kc ns kd lq lr bi translated">1.检查<code class="fe kf kg kh ki b">Object.keys()</code>数组的<code class="fe kf kg kh ki b">.length</code></h1><p id="c566" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">在JavaScript中计算对象键的最直接的方法是在全局<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/" rel="noopener ugc nofollow" target="_blank">Object</a></code>对象上使用<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" rel="noopener ugc nofollow" target="_blank">Object.keys()</a></code> helper方法，它将给定对象的键作为一个<a class="ae kz" href="https://medium.com/javascript-in-plain-english/how-to-check-for-an-array-in-javascript-6ad20f7a0e21" rel="noopener">数组</a>返回。</p><p id="12b9" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">一个数组有一个<code class="fe kf kg kh ki b">.length</code>属性(<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/length" rel="noopener ugc nofollow" target="_blank">Array.prototype.length</a></code>)，所以可以快速统计键的个数。使用<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values" rel="noopener ugc nofollow" target="_blank">Object.values()</a></code>或<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries" rel="noopener ugc nofollow" target="_blank">Object.entries()</a></code>你会得到相同的数字，但我使用<code class="fe kf kg kh ki b">Object.keys()</code>。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nt"><img src="../Images/2ca961de7f42d296d3b2735cc3794d49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xvdQROgBP0JW9zjXkneT1g.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk"><a class="ae kz" href="https://gist.github.com/DoctorDerek/c5030801a83c0b5f1297c3fa656b071b" rel="noopener ugc nofollow" target="_blank">View raw code</a> as a GitHub Gist</figcaption></figure><p id="17a3" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">这里需要注意的一点是，您将错过任何用作对象键的<a class="ae kz" href="https://medium.com/p/30c3f294ea65/" rel="noopener">符号</a>，以及任何使用<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" rel="noopener ugc nofollow" target="_blank">Object.defineProperty()</a></code>设置为“不可枚举”的对象属性。</p><blockquote class="nu nv nw"><p id="ce9e" class="ls lt nx lu b lv mo jr lx ly mp ju ma ny mq md me nz mr mh mi oa ms ml mm mn ij bi translated">"<code class="fe kf kg kh ki b">Object.keys()</code>不检查不可枚举的属性或符号。你需要用<code class="fe kf kg kh ki b">Object.getOwnPropertyNames()</code>和<code class="fe kf kg kh ki b">Object.getOwnPropertySymbols()</code>来代替。”— <a class="ae kz" href="https://stackoverflow.com/users/268083/jesse" rel="noopener ugc nofollow" target="_blank">杰西</a> <a class="ae kz" href="https://stackoverflow.com/questions/679915/how-do-i-test-for-an-empty-javascript-object#comment86472631_32108184" rel="noopener ugc nofollow" target="_blank">上StackOverflow </a></p></blockquote><p id="5053" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">那个词<em class="nx">可数</em>很重要。下面是定义。</p><blockquote class="nu nv nw"><p id="5959" class="ls lt nx lu b lv mo jr lx ly mp ju ma ny mq md me nz mr mh mi oa ms ml mm mn ij bi translated">"<code class="fe kf kg kh ki b">enumerable</code> : <code class="fe kf kg kh ki b">true</code>当且仅当该属性在相应对象的属性枚举期间出现。"— <a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" rel="noopener ugc nofollow" target="_blank"> MDN文档</a></p></blockquote><p id="d1d7" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">可枚举属性是典型的对象属性，在对象初始化时用<code class="fe kf kg kh ki b">{}</code>花括号<a class="ae kz" href="https://medium.com/p/d6d309383106" rel="noopener">对象文字语法</a>添加，或在以后用<code class="fe kf kg kh ki b">.</code>点号或<code class="fe kf kg kh ki b">[]</code>方括号<a class="ae kz" href="https://medium.com/p/5a1bfb4339c4" rel="noopener">属性访问器</a>添加。</p><p id="17b0" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">记住<code class="fe kf kg kh ki b">Object.keys(object).length</code>只包括定义为<a class="ae kz" href="https://medium.com/javascript-in-plain-english/how-to-check-for-a-string-in-javascript-a16b196915ff" rel="noopener">字符串</a>的可枚举属性是很重要的。</p><p id="8849" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">这意味着，如果一个包含不可枚举属性或用作对象键的符号的对象不包含典型的对象属性，则使用此方法该对象将被视为空。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h1 id="08d6" class="la lb iq bd lc ld no lf lg lh np lj lk jw nq jx lm jz nr ka lo kc ns kd lq lr bi translated">2.检查<code class="fe kf kg kh ki b">Object.getOwnPropertyNames()</code>的<code class="fe kf kg kh ki b">.length</code></h1><p id="514a" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">要计算不可枚举的属性，但仍然不计算符号，用<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames" rel="noopener ugc nofollow" target="_blank">Object.getOwnPropertyNames()</a></code>代替<code class="fe kf kg kh ki b">Object.keys()</code>。</p><blockquote class="nu nv nw"><p id="d3a8" class="ls lt nx lu b lv mo jr lx ly mp ju ma ny mq md me nz mr mh mi oa ms ml mm mn ij bi translated">"<code class="fe kf kg kh ki b"><strong class="lu ir">Object.getOwnPropertyNames()</strong></code>方法返回在给定对象中直接找到的所有属性的数组(包括不可枚举的属性，使用Symbol的属性除外)。"— <a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames" rel="noopener ugc nofollow" target="_blank"> MDN文档</a></p></blockquote><p id="c7be" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">像以前一样，您将把目标对象传递给助手函数，并且您将得到一个数组，您可以检查它的<code class="fe kf kg kh ki b">.length</code>。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ob"><img src="../Images/ff0c03a5fa81dbf482bbdf6c98e5dea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bVL4bDSnZV5R1JquuvFYcg.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk"><a class="ae kz" href="https://gist.github.com/DoctorDerek/c5030801a83c0b5f1297c3fa656b071b" rel="noopener ugc nofollow" target="_blank">View raw code</a> as a GitHub Gist</figcaption></figure><p id="e7e7" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">与<code class="fe kf kg kh ki b">Object.keys()</code>的区别在于<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames" rel="noopener ugc nofollow" target="_blank">Object.getOwnPropertyNames()</a></code>返回的计数中包含了不可枚举的属性。这可能是您在检查<a class="ae kz" href="https://differ.plainenglish.io/p/how-to-check-for-an-empty-object-in-javascript-dvjxdkyal" rel="noopener ugc nofollow" target="_blank">空对象</a>时想要的。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h1 id="06a4" class="la lb iq bd lc ld no lf lg lh np lj lk jw nq jx lm jz nr ka lo kc ns kd lq lr bi translated">3.使用带有<code class="fe kf kg kh ki b">.hasOwnProperty()</code>的<code class="fe kf kg kh ki b">for...in</code>回路</h1><p id="a3ca" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">您可以通过使用一个<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in" rel="noopener ugc nofollow" target="_blank">for...in</a></code>循环来实现与<code class="fe kf kg kh ki b">Object.getOwnPropertyNames()</code>相同的行为，并检查每个键的<code class="fe kf kg kh ki b">.hasOwnProperty()</code> ( <code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty" rel="noopener ugc nofollow" target="_blank">Object.prototype.hasOwnProperty()</a></code>)。</p><blockquote class="nu nv nw"><p id="924c" class="ls lt nx lu b lv mo jr lx ly mp ju ma ny mq md me nz mr mh mi oa ms ml mm mn ij bi translated">"<code class="fe kf kg kh ki b"><strong class="lu ir">hasOwnProperty()</strong></code>方法返回一个布尔值，表明对象是否将指定的属性作为自己的属性(相对于继承它)。"— <a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty" rel="noopener ugc nofollow" target="_blank"> MDN文档</a></p></blockquote><p id="6a73" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">我不确定这样做有什么好处，除了可能对微性能有很小的提升。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nt"><img src="../Images/f19877ab052ace183a52e23069a7c278.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PCXqnIYbukNaPywPKvtymw.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk"><a class="ae kz" href="https://gist.github.com/DoctorDerek/c5030801a83c0b5f1297c3fa656b071b" rel="noopener ugc nofollow" target="_blank">View raw code</a> as a GitHub Gist</figcaption></figure><p id="1022" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">我个人认为<code class="fe kf kg kh ki b">for...in</code>是JavaScript中最令人困惑的概念之一，尤其是因为<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of" rel="noopener ugc nofollow" target="_blank">for...of</a></code>循环，它被用于数组和其他<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols" rel="noopener ugc nofollow" target="_blank">可迭代对象。</a></p><p id="79cd" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">这确实是技术面试中的一个“陷阱”问题——招聘经理有时希望你将<code class="fe kf kg kh ki b">Object.hasOwnProperty()</code>理解为<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain" rel="noopener ugc nofollow" target="_blank">原型继承链</a>的一部分。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h1 id="5803" class="la lb iq bd lc ld no lf lg lh np lj lk jw nq jx lm jz nr ka lo kc ns kd lq lr bi translated">4.检查对象是否没有作为键的符号</h1><p id="8346" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">你需要使用<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols" rel="noopener ugc nofollow" target="_blank">Object.getOwnPropertySymbols()</a></code>来检查一个对象是否没有符号作为对象属性。</p><p id="f565" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">正如您所料，调用<code class="fe kf kg kh ki b">Object.getOwnPropertySymbols()</code>会返回一个数组，就像<code class="fe kf kg kh ki b">Object.getOwnPropertyNames()</code>一样。</p><p id="44d1" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">因为符号是不可枚举的，除非被 <code class="fe kf kg kh ki b"><a class="ae kz" href="https://stackoverflow.com/questions/31029612/why-can-es6-symbol-properties-be-made-enumerable-by-object-defineproperty" rel="noopener ugc nofollow" target="_blank">Object.defineProperty()</a></code>明确地指定为<a class="ae kz" href="https://stackoverflow.com/questions/31029612/why-can-es6-symbol-properties-be-made-enumerable-by-object-defineproperty" rel="noopener ugc nofollow" target="_blank">，<code class="fe kf kg kh ki b">Object.getOwnPropertySymbols()</code>通常是你访问一个对象上所有符号的方式。</a></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi oc"><img src="../Images/7f3211a853708b7f2a9eefcbc8671507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pOilH3DL59-Nc51AfAi0CA.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk"><a class="ae kz" href="https://gist.github.com/DoctorDerek/c5030801a83c0b5f1297c3fa656b071b" rel="noopener ugc nofollow" target="_blank">View raw code</a> as a GitHub Gist</figcaption></figure><p id="7ec2" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">如果返回的数组是空的，那么对象就没有作为对象属性的符号，就像空对象<code class="fe kf kg kh ki b">{}</code>一样。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h1 id="995b" class="la lb iq bd lc ld no lf lg lh np lj lk jw nq jx lm jz nr ka lo kc ns kd lq lr bi translated">哪种检查对象键的方法最快？</h1><p id="01a9" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">我在某处读到过一个<code class="fe kf kg kh ki b">for...in</code>循环比<code class="fe kf kg kh ki b">Object.keys()</code>快10倍，但这将取决于浏览器的实现——所以我怀疑现代浏览器表现出这样的差异。我认为性能在这里真的不重要。为什么不呢？因为你在检查一个空的对象，数到0属性很快。</p><p id="7199" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">如果你在一个有10，000，000个属性的对象上调用<code class="fe kf kg kh ki b">Object.keys()</code>，那么创建这个数组并返回它的<code class="fe kf kg kh ki b">.length</code>属性将会花费一些时间和内存，但是这种情况发生的可能性有多大呢？</p><p id="806a" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">既然你正在检查一个你期望为空的对象，那么你似乎不太可能以数百万个属性结束。当你实际上有一个空的对象，<code class="fe kf kg kh ki b">{}</code>时，在速度上<code class="fe kf kg kh ki b">for...in</code>和其他方法应该没有区别。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h1 id="7f8f" class="la lb iq bd lc ld no lf lg lh np lj lk jw nq jx lm jz nr ka lo kc ns kd lq lr bi translated">如何检查一个对象是否没有键(和/或符号)</h1><p id="ef75" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">如上所示，在JavaScript中应该使用哪种方法来检查空对象取决于如何定义empty。通常，您将检查由<code class="fe kf kg kh ki b">Object.keys(object)</code>返回的数组的<code class="fe kf kg kh ki b">.length</code>来计算对象属性:<code class="fe kf kg kh ki b">Object.keys({}) === 0 // true</code>。</p><p id="09ae" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">但是您可能还需要检查由<code class="fe kf kg kh ki b">Object.getOwnPropertySymbols()</code>返回的数组的<code class="fe kf kg kh ki b">.length</code>来计算符号，或者检查由<code class="fe kf kg kh ki b">Object.getOwnPropertyNames()</code>返回的数组的<code class="fe kf kg kh ki b">.length</code>来计算对象上不可枚举的属性。</p><p id="0a6a" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">记住<code class="fe kf kg kh ki b">Object.keys()</code>只计算用户定义的、可枚举的属性:我们添加到对象中的属性。原型继承链(从全局<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_prototypes" rel="noopener ugc nofollow" target="_blank">Object</a></code> <a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_prototypes" rel="noopener ugc nofollow" target="_blank">原型</a>继承)上的属性不会是空的。</p><p id="307b" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">如果你真的需要一个“真正空”的对象，没有原型，那么你需要调用<code class="fe kf kg kh ki b">Object.create(null)</code>:指定no prototype ( <code class="fe kf kg kh ki b"><a class="ae kz" href="https://medium.com/javascript-in-plain-english/how-to-check-for-null-in-javascript-dffab64d8ed5" rel="noopener">null</a></code>)作为原型，用于用<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create" rel="noopener ugc nofollow" target="_blank">Object.create()</a></code>创建的新对象。这个特殊的空对象的<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/proto" rel="noopener ugc nofollow" target="_blank"/><code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/proto" rel="noopener ugc nofollow" target="_blank">.__proto__</a></code><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/proto" rel="noopener ugc nofollow" target="_blank">属性</a>的值为<code class="fe kf kg kh ki b"><a class="ae kz" href="https://medium.com/coding-at-dawn/how-to-check-for-undefined-in-javascript-bcedd62c8ad" rel="noopener">undefined</a></code>，并且确实没有对象属性和方法，但我从未见过这种空对象的实际用途。</p><p id="6443" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">通常，我们所说的空对象是指<code class="fe kf kg kh ki b">{}</code>:一个典型的JavaScript对象，带有典型的原型继承，我们没有给自己添加任何额外的可枚举属性。并且使用全局<code class="fe kf kg kh ki b">Object.keys()</code>帮助器方法可以很容易地对可枚举属性进行计数。</p><blockquote class="nu nv nw"><p id="281b" class="ls lt nx lu b lv mo jr lx ly mp ju ma ny mq md me nz mr mh mi oa ms ml mm mn ij bi translated">可枚举属性是那些其内部可枚举标志被设置为true的属性，这是通过简单赋值或通过属性初始化器创建的属性的缺省值(通过<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" rel="noopener ugc nofollow" target="_blank"> Object.defineProperty </a>定义的属性，这种缺省值可枚举为false)。在循环中，可枚举属性显示在<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in" rel="noopener ugc nofollow" target="_blank">for…中，除非属性的键是一个</a><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol" rel="noopener ugc nofollow" target="_blank">符号</a>。— <a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Enumerability_and_ownership_of_properties" rel="noopener ugc nofollow" target="_blank"> MDN文档</a></p></blockquote><p id="e106" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">当我们使用对象文字符号(使用花括号<code class="fe kf kg kh ki b">{}</code>)声明一个变量时，我们添加了可枚举的属性。当然，我们也可以通过使用赋值操作符(<code class="fe kf kg kh ki b">=</code>)结合<code class="fe kf kg kh ki b">.</code>点语法或<code class="fe kf kg kh ki b">[]</code>进行属性赋值来添加可枚举属性。</p><p id="6ce7" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">相比之下，要添加不可枚举的属性，您必须使用<code class="fe kf kg kh ki b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" rel="noopener ugc nofollow" target="_blank">Object.defineProperty()</a></code>，除非您手工编写定制的JavaScript对象原型，否则您通常不会这样做。</p><p id="cf01" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">要计算属性数并检查对象是否为空，我推荐使用<code class="fe kf kg kh ki b">Object.keys()</code>——但是您应该知道其他方法，以防您需要检查不可枚举的属性或符号。</p><p id="ea72" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated"><strong class="lu ir">快乐编码！</strong>🍧🍨🧁🍫🍪</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><p id="39d9" class="pw-post-body-paragraph ls lt iq lu b lv mo jr lx ly mp ju ma mb mq md me mf mr mh mi mj ms ml mm mn ij bi translated">德里克·奥斯汀博士是《职业规划:如何在6个月内成为成功的6位数程序员 的作者，该书现已在亚马逊上架。</p></div></div>    
</body>
</html>