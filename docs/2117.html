<html>
<head>
<title>Create a Blog by Integrating Sanity.io, a Headless CMS, with Next.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过集成Sanity.io和Next.js创建一个博客</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-blog-by-integrating-sanity-io-a-headless-cms-with-next-js-af7383220e0c?source=collection_archive---------9-----------------------#2021-05-04">https://javascript.plainenglish.io/create-a-blog-by-integrating-sanity-io-a-headless-cms-with-next-js-af7383220e0c?source=collection_archive---------9-----------------------#2021-05-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/9370363cb807d1b2c226a79eb5feadb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ma4JpPIn-w7p7mGe6M5UjQ.png"/></div></div></figure><h1 id="6e63" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">介绍</h1><p id="665b" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">Next.js是一个做前端应用的React框架，Sanity.io是一个无头CMS。本文旨在以尽可能简单的方式提供使用这两种技术创建博客的基本信息。我们不会在这里创建一个完全成熟的博客；我们只遍历使用Sanity.io创建博客文章所需的配置，并在使用Next.js创建的前端应用程序中呈现这些博客。</p><h1 id="586d" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">创建帐户</h1><p id="bb22" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">首先要做的是在Sanity.io创建一个帐户，如果你还没有的话。Sanity.io为在其平台上启动项目提供了不同的计划。对于这个演示，我们将使用一个免费程序。做好账之后，下一步就是创建项目了。要创建一个新项目，我们必须在本地设置Sanity studio。使用终端，导航到您想要让项目复制以下命令并运行它的文件夹。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="e01a" class="ma jw in lw b gy mb mc l md me">npm install -g @sanity/cli &amp;&amp; sanity init</span></pre><p id="dcac" class="pw-post-body-paragraph kt ku in kv b kw mf ky kz la mg lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">这个命令做两件事:第一，全局安装sanity命令行工具，第二，初始化一个新的sanity项目。在初始化项目期间，会要求您提供项目名称，选择方案和数据集。当询问模式时，选择博客模式，因为我们正在创建一个博客。在完成安装后，另一个命令<em class="mk"> sanity start </em>将在本地运行到位于URL <a class="ae ml" href="http://localhost:3333." rel="noopener ugc nofollow" target="_blank"> http://localhost:3333上的sanity studio。</a></p><h1 id="a3c7" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">创建帖子</h1><p id="1265" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">使用用于在Sanity.io创建帐户的凭据登录到sanity studio。由于我们在安装过程中选择了blog schema，因此我们可以选择在sanity studio的左上角创建文章、作者和类别。将有一个按钮，使一个新的职位。点击那个按钮，一个新的标签就会弹出来，要求你填写标题、slug(用于唯一标识你的博客)、主图片和主体。同样，填写所有必需的信息，然后发布博客。</p><h1 id="22a4" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">创建下一个应用</h1><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="f7d7" class="ma jw in lw b gy mb mc l md me">npx create-next-app</span></pre><p id="0964" class="pw-post-body-paragraph kt ku in kv b kw mf ky kz la mg lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">在执行上述命令时，我们将生成下一个应用程序样板文件。在样板文件中，您可以看到一个名为pages的文件夹，它创建了另一个名为post的文件夹，并创建了一个名为[slug]的文件。新创建的post文件夹中。文件夹结构类似于pages &gt; post &gt; [slug]。射流研究…</p><figure class="lr ls lt lu gt jo"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="e578" class="pw-post-body-paragraph kt ku in kv b kw mf ky kz la mg lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">将上面的代码片段复制到[slug]中。js，我们已经完成了在Next.js应用程序中呈现Sanity.io帖子的配置。异步函数getServerSideProps检索页面路径，并从Sanity.io数据集中获取相应的数据。</p><p id="a289" class="pw-post-body-paragraph kt ku in kv b kw mf ky kz la mg lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated">页面路径应该与我们在sanity studio创建文章时给出的slug值相同，因此如果给定文章的slug是“first-post ”,那么它的路径应该是http://localhost:3000/post/first-post。在获取API URL时，您必须用相应的项目ID和数据集替换[您的项目ID]和[您的数据集名称]。</p><h1 id="c925" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">结论</h1><p id="b301" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">感谢您的阅读。我希望这对你有所帮助，并且你对使用Next.js和Sanity.io创建博客更有信心了。</p><p id="03ce" class="pw-post-body-paragraph kt ku in kv b kw mf ky kz la mg lc ld le mh lg lh li mi lk ll lm mj lo lp lq ig bi translated"><a class="ae ml" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mk">更多内容看plainenglish.io </em> </a></p></div></div>    
</body>
</html>