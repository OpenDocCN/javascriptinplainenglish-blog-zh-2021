<html>
<head>
<title>How to Make Your JavaScript Code More Functional Using Map, Filter, and Reduce</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Map、Filter和Reduce使您的JavaScript代码更具功能性</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-make-your-javascript-code-more-functional-using-map-filter-and-reduce-df160d787f71?source=collection_archive---------14-----------------------#2021-04-20">https://javascript.plainenglish.io/how-to-make-your-javascript-code-more-functional-using-map-filter-and-reduce-df160d787f71?source=collection_archive---------14-----------------------#2021-04-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="eff2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在本文中，我们将仔细研究这些函数和一些相关的代码示例。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/772200f157b761eed01208ddc9b4f8dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*C8lfuo3nOPl2t0iQ"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@oskaryil?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Oskar Yildiz</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fd21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在JavaScript中，我们通常使用三种流行的方法来执行数据转换:map、filter和reduce。</p><p id="36da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将仔细研究这些函数和一些相关的代码示例。</p><h1 id="a03b" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">。地图( )</h1><p id="ad1d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">map()</code>方法获取一个数组，循环遍历该数组，在每次迭代中，它对当前数组元素应用一个回调函数。该函数将原始数组的值映射到一个新数组，这就是它被称为“map”的原因。</p><p id="cbfb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们有一系列美元的银行活动，我们想把它们转换成欧元。</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="f33c" class="mx lt iq ms b gy my mz l na nb">const movements = [100, -50, 75, -15]</span></pre><p id="81cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，让我们将转换率存储到一个单独的变量中。</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="dcf5" class="mx lt iq ms b gy my mz l na nb">const usdToEur = 0.84;</span></pre><p id="d226" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以在<code class="fe mp mq mr ms b">movements</code>数组上调用<code class="fe mp mq mr ms b">map()</code>方法。该方法需要一个回调函数，该函数获取当前数组元素作为参数，在本例中为<code class="fe mp mq mr ms b">mov</code>。在回调函数中，我们返回原始数组的每个元素乘以转换率。这将创建一个新的数组，每个动作都转换成欧元。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="dfd9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了简化这个函数，我们可以用箭头函数代替回调函数:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="46f1" class="mx lt iq ms b gy my mz l na nb">const movementsEur = movements.map(mov =&gt; mov * usdToEur);</span></pre><p id="e084" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了当前元素之外，<code class="fe mp mq mr ms b">map()</code>方法还可以访问当前索引和整个数组。</p><p id="558c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以为每个移动创建一个新的数组，指定移动的位置、值，以及它是存款(<code class="fe mp mq mr ms b">mov &gt; 0</code>)还是取款(<code class="fe mp mq mr ms b">mov &lt; 0</code>)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h1 id="ff82" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">。过滤器( )</h1><p id="0699" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">顾名思义,<code class="fe mp mq mr ms b">filter()</code>方法用于过滤原始数组中满足特定条件的元素，这些元素在回调函数中指定。</p><p id="4b18" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">回到我们的银行变动的例子，假设我们想要创建一个包含所有存款的数组，因此所有的变动都大于0。只有满足该条件的数组元素才会成为新存款数组的一部分，而其他元素将被过滤掉。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="187f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">和以前一样，我们可以用箭头函数替换回调函数:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="b179" class="mx lt iq ms b gy my mz l na nb">const deposits= movements.filter(mov =&gt; mov &gt; 0);</span></pre><h1 id="1e06" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">。减少( )</h1><p id="f167" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">reduce()</code>方法用于将数组中的所有元素缩减为一个元素。这种情况的一个例子是将一个数组的所有元素相加。</p><p id="bc24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的示例中，我们可以创建一个函数，通过将存款和取款相加来计算帐户的总余额。</p><p id="4253" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">像其他方法一样，<code class="fe mp mq mr ms b">reduce()</code>函数也获得一个回调函数，但是在这个方法中，第一个参数是一个叫做累加器的东西，而第二个参数是当前元素。</p><p id="28ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当<code class="fe mp mq mr ms b">reduce()</code>方法在数组上循环时，它不断将当前元素添加到累加器上，直到循环结束，我们得到所有元素的总和。</p><p id="6077" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">值得注意的是，回调函数是<code class="fe mp mq mr ms b">reduce()</code>方法的第一个参数，它还接受第二个参数，即累加器的初始值，在示例中为0。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="922e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">带箭头功能:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="720c" class="mx lt iq ms b gy my mz l na nb">const balance = movements.reduce((acc, curr) =&gt; acc + curr, 0);</span></pre><p id="a66f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请在评论中告诉我你将如何使用这三种JavaScript方法！</p></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><p id="da79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nl">考虑</em> <a class="ae kv" href="https://ebelinggianmarco.medium.com/membership" rel="noopener"> <strong class="ky ir"> <em class="nl">成为中等成员</em></strong></a><strong class="ky ir"><em class="nl"/></strong><em class="nl">如果你喜欢看这样的故事，并且想帮助我这个作家。每月5美元，你可以无限制地访问媒体内容。如果你通过</em> <a class="ae kv" href="https://ebelinggianmarco.medium.com/membership" rel="noopener"> <strong class="ky ir"> <em class="nl">我的链接报名，我会得到一点佣金。</em> </strong> </a></p><p id="7662" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nl">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="nl">plain English . io</em></a></p></div></div>    
</body>
</html>