<html>
<head>
<title>Learn about Ajax and How to Make Your First Server Request in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解Ajax以及如何用JavaScript发出第一个服务器请求</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/learn-about-ajax-and-how-to-make-your-first-server-request-in-javascript-dc332f406d39?source=collection_archive---------18-----------------------#2021-05-14">https://javascript.plainenglish.io/learn-about-ajax-and-how-to-make-your-first-server-request-in-javascript-dc332f406d39?source=collection_archive---------18-----------------------#2021-05-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="b7f8" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">JavaScript中的获取方法。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/ed9c48a267b0fdb7adf505dc0b89599b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9BRXTuC0y1UcWNxd"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@clark_fransa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Arnold Francisca</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="5f03" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">Ajax历史</h1><p id="662d" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">创建动态网站而不刷新整个页面和弹出窗口是JavaScript成名之门。创建动态页面背后的基本概念最早是由Microsoft于1998年在Outlook中引入XMLHttpRequest对象时开发的。</p><p id="a318" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">2004年和2005年，谷歌通过引入Gmail和谷歌地图将动态网站推向了一个新的高度，这一次他们使用了Ajax。杰西·詹姆斯·加勒特创造了术语Ajax，它代表异步JavaScript和XML。</p><p id="daa5" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">Ajax的主要目标是将数据从服务器加载到浏览器，而不需要进行可见的刷新。要使用Ajax，您需要使用以下技术:JavaScript、XMLHttpRequest、DOM和可能是XML、HTML或JSON格式的文本数据。</p><h1 id="48f5" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated"><strong class="ak">JavaScript中的Fetch方法</strong></h1><p id="455d" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">在jQuery库或fetch方法出现之前，使用Ajax中的XMLHttpRequest对象向开发人员发出Ajax请求并不容易，你可以看看Mozilla开发人员网络的<a class="ae ks" href="https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started" rel="noopener ugc nofollow" target="_blank"><strong class="ln io"/></a>来了解我在说什么。</p><p id="a83d" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">jQuery库通过引入$,解决了XMLHttpRequest对象的问题。ajax()全局函数。然而，对于许多开发人员来说，使用外部库并不愉快。</p><p id="144c" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">为了解决所有这些令人头痛的问题，web超文本应用技术工作组(WHATWG)提出了一个跨Web平台的解决方案:<a class="ae ks" href="https://fetch.spec.whatwg.org/" rel="noopener ugc nofollow" target="_blank"><strong class="ln io">fetch()方法</strong> </a>。</p><p id="553b" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">fetch方法接受一个必需的参数，它是您要从中获取数据的URL或路径，提供更多参数是可选的。当您使用URL调用fetch时，它将返回一个承诺，因此，我们需要通过将调用传递回then()方法来处理响应。</p><p id="73b6" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">有许多URL或资源可以从中获取数据，但是我们将在本地构建一个包含一些数据的端点，因此，我们需要一个JSON文件。</p><p id="2ddb" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">我们将构建一个简单的Html接口，用JavaScript从JSON文件中获取用户信息。我们的JSON文件将继续下面的信息，一个内部有一些属性的对象，我们的目标是获取每个属性内部的值。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="2f34" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">显示用户数据的UI如下所示:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mo"><img src="../Images/9c21ad6bdf52dcad2fdf4ee7bdbd951d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vAkyzx1FtL-eNN8PeDm9nQ.png"/></div></div></figure><p id="bd2b" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">上面示例的HTML标记:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="01a7" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">在文章的最后，我将包含一个到GitHub库的直接链接，该库包含所有使用过的文件。</p><p id="667f" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">本着这种精神，再一次回到我们的HTML文件，在script标签中，我们已经定义了一些常量，第一个常量包含对显示提取数据的按钮的引用，其他常量包含对我们在文档中使用的每个输入字段的引用。</p><p id="74db" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">click事件的事件处理程序或回调函数将通过preventDefault()方法使用事件对象来防止任何默认行为，最后，我们有fetch方法。</p><p id="8092" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">fetch方法将前一个JSON文件的名称作为参数。向fetch传递一个参数意味着我们正在发出一个GET请求，如果我们发出一个POST请求，我们将需要提供更多的参数以及关于请求的指定选项。</p><p id="33cb" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">在我们的示例中调用fetch方法，我们将返回一个解析响应的承诺，因此，我们需要使用then()方法来处理响应，在前面的示例中，如果您仔细观察fetch()方法，您会发现我们使用了两个then()方法。</p><p id="cc66" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">fetch返回的结果将继续一些额外的信息，如主体、头、指示请求是否成功的状态代码，在我们的情况下，我们只需要主体内的信息，为此我们将使用json()方法，该方法也返回一个承诺。</p><p id="ebd1" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">第二个then()方法将处理json()方法返回的响应，结果将是我们的JSON文件中的主要信息，它是一个包含一些属性的对象，我们将每个属性分配给所需输入字段的值，如下所示。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mo"><img src="../Images/9955e479a4117bf5af0b4fc9c352d023.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cyvAh0JGVTkqnXg74pqoIA.png"/></div></div></figure><h1 id="74df" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">最后</h1><p id="a6de" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">fetch方法减轻了JavaScript开发人员的负担，为他们提供了一种不使用外部库或直接与XMLHttpRequest对象交互就能发出Ajax请求的合适方法。</p><p id="38a9" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">Fetch不仅仅服务于向服务器发出GET请求，我们还可以用它来发出POST请求，但是，这样做我们将需要更多带有指定选项的参数。</p><p id="1b58" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><em class="mp">更多内容尽在</em><a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mp">plain English . io</em></a></p></div></div>    
</body>
</html>