<html>
<head>
<title>What is __proto__ in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的__proto__是什么？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-is-proto-b15f16e10b72?source=collection_archive---------5-----------------------#2021-01-05">https://javascript.plainenglish.io/what-is-proto-b15f16e10b72?source=collection_archive---------5-----------------------#2021-01-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5d7e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如果您使用过JavaScript，那么您很可能会遇到它</h2></div><p id="6f9e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您使用过JavaScript，您可能会遇到类似这样的情况:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/606397f2fd5990263870a60e79fc41d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*06gWgQkHpbU7eHDyxUyOlg.png"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Try console logging an empty object</figcaption></figure><p id="2051" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我创建了一个空对象，为什么console.log显示一个神秘属性<code class="fe ln lo lp lq b">__proto__</code>？</p><h2 id="3873" class="lr ls iq bd lt lu lv dn lw lx ly dp lz ko ma mb mc ks md me mf kw mg mh mi mj bi translated">不神秘</h2><p id="b655" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">结果是，一个空的对象不仅仅是你在屏幕上看到的两个花括号。创建的每一个javascript对象都自动带有一个来自<code class="fe ln lo lp lq b">Object.prototype</code>对象的<code class="fe ln lo lp lq b">__proto__</code>属性。迷惑？让我们尝试扩展<code class="fe ln lo lp lq b">__proto__</code>对象。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mp"><img src="../Images/3ef1431d294e2164bcc139beaf00890c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g-9BMVsa87N5ZYLigX_jxQ.png"/></div></div></figure><p id="18b1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在让我们来看看<code class="fe ln lo lp lq b">Object.prototype</code>。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mu"><img src="../Images/3acf1bb28583d70f6740b11b8567ad06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5B9jAkJCx4VVSk9Xr2Mvdg.png"/></div></div></figure><p id="9622" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，这两者具有完全相同的属性，这是因为我们的变量<code class="fe ln lo lp lq b">x</code> <strong class="kh ir">从<code class="fe ln lo lp lq b">Object.prototype</code>继承了</strong>相同的<code class="fe ln lo lp lq b">__proto__</code>！</p><h2 id="9996" class="lr ls iq bd lt lu lv dn lw lx ly dp lz ko ma mb mc ks md me mf kw mg mh mi mj bi translated">等等，这是不是意味着我可以…</h2><p id="7ab1" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">是的，你可以修改<code class="fe ln lo lp lq b">Object.prototype</code>，之后创建的每一个对象也将包含你的修改。让我们通过给我们的<code class="fe ln lo lp lq b">Object.prototype</code>一个新函数来测试一下。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/528a960b14d6b5d9f8cefe08657210a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*XwCnG55ziuVF2nYWMogCeA.png"/></div></figure><p id="9ede" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过给<code class="fe ln lo lp lq b">Object.prototype</code>分配一个新的函数<code class="fe ln lo lp lq b">sayHi</code> <strong class="kh ir"> </strong>，每个后续创建的对象将自动拥有该函数。</p><h2 id="3c66" class="lr ls iq bd lt lu lv dn lw lx ly dp lz ko ma mb mc ks md me mf kw mg mh mi mj bi translated">__proto__无处不在</h2><p id="3b65" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">如果我不想改变<strong class="kh ir">创建的每一个单独的对象</strong>，而只想改变一个特定的对象，该怎么办？嗯，这里有一个更实际的用例。我们将创建一个“人类”对象，并赋予它通常的人类属性(你知道，像胳膊和腿)，以及一个只记录“跳跃…”的函数<code class="fe ln lo lp lq b">jump</code>。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/181294fbf728af495d21a012ea6c91dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*c0JbdobVPnGLvo6u5jhNww.png"/></div></figure><p id="a763" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在让我们创建一个新的对象<code class="fe ln lo lp lq b">jane</code>。我们将为它命名，此外，我们还将添加一个<code class="fe ln lo lp lq b">__proto__</code>属性，该属性被设置为<code class="fe ln lo lp lq b">human</code>(我们之前创建的对象)。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/5717ba2e9e159f4c61e981f03a3b285a.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*xZs7_mk_0c57SU1X-3-o1A.png"/></div></figure><p id="4987" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们可以做<code class="fe ln lo lp lq b">jane.jump()</code>了，它会在控制台记录“跳跃…”</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi my"><img src="../Images/21b4d455ad20494a3a635c2da7bbb1cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/1*hcwKXE00v5JC8KVILgUpcw.png"/></div></figure><h2 id="365e" class="lr ls iq bd lt lu lv dn lw lx ly dp lz ko ma mb mc ks md me mf kw mg mh mi mj bi translated">所以，只有物体才有__proto__？</h2><p id="7f1d" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">不，其他类型都有自己的。这是其中的一些</p><ul class=""><li id="2b53" class="mz na iq kh b ki kj kl km ko nb ks nc kw nd la ne nf ng nh bi translated"><code class="fe ln lo lp lq b">Array.prototype</code></li><li id="7e43" class="mz na iq kh b ki ni kl nj ko nk ks nl kw nm la ne nf ng nh bi translated"><code class="fe ln lo lp lq b">Number.prototype</code></li><li id="8071" class="mz na iq kh b ki ni kl nj ko nk ks nl kw nm la ne nf ng nh bi translated"><code class="fe ln lo lp lq b">String.prototype</code></li><li id="f66d" class="mz na iq kh b ki ni kl nj ko nk ks nl kw nm la ne nf ng nh bi translated"><code class="fe ln lo lp lq b">Boolean.prototype</code></li></ul><p id="63ff" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们的工作方式都和<code class="fe ln lo lp lq b">Object.prototype</code>一样。</p><h2 id="cb94" class="lr ls iq bd lt lu lv dn lw lx ly dp lz ko ma mb mc ks md me mf kw mg mh mi mj bi translated">有用吗？</h2><p id="35a5" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">嗯……首先，你可以在数组原型上创建一个<code class="fe ln lo lp lq b">isNumbers</code>函数，帮助我检查数组是否只包含数字</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi nn"><img src="../Images/4756737c725255c93540e13e1b88783b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AhZoe9LVWL3h6Cdo-j3N9Q.png"/></div></div></figure><p id="5563" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">至于输出…</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi no"><img src="../Images/30d3da13e9b7579dc23c1e76deccadda.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*EytDGC5C4lqev1ELA9iaSQ.png"/></div></div></figure><p id="349a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有用性完全由你决定。但是在你继续在你的生产应用中使用<code class="fe ln lo lp lq b">__proto__</code>之前，请注意<code class="fe ln lo lp lq b">__proto__</code>已经被弃用，你应该使用<code class="fe ln lo lp lq b"><a class="ae np" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf" rel="noopener ugc nofollow" target="_blank">Object.getPrototypeOf()</a></code>或者<code class="fe ln lo lp lq b"><a class="ae np" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf" rel="noopener ugc nofollow" target="_blank">Object.setPrototypeOf()</a></code>来代替。</p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><h2 id="0484" class="lr ls iq bd lt lu lv dn lw lx ly dp lz ko ma mb mc ks md me mf kw mg mh mi mj bi translated">链接</h2><p id="c4cf" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated"><a class="ae np" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/proto" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Reference/Global _ Objects/Object/proto</a></p></div></div>    
</body>
</html>