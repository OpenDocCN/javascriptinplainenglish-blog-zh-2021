<html>
<head>
<title>How To Make React/Gatsby.js Page Transition Animations With GSAP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用GSAP制作React/Gatsby.js页面过渡动画</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-animate-page-transition-using-gatsby-js-and-gsap-in-react-b9ecf247fec2?source=collection_archive---------1-----------------------#2021-02-08">https://javascript.plainenglish.io/how-to-animate-page-transition-using-gatsby-js-and-gsap-in-react-b9ecf247fec2?source=collection_archive---------1-----------------------#2021-02-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/27c331d7eb9e46f588d1f9a7ae40ae4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TL_XmAtEHvrY_kQKepcTbQ.gif"/></div></div></figure><p id="a3c2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在重建一个作品集网站的时候，我们想出了一个(目前普遍使用的)想法来制作网站页面之间的过渡动画。我们已经基本准备好了我们的项目(除了一些最小的细节)，它是在React中使用<a class="ae kw" href="https://www.gatsbyjs.com/" rel="noopener ugc nofollow" target="_blank">盖茨比</a>作为框架，我们也使用<a class="ae kw" href="https://greensock.com/gsap/" rel="noopener ugc nofollow" target="_blank"> Gsap </a>用于页面内动画和滚动行为；因此，我们需要一些东西，可以很容易地插入到一个盖茨比驱动的网站，可以充分利用GSAP动画，以便所有的网站动画得到相同的“感觉”。</p><p id="bd8d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在尝试使用Barba.js(我认为它是页面转换的实际标准)后，我们发现我们在重写代码以添加Barba所需的ID和类时遇到了一些问题，我们还发现我们的菜单在一个单独的组件中，这使得设置更加复杂，尤其是跟踪活动菜单和其他类似的事情。</p><p id="b72a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">进一步挖掘，我们发现了一个名为<a class="ae kw" href="https://www.gatsbyjs.com/plugins/gatsby-plugin-transition-link/" rel="noopener ugc nofollow" target="_blank">gatsby-plugin-transition-link</a>的Gatsby插件，它为Gatsby页面添加了过渡功能。</p><h2 id="d700" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">如何<strong class="ak">盖茨比插件过渡链接</strong></h2><p id="d745" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">除了关于站点中如何发生过渡的技术生命周期(您可以在这里找到详细的解释<a class="ae kw" href="https://transitionlink.tylerbarnes.ca/docs/timeline-of-events/" rel="noopener ugc nofollow" target="_blank">https://transition Link . tylerbarnes . ca/docs/timeline-of-events/</a>)，这个插件可以在Gatsby项目中以(至少)3种方式实现，只需更改您的Gatsby<em class="lv">&lt;Link&gt;…&lt;/Link&gt;</em>with<em class="lv">&lt;transition Link&gt;…&lt;/transition</em></p><p id="3653" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最简单的方法是<anilink>导入它，然后在链接到页面时使用，然后在链接到页面时使用:</anilink></p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="30d8" class="kx ky iq mb b gy mf mg l mh mi">import AniLink from "gatsby-plugin-transition-link/AniLink";<br/>...<br/>&lt;AniLink fade to="/about"&gt;<br/>  About<br/>&lt;/AniLink&gt;</span></pre><p id="d5c0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这样，当点击<em class="lv">关于</em>链接时，它将淡出(或滑动，或覆盖或涂抹)到关于页面。这是最基本的，不需要配置，也不需要太多定制</p><p id="3cda" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后你可以使用<transitionlink>与触发器，你导入它，然后你在页面之间链接指定哪个动画触发退出和进入页面，它的持续时间和它的延迟:</transitionlink></p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="a739" class="kx ky iq mb b gy mf mg l mh mi">import TransitionLink from 'gatsby-plugin-transition-link';<br/>...<br/>&lt;TransitionLink<br/>  to="/about"<br/>  exit={{<br/>    trigger: ({ exit, node }) =&gt; leaving(exit, node),<br/>    length: 1<br/>  }}<br/>  entry={{<br/>    trigger: ({ enter, node }) =&gt; entering(enter, node),<br/>    length: 1,<br/>    delay: 0.6<br/>  }}<br/>&gt;<br/>  About<br/>&lt;/TransitionLink&gt;</span></pre><p id="0105" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当你点击<em class="lv">关于</em>链接时，transition运行<em class="lv">离开</em>动画函数(可以是GSAP，一个弹簧，js，一个Anime.js one)一段指定的时间，并在指定的延时后执行目标页面上的<em class="lv">进入</em>动画。如果您将所有的过渡动画集中在一个可以传递的文件中，并且所有的页面都具有相同的结构(关于refs、id、classes ),这种方法非常好，否则动画会失败(或者有不可预知的结果)。</p><p id="564e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第三个也是最强大的一个是基于状态的转换:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="1d21" class="kx ky iq mb b gy mf mg l mh mi">import TransitionLink from 'gatsby-plugin-transition-link';<br/>...<br/>&lt;TransitionLink<br/>  to="/about"<br/>  exit={{<br/>    length: 1,  <br/>    state: {customstate: 'this is a exiting message'}<br/> }}<br/>  entry={{<br/>    delay: 0.6,<br/>    state: {customstate: 'this is a entering message'}<br/>  }}<br/>&gt;<br/>  About<br/>&lt;/TransitionLink&gt;</span></pre><p id="bb0f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这样，当您单击About时，您将一个转换状态作为道具传递给页面(您所在的页面，您正在链接的页面)，转换状态可以是以下之一:<em class="lv">退出</em>、<em class="lv">退出</em>、<em class="lv">进入</em>、<em class="lv">进入</em>，加上对象中指定的退出/进入状态。<br/>此时非常容易创建基于过渡状态的强大动画:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="7842" class="kx ky iq mb b gy mf mg l mh mi">const AboutPage = ({ transitionStatus, enter, exit }) =&gt; {<br/>   useEffect(() =&gt; {<br/>    <!-- -->console.log(transitionStatus, entry, exit)<br/>    if (transitionStatus==='exiting') { <br/>      //play the exit animation  <br/>    }<br/>    if (transitionStatus==='entering') { <br/>      //play the enter animation  <br/>    }<br/>    if (transitionStatus==='entered') { <br/>      //the page is loaded, play another animation<br/>    }</span><span id="444f" class="kx ky iq mb b gy mj mg l mh mi">},[transitionStatus]); //execute when transitionStatus change</span></pre><p id="a70d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这种动画最重要的一点是用户体验，它看起来像一个单页面应用程序，但你是在一个多页面应用程序中(即使页面的某些部分被更新，url也会改变),拥有所有的优势(静态HTML、seo等等)。</p><h1 id="bac1" class="mk ky iq bd kz ml mm mn lc mo mp mq lf mr ms mt li mu mv mw ll mx my mz lo na bi translated">构建带有页面转换的微型网站</h1><p id="bcd7" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">理论讲得够多了，让我们根据我们的需要建立一个带有页面转换的迷你网站。要继续学习，你可以在这里下载资源库→<a class="ae kw" href="https://github.com/popeating/animation-demo" rel="noopener ugc nofollow" target="_blank">https://github.com/popeating/animation-demo</a></p><h2 id="3f64" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">先决条件</h2><p id="fa19" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">本教程假设你已经知道(至少知道一点)React JS，你熟悉Gatsby和它的插件，我们也将使用<a class="ae kw" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> Tailwind CSS </a>进行样式化(尽管这不是必须的)</p><h2 id="572c" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated"><strong class="ak">我们要建什么</strong></h2><p id="95c2" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">在本演练结束时，您将构建一个迷你站点，其中包含主页、关于和联系人页面，所有这些页面都有一个公共菜单(在其自己的组件中)及其进入和退出(基本)动画</p><h2 id="a7b4" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">创建项目并安装插件和所需的库</h2><p id="87ab" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">使用:<code class="fe nb nc nd mb b">npm init gatsby</code>创建一个新的Gatsby项目，遵循屏幕上的提示，一旦项目准备好，就进入它的文件夹。</p><p id="49f8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装盖茨比插件过渡链接</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="da49" class="kx ky iq mb b gy mf mg l mh mi">npm i gatsby-plugin-transition-link</span></pre><p id="05e2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后将插件添加到<em class="lv"> gatsby-config.js </em></p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="9610" class="kx ky iq mb b gy mf mg l mh mi">// gatsby-config.js<br/>module.exports = {<br/>    plugins: [<br/>      `gatsby-plugin-transition-link`<br/>    ]<br/>];</span></pre><p id="6102" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装你最喜欢的动画包，在我们的例子中，我们使用GSAP</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="5a7d" class="kx ky iq mb b gy mf mg l mh mi">npm install gsap</span></pre><p id="45d8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你要使用顺风CSS的话，安装并配置它(如果需要的话，遵循这个指南<a class="ae kw" href="https://www.gatsbyjs.com/docs/how-to/styling/tailwind-css/" rel="noopener ugc nofollow" target="_blank">https://www.gatsbyjs.com/docs/how-to/styling/tailwind-css/</a></p><h2 id="47f7" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated"><strong class="ak">布置项目</strong></h2><p id="f2bc" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">在<em class="lv"> src/pages </em>文件夹中添加以下文件:about.js，contact.js，同时清理index.js使其为空。<br/>在<em class="lv"> src </em>中创建一个名为<em class="lv"> components </em>的文件夹，并在其中添加一个名为<em class="lv"> Menu.js </em>的文件；文件结构现在应该如下所示:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/8c86566046c067b2372a789e4fa4ce66.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*WDviYZ9i9E4Ghjv32uqLmQ.png"/></div></figure><h2 id="91d3" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">编辑页面</h2><p id="9676" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">让我们开始编辑页面:</p><p id="418e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">索引页面，它只是一个包含菜单组件(稍后创建)的普通页面(其他页面也是如此)，我们指定<em class="lv"> transitionStatus </em>作为道具，即使我们还没有使用它:</p><figure class="lw lx ly lz gt jr"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="bccb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">与之前一样，about页面是一个简单的页面，包含菜单组件和<em class="lv"> transitionStatus </em>属性:</p><figure class="lw lx ly lz gt jr"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="c929" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">联系页面:</p><figure class="lw lx ly lz gt jr"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="86c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在是使用菜单组件链接页面的时候了；该链接将使用TransitionLink创建(尽管目前没有动画)，给出1秒的退出长度(因此当您单击该链接时，退出页面将多显示1秒，允许退出动画)并且没有entry属性(进入页面将立即出现)。我们还用一个附加类设置了activeClassname来跟踪活动菜单。在退出(和进入对象)中，也可以添加一个<em class="lv">延迟</em>参数，该参数指示进入(或退出)动作开始的延迟。如果不指定延迟值，进入和退出将同时开始。</p><figure class="lw lx ly lz gt jr"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="c00f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，如果您使用以下代码运行项目:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="5e6c" class="kx ky iq mb b gy mf mg l mh mi">gatsby develop</span></pre><p id="dc30" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在浏览器中打开它，http://localhost:8000 ，主页应该会出现:</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/c243cac465b3ff637cf0dce6ded41d67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E2F84pwjICY9-HaFZ8jBkA.png"/></div></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk">Our basic Homepage</figcaption></figure><p id="fc4c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所有的链接应该是功能性的，你会注意到当从一个页面传递到另一个页面时，页面如何“重叠”1秒钟，这与TransationLink中指定的参数有关。正如你所看到的，如果你点击<em class="lv">关于，</em>关于页面由于<code class="fe nb nc nd mb b">entry={{}}</code>而立即出现，主页根据<code class="fe nb nc nd mb b">exit={{length: 1}}</code>在1秒后消失。</p><p id="7e28" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们现在可以看到页面在进入和退出时发生了什么；让我们将这段代码添加到index.js中(不要忘记导入useEffect！)</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="5064" class="kx ky iq mb b gy mf mg l mh mi">useEffect(() =&gt; {<br/>  console.log('HomePage', transitionStatus);<br/>}, [transitionStatus]);</span></pre><p id="b983" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另外，在about.js和contact.js中添加一个类似的代码片段。</p><p id="fa7e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，如果你打开你的控制台，在页面之间导航，你应该看到transitionStatus不断更新。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/4ae7bb4582450fcfb189b093a18786b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*CTXGsv-fAf3mo8P2tTLnWA.png"/></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk">We are loggin the enter/exit process</figcaption></figure><p id="1974" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这一点上，我们几乎设置好了动画的过渡，这只是一个偏好和风格的问题。让我们从一个基本的开始:在主页中，我们进入时淡入，退出时淡出；我不会深入讨论如何aimate，因为这是GSAP相关的，但基本上我们正在获得一个DOM元素(在这种情况下通过类),并使用gsap模块将其动画化。</p><p id="d154" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">返回Menu.js并修改主页链接，使<em class="lv">条目</em>的长度也为1:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="7656" class="kx ky iq mb b gy mf mg l mh mi">&lt;TransitionLink<br/> to="/"<br/> exit={{<br/>  length: 1,<br/>}}<br/> entry={{ length: 1 }}<br/> className="hover:text-gray-600"<br/>&gt;<br/> HOMEPAGE<br/>&lt;/TransitionLink&gt;</span></pre><p id="0f66" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来是index.js导入GSAP</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="9201" class="kx ky iq mb b gy mf mg l mh mi">import gsap from 'gsap'</span></pre><p id="8a44" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">修改主页文本的类名，使其在启动时是透明的(如果你使用的是Tailwind CSS，那么这个类名就是透明的)和一个你可以引用的类名(我使用的是T2 hometex T3):</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="aa8d" class="kx ky iq mb b gy mf mg l mh mi">&lt;div className="text-3xl w-full mx-auto justify-center flex font-bold hometex opacity-0"&gt;<br/>  WELCOME TO THE HOME PAGE<br/>&lt;/div&gt;</span></pre><p id="9e76" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">用useEffect钩子制作它的入口和出口透明度的动画，我们使用了一个没有依赖关系的useEffect钩子，这样当页面被直接调用时。hometex类设置为opaque (autoAlpha为1表示我们设置opacity为1，visibility为visible，以防万一)，1秒(持续时间参数)；然后我们有一个useEffect钩子，它依赖于<em class="lv"> transitionStatus </em>，当从一个链接到达页面或使用一个链接离开页面时触发动画:</p><figure class="lw lx ly lz gt jr"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="9603" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，如果你从/到网站的主页，它的内容会正确地淡化，但我们来自或将要去的页面会突然出现/消失。让我们在“关于”页面中添加一个更有趣的动画:</p><p id="4a0c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，我们再次修改菜单，在“关于”链接上输入一秒钟:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="a357" class="kx ky iq mb b gy mf mg l mh mi">&lt;TransitionLink<br/> to="/about"<br/> exit={{<br/>  length: 1,<br/>}}<br/> entry={{ length: 1 }}<br/> className="hover:text-gray-600"<br/>&gt;<br/> Abouot<br/>&lt;/TransitionLink&gt;</span></pre><p id="e155" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我们跟useRef挂钩(导入useRef！)我们创建一个数组来引用每一行文本，这样我们就可以将这个引用数组传递给动画函数(这主要是与GSAP相关的，可能不是处理它的最佳方式)</p><figure class="lw lx ly lz gt jr"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="6c15" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我们添加一个GSAP动画，我们将从useEffect钩子中调用它</p><figure class="lw lx ly lz gt jr"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="2652" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，当我们从主页转到“关于”页面时，主页文本将淡出，同时“关于”页面的内容将动画显示，当您回到主页时，“关于”将动画显示，同时主页将淡入。您可以使用延迟和持续时间参数来同步动画，以满足您的需求。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/27c331d7eb9e46f588d1f9a7ae40ae4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TL_XmAtEHvrY_kQKepcTbQ.gif"/></div></div></figure><h2 id="67f6" class="kx ky iq bd kz la lb dn lc ld le dp lf kj lg lh li kn lj lk ll kr lm ln lo lp bi translated">接下来呢？</h2><p id="9ab9" class="pw-post-body-paragraph jy jz iq ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">如果你下载了回购，我会把联系人动画空出来作为游乐场。</p><p id="b3e0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，所有的动画都可以优化，改变，你可以让它们变得非常复杂或非常微妙，你可以使用另一个动画包等等。但是我认为如果您在项目中使用Gatsby，这是开始实现页面转换的好方法</p></div></div>    
</body>
</html>