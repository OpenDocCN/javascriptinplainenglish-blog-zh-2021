<html>
<head>
<title>Add Metadata to our Vue App with vue-meta</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用vue-meta向我们的Vue应用程序添加元数据</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/add-metadata-to-our-vue-app-with-vue-meta-298f573f758b?source=collection_archive---------17-----------------------#2021-01-04">https://javascript.plainenglish.io/add-metadata-to-our-vue-app-with-vue-meta-298f573f758b?source=collection_archive---------17-----------------------#2021-01-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/20de70160fdc09aa6b53f80e2989a1b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q2p4Ek3F9VIv8Iqa"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@polygraph?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nicolás Varela</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6b8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了在我们的Vue应用中轻松添加元标签，我们可以使用vue-meta库。</p><p id="82f0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用Vue元库来为我们的Vue应用添加元标签。</p><h1 id="73ea" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">装置</h1><p id="37b3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过运行以下命令来安装它:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="db2b" class="mn lc iq mj b gy mo mp l mq mr">yarn add vue-meta</span></pre><p id="ad64" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9df9" class="mn lc iq mj b gy mo mp l mq mr">npm i vue-meta</span></pre><p id="4b50" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以用脚本标签直接包含这个库。</p><p id="39d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以通过编写以下内容来添加dev版本:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0f8a" class="mn lc iq mj b gy mo mp l mq mr">&lt;script src="https://unpkg.com/vue-meta/dist/vue-meta.js"&gt;&lt;/script&gt;</span></pre><p id="074a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">生产版本可以通过编写以下内容来添加:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2deb" class="mn lc iq mj b gy mo mp l mq mr">&lt;script src="https://unpkg.com/vue-meta/dist/vue-meta.min.js"&gt;&lt;/script&gt;</span></pre><h1 id="8e86" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">添加元标签</h1><p id="bcda" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要添加标签，我们必须注册插件。</p><p id="8014" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="04cb" class="mn lc iq mj b gy mo mp l mq mr">import Vue from "vue";<br/>import App from "./App.vue";<br/>import VueMeta from "vue-meta";</span><span id="405b" class="mn lc iq mj b gy ms mp l mq mr">Vue.use(VueMeta);<br/>Vue.config.productionTip = false;</span><span id="82d7" class="mn lc iq mj b gy ms mp l mq mr">new Vue({<br/>  render: (h) =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="4f4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe mt mu mv mj b">main.js</code>中添加插件。</p><p id="ec7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以添加一个带有一些选项的对象作为第二个参数:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="06ee" class="mn lc iq mj b gy mo mp l mq mr">import Vue from "vue";<br/>import App from "./App.vue";<br/>import VueMeta from "vue-meta";</span><span id="759c" class="mn lc iq mj b gy ms mp l mq mr">Vue.use(VueMeta, {<br/>  keyName: "metaInfo",<br/>  attribute: "data-vue-meta",<br/>  ssrAttribute: "data-vue-meta-server-rendered",<br/>  tagIDKeyName: "vmid",<br/>  refreshOnceOnNavigation: true<br/>});<br/>Vue.config.productionTip = false;</span><span id="3413" class="mn lc iq mj b gy ms mp l mq mr">new Vue({<br/>  render: (h) =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="d337" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">keyName</code>是组件选项的名称，它包含了所有要转换为元标签和属性的信息。</p><p id="1767" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">attributre</code>是属性的名称，让vue-meta知道它应该如何管理和忽略。</p><p id="3c82" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">ssrAttribute</code>是添加到<code class="fe mt mu mv mj b">html</code>标签的属性名，用来通知vue-meta服务器已经生成了meta标签。</p><p id="92e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">tagIDKeyName</code>是告诉vue-meta覆盖标签列表中的项目的属性。</p><p id="fb91" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">refreshOnceOnNavigation</code>页面导航开始后暂停更新，到了<code class="fe mt mu mv mj b">true</code>时导航结束后恢复更新。</p><p id="6293" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它可以帮助提高速度，并修复更换样式时的闪烁。</p><p id="82b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们注册了插件，我们可以添加<code class="fe mt mu mv mj b">metaInfo</code>属性来添加meta标签:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="bd1e" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;&lt;/div&gt;<br/>&lt;/template&gt;</span><span id="59fb" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  metaInfo: {<br/>    title: "App Title",<br/>    titleTemplate: "%s | My Awesome Webapp"<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="787d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">属性添加了将被占位符替换的标题。</p><p id="ae94" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着<code class="fe mt mu mv mj b">'App Title'</code>将取代<code class="fe mt mu mv mj b">%s</code>占位符，形成<code class="fe mt mu mv mj b">title</code>标签的文本内容。</p><p id="772c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用vue-meta给<code class="fe mt mu mv mj b">head</code>添加样式标签。例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="e27c" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;div class="loading"&gt;loading&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="b153" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  metaInfo: {<br/>    style: [<br/>      {<br/>        vmid: "page-load-overlay",<br/>        innerHTML: `<br/>          body div.loading {<br/>            z-index: 999;<br/>            background-color: yellow;<br/>            opacity: 0.9;<br/>          }<br/>        `<br/>      }<br/>    ]<br/>  },<br/>  data() {<br/>    return {<br/>      cssTexts: []<br/>    };<br/>  },<br/>  mounted() {<br/>    this.cssTexts.push({<br/>      vmid: "page-load-overlay",<br/>      innerHTML: null<br/>    });<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="826b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用值将<code class="fe mt mu mv mj b">style</code>属性设置为一个对象。</p><p id="7a8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以动态加载样式:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="1504" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;div class="loading"&gt;loading&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="0caf" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  metaInfo() {<br/>    const style = this.cssTexts;<br/>    return { style };<br/>  },<br/>  data() {<br/>    return {<br/>      cssTexts: []<br/>    };<br/>  },<br/>  mounted() {<br/>    this.cssTexts.push({<br/>      vmid: "page-load-overlay",<br/>      innerHTML: `<br/>        body div.loading {<br/>          z-index: 999;<br/>          background-color: yellow;<br/>          opacity: 0.9;<br/>        }<br/>      `<br/>    });<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="c976" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">this.cssTexts.push</code>推送样式。</p><h1 id="9b50" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="49d6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用vue-meta库向head标签添加元数据。</p><p id="8853" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>