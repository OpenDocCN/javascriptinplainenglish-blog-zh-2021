<html>
<head>
<title>A Neat Trick to Merge Adjacent Polygons in Spatial Datasets with Turf.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Turf.js合并空间数据集中相邻面的巧妙方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/a-neat-trick-to-merge-adjacent-polygons-in-spatial-datasets-with-turf-js-79e8ad84ee77?source=collection_archive---------8-----------------------#2021-10-17">https://javascript.plainenglish.io/a-neat-trick-to-merge-adjacent-polygons-in-spatial-datasets-with-turf-js-79e8ad84ee77?source=collection_archive---------8-----------------------#2021-10-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d1e2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用例+代码实现。我的GitHub提供的工具。</h2></div><p id="7cd2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我的大多数地理信息系统(GIS)项目中，当涉及到为后续空间分析对空间数据集执行某些数据转换时，我倾向于转向开源实用程序，如<a class="ae lb" href="https://turfjs.org/" rel="noopener ugc nofollow" target="_blank"> Turf.js </a>，而不是工具，如<a class="ae lb" href="https://www.qgis.org/" rel="noopener ugc nofollow" target="_blank"> QGIS </a>和<a class="ae lb" href="https://www.arcgis.com/index.html" rel="noopener ugc nofollow" target="_blank"> ArcGIS </a>，因为设置和安装中涉及的麻烦较少。</p><p id="b31d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于这个问题<strong class="kh ir">太普通了，❝How，你会把分离的多边形合并成一个单一的特征吗？❞ </strong>是，我决定使用<a class="ae lb" href="https://turfjs.org/" rel="noopener ugc nofollow" target="_blank"> Turf.js </a>的内置功能——<strong class="kh ir">union</strong>写一篇专门针对这个主题的文章。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/74bfda75f3494f708089973eedb4095b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SB3xVlX5tFx39rbmXUGxwA.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Screenshots by Author | Examples of questions revolving around combining multiple polygons into a single Geometric feature</figcaption></figure><h2 id="d4b3" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">用例示例:合并一个国家的分区边界，新加坡</h2><p id="e5be" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">首先，我个人使用了<a class="ae lb" href="https://turfjs.org/" rel="noopener ugc nofollow" target="_blank"> Turf.js </a>库中的这个功能，生成了新加坡土地规划者正式使用的3个主要边界— <strong class="kh ir"> (1)分区</strong>、<strong class="kh ir"> (2)规划区</strong> &amp; <strong class="kh ir"> (3)区域</strong>，如下图所示，它们代表3个递减的粒度级别:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mq"><img src="../Images/bf1c3aafa52b9f6ed65760323ac0f7e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yMaJBuvqMon2mVP6tCl4ig.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Illustration by Author | In a clockwise direction, <strong class="bd mr">(1)</strong> refers to the most granular out of the above — <strong class="bd mr">Subzone</strong>, <strong class="bd mr">(2)</strong> refers to the 2nd most granular — <strong class="bd mr">Planning Area</strong> and finally <strong class="bd mr">(3) Region</strong> aggregation</figcaption></figure><p id="8bb7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我倾向于只检索<strong class="kh ir">子区域</strong>边界，并继续使用<a class="ae lb" href="https://turfjs.org/" rel="noopener ugc nofollow" target="_blank"> Turf.js </a>的联合来生成基于公共几何属性的其他粒度更小的边界<strong class="kh ir">，而不是分别检索所有3种边界类型的空间数据集:</strong></p><h1 id="0cff" class="ms lt iq bd lu mt mu mv lx mw mx my ma jw mz jx md jz na ka mg kc nb kd mj nc bi translated">规划区汇总的分区</h1><h2 id="7a8e" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">共有房产:<strong class="ak">【PLN _ AREA _ C】</strong></h2><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/ebbe22153a7331dc7e57f4524cf1a678.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*nLrAreiXav0ftNNnsjVjzA.gif"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Demo by Author | Based on the common property — <strong class="bd mr">[PLN_AREA_C]</strong>, polygons which share the same value for that property are combined as shown using Union in Turf.js | Union function is triggered when <strong class="bd mr">[ ⇲⇱] MERGE POLYGONS</strong> button is selected</figcaption></figure><h1 id="786b" class="ms lt iq bd lu mt mu mv lx mw mx my ma jw mz jx md jz na ka mg kc nb kd mj nc bi translated">规划区域到区域的聚合</h1><h2 id="a8aa" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">公共属性:[REGION_C]</h2><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/a59c0f474bd9285f530fd316d149aceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*3_B39JyJWPDrrMTqRmHVCg.gif"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Demo by Author | Based on the common property — <strong class="bd mr">[REGION_C]</strong>, polygons which share the same value for that property are combined as shown using Union in Turf.js | Union function is triggered when <strong class="bd mr">[ ⇲⇱] MERGE POLYGONS</strong> button is selected</figcaption></figure><p id="6181" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此后，要保存合并的输出，只需选择<strong class="kh ir"> [💾]保存右上角的</strong>按钮。</p><p id="da46" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在你知道了！不需要复杂的或企业级的软件。只是普通的旧JavaScript。</p></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><h2 id="7f5c" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated"><strong class="ak">参考消息:</strong>为了方便起见，上述工具可以在我的<a class="ae lb" href="https://github.com/incubated-geek-cc/Polygon-Merger" rel="noopener ugc nofollow" target="_blank"> GitHub Repo </a>中找到。请叉它，如果你想为自己使用:D(不需要服务器设置。可供脱机使用。)或者试试这里的<a class="ae lb" href="https://incubated-geek-cc.github.io/Polygon-Merger/" rel="noopener ugc nofollow" target="_blank"/>！</h2></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><h2 id="125b" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">非常感谢你阅读这篇文章！❤希望您发现这适用于您的用例。如果您想要更多数据分析&amp; GIS相关内容，请随时<a class="ae lb" href="https://medium.com/@geek-cc" rel="noopener">关注Medium </a>上的我。会非常感激😀</h2><div class="nl nm gp gr nn no"><a href="https://geek-cc.medium.com/membership" rel="noopener follow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">通过我的推荐链接加入灵媒——李思欣·崔</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">获得李思欣·崔和其他作家在媒体上的所有帖子！😃您的会员费直接…</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">geek-cc.medium.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc lm no"/></div></div></a></div></div><div class="ab cl ne nf hu ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ij ik il im in"><p id="f22c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">注:</strong>你不妨用<a class="ae lb" href="https://turfjs.org/" rel="noopener ugc nofollow" target="_blank"> Turf.js </a>看看下面这篇关于地理编码的文章</p><div class="nl nm gp gr nn no"><a href="https://towardsdatascience.com/using-turf-js-to-geocode-coordinates-with-custom-boundaries-bb843b7150d0" rel="noopener follow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">使用Turf.js通过自定义边界对坐标进行地理编码</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">这个位置属于❝Which地区/区域/区域吗？❞</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">towardsdatascience.com</p></div></div><div class="nx l"><div class="od l nz oa ob nx oc lm no"/></div></div></a></div><h2 id="07c5" class="ls lt iq bd lu lv lw dn lx ly lz dp ma ko mb mc md ks me mf mg kw mh mi mj mk bi translated">(可选)最后但同样重要的是，请随意<a class="ae lb" href="https://www.buymeacoffee.com/geekcc" rel="noopener ugc nofollow" target="_blank">请我喝杯咖啡</a> ☕</h2><p id="52f7" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated"><em class="oe">更多内容请看</em><a class="ae lb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="oe">plain English . io</em></strong></a></p></div></div>    
</body>
</html>