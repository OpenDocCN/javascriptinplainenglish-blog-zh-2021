<html>
<head>
<title>How to Add Github OAuth With Supabase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Supabase添加Github OAuth</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-add-github-oauth-to-your-application-dda5bdc2dc33?source=collection_archive---------8-----------------------#2021-09-18">https://javascript.plainenglish.io/how-to-add-github-oauth-to-your-application-dda5bdc2dc33?source=collection_archive---------8-----------------------#2021-09-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/279b3da2976ee247269fa8cfdd031c6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VmP7Q1oS8padhZ5_"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@flyd2069?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">FLY:D</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a9c4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">经过几次反复试验，我终于能够使用GitHub OAuth为我的web应用程序添加另一个登录选项，在本教程中，我们将学习如何制作它。老实说，我真的不知道如何在普通的JavaScript或其他服务中实现它，因为我在react中使用了<a class="ae jz" href="https://supabase.io/" rel="noopener ugc nofollow" target="_blank"> Supabase </a>来实现它。现在让我们开始吧！</p><h1 id="009e" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">1.创建项目</h1><p id="e601" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">好的，首先进入<a class="ae jz" href="https://supabase.io/" rel="noopener ugc nofollow" target="_blank"> supabase.io </a>，点击右上角的<em class="mb">‘开始你的项目’</em>，然后立即登录。完成后，单击新建项目，新建组织。</p><figure class="md me mf mg gt jo gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/1d07ff42dd29d4c6790a262ef8c98b22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*TkCCqmXEiJnUVf60jfLHKA.png"/></div></figure><p id="c85e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">用您喜欢的任何名称填写组织名称。</p><figure class="md me mf mg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mh"><img src="../Images/e44fddbf76822b4ee080b4e13f7e188c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kI1aSzqB6ua7gWzXTPmK1w.png"/></div></div></figure><p id="9aaf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">之后你会看到另一个类似的提示页面。给出数据库的项目名称和密码，并选择离您最近的地区以获得更好的性能。</p><figure class="md me mf mg gt jo gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/e7fd1b7518ba0f4676d130f3246bbc1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*ZUti1GDaVYY6P_OsjFRnjA.png"/></div></figure><p id="03b8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">创建新项目后，它会加载一段时间，然后这个页面就会出来。</p><figure class="md me mf mg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mj"><img src="../Images/3ae4f59bbe15767e3fda04bf41b1a715.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K4XwOEWQ3itIIMimnrOgDw.png"/></div></div></figure><h1 id="361f" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">2.启用GitHub认证</h1><p id="7d90" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">在左侧面板中，选择验证和设置。在外部OAuth提供者部分，像这样在上将GitHub enabled转到<em class="mb">，它会询问您客户端ID和GitHub secret。</em></p><figure class="md me mf mg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mk"><img src="../Images/f9b6357b6c911a04e4433eff731f8011.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7a2LHfupJneYX3Av6dOYkw.png"/></div></div></figure><p id="e47f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在继续你的GitHub帐户，设置，并选择开发者设置。</p><figure class="md me mf mg gt jo gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/4e188aba79d92d3844d1affed9e5e56b.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*1CLROdnczOnU5fM6Eaugeg.png"/></div></figure><p id="4d54" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然后选择OAuth应用程序</p><figure class="md me mf mg gt jo gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/2fab3d8bb21ce5c4a677120e92695c9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*wnPHFa2xOS1i-GG4JuT-rQ.png"/></div></figure><p id="9b83" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">点击右侧的新建OAuth App，会有一个表单提示。</p><figure class="md me mf mg gt jo gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/8d1e26d0b4829c19aecb2b3a0b253650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*W8zhhMWoWHXZWLBhAtH7Eg.png"/></div></figure><p id="05df" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">填写所有必要的输入，对于授权回调url，在Supabase dashboard中，转到setting，API，在Config节中复制URL，并将其粘贴到GitHub表单中，并在URL后添加<code class="fe mo mp mq mr b">/auth/v1/callback</code>。所以会像<code class="fe mo mp mq mr b">https://&lt;project-ref&gt;.supabase.co/auth/v1/callback</code>。</p><p id="2747" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一旦成功，您将看到客户端ID并将其粘贴到Supabase中。要获取GitHub机密，请单击生成新的客户端机密。</p><figure class="md me mf mg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/3848184b53c0753431dcb4f2c447e8e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t_IRWnEorlhvxWcg6RM3-w.png"/></div></div></figure><p id="3f3a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一旦你得到了秘密令牌，马上粘贴到Supabase再次，并点击保存。</p><h1 id="5e42" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">3.将Supabase代码添加到您的应用程序中</h1><p id="7a52" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">现在让我们通过将Supabase安装到React应用程序中来初始化它。在你的终端输入<code class="fe mo mp mq mr b">npm i @supabase/supabase-js</code>。一旦完成，创建<code class="fe mo mp mq mr b">config.js</code>文件并在其中输入。</p><pre class="md me mf mg gt mt mr mu mv aw mw bi"><span id="bc5d" class="mx kz in mr b gy my mz l na nb">import { createClient } from '<a class="ae jz" href="http://twitter.com/supabase/supabase-js" rel="noopener ugc nofollow" target="_blank">@supabase/supabase-js</a>'</span><span id="7bce" class="mx kz in mr b gy nc mz l na nb">// Create a single supabase client for interacting with your database <br/>const supabase = createClient("PROJECT_URL", "PROJECT_ANON_KEY")</span><span id="d58c" class="mx kz in mr b gy nc mz l na nb">export default supabase;</span></pre><p id="f7b0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mo mp mq mr b">PROJECT_URL</code>是来自Supabase dashboard中config部分的设置、API、url的同一个URL，而<code class="fe mo mp mq mr b">PROJECT_ANON_KEY</code>还是同一个，来自设置、API、项目API键并选择anon键。</p><p id="d94c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在onclick事件中，键入以下代码以使GitHub身份验证生效。</p><pre class="md me mf mg gt mt mr mu mv aw mw bi"><span id="7ba5" class="mx kz in mr b gy my mz l na nb">import supabase from "./config";</span><span id="867a" class="mx kz in mr b gy nc mz l na nb">const LoginWithGithub = async () =&gt; {</span><span id="a1aa" class="mx kz in mr b gy nc mz l na nb">   const { user, session, error } = await supabase.auth.signIn({<br/>      provider: 'github'<br/>   })<br/>}</span></pre><p id="4f52" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们做到了！你的应用程序现在有了一个新的GitHub登录选项。我希望这篇文章对你有所帮助。感谢您的阅读！</p><p id="0c55" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你喜欢这类文章，请支持我:</p><figure class="md me mf mg gt jo gh gi paragraph-image"><a href="https://www.buymeacoffee.com/tulussibrahim"><div class="gh gi nd"><img src="../Images/4bc5de35955c00939383a18fb66b41d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*9vg3-OY14aZN1UpKwIxxZg.png"/></div></a></figure><p id="cb01" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mb">更多内容看</em><a class="ae jz" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="mb">plain English . io</em></strong></a></p></div></div>    
</body>
</html>