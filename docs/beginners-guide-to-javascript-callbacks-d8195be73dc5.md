# JavaScript 回调初学者指南

> 原文：<https://javascript.plainenglish.io/beginners-guide-to-javascript-callbacks-d8195be73dc5?source=collection_archive---------13----------------------->

## 通过真实的项目代码样本学习回调的 A-Z。

![](img/41aacd0f84ae3a230ab2671068ffb23f.png)

Photo by [Fotis Fotopoulos](https://unsplash.com/@ffstop?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

回调函数是全栈开发中经常使用的概念。我想分享我接近这种技术的方法。到本文结束时，您将了解 JavaScript 回调函数的基础，何时使用它们，以及使用回调的现有应用程序。

如果你有任何问题或者你觉得我错过了什么，请告诉我。我非常愿意帮助大家，并与大家分享知识:)。

相信我，JavaScript 回调并没有理解起来那么复杂。回调函数是将函数作为参数传递给另一个函数的一种方式。

回调函数可以帮助**代码重用**并生成具有**较少错误**的代码。大多数 JavaScript 库使用回调。如果你知道这个概念，你就很容易理解。

我想大多数人都写过或者至少读过或者修改过一个函数。想象一个将两个数相加的函数。我们可以将这两个数字作为参数传递给那个函数。所以在 JavaScript 中，你也可以传递另一个函数作为参数。所以我们用函数作为参数。

# 在 JavaScript 中如何将函数作为参数传递？

在 JavaScript 中，函数被视为一级对象。因此，它们拥有数字和字符串等其他对象的所有属性。因此它们可以像字符串和数字一样作为参数传递给函数。

令人困惑的是，有不同的方法将函数作为参数传递。做同一件事的不同方法。我们可以将整个函数实现**匿名**作为参数传递，或者只传递该函数的**名称**，该函数的**引用**，等等。

所以让我们来看看这项技术的不同用法，这样你在将来就不会感到困惑。

## 使用命名函数作为回调

我们知道可以将函数作为参数发送。我们可以单独定义传递函数，并将该函数的名称作为参数发送。

看看这段代码:

这里，函数`testfunction()`需要一个参数来执行。我们发送一个名为`myFunction()`的函数作为参数。在`testFunction`内部执行`myFunction()`功能。

我们还可以为回调函数传递参数。所以回调函数和常规函数没有区别。

## 匿名函数作为回调

我们可以不命名直接发送函数，见下面的例子。同样，参数名是从`doitWithWorld()`函数内部设置的。

## 函数可以接受不止一次回调

在下面的代码中，您可以看到多个函数被作为回调函数发送。

## 函数循环中的回调

回调在函数式编程中用来用函数调用代替循环。

## forEach()函数

JavaScript 函数式编程引入了`forEach()`来处理循环，而不是 for 循环。看看这个例子。

这里，一个函数被传递给了`forEach()`函数。

让我们看看 JavaScript 内部 forEach 函数的实现。

这可能有点混乱。下面是当我们传递被映射为`callback`的 printItem 时函数中发生的事情。

可以看到回调有 3 个参数，第一个是**当前项**，第二个是 c **当前项索引**，第三个是**整个数组**。

在我们的`foreach.js` 文件中，`printItem()`函数只使用当前项目。

这也是回调的另一个用例。

## MongoDB 中的回调

我想到了从 MongoDB 的流行文档中添加一些代码示例。你会意识到用回调的知识理解这段代码是多么容易。

下面是使用 MongoDB Node.js 驱动程序从 MongoDB 中查找文档的示例代码。在这里，一旦 find 操作完成，回调方法就会执行并轻松处理响应和错误。

## 最后一个示例 passport JavaScript 和身份验证

在上面的代码中，第 2 行声明了一个方法 comparePassword。它有两个参数，第一个是密码，然后是一个名为 cb 的回调函数。在第 25 行，用户模型使用方法`comparepassword()`并传递参数一个密码和完成回调。这个 done 函数是从一个叫做 passport 的包中返回的。

您可以看到在实际项目中使用回调时事情是如何变得复杂的。但是基本都是一样的。

`done`函数作为回调传递给`comparePassword` 方法。它在`comparePassword`中没有被称为`done`，而是被称为`cb`，并且在另一个在`bcrypt.compare`方法中返回的回调函数中使用。Bcrypt 是另一个用于加密密码的包。

它只是在不同的层次传递和使用函数，但基本原理是相同的。有时，不同函数内部的名称更改看起来很复杂。

请分享你的想法和你想补充的任何遗漏的知识和方法。不要忘记提问，澄清任何可能不清楚的地方。

*更多内容看*[***plain English . io***](http://plainenglish.io/)