<html>
<head>
<title>4 ESLint Rules to Catch Logic and Syntax Errors</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">捕捉逻辑和语法错误的4条ESLint规则</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/4-eslint-rules-to-catch-logic-and-syntax-errors-d9e5be0487a2?source=collection_archive---------9-----------------------#2021-03-19">https://javascript.plainenglish.io/4-eslint-rules-to-catch-logic-and-syntax-errors-d9e5be0487a2?source=collection_archive---------9-----------------------#2021-03-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="a548" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">棉绒有两个主要用途:一个是在项目中加强编码风格。另一个是保护应用程序和开发人员免受代码中逻辑和语法错误的影响。这里有几个ESLint规则，可以用来帮助处理JavaScript代码中的逻辑和语法错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a93c06bb96a97c41837baf3607e9823e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mNZg3tA_leEn19hW"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@withluke?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Luke Stackpoole</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="8c51" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">先决条件/假设</h1><p id="00ef" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">为了在您的JavaScript项目中使用linter，您应该在本地机器上安装<a class="ae ky" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">节点</a>。</p><p id="c17b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您还需要安装<a class="ae ky" href="https://www.npmjs.com/package/eslint" rel="noopener ugc nofollow" target="_blank"> npm eslint </a>包，要么全局安装在您的机器上，要么安装在项目的节点模块中。要全局安装eslint，请运行<code class="fe mc md me mf b">npm install -g eslint</code>。要在您正在处理的项目中安装，运行<code class="fe mc md me mf b">npm install --save-dev eslint</code>。</p><p id="ec4a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您还需要在IDE上安装一个eslint插件。对于Visual Studio代码，<a class="ae ky" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" rel="noopener ugc nofollow" target="_blank"> ESLint </a>是将linter集成到IDE中最流行的插件。</p><p id="3586" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">根据项目的不同，linter规则存储在。eslintrc (rc是run命令的缩写)文件。该文件可以有多种格式类型，但是在本文的最后，我们将向您展示一个。只有四个规则的eslintrc基本文件，JSON格式。</p><h1 id="e9a7" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">1.无条件分配</h1><p id="8664" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated"><a class="ae ky" href="https://eslint.org/docs/rules/no-cond-assign" rel="noopener ugc nofollow" target="_blank"> no-cond-assign </a>规则用于捕捉一个逻辑错误，您可能会盯着它看几分钟而看不到代码中的问题。此规则不允许if条件包含变量赋值；因此，没有开发人员会犯忘记在条件中添加第二个等号来进行比较的错误。</p><p id="d56f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">虽然JavaScript允许条件赋值，但是条件赋值总是被计算为true，这使得代码中的赋值和条件都是不透明的。更糟糕的是，如果变量的值根本不是赋值的话，它会导致意外地改变变量的值。下面的示例显示了实现的linter规则，以及在VSCode中如何显示错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mg"><img src="../Images/0debb50d412fdeb4c1102759abf44783.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rDdoizD2TcWI-BmJK-mdYA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">no-cond-assign error in VSCode when rule is broken.</figcaption></figure><h1 id="dfd6" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">2.前进方向</h1><p id="cfb4" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated"><a class="ae ky" href="https://eslint.org/docs/rules/for-direction" rel="noopener ugc nofollow" target="_blank"> for-direction </a>规则用于捕捉循环逻辑，这些逻辑最终会在调试时暴露出来，但可能会节省您一些时间来思考为什么您的循环不会退出。</p><p id="27d8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当for循环具有永远无法到达的停止条件时，此规则将引发错误。在下面的例子中，循环索引从零开始，当索引大于-10时执行，每次迭代递增1。这使得当指数小于或等于负十时停止条件成立。随着索引递增1并且从大于负10开始，停止条件将永远不会被满足。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/02227770332308f09e7b158d8a5cfadd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TTQ1SiSCe7qEM0EAcOLhUQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">for-direction error in VSCode when rule is broken.</figcaption></figure><h1 id="caeb" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">3.无欺骗-否则-如果</h1><p id="83d8" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated"><a class="ae ky" href="https://eslint.org/docs/rules/no-dupe-else-if" rel="noopener ugc nofollow" target="_blank"> no-dupe-else-if </a>规则用于捕捉if/else链中条件逻辑重复的if/else语句。这在较大的if/else if语句中以及发生重构时很方便。这可以从需求的变化或者简单的拼写错误中捕捉重复的条件；也就是说，下面的第二个else/if应该是负数，而你只是忘了加上负号。</p><p id="480c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面你可以在VS代码的“Problems”标签中看到，第二个else if语句被标上了关于重复条件的描述。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/295478ab29d5c790aecfef9ccfc482c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J_bwSSj64HJWkgOg4Wvz7A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">no-dupe-else-if error in VSCode when rule is broken.</figcaption></figure><h1 id="ec7b" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">4.无重复案例</h1><p id="460e" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated"><a class="ae ky" href="https://eslint.org/docs/rules/no-duplicate-case" rel="noopener ugc nofollow" target="_blank">无重复案例</a>规则用于捕捉开关案例中的重复案例。在下面的例子中，重复的事例相对明显，因为语句只有几个事例，并且重复的事例接近相同的行。当案例变得更大时，它们可能开始没有独特的顺序，重复的案例可能以相隔50行结束，并且不容易识别。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/17f30770f32868ab0da6d80c94c371d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZDT76NJs62_Dys_3nSQrg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">no-duplicate-case error in VSCode when rule is broken.</figcaption></figure><p id="916a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">与其他逻辑错误一样，上面的例子也用VS代码窗口中“Problems”选项卡中的问题描述进行了标记。</p><h1 id="df8c" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">最终配置</h1><p id="233c" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">正如本文开头提到的，如果您希望linter中只有这四个规则，那么这就是一个基本配置文件的样子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Example .eslintrc configuration</figcaption></figure><h1 id="4f21" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">结论</h1><p id="f948" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">linter是一个有用的工具，可以在逻辑和语法错误在应用程序中引起更大的错误之前捕捉到它们。随着您学习更多使用ESLint的规则和配置，您的JavaScript应用程序会变得更易于维护。想了解更多关于<a class="ae ky" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank"> ESLint </a>的信息，他们有一个详细记录的网站，上面有你可以应用到你的申请中的不同规则。</p><p id="a27e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">希望这篇文章能够激发您对ESLint的兴趣，并且您将开始在您的JavaScript项目中更多地使用它。编码快乐！</p></div></div>    
</body>
</html>