<html>
<head>
<title>Storing Unique Values with the Set Object in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript中的Set对象存储唯一值</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/storing-unique-values-with-set-object-in-javascript-ac2707dbdb6?source=collection_archive---------7-----------------------#2021-01-12">https://javascript.plainenglish.io/storing-unique-values-with-set-object-in-javascript-ac2707dbdb6?source=collection_archive---------7-----------------------#2021-01-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/da316216b7c343fe9b4dbf64839d0e80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g_MgTr35X-P8tO6XhYFB5g.jpeg"/></div></div></figure><p id="1c12" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最近在做一个兼职项目时，我发现自己陷入了一个令人惊讶的境地，这是我以前从未遇到过的。在我收集用户反馈的过程中，我发现我需要一种方法来收集和存储来自这些响应的独特值，而不必关心相同的响应出现的频率或它们是由谁发起的。我绞尽脑汁了整整一个小时，试图找到一个优雅的解决方案，最终我放弃了，去了知识神殿(堆栈溢出),偶然发现了这个神秘的<code class="fe kt ku kv kw b">Set</code>物体。</p><p id="a9f1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个<code class="fe kt ku kv kw b">Set</code>物体是我的问题的完美解决方案，老实说，我很困惑为什么我以前从来没有遇到过它。这真的是那些带给你快乐的时刻之一，就像发现你可以买到纯幸运魅力棉花糖级别的快乐。对我来说，<code class="fe kt ku kv kw b">Set</code>这个物体是我的LC棉花糖容器，我非常乐意与你分享这种简单的快乐，亲爱的读者！</p><h2 id="7e27" class="kx ky in bd kz la lb dn lc ld le dp lf kg lg lh li kk lj lk ll ko lm ln lo lp bi translated">设定的对象是什么？</h2><p id="26ce" class="pw-post-body-paragraph jv jw in jx b jy lq ka kb kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks ig bi translated">正如我前面暗示的那样，<code class="fe kt ku kv kw b">Set</code>对象是一个JavaScript对象，它只保存唯一的值。然而，这些值可以是您想要的任何值，因为它将支持原始数据类型(<code class="fe kt ku kv kw b">numbers</code>、<code class="fe kt ku kv kw b">strings</code>、<code class="fe kt ku kv kw b">boolean</code>、<code class="fe kt ku kv kw b">undefined</code>、<code class="fe kt ku kv kw b">symbol</code>、<code class="fe kt ku kv kw b">bigint</code>)和对象(<code class="fe kt ku kv kw b">arrays</code>、<code class="fe kt ku kv kw b">objects</code>、<code class="fe kt ku kv kw b">functions</code>)。</p><h2 id="7f0b" class="kx ky in bd kz la lb dn lc ld le dp lf kg lg lh li kk lj lk ll ko lm ln lo lp bi translated">语法和用法</h2><p id="83e9" class="pw-post-body-paragraph jv jw in jx b jy lq ka kb kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks ig bi translated">可以使用构造函数<code class="fe kt ku kv kw b">Set()</code>创建一个<code class="fe kt ku kv kw b">Set</code>对象。首先，您可以很容易地使用这个带有变量表达式的构造函数。</p><p id="9a8e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b">Set()</code>对象还有各种实例方法来帮助您添加、删除和检查存储在集合中的值，包括:</p><ul class=""><li id="a6dd" class="lv lw in jx b jy jz kc kd kg lx kk ly ko lz ks ma mb mc md bi translated"><code class="fe kt ku kv kw b">Set.prototype.add(value)</code>将添加的值传递给集合。这将返回带有新追加值的集合。</li><li id="7e37" class="lv lw in jx b jy me kc mf kg mg kk mh ko mi ks ma mb mc md bi translated"><code class="fe kt ku kv kw b">Set.prototype.delete(value)</code>将从集合中移除所提供的值，如果成功，则返回布尔值<code class="fe kt ku kv kw b">true</code>，如果不成功，则返回<code class="fe kt ku kv kw b">false</code>。</li><li id="2c7b" class="lv lw in jx b jy me kc mf kg mg kk mh ko mi ks ma mb mc md bi translated">如果提供的值存在于集合中，则<code class="fe kt ku kv kw b">Set.prototype.has(value)</code>将返回<code class="fe kt ku kv kw b">true</code>，如果该值不存在，则返回<code class="fe kt ku kv kw b">false</code>。</li><li id="69ff" class="lv lw in jx b jy me kc mf kg mg kk mh ko mi ks ma mb mc md bi translated"><code class="fe kt ku kv kw b">Set.prototype.clear()</code>将从您的收藏中清除所有数值。</li><li id="c7ec" class="lv lw in jx b jy me kc mf kg mg kk mh ko mi ks ma mb mc md bi translated"><code class="fe kt ku kv kw b">Set.prototype.size</code>将返回您收藏的大小。</li></ul><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mj"><img src="../Images/9396007bf3f142f8e604f48a1d36280c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LatW3WJzFbmXdjqVR_HuKw.png"/></div></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk">Examples of how to add, delete, and inspect a Set object.</figcaption></figure><h2 id="a4cf" class="kx ky in bd kz la lb dn lc ld le dp lf kg lg lh li kk lj lk ll ko lm ln lo lp bi translated">遍历一个集合</h2><p id="0767" class="pw-post-body-paragraph jv jw in jx b jy lq ka kb kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks ig bi translated">通过使用您选择的迭代器或循环，您可以很容易地访问<code class="fe kt ku kv kw b">Set</code>中的值。请记住，<code class="fe kt ku kv kw b">Set</code>对象不是一个数组，所以像<code class="fe kt ku kv kw b">.map()</code>这样的高阶函数将不起作用，除非你先将<code class="fe kt ku kv kw b">Set</code>对象转换成一个数组。</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/21b2fc71c461fb6bb71980f419f202d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5cCgyyiX_eRIZ6RUDrSoxQ.png"/></div></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk">You can get values out of a Set object by iterating or looping through the set. You can also transform the Set object, such as an array, as needed.</figcaption></figure><h2 id="5fcf" class="kx ky in bd kz la lb dn lc ld le dp lf kg lg lh li kk lj lk ll ko lm ln lo lp bi translated">删除集合中的重复项</h2><p id="8536" class="pw-post-body-paragraph jv jw in jx b jy lq ka kb kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks ig bi translated">这里是<code class="fe kt ku kv kw b">Set</code>对象真正闪光的地方，它能够被转换成具有唯一值的对象。</p><p id="4919" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">假设您有一个包含大量重复值的数组，您需要将唯一的值提取到一个新数组中。为此，只需创建一个新变量并将其设置为数组对象。接下来，使用spread操作符和<code class="fe kt ku kv kw b">set</code>构造函数，将您的重复数组作为值。结果将是一个新的数组，其中只有原始数组中的唯一值。</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mt"><img src="../Images/f2bb67a2095d88d42e2c0f2748f00d1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fz-4Bbm4Tb2mqwQ1VMScQA.png"/></div></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk">The example above shows how to create a new array with duplicate values removed.</figcaption></figure><h2 id="c8bc" class="kx ky in bd kz la lb dn lc ld le dp lf kg lg lh li kk lj lk ll ko lm ln lo lp bi translated">使用Set的陷阱</h2><p id="e68d" class="pw-post-body-paragraph jv jw in jx b jy lq ka kb kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks ig bi translated">请记住，<code class="fe kt ku kv kw b">Set</code>对象的核心功能是收集<strong class="jx io">唯一的</strong>值。如果您的集合已经包含某个值，并且您不断尝试多次添加它，将不会有错误消息表明它已经存在。你将得到的只是当前值的集合。如果您需要确认，利用<code class="fe kt ku kv kw b">Set.prototype.has(value)</code>方法，它将返回一个布尔值作为确认。</p><p id="033f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">另一件要记住的事情是<code class="fe kt ku kv kw b">Set</code>对象如何处理字符串值。当一个字符串作为一个值添加到一个新的<code class="fe kt ku kv kw b">Set</code>对象时，该字符串被解构，每个字符被视为一个值。如果一个单词有重复的字母，如“cheese”，您的<code class="fe kt ku kv kw b">Set</code>将只存储<code class="fe kt ku kv kw b">c</code>、<code class="fe kt ku kv kw b">h</code>、<code class="fe kt ku kv kw b">e</code>和<code class="fe kt ku kv kw b">s</code>，因为其余的<code class="fe kt ku kv kw b">e</code>都是重复的。</p><p id="d9c6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，<code class="fe kt ku kv kw b">Set</code>对象是区分大小写的，所以你可以期望像“Alexa”这样的字符串存储值<code class="fe kt ku kv kw b">A</code>、<code class="fe kt ku kv kw b">l</code>、<code class="fe kt ku kv kw b">e</code>、<code class="fe kt ku kv kw b">x</code>和<code class="fe kt ku kv kw b">a</code>，因为<code class="fe kt ku kv kw b">A</code>和<code class="fe kt ku kv kw b">a</code>是集合中唯一的字符。</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/bf94ea900c509a40ef66ad7cb43f41c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fg2fp0JB73i6pZ-5Asy2rg.png"/></div></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk">Be careful when using strings in Set objects. The Set object is case sensitive and only keeps unique characters.</figcaption></figure><h2 id="3ed2" class="kx ky in bd kz la lb dn lc ld le dp lf kg lg lh li kk lj lk ll ko lm ln lo lp bi translated">结论</h2><p id="983f" class="pw-post-body-paragraph jv jw in jx b jy lq ka kb kc lr ke kf kg ls ki kj kk lt km kn ko lu kq kr ks ig bi translated">对象是你武器库中的一个很好的工具。它存储唯一值的能力，特别是在从其他数据类型转换时，使它成为快速提取可能被重复噪声淹没的信息的绝佳选择。</p><p id="68d9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我只介绍了<code class="fe kt ku kv kw b">Set</code>对象的基础知识，但是我强烈建议通读MDN web文档，以便更深入地了解。</p><div class="mv mw gp gr mx my"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd io gy z fp nd fr fs ne fu fw im bi translated">一组</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">集合对象是值的集合。您可以按插入顺序循环访问集合中的元素。中的一个值…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">developer.mozilla.org</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm jt my"/></div></div></a></div></div></div>    
</body>
</html>