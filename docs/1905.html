<html>
<head>
<title>How to Create an Animated Hamburger Menu with Vanilla JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用香草JavaScript创建一个动画汉堡菜单</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/animated-hamburger-menu-in-vanilla-javascript-79bd97da00b9?source=collection_archive---------5-----------------------#2021-04-21">https://javascript.plainenglish.io/animated-hamburger-menu-in-vanilla-javascript-79bd97da00b9?source=collection_archive---------5-----------------------#2021-04-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="317a" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">一直想知道如何设计点击汉堡菜单时看到的那些很酷的动画？这很简单，我们可以用不到100行代码来完成。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/ce4c7836c57ec445fd972ee4770eeb1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RSDeEjt2J5Havwd5RcKaAw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">How to go from burger to cross? Keep reading to find out!</figcaption></figure><p id="7a2f" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">让我们用一些香草JavaScript制作一个动画汉堡菜单吧！你知道还有烤肉串菜单、肉丸菜单和便当菜单吗？虽然我们在这一个中将集中于汉堡，但是在这篇文章中教导的概念可以应用于所有类型的菜单。</p><p id="ccd7" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这是我们要做的:</p><ol class=""><li id="2ab7" class="lo lp in ku b kv kw ky kz lb lq lf lr lj ls ln lt lu lv lw bi translated">创建一个<code class="fe lx ly lz ma b">div</code>标签，它将包含一个<code class="fe lx ly lz ma b">p</code>标签，这又将是我们的汉堡包。</li><li id="63fe" class="lo lp in ku b kv mb ky mc lb md lf me lj mf ln lt lu lv lw bi translated">给我们的<code class="fe lx ly lz ma b">div</code>标签添加一个<code class="fe lx ly lz ma b">eventListener</code>，这样我们就知道用户什么时候点击它，并在我们的<code class="fe lx ly lz ma b">div</code>上切换类。</li><li id="fa2d" class="lo lp in ku b kv mb ky mc lb md lf me lj mf ln lt lu lv lw bi translated">添加CSS，这是我们控制动画的地方。</li></ol><p id="35e6" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我们开始吧！</p></div><div class="ab cl mg mh hr mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ig ih ii ij ik"><h2 id="c27e" class="mn mo in bd mp mq mr dn ms mt mu dp mv lb mw mx my lf mz na nb lj nc nd ne nf bi translated">1 -基础第一，创造我们的<code class="fe lx ly lz ma b">HTML</code></h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="f30a" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这个很简单。如果你在一个项目中这样做，你可能会有一些更现代的东西，但这是最基本的<code class="fe lx ly lz ma b">html</code>模板。我们有一个<code class="fe lx ly lz ma b">div</code>标签，我们给了它一个<code class="fe lx ly lz ma b">id</code>属性，这样我们可以很容易地用一个查询和一个<code class="fe lx ly lz ma b">p</code>标签来定位。两者都有一个<code class="fe lx ly lz ma b">class</code>属性，但是正如你所看到的，我们只给<code class="fe lx ly lz ma b">p</code>标签分配了一个实际值，我们将在下一步切换<code class="fe lx ly lz ma b">div</code>标签的<code class="fe lx ly lz ma b">class</code>。</p></div><div class="ab cl mg mh hr mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ig ih ii ij ik"><h2 id="eca7" class="mn mo in bd mp mq mr dn ms mt mu dp mv lb mw mx my lf mz na nb lj nc nd ne nf bi translated">2 -添加事件侦听器</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="9606" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">首先需要查询我们的<code class="fe lx ly lz ma b">hamburger-wrapper</code>。我们将使用<code class="fe lx ly lz ma b">getElementById</code>方法来这样做，并将它绑定到一个名为<code class="fe lx ly lz ma b">wrapper</code>的变量。我们给它一个<code class="fe lx ly lz ma b">id</code>属性的唯一原因是确保我们只查询单个元素。如果我们给了它一个<code class="fe lx ly lz ma b">class</code>属性，我们可以用<code class="fe lx ly lz ma b">querySelector</code>方法查询它，但是在一个有更多元素的页面上，这会给我们带来麻烦，因为<code class="fe lx ly lz ma b">querySelector</code>方法只返回第一个匹配选择器的元素。</p><p id="daf6" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我们给我们的<code class="fe lx ly lz ma b">div</code>标签添加了一个监听器，这允许我们的用户点击整个<code class="fe lx ly lz ma b">div</code>元素，而不仅仅是<code class="fe lx ly lz ma b">p</code>元素，在下一步中，这个元素将变成三条相当细的线，也就是说，很难点击。最后，每次点击，我们都要在我们的<code class="fe lx ly lz ma b">div</code>标签上切换类别<code class="fe lx ly lz ma b">open</code>。类名的选择可以归结为感觉最自然的事情，对我来说，这就是我们正在<em class="ni">打开</em>一个菜单的事实(尽管在本文中我们不会讨论如何做到这一点)。另一个选择可能是<em class="ni">十字</em>，因为这是我们希望我们的汉堡变成的样子。这由您决定，只要您对我们的CSS使用相同的名称—马上就来！</p></div><div class="ab cl mg mh hr mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ig ih ii ij ik"><h2 id="63f2" class="mn mo in bd mp mq mr dn ms mt mu dp mv lb mw mx my lf mz na nb lj nc nd ne nf bi translated">3 -添加CSS</h2><p id="a37e" class="pw-post-body-paragraph ks kt in ku b kv nj jo kx ky nk jr la lb nl ld le lf nm lh li lj nn ll lm ln ig bi translated">这是我们控制动画的地方，但是在进入实际的CSS之前，我们应该花点时间想想我们想要做什么。</p><ul class=""><li id="02be" class="lo lp in ku b kv kw ky kz lb lq lf lr lj ls ln no lu lv lw bi translated">我们的<code class="fe lx ly lz ma b">div</code>标签就像汉堡的包装纸，因此它应该有固定的宽度和高度。</li><li id="a21e" class="lo lp in ku b kv mb ky mc lb md lf me lj mf ln no lu lv lw bi translated">我们想把<code class="fe lx ly lz ma b">p</code>标签做成馅饼，所以小的高度和任何宽度看起来都不错(经过一些测试，我选择了80%)。</li><li id="3a4f" class="lo lp in ku b kv mb ky mc lb md lf me lj mf ln no lu lv lw bi translated">我们的汉堡肉饼的面包将是伪元素，<code class="fe lx ly lz ma b">:before</code>似乎是顶部面包的合理选择，而<code class="fe lx ly lz ma b">:after</code>将是我们的底部面包。从汉堡到十字的动画将通过操纵我们的包子的<code class="fe lx ly lz ma b">margin</code>，然后添加一个旋转变换来制作。</li><li id="f7e7" class="lo lp in ku b kv mb ky mc lb md lf me lj mf ln no lu lv lw bi translated">当<code class="fe lx ly lz ma b">div</code>标签具有<em class="ni"> open </em>的<code class="fe lx ly lz ma b">class</code>属性时，我们将通过定位<code class="fe lx ly lz ma b">p</code>标签来创建我们的十字架的外观，如第45行所示。</li></ul><p id="7189" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">从头开始做UI时，一个方便的技巧是给你的元素加上颜色，使其从页面的其余部分中脱颖而出。当我这样做的时候，我用<code class="fe lx ly lz ma b">background-color: red</code>作为<code class="fe lx ly lz ma b">div</code>标签，用<code class="fe lx ly lz ma b">background-color: blue</code>作为<code class="fe lx ly lz ma b">p</code>标签和伪元素。</p><p id="6565" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">请注意我们是如何根据元素共享的属性将它们分组的，例如，我们如何只需更改一行上的<code class="fe lx ly lz ma b">background-color</code>就可以更改所有三行。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="36e7" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">大多数行应该是不言自明的。然而，有一些部分很容易出错，或者对于一个好的布局是必不可少的，如果你刚刚开始使用CSS，这些东西可能很容易被忽略。</p><p id="ba0f" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">第3行——在父元素中垂直居中子元素是用flexbox最容易做到的，因为我们想基于<code class="fe lx ly lz ma b">margin</code>和<code class="fe lx ly lz ma b">transform</code>创建动画，所以我们不想一开始就依赖这些值。</p><p id="52b7" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">第12行——我们的伪元素，汉堡的面包，默认显示为<code class="fe lx ly lz ma b">inline</code>，没有任何内容，这意味着它们没有宽度和高度。因此，我们将<code class="fe lx ly lz ma b">position: relative</code>设置为<code class="fe lx ly lz ma b">p</code>标签，将<code class="fe lx ly lz ma b">position: absolute</code>设置为伪元素(第31行),这将把它们从流中取出，并呈现为块元素，以它们的宽度为准。</p><p id="f2aa" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">第24行——这是我们控制动画的地方。我们要告诉我们的汉堡的是，在旋转完成之前，等待转换边距。相反的是在第53行，当我们把汉堡变成十字架的时候。如你所见，我们在不同的时间赋予了不同的属性。这是为了创造动画“扣入到位”的感觉。这也可以通过改变过渡的缓和函数来实现。</p></div><div class="ab cl mg mh hr mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ig ih ii ij ik"><h2 id="e29e" class="mn mo in bd mp mq mr dn ms mt mu dp mv lb mw mx my lf mz na nb lj nc nd ne nf bi translated">决赛成绩</h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi np"><img src="../Images/595a6d14eb5154acf83f48f58fc74136.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/1*CTWP5nI_IbhWlK237_yHQw.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Animated burger menu!</figcaption></figure><p id="4423" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">现在，当你点击它的时候，你应该会看到类似上面的从汉堡到十字路口的东西！干得好！</p><p id="6194" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">作为对自己的挑战，尝试将汉堡重新设计成肉丸菜单或烤肉串菜单，看看它如何影响动画和我们的伪元素的属性。</p><p id="02ff" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="ni">更多内容请看</em><a class="ae nq" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ni">plain English . io</em></a></p></div></div>    
</body>
</html>