<html>
<head>
<title>A Guide to APIs and RESTful APIs for Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向初学者的API和RESTful APIs指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/apis-restful-apis-zzzzzz-c8deb86890f6?source=collection_archive---------24-----------------------#2021-07-13">https://javascript.plainenglish.io/apis-restful-apis-zzzzzz-c8deb86890f6?source=collection_archive---------24-----------------------#2021-07-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="60e2" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">什么是API？REST APIs的独特之处是什么？</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/f057f3f8e1857c0bd123465dd1aa805d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u3IjD13EgKyfby4MD6SAmw.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://www.pexels.com/@thisisengineering?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">ThisIsEngineering</a> from <a class="ae ks" href="https://www.pexels.com/photo/woman-writing-on-whiteboard-3861943/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><h1 id="60a0" class="la lb in bd lc ld le lf lg lh li lj lk jt ll ju lm jw ln jx lo jz lp ka lq lr bi translated">什么是API，为什么我们需要API？</h1><p id="1c62" class="pw-post-body-paragraph ls lt in lu b lv lw jo lx ly lz jr ma mb mc md me mf mg mh mi mj mk ml mm mn ig bi translated">一个<strong class="lu io"> API(应用编程接口)</strong>是两个应用相互对话的解决方案。通常，一个应用程序希望利用另一个应用程序的某些东西(比如数据)。</p><p id="333b" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">如果没有API，这些应用程序就无法相互通信，因为有许多障碍。例如，应用程序是用不同的编程语言编写的，或者出于安全原因，它们不能访问彼此的数据库。</p><p id="de55" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">如果一个应用程序周围有一个API，这允许其他应用程序使用请求与它交互。大多数情况下，这些都是HTTP请求。</p><p id="cd34" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">比方说，我们的应用程序想要在导航栏上显示本周的天气。<strong class="lu io">嗯，要是我们能黑进气象网络的数据库，并在我们的网站上显示他们的数据就好了。呵呵呵&gt; :] </strong></p><p id="9fd6" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">现在这是可能的，而且不需要入侵气象网络的服务器！；)WeatherNetwork有一个公共API:【https://www.theweathernetwork.com/dataservices/apis】T4。API充当从另一个应用程序接收数据的接口。</p><p id="a98e" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">同样，如果应用程序没有API，您可能很难访问它的数据，尤其是在没有访问数据库的情况下！谁会让公众访问他们的数据库呢？(没人lol)。但有时应用程序会公开一个公共API，但它仍然会限制你可以对它们的数据做什么。</p><p id="e104" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">API通常位于您的后端或web应用程序之上，当API被访问时，它可能会触发对数据库的调用，并将数据返回给您。</p><p id="e0ce" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">最棒的是，您可以利用来自其他服务的数据，而不必自己收集或创建这些数据。您还可以格式化它，并在自己的应用程序上随意呈现。</p><p id="1394" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">在下图中，Twitter可以利用来自Google Maps和WeatherNetwork的数据，这是一个需要天气和位置信息的特性。这是唯一可能的，因为谷歌和WeatherNetwork都有一个围绕他们数据的API。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/20a9e953affe86d841ac1b722eb08685.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*8hHhDo2fqY0QG0Br0bVq1g.png"/></div></figure><h1 id="b489" class="la lb in bd lc ld mu lf lg lh mv lj lk jt mw ju lm jw mx jx lo jz my ka lq lr bi translated">如何设计API？RESTful APIs</h1><p id="450d" class="pw-post-body-paragraph ls lt in lu b lv lw jo lx ly lz jr ma mb mc md me mf mg mh mi mj mk ml mm mn ig bi translated">大多数API都是restful的。这是一个描述它们是如何设计的词。这意味着它们遵循一套称为代表性状态转移的REST规则。REST已经成为API开发的标准。在设计API时，遵循REST是一种常见的做法。</p><p id="c7f6" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">设计Restful APIs时需要注意几件事:</p><ul class=""><li id="b4bd" class="mz na in lu b lv mo ly mp mb nb mf nc mj nd mn ne nf ng nh bi translated">它们可以通过URL、HTTP请求来访问</li></ul><pre class="kd ke kf kg gt ni nj nk nl aw nm bi"><span id="9284" class="nn lb in nj b gy no np l nq nr">http://yourapi.com/api/</span></pre><ul class=""><li id="4f9e" class="mz na in lu b lv mo ly mp mb nb mf nc mj nd mn ne nf ng nh bi translated">将数据组织成资源(名词)示例:</li></ul><pre class="kd ke kf kg gt ni nj nk nl aw nm bi"><span id="10fe" class="nn lb in nj b gy no np l nq nr">User Table -&gt;  users<br/>Products Table -&gt; products</span></pre><ul class=""><li id="a89a" class="mz na in lu b lv mo ly mp mb nb mf nc mj nd mn ne nf ng nh bi translated">每个资源都有自己唯一的URL / URI(统一资源标识符)。这些也可以称为您的API端点</li></ul><pre class="kd ke kf kg gt ni nj nk nl aw nm bi"><span id="c470" class="nn lb in nj b gy no np l nq nr">http://yourapi.com/api/<strong class="nj io">users</strong><br/>http://yourapi.com/api/<strong class="nj io">user/:id</strong><br/>http://yourapi.com/api/<strong class="nj io">products</strong></span></pre><ul class=""><li id="08b8" class="mz na in lu b lv mo ly mp mb nb mf nc mj nd mn ne nf ng nh bi translated">允许客户端通过HTTP向API发出请求(get、POST、PUT、DELETE)来获取有关资源的数据。这些是与你的资源交互的动词。<em class="ns">注意:然后后端服务器将处理调用数据库，并在确定它是什么类型的HTTP请求后将数据返回给用户！</em></li><li id="2059" class="mz na in lu b lv nt ly nu mb nv mf nw mj nx mn ne nf ng nh bi translated">API是无状态的，这意味着交互的双方不需要存储任何关于对方的信息</li><li id="017d" class="mz na in lu b lv nt ly nu mb nv mf nw mj nx mn ne nf ng nh bi translated">API请求可能包含标头。有时，API会要求在它的头中有一个令牌，以便对它的资源做某些事情，比如更新数据或让用户登录</li><li id="8157" class="mz na in lu b lv nt ly nu mb nv mf nw mj nx mn ne nf ng nh bi translated">API将用一个状态代码来响应，200级别的代码意味着请求成功</li><li id="45cf" class="mz na in lu b lv nt ly nu mb nv mf nw mj nx mn ne nf ng nh bi translated">API会用一个主体来响应，数据通常会被格式化为<strong class="lu io"> JSON </strong>。<em class="ns"> JSON (JavaScript对象符号)。键值对，但带有字符串。易于人和机器阅读。JSON用于通过API在计算机之间发送数据。</em></li></ul><pre class="kd ke kf kg gt ni nj nk nl aw nm bi"><span id="de4b" class="nn lb in nj b gy no np l nq nr">{<br/>"products": [ <br/>  {</span><span id="29bc" class="nn lb in nj b gy ny np l nq nr">   "product": "ketchup",<br/>   "price": "3.99"</span><span id="1cfb" class="nn lb in nj b gy ny np l nq nr">  },<br/>  {</span><span id="5cf2" class="nn lb in nj b gy ny np l nq nr">   "product": "mustard",<br/>   "price": "2.99"</span><span id="a2f5" class="nn lb in nj b gy ny np l nq nr">  }<br/>]<br/>}</span></pre><h1 id="a933" class="la lb in bd lc ld mu lf lg lh mv lj lk jt mw ju lm jw mx jx lo jz my ka lq lr bi translated">API是如何在幕后工作的？</h1><p id="5f7f" class="pw-post-body-paragraph ls lt in lu b lv lw jo lx ly lz jr ma mb mc md me mf mg mh mi mj mk ml mm mn ig bi translated">例如，API将接收一个请求，后端将确定它是什么类型的请求(GET、POST、DELETE等)以及您想要访问哪个资源。然后，如果需要的话，它会调用数据库来获取实际的数据。</p><p id="4e7a" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">我们来描述一个现实生活中的例子。您有一个想要显示卡特彼勒事实的应用程序。但是你不想自己研究它们并把它们复制粘贴到你的HTML页面上。您发现了<strong class="lu io"> cat-fact，</strong>一个为您提供所有这些信息的网站，并意识到他们有一个API，可以让您免费<strong class="lu io">访问这些事实</strong>！</p><p id="938f" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">在关于cat-fact的说明中，他们说只需点击<strong class="lu io"> /facts </strong>资源即可获取所有事实！事实将以JSON格式返回。</p><p id="cdfa" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">在您的网站中，您可以使用fetch通过HTTP访问应用程序中的API。</p><p id="44e3" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">获取("<a class="ae ks" href="https://cat-fact.herokuapp.com/facts" rel="noopener ugc nofollow" target="_blank">https://cat-fact.herokuapp.com<strong class="lu io">/事实</strong> </a>)"</p><ul class=""><li id="b5c2" class="mz na in lu b lv mo ly mp mb nb mf nc mj nd mn ne nf ng nh bi translated">我们想要的资源是/ <strong class="lu io">事实</strong></li><li id="58c4" class="mz na in lu b lv nt ly nu mb nv mf nw mj nx mn ne nf ng nh bi translated">请求类型:获取请求</li></ul><p id="668c" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">在幕后，cat-fact API的后端可能会从MongoDB或类似的数据库中获取事实，并通过HTTP向我们发送一个响应，其中包含该特定资源的数据。数据将是JSON格式的！</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nz"><img src="../Images/9d8785368773f6c39b21b5301766749f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dwAbM3bbts__QtsB3flNUg.png"/></div></div></figure><p id="ee3f" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">然后我们解析JSON数据，并使用表格或其他漂亮的东西在HTML中显示cat事实！</p><h1 id="f230" class="la lb in bd lc ld mu lf lg lh mv lj lk jt mw ju lm jw mx jx lo jz my ka lq lr bi translated">创建API最流行的方法</h1><p id="309f" class="pw-post-body-paragraph ls lt in lu b lv lw jo lx ly lz jr ma mb mc md me mf mg mh mi mj mk ml mm mn ig bi translated">有几种不同的方法可以创建自己的API。您可以使用web服务器，甚至可以使用AWS实现无服务器。</p><ul class=""><li id="70a1" class="mz na in lu b lv mo ly mp mb nb mf nc mj nd mn ne nf ng nh bi translated">Node.js + Express</li><li id="20ba" class="mz na in lu b lv nt ly nu mb nv mf nw mj nx mn ne nf ng nh bi translated">AWS API网关+ Lambda(无服务器)</li><li id="e886" class="mz na in lu b lv nt ly nu mb nv mf nw mj nx mn ne nf ng nh bi translated">回路</li><li id="a5d6" class="mz na in lu b lv nt ly nu mb nv mf nw mj nx mn ne nf ng nh bi translated">Firebase API(无服务器)</li></ul><h1 id="2935" class="la lb in bd lc ld mu lf lg lh mv lj lk jt mw ju lm jw mx jx lo jz my ka lq lr bi translated">一旦你制作了你的API，你应该把它部署在一个可靠的地方</h1><p id="e4ce" class="pw-post-body-paragraph ls lt in lu b lv lw jo lx ly lz jr ma mb mc md me mf mg mh mi mj mk ml mm mn ig bi translated">如果您的API将被许多人(数百万用户)使用，您会希望将它部署在具有全球影响力的可扩展基础设施上，例如:</p><ul class=""><li id="bcda" class="mz na in lu b lv mo ly mp mb nb mf nc mj nd mn ne nf ng nh bi translated">谷歌云</li><li id="a8f0" class="mz na in lu b lv nt ly nu mb nv mf nw mj nx mn ne nf ng nh bi translated">自动警报系统</li></ul><p id="0600" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">这样它将是安全的，并且当许多用户同时访问它时可以扩展！</p><p id="4e92" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated">今晚到此为止！该休息了😅。</p><p id="d2d1" class="pw-post-body-paragraph ls lt in lu b lv mo jo lx ly mp jr ma mb mq md me mf mr mh mi mj ms ml mm mn ig bi translated"><em class="ns">更多内容看</em><a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lu io"><em class="ns">plain English . io</em></strong></a></p></div></div>    
</body>
</html>