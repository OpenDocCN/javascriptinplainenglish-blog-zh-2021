<html>
<head>
<title>Build Custom React Components Like A Professional</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">像专业人员一样构建定制的React组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-custom-react-components-like-a-professional-c1de0303e6c8?source=collection_archive---------7-----------------------#2021-01-25">https://javascript.plainenglish.io/build-custom-react-components-like-a-professional-c1de0303e6c8?source=collection_archive---------7-----------------------#2021-01-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3782" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何从零开始构建自定义React组件，同时像专业人员一样思考。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bc84c48847b6ef097fcc4874920d4371.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QumqE381tNTb6nHx"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@linusekenstam?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Linus Ekenstam</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="6913" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">目录</h2><ul class=""><li id="bade" class="ls lt iq lu b lv lw lx ly lf lz lj ma ln mb mc md me mf mg bi translated">介绍</li><li id="3fe0" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">设置</li><li id="17db" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">规划我们的组件</li><li id="574b" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">获取并解析数据</li><li id="13cc" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">主要成分</li><li id="1bf5" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">行组件</li><li id="23dd" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">自定义渲染函数</li><li id="797a" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">一锤定音</li></ul><p id="e874" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">一如既往，有很多漂亮的截图和图片！</p><h2 id="e1f6" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">介绍</h2><p id="960d" class="pw-post-body-paragraph mm mn iq lu b lv lw jr mp lx ly ju mr lf nc mt mu lj nd mw mx ln ne mz na mc ij bi translated">React开发人员有三种类型:</p><ul class=""><li id="db4d" class="ls lt iq lu b lv mo lx mq lf nf lj ng ln nh mc md me mf mg bi translated">乐高拼装玩具</li><li id="5c40" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">乐高积木套装创作者</li><li id="6f8d" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">乐高技术套装创造者</li></ul><p id="910d" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">有些人只用Bootstrap、语义UI之类的库来创建自己的接口。这些大型组件集带有预定义的样式和功能，在快速构建界面时非常有用。最重要的是，他们是寻找和使用最好的第三方库的大师。他们非常有效，我称他们为<strong class="lu ir">乐高积木组装师</strong>:他们把积木组装在一起。</p><p id="8f1e" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">其他人除了是组装者之外，还能够在React中创建相对简单的定制组件:<strong class="lu ir">乐高玩具创建者</strong>。</p><blockquote class="ni"><p id="3dce" class="nj nk iq bd nl nm nn no np nq nr mc dk translated">但是像专业人员一样从头开始构建更高级的组件需要什么呢？</p></blockquote><p id="fd3f" class="pw-post-body-paragraph mm mn iq lu b lv ns jr mp lx nt ju mr lf nu mt mu lj nv mw mx ln nw mz na mc ij bi translated">…并成为一名<strong class="lu ir">乐高技术套装创造者</strong>？自己创造更复杂的部分，定义它们如何工作，它们看起来像什么？</p><p id="b930" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">在本文中，<strong class="lu ir">我们将构建一个定制数据表，呈现来自JSON文件的销售数据</strong>。在这个过程中，我将解释您应该如何在专业事务中构建这样一个组件。</p><p id="c469" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">当看到下面的图片时，你们中的一些人可能会点击离开。<br/>但是等等！<em class="nb">这与最终产品</em>无关。<strong class="lu ir">这只是一个帮助我们解释某些概念的例子</strong>。这篇文章的价值在于所有的评论。我们如何做事，为什么。以及我们如何开始像专业人士一样思考。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/d353f682640d64d904d86131071f5c58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PgHFlO2VGq1la8XzH9I6GQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">This custom component will help us explain certain concepts.</figcaption></figure><h2 id="c101" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">设置</h2><p id="38f9" class="pw-post-body-paragraph mm mn iq lu b lv lw jr mp lx ly ju mr lf nc mt mu lj nd mw mx ln ne mz na mc ij bi translated">我们将使用<strong class="lu ir"> Next.js </strong>(带有<strong class="lu ir"> TypeScript </strong>)来初始化一个新项目。如果你之前只用过Create React App，也不要害怕。Next.js和TypeScript都很好用。只是跟着走。</p><blockquote class="ny nz oa"><p id="31ab" class="mm mn nb lu b lv mo jr mp lx mq ju mr ob ms mt mu oc mv mw mx od my mz na mc ij bi translated">你可以在Gitlab的<a class="ae kv" href="https://gitlab.com/gvanderput/gerard-data-tables" rel="noopener ugc nofollow" target="_blank">我的知识库</a>中找到最终结果。</p></blockquote><p id="6636" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">但是我会快速总结一下我们如何初始化这个项目。</p><p id="caf8" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">创建新的Next.js项目:</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="f0f7" class="kw kx iq of b gy oj ok l ol om">$ npx create-next-app MyAppName</span></pre><p id="2ae7" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">…并添加打字稿(在<a class="ae kv" href="https://nextjs.org/docs/basic-features/typescript" rel="noopener ugc nofollow" target="_blank">他们的文档</a>中阅读更多细节)。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="d9e6" class="kw kx iq of b gy oj ok l ol om">$ cd MyAppName<br/>$ touch tsconfig.js<br/>$ <!-- -->yarn add --dev typescript @types/react @types/node<br/>$ yarn run dev</span></pre><p id="8aec" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">注意，最后一步也很关键:通过运行dev服务器，Next.js将为我们填充文件tsconfig.js和next-env.d.ts，我们的服务器就可以运行了。</p><p id="63ad" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">最后，我喜欢在我的项目中添加对<strong class="lu ir"> Sass </strong>的支持。这是个人喜好。如果你不知道它是什么，看看<a class="ae kv" href="https://sass-lang.com/" rel="noopener ugc nofollow" target="_blank">他们的网站</a>。它基本上围绕常规CSS形成了一个包装器，并添加了一些有用的功能，如嵌套样式、变量、函数等等。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="4a0b" class="kw kx iq of b gy oj ok l ol om">$ yarn add sass</span></pre><p id="2d12" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">重启开发服务器，就可以开始了。</p><h2 id="da06" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">规划我们的组件</h2><p id="0a36" class="pw-post-body-paragraph mm mn iq lu b lv lw jr mp lx ly ju mr lf nc mt mu lj nd mw mx ln ne mz na mc ij bi translated">因此，我们将创建一个数据表组件。应该想到的第一个问题是:<strong class="lu ir">数据从哪里来</strong>，这对创建我们的组件有什么影响？</p><p id="b772" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">多年来，有一个流行的持续讨论(它可能仍然存在)。最大的问题是，我们应该区分<strong class="lu ir">愚蠢和智能组件</strong>？其他人称之为表示组件和容器组件。我对这些讨论的看法相当直截了当:不要太在意。拜托，拜托，不要创造能征服国家，为未来任何事件做好准备，或者能在高速公路上自主驾驶的组件——可以这么说。<strong class="lu ir">打造您需要的产品。这才是最重要的。</strong></p><p id="72b7" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">但是当然，用一点你的大脑。如果您知道组件将在其他地方使用，请考虑这一点。并使其足够灵活。但不太灵活:</p><p id="2983" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">作为一个团队领导，我已经数不清有多少次不得不和我的开发人员交谈，希望让他们意识到<strong class="lu ir">他们可能不需要在他们的组件上有20多个计划属性</strong>。"<em class="nb">但是在未来，这个组件可能会这样使用，或者那样使用！</em>”他们说。绝对的。他们可能是对的。但这是当时的一个问题，也是当时必须处理这些问题的人的问题。除非你确定组件会被这样或那样使用，否则不要假设它会被这样使用。不要猜测或假设。<strong class="lu ir">处理摆在你面前的需求</strong>。而不是在未来某个不确定的时刻出现在其他开发商的假想车牌上。反正他们不会喜欢你做事的方式！数一数你自己在使用第三方组件时思考的次数，“他们到底为什么这样做？”</p><p id="c78d" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">我想我已经表达了我的观点。<br/>回到我们的代码。</p><blockquote class="ni"><p id="a3a4" class="nj nk iq bd nl nm nn no np nq nr mc dk translated">我们的目标是创建一个数据表，呈现销售人员及其在特定时间跨度(10天)内的表现。</p></blockquote><p id="b6a2" class="pw-post-body-paragraph mm mn iq lu b lv ns jr mp lx nt ju mr lf nu mt mu lj nv mw mx ln nw mz na mc ij bi translated">我们将:</p><ul class=""><li id="1e25" class="ls lt iq lu b lv mo lx mq lf nf lj ng ln nh mc md me mf mg bi translated">在将数据注入组件之前，获取并解析数据</li><li id="3159" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">创建主SalesTable组件</li><li id="0295" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">创建行组件</li></ul><h2 id="e496" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">获取并解析数据</h2><p id="3f65" class="pw-post-body-paragraph mm mn iq lu b lv lw jr mp lx ly ju mr lf nc mt mu lj nd mw mx ln ne mz na mc ij bi translated">在我们的例子中，数据可以在名为<code class="fe on oo op of b"><a class="ae kv" href="https://gitlab.com/gvanderput/gerard-data-tables/-/blob/master/data/sales.json" rel="noopener ugc nofollow" target="_blank">data/sales.json</a></code>的JSON文件中找到，其结构如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><blockquote class="ny nz oa"><p id="4912" class="mm mn nb lu b lv mo jr mp lx mq ju mr ob ms mt mu oc mv mw mx od my mz na mc ij bi translated"><a class="ae kv" href="https://gitlab.com/gvanderput/gerard-data-tables/-/blob/master/data/sales.json" rel="noopener ugc nofollow" target="_blank">实际档案</a>包含10条员工记录和100条销售记录。</p></blockquote><p id="5b56" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">因此，我们的获取非常简单:</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="cd9c" class="kw kx iq of b gy oj ok l ol om">import json from 'data/sales.json';</span></pre><p id="d687" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">文件中没有太多嵌套，所以我们称之为<strong class="lu ir">平面数据结构</strong>。不久前我写了另一篇关于这个原则的文章<a class="ae kv" href="https://medium.com/p/8d97dd80a9f1" rel="noopener">，我绝对建议你去读一下。</a></p><p id="9d9e" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">我们有<strong class="lu ir">员工列表</strong>、销售列表<strong class="lu ir">(T18)这些记录包含员工<a class="ae kv" href="https://en.wikipedia.org/wiki/Unique_identifier" rel="noopener ugc nofollow" target="_blank">、T20【uid】</a></strong>、T22<strong class="lu ir">日期</strong>、以及<strong class="lu ir">金额</strong>。让我们从定义他们的<em class="nb">类型</em>开始:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="96b3" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">请注意，我们如何创建一个不代表现有数据结构的类型:<code class="fe on oo op of b">EmployeeWithSales</code>。这是我们在解析数据时自己创建的东西。</p><p id="5492" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">接下来，我们将在<code class="fe on oo op of b">data/utils.ts</code>内部创建三个相关的功能:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="b911" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">导出功能<code class="fe on oo op of b">getEmployeeSales</code>将两个列表中的数据合并到一个列表中，记录类型为<code class="fe on oo op of b">EmployeeWithSales</code>，返回的数据如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="49c5" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">这是我们将注入到主要组件中的数据。</p><h2 id="f711" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">主要成分</h2><p id="d5f6" class="pw-post-body-paragraph mm mn iq lu b lv lw jr mp lx ly ju mr lf nc mt mu lj nd mw mx ln ne mz na mc ij bi translated">我们将在我们的索引页面上呈现我们的主要组件<code class="fe on oo op of b">SalesTable</code>。但首先，我们必须获取此页面中的数据。在Next.js中，我们可以通过使用<code class="fe on oo op of b">getStaticProps</code>来实现:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="e94e" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">现在，我们可以简单地将这些道具传递给我们的<code class="fe on oo op of b">SalesTable</code>组件(我们将在以后创建)。请注意，我们还使用了一个我们还没有提到的函数:<code class="fe on oo op of b">getSaleDates</code>。只需返回一个数组，其中包含我们数据中的所有唯一日期(按顺序排列),这将使我们的生活更简单:</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="2b10" class="kw kx iq of b gy oj ok l ol om">["2020-01-01", "2020-01-02", ...]</span></pre><p id="762d" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">我喜欢将这样的逻辑(例如，提取这些日期)保留在我们的组件之外，即使它只是几行代码。</p><p id="98c8" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">最后，<strong class="lu ir"> SalesTable组件</strong>本身:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="9627" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">它所做的就是:</p><ul class=""><li id="8b3b" class="ls lt iq lu b lv mo lx mq lf nf lj ng ln nh mc md me mf mg bi translated">呈现标题行</li><li id="82ae" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated">对于每个员工，渲染单独的行</li></ul><p id="a6c4" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">对于这两个任务，我们重复使用相同的行组件。我喜欢这样。每当你遇到必须渲染非常相似的元素的情况时，重用同一个组件！但是不要过度。<strong class="lu ir">如果差异太大，创建两个单独的组件</strong>。</p><p id="f3c9" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">这些行还有一些有趣的属性。接下来让我们看看行组件。</p><h2 id="72a7" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">行组件</h2><p id="7c7b" class="pw-post-body-paragraph mm mn iq lu b lv lw jr mp lx ly ju mr lf nc mt mu lj nd mw mx ln ne mz na mc ij bi translated">第一，其属性的类型:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="5cf1" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">第一个属性是可选的<code class="fe on oo op of b"><strong class="lu ir">title</strong></code>。其次，最重要的属性叫做<code class="fe on oo op of b"><strong class="lu ir">data</strong></code>，是一个数值数组(字符串或数字)。我们将用这些值来呈现单元格(有人称之为列)。第三个，<code class="fe on oo op of b"><strong class="lu ir">isHeader</strong></code>，是一个布尔值，指示该行是否应该作为标题行呈现。这将增加一个额外的CSS类。</p><p id="2acc" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">最后，可选的<code class="fe on oo op of b"><strong class="lu ir">renderValue</strong></code>属性。这个函数，如果给定的话，用数据数组中的每个值来调用，并且应该返回一个<code class="fe on oo op of b">React.ReactNode</code>(任何可呈现的对象)。<strong class="lu ir">我们可以用它来定制我们的值如何呈现</strong>。</p><p id="2e4a" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">你可以在许多第三方库中看到这样的功能；能够通过传递函数来自定义组件某些方面的呈现。我真的很喜欢这个。</p><p id="4935" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated"><strong class="lu ir">行组件</strong>本身看起来像这样:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><blockquote class="ny nz oa"><p id="49a5" class="mm mn nb lu b lv mo jr mp lx mq ju mr ob ms mt mu oc mv mw mx od my mz na mc ij bi translated">请注意<strong class="lu ir">我们所有的组件</strong>或实用功能<strong class="lu ir">都很小</strong>。它们由很少几行代码组成。我相信每个优秀的JavaScript开发者都应该以此为目标。它消除了复杂性，使我们的代码更容易测试，并确保我们的代码很容易有一个心理图像。这是函数式编程的一个基本方面。</p></blockquote><p id="32fa" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">正如您所看到的，row组件是一个简单的组件:它呈现一个标题单元格(它具有CSS属性<code class="fe on oo op of b">flex: 1</code>，因此它是一个响应元素)，它遍历<code class="fe on oo op of b">data</code>属性中的给定值，并为它们创建单独的单元格(具有固定的宽度)。可选地，用传递的<code class="fe on oo op of b">renderValue</code>函数呈现该值，或者直接呈现。</p><h2 id="eaf8" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">自定义渲染函数</h2><p id="5897" class="pw-post-body-paragraph mm mn iq lu b lv lw jr mp lx ly ju mr lf nc mt mu lj nd mw mx ln ne mz na mc ij bi translated">正如您在屏幕截图中看到的，我们表中的值呈现为热图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/567b7a5eeee1ab90913973633a26d477.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*x4sqS7jo2wTnPwISIy6_2Q.png"/></div></figure><p id="70c2" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">我们可以通过向SalesTable组件传递自定义呈现函数来实现这一点:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/ff2db21e976dbcbbc079e9ff3423ac9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*QHnMr4Hu3rN6yISqyK5bQQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Notice the renderValue property.</figcaption></figure><p id="3e51" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated"><code class="fe on oo op of b">renderHeatmapValue</code>函数看起来像这样:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><h2 id="509d" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">一锤定音</h2><blockquote class="ny nz oa"><p id="4120" class="mm mn nb lu b lv mo jr mp lx mq ju mr ob ms mt mu oc mv mw mx od my mz na mc ij bi translated">可以查看资源库中的少量CSS:<a class="ae kv" href="https://gitlab.com/gvanderput/gerard-data-tables/-/blob/master/styles/Row.module.scss" rel="noopener ugc nofollow" target="_blank">row . module . scss</a>。</p></blockquote><p id="fac7" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">通过规划我们的组件并保持组件的各个方面都很小，我们可以实现很多事情。<strong class="lu ir">我们的代码是可测试的、可扩展的、可重用的</strong>(也就是说，我们可以在其他地方轻松地重用renderHeatmapValue函数)<strong class="lu ir">看一看就很容易理解发生了什么</strong>。</p><p id="2e1d" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">当您的应用程序越来越大时，这些品质变得越来越重要。</p><p id="b391" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">感谢您的宝贵时间！</p><p id="d338" class="pw-post-body-paragraph mm mn iq lu b lv mo jr mp lx mq ju mr lf ms mt mu lj mv mw mx ln my mz na mc ij bi translated">杰勒德</p></div></div>    
</body>
</html>