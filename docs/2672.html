<html>
<head>
<title>Deploy React SSR to Production</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将React SSR部署到生产中</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/deploy-react-ssr-to-production-26350e9985d1?source=collection_archive---------2-----------------------#2021-06-02">https://javascript.plainenglish.io/deploy-react-ssr-to-production-26350e9985d1?source=collection_archive---------2-----------------------#2021-06-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="7859" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何在谷歌云平台上部署React SSR应用</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/1fa920b96b802cda85b992a4d70024f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i7eATXxurPAPCyLIJ4X5xw.png"/></div></div></figure></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><p id="cc03" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">这是<a class="ae lr" href="https://www.suhanwijaya.com/posts/intro-to-react-server-side-rendering" rel="noopener ugc nofollow" target="_blank">介绍React服务器端渲染</a>的续集，所以如果你还没有看的话，可以看看。</p><p id="6b69" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">让我们在谷歌云平台(GCP)上部署一个基本的React SSR应用程序。</p><p id="781d" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">在本文中，我将部署一个<em class="ls"> Web应用服务器</em>，将webpack包上传到<em class="ls">云存储</em>，并通过<em class="ls"> CDN提供这些包。</em>我使用的斜体术语是乔纳森·富尔顿(Jonathan Fulton)在这篇出色的文章<a class="ae lr" href="https://engineering.videoblocks.com/web-architecture-101-a3224e126947" rel="noopener ugc nofollow" target="_blank"> Web Architecture 101 </a>中定义的。</p><p id="74f8" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">让我们分两部分来完成这个任务。</p><p id="56a5" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><em class="ls">第1部分:在本地构建并启动应用程序。</em></p><p id="3ea6" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><em class="ls">第2部分:部署到云。</em></p></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h1 id="517e" class="lv lw in bd lx ly lz ma mb mc md me mf jt mg ju mh jw mi jx mj jz mk ka ml mm bi translated">第1部分:在本地构建并启动应用程序</h1><p id="2f88" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">这是大图:</p><ol class=""><li id="fa16" class="ms mt in kx b ky kz lb lc le mu li mv lm mw lq mx my mz na bi translated">通过webpack传输客户端和服务器端捆绑包。</li><li id="eb6d" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq mx my mz na bi translated">启动一个静态服务器来服务客户端包。</li><li id="63bb" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq mx my mz na bi translated">作为Web应用服务器启动服务器端包。</li></ol><p id="28b5" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">作为参考，这里是本节使用的代码的<a class="ae lr" href="https://github.com/suhanw/blog-react-ssr/tree/local-build" rel="noopener ugc nofollow" target="_blank"> Github repo </a>。</p></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h2 id="7ec8" class="ng lw in bd lx nh ni dn mb nj nk dp mf le nl nm mh li nn no mj lm np nq ml nr bi translated">反应组分</h2><p id="d0f6" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">让我们创建一个简单的React组件<code class="fe ns nt nu nv b">App</code>，它用一些基本样式呈现我们最喜欢的问候语，以及一个单击时显示警告对话框的按钮。我们将在服务器端呈现这个组件，并在客户端合成它。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nw nx l"/></div></figure></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h2 id="9edf" class="ng lw in bd lx nh ni dn mb nj nk dp mf le nl nm mh li nn no mj lm np nq ml nr bi translated">webpack配置</h2><p id="d7f8" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">我们不是使用<code class="fe ns nt nu nv b">webpack-dev-server</code>在内存中构建客户端包(就像<a class="ae lr" href="https://www.suhanwijaya.com/posts/intro-to-react-server-side-rendering" rel="noopener ugc nofollow" target="_blank">Intro to React Server Side Rendering</a>中一样)，而是将包输出写入文件，并启动一个本地静态服务器来服务这些文件。请注意下面的注释行。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="d992" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">上面代码注释的注释:</p><p id="d47a" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【A】</strong>保存客户端捆绑输出到<code class="fe ns nt nu nv b">./build/client</code></p><p id="c124" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【B】</strong>将JavaScript代码写入<code class="fe ns nt nu nv b">./scripts/bundle.js</code></p><p id="bc11" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【C】</strong>将CSS代码写入<code class="fe ns nt nu nv b">./styles/bundle.css</code></p><p id="b804" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">其他设置与我们在这里要完成的任务没有太大关系，但是更多细节可以在<a class="ae lr" href="https://www.suhanwijaya.com/posts/intro-to-react-server-side-rendering" rel="noopener ugc nofollow" target="_blank">React服务器端渲染简介</a>中找到。</p></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h2 id="f5eb" class="ng lw in bd lx nh ni dn mb nj nk dp mf le nl nm mh li nn no mj lm np nq ml nr bi translated">HTML响应</h2><p id="2226" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">虽然HTML标记将在服务器端呈现，但我们需要确保捆绑的JS和CSS文件被下载到客户端，以“水合”标记。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="f88b" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">上面代码注释的注释:</p><p id="8194" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【A】</strong>这将React组件<code class="fe ns nt nu nv b">App</code>转换成一个HTML字符串，然后我们将它插入到ID为<strong class="kx io">“SSR-app”</strong>的<code class="fe ns nt nu nv b">div</code>中。即SSR标记。</p><p id="5d1c" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">这将加载CSS代码来样式化我们的SSR标记中的DOM元素。</p><p id="1adb" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【C】</strong>这会加载JS代码来“水合”具有交互性的标记。在本例中，它将click处理程序附加到按钮上。</p><p id="5828" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【D】</strong>这是服务于客户端捆绑包的本地静态服务器。</p><p id="33c6" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">酷毙了。</p></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h2 id="6092" class="ng lw in bd lx nh ni dn mb nj nk dp mf le nl nm mh li nn no mj lm np nq ml nr bi translated">构建和启动脚本</h2><p id="8dd0" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">让我们定义几个<code class="fe ns nt nu nv b">npm</code>脚本来本地构建和启动我们的应用程序。请将这些视为启动和运行我们的应用程序的步骤。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nw nx l"/></div></figure><ul class=""><li id="307f" class="ms mt in kx b ky kz lb lc le mu li mv lm mw lq ny my mz na bi translated"><code class="fe ns nt nu nv b">build:client</code> —这告诉webpack构建客户端代码并将包输出保存在<code class="fe ns nt nu nv b">./build/client</code>中。</li><li id="3370" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq ny my mz na bi translated"><code class="fe ns nt nu nv b">build:server</code> —这告诉webpack构建服务器端代码并将包输出保存到<code class="fe ns nt nu nv b">./build/server/bundle.js</code>。</li><li id="e671" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq ny my mz na bi translated"><code class="fe ns nt nu nv b">prebuild</code> —使用<a class="ae lr" href="https://github.com/isaacs/rimraf" rel="noopener ugc nofollow" target="_blank"> rimraf </a>删除<code class="fe ns nt nu nv b">./build</code>文件夹。</li><li id="1d1b" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq ny my mz na bi translated"><code class="fe ns nt nu nv b">build</code> —并行运行<code class="fe ns nt nu nv b">build:client</code>和<code class="fe ns nt nu nv b">build:server</code>。</li><li id="b8bb" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq ny my mz na bi translated"><code class="fe ns nt nu nv b">start:client</code> —这将<code class="fe ns nt nu nv b">./build/client</code>作为<code class="fe ns nt nu nv b"><a class="ae lr" href="http://localhost:5000." rel="noopener ugc nofollow" target="_blank">http://localhost:5000</a></code>上的静态文件，使用恰当命名的库<a class="ae lr" href="https://github.com/vercel/serve" rel="noopener ugc nofollow" target="_blank">服务</a>。注意，这是我们在上面的HTML响应中插入的<code class="fe ns nt nu nv b">cdnHost</code>。</li><li id="450d" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq ny my mz na bi translated"><code class="fe ns nt nu nv b">start:server</code> —这将在<code class="fe ns nt nu nv b">http://localhost:3000</code>启动快速服务器。</li><li id="8950" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq ny my mz na bi translated"><code class="fe ns nt nu nv b">start:local</code> —并行运行<code class="fe ns nt nu nv b">start:client</code>和<code class="fe ns nt nu nv b">start:server</code>。</li></ul></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h2 id="edf3" class="ng lw in bd lx nh ni dn mb nj nk dp mf le nl nm mh li nn no mj lm np nq ml nr bi translated">把所有的放在一起</h2><p id="662b" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">在终端中，让我们按以下顺序运行npm脚本:</p><ol class=""><li id="699a" class="ms mt in kx b ky kz lb lc le mu li mv lm mw lq mx my mz na bi translated"><code class="fe ns nt nu nv b">npm run build</code></li><li id="5996" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq mx my mz na bi translated"><code class="fe ns nt nu nv b">npm run start:local</code></li></ol><p id="1ab6" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">我们的SSR应用程序现已在<code class="fe ns nt nu nv b">http://localhost:3000</code>上线运行！🎉</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nz"><img src="../Images/e1a31c2824d0432c3129b97060a7583d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V8TXde5Bpc_OoTeQdbxf6A.png"/></div></div></figure><p id="9b3e" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">点击按钮应该会触发警告对话框！🙌</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nz"><img src="../Images/1a79c5cbd29d07881a9b3c46ef78bf26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BEf6jWA_6lIFmEcohfV_iw.png"/></div></div></figure></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h1 id="139c" class="lv lw in bd lx ly lz ma mb mc md me mf jt mg ju mh jw mi jx mj jz mk ka ml mm bi translated">第2部分:部署到云</h1><p id="110e" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">我们现在将在云中复制我们刚刚在本地做的事情，<strong class="kx io">！</strong></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oa"><img src="../Images/0920d2a913c469abe4113a0a42da5a2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OuRPNKuAgKXQ3QdqmQg1AA.jpeg"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Source: <a class="ae lr" href="https://www.reddit.com/r/ProgrammerHumor/comments/6cer5t/what_are_clouds_made_of/" rel="noopener ugc nofollow" target="_blank">Reddit</a></figcaption></figure></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><p id="6c48" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">再说一遍，这是大图:</p><ol class=""><li id="798d" class="ms mt in kx b ky kz lb lc le mu li mv lm mw lq mx my mz na bi translated">使用GCP云构建来执行以下构建步骤。</li><li id="9b8b" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq mx my mz na bi translated">通过webpack传输客户端和服务器端捆绑包。</li><li id="6fd8" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq mx my mz na bi translated">将客户端捆绑包上传到GCP云存储，这些捆绑包将作为CDN上的静态文件。</li><li id="e2c2" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq mx my mz na bi translated">将服务器端捆绑包作为Web应用服务器部署到GCP应用引擎。</li></ol><p id="b05c" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">作为参考，这里是本节使用的代码的<a class="ae lr" href="https://github.com/suhanw/blog-react-ssr/tree/deploy" rel="noopener ugc nofollow" target="_blank"> Github repo </a>。</p><p id="f727" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">对于本节，我假设您对GCP有一定程度的了解，包括您已经注册了一个帐户。</p><p id="0686" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">请注意，当您使用GCP产品/服务时，可能会收取账单费用！</strong></p><p id="4c9b" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">深呼吸，我们开始吧！</p></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h2 id="d32e" class="ng lw in bd lx nh ni dn mb nj nk dp mf le nl nm mh li nn no mj lm np nq ml nr bi translated">创建新的GCP项目</h2><p id="635f" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">转到<a class="ae lr" href="https://console.cloud.google.com/cloud-resource-manager" rel="noopener ugc nofollow" target="_blank"> IAM &amp; Admin &gt;管理资源</a>并创建一个新项目。我们把这个项目命名为<code class="fe ns nt nu nv b">react-ssr</code>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi of"><img src="../Images/72cf8daff455ddbec0dbabeed5ed1db0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B6FjoiNPtXTgX-Vk5Omz5Q.png"/></div></div></figure><p id="326a" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">确保新创建的项目<code class="fe ns nt nu nv b">react-ssr</code>被选中。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi og"><img src="../Images/544b1d5014b087fa6d18ef2fd57771b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YI9ou1Rw8kWTpYI0jVfNLQ.png"/></div></div></figure></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h2 id="3cfb" class="ng lw in bd lx nh ni dn mb nj nk dp mf le nl nm mh li nn no mj lm np nq ml nr bi translated">云存储</h2><p id="a1cd" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">创建一个存储桶来上传客户端包。这些将作为静态文件通过一个由GCP支持的真实CDN提供。</p><p id="a852" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">进入<a class="ae lr" href="https://console.cloud.google.com/storage/browser" rel="noopener ugc nofollow" target="_blank">云存储&gt;浏览器</a>新建一个桶。为了一致，还是取名<code class="fe ns nt nu nv b">react-ssr</code>吧。其余选项使用默认设置。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oh"><img src="../Images/45721a949fba0c87cd3d272ad902137f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UwWWbp08J6epNBxrEWM04g.png"/></div></div></figure><p id="8b71" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">一旦创建了bucket，您应该会看到类似这样的内容。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oi"><img src="../Images/f95513ffcbc86250cfb8556d3d343a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_IiXV2fWTfO8BbRHhlVv3w.png"/></div></div></figure><p id="7d69" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">钻入<code class="fe ns nt nu nv b">react-ssr</code>桶，点击<code class="fe ns nt nu nv b">Configuration</code>选项卡，编辑<code class="fe ns nt nu nv b">Permissions &gt; Access Control</code>，并将其设置为<code class="fe ns nt nu nv b">Fine-grained</code>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oj"><img src="../Images/667eebb43ce02cc6b429299d73e96eac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sFMSu2uMbC1-WYUsCwNdeA.png"/></div></div></figure><p id="f8b0" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">点击<code class="fe ns nt nu nv b">Permissions</code>选项卡，点击<code class="fe ns nt nu nv b">Permissions &gt; ADD</code>，添加角色为<code class="fe ns nt nu nv b">Storage Legacy Object Reader</code>的用户<code class="fe ns nt nu nv b">allUsers</code>，使该存储桶中的文件公开可读。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ok"><img src="../Images/4737a1844d539d0be01db9cd7e24e3a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ISIl3e0ZNeMKDPQ6FEkAHQ.png"/></div></div></figure></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h2 id="2800" class="ng lw in bd lx nh ni dn mb nj nk dp mf le nl nm mh li nn no mj lm np nq ml nr bi translated">应用引擎</h2><p id="349a" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">这项服务将管理集装箱化和扩展。为了说明的目的，这仅仅意味着我们的应用程序将通过URL在互联网上可用。</p><p id="101d" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">转到<a class="ae lr" href="https://console.cloud.google.com/appengine" rel="noopener ugc nofollow" target="_blank">应用引擎&gt;仪表板</a>并创建一个新应用。相应地选择你的地区。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ol"><img src="../Images/814baa9fdc1ee61aacea5a771a1f30d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O9q2NgvplKYs1VVkZrYIgQ.png"/></div></div></figure><p id="74ca" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">成功创建应用程序后，您应该会在仪表板上看到类似这样的内容。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi om"><img src="../Images/e81bc9746ee64e8c7822263174cde2e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-mIN_9raxln55U01vorf1A.png"/></div></div></figure><p id="1108" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">接下来，启用<a class="ae lr" href="https://console.cloud.google.com/marketplace/product/google/appengine.googleapis.com" rel="noopener ugc nofollow" target="_blank">应用引擎管理API </a>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi on"><img src="../Images/ae0fb9cc7edb2865ba3b3dfc4f42e0c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2iwXnlM4VkSZqFlLJLJFfg.png"/></div></div></figure><p id="8830" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">一旦启用，您应该会看到类似这样的内容。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oo"><img src="../Images/1520db79ecbfbaa8c79030b97422033d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vcphMFF-51oB037BZOqOHg.png"/></div></div></figure><p id="3e14" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">接下来，我们需要通过代码库中的<code class="fe ns nt nu nv b">app.yaml</code>文件定义<a class="ae lr" href="https://cloud.google.com/appengine/docs/standard/nodejs/configuring-your-app-with-app-yaml" rel="noopener ugc nofollow" target="_blank">运行时设置</a>，以便我们的Node.js应用程序托管在App Engine上。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="5521" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">上面代码注释的注释:</p><p id="527b" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【A】</strong>这告诉App Engine你要为你的App使用的Node.js版本。</p><p id="8f03" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【B】</strong>这将运行时环境变量<code class="fe ns nt nu nv b">NODE_ENV</code>设置为值“production”，我们可以通过<code class="fe ns nt nu nv b">process.env.NODE_ENV</code>在代码中访问它。</p><p id="b258" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">最后，App Engine通过运行<code class="fe ns nt nu nv b">npm start</code>来启动应用程序，所以让我们将那个<code class="fe ns nt nu nv b">npm</code>脚本添加到我们的<code class="fe ns nt nu nv b">package.json</code>中。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nw nx l"/></div></figure></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h2 id="bc2b" class="ng lw in bd lx nh ni dn mb nj nk dp mf le nl nm mh li nn no mj lm np nq ml nr bi translated">云构建</h2><p id="c803" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">我们将在每次提交源代码时使用云构建来自动化应用部署。</p><p id="3d74" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">首先，让我们启用<a class="ae lr" href="https://console.cloud.google.com/marketplace/product/google/cloudbuild.googleapis.com" rel="noopener ugc nofollow" target="_blank">云构建API </a>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi op"><img src="../Images/5a4975d9a63d9996634afb9f0732b57e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zJkXHOirjJRdPVAMRxslkA.png"/></div></div></figure><p id="d2ae" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">一旦启用，您应该会看到类似这样的内容。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oq"><img src="../Images/e5ab0ba7382b28909480bfee35acfd70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bod8If6hZiqZUsxaru9sqg.png"/></div></div></figure><p id="a5f3" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">接下来，进入<a class="ae lr" href="https://console.cloud.google.com/cloud-build/settings/" rel="noopener ugc nofollow" target="_blank">云构建&gt;设置</a>，将<strong class="kx io"> App Engine Admin </strong>角色和<strong class="kx io"> Service Account User </strong>角色的状态设置为<strong class="kx io"> Enabled </strong>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi or"><img src="../Images/dbe52d9feb6c4a80f94330baa28e42b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTHGjblMZkCIwocb68Brtw.png"/></div></div></figure><p id="5a77" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">出于这个示例的目的，只需将<a class="ae lr" href="https://cloud.google.com/build/docs/securing-builds/configure-access-for-cloud-build-service-account" rel="noopener ugc nofollow" target="_blank">云构建服务帐户</a>想象成自动执行我们的构建步骤、将文件上传到云存储并部署到App Engine的机器人。</p><p id="6b5a" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">最后，我们在代码库中的<code class="fe ns nt nu nv b">cloudbuild.yaml</code>文件中定义了一系列构建步骤，以将我们的应用程序部署到云中。云构建将连续执行这些步骤。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="71f3" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">上面代码注释的注释:</p><p id="bc62" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【A】</strong>这会运行<code class="fe ns nt nu nv b">npm install</code>在云中安装我们所有的依赖项，就像我们在本地开始一个新项目一样。</p><p id="92c1" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【B】</strong>这运行<code class="fe ns nt nu nv b">npm run build</code>通过webpack传输我们的客户端和服务器端包，并将输出保存到<code class="fe ns nt nu nv b">./build</code>，将构建时环境变量<code class="fe ns nt nu nv b">NODE_ENV</code>设置为“生产”，我们可以通过<code class="fe ns nt nu nv b">process.env.NODE_ENV</code>在我们的代码中访问它。</p><p id="1822" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【C】</strong>这将<code class="fe ns nt nu nv b">./build</code>目录中的文件上传到我们之前创建的云存储桶<code class="fe ns nt nu nv b">react-ssr/build</code>中。</p><p id="5c58" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【D】</strong>这会将云构建<a class="ae lr" href="https://cloud.google.com/build/docs/deploying-builds/deploy-appengine#configuring_the_deployment" rel="noopener ugc nofollow" target="_blank">超时设置为1600秒</a>，并将应用部署到应用引擎。</p><p id="2737" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">最后，让我们通过创建一个构建触发器，在每次向源repo推送一个新的git commit时开始自动化构建。转到<a class="ae lr" href="https://console.cloud.google.com/cloud-build/triggers" rel="noopener ugc nofollow" target="_blank">云构建&gt;触发器</a>，创建一个触发器。我们将其命名为<code class="fe ns nt nu nv b">deploy-react-ssr</code>，并选择<code class="fe ns nt nu nv b">Push to a branch</code>作为repo事件来启动自动化构建。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi os"><img src="../Images/25eb24d0bfa87b3a52db9a9431211119.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qpkAeSZV7sXbJvzQEKiVJQ.png"/></div></div></figure><p id="138e" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">选择包含构建配置文件<code class="fe ns nt nu nv b">cloudbuild.yaml</code>的源代码报告。为将启动触发器的分支指定正则表达式。在我的例子中，我想在每次提交到<code class="fe ns nt nu nv b">deploy</code>分支时触发自动构建。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ot"><img src="../Images/42e9de6d21f2f115557d4c00641a7815.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aPRWHuXI3UOeitXH1WnzZA.png"/></div></div></figure><p id="1492" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">一旦触发器成功创建，您应该会看到类似这样的内容。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ou"><img src="../Images/6df019029fdb660e9edfe525aa311913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uz13gIx_Ya_jEBYHSrxcNQ.png"/></div></div></figure></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h2 id="e48d" class="ng lw in bd lx nh ni dn mb nj nk dp mf le nl nm mh li nn no mj lm np nq ml nr bi translated">HTML响应</h2><p id="3257" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">与上面的第1部分类似，我们需要确保捆绑的JS和CSS文件被下载到客户端，以“水合”SSR-ed标记。下面的注释行与第1部分中的略有不同。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="bbd3" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">上面代码注释的注释:</p><p id="a6f0" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【A】</strong>在生产中，App Engine会将<code class="fe ns nt nu nv b">process.env.PORT</code>环境变量设置为通过互联网接收HTTP请求的端口。</p><p id="dbf0" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kx io">【B】</strong>在生产中，这是为上传到云存储的客户端捆绑包提供服务的静态服务器。注意:实际启用云CDN服务还有一些额外的步骤，但与此图没有太大关系。</p></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h2 id="9fc1" class="ng lw in bd lx nh ni dn mb nj nk dp mf le nl nm mh li nn no mj lm np nq ml nr bi translated">把所有的放在一起</h2><p id="b6d9" class="pw-post-body-paragraph kv kw in kx b ky mn jo la lb mo jr ld le mp lg lh li mq lk ll lm mr lo lp lq ig bi translated">你还在这里？厉害！</p><p id="b4dc" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">以下是将上述所有内容整合在一起的工作流程:</p><p id="d87c" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">1.将提交推送到源代码仓库中的<code class="fe ns nt nu nv b">deploy</code>分支。</p><p id="8410" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">2.提交会触发云构建来启动自动化构建。转到<a class="ae lr" href="https://console.cloud.google.com/cloud-build/builds" rel="noopener ugc nofollow" target="_blank">云构建&gt;历史</a>了解构建和相关提交的历史。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ov"><img src="../Images/d04bd1984b9cc81aa9859343c8922306.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3VWR5S8bI6_9MByrOIaCTA.png"/></div></div></figure><p id="4a31" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">3.在给定的构建中，执行<code class="fe ns nt nu nv b">cloudbuild.yaml</code>中定义的步骤。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ow"><img src="../Images/bd43981184abc83378147c19691838f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NrsX2l3eRuuSJk4ECQ_xUA.png"/></div></div></figure><p id="b58d" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">4.客户端捆绑包被上传到云存储。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ox"><img src="../Images/be22435b9a71d9a8a0dcaa55a6e882c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zCz2fUu95c-HifUJM2v00A.png"/></div></div></figure><p id="23a8" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">5.Web应用服务器部署到App Engine。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oy"><img src="../Images/3acc58a22ee90201c097915ffb769e7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s2vmSGUimC8gVj1kluDpgA.png"/></div></div></figure><p id="1fb1" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">6.SSR应用程序现在已经在云中运行了！😍</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nz"><img src="../Images/eb579ce60c7418de5ad5d416b0dc9dd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M-8Atpg9mjcJqhJIkRlEfQ.png"/></div></div></figure></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h1 id="d37a" class="lv lw in bd lx ly lz ma mb mc md me mf jt mg ju mh jw mi jx mj jz mk ka ml mm bi translated">资源</h1><ul class=""><li id="07b0" class="ms mt in kx b ky mn lb mo le oz li pa lm pb lq ny my mz na bi translated"><a class="ae lr" href="https://cloud.google.com/build/docs/building/build-nodejs?hl=en" rel="noopener ugc nofollow" target="_blank">云构建:构建Node.js应用</a></li><li id="c599" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq ny my mz na bi translated"><a class="ae lr" href="https://cloud.google.com/community/tutorials/automated-publishing-cloud-build" rel="noopener ugc nofollow" target="_blank">云构建:使用云构建的自动化静态网站发布</a></li><li id="15d0" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq ny my mz na bi translated"><a class="ae lr" href="https://cloud.google.com/appengine/docs/standard/nodejs/building-app" rel="noopener ugc nofollow" target="_blank">应用引擎:在应用引擎上构建Node.js应用</a></li><li id="b811" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq ny my mz na bi translated"><a class="ae lr" href="https://cloud.google.com/appengine/docs/standard/nodejs/using-cloud-storage" rel="noopener ugc nofollow" target="_blank"> App引擎:使用云存储</a></li><li id="9d53" class="ms mt in kx b ky nb lb nc le nd li ne lm nf lq ny my mz na bi translated"><a class="ae lr" href="https://cloud.google.com/storage/docs/access-public-data#api-link" rel="noopener ugc nofollow" target="_blank">云存储:访问公共数据</a></li></ul></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><h1 id="1fac" class="lv lw in bd lx ly lz ma mb mc md me mf jt mg ju mh jw mi jx mj jz mk ka ml mm bi translated">阅读更多</h1><div class="pc pd gp gr pe pf"><a rel="noopener  ugc nofollow" target="_blank" href="/intro-to-react-server-side-rendering-3c2af3782d08"><div class="pg ab fo"><div class="ph ab pi cl cj pj"><h2 class="bd io gy z fp pk fr fs pl fu fw im bi translated">React服务器端渲染简介</h2><div class="pm l"><h3 class="bd b gy z fp pk fr fs pl fu fw dk translated">如何在没有任何工具或框架的情况下构建一个React SSR app？</h3></div><div class="pn l"><p class="bd b dl z fp pk fr fs pl fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="po l"><div class="pp l pq pr ps po pt km pf"/></div></div></a></div><div class="pc pd gp gr pe pf"><a rel="noopener  ugc nofollow" target="_blank" href="/decouple-data-from-ui-with-react-hooks-6f7fe968c3e3"><div class="pg ab fo"><div class="ph ab pi cl cj pj"><h2 class="bd io gy z fp pk fr fs pl fu fw im bi translated">用React钩子将数据从UI解耦</h2><div class="pm l"><h3 class="bd b gy z fp pk fr fs pl fu fw dk translated">以及我如何用JavaScript函数“编程到一个接口”</h3></div><div class="pn l"><p class="bd b dl z fp pk fr fs pl fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="po l"><div class="pu l pq pr ps po pt km pf"/></div></div></a></div><div class="pc pd gp gr pe pf"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-decouple-data-from-ui-in-react-d6b1516f4f0b"><div class="pg ab fo"><div class="ph ab pi cl cj pj"><h2 class="bd io gy z fp pk fr fs pl fu fw im bi translated">如何在React第2部分中将数据与UI解耦</h2><div class="pm l"><h3 class="bd b gy z fp pk fr fs pl fu fw dk translated">对钩子、渲染道具和特设模式的进一步探索</h3></div><div class="pn l"><p class="bd b dl z fp pk fr fs pl fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="po l"><div class="pv l pq pr ps po pt km pf"/></div></div></a></div></div><div class="ab cl ko kp hr kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ig ih ii ij ik"><p id="4d00" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">📫<em class="ls">我们来连线上</em><a class="ae lr" href="https://www.linkedin.com/in/suhanwijaya/" rel="noopener ugc nofollow" target="_blank"><em class="ls">LinkedIn</em></a><em class="ls">或者</em><a class="ae lr" href="https://twitter.com/suhanw" rel="noopener ugc nofollow" target="_blank"><em class="ls">Twitter</em></a><em class="ls">！</em></p><p id="4cbb" class="pw-post-body-paragraph kv kw in kx b ky kz jo la lb lc jr ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><em class="ls">更多内容请看</em><a class="ae lr" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ls">plain English . io</em></a></p></div></div>    
</body>
</html>