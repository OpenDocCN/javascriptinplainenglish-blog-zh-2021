<html>
<head>
<title>Build a Command-Line Pomodoro Timer in Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Node.js中构建一个命令行Pomodoro计时器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-command-line-pomodoro-timer-in-node-js-65ed2f6d3308?source=collection_archive---------5-----------------------#2021-02-16">https://javascript.plainenglish.io/build-a-command-line-pomodoro-timer-in-node-js-65ed2f6d3308?source=collection_archive---------5-----------------------#2021-02-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="3817" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何走出低迷</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/4aae69b40b31375fa6e185453e4c1ff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HxZwkviYnJcVXkhkTl9jpw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">The start of some work</figcaption></figure><p id="70dc" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">当我开始学习像Pomodoro这样的任务执行系统时，我认为自己组装一个CLI将是在工作中创造一种主人翁感和自豪感的好方法。此外，它还能让我发布我需要的功能。</p><h1 id="b073" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">要求</h1><ul class=""><li id="f736" class="mg mh in ku b kv mi ky mj lb mk lf ml lj mm ln mn mo mp mq bi translated">跟踪完成给定工作小时数的进度</li><li id="19f6" class="mg mh in ku b kv mr ky ms lb mt lf mu lj mv ln mn mo mp mq bi translated">设定连续工作区块和休息时间的目标</li><li id="6d5e" class="mg mh in ku b kv mr ky ms lb mt lf mu lj mv ln mn mo mp mq bi translated">看起来不错，所以生产力横幅可以使用它</li><li id="2c4a" class="mg mh in ku b kv mr ky ms lb mt lf mu lj mv ln mn mo mp mq bi translated">发出日志以供将来分析</li></ul><h1 id="afca" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">设计</h1><h2 id="b5ee" class="mw lp in bd lq mx my dn lu mz na dp ly lb nb nc ma lf nd ne mc lj nf ng me nh bi translated">类别与功能</h2><p id="8f1f" class="pw-post-body-paragraph ks kt in ku b kv mi jo kx ky mj jr la lb ni ld le lf nj lh li lj nk ll lm ln ig bi translated">最初我只是做了一个倒计时器，并以此为基础。我通常不写类，但是拥有一个可变的内部状态是思考这个问题的一种非常简单的方式。</p><h2 id="0ddb" class="mw lp in bd lq mx my dn lu mz na dp ly lb nb nc ma lf nd ne mc lj nf ng me nh bi translated">从小处着手，逐步积累</h2><p id="c785" class="pw-post-body-paragraph ks kt in ku b kv mi jo kx ky mj jr la lb ni ld le lf nj lh li lj nk ll lm ln ig bi translated">我对node.js不是很有经验，所以我首先展示了一个简单的倒计时来让自己熟悉一下。总体思路是使用<code class="fe nl nm nn no b">setInterval</code>在时钟上设置每秒1000毫秒的延迟。最初我使用的是<code class="fe nl nm nn no b">process.stdout.write</code>,但是当我发现一个显示进度条的库时，我意识到进度条是显示你学习目标信息的一个很好的方式。</p><h1 id="d535" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">使用npm库</h1><p id="0008" class="pw-post-body-paragraph ks kt in ku b kv mi jo kx ky mj jr la lb ni ld le lf nj lh li lj nk ll lm ln ig bi translated">我使用<a class="ae np" href="https://www.npmjs.com/package/enquirer" rel="noopener ugc nofollow" target="_blank">询问器</a>来获取用户输入。<br/>这是它的样子-</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/0652f5fb8cf0a7edbc4c17607124004a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/0*RDVsuuDub300u4eb.png"/></div></figure><p id="f781" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">显示的只是来自<a class="ae np" href="https://www.npmjs.com/package/cli-progress" rel="noopener ugc nofollow" target="_blank"> CLI-progress </a>库的多进度条。这比自己编写控制台要好得多。这是我现在所在的街区-</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/fc716a74d5a7fe4f7fc89add33fd2a0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/0*GmH2Xe3Z4E9oQmr-.png"/></div></figure><h1 id="4f19" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">写入文件</h1><p id="abf2" class="pw-post-body-paragraph ks kt in ku b kv mi jo kx ky mj jr la lb ni ld le lf nj lh li lj nk ll lm ln ig bi translated">代码写入项目的<code class="fe nl nm nn no b">sessions</code>文件夹中的一个文件。文件名是会话的结束时间。里面的东西看起来像这样-</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ns"><img src="../Images/d4f68502be38c87318a4bd38f13bcfa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dqChQq9Sh5pcMQcZ.png"/></div></div></figure><p id="8262" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这样，我可以在以后进行分析，以跟踪我为开源做出贡献的时间。</p><h2 id="3f81" class="mw lp in bd lq mx my dn lu mz na dp ly lb nb nc ma lf nd ne mc lj nf ng me nh bi translated">JSON与CSV</h2><p id="560a" class="pw-post-body-paragraph ks kt in ku b kv mi jo kx ky mj jr la lb ni ld le lf nj lh li lj nk ll lm ln ig bi translated">更新:它现在写入CSV(整理数据)。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nt"><img src="../Images/c785bf79d3afc53dc5a41cf3f2310d74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kkmw-E0kvOUnhaUpYUMMUA.png"/></div></div></figure><p id="1d0c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这样我可以更容易地用R/Python/Julia进行分析。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nu"><img src="../Images/6aa6d643f1b2496b41a42feff98f66d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EBJAk-bsKNSsceKzahn3Rw.png"/></div></div></figure><h1 id="7758" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">感谢阅读！</h1><p id="7be6" class="pw-post-body-paragraph ks kt in ku b kv mi jo kx ky mj jr la lb ni ld le lf nj lh li lj nk ll lm ln ig bi translated">如果你尝试一下，请务必阅读自述文件。<a class="ae np" href="https://github.com/Open-EdTech/node-pomodoro" rel="noopener ugc nofollow" target="_blank">https://github.com/Open-EdTech/node-pomodoro</a></p></div></div>    
</body>
</html>