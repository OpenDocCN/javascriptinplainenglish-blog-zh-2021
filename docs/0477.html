<html>
<head>
<title>React Native — Alert and Animations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">本地反应—警报和动画</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-native-alert-and-animations-63945b3dcb09?source=collection_archive---------9-----------------------#2021-01-28">https://javascript.plainenglish.io/react-native-alert-and-animations-63945b3dcb09?source=collection_archive---------9-----------------------#2021-01-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3699d9da13a5576a366324a605e60357.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9L4qSXqD8hMUcRqb"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@syedabsarahmad?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Syed Ahmad</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="91be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">React Native是基于React的移动开发，我们可以用它来进行移动开发。</p><p id="67a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何使用它来创建一个带有React Native的应用程序。</p><h1 id="dc94" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">警报</h1><p id="c968" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">Alert.alert</code>方法添加警告。</p><p id="5fb7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="faa4" class="mq lc iq mh b gy mr ms l mt mu">import React from 'react';<br/>import { View, StyleSheet, Button, Alert } from "react-native";</span><span id="73d0" class="mq lc iq mh b gy mv ms l mt mu">const createTwoButtonAlert = () =&gt;<br/>  Alert.alert(<br/>    "Alert Title",<br/>    "My Alert Msg",<br/>    [<br/>      {<br/>        text: "Cancel",<br/>        onPress: () =&gt; console.log("Cancel Pressed"),<br/>        style: "cancel"<br/>      },<br/>      { text: "OK", onPress: () =&gt; console.log("OK Pressed") }<br/>    ],<br/>    { cancelable: false }<br/>  );</span><span id="f943" class="mq lc iq mh b gy mv ms l mt mu">const createThreeButtonAlert = () =&gt;<br/>  Alert.alert(<br/>    "Alert Title",<br/>    "My Alert Msg",<br/>    [<br/>      {<br/>        text: "Ask me later",<br/>        onPress: () =&gt; console.log("Ask me later pressed")<br/>      },<br/>      {<br/>        text: "Cancel",<br/>        onPress: () =&gt; console.log("Cancel Pressed"),<br/>        style: "cancel"<br/>      },<br/>      { text: "OK", onPress: () =&gt; console.log("OK Pressed") }<br/>    ],<br/>    { cancelable: false }<br/>  );</span><span id="2005" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;View style={styles.container}&gt;<br/>      &lt;Button title="2-Button Alert" onPress={createTwoButtonAlert} /&gt;<br/>      &lt;Button title="3-Button Alert" onPress={createThreeButtonAlert} /&gt;<br/>    &lt;/View&gt;<br/>  );<br/>}</span><span id="a8c7" class="mq lc iq mh b gy mv ms l mt mu">const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1,<br/>    justifyContent: "center"<br/>  },<br/>});</span></pre><p id="c19f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用警报标题、警报消息和一组对象调用<code class="fe me mf mg mh b">Alert.alert</code>方法来呈现按钮。</p><p id="d2a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">text</code>属性有按钮文本。</p><p id="1a63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">onPress</code>是我们按下按钮时运行的功能。</p><p id="5ee0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">style</code>有按钮的样式名。</p><p id="2767" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">cancelable</code>设置是否可以取消按钮按下。</p><h1 id="3089" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">愉快的</h1><p id="5e49" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">Animated</code>库让我们可以流畅、轻松地构建动画。</p><p id="bdf9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="369f" class="mq lc iq mh b gy mr ms l mt mu">import React, { useRef } from 'react';<br/>import { Animated, Text, View, StyleSheet, Button } from "react-native";</span><span id="c9ba" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const fadeAnim = useRef(new Animated.Value(0)).current;<br/>  const fadeIn = () =&gt; {<br/>    Animated.timing(fadeAnim, {<br/>      toValue: 1,<br/>      duration: 5000<br/>    }).start();<br/>  };</span><span id="f6e7" class="mq lc iq mh b gy mv ms l mt mu">  const fadeOut = () =&gt; {<br/>    Animated.timing(fadeAnim, {<br/>      toValue: 0,<br/>      duration: 5000<br/>    }).start();<br/>  };</span><span id="95c6" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;View style={styles.container}&gt;<br/>      &lt;Animated.View<br/>        style={[<br/>          styles.fadingContainer,<br/>          {<br/>            opacity: fadeAnim<br/>          }<br/>        ]}<br/>      &gt;<br/>        &lt;Text style={styles.fadingText}&gt;Fading View!&lt;/Text&gt;<br/>      &lt;/Animated.View&gt;<br/>      &lt;View style={styles.buttonRow}&gt;<br/>        &lt;Button title="Fade In" onPress={fadeIn} /&gt;<br/>        &lt;Button title="Fade Out" onPress={fadeOut} /&gt;<br/>      &lt;/View&gt;<br/>    &lt;/View&gt;<br/>  );<br/>}</span><span id="26e1" class="mq lc iq mh b gy mv ms l mt mu">const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1,<br/>    alignItems: "center",<br/>    justifyContent: "center"<br/>  },<br/>  fadingContainer: {<br/>    paddingVertical: 8,<br/>    paddingHorizontal: 16,<br/>    backgroundColor: "lightblue"<br/>  },<br/>  fadingText: {<br/>    fontSize: 28,<br/>    textAlign: "center",<br/>    margin: 10<br/>  },<br/>  buttonRow: {<br/>    flexDirection: "row",<br/>    marginVertical: 16<br/>  }<br/>});</span></pre><p id="58af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe me mf mg mh b">Animate.timing</code>方法来显示我们的动画。</p><p id="9b31" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个参数是我们想要显示的动画的ref。</p><p id="a0f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们使用<code class="fe me mf mg mh b">fadeAnim</code>对象作为<code class="fe me mf mg mh b">Animated.View</code>组件中<code class="fe me mf mg mh b">opacity</code>属性的值。</p><p id="61c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">无论<code class="fe me mf mg mh b">Animated.View</code>里面是什么都是动画。</p><p id="cb46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其他显示动画的方法包括<code class="fe me mf mg mh b">Animated.decay</code>创建一个以初始速度开始并逐渐减速至停止的动画。</p><p id="859a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Animated.spring</code>为我们提供了spring物理模型动画。</p><p id="f724" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们采用与<code class="fe me mf mg mh b">Animation.timing</code>相同的论点。</p><p id="0758" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以创作动画。</p><p id="cbd3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Animated.delay</code>延迟播放动画。</p><p id="fd95" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Animated.parallel</code>同时启动多个动画。</p><p id="e666" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Animated.sequence</code>按顺序启动动画。</p><p id="584c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Animated.stagger</code>按顺序启动动画，并与连续延迟并行。</p><h1 id="fa7b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">组合动画值</h1><p id="6d42" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用以下方法组合两个动画值:</p><ul class=""><li id="b0d6" class="mw mx iq kf b kg kh kk kl ko my ks mz kw na la nb nc nd ne bi translated"><code class="fe me mf mg mh b">Animated.add()</code></li><li id="883f" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nb nc nd ne bi translated"><code class="fe me mf mg mh b">Animated.subtract()</code></li><li id="f0c9" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nb nc nd ne bi translated"><code class="fe me mf mg mh b">Animated.divide()</code></li><li id="0b32" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nb nc nd ne bi translated"><code class="fe me mf mg mh b">Animated.modulo()</code></li><li id="f0f2" class="mw mx iq kf b kg nf kk ng ko nh ks ni kw nj la nb nc nd ne bi translated"><code class="fe me mf mg mh b">Animated.multiply()</code></li></ul><p id="b126" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过编写以下内容来创作动画:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4c5b" class="mq lc iq mh b gy mr ms l mt mu">import React, { useRef } from 'react';<br/>import { Animated, Text, View, StyleSheet, Button } from "react-native";</span><span id="82ef" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const fadeAnim = useRef(new Animated.Value(0)).current;<br/>  const fadeIn = () =&gt; {<br/>    Animated.sequence([<br/>      Animated.delay(3000),<br/>      Animated.timing(fadeAnim, {<br/>        toValue: 1,<br/>        duration: 5000,<br/>        useNativeDriver: true<br/>      })<br/>    ]).start()<br/>  };</span><span id="6b16" class="mq lc iq mh b gy mv ms l mt mu">  const fadeOut = () =&gt; {<br/>    Animated.timing(fadeAnim, {<br/>      toValue: 0,<br/>      duration: 5000,<br/>      useNativeDriver: true<br/>    }).start();<br/>  };</span><span id="dd02" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;View style={styles.container}&gt;<br/>      &lt;Animated.View<br/>        style={[<br/>          styles.fadingContainer,<br/>          {<br/>            opacity: fadeAnim<br/>          }<br/>        ]}<br/>      &gt;<br/>        &lt;Text style={styles.fadingText}&gt;Fading View!&lt;/Text&gt;<br/>      &lt;/Animated.View&gt;<br/>      &lt;View style={styles.buttonRow}&gt;<br/>        &lt;Button title="Fade In" onPress={fadeIn} /&gt;<br/>        &lt;Button title="Fade Out" onPress={fadeOut} /&gt;<br/>      &lt;/View&gt;<br/>    &lt;/View&gt;<br/>  );<br/>}</span><span id="99ef" class="mq lc iq mh b gy mv ms l mt mu">const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1,<br/>    alignItems: "center",<br/>    justifyContent: "center"<br/>  },<br/>  fadingContainer: {<br/>    paddingVertical: 8,<br/>    paddingHorizontal: 16,<br/>    backgroundColor: "lightblue"<br/>  },<br/>  fadingText: {<br/>    fontSize: 28,<br/>    textAlign: "center",<br/>    margin: 10<br/>  },<br/>  buttonRow: {<br/>    flexDirection: "row",<br/>    marginVertical: 16<br/>  }<br/>});</span></pre><p id="3d98" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe me mf mg mh b">fadeIn</code>函数中，我们用3000毫秒调用了<code class="fe me mf mg mh b">Animated.sequence</code>方法。</p><p id="5068" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe me mf mg mh b">Animated.timing</code>来运行我们的淡入动画。</p><h1 id="a720" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="0741" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用React Native显示警报和动画。</p><p id="97ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>