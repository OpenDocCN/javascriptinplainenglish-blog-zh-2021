<html>
<head>
<title>How to Get the Start and the End of a Day in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中获取一天的开始和结束</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-the-start-and-the-end-of-a-day-in-javascript-b066c91ac488?source=collection_archive---------6-----------------------#2021-07-17">https://javascript.plainenglish.io/how-to-get-the-start-and-the-end-of-a-day-in-javascript-b066c91ac488?source=collection_archive---------6-----------------------#2021-07-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e09a4c8aa95230dbc5242931e0d5698a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Lp-TUjzavMy-wXZq"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@yamaicle?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mike Yukhtenko</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="91be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时候，我们可能想用JavaScript来获取一天的开始和结束。</p><p id="6313" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究用JavaScript获取一天的开始和结束的方法。</p><h1 id="c64f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用本地日期方法</h1><p id="2112" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">用JavaScript获取一天的开始和结束的一种方法是使用本地日期方法。</p><p id="a396" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">setHours</code>方法将一天的时间设置为一天的开始或结束。</p><p id="6909" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="2ca0" class="mq lc iq mh b gy mr ms l mt mu">const start = new Date(2020, 1, 1, 1, 1);<br/>start.setHours(0, 0, 0, 0);<br/>console.log(start)</span></pre><p id="5d78" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">Date</code>构造函数创建<code class="fe me mf mg mh b">start</code>日期。</p><p id="0faa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用全零的<code class="fe me mf mg mh b">setHours</code>将日期时间设置为午夜。</p><p id="1c18" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以<code class="fe me mf mg mh b">start</code>是:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="bcf3" class="mq lc iq mh b gy mr ms l mt mu">Sat Feb 01 2020 00:00:00 GMT-0800 (Pacific Standard Time)</span></pre><p id="4748" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们在太平洋时间。</p><p id="5138" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以使用<code class="fe me mf mg mh b">setHours</code>来设置日期结束时的小时、分钟、秒和毫秒。</p><p id="4a59" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="343d" class="mq lc iq mh b gy mr ms l mt mu">const end = new Date(2020, 1, 1, 1, 1);<br/>end.setHours(23, 59, 59, 999);<br/>console.log(end)</span></pre><p id="d2fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建一个日期，并通过传入几个参数将其设置为日期的结尾。</p><p id="3018" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">23小时。</p><p id="7abc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">前59个是分钟。</p><p id="1dce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个59是秒。</p><p id="aee3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">999是毫秒。</p><p id="317b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe me mf mg mh b">end</code>就是:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="61ef" class="mq lc iq mh b gy mr ms l mt mu">Sat Feb 01 2020 23:59:59 GMT-0800 (Pacific Standard Time)</span></pre><p id="a7e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">调用<code class="fe me mf mg mh b">setHours</code>后。</p><h1 id="124c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用Moment.js</h1><p id="73d9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">或者，我们可以使用moment.js库来返回日期的开始和结束。</p><p id="aef6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e1b3" class="mq lc iq mh b gy mr ms l mt mu">const start = moment(new Date(2020, 1, 1, 1, 1)).startOf('day');<br/>console.log(start.toString())</span></pre><p id="257a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe me mf mg mh b">moment</code>函数创建一个moment对象，并将一个JavaScript本地日期对象作为其参数。</p><p id="f753" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe me mf mg mh b">'day'</code>调用<code class="fe me mf mg mh b">startOf</code>来返回一个时间设置为一天开始的moment对象。</p><p id="1586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们得到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0ff7" class="mq lc iq mh b gy mr ms l mt mu">Sat Feb 01 2020 00:00:00 GMT-0800</span></pre><p id="b39d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为<code class="fe me mf mg mh b">start.toString()</code>的值，如果我们在太平洋时区。</p><p id="1ba7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以使用<code class="fe me mf mg mh b">endOf</code>方法来获得日期的结束。</p><p id="ccdb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="bb41" class="mq lc iq mh b gy mr ms l mt mu">const end = moment(new Date(2020, 1, 1, 1, 1)).endOf('day');<br/>console.log(end.toString())</span></pre><p id="962d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们称之为<code class="fe me mf mg mh b">endOf</code>而不是<code class="fe me mf mg mh b">startOf</code>。</p><p id="6222" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们在太平洋时区，那么<code class="fe me mf mg mh b">end.toString()</code>返回<code class="fe me mf mg mh b">Sat Feb 01 2020 23:59:59 GMT-0800</code>。</p><p id="cbd3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以在使用<code class="fe me mf mg mh b">utc</code>方法调用<code class="fe me mf mg mh b">startOf</code>和<code class="fe me mf mg mh b">endOf</code>之前将时区转换为UTC。</p><p id="7316" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c41d" class="mq lc iq mh b gy mr ms l mt mu">const start = moment(new Date(2020, 1, 1, 1, 1)).utc().startOf('day');<br/>console.log(start.toString())</span><span id="4a1c" class="mq lc iq mh b gy mv ms l mt mu">const end = moment(new Date(2020, 1, 1, 1, 1)).utc().endOf('day');<br/>console.log(end.toString())</span></pre><p id="cd9d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">进行转换。</p><p id="fcf1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后<code class="fe me mf mg mh b">start.toString()</code>返回:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1d24" class="mq lc iq mh b gy mr ms l mt mu">Sat Feb 01 2020 00:00:00 GMT+0000</span></pre><p id="2b2d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe me mf mg mh b">end.toString()</code>回报:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f81f" class="mq lc iq mh b gy mr ms l mt mu">Sat Feb 01 2020 23:59:59 GMT+0000</span></pre><h1 id="197e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="209c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用JavaScript的原生日期方法或moment.js来获取日期的开始和结束。</p><p id="7633" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>