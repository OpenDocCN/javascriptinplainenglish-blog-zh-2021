<html>
<head>
<title>TypeScript: Conditional Subtypes Using â€˜as clauseâ€™</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript:ä½¿ç”¨â€œaså­å¥â€çš„æ¡ä»¶å­ç±»å‹</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/typescript-conditional-subtypes-using-as-clause-2dd9896d67dc?source=collection_archive---------11-----------------------#2021-06-19">https://javascript.plainenglish.io/typescript-conditional-subtypes-using-as-clause-2dd9896d67dc?source=collection_archive---------11-----------------------#2021-06-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="9f13" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä½¿ç”¨Typescriptçš„æ˜ å°„ç±»å‹å’Œ"<em class="ki"> aså­å¥"</em>,æœ‰æ¡ä»¶åœ°åˆ›å»ºå­ç±»å‹ã€‚</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/7ea2e56fa1e62720863374ef4af74f31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UROfn26fkxqT6Bk_jGOw1w.jpeg"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Photo by <a class="ae kz" href="https://www.pexels.com/@cottonbro?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">cottonbro</a> from <a class="ae kz" href="https://www.pexels.com/photo/boy-in-white-t-shirt-sitting-on-chair-in-front-of-computer-4709285/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><h1 id="f142" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">é—®é¢˜é™ˆè¿°</h1><p id="b1f8" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªç”¨ä¾‹ï¼Œæˆ‘éœ€è¦ä»ä¸€ä¸ªçˆ¶ç±»å‹ä¸­æ´¾ç”Ÿå‡ºä¸€ä¸ªå­ç±»å‹ï¼ŒåªåŒ…å«é¢„å®šä¹‰ç±»å‹çš„é”®ã€‚</p><p id="615b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘æœ‰ä¸€ä¸ªåä¸º<strong class="jm io"> Addressçš„ç±»å‹ã€‚</strong></p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="2480" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">Address</strong> = {<br/>id: string,<br/>name: string,<br/>surname: string,<br/>country: string,<br/>state: string,<br/>landmark: string,<br/>pincode: number,<br/>isHomeAddress: boolean,<br/>isRentedAddress: boolean<br/>}</span></pre><p id="41ff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ‰€ä»¥ï¼Œç°åœ¨æˆ‘æƒ³ä»ä¸Šé¢çš„åœ°å€ç±»å‹ä¸­åˆ›å»ºä¸€ä¸ªå­ç±»å‹ï¼Œå®ƒåº”è¯¥åªåŒ…å«booleanç±»å‹çš„é”®ã€‚</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="9d9c" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">AddressBoolean</strong> ={<br/>isHomeAddress: boolean,<br/>isRentedAddress: boolean<br/>}</span></pre><h1 id="e367" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated"><strong class="ak">è§£å†³æ–¹æ¡ˆ</strong></h1><p id="2cb0" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">TypeScript <em class="ki">æ˜ å°„çš„ç±»å‹</em>åœ¨è§£å†³è¿™ç±»é—®é¢˜æ—¶å¾ˆæ–¹ä¾¿ï¼Œæ‚¨å¯ä»¥é€šè¿‡è½¬æ¢ç»™å®šçš„ç±»å‹æ¥åˆ›å»ºæ–°çš„ç±»å‹ã€‚</p><p id="ef48" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨å›åˆ°è§£å†³æˆ‘ä»¬çš„é—®é¢˜ã€‚</p><p id="9ab0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å› æ­¤ï¼Œæˆ‘ä»¬çš„çˆ¶ç±»å‹ä¸º:</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="1ae6" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">Address</strong> = {<br/>id: string,<br/>name: string,<br/>surname: string,<br/>country: string,<br/>state: string,<br/>landmark: string,<br/>pincode: number,<br/>isHomeAddress: boolean,<br/>isRentedAddress: boolean,<br/>}</span></pre><p id="477a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬çš„é¢„æœŸç»“æœåº”è¯¥æ˜¯</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="e154" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">AddressBoolean</strong> = {<br/>isHomeAddress: boolean,<br/>isRentedAddress: boolean,<br/>}</span></pre><p id="2cb6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><h2 id="d3e3" class="mi lb in bd lc mn mo dn lg mp mq dp lk jv mr ms lo jz mt mu ls kd mv mw lw mx bi translated"><strong class="ak"> 1)ç§»é™¤ä¸éœ€è¦çš„ç±»å‹</strong></h2><p id="5a48" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬ä¼šå°†åœ°å€ä¸­ä¸éœ€è¦çš„ç±»å‹æ ‡è®°ä¸º<em class="ki"> never </em> typeã€‚</p><p id="0f8d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬å¯¹å®ƒä½¿ç”¨æ¡ä»¶ç±»å‹ã€‚</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="85bd" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">RequiredTypes&lt;T, C&gt;</strong> = {<br/>[Key in keyof T]: T[Key] extends C ? T[Key] : never<br/>}</span></pre><p id="2804" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä¸Šé¢çš„ä»£ç å°†æ£€æŸ¥åœ°å€ç±»å‹ä¸­çš„å“ªç§ç±»å‹æ‰©å±•äº†æ¡ä»¶(C)ã€‚å®ƒä¼šå°†<em class="ki"> never </em>ç±»å‹åˆ†é…ç»™æ‰€æœ‰å…¶ä»–ä¸ç¬¦åˆæˆ‘ä»¬æ¡ä»¶çš„é”®ã€‚</p><blockquote class="my mz na"><p id="1700" class="jk jl ki jm b jn jo jp jq jr js jt ju nb jw jx jy nc ka kb kc nd ke kf kg kh ig bi translated">æ°¸ä¸<em class="in">ç±»å‹æ˜¯æ°¸ä¸ä¸èƒ½æœ‰ä»»ä½•å€¼çš„ç±»å‹ã€‚ä¸typescriptçš„ä»»ä½•ç±»å‹<em class="in">ç›¸åï¼Œè¿™æ„å‘³ç€ä¸èƒ½ç»™å®ƒèµ‹å€¼ã€‚</em></em></p></blockquote><p id="63a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">ç”¨æ³•</strong></p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="f04a" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">MarkAsNever</strong> = RequiredTypes&lt;Address, boolean&gt;</span></pre><p id="1801" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ne nf ng me b">MarkAsNever</code>ç±»å‹çœ‹èµ·æ¥åƒè¿™æ ·</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="d0dc" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">MarkAsNever</strong> = {<br/>Id: never,     <br/>name: never,     <br/>surname: never,     <br/>country: never,     <br/>state: never,     <br/>landmark: never,     <br/>pincode: never,     <br/>isHomeAddress: boolean,     <br/>isRentedAddress: boolean, <br/>}</span></pre><p id="610b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¦‚æ‚¨æ‰€è§ï¼Œé™¤äº†<code class="fe ne nf ng me b">isHomeAddress</code>å’Œ<code class="fe ne nf ng me b">isRentedAddress</code>ä¹‹å¤–ï¼ŒRequiredTypesç±»å‹å·²ç»å°†â€œä»ä¸â€åˆ†é…ç»™äº†åœ°å€çš„æ‰€æœ‰å…¶ä»–é”®ã€‚</p><h2 id="4c19" class="mi lb in bd lc mn mo dn lg mp mq dp lk jv mr ms lo jz mt mu ls kd mv mw lw mx bi translated">2)åˆ é™¤neverç±»å‹çš„é”®</h2><p id="474f" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi translated">ç°åœ¨æˆ‘ä»¬åˆ°äº†æœ€åä¸€æ­¥ï¼Œé‚£å°±æ˜¯ç§»é™¤æ²¡æœ‰<em class="ki">çš„ç±»å‹ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<em class="ki">ä½œä¸ºtypescript 4.1ä¸­å¼•å…¥çš„å­å¥</em>ã€‚</em></p><p id="1122" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç”±äºå­å¥æœ‰ä¸€ä¸ªå¾ˆå¥½çš„ç‰¹æ€§ï¼Œä½ å¯ä»¥é€šè¿‡æ¡ä»¶å±æ€§äº§ç”Ÿneveræ¥è¿‡æ»¤æ‰å¯†é’¥ã€‚</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="ffeb" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">RemoveNeverField&lt;T&gt;</strong> = { <br/>  [P in keyof T as T[P] extends never ? never : P]: T[P] <br/>};</span></pre><p id="d9ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¾ªç¯éå†Tçš„æ‰€æœ‰é”®ï¼Œå¦‚æœé”®çš„ç±»å‹æ˜¯<em class="ki"> never </em>ï¼Œæˆ‘ä»¬çš„æ¡ä»¶å°†è¿”å›neverï¼Œè¿™å°†è¢«<em class="ki"> aså­å¥è‡ªåŠ¨å¿½ç•¥ã€‚</em>æ‰€ä»¥ï¼Œåˆ°æœ€åï¼Œæˆ‘ä»¬åªä¼šæ‹¥æœ‰éneveré”®ã€‚</p><p id="f307" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">ç”¨æ³•</strong></p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="9a4c" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">OnlyBoolean</strong> = RemoveNeverField&lt;onlyBoolean&gt;</span></pre><p id="11e9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ç°åœ¨<code class="fe ne nf ng me b">OnlyBoolean</code>å‹ä¼šæ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ã€‚å°±åƒæˆ‘ä»¬æƒ³è¦çš„é‚£æ ·ã€‚ğŸ‘Œ</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="835c" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">OnlyBoolean</strong> = {     <br/>  isHomeAddress: boolean,     <br/>  isRentedAddress: boolean, <br/>}</span></pre><h2 id="c786" class="mi lb in bd lc mn mo dn lg mp mq dp lk jv mr ms lo jz mt mu ls kd mv mw lw mx bi translated">è®©æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹æ‰€æœ‰éœ€è¦çš„æ­¥éª¤</h2><p id="8d91" class="pw-post-body-paragraph jk jl in jm b jn ly jp jq jr lz jt ju jv ma jx jy jz mb kb kc kd mc kf kg kh ig bi">1</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="bd24" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">RequiredTypes&lt;T, C&gt;</strong> = {   <br/>   [Key in keyof T]: T[Key] extends C ? T[Key] : never <br/>}</span></pre><p id="cbf4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi">2</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="ed9d" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">RemoveNeverField&lt;T&gt;</strong> = { <br/>  [P in keyof T as T[P] extends never ? never : P]: T[P] <br/>};</span></pre><p id="9c5b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ‚¨å¯ä»¥è¿›ä¸€æ­¥ç¼©çŸ­è¯­æ³•ã€‚é€šè¿‡ç›´æ¥ä½¿ç”¨<code class="fe ne nf ng me b">RemoveNeverField</code>ä¸­çš„<code class="fe ne nf ng me b">RequiredTypes</code>ä»£ç ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œæ¯”å¦‚è¯´<code class="fe ne nf ng me b">PickByType</code>ã€‚</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="83c3" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">PickByType&lt;T, C&gt;</strong> = RemoveNeverField&lt;{ <br/>    [Key in keyof T]: T[Key] extends C ? T[Key] : never <br/>}&gt;</span></pre><p id="fed3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">ç”¨æ³•</strong></p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="6692" class="mi lb in me b gy mj mk l ml mm">PickByType&lt;Address, boolean&gt;</span></pre><p id="c066" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ­¤å¤–ï¼Œæ‚¨å¯ä»¥åˆ©ç”¨è”åˆ(|)ç±»å‹å¹¶å¿½ç•¥çˆ¶ç±»å‹åœ°å€ä¸­çš„å¤šä¸ªç±»å‹ã€‚</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="c939" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">PickTwo</strong> = PickByType&lt;Address, boolean | number&gt;</span></pre><p id="76ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å‡ºå°†æ˜¯</p><pre class="kk kl km kn gt md me mf mg aw mh bi"><span id="98a3" class="mi lb in me b gy mj mk l ml mm">type <strong class="me io">PickTwo</strong> = {<br/>    pincode: number;<br/>    isHomeAddress: boolean;<br/>    isRentedAddress: boolean;<br/>}</span></pre></div><div class="ab cl nh ni hr nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ig ih ii ij ik"><p id="5e96" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æ­å–œğŸ‰æˆ‘ä»¬å·²ç»åˆ›å»ºäº†æˆ‘ä»¬çš„ç±»å‹ï¼Œå®ƒå¯ä»¥åŸºäºä½œä¸ºæ¡ä»¶æä¾›çš„ç±»å‹ç”Ÿæˆä¸€ä¸ªå­ç±»å‹ã€‚</p><p id="1f7f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘å¸Œæœ›ä½ ä»Šå¤©å­¦åˆ°äº†ä¸€äº›æ–°ä¸œè¥¿ã€‚</p><p id="44eb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">æœ€åˆå‘è¡¨äº</em><a class="ae kz" href="https://asyncawait.co/typescript-conditional-subtypes-using-as-clause" rel="noopener ugc nofollow" target="_blank">https://async await . co/typescript-conditional-subtype-using-as-clause</a></p><p id="2bb6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">æ›´å¤šå†…å®¹å°½åœ¨</em><a class="ae kz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="ki">plain English . io</em></strong></a></p></div></div>    
</body>
</html>