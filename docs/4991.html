<html>
<head>
<title>Type Conversions in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的类型转换</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/type-conversions-in-javascript-6c709c782f5f?source=collection_archive---------16-----------------------#2021-10-08">https://javascript.plainenglish.io/type-conversions-in-javascript-6c709c782f5f?source=collection_archive---------16-----------------------#2021-10-08</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="f34d" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">JavaScript对于它需要的值类型非常灵活。</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/425f6f8b98dacb22e875a23ada0c0370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9PnatzwosDzdwXwc"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Photo by <a class="ae kw" href="https://unsplash.com/@lordmaui?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Chris Benson</a> on <a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3563" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">JavaScript对于它需要工作的值的类型是灵活的。在boolean中，当JavaScript期望true并且您给了一个true值时，JavaScript会自动将true值转换为true。</p><p id="c95e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在其他情况下，当JavaScript期望false并且您给了falsy值时，它会自动将其设为false。</p><p id="f71c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">JavaScript中的任何值都可以转换为布尔值。以下值在JavaScript中被视为falsy值，这意味着它们可以转换为false。所以这些值是假的。</p><pre class="kh ki kj kk gu lt lu lv lw aw lx bi"><span id="9578" class="ly lz ir lu b gz ma mb l mc md">null<br/>defined<br/>0<br/>-0<br/>NaN<br/>""  //It represents empty string</span></pre><p id="00b4" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">包括数组和对象的所有其他值都可以转换为true，并且也可以用作true。</p><p id="7aaa" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">其他类型也是如此:如果JavaScript需要字符串才能工作，它会自动将数字转换为字符串。此外，如果JavaScript需要数字才能工作，它会自动将字符串转换为数字。</p><pre class="kh ki kj kk gu lt lu lv lw aw lx bi"><span id="78d4" class="ly lz ir lu b gz ma mb l mc md">17 + " Cats"  //-&gt; "17 Cats : Number 17 is converted to string</span><span id="7b8c" class="ly lz ir lu b gz me mb l mc md">"8" * "5"     //-&gt; 40 : Both the strings are converted to number</span><span id="10d8" class="ly lz ir lu b gz me mb l mc md">let a = 5 - "y" //-&gt; a == NaN: "y" can't be converted to number</span></pre><p id="2833" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">下面的表格会告诉你JavaScript中的值是如何从一种类型转换成另一种类型的。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj mf"><img src="../Images/65817c399366958fc80d8e1485aa22c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*siATDMIz_-D-XPhbhnKyzg.png"/></div></div></figure><p id="1e45" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">从一个原语转换到另一个原语非常简单。所有原始值到字符串的转换都有明确的定义。可以被解析为特定数字的字符串被转换为这些数字。</p><p id="1a50" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">完全允许使用前导空格和尾随空格。然而，如果您尝试使用除空格之外的任何前导和尾随字符，而空格不是数字文字的一部分，则会使字符串到数字的转换给出NaN(而不是数字)。</p><p id="ed13" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">所有其他转换，如true到1和false以及空字符串，结果为0。</p><pre class="kh ki kj kk gu lt lu lv lw aw lx bi"><span id="487d" class="ly lz ir lu b gz ma mb l mc md">17 + "cats" //-&gt; "17cats" : 17 gets converted to a string.</span><span id="4d76" class="ly lz ir lu b gz me mb l mc md">undefined + "cats" //-&gt; "undefinedcats" : undefined get converted to a string</span><span id="4746" class="ly lz ir lu b gz me mb l mc md">null + 7  //-&gt; 7 : null becomes number 0</span><span id="2010" class="ly lz ir lu b gz me mb l mc md">true + 1  //-&gt; 2 : true is converted to number 1</span><span id="d0ed" class="ly lz ir lu b gz me mb l mc md">Infinity + 1 //-&gt;Infinity : infinity added to anything will be infinity</span></pre><h2 id="80a4" class="ly lz ir bd mg mh mi dn mj mk ml dp mm lg mn mo mp lk mq mr ms lo mt mu mv mw bi translated">转换和平等</h2><p id="bc1c" class="pw-post-body-paragraph kx ky ir kz b la mx js lc ld my jv lf lg mz li lj lk na lm ln lo nb lq lr ls ik bi translated">JavaScript有两个操作符来测试两个值是否相等。其中一种称为“严格相等运算符”，===，另一种称为“宽松相等运算符”，==。</p><p id="4405" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在严格相等运算符的情况下，必须有相同类型的操作数。在松散相等操作数的情况下，即使操作数没有任何相似的类型，仍然可以检查相等性。</p><pre class="kh ki kj kk gu lt lu lv lw aw lx bi"><span id="f9c4" class="ly lz ir lu b gz ma mb l mc md">null == undefined //-&gt;true.  These values are treated as equal.</span><span id="b11e" class="ly lz ir lu b gz me mb l mc md">"cats" == "dogs"  //-&gt;false. As the strings are not the same.</span><span id="0b13" class="ly lz ir lu b gz me mb l mc md">"5" == 5   //-&gt;false. String is converted to a number before comparing.</span><span id="0957" class="ly lz ir lu b gz me mb l mc md">false == 0 //-&gt;true. false converts to 0 before comparing</span><span id="95b2" class="ly lz ir lu b gz me mb l mc md">1 == true  //-&gt;true. true convert to 1 before comparing.</span></pre><p id="1fb4" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">请记住，如果两个值可以相互转换，并不意味着两个值相等。这意味着，如果在需要布尔值的地方使用了undefined，并且JavaScript自动将其转换为false，则不应该假设undefined和false相等。</p><h2 id="6ecc" class="ly lz ir bd mg mh mi dn mj mk ml dp mm lg mn mo mp lk mq mr ms lo mt mu mv mw bi translated">显式转换</h2><p id="146e" class="pw-post-body-paragraph kx ky ir kz b la mx js lc ld my jv lf lg mz li lj lk na lm ln lo nb lq lr ls ik bi translated">JavaScript会在必要时执行自动转换。但有时作为开发人员，我们需要手动进行显式转换。</p><p id="911b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">JavaScript为从一种类型到另一种类型的显式转换提供了三个函数。这三个函数包括Number()、Boolean()和String()。</p><pre class="kh ki kj kk gu lt lu lv lw aw lx bi"><span id="d8cf" class="ly lz ir lu b gz ma mb l mc md">Number("7") //-&gt; 7</span><span id="1b23" class="ly lz ir lu b gz me mb l mc md">String(true) //-&gt;"true"</span><span id="30a6" class="ly lz ir lu b gz me mb l mc md">Boolean([]) //-&gt; true</span></pre><p id="9df5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">隐式和显式类型转换中都涉及到某些JavaScript运算符。当+运算符可用并且其中一个操作数是字符串时，它会自动将另一个操作数转换为字符串。</p><p id="1466" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">一元运算符+会将操作数转换为数字。如果一元的话！运算符与操作数一起出现，它会将操作数转换为布尔值，并对其求反。</p><pre class="kh ki kj kk gu lt lu lv lw aw lx bi"><span id="0f86" class="ly lz ir lu b gz ma mb l mc md">y + ""  //-&gt; string(y)</span><span id="02c7" class="ly lz ir lu b gz me mb l mc md">+y      //-&gt; Number(y)</span><span id="b503" class="ly lz ir lu b gz me mb l mc md">y-0     //-&gt; Number(y)</span><span id="d44f" class="ly lz ir lu b gz me mb l mc md">!y     //-&gt; Boolean(y)</span><span id="20ed" class="ly lz ir lu b gz me mb l mc md">!!z    //-&gt; Boolean(z) : It's double !</span></pre><h2 id="ec4a" class="ly lz ir bd mg mh mi dn mj mk ml dp mm lg mn mo mp lk mq mr ms lo mt mu mv mw bi translated">使用科学数据</h2><p id="f47c" class="pw-post-body-paragraph kx ky ir kz b la mx js lc ld my jv lf lg mz li lj lk na lm ln lo nb lq lr ls ik bi translated">当开发人员处理科学和金融数据时，他们可能希望以某种方式将数字转换为字符串，以便能够控制数据。</p><p id="d94c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">他们可能想要控制字符串中有多少个小数点。此外，他们可能希望控制转换后的字符串中有效数字的数量。</p><p id="72f7" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">他们可能不想在转换后的字符串中使用指数符号。所有这些都是使用Number类提供的三种方法来完成的。</p><p id="0bdc" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这些函数包括toFixed()、toExponential()、toPrecision()。</p><ul class=""><li id="676e" class="nc nd ir kz b la lb ld le lg ne lk nf lo ng ls nh ni nj nk bi translated">toFixed():如果使用这个函数，可以将一个数字转换成小数点后有特定位数的字符串。</li><li id="3e39" class="nc nd ir kz b la nl ld nm lg nn lk no lo np ls nh ni nj nk bi translated">toExponential():如果使用这个函数，可以使用指数表示法将数字转换为字符串。使用此函数时，小数点前的一位数和小数点后的特定位数都可以使用指数表示法。</li><li id="d40b" class="nc nd ir kz b la nl ld nm lg nn lk no lo np ls nh ni nj nk bi translated">top precision()—使用此函数将帮助您将一个数字转换为具有指定有效位数的字符串。</li></ul><pre class="kh ki kj kk gu lt lu lv lw aw lx bi"><span id="4f69" class="ly lz ir lu b gz ma mb l mc md">let n = 987654.321</span><span id="ddba" class="ly lz ir lu b gz me mb l mc md">console.log(n.toFixed(0)); //-&gt;987654</span><span id="957a" class="ly lz ir lu b gz me mb l mc md">console.log(n.toFixed(1)); //-&gt;987654.3</span><span id="2e12" class="ly lz ir lu b gz me mb l mc md">console.log(n.toFixed(2)); //-&gt;987654.32</span><span id="5b0b" class="ly lz ir lu b gz me mb l mc md">console.log(n.toExponential(1)); //-&gt;9.9e+5</span><span id="226f" class="ly lz ir lu b gz me mb l mc md">console.log(n.toPrecision(4)); //-&gt;9.877e+5</span></pre><p id="9261" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">您可以将字符串分配给Number()转换函数。当您给定任何Number()函数时，它会尝试将该字符串解析为整数或浮点文字。</p><p id="3855" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">有两个函数可用，包括parseInt()和parseFloat()函数。记住这两个函数不是任何类的方法，因此它们更灵活。</p><p id="800e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">使用parseInt()只能解析整数。使用parseFloat()，整数和浮点数都被解析。这两个函数都忽略任何类型的前导空格。您可以解析任意数量的数字字符。</p><p id="5398" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果第一个非空格字母不是有效的数字文字，两个函数都将返回NaN。</p><pre class="kh ki kj kk gu lt lu lv lw aw lx bi"><span id="d93c" class="ly lz ir lu b gz ma mb l mc md">parseInt(" 4 car stolen") //-&gt; 4</span><span id="d557" class="ly lz ir lu b gz me mb l mc md">parseInt(" -598.8") //-&gt; -598</span><span id="0179" class="ly lz ir lu b gz me mb l mc md">parseFloat(" 67.89 inch") //-&gt; 67.89</span><span id="b499" class="ly lz ir lu b gz me mb l mc md">parseFloat(".78") //-&gt; 0.78</span><span id="5c63" class="ly lz ir lu b gz me mb l mc md">parseInt(" .7") //-&gt; NaN: as integers can't start with "."</span><span id="419c" class="ly lz ir lu b gz me mb l mc md">parseFloat(" $89.89") //-&gt;NaN: as numbers can't start with "$".</span></pre></div><div class="ab cl nq nr hv ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ik il im in io"><h1 id="fc75" class="nx lz ir bd mg ny nz oa mj ob oc od mm jx oe jy mp ka of kb ms kd og ke mv oh bi translated">想联系作者？</h1><p id="b484" class="pw-post-body-paragraph kx ky ir kz b la mx js lc ld my jv lf lg mz li lj lk na lm ln lo nb lq lr ls ik bi translated">加入一个人人社区，欣赏与科技相关的文章。我们讨论最新的技术和独特的见解。</p><p id="84fb" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="oi">更多内容尽在</em><a class="ae kw" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="oi">plain English . io</em></strong></a></p></div></div>    
</body>
</html>