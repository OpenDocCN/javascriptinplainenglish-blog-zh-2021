<html>
<head>
<title>What’s the Difference Between Controlled and Uncontrolled Components in React?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React中受控组件和非受控组件有什么区别？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/controlled-vs-uncontrolled-components-in-react-whats-the-diff-61d7053adbb?source=collection_archive---------3-----------------------#2021-07-04">https://javascript.plainenglish.io/controlled-vs-uncontrolled-components-in-react-whats-the-diff-61d7053adbb?source=collection_archive---------3-----------------------#2021-07-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="b244" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated"><em class="kc">React受控/非受控组件的介绍性演练。</em></h2></div><p id="a5ac" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">让我们看一看React并讨论一下组件。如果您以前使用过React，您应该对组件很熟悉。React的一个主要特点就是组件，React支持两种:<strong class="kf io">受控</strong>和<strong class="kf io">非受控</strong>。让我们来揭示受控组件和非受控组件之间的主要区别。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi kz"><img src="../Images/dd70bd5d5a8f98bd3857957fe6f8b270.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0DAyoU6ISuT17qx9"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">Photo by <a class="ae lp" href="https://unsplash.com/@marvelous?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marvin Meyer</a> on <a class="ae lp" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="ad74" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated"><strong class="ak">受控组件</strong></h1><p id="6b81" class="pw-post-body-paragraph kd ke in kf b kg mi jo ki kj mj jr kl km mk ko kp kq ml ks kt ku mm kw kx ky ig bi translated">React文档建议使用受控组件而非非受控组件。<em class="mn">受控组件用于实现表单。</em> <strong class="kf io">在受控组件中，表单数据由React组件处理。</strong>该组件内的状态充当由该组件呈现的任何输入的“真实的单一来源”。</p><p id="1f3b" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">本质上，如果您在项目中需要一个表单，并且没有使用HTML  <code class="fe mo mp mq mr b"><em class="mn">&lt;form&gt;&lt;/form&gt;</em></code> <em class="mn">标签</em>，那么您知道您正在使用一个受控组件<em class="mn">。在一个受控组件中，你依赖于一个 <code class="fe mo mp mq mr b"><strong class="kf io">&lt;input /&gt;</strong></code> <strong class="kf io">标签中的一个<strong class="kf io">状态捕获，然后是一个</strong> <code class="fe mo mp mq mr b"><strong class="kf io">onChange()</strong></code> <strong class="kf io">事件处理程序</strong>。当对输入(保存状态值的地方)进行任何更改时，它将触发其<code class="fe mo mp mq mr b">onChange()</code>事件处理程序。</strong></em></p><p id="a194" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">受控组件中的数据流是单向的，组件的状态充当唯一的真实来源。</p><p id="519a" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">参见以下受控组件的示例:</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi ms"><img src="../Images/eaffc35c7696aa8302e70f550ce2fac2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MGPSQ_5kWQgVeMSprgIbUA.png"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">Controlled Component: note the input tag and onChange event and state being captured with the value set to the catName state.</figcaption></figure><p id="c70d" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">当您有大量输入时，受控组件可能会变得有点乏味。这是因为对于每个输入，您需要一个onChange事件来触发状态的改变，这可能会增加相当多的onChange事件，并且管理起来很麻烦。</p><h1 id="bcef" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">不受控制的组件</h1><p id="5c1b" class="pw-post-body-paragraph kd ke in kf b kg mi jo ki kj mj jr kl km mk ko kp kq ml ks kt ku mm kw kx ky ig bi translated">谈到不受控制的组件，你会发现它们的行为更像传统的HTML表单元素。<em class="mn">输入中捕获的所有数据都存储在DOM中。这意味着你不需要onChange，而是需要使用代码“ref”来从DOM中检索值。</em></p><ul class=""><li id="36e8" class="mt mu in kf b kg kh kj kk km mv kq mw ku mx ky my mz na nb bi translated">*注意，不能在函数组件中使用“ref”，必须使用类组件。这是因为在功能组件中没有已创建的实例。</li></ul><p id="075c" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">查看我们之前的受控组件调整为受控组件的变更示例:</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi nc"><img src="../Images/9518bf64f6e965c4885ef551d05d0923.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u-NJ-TTBLQENAMCTZvchgg.png"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">For the Uncontrolled Component, on line 4 a constructor(props) was added to capture the event handler and state change. On line 7 this.input = React.createRef() allows us to take the retrieved ref value(currently living in the DOM) and set it as our input value(now accessible across all of the component).</figcaption></figure><h1 id="2391" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">概观</h1><p id="7bd5" class="pw-post-body-paragraph kd ke in kf b kg mi jo ki kj mj jr kl km mk ko kp kq ml ks kt ku mm kw kx ky ig bi translated">总的来说，受控组件是指React组件处理所有表单数据的时候。</p><h2 id="1dbc" class="nd lr in bd ls ne nf dn lw ng nh dp ma km ni nj mc kq nk nl me ku nm nn mg no bi translated"><strong class="ak">为了有一个受控组件，它需要:</strong></h2><ul class=""><li id="8f59" class="mt mu in kf b kg mi kj mj km np kq nq ku nr ky my mz na nb bi translated">输入标签和值</li><li id="ceb5" class="mt mu in kf b kg ns kj nt km nu kq nv ku nw ky my mz na nb bi translated">处理触发/状态变化的事件处理程序</li></ul><p id="fee1" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">对于不受控制的组件，表单输入的值保存在DOM中，必须使用“ref”进行检索。</p><h2 id="1c58" class="nd lr in bd ls ne nf dn lw ng nh dp ma km ni nj mc kq nk nl me ku nm nn mg no bi translated"><strong class="ak">非受控部件需要:</strong></h2><ul class=""><li id="2d19" class="mt mu in kf b kg mi kj mj km np kq nq ku nr ky my mz na nb bi translated">类组件(不能在功能组件中使用<em class="mn">引用</em>，因为那里没有创建实例)</li><li id="2739" class="mt mu in kf b kg ns kj nt km nu kq nv ku nw ky my mz na nb bi translated">使用构造函数(props)来保存我们的事件处理程序，并捕获存放在DOM中的输入。</li></ul><h1 id="e7f5" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">结论</h1><p id="182b" class="pw-post-body-paragraph kd ke in kf b kg mi jo ki kj mj jr kl km mk ko kp kq ml ks kt ku mm kw kx ky ig bi translated">好的，正如React医生告诉我们的，要使用可控组件。注意到了！我希望这篇对受控和非受控组件的深入研究对您学习编码有所帮助，稍后我会与您联系。</p><p id="6b7a" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><em class="mn">更多内容尽在</em><a class="ae lp" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf io"><em class="mn">plain English . io</em></strong></a></p></div></div>    
</body>
</html>