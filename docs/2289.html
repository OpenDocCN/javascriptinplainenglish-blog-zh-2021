<html>
<head>
<title>8 Best Practices for REST API Design</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">REST API设计的8个最佳实践</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/8-best-practices-for-rest-api-design-3fd1b837b283?source=collection_archive---------1-----------------------#2021-05-13">https://javascript.plainenglish.io/8-best-practices-for-rest-api-design-3fd1b837b283?source=collection_archive---------1-----------------------#2021-05-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="fdfe" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">构建更好的REST APIs</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/064ff99df20b38ec40d05e730f1c9bf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z_ZpWzWYEEM58ng27w9PUA.png"/></div></div></figure><h2 id="2a38" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">1.自动缓存</h2><p id="cb48" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">重复的请求和对这些请求的响应会消耗资源，这成为有缺陷的设计的标志。为了解决这个问题，您必须将从<strong class="lp ir"> API </strong>获取的数据存储在服务器上，并在以后从那里提供服务。</p><p id="97c5" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated">然而，有时数据会过时，需要更新，在这种情况下，我们有一些行业缓存解决方案<strong class="lp ir"> (Redis </strong>和<strong class="lp ir">亚马逊ElasticCache) </strong>，它们甚至可以在做出更改后缓存数据。</p><h2 id="6223" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">2.API文档</h2><p id="ad1c" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">始终提供清晰简洁的文档对于任何API都是必要的，没有好的文档，以后使用API会变得更加困难。所以确保你的API有好的文档，用简单的语言更新和发布。</p><p id="3e1d" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated"><strong class="lp ir"> <em class="ml">你的API文档应该包括以下内容:</em> </strong></p><ul class=""><li id="746a" class="mm mn iq lp b lq mg lt mh la mo le mp li mq mf mr ms mt mu bi translated">简单易懂的语言。</li><li id="af87" class="mm mn iq lp b lq mv lt mw la mx le my li mz mf mr ms mt mu bi translated">API在不同编程语言中的实现。</li></ul><h2 id="8b60" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">3.不要返回纯文本</h2><p id="ab37" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">没有必要在<strong class="lp ir"> REST </strong>架构中超越<strong class="lp ir"> JSON </strong>，因为大多数<em class="ml">REST API</em>使用JSON作为数据格式。但是有时候返回一个包含JSON格式字符串的主体是不够的。</p><p id="5cd8" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated">比如你可以将<strong class="lp ir">内容类型</strong>头设置为值<strong class="lp ir"> application/json。</strong></p><h2 id="44bf" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">4.使用复数资源名词</h2><p id="076e" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated"><em class="ml">单数资源名词</em>没有错，但是如果你想只是让事情简单，那么建议使用复数资源名词。</p><p id="e38b" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated"><strong class="lp ir"> <em class="ml">比如说</em> </strong> <em class="ml">，</em> <strong class="lp ir"> GET/post/3/ </strong>看起来还好但是<strong class="lp ir"> GET/post/？。</strong>在这种情况下，我们无法确认是只收到<strong class="lp ir">一个帖子</strong>还是所有帖子。</p><p id="3c7c" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated">为了避免这种方法并且更加一致，您可以使用复数资源名词。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/048adb9e23aa9e984f337211fb12bf89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*ydKtsiwCozuD68VGcAAWBA.png"/></div></figure><h2 id="1453" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">5.处理尾随斜线</h2><p id="9fb4" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">使用尾随斜线是一个选择的问题，但是要确保你坚持使用尾随斜线。因为有些时候会因为一些小错误而出现不一致。</p><p id="5425" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated"><strong class="lp ir"> <em class="ml">例如</em> </strong>，在一个REST API项目中，仅仅因为缺少一个尾部斜杠，就可以收到一个<strong class="lp ir"> 500内部错误</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/5f09bf92ea364aaec5a36bfc7c1ba0f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UbrikpXUIf-cNnmqqmYKxQ.png"/></div></div></figure><h2 id="0a77" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">6.401对403</h2><p id="3c99" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">这两个状态码有不同的含义，很容易混淆它是与<em class="ml">认证</em>相关还是与<em class="ml">授权</em>相关。为了更快地解决问题，您需要了解两者的区别。</p><p id="0933" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated">如果用户没有提供认证细节或认证细节无效，则为<strong class="lp ir"> 401未授权</strong>。</p><p id="c88c" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated">并且如果用户成功认证但是没有提供访问资源的许可，那么它是<strong class="lp ir"> 403禁止的</strong>。</p><h2 id="99ad" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">7.过滤和分页</h2><p id="6d81" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">随着时间的推移，<strong class="lp ir"> REST API </strong>背后的每个数据库都会变得更大，有时我们必须立刻控制数据流，否则，这很容易使我们的系统崩溃。这就是为什么在你的API中总是允许过滤。</p><p id="d163" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated">我们还需要对数据进行分页，以便一次返回几个结果，否则，我们所有的资源都会因为试图一次获得所有请求的数据而耗尽。</p><h2 id="0959" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">8.使用CamelCase作为属性名</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/cd8e13dca270de9d0229a7423483babe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*uHBsHOBwPd7SO1WzKWf9ew.png"/></div></figure><p id="a74e" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated">避免使用下划线或大写字母。</p><p id="812d" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated">通常情况下,<strong class="lp ir"> RESTful </strong> web服务是由一个用JavaScript编写的客户端使用的，这个客户端会将JSON响应转换成一个JavaScript对象并调用它的属性。因此，建议坚持使用JavaScript约定，这样代码可读性更好。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><div class="kg kh ki kj gt nk"><a rel="noopener  ugc nofollow" target="_blank" href="/9-best-vanilla-javascript-utilities-libraries-ff752592dfb5"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">9个最好的普通JavaScript实用程序库</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">用更少的时间构建您的JavaScript项目。</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kp nk"/></div></div></a></div><div class="nz oa gp gr ob nk"><a rel="noopener  ugc nofollow" target="_blank" href="/the-modern-css-developer-roadmap-1ea112451dde"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">现代CSS开发人员路线图</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">掌握CSS的关键概念</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nt l"><div class="oc l nv nw nx nt ny kp nk"/></div></div></a></div><div class="nz oa gp gr ob nk"><a rel="noopener  ugc nofollow" target="_blank" href="/50-questions-to-master-the-javascript-coding-interview-639d2ac12630"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">掌握JavaScript编码面试的50个问题</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">JavaScript编码面试问题:第1部分</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nt l"><div class="od l nv nw nx nt ny kp nk"/></div></div></a></div><p id="41e3" class="pw-post-body-paragraph ln lo iq lp b lq mg jr ls lt mh ju lv la mi lx ly le mj ma mb li mk md me mf ij bi translated"><em class="ml">更多内容请看</em><a class="ae oe" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="lp ir"><em class="ml">plain English . io</em></strong></a></p></div></div>    
</body>
</html>