<html>
<head>
<title>How to Parse a URL into the Hostname and Path in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript把一个URL解析成主机名和路径？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-parse-a-url-into-the-hostname-and-path-in-javascript-b99a34cdc90d?source=collection_archive---------20-----------------------#2021-06-14">https://javascript.plainenglish.io/how-to-parse-a-url-into-the-hostname-and-path-in-javascript-b99a34cdc90d?source=collection_archive---------20-----------------------#2021-06-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3cf11086df6f6bfd8d318500e12cc541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Vf0O6VhphXCqLVii"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@kitchen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kenan Kitchen</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="77fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们希望用JavaScript将URL解析成主机名和路径部分。</p><p id="92e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何用JavaScript将URL解析成主机名和路径部分。</p><h1 id="7c97" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建一个a元素</h1><p id="13ae" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以创建一个<code class="fe me mf mg mh b">a</code>元素并将它的<code class="fe me mf mg mh b">href</code>属性设置为我们想要解析的URL，</p><p id="7383" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以得到它的属性来得到我们想要的部分。</p><p id="7185" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7a7e" class="mq lc iq mh b gy mr ms l mt mu">const parser = document.createElement('a');<br/>parser.href = "http://example.com:3000/pathname/?search=foo#hash";</span><span id="d854" class="mq lc iq mh b gy mv ms l mt mu">console.log(parser.protocol)<br/>console.log(parser.host)<br/>console.log(parser.hostname)<br/>console.log(parser.port)<br/>console.log(parser.pathname)<br/>console.log(parser.hash)<br/>console.log(parser.search)<br/>console.log(parser.origin)</span></pre><p id="8acf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">protocol</code>有协议，是<code class="fe me mf mg mh b">'http:'</code>。</p><p id="6d84" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">host</code>是主机名和端口，也就是<code class="fe me mf mg mh b">'example.com:3000'</code>。</p><p id="21a6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">hostname</code>是主机名，也就是<code class="fe me mf mg mh b">'example.com'</code>。</p><p id="b9b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">port</code>是端口，是3000。</p><p id="455c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">pathname</code>有路径名，是主机之后的路径，主机是<code class="fe me mf mg mh b">'/pathname/'</code>。</p><p id="db1b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">hash</code>有hash，也就是<code class="fe me mf mg mh b">#hash</code>。</p><p id="cf01" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">search</code>有前面带问号的查询字符串，就是<code class="fe me mf mg mh b">'?search=foo'</code>。</p><p id="686d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">origin</code>有协议和主机在一起，就是<code class="fe me mf mg mh b">‘ http://example.com:3000’</code>。</p><h1 id="69b7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">URL构造函数</h1><p id="ca03" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">URL构造函数让我们无需创建<code class="fe me mf mg mh b">a</code>元素就可以解析URL的各个部分。</p><p id="2636" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="574d" class="mq lc iq mh b gy mr ms l mt mu">const url= new URL("http://example.com:3000/pathname/?search=foo#hash")</span><span id="e2d9" class="mq lc iq mh b gy mv ms l mt mu">console.log(url.protocol)<br/>console.log(url.host)<br/>console.log(url.hostname)<br/>console.log(url.port)<br/>console.log(url.pathname)<br/>console.log(url.hash)<br/>console.log(url.search)<br/>console.log(url.origin)</span></pre><p id="991c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将URL传递给<code class="fe me mf mg mh b">URL</code>构造函数，我们得到和以前一样的结果。</p><p id="eb46" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">大多数现代浏览器都有<code class="fe me mf mg mh b">URL</code>构造函数。</p><h1 id="ca56" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="95e5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了用JavaScript解析URL，我们可以创建一个<code class="fe me mf mg mh b">a</code>元素并设置它的<code class="fe me mf mg mh b">href</code>属性。</p><p id="3360" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者我们可以将URL传递给<code class="fe me mf mg mh b">URL</code>构造函数来获得相同的结果。</p><p id="3cb2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mw">plain English . io</em></a></p></div></div>    
</body>
</html>