<html>
<head>
<title>Options API vs. Composition API in Vue.js — A Definitive Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue.js中的选项API与组合API—权威指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/option-api-vs-composition-api-in-vue-js-a-definitive-guide-2a04a398b3ce?source=collection_archive---------2-----------------------#2021-07-05">https://javascript.plainenglish.io/option-api-vs-composition-api-in-vue-js-a-definitive-guide-2a04a398b3ce?source=collection_archive---------2-----------------------#2021-07-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="54fa" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我们应该使用哪一个？逐步比较。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6788a9db0fb12a22c81db7652868a246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d4b0e8vvOiPoOxD-"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@alvarordesign?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alvaro Reyes</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b6c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Vue.js 3与组合API捆绑在一起，可以用来代替选项API。</p><p id="578d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以前版本的Vue.js使用Options API来构建和开发Vue.js应用程序。</p><p id="cacd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Options API有一些限制，而Composition API的引入就是为了解决这些限制。</p><p id="ff08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将逐步比较Options API和Composition API，并了解使用它们的各种方法。</p><p id="3ff6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了更好地理解和明确比较这两者，我们将使用这两者构建一个简单的应用程序，并比较应用程序的结构。</p><h2 id="49dd" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">选项API </strong></h2><p id="3097" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们将构建一个简单的名称应用程序。这个应用程序将接受一个输入，我们为它提供一个名称，然后它将这个名称呈现到页面上。就这么简单。</p><h2 id="c564" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">样本代码:</strong></h2><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="1a61" class="ls lt iq mr b gy mv mw l mx my">&lt;template&gt;<br/>&lt;img alt=”Vue logo” src=”./assets/logo.png” /&gt;<br/>&lt;div&gt;<br/>&lt;h2&gt;MY NAME&lt;/h2&gt;</span><span id="b901" class="ls lt iq mr b gy mz mw l mx my">&lt;p&gt;{{ state.age }}&lt;/p&gt;</span><span id="e95a" class="ls lt iq mr b gy mz mw l mx my">&lt;input v-model=”state.name” type=”text “ placeholder=”enter name to add” /&gt;</span><span id="9291" class="ls lt iq mr b gy mz mw l mx my">&lt;button <a class="ae kv" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>=”addName”&gt;add name&lt;/button&gt;</span><span id="41dc" class="ls lt iq mr b gy mz mw l mx my">&lt;ul v-for=”(name, i) in state.names” :key=”i”&gt;</span><span id="be15" class="ls lt iq mr b gy mz mw l mx my">&lt;li&gt;{{ name }}&lt;/li&gt;</span><span id="3807" class="ls lt iq mr b gy mz mw l mx my">&lt;/ul&gt;&lt;/div&gt;&lt;/template&gt;</span><span id="4ad0" class="ls lt iq mr b gy mz mw l mx my">&lt;script&gt;<br/>export default {<br/>name: “App”,</span><span id="ecc0" class="ls lt iq mr b gy mz mw l mx my">data() {</span><span id="3786" class="ls lt iq mr b gy mz mw l mx my">return {</span><span id="afab" class="ls lt iq mr b gy mz mw l mx my">state: {</span><span id="3c39" class="ls lt iq mr b gy mz mw l mx my">name: “John Philip”,</span><span id="5f1e" class="ls lt iq mr b gy mz mw l mx my">age: 23,</span><span id="09b4" class="ls lt iq mr b gy mz mw l mx my">names: [],</span><span id="f414" class="ls lt iq mr b gy mz mw l mx my">},};},</span><span id="147e" class="ls lt iq mr b gy mz mw l mx my">methods: {</span><span id="d5cb" class="ls lt iq mr b gy mz mw l mx my">addName() {<br/>this.state.names.push(this.state.name);</span><span id="bda2" class="ls lt iq mr b gy mz mw l mx my">this.state.name = “”;</span><span id="ce82" class="ls lt iq mr b gy mz mw l mx my">},},};<br/>&lt;/script&gt;</span></pre><p id="e2ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当使用Options API时，我们将所有的应用程序结构按其应有的方式组合在一起。</p><p id="5a33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从上面的代码片段中，我们得到了保存应用程序状态的应用程序数据。我们还有一个addName方法，它将根据用户输入的信息更新我们的状态。</p><p id="6380" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在模板组件上，我们已经附加了必要的指令，并将其与UI同步，这样每当状态发生变化时，我们都可以获得状态的更新版本。</p><h2 id="def4" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">成分API </strong></h2><p id="17ea" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">假设我们要构建相同的应用程序，但是这次使用复合API。我们的应用程序结构如下所示。</p><p id="a349" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">样本代码</strong></p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="0a88" class="ls lt iq mr b gy mv mw l mx my">&lt;template&gt;<br/>&lt;div&gt;<br/>&lt;h2&gt;MY NAME&lt;/h2&gt;</span><span id="5e33" class="ls lt iq mr b gy mz mw l mx my">&lt;input v-model=”state.name” type=”text “ placeholder=”enter name to add” /&gt;</span><span id="5c9d" class="ls lt iq mr b gy mz mw l mx my">&lt;button <a class="ae kv" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>=”addName”&gt;add name&lt;/button&gt;</span><span id="8833" class="ls lt iq mr b gy mz mw l mx my">&lt;ul v-for=”(name, i) in state.names” :key=”i”&gt;</span><span id="d152" class="ls lt iq mr b gy mz mw l mx my">&lt;li&gt;{{ name }}&lt;/li&gt;</span><span id="bc67" class="ls lt iq mr b gy mz mw l mx my">&lt;/ul&gt;<br/>&lt;/div&gt;<br/>&lt;/template&gt;</span><span id="7d7f" class="ls lt iq mr b gy mz mw l mx my">&lt;script&gt;<br/>import { reactive } from “vue”;</span><span id="6168" class="ls lt iq mr b gy mz mw l mx my">export default {</span><span id="2772" class="ls lt iq mr b gy mz mw l mx my">name: “App”,</span><span id="0494" class="ls lt iq mr b gy mz mw l mx my">setup() {</span><span id="ab3a" class="ls lt iq mr b gy mz mw l mx my">const state = reactive({</span><span id="9435" class="ls lt iq mr b gy mz mw l mx my">name: “John Philip”,</span><span id="60ba" class="ls lt iq mr b gy mz mw l mx my">age: 23,</span><span id="e47b" class="ls lt iq mr b gy mz mw l mx my">names: [],</span><span id="9cc0" class="ls lt iq mr b gy mz mw l mx my">});</span><span id="4fcf" class="ls lt iq mr b gy mz mw l mx my">function addName() {</span><span id="db41" class="ls lt iq mr b gy mz mw l mx my">state.names.push(state.name);</span><span id="8fe8" class="ls lt iq mr b gy mz mw l mx my">state.name = “”;<br/>}<br/>return { state, addName };<br/>},};<br/>&lt;/script&gt;</span></pre><p id="7d9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你检查一下，你会发现我们从Vue引入了reactive。Reactive负责双向数据绑定。这提供了组件UI和状态之间的同步。我们可以使用ref或reactive，以满足您的开发要求。</p><h2 id="d13a" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">小对比</strong></h2><p id="baa5" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">如果我们比较两者的应用程序结构，我们肯定会注意到Composition API为应用程序结构提供了更简单、更干净、更可读的代码。对于Options API，生命周期挂钩之类的东西会降低代码的可读性。</p><p id="abb2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尽管两者都可以用来开发应用程序，但是对于需要大量功能和组织的更复杂的应用程序，组合API是最好的选择。</p><p id="a433" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与Options API相比，Composition API还提供了简单的代码重用。</p><p id="2fc9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也就是说，你觉得两者中哪一个更舒适、更容易使用？我仍然试图根据我正在开发的应用程序来使用这两者。</p><h2 id="04d0" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">最终想法</strong></h2><p id="e217" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">感谢您阅读本文到目前为止。希望对你有帮助。请不要犹豫与他人分享这篇文章。</p><h2 id="640c" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">更多阅读:</strong></h2><div class="na nb gp gr nc nd"><a rel="noopener  ugc nofollow" target="_blank" href="/all-you-need-to-know-about-javascript-object-notation-json-a3290231019a"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd ir gy z fp ni fr fs nj fu fw ip bi translated">关于JavaScript对象表示法(JSON ),您需要知道的是</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">了解关于JSON的一切</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nm l"><div class="nn l no np nq nm nr kp nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a rel="noopener  ugc nofollow" target="_blank" href="/javascript-algorithm-and-data-structure-challenge-fizz-buzz-5ef81800cb99"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd ir gy z fp ni fr fs nj fu fw ip bi translated">JavaScript算法和数据结构挑战——Fizz Buzz</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">JavaScript中的Fizz Buzz challenge黑客团队的一个编程挑战的解决方案。</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nm l"><div class="ns l no np nq nm nr kp nd"/></div></div></a></div><p id="ec1f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nt">更多内容看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nt">plain English . io</em></strong></a></p></div></div>    
</body>
</html>