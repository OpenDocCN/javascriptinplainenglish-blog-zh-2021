<html>
<head>
<title>‘let’ vs ‘var’: What is the Actual Difference?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">let' vs 'var ':实际区别是什么？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/let-vs-var-what-is-the-actual-difference-5acdb1f1c83?source=collection_archive---------8-----------------------#2021-12-02">https://javascript.plainenglish.io/let-vs-var-what-is-the-actual-difference-5acdb1f1c83?source=collection_archive---------8-----------------------#2021-12-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ed4a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里有一篇关于JavaScript中的<code class="fe kl km kn ko b">let</code>和<code class="fe kl km kn ko b">var</code>的区别的快速阅读，可能会派上用场。了解这些有助于决定在您的实现中使用什么。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/b5e429467ce0f4dcf2ef65e370bca781.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/0*-CvE5n59Wn5m9k_U.png"/></div></figure><h2 id="5cfb" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated"><strong class="ak">范围</strong></h2><p id="aa36" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated"><code class="fe kl km kn ko b">var</code>和<code class="fe kl km kn ko b">let</code>的作用域不同。<code class="fe kl km kn ko b">var</code>的作用域是直接封闭函数，而<code class="fe kl km kn ko b">let</code>的作用域是直接封闭块。</p><p id="0ef3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">例如:</strong></p><pre class="kq kr ks kt gt lv ko lw lx aw ly bi"><span id="9871" class="kx ky iq ko b gy lz ma l mb mc">function run() {<br/>  var first = "First";<br/>  let second = "Second";<br/>  console.log(first, second); // First Second<br/>  {<br/>    var third = "Third"<br/>    let fourth = "Fourth";<br/>    console.log(third, fourth); // Third Fourth<br/>  }<br/>  console.log(third); // Third<br/>  console.log(fourth); // ReferenceError<br/>}<br/><br/>run();</span></pre><h2 id="7c74" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated"><strong class="ak">创建全局属性</strong></h2><p id="11d9" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">全局<code class="fe kl km kn ko b">var</code>变量作为属性添加到全局对象中。全局对象是web浏览器上的<code class="fe kl km kn ko b">window</code>和Node.js上的<code class="fe kl km kn ko b">global</code>:</p><pre class="kq kr ks kt gt lv ko lw lx aw ly bi"><span id="5dde" class="kx ky iq ko b gy lz ma l mb mc">var counter = 0;<br/>console.log(window.counter); <em class="md">//  0</em></span></pre><p id="77f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，<code class="fe kl km kn ko b">let</code>变量没有被添加到全局对象中:</p><pre class="kq kr ks kt gt lv ko lw lx aw ly bi"><span id="c9de" class="kx ky iq ko b gy lz ma l mb mc">let counter = 0;<br/>console.log(window.counter); <em class="md">// undefined</em></span></pre><h2 id="81be" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated"><strong class="ak">重新申报</strong></h2><p id="c90f" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated"><code class="fe kl km kn ko b">var</code>关键字允许你重新声明一个变量，没有任何问题:</p><pre class="kq kr ks kt gt lv ko lw lx aw ly bi"><span id="cefd" class="kx ky iq ko b gy lz ma l mb mc">var counter = 10;<br/>var counter = "abcd";<br/>console.log(counter); <em class="md">// abcd</em></span></pre><p id="3954" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，如果你用关键字<code class="fe kl km kn ko b">let</code>重新声明一个变量，你会得到一个错误:</p><pre class="kq kr ks kt gt lv ko lw lx aw ly bi"><span id="3e5b" class="kx ky iq ko b gy lz ma l mb mc">let counter = 10;<br/>let counter; <em class="md">// error</em></span></pre><h2 id="61b9" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated"><strong class="ak">太阳穴死区</strong></h2><p id="5de6" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated"><code class="fe kl km kn ko b">let</code>变量有时间死区，而<code class="fe kl km kn ko b">var</code>变量没有。为了理解时间死区，让我们检查一下<code class="fe kl km kn ko b">var</code>和<code class="fe kl km kn ko b">let</code>变量的生命周期，它们有两个步骤:创建和执行。</p><p id="6f72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">var变量</strong></p><ul class=""><li id="d3c2" class="me mf iq jp b jq jr ju jv jy mg kc mh kg mi kk mj mk ml mm bi translated">在创建阶段，JavaScript引擎为<code class="fe kl km kn ko b">var</code>变量分配存储空间，并立即将其初始化为<code class="fe kl km kn ko b">undefined</code>。</li><li id="0ad2" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated">在执行阶段，JavaScript引擎给<code class="fe kl km kn ko b">var</code>变量分配赋值所指定的值(如果有的话)。否则，<code class="fe kl km kn ko b">var</code>变量仍未定义。</li></ul><p id="e4fb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">let变量</strong></p><ul class=""><li id="f4ed" class="me mf iq jp b jq jr ju jv jy mg kc mh kg mi kk mj mk ml mm bi translated">在创建阶段，JavaScript引擎为<code class="fe kl km kn ko b">let</code>变量分配存储空间，但不初始化变量。引用未初始化的变量会导致<code class="fe kl km kn ko b">ReferenceError</code>。</li><li id="44f6" class="me mf iq jp b jq mn ju mo jy mp kc mq kg mr kk mj mk ml mm bi translated"><code class="fe kl km kn ko b">let</code>变量与<code class="fe kl km kn ko b">var</code>变量具有相同的执行阶段。</li></ul><p id="6098" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">临时死区从程序块开始，直到<code class="fe kl km kn ko b">let</code>变量声明被处理。换句话说，在定义<code class="fe kl km kn ko b">let</code>变量之前，您不能在这个位置访问它们。【<a class="ae ms" href="https://www.javascripttutorial.net/es6/difference-between-var-and-let/" rel="noopener ugc nofollow" target="_blank">链接</a></p><h2 id="50d3" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated"><strong class="ak">吊装</strong></h2><p id="7ab0" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">用var声明的变量如下所示。在这个例子中，声明将使用一个未定义的值，但是初始化将不会在以后完成。</p><pre class="kq kr ks kt gt lv ko lw lx aw ly bi"><span id="e04c" class="kx ky iq ko b gy lz ma l mb mc">function checkVarScope() {<br/>  console.log(varScope); // undefined<br/>  var varScope = "Var Scope";<br/>  console.log(varScope); // Var Scope<br/>}<br/><br/>checkVarScope();</span></pre><p id="c017" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而用let定义的变量不提升。<code class="fe kl km kn ko b">let</code>变量在定义求值之前不会被初始化。在初始化之前访问它们会导致<code class="fe kl km kn ko b">ReferenceError</code>。</p><pre class="kq kr ks kt gt lv ko lw lx aw ly bi"><span id="df82" class="kx ky iq ko b gy lz ma l mb mc">function checkLetScope() {<br/>  console.log(letVar); // <!-- -->"Uncaught ReferenceError: Cannot access '<!-- -->letVar<!-- -->' before initialization"<br/>  let letVar = "Let Variable";<br/>  console.log(letVar); // Let Variable<br/>}<br/><br/>checkLetScope();</span></pre><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi mt"><img src="../Images/f11646f4a6696dbb958cc077739d83f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OKlacUoYmKgiBKhq.jpg"/></div></div></figure><p id="6ecb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">希望这能给你一些关于如何决定在哪个场景中使用什么的好主意。</p><h2 id="6149" class="kx ky iq bd kz la lb dn lc ld le dp lf jy lg lh li kc lj lk ll kg lm ln lo lp bi translated"><strong class="ak">好读</strong></h2><p id="2252" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated"><a class="ae ms" href="https://www.javascripttutorial.net/es6/difference-between-var-and-let/" rel="noopener ugc nofollow" target="_blank">https://www . JavaScript tutorial . net/es6/difference-between-var-and-let/</a></p><p id="58e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="md">更多内容看</em> <a class="ae ms" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="md">说白了。报名参加我们的</em> <a class="ae ms" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="md">免费每周简讯点击这里</em> </strong> </a> <strong class="jp ir"> <em class="md">。</em> </strong></strong></a></p></div></div>    
</body>
</html>