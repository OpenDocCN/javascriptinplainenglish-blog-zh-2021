<html>
<head>
<title>How to Build a Mosaic Chart with JavaScript: Visualizing 2020 PC Shipments Data from Gartner</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用JavaScript构建镶嵌图:可视化来自Gartner的2020年PC出货量数据</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-build-a-mosaic-chart-with-javascript-visualizing-2020-pc-shipments-data-from-gartner-b3218fbfb889?source=collection_archive---------23-----------------------#2021-05-11">https://javascript.plainenglish.io/how-to-build-a-mosaic-chart-with-javascript-visualizing-2020-pc-shipments-data-from-gartner-b3218fbfb889?source=collection_archive---------23-----------------------#2021-05-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/e20a31844603fb9838ba7f1073abcdd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*43Ypi36Aka_dXQOD6lfi5A.png"/></div></div></figure><blockquote class="jv jw jx"><p id="296d" class="jy jz ka kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">构建交互式JavaScript镶嵌图的分步指南。通过可视化2020年按品牌划分的季度PC出货量数据来说明。</strong></p></blockquote><p id="a327" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">在当今的场景中，数据可视化是一个很有价值的工具，因为数据无处不在，并且有各种机会来挖掘这些数据以获得洞察力。视觉图表对于交流思想、识别模式和充分利用现有数据是必不可少的。</p><p id="2842" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">那么，你想快速简单地学习如何创建一个非常酷的图表来有趣地展示数据吗？</p><p id="4f2a" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><strong class="kb io">镶嵌图</strong>是一种多序列图表，它有效地表示了超过2个参数的数据，之所以如此，是因为每个数据点都有独特的缩进，使其在视觉上类似于一幅镶嵌艺术品。该图表不仅看起来很漂亮，而且在表示多个变量和识别这些不同变量之间的关系方面也非常有帮助。</p><p id="f45e" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">2020年并不全是坏事，至少对个人电脑市场来说是这样。随着越来越多的人在家工作和学习，2020年<strong class="kb io">的个人电脑</strong>销量在每个季度都在增长。我根据全球出货量调查了每个品牌在每个季度的表现。</p><p id="d59e" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">下面是最终的图表，让你兴奋起来！</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi la"><img src="../Images/fb3de5466b6b97037bc2439a8d86b52e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fwh1P8qCU8qEf12hQdUMrA.png"/></div></div></figure><p id="c6d3" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">跟随这个面向前端web开发人员和数据viz爱好者的快速教程，掌握使用JavaScript 创建<strong class="kb io">镶嵌图的窍门。</strong></p><h1 id="d8ae" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">通过4个简单的步骤构建JavaScript镶嵌图</h1><p id="0d3d" class="pw-post-body-paragraph jy jz in kb b kc md ke kf kg me ki kj kx mf km kn ky mg kq kr kz mh ku kv kw ig bi translated">镶嵌图可能看起来令人兴奋，但很难创建。然而，用一个<a class="ae mi" href="https://en.wikipedia.org/wiki/Comparison_of_JavaScript_charting_libraries" rel="noopener ugc nofollow" target="_blank"> JavaScript图表库</a>创建这个图表是非常简单的，因为它可以消除大量的编码负担，并允许您快速地用最少的技术细节创建一个图表。</p><p id="1a08" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">对于本教程，我使用的是<a class="ae mi" href="https://www.anychart.com/" rel="noopener ugc nofollow" target="_blank"> AnyChart JS库</a>。我选择了AnyChart，因为它灵活且易于开始。它特别适合初学者，因为有大量的<a class="ae mi" href="https://docs.anychart.com/" rel="noopener ugc nofollow" target="_blank">文档</a>，以及许多有用的<a class="ae mi" href="https://www.anychart.com/products/anychart/gallery/" rel="noopener ugc nofollow" target="_blank">示例</a>。</p><p id="5661" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">在可视化数据时，具有HTML和JavaScript等技术的背景是一个优势。尽管如此，使用JavaScript库创建交互式图表并不复杂，使用几乎所有支持这种图表类型的JavaScript库创建镶嵌图表的步骤也大致相同。</p><p id="a363" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">创建JavaScript镶嵌图的4个基本步骤是:</p><ul class=""><li id="6bfd" class="mj mk in kb b kc kd kg kh kx ml ky mm kz mn kw mo mp mq mr bi translated">为图表创建HTML页面。</li><li id="da7f" class="mj mk in kb b kc ms kg mt kx mu ky mv kz mw kw mo mp mq mr bi translated">添加必要的JavaScript文件。</li><li id="14fe" class="mj mk in kb b kc ms kg mt kx mu ky mv kz mw kw mo mp mq mr bi translated">连接数据。</li><li id="48a3" class="mj mk in kb b kc ms kg mt kx mu ky mv kz mw kw mo mp mq mr bi translated">编写绘制图表所需的JavaScript代码。</li></ul><h1 id="1a36" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">1.创建基本的HTML页面</h1><p id="90ae" class="pw-post-body-paragraph jy jz in kb b kc md ke kf kg me ki kj kx mf km kn ky mg kq kr kz mh ku kv kw ig bi translated">首先要做的是创建一个包含图表的基本HTML页面。接下来，创建一个HTML block元素，为了稍后在代码中识别这个<code class="fe mx my mz na b">&lt;div&gt;</code>，我给它一个id属性，比如‘container’</p><pre class="lb lc ld le gt nb na nc nd aw ne bi"><span id="3ae0" class="nf lg in na b gy ng nh l ni nj">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Mosaic Chart&lt;/title&gt;<br/>    &lt;style type="text/css"&gt;<br/>      html,<br/>      body,<br/>      #container {<br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="9698" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">我将块的宽度和高度设为100%,以便图表填充整个页面，但它可以根据您的偏好来指定。</p><h1 id="d753" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">2.参考必要的JavaScript文件</h1><p id="2ca9" class="pw-post-body-paragraph jy jz in kb b kc md ke kf kg me ki kj kx mf km kn ky mg kq kr kz mh ku kv kw ig bi translated">下一步是添加图表库脚本来创建镶嵌图表。我包含了来自AnyChart的<a class="ae mi" href="https://www.anychart.com/download/cdn/" rel="noopener ugc nofollow" target="_blank"> CDN </a>的相应文件，因为那是我正在使用的库。当然，这些脚本也可以下载和引用。</p><p id="9ed4" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">对于这个图表，我需要<a class="ae mi" href="https://docs.anychart.com/Quick_Start/Modules#core" rel="noopener ugc nofollow" target="_blank">核心脚本</a>以及马赛克图表的特定<a class="ae mi" href="https://docs.anychart.com/Quick_Start/Modules#mekko" rel="noopener ugc nofollow" target="_blank">模块。这里，镶嵌图的模块包含3种不同类型的Marimekko图，镶嵌图是其中之一。如果你想了解更多关于这些图表和它们的具体特征，请查阅关于Marimekko图表</a>的AnyChart <a class="ae mi" href="https://docs.anychart.com/Basic_Charts/Marimekko_Chart/" rel="noopener ugc nofollow" target="_blank">文档。</a></p><p id="34d8" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">我将这两个脚本都添加到我的HTML页面的<code class="fe mx my mz na b">&lt;head&gt;</code>部分。</p><pre class="lb lc ld le gt nb na nc nd aw ne bi"><span id="d227" class="nf lg in na b gy ng nh l ni nj">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Mosaic Chart&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-core.min.js"&gt;<br/>    &lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-mekko.min.js"&gt;<br/>    &lt;/script&gt;<br/>    &lt;style type="text/css"&gt;<br/>      html,<br/>      body,<br/>      #container {<br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/><strong class="na io"><em class="ka">      // All the JS code for the mosaic chart will come here.<br/></em></strong>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="0fac" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">3.设置数据</h1><p id="eeef" class="pw-post-body-paragraph jy jz in kb b kc md ke kf kg me ki kj kx mf km kn ky mg kq kr kz mh ku kv kw ig bi translated">我整理了Gartner<a class="ae mi" href="https://www.gartner.com/en/newsroom/press-releases/2021-01-11-gartner-says-worldwide-pc-shipments-grew-10-point-7-percent-in-the-fourth-quarter-of-2020-and-4-point-8-percent-for-the-year" rel="noopener ugc nofollow" target="_blank">提供的2020年每个季度不同个人电脑品牌的销售数据。为了便于创建镶嵌图，我以适合的格式处理了数据，由于数据有限，我直接在代码中添加了数据。</a></p><p id="c2fd" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">在这里，我在X轴上绘制了季度，并将品牌绘制为单独的图块，因此我在标题数据中添加了品牌，在行中添加了季度数据。</p><pre class="lb lc ld le gt nb na nc nd aw ne bi"><span id="d9dc" class="nf lg in na b gy ng nh l ni nj">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Mosaic Chart&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-core.min.js"&gt;<br/>    &lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-mekko.min.js"&gt;<br/>    &lt;/script&gt;<br/>    &lt;style type="text/css"&gt;<br/>      html,<br/>      body,<br/>      #container {<br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/>      var data = {<br/>        header: [<br/>          '#',<br/>          'LENOVO',<br/>          'HP',<br/>          'DELL',<br/>          'APPLE',<br/>          'ACER',<br/>          'ASUS',<br/>          'OTHERS'<br/>        ],<br/>        rows: [<br/>          ['Q1', 12613,11114,10158,3555,2900,2603,8693],<br/>          ['Q2', 16197,16165,10648,4368,4007,3593,9829],<br/>          ['Q3', 18310,15447,10827,5513,5085,4747,11448],<br/>          ['Q4', 21491,15683,13199,6893,4741,4570,12813]<br/>        ]<br/>      };<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="fee2" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">现在我们已经完成了所有的准备工作，让我们进入绘制别致的交互式JavaScript镶嵌图的最后一步！</p><h1 id="8c53" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">4.为您的图表编写JavaScript代码</h1><p id="a166" class="pw-post-body-paragraph jy jz in kb b kc md ke kf kg me ki kj kx mf km kn ky mg kq kr kz mh ku kv kw ig bi translated">对于没有太多编码经验的人来说，编写代码可能听起来令人生畏，但是请相信我，只需要编写5行代码就可以变出一个漂亮的马赛克图表。</p><p id="bb4b" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">在此之前，我添加了一个包含所有代码的函数，确保其中的整个代码只在页面准备就绪时执行。然后，我将数据放入这个函数中。</p><p id="07a5" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">接下来，我用内置函数创建镶嵌图并设置数据。</p><p id="2a92" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">最后，我将引用添加到要绘制图表的容器中，设置图表的标题，并开始绘制。</p><pre class="lb lc ld le gt nb na nc nd aw ne bi"><span id="542c" class="nf lg in na b gy ng nh l ni nj">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Mosaic Chart&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-core.min.js"&gt;<br/>    &lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-mekko.min.js"&gt;<br/>    &lt;/script&gt;<br/>    &lt;style type="text/css"&gt;<br/>      html,<br/>      body,<br/>      #container {<br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/>      anychart.onDocumentReady(function () {<br/>        var data = {<br/>          header: [<br/>            '#',<br/>            'LENOVO',<br/>            'HP',<br/>            'DELL',<br/>            'APPLE',<br/>            'ACER',<br/>            'ASUS',<br/>            'OTHERS'<br/>          ],<br/>          rows: [<br/>            ['Q1', 12613,11114,10158,3555,2900,2603,8693],<br/>            ['Q2', 16197,16165,10648,4368,4007,3593,9829],<br/>            ['Q3', 18310,15447,10827,5513,5085,4747,11448],<br/>            ['Q4', 21491,15683,13199,6893,4741,4570,12813]<br/>          ]<br/>        };</span><span id="015c" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // create a mosaic chart<br/></em></strong>        var chart = anychart.mosaic();</span><span id="b8ef" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // set chart data<br/></em></strong>        chart.data(data);</span><span id="b26c" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // set container id for the chart<br/></em></strong>        chart.container('container');</span><span id="38e7" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // set the chart title  <br/></em></strong>        chart.title("Quarterly Brand-wise Personal Computer Shipments in 2020 (Thousands of Units)");</span><span id="ee84" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // initiate chart drawing<br/></em></strong>        chart.draw();<br/>      });<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="f5b4" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">你瞧！一个迷人的和功能性的马赛克图表创建！</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi la"><img src="../Images/7ec1350f8bd9463798f54af564e9b0cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rVQc_pCWdYKz1ATTOYGTeA.png"/></div></div></figure><p id="83d9" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">通过每个季度宽度的增加，您可以立即看到每个季度的出货量是如何增加的。在品牌方面，联想是明显的市场领导者，其销售额逐季增长。此外，我们清楚地看到，联想、惠普和戴尔占据了超过50%的市场份额。</p><blockquote class="jv jw jx"><p id="7f58" class="jy jz ka kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">在</strong> <a class="ae mi" href="https://codepen.io/shacheeswadia/pen/LYbvzRJ" rel="noopener ugc nofollow" target="_blank"> <strong class="kb io"> CodePen </strong> </a> <strong class="kb io">【或者在</strong><a class="ae mi" href="https://playground.anychart.com/xR2Wh65Y/" rel="noopener ugc nofollow" target="_blank"><strong class="kb io">any chart Playground</strong></a><strong class="kb io">】上看一下这个带有完整JavaScript/CSS/HTML代码的马赛克图表的初始版本。</strong></p></blockquote><h1 id="9755" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">自定义镶嵌图表</h1><p id="a443" class="pw-post-body-paragraph jy jz in kb b kc md ke kf kg me ki kj kx mf km kn ky mg kq kr kz mh ku kv kw ig bi translated">大多数不错的JavaScript图表库都允许您使用它们的API定制图表。这些定制可以使您的数据可视化脱颖而出，具有个性化的美感，并改进了您想要传达的信息的表示。</p><p id="0ea1" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">既然已经创建了基本的镶嵌图，下面我将向您展示如何通过一些简单的定制来增强图表在表示数据和调整其外观方面的功能。</p><h1 id="d693" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">1.减少单个瓷砖之间的间距</h1><p id="7685" class="pw-post-body-paragraph jy jz in kb b kc md ke kf kg me ki kj kx mf km kn ky mg kq kr kz mh ku kv kw ig bi translated">为了改善马赛克的外观，我只用了一行代码就减少了每个点之间的空间。</p><pre class="lb lc ld le gt nb na nc nd aw ne bi"><span id="d93f" class="nf lg in na b gy ng nh l ni nj">chart.pointsPadding(3);</span></pre><h1 id="7e90" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">2.改进数据标签的显示方式</h1><p id="93ce" class="pw-post-body-paragraph jy jz in kb b kc md ke kf kg me ki kj kx mf km kn ky mg kq kr kz mh ku kv kw ig bi translated">数据中的数值以千为单位。为了使它更具可读性和更容易理解，我改变了数字的格式，以百万为单位显示数字。我还更新了图表的标题以反映这一修改。</p><pre class="lb lc ld le gt nb na nc nd aw ne bi"><span id="f4e6" class="nf lg in na b gy ng nh l ni nj"><strong class="na io"><em class="ka">// set the chart labels settings<br/></em></strong>chart.labels()<br/>  .format(function(e){<br/>    var value = ((this.value)/1000).toFixed(2);<br/>    return value + " M";<br/>  });</span><span id="5171" class="nf lg in na b gy nk nh l ni nj">...</span><span id="fdee" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">// set the chart title<br/></em></strong>chart.title("Quarterly Brand-wise Personal Computer Shipments in 2020");</span></pre><p id="ca51" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><strong class="kb io"> <em class="ka">你可以在</em></strong><a class="ae mi" href="https://codepen.io/shacheeswadia/pen/bGBJYdR" rel="noopener ugc nofollow" target="_blank"><strong class="kb io"><em class="ka">CodePen</em></strong></a><strong class="kb io"><em class="ka">【或者在</em></strong><a class="ae mi" href="https://playground.anychart.com/3FLAT707/" rel="noopener ugc nofollow" target="_blank"><strong class="kb io"><em class="ka">any chart Playground</em></strong></a><strong class="kb io"><em class="ka">上查看这个中间版本的马赛克图表的全部代码。</em> </strong></p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi la"><img src="../Images/ee6a953381e6f271478c15d52729551f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*88t87p2WE1YNAKVomFY6HQ.png"/></div></div></figure><h1 id="7c9d" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">3.更改颜色主题并进行其他相关修改</h1><p id="ba59" class="pw-post-body-paragraph jy jz in kb b kc md ke kf kg me ki kj kx mf km kn ky mg kq kr kz mh ku kv kw ig bi translated">为了使镶嵌图更加个性化，我决定使用不同的调色板。AnyChart提供了一些很棒的内置<a class="ae mi" href="https://docs.anychart.com/Appearance_Settings/Themes" rel="noopener ugc nofollow" target="_blank">主题</a>，包括预定义的设置，如图表数据点的颜色以及背景和独特的字体。您也可以创建一个自定义主题，但是对于这个图表，我选择了一个开箱即用的主题，感觉就像是老一代的PC屏幕。</p><p id="0df9" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">我在<code class="fe mx my mz na b">&lt;head&gt;</code>部分添加了主题脚本，然后添加了一行代码来设置镶嵌图的主题。</p><p id="c010" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">根据我的偏好，固有的字体大小略小，所以我在样式中指定字体的大小。此外，我希望图表的标题更大，所以我添加了一些代码来修改它。</p><pre class="lb lc ld le gt nb na nc nd aw ne bi"><span id="8244" class="nf lg in na b gy ng nh l ni nj">&lt;head&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.9.0/themes/dark_blue.min.js"&gt;<br/>  &lt;/script&gt;<br/>  <br/>...<br/>  <br/>  &lt;style type="text/css"&gt;<br/>  #container text {<br/>    font-size: 13px;<br/>  }<br/>  &lt;/style&gt;<br/>&lt;/head&gt;</span><span id="a6a2" class="nf lg in na b gy nk nh l ni nj">...</span><span id="c6ab" class="nf lg in na b gy nk nh l ni nj">&lt;body&gt;<br/>  &lt;script&gt;<br/>  <br/><strong class="na io"><em class="ka">  // set the chart theme<br/></em></strong>  anychart.theme('darkBlue');<br/>  <br/>  &lt;/script&gt;<br/>&lt;/body&gt;</span></pre><p id="2a18" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">此外，我希望图表的标题更大，所以我添加了一些代码来修改它。</p><pre class="lb lc ld le gt nb na nc nd aw ne bi"><span id="18d1" class="nf lg in na b gy ng nh l ni nj"><strong class="na io"><em class="ka">// set the chart title<br/></em></strong>chart<br/>  .title()<br/>  .enabled(true)<br/>  .useHtml(true)<br/>  .text("&lt;span style='font-size:16px';&gt;Quarterly Brand-wise Personal Computer Shipments in 2020&lt;/span&gt;");</span></pre><p id="ea79" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">啊哈！马赛克图表看起来是不是非常个性化和引人入胜？</p><h1 id="f714" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">4.增强工具提示</h1><p id="8952" class="pw-post-body-paragraph jy jz in kb b kc md ke kf kg me ki kj kx mf km kn ky mg kq kr kz mh ku kv kw ig bi translated">最后要做的是让工具提示信息更丰富，格式更好。因为这是一个镶嵌图，每个数据点都非常清晰可辨，所以我希望工具提示显示该特定季度的所有数据值。这可以通过指定工具提示的显示模式来实现。</p><p id="e393" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">最后，我只是调整了工具提示的外观。</p><pre class="lb lc ld le gt nb na nc nd aw ne bi"><span id="a2c7" class="nf lg in na b gy ng nh l ni nj"><strong class="na io"><em class="ka">// set union tooltip<br/></em></strong>chart.tooltip().displayMode('union');</span><span id="329f" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">// enable HTML in tooltips and format<br/></em></strong>chart<br/>  .tooltip()<br/>  .useHtml(true)<br/>  .format("&lt;h5 style='font-size:14px; margin: 0.5rem 0;'&gt;{%name}&lt;/h5&gt;{%SeriesName}: {%value}{scale:(1000)(1000)|( M)}");</span></pre><p id="1428" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">就是这样！一个非常吸引人和信息丰富的JavaScript镶嵌图已经准备好了。</p><figure class="lb lc ld le gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nl"><img src="../Images/7152320420b210f3f1599922bc74d1a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Gu3LGthbupyOQ9eF.png"/></div></div></figure><blockquote class="jv jw jx"><p id="7178" class="jy jz ka kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">在这里或者在</strong> <a class="ae mi" href="https://codepen.io/shacheeswadia/pen/xxRePQw" rel="noopener ugc nofollow" target="_blank"> <strong class="kb io"> CodePen </strong> </a> <strong class="kb io">上【或者在</strong><a class="ae mi" href="https://playground.anychart.com/9aRCmwxU/" rel="noopener ugc nofollow" target="_blank"><strong class="kb io">any chart Playground</strong></a><strong class="kb io">】上看看马赛克图的最终代码。</strong></p></blockquote><pre class="lb lc ld le gt nb na nc nd aw ne bi"><span id="1e70" class="nf lg in na b gy ng nh l ni nj">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Mosaic Chart&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-core.min.js"&gt;<br/>    &lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-mekko.min.js"&gt;<br/>    &lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/themes/dark_blue.min.js"&gt;<br/>    &lt;/script&gt;<br/>    &lt;style type="text/css"&gt;<br/>      html,<br/>      body,<br/>      #container {<br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0;<br/>      }<br/>      #container text {<br/>        font-size: 13px;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>  &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/>      anychart.onDocumentReady(function () {<br/>        var data = {<br/>          header: [<br/>            '#',<br/>            'LENOVO',<br/>            'HP',<br/>            'DELL',<br/>            'APPLE',<br/>            'ACER',<br/>            'ASUS',<br/>            'OTHERS'<br/>          ],<br/>          rows: [<br/>            ['Q1', 12613,11114,10158,3555,2900,2603,8693],<br/>            ['Q2', 16197,16165,10648,4368,4007,3593,9829],<br/>            ['Q3', 18310,15447,10827,5513,5085,4747,11448],<br/>            ['Q4', 21491,15683,13199,6893,4741,4570,12813]<br/>          ]<br/>        };</span><span id="29d5" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // set the chart theme<br/></em></strong>        anychart.theme('darkBlue');</span><span id="64b9" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // create a mosaic chart<br/></em></strong>        var chart = anychart.mosaic();</span><span id="d11f" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // set points padding<br/></em></strong>        chart.pointsPadding(3);</span><span id="3586" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // set chart data<br/></em></strong>        chart.data(data);</span><span id="7223" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // set the chart labels settings<br/></em></strong>        chart.labels()<br/>          .format(function(e){<br/>            var value = ((this.value)/1000).toFixed(2);<br/>          return value + " M";<br/>        });</span><span id="97c5" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // set union tooltip<br/></em></strong>        chart.tooltip().displayMode('union');</span><span id="d5fb" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // enable HTML in tooltips and format<br/></em></strong>        chart<br/>          .tooltip()<br/>          .useHtml(true)<br/>          .format("&lt;h5 style='font-size:14px; margin: 0.5rem 0;'&gt;{%name}&lt;/h5&gt;{%SeriesName}: {%value}{scale:(1000)(1000)|( M)}");</span><span id="1e06" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // set container id for the chart<br/></em></strong>        chart.container('container');</span><span id="7e7d" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // set the chart title  <br/></em></strong>        chart<br/>          .title()<br/>          .enabled(true)<br/>          .useHtml(true)<br/>          .text("&lt;span style='font-size:16px';&gt;Quarterly Brand-wise Personal Computer Shipments in 2020&lt;/span&gt;");</span><span id="f1b9" class="nf lg in na b gy nk nh l ni nj"><strong class="na io"><em class="ka">        // initiate chart drawing<br/></em></strong>        chart.draw();<br/>      });<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="d339" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="98c4" class="pw-post-body-paragraph jy jz in kb b kc md ke kf kg me ki kj kx mf km kn ky mg kq kr kz mh ku kv kw ig bi translated">如您所见，在图表库的帮助下，构建一个有创意的交互式JavaScript镶嵌图并不困难。当然，这只是皮毛，所以继续尝试不同的图表和数据集。还有许多其他的JavaScript图表库可以探索，或者如果你愿意，可以在AnyChart中查看一些很棒的其他图表类型。</p><p id="4bf5" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">用那个联想或者戴尔(或者你是Mac的人？)来创建可视化效果，请在此分享您的创作。当然，如果你有任何问题，让我知道。</p></div><div class="ab cl nm nn hr no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ig ih ii ij ik"><p id="6828" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated">经Shachee Swadia许可出版。原载于2021年5月5日 <a class="ae mi" href="https://dzone.com/articles/how-to-create-a-mosaic-chart-using-javascript" rel="noopener ugc nofollow" target="_blank"> <em class="ka"> DZone </em> </a> <em class="ka">标题为《如何使用JavaScript创建镶嵌图》。</em></p></div><div class="ab cl nm nn hr no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ig ih ii ij ik"><p id="25c2" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><em class="ka">在</em><a class="ae mi" href="https://www.anychart.com/chartopedia/chart-type/mosaic-chart/" rel="noopener ugc nofollow" target="_blank"><em class="ka">Chartopedia</em></a><em class="ka">上了解更多镶嵌图表。查看其他</em> <a class="ae mi" href="https://www.anychart.com/blog/category/javascript-chart-tutorials/" rel="noopener ugc nofollow" target="_blank"> <em class="ka"> JavaScript制图教程</em> </a> <em class="ka">。</em></p></div><div class="ab cl nm nn hr no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ig ih ii ij ik"><p id="e24f" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><em class="ka">如果你想为我们的博客写一篇有趣的客座博文，请</em> <a class="ae mi" href="https://www.anychart.com/support/" rel="noopener ugc nofollow" target="_blank"> <em class="ka">联系我们</em> </a> <em class="ka">。</em></p></div><div class="ab cl nm nn hr no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ig ih ii ij ik"><p id="f59b" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><em class="ka">原载于2021年5月11日https://www.anychart.com</em><a class="ae mi" href="https://www.anychart.com/blog/2021/05/11/mosaic-chart-js/" rel="noopener ugc nofollow" target="_blank"><em class="ka"/></a><em class="ka">。</em></p><p id="d09f" class="pw-post-body-paragraph jy jz in kb b kc kd ke kf kg kh ki kj kx kl km kn ky kp kq kr kz kt ku kv kw ig bi translated"><em class="ka">更多内容请看</em><a class="ae mi" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ka">plain English . io</em></a></p></div></div>    
</body>
</html>