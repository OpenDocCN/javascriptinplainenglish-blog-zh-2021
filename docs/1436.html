<html>
<head>
<title>Build Better React apps with Next.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Next.js构建更好的React应用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-better-react-apps-with-next-js-d7bc7b495006?source=collection_archive---------2-----------------------#2021-03-27">https://javascript.plainenglish.io/build-better-react-apps-with-next-js-d7bc7b495006?source=collection_archive---------2-----------------------#2021-03-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8708" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">包含示例的Next.js教程</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/a11f0497040ec437d5602bcc8cdbe496.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l36S_GAY9XvcBS6XJOHn_A.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Image Source: Author</figcaption></figure><p id="ba6d" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">Next.js是一个React前端框架，允许您通过额外的预渲染功能(如现成的服务器端渲染和静态生成)来优化性能和用户体验。Next.js被全栈开发人员用来构建反应式网站，因为它需要很好地理解客户端React和服务器端架构。</p><p id="61cb" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">今天，我们将帮助你开始使用Next.js，包括你在开始构建优化站点之前需要知道的主要概念。</p><p id="bed0" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">这是我们今天要讲的:</strong></p><ul class=""><li id="2765" class="lo lp in ku b kv kw ky kz lb lq lf lr lj ls ln lt lu lv lw bi translated">Next.js是什么？</li><li id="ed6e" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated">Next.js示例</li><li id="5434" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated">Next.js入门</li><li id="b9fe" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated">使用Next.js构建的项目</li></ul><h1 id="f78a" class="mc md in bd me mf mg mh mi mj mk ml mm jt mn ju mo jw mp jx mq jz mr ka ms mt bi translated">Next.js是什么？</h1><p id="a892" class="pw-post-body-paragraph ks kt in ku b kv mu jo kx ky mv jr la lb mw ld le lf mx lh li lj my ll lm ln ig bi translated">Next.js是一个开源的React前端框架，增加了额外的优化功能，如<strong class="ku io">服务器端呈现</strong> (SSR)和<strong class="ku io">静态站点生成</strong>。Next.js建立在React库的基础上，这意味着Next.js应用程序利用了React的优势，只是增加了额外的特性。</p><p id="c565" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">服务器端渲染。</strong> SSR允许服务器访问所有需要的数据，并一起处理JavaScript以呈现页面。然后，页面被完整地发送回浏览器并立即呈现。SSR允许在很短的时间内加载网页，并通过提高响应速度来改善用户体验。</p><p id="5129" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">搜索引擎优化(SEO)。使用SSR还能让你在SEO上获得优势，这有助于你的网站在搜索引擎结果页面上显示得更高。SSR使网站在SEO中排名更好，因为它们加载更快，更多的网站内容可以被SEO追踪器扫描到。</strong></p><p id="6c03" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><code class="fe mz na nb nc b"><strong class="ku io">&lt;head&gt;</strong></code> <strong class="ku io">标记。</strong> Next.js还允许你编辑一个站点的<code class="fe mz na nb nc b">&lt;head&gt;</code>标签，这在React中是做不到的。<code class="fe mz na nb nc b">&lt;head&gt;</code>标签是网页元数据的核心部分，有助于网站的SEO排名。</p><p id="1008" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">总的来说，Next.js被认为是React的一个功能更全面的版本，它保持了React框架的直观性。</p><h1 id="698f" class="mc md in bd me mf mg mh mi mj mk ml mm jt mn ju mo jw mp jx mq jz mr ka ms mt bi translated">为什么要用Next.js？</h1><p id="b862" class="pw-post-body-paragraph ks kt in ku b kv mu jo kx ky mv jr la lb mw ld le lf mx lh li lj my ll lm ln ig bi translated">Next.js的主要优势是内置的SSR支持，以提高性能和SEO。<br/>服务器端渲染通过<strong class="ku io">改变React应用程序的请求流</strong>来工作，使得除了客户端之外的所有组件都向服务器发送它们的信息。</p><p id="6518" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">有了服务器上的所有信息，它可以预先呈现页面的HTML。客户端可以向服务器发送一个请求并接收完整的HTML页面，而不是通过客户端渲染分别请求每个组件。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nd"><img src="../Images/882bced205817c6817e101203c114ad1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HhFRtkaqWKmQ1zcX.PNG"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Image Source: Author</figcaption></figure><p id="f2af" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">赞成者:</p><ul class=""><li id="5f62" class="lo lp in ku b kv kw ky kz lb lq lf lr lj ls ln lt lu lv lw bi translated">由于现成的服务器端渲染，Next.js应用程序的加载速度比React应用程序快得多。</li><li id="71e0" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated">支持静态站点导出功能。</li><li id="b910" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated">对于以前有React经验的人来说，可以快速学习。</li><li id="13e0" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated">页面的自动代码分割。</li><li id="6c40" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated">通过内置API路由轻松构建内部API并创建API端点。</li><li id="a46f" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated">内置对页面路由、CSS、JSX和TypeScript的支持。</li><li id="e9f1" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated">快速添加插件来定制Next.js以满足您特定页面的需求。</li><li id="b06a" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated">保留了React的优点，如直观的组件驱动创建、前端状态系统和高受欢迎度。</li></ul><p id="da46" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io"> Con </strong>:</p><p id="0863" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">Next.js唯一真正的缺点是它是一个固执己见的框架，这意味着它有一个特定的方法和工具集，希望你用来构建你的应用程序。</p><p id="70ea" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">然而，Next.js的偏好将非常适合大多数项目的范围。</p><blockquote class="ne nf ng"><p id="7e37" class="ks kt nh ku b kv kw jo kx ky kz jr la ni lc ld le nj lg lh li nk lk ll lm ln ig bi translated"><strong class="ku io"> <em class="in">趣闻</em> </strong> <em class="in"> : Educative最近在React上面切换到Next.js。如果您在过去几个月中使用过Educative，那么您已经享受到了Next.js的一些好处！</em></p></blockquote><h1 id="ee88" class="mc md in bd me mf mg mh mi mj mk ml mm jt mn ju mo jw mp jx mq jz mr ka ms mt bi translated">何时使用Next.js</h1><p id="de09" class="pw-post-body-paragraph ks kt in ku b kv mu jo kx ky mv jr la lb mw ld le lf mx lh li lj my ll lm ln ig bi translated">Next.js最适合制作一个<strong class="ku io">优化的登陆或主页</strong>以及任何其他依赖有机搜索流量的页面。这些页面将从Next.js的SEO改进中获得最大收益。</p><p id="01af" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">Next.js也比web应用更适合网站，因为SSR允许它具有相同的性能，而不管客户端使用的是什么设备。</p><p id="a64c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">对于创建需要身份验证的web应用程序或安全应用程序来说，Next.js不太理想，因为它们不利于服务器端呈现。</p><h1 id="a76f" class="mc md in bd me mf mg mh mi mj mk ml mm jt mn ju mo jw mp jx mq jz mr ka ms mt bi translated">Next.js示例</h1><p id="0150" class="pw-post-body-paragraph ks kt in ku b kv mu jo kx ky mv jr la lb mw ld le lf mx lh li lj my ll lm ln ig bi translated">让我们看一个完整的Next.js应用程序的例子，这样您就可以看到它是如何布局的。<br/>我们将使用新项目生成的默认Next.js应用程序。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/8789e39299a72b72939afc472eec7f06.png" data-original-src="https://miro.medium.com/v2/resize:fit:360/0*zKzJYCBO70iUkKFp.PNG"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Image Source: Author</figcaption></figure><p id="928d" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">代表该项目的单个页面的<code class="fe mz na nb nc b">index.js</code>文件如下所示:</p><pre class="kd ke kf kg gt nm nc nn no aw np bi"><span id="b835" class="nq md in nc b gy nr ns l nt nu">import Head from 'next/head'<br/>import styles from '../styles/Home.module.css'<br/>export default function Home() {<br/>  return (<br/>    &lt;div className={styles.container}&gt;<br/>      &lt;Head&gt;<br/>        &lt;title&gt;Create Next App&lt;/title&gt;<br/>        &lt;link rel="icon" href="/favicon.ico" /&gt;<br/>      &lt;/Head&gt;<br/>      &lt;main className={styles.main}&gt;<br/>        &lt;h1 className={styles.title}&gt;<br/>          Welcome to &lt;a href="https://nextjs.org"&gt;Next.js!&lt;/a&gt;<br/>        &lt;/h1&gt;<br/>        &lt;p className={styles.description}&gt;<br/>          Get started by editing{' '}<br/>          &lt;code className={styles.code}&gt;pages/index.js&lt;/code&gt;<br/>        &lt;/p&gt;<br/>        &lt;div className={styles.grid}&gt;<br/>          &lt;a href="https://nextjs.org/docs" className={styles.card}&gt;<br/>            &lt;h3&gt;Documentation &amp;rarr;&lt;/h3&gt;<br/>            &lt;p&gt;Find in-depth information about Next.js features and API.&lt;/p&gt;<br/>          &lt;/a&gt;<br/>          &lt;a href="https://nextjs.org/learn" className={styles.card}&gt;<br/>            &lt;h3&gt;Learn &amp;rarr;&lt;/h3&gt;<br/>            &lt;p&gt;Learn about Next.js in an interactive course with quizzes!&lt;/p&gt;<br/>          &lt;/a&gt;<br/>          &lt;a<br/>            href="https://github.com/vercel/next.js/tree/master/examples"<br/>            className={styles.card}<br/>          &gt;<br/>            &lt;h3&gt;Examples &amp;rarr;&lt;/h3&gt;<br/>            &lt;p&gt;Discover and deploy boilerplate example Next.js projects.&lt;/p&gt;<br/>          &lt;/a&gt;<br/>          &lt;a<br/>            href="https://vercel.com/new?utm_source=create-next-app&amp;utm_medium=default-template&amp;utm_campaign=create-next-app"<br/>            className={styles.card}<br/>          &gt;<br/>            &lt;h3&gt;Deploy &amp;rarr;&lt;/h3&gt;<br/>            &lt;p&gt;<br/>              Instantly deploy your Next.js site to a public URL with Vercel.<br/>            &lt;/p&gt;<br/>          &lt;/a&gt;<br/>        &lt;/div&gt;<br/>      &lt;/main&gt;<br/>      &lt;footer className={styles.footer}&gt;<br/>        &lt;a<br/>          href="https://vercel.com?utm_source=create-next-app&amp;utm_medium=default-template&amp;utm_campaign=create-next-app"<br/>          target="_blank"<br/>          rel="noopener noreferrer"<br/>        &gt;<br/>          Powered by{' '}<br/>          &lt;img src="/vercel.svg" alt="Vercel Logo" className={styles.logo} /&gt;<br/>        &lt;/a&gt;<br/>      &lt;/footer&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="b69d" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><code class="fe mz na nb nc b">index</code>文件是这个应用程序的核心，因为它只包含这一个页面。真正的网站会在<code class="fe mz na nb nc b">pages</code>文件夹下包含多个页面，每个页面代表一个不同的网页。</p><h1 id="0447" class="mc md in bd me mf mg mh mi mj mk ml mm jt mn ju mo jw mp jx mq jz mr ka ms mt bi translated">Next.js入门</h1><p id="1057" class="pw-post-body-paragraph ks kt in ku b kv mu jo kx ky mv jr la lb mw ld le lf mx lh li lj my ll lm ln ig bi translated">现在让我们从一些实际操作的Next.js代码开始。我们将介绍在默认应用程序中可见的5个基本概念，您将需要这些概念来创建自己的Next.js项目。</p><h1 id="1467" class="mc md in bd me mf mg mh mi mj mk ml mm jt mn ju mo jw mp jx mq jz mr ka ms mt bi translated">要求和环境</h1><p id="909b" class="pw-post-body-paragraph ks kt in ku b kv mu jo kx ky mv jr la lb mw ld le lf mx lh li lj my ll lm ln ig bi translated">在我们开始之前，让我们设置好您需要的一切。在下载Next.js之前，你需要Node.js、<code class="fe mz na nb nc b">npm</code>和<code class="fe mz na nb nc b">npx</code></p><p id="a538" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">你可以在他们的官方网站上安装Node.js。要确认下载正确，请在命令提示符下输入<code class="fe mz na nb nc b">node -v</code>。通常，<code class="fe mz na nb nc b">npm</code>和<code class="fe mz na nb nc b">npx</code>会作为Node.js安装的一部分出现。</p><blockquote class="ne nf ng"><p id="874d" class="ks kt nh ku b kv kw jo kx ky kz jr la ni lc ld le nj lg lh li nk lk ll lm ln ig bi translated"><em class="in">确认已经正确安装，进入</em> <code class="fe mz na nb nc b"><em class="in">npm -v</em></code> <em class="in">和</em> <code class="fe mz na nb nc b"><em class="in">npx -v</em></code> <em class="in">命令提示符。每个人将分别返回他们的版本。</em></p></blockquote><p id="5e6c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">如果这三个工具都安装正确，您可以使用Node安装Next.js。<br/>在命令提示符下输入<code class="fe mz na nb nc b">npm install next react react-dom</code>。</p><p id="84c1" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">一旦成功安装，您将收到以下带有当前“下一步”和“反应”版本的消息:</p><pre class="kd ke kf kg gt nm nc nn no aw np bi"><span id="ddca" class="nq md in nc b gy nr ns l nt nu">+ react@16.13.1<br/>+ react-dom@16.13.1<br/>+ next@9.4.4<br/>added 831 packages from 323 contributors and audited 834 packages in 172.989s</span></pre><h1 id="4d51" class="mc md in bd me mf mg mh mi mj mk ml mm jt mn ju mo jw mp jx mq jz mr ka ms mt bi translated">创建下一个. js应用程序</h1><p id="746b" class="pw-post-body-paragraph ks kt in ku b kv mu jo kx ky mv jr la lb mw ld le lf mx lh li lj my ll lm ln ig bi translated">您可以使用<code class="fe mz na nb nc b">create-next-app</code>命令或手动创建新的Next.js应用程序。<br/>使用<code class="fe mz na nb nc b">create-next-app</code>更简单，您只需要在命令提示符下输入<code class="fe mz na nb nc b">npm create-next-app &lt;app-name&gt;</code>。</p><p id="1f54" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">或者，您可以打开<code class="fe mz na nb nc b">package.json</code>文件，输入以下脚本:</p><pre class="kd ke kf kg gt nm nc nn no aw np bi"><span id="9ddd" class="nq md in nc b gy nr ns l nt nu">"scripts": {<br/>  "dev": "next dev",<br/>  "start": "next start",<br/>  "build": "next build"<br/>}</span></pre><p id="6405" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这允许您以不同的模式启动新的应用程序:</p><ul class=""><li id="7921" class="lo lp in ku b kv kw ky kz lb lq lf lr lj ls ln lt lu lv lw bi translated"><code class="fe mz na nb nc b">dev</code>在开发模式下启动Next.js。</li><li id="8afa" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated"><code class="fe mz na nb nc b">start</code>在生产模式下启动Next.js。</li><li id="7108" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated"><code class="fe mz na nb nc b">build</code>为生产构建您的Next.js应用程序。无论您选择哪种方法，这都将生成我们前面看到的基本的Next.js应用程序模板。</li></ul><p id="1d0c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">如果您使用<code class="fe mz na nb nc b">next dev</code>运行该应用程序，您会在<code class="fe mz na nb nc b"><a class="ae nv" href="http://localhost:3000." rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a></code> <a class="ae nv" href="http://localhost:3000." rel="noopener ugc nofollow" target="_blank">上看到默认的Next.js页面。</a></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nd"><img src="../Images/41a136121aab02c97886c3f51b021601.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lD-DW3zATeZGyNdI.PNG"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Image Source: Author</figcaption></figure><h1 id="1b8d" class="mc md in bd me mf mg mh mi mj mk ml mm jt mn ju mo jw mp jx mq jz mr ka ms mt bi translated">Next.js文件夹结构</h1><p id="2399" class="pw-post-body-paragraph ks kt in ku b kv mu jo kx ky mv jr la lb mw ld le lf mx lh li lj my ll lm ln ig bi translated">Next.js使用极简主义的文件系统来避免混乱的项目文件，这意味着起点只包含运行应用程序所需的最少部分。了解这个文件夹结构将有助于您对其进行操作，以适合您自己的项目。</p><p id="85d2" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">每个Next.js项目从3个文件夹开始:<code class="fe mz na nb nc b">pages</code>、<code class="fe mz na nb nc b">public</code>和<code class="fe mz na nb nc b">styles</code>。</p><p id="921c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">下面是一个新的Next.js项目的例子:</p><pre class="kd ke kf kg gt nm nc nn no aw np bi"><span id="6c10" class="nq md in nc b gy nr ns l nt nu">// other files and folders, .gitignore, package.json, next.config.js...<br/>- pages<br/>  - api<br/>    - hello.js<br/>  - _app.js<br/>  - index.js<br/>- public<br/>  - favicon.ico<br/>  - vercel.svg<br/>- styles<br/>  - globals.css<br/>  - Home.module.css</span></pre><p id="c904" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">页</strong></p><p id="2be2" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">pages文件夹包含您的页面文件。每个页面文件都是一个反应组件，具有根据文件名自动创建的唯一路径。例如，Next.js页面<code class="fe mz na nb nc b">hello.js</code>会出现在<code class="fe mz na nb nc b">pages/hello.js</code>。</p><p id="34ba" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">有些页面，像上面的<code class="fe mz na nb nc b">_app.js</code>一样，在其名称中包含下划线前缀，以将其标记为自定义组件。Next.js使用这些组件与其他组件一起工作。</p><p id="6845" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">比如<code class="fe mz na nb nc b">_app.js</code>是用来启动每个页面的，不作为自己的网页。</p><p id="0f29" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">公开</strong></p><p id="d40a" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">此文件夹用于静态文件服务，这意味着这些文件不会更改，只能被引用。该文件夹通常包含网站使用的图像或图标，以及内部信息，如谷歌网站验证。</p><p id="6a84" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在我们的<code class="fe mz na nb nc b">public</code>文件夹中，我们有<code class="fe mz na nb nc b">favicon.ico</code>和<code class="fe mz na nb nc b">vercel.svg</code>，前者是在浏览器标签上使用的小图标，后者显示平台公司的图标。</p><blockquote class="ne nf ng"><p id="87d0" class="ks kt nh ku b kv kw jo kx ky kz jr la ni lc ld le nj lg lh li nk lk ll lm ln ig bi translated"><strong class="ku io"> <em class="in"> Vercel </em> </strong> <em class="in">和</em><strong class="ku io"><em class="in">Netlify</em></strong><em class="in">是Next.js </em>最受欢迎的托管和无服务器服务</p></blockquote><p id="8cd3" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">款式</strong></p><p id="1bb8" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这个文件夹包含我们的CSS样式表，它决定了所有页面元素的外观。<code class="fe mz na nb nc b">globals.css</code>文件设定了项目中所有页面将使用的通用标准。</p><p id="3d88" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">您还可以使用以后缀<code class="fe mz na nb nc b">module</code>、<code class="fe mz na nb nc b">&lt;componentName&gt;.module.css</code>命名的模块文件来添加特定于组件的样式。</p><h1 id="f5b0" class="mc md in bd me mf mg mh mi mj mk ml mm jt mn ju mo jw mp jx mq jz mr ka ms mt bi translated">应用程序中的路线/导航</h1><p id="3bcc" class="pw-post-body-paragraph ks kt in ku b kv mu jo kx ky mv jr la lb mw ld le lf mx lh li lj my ll lm ln ig bi translated">导航是指用户可以通过Next.js网站导航的方式。路线和链接是您可以用来定义站点导航的两种主要方法。</p><p id="8d7c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">由于每个组件的内置路由定义，Next.js中的路由是可访问的。要优化您的应用程序路由，了解索引、嵌套和动态路由非常重要。</p><p id="c0d0" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">索引</strong></p><p id="ff6e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">像<code class="fe mz na nb nc b">index.js</code>这样的索引文件被路由到应用程序的起始点<code class="fe mz na nb nc b">/</code>，而不是<code class="fe mz na nb nc b">/index</code>。您可以通过创建多个<code class="fe mz na nb nc b">index</code>文件来利用这一点，这些文件作为站点内不同导航路径的登录页面或起始点。</p><pre class="kd ke kf kg gt nm nc nn no aw np bi"><span id="8a7d" class="nq md in nc b gy nr ns l nt nu">- pages<br/>  - index.js # found at `/`<br/>  - users<br/>    - index.js # found at `/users`<br/>    - account.js # `/users/account`</span></pre><p id="6b7e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">例如，仅在<code class="fe mz na nb nc b">pages</code>下的<code class="fe mz na nb nc b">index.js</code>页面是在没有输入额外路线的情况下到达的站点的主页。<code class="fe mz na nb nc b">users</code>下的第二个<code class="fe mz na nb nc b">index.js</code>是<code class="fe mz na nb nc b">users</code>路径的登陆页面，进入<code class="fe mz na nb nc b">&lt;siteName&gt;/users</code>即可到达。</p><p id="5286" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">嵌套</strong></p><p id="f1b5" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">嵌套路由是只能通过共享父路由访问的路由，如<code class="fe mz na nb nc b">/users/account</code>。您可以将嵌套路由视为计算机上的嵌套文件，因为您必须浏览所有更高的组件才能到达嵌套组件。</p><p id="4148" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">动态给药途径</strong></p><p id="dc45" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我们还可以在路由中包含参数，以允许可变行为。动态页面用方括号定义。这个功能本质上允许我们像传递函数一样将信息传递给页面。</p><p id="7a8d" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">例如，我们可以改造我们的<code class="fe mz na nb nc b">user</code>组件，让每个用户都有自己的账户页面。</p><pre class="kd ke kf kg gt nm nc nn no aw np bi"><span id="bca6" class="nq md in nc b gy nr ns l nt nu"># ...<br/>  - users<br/>    - index.js<br/>    - [account.js] # `/users/[accountName]`</span></pre><p id="9587" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">通过这种设置，用户可以在URL中输入他们的账户名称，并立即进入他们的账户信息页面，而不是从<code class="fe mz na nb nc b">users</code>开始。换句话说，我可以输入我的帐户名<code class="fe mz na nb nc b">/users/educative</code>，进入一个动态页面，其中填充了与输入的帐户名相关的信息。</p><p id="2c0d" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><code class="fe mz na nb nc b">account.js</code>文件需要包含条件语句，这些语句根据传递的参数告诉它要做什么。</p><pre class="kd ke kf kg gt nm nc nn no aw np bi"><span id="1f3e" class="nq md in nc b gy nr ns l nt nu">if(id == 'one'){<br/>      return postOne;<br/>   }else if(id == 'two'){<br/>      return postTwo;<br/>   }</span></pre><p id="23f9" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">连接</strong></p><p id="e2d1" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">您也可以引入客户端点击链接，允许用户在没有网址栏的情况下浏览网站。“链接反应”组件是Next.js中链接的关键。</p><p id="b932" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">链接组件采用一个填充了目标组件的文件路径的<code class="fe mz na nb nc b">href</code>参数。这将在当前页面和在输入的路线上找到的页面之间创建一个链接。例如，如果您将<code class="fe mz na nb nc b">&lt;Link href= "/users/"&gt;</code>添加到<code class="fe mz na nb nc b">hello.js</code>中，您将创建一个从<code class="fe mz na nb nc b">hello.js</code>到<code class="fe mz na nb nc b">users</code>登录页面的链接。</p><pre class="kd ke kf kg gt nm nc nn no aw np bi"><span id="4538" class="nq md in nc b gy nr ns l nt nu">import Link from 'next/link'<br/>import Head from 'next/head'<br/>function HomePage(props) {<br/>   return (<br/>      &lt;&gt;<br/>         &lt;Head&gt;<br/>            &lt;title&gt;Welcome to Next.js!&lt;/title&gt;<br/>         &lt;/Head&gt;<br/>         &lt;div&gt;Welcome to Next.js!&lt;/div&gt;<br/>         &lt;Link href="/users"&gt;&gt; &lt;a&gt;Users&lt;/a&gt;&lt;/Link&gt;<br/>         &lt;br/&gt;<br/>         &lt;img src="/logo.png" alt="EducativeLogo" /&gt;<br/>      &lt;/&gt;        <br/>   )<br/>}<br/>export async function getServerSideProps(context) {<br/>   const res = await fetch('https://api.github.com/repos/vercel/next.js')<br/>   const json = await res.json()<br/>   return {<br/>      props: { stars: json.stargazers_count }<br/>   }<br/>}<br/>export default HomePage</span></pre><h1 id="45c8" class="mc md in bd me mf mg mh mi mj mk ml mm jt mn ju mo jw mp jx mq jz mr ka ms mt bi translated">Next.js数据获取</h1><p id="3682" class="pw-post-body-paragraph ks kt in ku b kv mu jo kx ky mv jr la lb mw ld le lf mx lh li lj my ll lm ln ig bi translated">当Next.js从服务器请求数据以生成页面时，就会进行数据提取。选择正确的预渲染方法和提取功能对于制作用户友好的应用程序至关重要</p><p id="f836" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">该页面可以通过SSR生成，即服务器在接收到请求时呈现整个页面，也可以通过静态生成来生成，即缓存页面的先前呈现，以便可以立即传递。</p><ul class=""><li id="b1cd" class="lo lp in ku b kv kw ky kz lb lq lf lr lj ls ln lt lu lv lw bi translated"><strong class="ku io"> SSR </strong>:更适合交互性强或快速变化的页面，这些页面不能静态生成。</li><li id="6748" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated"><strong class="ku io"> SG </strong>:更适合纯文本页面或不变的页面，因为静态渲染总是能够满足用户的需求。</li></ul><p id="b74a" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">您可以使用一种或另一种获取方法，或者您可以实现一个混合系统。<br/> Next.js有3个异步数据获取函数，作为传统React方法的集中获取替代。这些功能是:</p><p id="c0a2" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><code class="fe mz na nb nc b">getStaticProps</code>:与SG配合使用，从外部数据中提取页面内容。</p><pre class="kd ke kf kg gt nm nc nn no aw np bi"><span id="06e0" class="nq md in nc b gy nr ns l nt nu">export async function getStaticProps() {<br/>  // This is a real endpoint<br/>  const res = await fetch('https://sampleapis.com/fakebank/api/Accounts');<br/>  const accounts = await res.json();<br/>  return {<br/>    props: {<br/>      accounts: accounts.slice(0, 10),<br/>    },<br/>  };<br/>}</span></pre><p id="de74" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><code class="fe mz na nb nc b">getStaticPaths</code>:与SG配合使用，从外部数据中提取页面路径。</p><pre class="kd ke kf kg gt nm nc nn no aw np bi"><span id="852c" class="nq md in nc b gy nr ns l nt nu">export async function getStaticPaths() {<br/>  // Fetch the list of states<br/>  const res = await fetch("https://sampleapis.com/the-states/api/the-states");<br/>  const states = await res.json();<br/>  // Create a path from their ids: `/states/1`, `/states/2` ...<br/>  const paths = states.map((state) =&gt; `/states/${state.id}`);<br/>  // Return paths, fallback is necessary, false means unrecognized paths will<br/>  // render a 404 page<br/>  return { paths, fallback: false };<br/>}</span></pre><p id="9995" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><code class="fe mz na nb nc b">getServerSideProps</code> -与SSR一起使用，在构建时提取预渲染页面。</p><pre class="kd ke kf kg gt nm nc nn no aw np bi"><span id="d7ba" class="nq md in nc b gy nr ns l nt nu">export async function getServerSideProps(context) {<br/>   const res = await fetch('https://api.github.com/repos/vercel/next.js')<br/>   const json = await res.json()<br/>   return {<br/>      props: { stars: json.stargazers_count }<br/>   }<br/>}<br/>export default HomePage</span></pre><h1 id="1952" class="mc md in bd me mf mg mh mi mj mk ml mm jt mn ju mo jw mp jx mq jz mr ka ms mt bi translated">使用Next.js构建的项目</h1><p id="a10a" class="pw-post-body-paragraph ks kt in ku b kv mu jo kx ky mv jr la lb mw ld le lf mx lh li lj my ll lm ln ig bi translated">既然您已经掌握了Next.js的基础知识，是时候投入到您自己的项目中了。以下是一些初学者项目想法，可以帮助您开始:</p><ul class=""><li id="472b" class="lo lp in ku b kv kw ky kz lb lq lf lr lj ls ln lt lu lv lw bi translated"><strong class="ku io">练习使用外部数据:</strong> Giphy搜索应用程序，从外部数据库提取结果</li><li id="f9be" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated"><strong class="ku io">练习静态生成:</strong>显示每个国家的国旗、人口和地理面积的国家信息网站</li><li id="e421" class="lo lp in ku b kv lx ky ly lb lz lf ma lj mb ln lt lu lv lw bi translated"><strong class="ku io">练习导航:</strong>类似Instagram的社交媒体网页，在账户页面上显示用户的图片，并对每张图片进行点赞/评论</li></ul><p id="5d83" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="nh">快乐学习！</em></p></div></div>    
</body>
</html>