<html>
<head>
<title>How to Sort JavaScript Object Property by Values?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何按值对JavaScript对象属性进行排序？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-sort-javascript-object-property-by-values-89533379423b?source=collection_archive---------8-----------------------#2021-11-23">https://javascript.plainenglish.io/how-to-sort-javascript-object-property-by-values-89533379423b?source=collection_archive---------8-----------------------#2021-11-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/74dba95fdfa8efe88f3e0b692b1b8eec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wAwh_TKi81tx1yNj"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jessbaileydesigns?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jess Bailey</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="01eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们需要根据值对JavaScript对象进行排序。</p><p id="8738" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究在JavaScript程序中实现这一点的各种方法。</p><h1 id="94e6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用<code class="fe lz ma mb mc b">Object.entries and Array Methods</code>按值对JavaScript对象属性进行排序</h1><p id="a895" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用内置在<code class="fe lz ma mb mc b">Object</code>构造函数中的JavaScript方法，以数组的形式获取对象的键和值。</p><p id="6939" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用数组方法重新排列它们。</p><p id="b1b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="0ef1" class="mq lc iq mc b gy mr ms l mt mu">const ages = {<br/>  james: 10,<br/>  jane: 9,<br/>  bob: 30<br/>}</span><span id="cb18" class="mq lc iq mc b gy mv ms l mt mu">const sorted = Object.entries(ages)<br/>  .sort(([, v1], [, v2]) =&gt; v1 - v2)<br/>  .reduce((obj, [k, v]) =&gt; ({<br/>    ...obj,<br/>    [k]: v<br/>  }), {})<br/>console.log(sorted)</span></pre><p id="d096" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe lz ma mb mc b">Object.entries</code>方法从<code class="fe lz ma mb mc b">ages</code>对象中获取一个键值对数组。</p><p id="bd99" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用回调函数调用<code class="fe lz ma mb mc b">sort</code>，对从<code class="fe lz ma mb mc b">Object.entries</code>返回的数组中析构的值进行排序。</p><p id="140f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用回调函数调用<code class="fe lz ma mb mc b">reduce</code>，将<code class="fe lz ma mb mc b">obj</code>对象与<code class="fe lz ma mb mc b">k</code>和<code class="fe lz ma mb mc b">v</code>键值对合并。</p><p id="2405" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个参数应该设置为一个对象，这样我们就可以开始进行对象扩展。</p><p id="06cf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe lz ma mb mc b">sorted</code>应该是:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="0078" class="mq lc iq mc b gy mr ms l mt mu">{jane: 9, james: 10, bob: 30}</span></pre><p id="2aa3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">除了使用<code class="fe lz ma mb mc b">reduce</code>，我们还可以使用<code class="fe lz ma mb mc b">Object.fromEntries</code>将排序后的数组转换回对象。</p><p id="bb24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="242d" class="mq lc iq mc b gy mr ms l mt mu">const ages = {<br/>  james: 10,<br/>  jane: 9,<br/>  bob: 30<br/>}</span><span id="ea80" class="mq lc iq mc b gy mv ms l mt mu">const sortedArr = Object.entries(ages)<br/>  .sort(([, v1], [, v2]) =&gt; v1 - v2)<br/>const sorted = Object.fromEntries(sortedArr)<br/>console.log(sorted)</span></pre><p id="742b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">Object.fromEntries</code>接受一个由键值对组成的数组。这些键作为属性名放入对象中。</p><p id="9f7e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且这些值是它们对应的值。</p><p id="a67f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们应该得到与之前相同的结果，但是以更短的方式书写。</p><h1 id="439c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">Object.keys</code></h1><p id="9db5" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">根据属性值对对象属性进行排序的另一种方法是从<code class="fe lz ma mb mc b">Object.keys</code>方法中获取键。</p><p id="613d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用同样的方法排序。</p><p id="266c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="2cd9" class="mq lc iq mc b gy mr ms l mt mu">const ages = {<br/>  james: 10,<br/>  jane: 9,<br/>  bob: 30<br/>}</span><span id="8930" class="mq lc iq mc b gy mv ms l mt mu">const sorted = Object.keys(ages)<br/>  .sort((key1, key2) =&gt; ages[key1] - ages[key2])<br/>  .reduce((obj, key) =&gt; ({<br/>    ...obj,<br/>    [key]: ages[key]<br/>  }), {})<br/>console.log(sorted)</span></pre><p id="9582" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">Object.keys</code>只返回<code class="fe lz ma mb mc b">ages</code>对象的属性名字符串，所以在<code class="fe lz ma mb mc b">sort</code>回调中，我们必须从<code class="fe lz ma mb mc b">ages</code>对象获取值来进行排序。</p><p id="e154" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们必须在<code class="fe lz ma mb mc b">reduce</code>回调中做同样的事情，从<code class="fe lz ma mb mc b">ages</code>获取对象值。</p><p id="ba56" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，<code class="fe lz ma mb mc b">sorted</code>应该和上一个例子一样。</p><h1 id="46ff" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="dccb" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用原生JavaScript对象和数组方法，让我们根据属性值对属性进行排序。</p><p id="e50e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容看</em> <a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mw">说白了. io </em> </a> <em class="mw">。在这里注册我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mw">免费周报</em> </a> <em class="mw">。</em></p></div></div>    
</body>
</html>