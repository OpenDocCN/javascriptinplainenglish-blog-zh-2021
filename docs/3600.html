<html>
<head>
<title>How to Rotate a String in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中旋转字符串</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-rotate-a-string-in-javascript-a3bfd4da28e?source=collection_archive---------4-----------------------#2021-07-20">https://javascript.plainenglish.io/how-to-rotate-a-string-in-javascript-a3bfd4da28e?source=collection_archive---------4-----------------------#2021-07-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c974" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">定义算法，使用切片字符串方法，模操作符等等。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/65969e374626ac77cc570cdd7e4de045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3dpNRKGWKCUlDcEVILVYpg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@mikael_k?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Mikael Kristenson</a> on <a class="ae kv" href="https://unsplash.com/s/photos/rotate-tool?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8882" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文描述了如何编写一个简单的字符串旋转算法。它还处理特殊字符采用两个代码单元的情况。</p><p id="cfed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要了解如何计算新字符串，请查看几个示例。</p><ul class=""><li id="2a1a" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">将字符串<code class="fe mb mc md me b">ABCDE</code>向左旋转<code class="fe mb mc md me b">1</code>字符导致<code class="fe mb mc md me b">BCDEA</code></li><li id="922e" class="ls lt iq ky b kz mf lc mg lf mh lj mi ln mj lr lx ly lz ma bi translated">尝试将同一文本旋转2个字符会导致<code class="fe mb mc md me b">CDEAB</code>。</li></ul><p id="603b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重要的是要注意当试图旋转的字符数大于字符串大小时会发生什么。例如，通过<code class="fe mb mc md me b">6</code>字符旋转得到<code class="fe mb mc md me b">BCDEA</code>，通过<code class="fe mb mc md me b">7</code>字符旋转得到<code class="fe mb mc md me b">CDEAB</code></p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="c702" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">向左旋转</h1><p id="c7ab" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">现在让我们尝试实现这样一个算法，并将其封装在一个函数中。</p><pre class="kg kh ki kj gt no me np nq aw nr bi"><span id="b9f1" class="ns ms iq me b gy nt nu l nv nw">function rotate(text, noOfChars = 0){<br/>  return text;<br/>}</span></pre><p id="3ee6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们需要检测要旋转的字符数。当<code class="fe mb mc md me b">noOfChars</code>小于字符串的大小时，我们得到这个值，但是当文本的大小小于<code class="fe mb mc md me b">noOfChars</code>时，我们需要检测这个数字。</p><p id="2022" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您查看结果时，将一串<code class="fe mb mc md me b">5</code>字符旋转<code class="fe mb mc md me b">6</code>字符与旋转<code class="fe mb mc md me b">1</code>字符是一样的。按<code class="fe mb mc md me b">7</code>字符旋转与按<code class="fe mb mc md me b">2</code>字符旋转相同。要旋转的字符数实际上是给定数字和字符串大小之间的模。</p><pre class="kg kh ki kj gt no me np nq aw nr bi"><span id="76bb" class="ns ms iq me b gy nt nu l nv nw">6 % 5 === 1<br/>7 % 5 === 2</span></pre><p id="a210" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您检查可用于提取部分字符串的方法时，您可以在<code class="fe mb mc md me b">subtring</code>、<code class="fe mb mc md me b">substr</code>和<code class="fe mb mc md me b">slice</code>之间进行选择。我会选择<code class="fe mb mc md me b">slice</code>，但同样的行为可以在他们中的任何一个身上实现。</p><p id="db3b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mb mc md me b">slice(start, end)</code>方法返回字符串的一部分，从给定的<code class="fe mb mc md me b">start</code>索引开始，在<code class="fe mb mc md me b">end</code>索引之前结束。从<code class="fe mb mc md me b">0</code>索引开始提取部分字符串时，指定的字符数基本上就是结束索引。</p><pre class="kg kh ki kj gt no me np nq aw nr bi"><span id="e9f2" class="ns ms iq me b gy nt nu l nv nw">"ABCDE".slice(0, 1)<br/>//'A'</span><span id="33e3" class="ns ms iq me b gy nx nu l nv nw">"ABCDE".slice(0, 2)<br/>//'AB'</span></pre><p id="d64a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二个参数是可选的。未指定时，<code class="fe mb mc md me b">slice</code>提取所有字符，直到字符串结束。</p><pre class="kg kh ki kj gt no me np nq aw nr bi"><span id="19e5" class="ns ms iq me b gy nt nu l nv nw">"ABCDE".slice(1)<br/>//'BCDE'</span><span id="8337" class="ns ms iq me b gy nx nu l nv nw">"ABCDE".slice(2)<br/>//'CDE'</span></pre><p id="66d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我们算法的样子。</p><pre class="kg kh ki kj gt no me np nq aw nr bi"><span id="9ddc" class="ns ms iq me b gy nt nu l nv nw">function rotate(text, noOfChars = 0){<br/>  const n = noOfChars % text.length;<br/>  return text.slice(n) + text.slice(0, n); <br/>}</span><span id="4b3b" class="ns ms iq me b gy nx nu l nv nw">rotate("ABCDE", 1)<br/>//BCDEA</span><span id="f166" class="ns ms iq me b gy nx nu l nv nw">rotate("ABCDE", 2)<br/>//CDEAB</span></pre><p id="37cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们使用模板字面语法来写，也许会更清楚。</p><pre class="kg kh ki kj gt no me np nq aw nr bi"><span id="27c2" class="ns ms iq me b gy nt nu l nv nw">function rotate(text, noOfChars = 0){<br/>  const n = noOfChars % text.length;<br/>  const part1 = text.slice(0, n);<br/>  const part2 = text.slice(n);<br/>  return `${part2}${part1}`;<br/>}</span></pre></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="588e" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">向右旋转</h1><p id="4f32" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">将文本<code class="fe mb mc md me b">ABCDE</code>向右旋转<code class="fe mb mc md me b">1</code>字符导致<code class="fe mb mc md me b">EABCD</code></p><p id="d610" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由<code class="fe mb mc md me b">2</code>人物旋转出<code class="fe mb mc md me b">DEABC</code>。</p><p id="cbd6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">按<code class="fe mb mc md me b">3</code>字符旋转导致<code class="fe mb mc md me b">CDEAB</code>。</p><p id="068c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过<code class="fe mb mc md me b">4</code>字符旋转给出<code class="fe mb mc md me b">BCDEA</code>。</p><p id="2eeb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">按<code class="fe mb mc md me b">5</code>字符旋转没有改变，它给出的结果与输入文本<code class="fe mb mc md me b">ABCDE</code>中的结果相同。</p><p id="8fc6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">按<code class="fe mb mc md me b">6</code>字符旋转与按<code class="fe mb mc md me b">1</code>字符旋转相同。它给出了<code class="fe mb mc md me b">EABCD</code>。</p><p id="b43c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，向右旋转文本与向左旋转文本效果相同，但字符数不同。</p><ul class=""><li id="3dc1" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">用<code class="fe mb mc md me b">1</code>向左旋转与用<code class="fe mb mc md me b">4</code>向右旋转的结果相同。</li><li id="aebd" class="ls lt iq ky b kz mf lc mg lf mh lj mi ln mj lr lx ly lz ma bi translated">通过<code class="fe mb mc md me b">2</code>字符向左旋转与通过<code class="fe mb mc md me b">3</code>字符向右旋转相同。</li><li id="f6e9" class="ls lt iq ky b kz mf lc mg lf mh lj mi ln mj lr lx ly lz ma bi translated">用<code class="fe mb mc md me b">3</code>向左旋转返回<code class="fe mb mc md me b">DEABC</code>，与用<code class="fe mb mc md me b">2</code>向右旋转相同。</li><li id="83d3" class="ls lt iq ky b kz mf lc mg lf mh lj mi ln mj lr lx ly lz ma bi translated">用<code class="fe mb mc md me b">4</code>向左旋转产生<code class="fe mb mc md me b">EABCD</code>，用<code class="fe mb mc md me b">1</code>向右旋转也一样</li></ul><p id="884c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过<code class="fe mb mc md me b">n</code>字符向右旋转与通过<code class="fe mb mc md me b">textSize — n</code>字符向左旋转相同。</p><pre class="kg kh ki kj gt no me np nq aw nr bi"><span id="65fc" class="ns ms iq me b gy nt nu l nv nw">function rotateRight(text, noOfChars = 0){<br/>  const n = noOfChars % text.length;<br/>  return rotate(text, text.length - n);<br/>}</span><span id="1140" class="ns ms iq me b gy nx nu l nv nw">rotateRight("ABCDE", 1)<br/>//EABCD</span><span id="86dc" class="ns ms iq me b gy nx nu l nv nw">rotateRight("ABCDE", 2)<br/>//DEABC</span></pre></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="3356" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">处理采用两个代码单元的字符</h1><p id="9cb5" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">遗憾的是，之前的解决方案在处理像表情符号这样采用两个代码单元的角色时不起作用。检查下一个电话。</p><pre class="kg kh ki kj gt no me np nq aw nr bi"><span id="1982" class="ns ms iq me b gy nt nu l nv nw">rotate("😐ABC", 1)<br/>//'�ABC�'</span></pre><p id="96c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一种可能的解决方案是将字符串转换为字符数组，旋转该数组，然后将结果转换回新字符串。这是下一个函数要做的。</p><pre class="kg kh ki kj gt no me np nq aw nr bi"><span id="8c02" class="ns ms iq me b gy nt nu l nv nw">function rotate(text, noOfChars = 0){<br/>  const chars = Array.from(text);<br/>  const n = noOfChars % chars.length;<br/>  const newArr = chars.slice(n).concat(chars.slice(0, n));<br/>  return newArr.join("");<br/>}</span><span id="e72a" class="ns ms iq me b gy nx nu l nv nw">rotate("😐ABC", 1)<br/>//'ABC😐'</span></pre><p id="d827" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mb mc md me b">Array.from</code>实用程序可以将一个字符串转换成一个字符数组。</p><p id="3be5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数组方法与字符串方法的工作原理相似。它将数组的部分内容提取到新的中，该新的包含给定开始和结束索引之间的元素。</p><p id="d36c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">array方法将两个数组连接成一个新的数组，这个新数组按顺序包含两个数组中的元素。</p><p id="217b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用空字符串调用的<code class="fe mb mc md me b">join</code>数组方法将新的字符数组转换回新的字符串。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="9950" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">关键注意事项</h1><ul class=""><li id="195e" class="ls lt iq ky b kz nj lc nk lf ny lj nz ln oa lr lx ly lz ma bi translated"><code class="fe mb mc md me b">slice</code>方法返回一个新字符串，从给定的起始索引开始，在结束索引之前结束。</li><li id="f652" class="ls lt iq ky b kz mf lc mg lf mh lj mi ln mj lr lx ly lz ma bi translated">当我们需要旋转一个字符串，旋转的次数大于字符数时，我们需要用它除以文本的大小，并使用余数。这可以通过模运算符(<code class="fe mb mc md me b">%</code>)来完成。</li><li id="95cb" class="ls lt iq ky b kz mf lc mg lf mh lj mi ln mj lr lx ly lz ma bi translated">通过<code class="fe mb mc md me b">n</code>字符向右旋转字符串与通过<code class="fe mb mc md me b">size — n</code>字符向左旋转相同。</li><li id="030a" class="ls lt iq ky b kz mf lc mg lf mh lj mi ln mj lr lx ly lz ma bi translated">当处理包含两个代码单元的字符的字符串时，我们可能需要将其转换为字符数组，处理该数组，然后将结果转换回字符串。</li></ul></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="26b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读。</p><p id="7d21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你也可以查看<a class="ae kv" href="https://medium.com/programming-essentials/how-to-find-elements-in-large-arrays-6f337a00b216" rel="noopener">如何在大数组中寻找元素</a>。</p><p id="1784" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ob">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ob">plain English . io</em></strong></a></p></div></div>    
</body>
</html>