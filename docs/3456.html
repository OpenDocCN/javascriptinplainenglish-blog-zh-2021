<html>
<head>
<title>JavaScript Date Object Set Methods</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript日期对象集方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/basics-of-javascript-the-date-object-part-2-set-methods-cbd4eaea6015?source=collection_archive---------21-----------------------#2021-07-12">https://javascript.plainenglish.io/basics-of-javascript-the-date-object-part-2-set-methods-cbd4eaea6015?source=collection_archive---------21-----------------------#2021-07-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="2bfc" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">JavaScript基础知识—JavaScript第2部分:设置方法中的日期对象</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/35c6855ff8e8ae07c1bcd6ec036bfe90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0LUrs6hz7KUiKd0qfIJ3lQ.png"/></div></div></figure><p id="8194" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这篇文章是我的免费YouTube系列关于网络开发基础知识的抄本。如果你更喜欢看而不是读，请随时访问我的频道“Dev Newbs”。T3】</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ll lm l"/></div></figure><p id="9d8f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">各位开发人员好，欢迎来到日期对象方法的第二部分。上一次，我们讨论了GET方法。今天，我们将讨论SET方法。很刺激，对吧？我将解释7对SET方法，其中第一对是非UTC方法，或者如果你愿意的话，也可以是本地时区方法，另一对是UTC方法。</p><p id="d68b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">剩下的方法是toSetTime，它不区分时区。让我们开始吧。</p><p id="655f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">第一对SET方法是setFullYear()和setUTCFullYear()，它们允许我们在第一种情况下根据本地时间，在第二种情况下根据UTC时间来设置日期的年分数。返回值是新的时间戳。让我们看看它的实际效果。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="1e9d" class="ls lt in lo b gy lu lv l lw lx">let newYear = new Date(2022, 0, 1, 0, 59, 14, 587);<br/>console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="0f1d" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear.getTime());<br/>// 1640995154587</span></pre><p id="0ba6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">首先，我们输出变量newYear来查看其中Date对象的值。这与前一篇文章中的日期和时间相同。午夜刚过几分钟。我以字符串格式显示日期值和毫秒数，这样我们可以更好地看到当我们稍后更改日期的某个部分时会发生什么。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="7dc3" class="ls lt in lo b gy lu lv l lw lx">// setFullYear()<br/>console.log(newYear.setFullYear(2021));<br/>// 1609459154587</span><span id="c068" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="64ae" class="ls lt in lo b gy ly lv l lw lx">// setUTCFullYear()<br/>console.log(newYear.setUTCFullYear(2021));<br/>// 1640995154587</span><span id="9d17" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span></pre><p id="41c8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">目前，我所在的年份部分等于当地时间值2022。然而，当我使用setFullYear()方法时，我会像输出建议的那样将其更改为2021。注意与原始值相比已经改变的毫秒时间戳。等于少了365天——或者通俗地说——少了一年。</p><p id="17ce" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">到目前为止，这是非常符合逻辑和容易理解的。然而，在setUTCFullYear()的情况下，您可能会开始摇头，认为有些事情不对劲。但是请耐心听我说，你会发现尽管这种改变有点违背直觉，但它也是正确的。</p><p id="c2e4" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当我们使用setUTCFullYear()方法将year设置为值2021时，与使用setFullYear()方法相比，我们将获得一个未来一年的Date对象。这是为什么呢？</p><p id="b841" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">原因很简单—通过使用setUTCFullYear()方法，我们告诉Javascript首先重写日期，就好像我们的本地时区是UTC一样。这意味着我们得到世界协调时2020年12月31日。只是现在，我们用2021年的新值替换2020年的旧值。所以我们得到了新的日期2021年12月31日。但是当新日期的输出出现时，使用我们自己的本地时区，我们以2022年1月1日CET的日期结束。如你所见，这有点复杂，但是如果你仔细想想，这个方法就像它应该的那样工作。</p><p id="0ff0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">其他方法完全相同，只是它们处理的是日期的不同部分。特别是月、日和小时。让我们看看他们的行动。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="b1cb" class="ls lt in lo b gy lu lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="886c" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear.getTime());<br/>// 1640995154587</span><span id="6428" class="ls lt in lo b gy ly lv l lw lx">// 0-based numbering of months<br/>// 0 -&gt; January, 1 -&gt; February, ..., 11 -&gt; December</span><span id="cc2b" class="ls lt in lo b gy ly lv l lw lx">// setMonth()<br/>console.log(newYear.setMonth(1));<br/>// 1643673554587</span><span id="9d46" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="48ea" class="ls lt in lo b gy ly lv l lw lx">// setUTCMonth()<br/>console.log(newYear.setUTCMonth(1));<br/>// 1646351954587</span><span id="d1a8" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="7b65" class="ls lt in lo b gy ly lv l lw lx">// setDate()<br/>console.log(newYear.setDate(1));<br/>// 1646092754587</span><span id="8f7a" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="ff66" class="ls lt in lo b gy ly lv l lw lx">// setUTCDate()<br/>console.log(newYear.setUTCDate(1));<br/>// 1643759954587</span><span id="0c21" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="07a0" class="ls lt in lo b gy ly lv l lw lx">// setHours()<br/>console.log(newYear.setHours(23));<br/>// 1643842754587</span><span id="5d4c" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="234c" class="ls lt in lo b gy ly lv l lw lx">// setUTCHours()<br/>console.log(newYear.setUTCHours(23));<br/>// 1643846354587</span><span id="13db" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span></pre><p id="b488" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们首先输出我们的旧变量newYear。它的当前值是2022年1月1日，午夜过后几分钟。当然是CET时区。</p><p id="d0e5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们首先用方法setMonth()设置一个新的月份值，提供值1，这是二月的索引值。此方法根据本地时间为指定日期设置月份。毫不奇怪，新的日期是二月而不是一月。到目前为止一切顺利。现在我们使用setUTCMonth()方法，该方法根据世界时设置指定日期的月份。因此，我们当前的日期2月1日，在欧洲中部时间午夜后几分钟，变成了世界协调时午夜前几分钟的1月31日。现在，该方法将月份位置的值替换为值1，即二月。新的UTC日期是2022年2月31日。但是等等，没有2月31日。实际上2022年2月只有28天。但是不要担心，因为对于日期对象来说，这些数字只是偏移量。Javascript只是将不存在的3天额外天数算作下一个有效月份(即三月)的天数。所以我们得到的是世界协调时2022年3月3日。午夜前几分钟。现在我们只需要将它转换成CET，这样我们就可以将它与我们得到的实际结果进行比较。因此，我们将时间向前移动一小时，得到2022年3月4日，欧洲中部时间午夜后几分钟。正如您在输出中看到的，它是匹配的。</p><p id="d2a1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们可以用日期和时间做同样精确的日期魔术，但是我想在这一点上，你理解这个过程。因此，如果您愿意，现在可以停止这篇文章，尝试将相同的逻辑应用到setDate()和setHours()的示例中。我会等的。</p><p id="0bb6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为了保持一致，我将提供这两对方法的定义。尽管我确信在这一点上，你很清楚他们在做什么。</p><p id="f441" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一对setDate()和setUTCDate()方法根据第一种情况下的本地时间和第二种情况下的UTC时间来更改给定Date实例中的日期。它们都返回表示新的changed Date对象的毫秒数。</p><p id="19f9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">方法setHours()和setUTCHours()根据方法的非UTC版本中的本地时间和方法的UTC版本中的通用时间来设置指定日期的小时。同样，这两种方法都返回表示新的更改日期对象值的毫秒数。</p><p id="3931" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">然后，我们有另外三对UTC/非UTC方法，分别处理设置分钟、秒和毫秒。由于时区是按整小时移动的，这两个版本的方法做的事情完全一样。它们将各自的日期部分设置为一个新值。如果你愿意，这里有几个无聊的例子可以看看。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="d3ce" class="ls lt in lo b gy lu lv l lw lx">// setMinutes()<br/>console.log(newYear.setMinutes(55));<br/>// 1643846114587</span><span id="e1ee" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="e1e9" class="ls lt in lo b gy ly lv l lw lx">// setUTCMinutes()<br/>console.log(newYear.setUTCMinutes(55));<br/>// 1643846114587</span><span id="b949" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="105a" class="ls lt in lo b gy ly lv l lw lx">// setSeconds()<br/>console.log(newYear.setSeconds(18));<br/>// 1643846118587</span><span id="16e9" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="a354" class="ls lt in lo b gy ly lv l lw lx">// setUTCSeconds()<br/>console.log(newYear.setUTCSeconds(18));<br/>// 1643846118587</span><span id="a980" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="ff43" class="ls lt in lo b gy ly lv l lw lx">// setMilliseconds()<br/>console.log(newYear.setMilliseconds(147));<br/>// 1643846118147</span><span id="83e0" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span><span id="5065" class="ls lt in lo b gy ly lv l lw lx">// setUTCMilliseconds()<br/>console.log(newYear.setUTCMilliseconds(147));<br/>// 1643846118147</span><span id="b64a" class="ls lt in lo b gy ly lv l lw lx">console.log(newYear);<br/>// Thu Feb 03 2022 00:55:18 GMT+0100 (stredoeurópsky štandardný čas)</span></pre><p id="bf2e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">就像前面的方法一样，这些方法的结果是自UNIX Epoch或新时间戳以来的毫秒数，如果您想这样称呼它的话。</p><p id="bc9a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">就像GET方法一样，您只能设置从给定时间间隔到特定日期部分的特定值。这真的很容易。分钟和秒钟的范围是从0到59。对于毫秒来说，它稍微多一点——从0到999。</p><p id="3016" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我想向您展示的最后一个方法是setTime()，它接受毫秒数作为输入参数，并基于该值，将Date对象设置为自1970年1月1日00:00:00 UTC以来以毫秒数表示的时间。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="64c3" class="ls lt in lo b gy lu lv l lw lx">// set number of milliseconds since 1st January 1970<br/>let moment = new Date();<br/>console.log(moment.getTime());<br/>// 1626068925087</span><span id="5b9f" class="ls lt in lo b gy ly lv l lw lx">console.log(moment);<br/>// Mon Jul 12 2021 07:48:45 GMT+0200 (stredoeurópsky letný čas)</span><span id="4e5a" class="ls lt in lo b gy ly lv l lw lx">console.log(moment.setTime(1625669000160));<br/>// 1625669000160</span><span id="ab02" class="ls lt in lo b gy ly lv l lw lx">console.log(moment);<br/>// Wed Jul 07 2021 16:43:20 GMT+0200 (stredoeurópsky letný čas)</span></pre><p id="2dc3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我创建了一个名为moment的新日期对象变量。我将它的值输出到控制台，这样我们就可以看到它代表了什么日期。然后我给这个变量赋一个新的不同的值。当然，这是一个毫秒数，但稍微小一点。当我再次输出新值时，您可以看到我更改了日期，所以它变得有点像过去。仅此而已。没什么更多的了。你可以设定任何你想要的日期，而不需要追踪时区之类的麻烦。只要您知道自Unix Epoch以来的毫秒数，或者您有一个Unix时间戳，然后您需要将它乘以1000以从秒中得到毫秒。你已经准备好了。</p><p id="312c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">好了，这些是Date对象的SET方法，这是Date Javascript基础知识系列的第2部分的结尾。我知道很多，但你可以承认。这很有趣，你终于理解了Javascript的日期魔力，不是吗？我也是这么想的。</p><p id="af2e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一如既往，感谢您的关注。我很快会带着日期对象系列的第三部分回来。</p><p id="021e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lk">更多内容看</em><a class="ae lz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>