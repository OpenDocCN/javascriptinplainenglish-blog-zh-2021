<html>
<head>
<title>Getting Started with NestJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NestJS入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-started-with-nestjs-application-overview-installation-setup-288e0e83c889?source=collection_archive---------3-----------------------#2021-02-27">https://javascript.plainenglish.io/getting-started-with-nestjs-application-overview-installation-setup-288e0e83c889?source=collection_archive---------3-----------------------#2021-02-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="09c6" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">应用概述，安装和设置</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/c1475cae86f8cfc1e981e545592bd8f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*WQKI7a5FIE4t-sJMziyD-Q.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">NestJS</figcaption></figure><h1 id="ca4d" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated"><strong class="ak">概述</strong></h1><p id="f153" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated"><a class="ae mc" href="https://nestjs.com/" rel="noopener ugc nofollow" target="_blank"> NestJS </a>是一个后端框架，构建在NodeJS和ExpressJS之上来创建服务器端应用程序，它最适合REST API，因为使用NestJS运行REST API非常快。它使用现代JavaScript，构建于<a class="ae mc" href="http://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>(保持与纯JavaScript的兼容性)，并结合了<a class="ae mc" href="https://en.wikipedia.org/wiki/Object-oriented_programming" rel="noopener ugc nofollow" target="_blank"> OOP </a>(面向对象编程)、<a class="ae mc" href="https://en.wikipedia.org/wiki/Functional_programming" rel="noopener ugc nofollow" target="_blank"> FP </a>(功能编程)和<a class="ae mc" href="https://en.wikipedia.org/wiki/Functional_reactive_programming" rel="noopener ugc nofollow" target="_blank"> FRP </a>(功能反应编程)的元素。NestJS的架构主要受AngularJS的启发。</p><p id="96b4" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated"><strong class="li io">技术知识前提:</strong></p><ul class=""><li id="4917" class="mi mj in li b lj md lm me lp mk lt ml lx mm mb mn mo mp mq bi translated">现代JS编程方法的知识。</li><li id="33ad" class="mi mj in li b lj mr lm ms lp mt lt mu lx mv mb mn mo mp mq bi translated">有使用NodeJS、ExpressJS、Typescript的经验(这不是必需的，但这将有助于您理解并快速运行)</li><li id="3510" class="mi mj in li b lj mr lm ms lp mt lt mu lx mv mb mn mo mp mq bi translated">使用MongoDB的经验，<a class="ae mc" href="https://www.npmjs.com/package/mongoose" rel="noopener ugc nofollow" target="_blank">猫鼬</a></li><li id="cb6f" class="mi mj in li b lj mr lm ms lp mt lt mu lx mv mb mn mo mp mq bi translated"><a class="ae mc" href="https://www.typescriptlang.org/docs/handbook/decorators.html" rel="noopener ugc nofollow" target="_blank">装饰人员基本知识</a></li></ul><p id="805d" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated"><strong class="li io">对系统的要求:</strong></p><ul class=""><li id="f290" class="mi mj in li b lj md lm me lp mk lt ml lx mm mb mn mo mp mq bi translated">您需要安装NodeJS &amp; NPM (Node package manager)，您可以从<a class="ae mc" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">这里</a>下载最新版本。</li></ul><h2 id="9abf" class="mw kp in bd kq mx my dn ku mz na dp ky lp nb nc la lt nd ne lc lx nf ng le nh bi translated"><strong class="ak">开始</strong></h2><p id="3f99" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">首先，您需要安装NestJS的命令行界面(CLI ),它允许您在创建新项目时为NestJS创建一个框架项目，所以让我们先通过运行以下命令来安装它:</p><p id="1cfa" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">(如果您使用NPM作为软件包管理器):</p><pre class="kd ke kf kg gt ni nj nk nl aw nm bi"><span id="516b" class="mw kp in nj b gy nn no l np nq">npm i -g @nestjs/cli</span></pre><p id="94af" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">(如果您将纱线用作包装管理器):</p><pre class="kd ke kf kg gt ni nj nk nl aw nm bi"><span id="f976" class="mw kp in nj b gy nn no l np nq">yarn global add @nestjs/cli</span></pre><p id="68aa" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">(注意:如果您正在运行windows，您可能需要以管理员身份运行您的cmd/bash，因为我们正在全局安装软件包。对于Mac/Linux，只需在命令之前添加“sudo ”,然后它会要求您提供密码，键入密码，它就会安装软件包。)</p><p id="d033" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">现在，要使用Nest-CLI创建新项目，请在控制台中运行以下命令:</p><pre class="kd ke kf kg gt ni nj nk nl aw nm bi"><span id="ac38" class="mw kp in nj b gy nn no l np nq">nest new products-api</span></pre><p id="a077" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">一旦您运行这个命令，它将开始创建一个包含基本配置文件、GET请求示例和测试用例的框架项目。</p><p id="3b48" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">该命令创建完所有文件后，让我们进入该文件夹:</p><pre class="kd ke kf kg gt ni nj nk nl aw nm bi"><span id="48f5" class="mw kp in nj b gy nn no l np nq">cd projects-api</span></pre><p id="9474" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">下面是它的样子:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/397bccc8e55b6f2d31111ef8c25e464c.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*abWWIx9llnRzW6EemIEjuA.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">File structure of a NestJS boilerplate</figcaption></figure><p id="f155" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">让我们了解一下每个文件包含的内容及其含义:</p><p id="2ef7" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">package . JSON——与NodeJS项目相同，这是项目的核心，包含所有基本脚本、依赖项、开发依赖项和测试用例的进一步配置。(我建议在没有意识到自己在做什么的情况下，不要修改这里的任何东西)</p><p id="b9ca" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">ts config . JSON——它包含了所有的typescript配置，你可以在这里查看更多的<a class="ae mc" href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#using-tsconfigjson-or-jsconfigjson" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="1652" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">nest-cli.json —它保存NestJS CLI配置，如果您想将源目录更改为任何其他目录，您可以从这里通过更改“sourceRoot”来完成。</p><p id="4325" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">main . ts——这个文件将是我们的NestJS应用程序的入口点，它将服务于从这里开始定义的所有内容。</p><p id="3be6" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">app . Module . ts——这就是模块化的用武之地，你在这里添加的任何东西都将作为一个模块。您会注意到这里我们使用了“@Module”关键字，这是一个从NestJS导入的装饰器</p><pre class="kd ke kf kg gt ni nj nk nl aw nm bi"><span id="aad0" class="mw kp in nj b gy nn no l np nq">Module({ <br/>  imports: [],<br/>  controllers: [AppController],<br/>  providers: [AppService],<br/>})</span></pre><p id="7239" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">简单地说</p><p id="6790" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">&gt;控制器=您在控制器中定义的任何内容都将是路线</p><p id="d125" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">&gt; providers =您在此定义的任何内容都将被用作在不同路由中使用的服务功能</p><p id="693e" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">&gt; imports =如果您当前的模块依赖于任何其他模块，您可以通过在imports中添加该模块来让该模块知道</p><p id="d12f" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">app.controller.ts —它包含可以使用“@Controller”和其他REST方法定义的路线，比如(@Get、@Post、@Put、@Patch、@Delete)</p><p id="0616" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">app.service.ts —它有将在控制器中使用的服务，因此这里定义的任何东西都可以在控制器中使用，您还可以在这里定义一些私有的助手函数，这些函数在类之外是不可访问的。</p><p id="2f7b" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">您将在package.json文件中看到一些预配置的基本命令，从中您将最需要以下命令:</p><ul class=""><li id="a272" class="mi mj in li b lj md lm me lp mk lt ml lx mm mb mn mo mp mq bi translated">在开发模式下运行您的应用程序</li><li id="fd0c" class="mi mj in li b lj mr lm ms lp mt lt mu lx mv mb mn mo mp mq bi translated"><code class="fe ns nt nu nj b">npm run build</code> = &gt;创建应用程序的生产版本</li><li id="9606" class="mi mj in li b lj mr lm ms lp mt lt mu lx mv mb mn mo mp mq bi translated"><code class="fe ns nt nu nj b">npm run start:prod</code> = &gt;在您的本地环境中运行实际的生产构建，您将需要首先创建一个构建。</li><li id="24e1" class="mi mj in li b lj mr lm ms lp mt lt mu lx mv mb mn mo mp mq bi translated"><code class="fe ns nt nu nj b">npm run format</code>，<code class="fe ns nt nu nj b">npm run lint</code> = &gt;这将根据为prettier和eslint定义的配置重新格式化您的代码</li><li id="2840" class="mi mj in li b lj mr lm ms lp mt lt mu lx mv mb mn mo mp mq bi translated">这将执行应用程序的所有测试用例，并向您显示测试结果的摘要。</li></ul><p id="819e" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">为了准备开发你的实际API，并使它与你的实际数据库一起工作，我将很快发布一个教程，敬请关注！</p><p id="e40f" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated"><strong class="li io">更新:</strong>如果你正在寻找用NestJS构建REST API，请点击这里查看我的最新文章<a class="ae mc" href="https://lavshah.medium.com/rest-api-with-nestjs-using-mongodb-58150eef02a8" rel="noopener">。</a></p><h2 id="7ad0" class="mw kp in bd kq mx my dn ku mz na dp ky lp nb nc la lt nd ne lc lx nf ng le nh bi translated">结论</h2><p id="045e" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">感谢阅读，如果这有助于丰富你的NestJS学习，请点击👏，如果您需要任何其他信息，请随时在下面发表评论！</p><p id="846c" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">非常感谢<a class="nv nw ep" href="https://medium.com/u/b5064b236dfb?source=post_page-----288e0e83c889--------------------------------" rel="noopener" target="_blank">塔奈·德赛</a>帮助我开始这个系列。还有很多要做！</p><p id="651e" class="pw-post-body-paragraph lg lh in li b lj md jo ll lm me jr lo lp mf lr ls lt mg lv lw lx mh lz ma mb ig bi translated">谢谢，祝你愉快！😃</p></div></div>    
</body>
</html>