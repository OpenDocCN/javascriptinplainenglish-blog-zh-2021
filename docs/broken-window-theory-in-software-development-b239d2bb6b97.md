# 让它工作，让它正确，让它变得更好。

> 原文：<https://javascript.plainenglish.io/broken-window-theory-in-software-development-b239d2bb6b97?source=collection_archive---------4----------------------->

## 什么是破窗理论，它与软件开发有什么关系？

![](img/d86cd7bf0cf25d3e91412a00a1ff7460.png)

**Iron Man — Mark I, Mark II, Mark III Armors**

> “当你在解决一个问题时，你有时会离它太近，以至于看不到所有的选项。你错过了优雅的解决方案，因为你头脑中的创造性部分被你专注的强度所压制。有时候解决一个问题最好的方法就是回家，吃晚饭，看电视，睡觉，然后第二天早上醒来洗个澡。”罗伯特·马丁

20 世纪 60 年代末，斯坦福大学心理学家菲利普·津巴多进行了一项实地研究。他把一辆没有牌照的汽车遗弃在纽约市一个贫穷、犯罪猖獗的地区。几分钟后，车的散热器和电池都拆了。不久之后，其他有价值的部分被移除。在接下来的 24 小时里，车窗被砸碎，零件被剥离，彻底毁坏。

他在加州帕洛阿尔托的富人区丢弃了另一辆没有牌照的汽车。这辆车有一个多星期没动过了。然后他拿着大锤砸了车的一部分。几个小时之内，路人很快就将汽车撕成碎片，车窗被砸碎，汽车被彻底毁坏。

根据这项研究，他得出结论说，如果某样东西长期被忽视，那么无论一个社区多么富有或贫穷，它都会很快成为破坏者的目标。

30 年后，犯罪学家乔治·l·凯林和詹姆斯·q·威尔逊被这项实地研究迷住了，并就此写了一篇文章。

[https://www.theatlantic.com/ideastour/archive/windows.html](https://www.theatlantic.com/ideastour/archive/windows.html)

> “这种想法是，一旦混乱开始，不管邻居是谁，事情都可能开始失去控制，”—乔治·l·凯林
> 
> “人类的行为受到环境的深刻影响——[破碎的窗户]是一个声明，环境是不受控制和无法控制的”——詹姆斯·q·威尔逊

这项研究也成为“破窗理论”的基础，最终导致了上世纪 90 年代纽约市前市长鲁迪·朱利安尼提出的备受争议的“*拦截提问和搜身*”计划和“*市民大扫除*”。

# 什么是破窗理论？

如果一栋建筑有一扇破碎的窗户很长一段时间没有修理，那么它发出了没有人关心的信息。如果这个窗户不固定，路人会断定主人不在乎或者不太在乎。他们最终可能会打破房子的其他窗户，把住户赶出去。

![](img/0c9333845ec8e78c8c532bc65702f367.png)

From **Black Mirror**

另一方面，尽早修复破损的窗户会发出一个信号，表明系统受到了监控。因此，不允许任何犯罪活动。

# 软件开发中的破窗理论

破窗理论适用于现实生活中的许多领域，包括软件开发。让我们看看它在软件开发中是如何应用的。

如果一个开发人员看到一个不遵循任何编码标准的代码，有太多的拼写错误、糟糕的命名约定或不一致的代码样式，那么这个人更有可能继续遵循同样的方法，不管他是一个多么好的开发人员。那就是给蹩脚的系统添加更多的垃圾代码。

这种维护很差的系统清楚地告诉任何人，包括新开发人员，没有人关心这个系统。这最终会导致一个局面，就是没有人愿意再在体制内工作了。

![](img/09858eaffb3664f33ecd52934ea57f7b.png)

From [http://www.clipartbest.com](http://www.clipartbest.com)

> 一个破碎的窗口——一段设计糟糕的代码，团队在项目期间必须忍受的糟糕的管理决策——就是开始衰落的全部原因。如果你发现自己在从事一个有着相当多
> 破碎窗口的项目，那么很容易陷入“这些代码的其余部分都是垃圾，我只是照着做”的思维定势这个项目到目前为止
> 是否一切顺利并不重要。
> 
> ——迪夫·托马斯和安迪·亨特的《实用程序员》

# 如何防止破窗？

破碎的窗户给项目带来不确定性。一个训练有素的团队通过控制项目中的不确定性水平来克服障碍并建立一个可预测的环境。要构建一个可预测的环境，必须考虑多个因素，包括每个开发人员如何编码。

开发人员花了太多时间寻找完美的解决方案。然而，第一次就做对是极其困难的，这可能会导致分析瘫痪。极限编程的创始人 Kent Beck 提出了一个简单、规范和实用的三步增量开发方法来避免这种情况。

> *“让它工作，让它正确，让它快。”—肯特·贝克*

遵循这些步骤有助于开发人员专注于完成工作，避免陷入过早优化的陷阱。

## 第一步:过度思考会扼杀生产力。只要开始编码并让它工作

如果你正在实现一个新的特性或者解决应用程序中的一个问题，你可能一开始没有完整的解决方案，并且还在探索各种可能性。如果你在这一点上寻找完美的解决方案，那么你最终会花太多时间思考和检查不同的选项，因为有许多不确定性。

与其探索太多，不如开始编码，不用担心编码标准、命名约定、注释、重复代码、单元测试等。这里的目标是尽快找到一个可行的解决方案。请记住，代码可能非常丑陋，永远不应该被推入生产环境，甚至是源代码存储库。

> 停在这个阶段会留下太多的破窗。所以不要。

## 第二步:不仅仅是让它工作，而是让它正确

现在你有了可行的解决方案。下一步是确保解决方案是可维护的和生产就绪的。这是您遵循软件原则并执行所有必要重构的地方。

[](https://deviq.com/principles/principles-overview) [## 原则| DevIQ

### 始终遵循好的原则对于好的代码来说很重要。

deviq.com](https://deviq.com/principles/principles-overview) [](https://refactoring.guru/refactoring/catalog) [## 重构目录

### 重构技术和代码味道的完整列表。在尝试之前，最好先了解代码有什么问题…

重构大师](https://refactoring.guru/refactoring/catalog) 

在这个阶段，您可以使用适当的命名约定来更改代码，应用设计模式，添加足够的单元测试，执行代码清理和优化。确保代码更好，更易维护，这样任何人都可以轻松理解。

> 在这个阶段，期望的解决方案必须是生产就绪的，并且可以完全呈现给用户。

## 第三步:偶尔，正确是不够的。不要害怕更快更好。

最后一个阶段是让事情变得更好/更快。这是可选的。但是总有改进的余地。大多数时候，我们没有时间或资源来执行这一步。但是如果有资源和时间，这就是我们改进代码/解决方案的时候。

在这一步要格外小心，因为你可能会过度优化代码，最终得到难以阅读的代码。大多数时候，软件不需要额外的优化或性能改进。在这种情况下，就停留在前一阶段。

> 真正的问题是程序员在错误的地方和错误的时间花了太多的时间担心效率；过早的优化是编程中所有罪恶(或者至少是大部分罪恶)的根源。
> 
> *唐纳德·克努特。*

## *专业提示:将警告视为错误*

*From **The Big Bang Theory***

> *不要留下“破碎的窗户”(糟糕的设计、错误的决策或糟糕的代码)
> 未修复。发现一个就解决一个。如果没有足够的时间把它固定好，那就用木板把它封起来。也许您可以注释掉
> 令人不快的代码，或者显示一条“未实现”的消息，或者用虚拟数据代替。采取一些行动来防止进一步的伤害，并表明你已经控制了局面。*
> 
> *——迪夫·托马斯和安迪·亨特的《实用程序员》*
> 
> *“你要对你的代码质量负责。不是你的客户。不是你的老板。[……]你不会去找医生说:你知道吗，医生？我赶时间，你为什么不跳过洗手？”迈克尔·托帕*

***参考文献***

*[https://www.britannica.com/topic/broken-windows-theory](https://www.britannica.com/topic/broken-windows-theory)*

*[https://blog.codinghorror.com/the-broken-window-theory/](https://blog.codinghorror.com/the-broken-window-theory/)*

*[https://wiki.c2.com/?MakeItWorkMakeItRightMakeItFast](https://wiki.c2.com/?MakeItWorkMakeItRightMakeItFast)*

***如果你喜欢这篇文章，你也可以看看我的其他文章。***

*[](https://cthangaraja.medium.com/) [## Thangaraja -培养基

### 什么是破窗理论，它与软件开发有什么关系？“当你在解决一个问题时…

cthangaraja.medium.com](https://cthangaraja.medium.com/)* 

## *进一步阅读*

*[](https://plainenglish.io/blog/improve-remote-development-workflow-with-fewer-tools-single-context) [## 使用更少的工具、单一上下文改进远程开发工作流程

### 公平地说，远程工作不再是“工作的未来”。这是许多技术的当前标准…

简明英语. io](https://plainenglish.io/blog/improve-remote-development-workflow-with-fewer-tools-single-context) [](https://plainenglish.io/blog/how-well-do-developers-and-non-developers-work-together) [## 开发人员和非开发人员合作得如何？我们询问了 200 个开发团队

### 产品开发(几乎总是)团队运动。要打造成功的产品，多个利益相关方必须共同努力…

简明英语. io](https://plainenglish.io/blog/how-well-do-developers-and-non-developers-work-together) 

*更多内容看* [***说白了就是***](https://plainenglish.io/) *。报名参加我们的* [***免费周报***](http://newsletter.plainenglish.io/) *。关注我们关于* [***推特***](https://twitter.com/inPlainEngHQ) ， [***领英***](https://www.linkedin.com/company/inplainenglish/) *，*[***YouTube***](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw)*，以及* [***不和***](https://discord.gg/GtDtUAvyhW) *。对增长黑客感兴趣？检查* [***电路***](https://circuit.ooo/) *。**