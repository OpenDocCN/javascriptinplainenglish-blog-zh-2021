# å¦‚ä½•å°† Instagram åŸºæœ¬æ˜¾ç¤º API ä¸ Node.js é›†æˆ

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/instagram-basic-display-api-integration-with-nodejs-45e4338dff17?source=collection_archive---------0----------------------->

![](img/eebcf726aaaecd077279d3562d5c1a32.png)

æœ¬æ–‡å°†å±•ç¤º Instagram å¦‚ä½•ä¸æ‚¨çš„ç³»ç»Ÿé›†æˆã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒæ¢ç´¢äº†ä¸€ç§æœºåˆ¶æ¥æ˜¾ç¤º**ç”¨æˆ·åœ¨ä½ çš„åº”ç”¨/ç½‘ç«™**ä¸Šçš„ Instagram å¸–å­ã€‚

> *åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œ*[*insta feed . js*](https://instafeedjs.com/#/)*æä¾›äº†ç±»ä¼¼çš„åŠŸèƒ½ã€‚ä¸è¿‡è¦é  Heroku çš„å…è´¹æœåŠ¡æ¥åˆ·æ–°ä»£å¸ã€‚Heroku æ›´æ–°äº†å®šä»·æ”¿ç­–åï¼Œå®ƒå˜å¾—æœ‰ç‚¹è´µäº†ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ä½œä¸ºè‡ªæ‰˜ç®¡çš„æ›¿ä»£æ–¹æ³•ã€‚*

åœ¨ç»§ç»­ä¹‹å‰ï¼Œè¯·å‰å¾€[è„¸ä¹¦å¼€å‘è€…](https://developers.facebook.com/docs/instagram-basic-display-api/overview)é¡µé¢å¹¶æµè§ˆ**æ¦‚è¿°ã€‚**è¿›ä¸€æ­¥æŒæ¡æ¦‚å¿µä¼šæ›´å®¹æ˜“ã€‚

æ•´ä¸ªè¿‡ç¨‹å¯å½’ç»“ä¸º 4 ä¸ªæ­¥éª¤:

1.  åˆ›å»ºè„¸ä¹¦åº”ç”¨ç¨‹åº
2.  è·å–è®¿é—®ä»¤ç‰Œ
3.  è®¾ç½®ä»¤ç‰Œåˆ·æ–°æœåŠ¡
4.  å–æ•°æ®

# 1.åˆ›å»ºè„¸ä¹¦åº”ç”¨ç¨‹åº

éµå¾ªæ­¤é“¾æ¥ä¸­çš„æ­¥éª¤ 1 è‡³ 3ã€‚

[https://developers . Facebook . com/docs/insta gram-basic-display-API/getting-started](https://developers.facebook.com/docs/instagram-basic-display-api/getting-started)

# 2.è·å–è®¿é—®ä»¤ç‰Œ

ç»§ç»­ä¸‹ä¸€æ­¥éœ€è¦åº”ç”¨ç¨‹åºç‰¹å®šçš„å¯†é’¥å’Œç§˜å¯†ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ã€‚

*åº”ç”¨ä»ªè¡¨æ¿æˆ‘çš„äº§å“ Instagram åŸºæœ¬æ˜¾ç¤ºè®¾ç½®*

ä»…åœ¨å‰ç«¯éœ€è¦åº”ç”¨ IDï¼›åç«¯éœ€è¦ ID å’Œ secretã€‚ç”±äº App secret ä¸èƒ½å‘ç”¨æˆ·æ˜¾ç¤ºï¼Œæ‰€ä»¥å®ƒä½œä¸ºç¯å¢ƒå˜é‡ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šã€‚

![](img/e122c833633c2b32fe279e194871bd2c.png)

App ID, secret & Redirect URIs

æ­¤å¤–ï¼Œå°†æ‚¨çš„å‰ç«¯åº”ç”¨ç¨‹åºçš„ URL æ·»åŠ åˆ°**æœ‰æ•ˆ OAuth é‡å®šå‘ URIsã€‚å¸¦ https çš„ l [ocalhost](http://Localhost) å°±å¯ä»¥äº†ã€‚åœ¨ [GitHub é¡µé¢](https://pages.github.com/)ä¸Šæ‰˜ç®¡é™æ€åº”ç”¨ä¹Ÿå¯ä»¥ï¼Œè€Œä¸”æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚**

# å‰ç«¯

åœ¨é™æ€å‰ç«¯ç«™ç‚¹ä¸Šä½¿ç”¨è¿™æ®µä»£ç è·å¾—ä¸€ä¸ªçŸ­æœŸè®¿é—®ä»¤ç‰Œã€‚çŸ­æœŸè®¿é—®ä»¤ç‰Œçš„æœ‰æ•ˆæœŸä¸º 1 å°æ—¶ï¼Œä½†å¯ä»¥äº¤æ¢ä¸ºé•¿æœŸä»¤ç‰Œ(ç¨åå°†åœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œ)ã€‚

ç”±äºæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è·å–ç”¨æˆ·ç›¸å…³ä¿¡æ¯å’Œä»–ä»¬çš„ Instagram ç…§ç‰‡ï¼Œå› æ­¤èŒƒå›´è¢«è®¾ç½®ä¸º`user_profile` & `user_media`ã€‚

å®ƒå°†åœ¨ä¸€ä¸ªæ–°çš„é€‰é¡¹å¡ä¸Šæ‰“å¼€æˆæƒçª—å£ã€‚åœ¨è¢«æˆæƒåï¼Œå®ƒå°†é‡å®šå‘åˆ°å¸¦æœ‰åŒ…å«`code`çš„æŸ¥è¯¢å‚æ•°çš„`/insta`é¡µé¢(å¦‚ä¸Šé¢çš„ä»£ç æ‰€é…ç½®çš„)ã€‚è¯¥ä»£ç å°†ç”¨äºåœ¨åç«¯è·å–çŸ­æœŸè®¿é—®ä»¤ç‰Œã€‚

æ¥ä¸‹æ¥ï¼Œ`code` & `redirect URI`è¢«å‘é€åˆ°æœåŠ¡å™¨è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ã€‚

# åç«¯

å‡è®¾åç«¯æœ‰ä¸€ä¸ªé€šè¿‡ä»»ä½• HTTP æ–¹æ³•æ¥æ”¶`code` & `redirect URI`çš„ç«¯ç‚¹ã€‚

ç°åœ¨ï¼Œä¸‹ä¸€æ­¥æ˜¯è·å¾—çŸ­æœŸè®¿é—®ä»¤ç‰Œã€‚ä»£ç æ˜¯ä¸è¨€è‡ªæ˜çš„ã€‚

> *åŸºäº JSON çš„ POST æ— æ³•å·¥ä½œã€‚æ‰€ä»¥åŸºäºè¡¨å•çš„è¯·æ±‚æ˜¯é€šè¿‡* ***è¯·æ±‚*** *å‘é€çš„ã€‚*

è·å¾—**çŸ­æœŸè®¿é—®ä»¤ç‰Œ**åï¼Œéœ€è¦ä¸**é•¿æœŸè®¿é—®ä»¤ç‰Œè¿›è¡Œäº¤æ¢ã€‚**

å¯¹äºè¿›ä¸€æ­¥çš„ API è°ƒç”¨ï¼Œä»…ä½¿ç”¨**é•¿æœŸè®¿é—®ä»¤ç‰Œ**ã€‚å¦‚å‰æ‰€è¿°ï¼ŒçŸ­æœŸä»¤ç‰Œæœ‰ 1 å°æ—¶çš„æœ‰æ•ˆæœŸã€‚ç±»ä¼¼åœ°ï¼Œé•¿æœŸä»¤ç‰Œæœ‰ 60 å¤©çš„æœ‰æ•ˆæœŸã€‚å³åˆšåˆšå­˜å‚¨åœ¨ DB ä¸Šçš„ä»¤ç‰Œéœ€è¦åœ¨å…¶åˆ°æœŸä¹‹å‰è¢«åˆ·æ–°ã€‚

# 3.è®¾ç½®ä»¤ç‰Œåˆ·æ–°æœåŠ¡

è¦æ¯ 60 å¤©åˆ·æ–°ä¸€æ¬¡ä»¤ç‰Œï¼Œcron ä½œä¸šä¼¼ä¹æ˜¯åˆé€‚çš„ã€‚node-cron æœ€é€‚åˆè¿™ä¸ªç›®çš„ã€‚

åœ¨`instaRefresh.cron`æ–‡ä»¶ä¸­ï¼Œå®ƒä»æ•°æ®åº“ä¸­è·å–æ—§ä»¤ç‰Œå¹¶ç”¨æ–°ä»¤ç‰Œæ›¿æ¢å®ƒã€‚

å› æ­¤ï¼Œè¿™ä¸ª cron ä½œä¸šå°†è‡ªåŠ¨åˆ·æ–°è®¿é—®ä»¤ç‰Œã€‚

# 4.å–æ•°æ®

æœ€åï¼Œæ˜¯æ—¶å€™ä» Instagram è·å–æ•°æ®äº†ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å­˜å‚¨åœ¨ DB ä¸Šçš„`accessToken`ã€‚è¦äº†è§£æ›´å¤šå¯ä»¥è·å–çš„æ•°æ®ç±»å‹ï¼Œè¯·è®¿é—®æ­¤[é¡µé¢](https://developers.facebook.com/docs/instagram-basic-display-api/guides)ã€‚

> *è®¿é—®ä»¤ç‰Œæ˜¯åº”ç”¨èŒƒå›´çš„(å¯¹äºåº”ç”¨å’Œç”¨æˆ·å¯¹æ˜¯å”¯ä¸€çš„)*

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†è·å–ç”¨æˆ·ä¸Šä¼ çš„åª’ä½“ã€‚ç„¶åå¯¹å…¶è¿›è¡Œè¿‡æ»¤ï¼Œä»…è·å¾—å›¾åƒã€‚

# å¹³å°è´¹ç‡é™åˆ¶

Instagram API å¯¹ API è°ƒç”¨æ¬¡æ•°æœ‰é™åˆ¶ã€‚æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°[ã€‚](https://developers.facebook.com/docs/graph-api/overview/rate-limiting#platform-rate-limits)

è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯ç¼“å­˜ API å“åº”ã€‚å¯¹äºè¿™ä¸ªç‰¹å®šçš„åœºæ™¯ï¼Œå›¾åƒ URL å¯ä»¥æ¯éš”ï¼Œæ¯”å¦‚è¯´ï¼Œæ¯ 3 ä¸ªå°æ—¶ä¿å­˜åˆ°æ•°æ®åº“ï¼›ä½¿ç”¨å…‹éš†ä½œä¸šã€‚

ä¸ç”¨ç›´æ¥è°ƒç”¨ Instagram APIï¼Œå›¾ç‰‡å¯ä»¥ä» DB ç«¯ä¸Šæ¥ï¼›ä½œä¸ºä¸€ä¸ªç¼“å­˜ã€‚ç„¶è€Œï¼Œè¿™ç§ç‰¹æ®Šçš„æƒ…å†µå¹¶ä¸é€‚åˆæ‰€æœ‰çš„ç”¨ä¾‹ã€‚

å¸Œæœ›æœ¬æŒ‡å—æœ‰åŠ©äºåœ¨åŸºäº Node.js çš„åº”ç”¨ä¸Šé›†æˆ Instagram Basic APIã€‚å¦‚æœä½ æœ‰æ›´å¥½çš„é€‰æ‹©ï¼Œè¯·åœ¨ä¸‹é¢çš„è¯„è®ºä¸­æå‡ºã€‚

æ„Ÿè°¢é˜…è¯»ã€‚ğŸ™‚

# å‚è€ƒ

[](https://github.com/stevenschobert/instafeed.js/wiki/Facebook-app-and-test-user-setup) [## è„¸ä¹¦åº”ç”¨å’Œæµ‹è¯•ç”¨æˆ·è®¾ç½® stevenschobert/insta feed . js Wiki

### æ­¤æ—¶æ‚¨ä¸èƒ½æ‰§è¡Œè¯¥æ“ä½œã€‚æ‚¨å·²ä½¿ç”¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæˆ–çª—å£ç™»å½•ã€‚æ‚¨å·²åœ¨å¦ä¸€ä¸ªé€‰é¡¹å¡ä¸­æ³¨é”€ï¼Œæˆ–è€…â€¦

github.com](https://github.com/stevenschobert/instafeed.js/wiki/Facebook-app-and-test-user-setup) [](https://developers.facebook.com/docs/instagram-basic-display-api) [## Instagram åŸºæœ¬æ˜¾ç¤º API - Instagram å¹³å°-æ–‡æ¡£-å¼€å‘è€…è„¸ä¹¦

### Instagram åŸºæœ¬æ˜¾ç¤º API å…è®¸æ‚¨çš„åº”ç”¨ç¨‹åºç”¨æˆ·åœ¨ä»–ä»¬çš„â€¦â€¦ä¸­è·å–åŸºæœ¬çš„ä¸ªäººèµ„æ–™ä¿¡æ¯ã€ç…§ç‰‡å’Œè§†é¢‘

developers.facebook.com](https://developers.facebook.com/docs/instagram-basic-display-api) 

*æ›´å¤šå†…å®¹çœ‹*[***plain English . io***](http://plainenglish.io/)