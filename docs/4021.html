<html>
<head>
<title>Learn to Scrape Any Website With JavaScript in 4 Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学会在4分钟内用JavaScript抓取任何网站</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/learn-to-scrape-any-website-with-javascript-in-4-minutes-dbe73323a9f1?source=collection_archive---------15-----------------------#2021-08-11">https://javascript.plainenglish.io/learn-to-scrape-any-website-with-javascript-in-4-minutes-dbe73323a9f1?source=collection_archive---------15-----------------------#2021-08-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d737" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">3如果你阅读速度很快。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8923662fd5703dd3b1ca1db466223acd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-D3vJ4GdjBvzVn4H"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@towfiqu999999?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Towfiqu barbhuiya</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a222" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们开始之前，确保没有人在看着你。为什么？因为我将向你展示如何从另一个网站窃取数据。</p><p id="552c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">抛开所有玩笑，当你想到网络抓取的时候。这基本上是从另一个网站窃取信息。但这是否意味着我们要做些违法的事情呢？</p><p id="4118" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不完全是。</p><p id="f96d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">归根结底是一件事。你打算怎么处理你刚偷的信息？要不要用于商业目的？这可能违反了网站的条款，你可能会因此惹上麻烦。</p><p id="693a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一方面，收集信息供个人使用并没有错。为了尽可能远离监狱酒吧，这正是我要做的。我将创建一个机器人:</p><ul class=""><li id="e2b5" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">为给定用户打开一个媒体配置文件</li><li id="2172" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">收集所有的追随者</li><li id="c220" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">将它们保存到一个文件中</li></ul><p id="84fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">顺便说一下，我会在最后分享这个机器人，这样你也可以使用它。但是请记住，不要与<strong class="ky ir">“收集的”</strong>数据有任何关系。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">GIF by <a class="ae kv" href="https://giphy.com/gifs/I79LJnc93nufe/links" rel="noopener ugc nofollow" target="_blank">Giphy</a></figcaption></figure><h1 id="655a" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">建造一个机器人</h1><p id="f672" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">各种编程语言中有许多工具可用于抓取。我选择的语言是JavaScript，所以我会坚持使用它。</p><p id="c4f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来我们需要的是一个可以在浏览器中模拟用户交互的工具。同样，您可以使用许多工具来实现这一点。我将使用<a class="ae kv" href="https://github.com/puppeteer/puppeteer" rel="noopener ugc nofollow" target="_blank">木偶师</a>，因为它需要零配置开始。它有很好的文档记录，并且有坚实的用户基础。</p><p id="c222" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你第一次听说木偶师。我将快速总结一下它能为我们做什么:</p><ul class=""><li id="6750" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">打开浏览器</li><li id="3816" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">转到浏览器中的任意URL</li><li id="4472" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">点击元素</li><li id="a105" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">在字段中键入</li><li id="b031" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">从任何HTML元素中提取数据</li><li id="1142" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">许多其他有用的东西</li></ul><p id="cbb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然我们选好了武器，是时候组建我们的军队了。我说的军队，是指一个能完成所有战斗的机器人。但在此之前，我们需要分析战场。</p><h2 id="5d8b" class="nf mj iq bd mk ng nh dn mo ni nj dp ms lf nk nl mu lj nm nn mw ln no np my nq bi translated">检查网站</h2><p id="61ba" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">说到抓取网站，你必须意识到没有万能的解决方案。每个网站都有不同的表现，收集所需信息的方法也各不相同。这就是为什么抓取的第一步是分析你正在处理的网站。</p><p id="d5ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我去了https://bernardbad.medium.com/followers的<a class="ae kv" href="https://bernardbad.medium.com/followers" rel="noopener"/>，这是一个显示我所有关注者的页面。从一开始，我只能看到少数几个追随者。</p><p id="aaee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了显示更多的追随者，我需要滚动到页面的底部。等待几秒钟(或者几分钟，如果我的互联网向我宣战的话)。过了一会儿，你就可以看到下一个关注者了。技术行业的人把这种方法称为无限滚动。</p><p id="4f4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，您可以在一个列表中看到我所有的关注者。你已经准备好保存这些信息了。但是首先，您需要在DOM中找到它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/055a4064706879e4046b18c30ae3d983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*e_0zcprXWDtWmczjNFeCIQ.gif"/></div></div></figure><p id="24b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个浏览器都带有<strong class="ky ir">“Inspect”</strong>工具，可以让你点击元素并在DOM中找到它。现在我找到了我想要的元素。我有所有的信息，现在是时候开始建立一个机器人</p><h1 id="d9db" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">组装机器人</h1><p id="d0a0" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">就像通常的编码一样，为了完成最终产品，需要一些时间和调试。我不想用实现细节来烦你。毕竟，代码将是开源的。</p><p id="8526" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你只对一件事好奇。我能完成这个机器人吗？它真的如我所愿吗？</p><p id="0bc4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你打赌。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/394235e8a6021bd3943d7c3d13adb552.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*dMbmUQOxx7UI3EN83RemrQ.gif"/></div></div></figure><p id="41c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">向下滚动需要一些时间，所以我不能展示整个执行过程。我猜你不得不<a class="ae kv" href="https://github.com/codewithbernard/medium-friendly-lamp" rel="noopener ugc nofollow" target="_blank">下载机器人</a>并亲自尝试一下。</p><h1 id="d0d2" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">总结想法</h1><p id="96a8" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">对我来说，这是一个非常有趣的实验。我希望你也一样。刮痧是一种强大的技术，可以节省你大量的时间。而且一旦实现了，就可以反复使用。</p><p id="7ed6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完整的代码和运行指令可以在<a class="ae kv" href="https://github.com/codewithbernard/medium-friendly-lamp" rel="noopener ugc nofollow" target="_blank"> Github </a>上获得。如果你对如何改进有任何问题或建议，请告诉我。玩得开心！</p><p id="c7d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在你出去开始四处<strong class="ky ir"/>收集数据之前，记住我说的话。请务必先阅读服务条款。</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="09f8" class="mi mj iq bd mk ml nz mn mo mp oa mr ms jw ob jx mu jz oc ka mw kc od kd my mz bi translated">进一步阅读</h1><div class="oe of gp gr og oh"><a rel="noopener  ugc nofollow" target="_blank" href="/overcoming-3-major-web-scraping-challenges-that-developers-face-1e664ffe4783"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd ir gy z fp om fr fs on fu fw ip bi translated">克服开发者面临的3大网络抓取挑战</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">如何克服3个主要的网络抓取限制—动态网站、网站交互和指纹管理…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oq l"><div class="or l os ot ou oq ov kp oh"/></div></div></a></div><p id="7ef8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ow">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ow">plain English . io</em></strong></a></p></div></div>    
</body>
</html>