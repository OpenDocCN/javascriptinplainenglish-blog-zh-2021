<html>
<head>
<title>Improve Your UX in Under 10 Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在10分钟内提高你的UX</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/improve-your-ux-in-under-10-minutes-f5c38359a294?source=collection_archive---------19-----------------------#2021-08-10">https://javascript.plainenglish.io/improve-your-ux-in-under-10-minutes-f5c38359a294?source=collection_archive---------19-----------------------#2021-08-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f5dc" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用Levenshtein距离计算实现更智能的路由</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/20f1bd1dccf5532c88b894e1cf1508ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BEqr5ZDpR6vEh50F"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@visuals?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">visuals</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bc94" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">有无数种方法可以改善客户的用户体验。尤其是死胡同对每个人来说都是一个巨大的打击。不仅仅是沮丧，还有你转化率的降低。让我们通过尝试将用户重定向到正确的页面而不是404页面来防止这种情况，并使您的应用程序或网站事件变得更好。</p><p id="0b55" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在本文的最后，您已经了解了Levenshtein距离计算是如何工作的，它如何有助于纠正拼写错误，以及如何使用它来防止用户在没有进一步指导的情况下停留在404页面上。首先，我们将用普通的JavaScript实现这个解决方案，然后作为一个有角度的路由保护。</p><p id="283a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">附注:如果你现在认为错别字不是什么大不了的事情，每一位Macbook Pro用户都会永远感谢你。感谢伟大的蝴蝶键盘。🦋</p><h1 id="709e" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">什么是Levenshtein距离计算？</h1><p id="ff79" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">让我们首先对Levenshtein距离的计算有一个高层次的理解。为了使整篇文章更具可读性，我将用“LDC”代替“Levenshtein距离计算”。</p><p id="bc21" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">LDC是一种确定两个字符串相似性的方法。它计算一个数字，表示将一个字符串转换为另一个字符串所需的修改次数。数字越大，需要的编辑就越多，因此两个输入字符串之间的相似性就越小。</p><p id="67f6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">例如，如果您采用两个输入字符串kitten和sitting，则所需更改的最小数量是三个:</p><p id="b31c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io"> k </strong> itten → <strong class="kv io"> s </strong> itten(用“s”代替“k”)</p><p id="a505" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">sitt <strong class="kv io"> e </strong> n → sitt <strong class="kv io"> i </strong> n(用“I”代替“e”)</p><p id="9b0f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">sittin → sittin <strong class="kv io"> g </strong>(在末尾插入“g”)。</p><p id="3b9d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">LDC是在git之类的命令行工具中纠正用户输入的一个很好的方法。</p><p id="f5c5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最有可能的是，用户只是搞混了几个字母，而Levenshtein会在那里提供帮助。git CLI根据字符串相似性建议您可能想要的命令。</p><p id="8cf9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，在没有计算密集型机器学习的情况下，预测用户想要的输入是可能的。它快速、经济且易于实施。由于这是一个简单的字符串比较，不涉及任何人工智能，这只是在打字错误的情况下有所帮助。如果您已经将一个URL重命名为另一个，例如，将<em class="lp">首选项</em>重命名为<em class="lp">设置</em>，LDC不是正确的解决方案。</p><p id="db88" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你想了解更多关于计算本身或其背后的理论，<a class="ae ks" href="https://medium.com/@ethannam" rel="noopener"> Ethan Nam </a>已经为你提供了他的伟大文章<a class="ae ks" href="https://medium.com/@ethannam/understanding-the-levenshtein-distance-equation-for-beginners-c4285a5604f0" rel="noopener">为初学者理解Levenshtein距离方程</a>。除了Levenshtein，还有一些其他的字符串相似性算法，例如<a class="ae ks" href="https://en.wikipedia.org/wiki/Cosine_similarity" rel="noopener ugc nofollow" target="_blank">余弦</a>、<a class="ae ks" href="https://en.wikipedia.org/wiki/Trigram" rel="noopener ugc nofollow" target="_blank">三元模型</a>、<a class="ae ks" href="https://en.wikipedia.org/wiki/Jaro%E2%80%93Winkler_distance" rel="noopener ugc nofollow" target="_blank">Jaro–Winkler</a>和<a class="ae ks" href="https://en.wikipedia.org/wiki/Hamming_distance" rel="noopener ugc nofollow" target="_blank"> Hamming </a>。对于每个用例，评估哪种算法是合适的是有意义的，因为计算相似性的方法是不同的。有时会考虑顺序(例如Levenshtein)，有时则不会(例如余弦)</p><p id="aec6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，让我们更进一步，在应用程序中使用它来建议下一个最佳路线，以防客户由于深层链接中的拼写错误(例如拼写错误privacy)而进入404页面。</p><h1 id="b1b6" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">使用Levenshtein距离计算来提出路线建议</h1><p id="27fd" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">现在我们知道了LDC是做什么的，让我们实现一个基本的路线建议机制来帮助用户决定下一步去哪里，以防客户由于打字错误而遇到404。这个想法是显示客户可能想要导航或立即重定向的最有可能的路线。</p><p id="5060" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">JavaScript是我选择的武器，npm提供了很好的LDC实现。在这种情况下，我选择使用速度最快的levenshtein库。</p><p id="910a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><a class="ae ks" href="https://www.npmjs.com/package/fastest-levenshtein" rel="noopener ugc nofollow" target="_blank">fast-levenshtein</a>公开了两个函数，<code class="fe mn mo mp mq b">distance(a: string, b: string): number</code>接受两个参数，两个参数都是被比较的字符串，结果是以数字形式计算的距离。第二个是<code class="fe mn mo mp mq b">closest(str: string, arr: string[]): string</code>,它接受一个字符串和一个数组来比较字符串。该函数的结果是需要修改次数最少的字符串。为了简单起见，我们将使用最接近的<em class="lp">函数。由于目前可能没有人使用普通的JavaScript，我将只坚持逻辑(这显然很简单，因为最快的levenshtein库为我们做了所有繁重的工作)。</em></p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="b110" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">第一种方法有其缺点。开始时，我们只是检查当前路由的路径名是否存在于我们注册的routes对象中。如果没有，我们调用LDC来获得最近的可能路线。到目前为止一切顺利。但是你可能已经注意到了，这可能会引起一些麻烦。让我详细说明一下。想象以下场景:用户键入<em class="lp">privacy</em>，但是您已经将privacy route重命名为<em class="lp"> privacy-settings </em>。LDC输出值9。但是还有另一条路线，叫做<em class="lp">剖面</em>。LDC输出值6。现在我们完蛋了。如你所见，在这种情况下，算法一点帮助都没有。这甚至可能会让客户搞不清楚他/她是如何被重定向到一个具有完全不同上下文的页面的。</p><p id="8eac" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们通过一些调整来优化第一种方法。这一次，我们将使用库的<em class="lp">距离</em>功能来获取更多关于当前路径与我们所有已注册的路径相比有多接近的细节。我们还介绍了常数<code class="fe mn mo mp mq b">MAX_DISTANCE</code>。正如在第一种方法中已经看到的，我们检查当前路径名是否存在于我们注册的routes对象中。如果不是这样，我们使用LDC <em class="lp"> distance </em>方法来获得当前路径名和每个注册路由所需的修改次数。然后我们根据修改次数对结果进行排序，并通过新引入的常量<code class="fe mn mo mp mq b">MAX_DISTANCE</code>对结果进行过滤。这样，我们至少可以确保我们只接受一个合理的路线建议，并且只进行一些必要的修改。当然，这也不是万无一失的，但对大多数情况来说已经足够好了。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mr ms l"/></div></figure><h1 id="2fd8" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">使用Levenshtein距离计算自动将用户重定向到正确的页面</h1><p id="0941" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">为了让整个概念更进一步，我们在Angular中实现了一个路由保护，它自动将用户重定向到LDC建议的路由，从而防止客户看到总共404页的内容。让我们开门见山吧。完整的回购可以在<a class="ae ks" href="https://github.com/danielreiser/medium-levenshtein-404-redirect" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mr ms l"/></div></figure></div><div class="ab cl mt mu hr mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ig ih ii ij ik"><p id="1518" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您已经看到，只需几行代码(好吧，公平地说，<a class="ae ks" href="https://www.npmjs.com/package/fastest-levenshtein" rel="noopener ugc nofollow" target="_blank">速度最快的levenshtein </a>库为我们完成了所有繁重的工作)和最少的时间，您就可以将用户的挫折感降至最低，并提高应用程序的UX。</p><h2 id="3305" class="na lr in bd ls nb nc dn lw nd ne dp ma lc nf ng mc lg nh ni me lk nj nk mg nl bi translated">资源</h2><ul class=""><li id="ca61" class="nm nn in kv b kw mi kz mj lc no lg np lk nq lo nr ns nt nu bi translated"><a class="ae ks" href="https://medium.com/@ethannam/understanding-the-levenshtein-distance-equation-for-beginners-c4285a5604f0" rel="noopener">初学者理解Levenshtein距离方程</a>作者<a class="ae ks" href="https://medium.com/@ethannam" rel="noopener"> Ethan Nam </a></li><li id="b254" class="nm nn in kv b kw nv kz nw lc nx lg ny lk nz lo nr ns nt nu bi translated"><a class="ae ks" href="https://en.wikipedia.org/wiki/Levenshtein_distance" rel="noopener ugc nofollow" target="_blank">维基百科关于Levenshtein距离的文章</a></li><li id="c975" class="nm nn in kv b kw nv kz nw lc nx lg ny lk nz lo nr ns nt nu bi translated"><a class="ae ks" href="https://www.npmjs.com/package/fastest-levenshtein" rel="noopener ugc nofollow" target="_blank">最快的levenshtein npm包</a></li><li id="d268" class="nm nn in kv b kw nv kz nw lc nx lg ny lk nz lo nr ns nt nu bi translated"><a class="ae ks" href="https://github.com/danielreiser/medium-levenshtein-404-redirect" rel="noopener ugc nofollow" target="_blank">角状刳刨机护罩示例</a></li><li id="2ce7" class="nm nn in kv b kw nv kz nw lc nx lg ny lk nz lo nr ns nt nu bi translated"><a class="ae ks" href="https://en.wikipedia.org/wiki/Cosine_similarity" rel="noopener ugc nofollow" target="_blank">余弦相似度</a></li><li id="50da" class="nm nn in kv b kw nv kz nw lc nx lg ny lk nz lo nr ns nt nu bi translated"><a class="ae ks" href="https://en.wikipedia.org/wiki/Trigram" rel="noopener ugc nofollow" target="_blank">三元模型</a></li><li id="0d00" class="nm nn in kv b kw nv kz nw lc nx lg ny lk nz lo nr ns nt nu bi translated"><a class="ae ks" href="https://en.wikipedia.org/wiki/Jaro%E2%80%93Winkler_distance" rel="noopener ugc nofollow" target="_blank">贾罗-温克勒距离</a></li><li id="6937" class="nm nn in kv b kw nv kz nw lc nx lg ny lk nz lo nr ns nt nu bi translated"><a class="ae ks" href="https://en.wikipedia.org/wiki/Hamming_distance" rel="noopener ugc nofollow" target="_blank">海明距离</a></li></ul><p id="225e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lp">更多内容请看</em><a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lp">plain English . io</em></strong></a></p></div></div>    
</body>
</html>