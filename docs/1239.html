<html>
<head>
<title>Let’s Build a Svelte/Sapper App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们建立一个苗条的应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-build-a-website-search-bar-with-svelte-and-rxjs-d5aab934c6a7?source=collection_archive---------18-----------------------#2021-03-15">https://javascript.plainenglish.io/lets-build-a-website-search-bar-with-svelte-and-rxjs-d5aab934c6a7?source=collection_archive---------18-----------------------#2021-03-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="b9a2" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">在这一部分，我们将重点关注登录页面和搜索游戏的基本结构。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/0efe3ba1d1db116b2a4e749a3ac64ce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lyoFtFjpYDunxLPX"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@king_lip?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">King Lip</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1204" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你错过了<a class="ae ks" rel="noopener ugc nofollow" target="_blank" href="/setting-up-a-full-svelte-sapper-project-7e3109c7b530">的最后一部分</a>，并且有兴趣了解我们是如何建立这个项目的，请回去阅读，这篇文章不会有任何进展。</p><p id="149e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这一部分，我们将重点开发登录页面。我们将写下搜索游戏的基础知识，这样其他页面和组件就知道了。</p><p id="c25c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果想直接跳到代码，可以在这里找到<a class="ae ks" href="https://github.com/omirobarcelo/retro-ps5/tree/part1" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="5bc9" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">品牌宣传</h1><p id="94ff" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">Sapper模板带有一个带有Svelte标志的<code class="fe mm mn mo mp b">favicon</code>。但是我们想要自己的东西。我们可以雇人替我们做，或者自己做。</p><p id="8378" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在我的例子中，我选择自己做，但从一个基础开始，维基百科中使用的PS4标志。</p><p id="1fae" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们获取SVG并使用任何可用的在线预览器和编辑器。我用的是<a class="ae ks" href="https://www.rapidtables.com/web/tools/svg-viewer-editor.html" rel="noopener ugc nofollow" target="_blank">https://www . rapid tables . com/web/tools/SVG-viewer-editor . html</a>。为了平移——比如在XY轴上移动徽标——我使用了<a class="ae ks" href="http://petercollingridge.appspot.com/svg-transforms" rel="noopener ugc nofollow" target="_blank">http://petercollingridge.appspot.com/svg-transforms</a>。遵循与其他字母相同的样式，我们创建徽标，并将其作为SVG保存在我们的静态文件夹中，在那里我们将放置我们所有的资产。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/9499fa6b7f0603d5dc3940fae629b00d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*rbHXiFfuLwVBXuGqrXHEag.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Logo</figcaption></figure><p id="d5d4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">使用相同的策略，我们创建了将在浏览器标签中看到的图标。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/14b20d67553b2bef3bc159f68f9f8b06.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*3PYVkFaRR2PU0SOqUF790g.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Icon</figcaption></figure><h1 id="496d" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">搜索栏</h1><p id="5bf4" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">Tailwind CSS不是一个组件库。但是它确实有一些例子，说明如何用它的类创建一些常用的组件。我们使用<a class="ae ks" href="https://tailwindcss.com/components/navigation" rel="noopener ugc nofollow" target="_blank">导航</a>和<a class="ae ks" href="https://tailwindcss.com/components/forms" rel="noopener ugc nofollow" target="_blank">输入</a>示例作为基础，使它们适应我们想要的外观和需求。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ms"><img src="../Images/365f7d952093efea23d5190593e33e6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qoiBXXr1dc9RnMYN28mmBw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Landing page with search bar</figcaption></figure><p id="6b9a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们将使用<a class="ae ks" href="https://rxjs-dev.firebaseapp.com/" rel="noopener ugc nofollow" target="_blank"> RxJs </a>从搜索栏中获取值。RxJs使用可观测量，就像数据流一样。它附带了许多适合搜索栏需要的有用的操作符。我们用<code class="fe mm mn mo mp b">yarn add --dev rxjs</code>安装它，并将它添加到<code class="fe mm mn mo mp b">Nav.svelte</code>。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="1375" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在模板中，我们用<code class="fe mm mn mo mp b">&lt;input bind:this={searchElem} /&gt;</code>将<code class="fe mm mn mo mp b">input</code>元素绑定到代码中的一个变量。<br/> <code class="fe mm mn mo mp b">onMount</code>在模板渲染时运行。我们需要在这里添加我们的代码，以便它在输入元素已经存在时运行——在此之前是未定义的。<br/> <code class="fe mm mn mo mp b">fromEvent</code>会在我们每次输入搜索栏的时候发出<code class="fe mm mn mo mp b">InputEvent</code>。对于不熟悉函数式编程的人来说，管道按顺序执行每个操作符，并将结果传递给下一个操作符。因为我们要为每个搜索做一个后端调用，所以我们想要控制我们发送的请求数量。<code class="fe mm mn mo mp b">debounceTime</code>将等待—在本例中为350毫秒—将发出的事件传递给下一个操作员。通过<code class="fe mm mn mo mp b">map</code>,我们得到了事件的值，也就是输入的查询。只有1或2个字符的查询可能会返回太多的游戏，所以我们只传递给下一个具有3个或更多字符或0个字符的操作符术语，这将返回到登录页面。最后<code class="fe mm mn mo mp b">distinctUntilChanged</code>过滤掉与前一次发射相同的术语。让我们看看这是如何工作的。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/20ee01dd8bf8015680d912d9f4412e52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*12nBzY3DtP70yT7T_E0fHg.gif"/></div></div></figure><h1 id="8bb0" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">商店</h1><p id="623d" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">Svelte自带内置商店。商店是真理的单一来源。我们将使用存储来保存搜索栏状态。这样，每个页面和组件都可以访问搜索到的术语并对其进行操作。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="c5f1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可以在<code class="fe mm mn mo mp b">Nav.svelte.</code>中设置它</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="a6b8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">并快速创建一个空的“关于”页面，我们将在这里访问该值。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="fdb3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">总的来说是这样的。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/0463eb297412a702d3729019b01ab48d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/1*8qWFWgb2-t5UGOmEeLGCxw.gif"/></div></figure></div><div class="ab cl mx my hr mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ig ih ii ij ik"><p id="16c2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们到达了另一部分的结尾。现在设置了搜索栏结构，我们可以开始调用游戏的后端了。但是首先，我们需要创建这些端点。这将是在下一部分！</p><p id="a7d0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可以在<a class="ae ks" href="https://github.com/omirobarcelo/retro-ps5/tree/part1" rel="noopener ugc nofollow" target="_blank">https://github.com/omirobarcelo/retro-ps5/tree/part1</a>中看到到目前为止的所有代码。</p><p id="8970" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">感谢您通读本系列的新章节。我希望你正在享受它并且学到一些东西。下一集<a class="ae ks" rel="noopener ugc nofollow" target="_blank" href="/lets-build-a-svelte-sapper-app-348d7553b021">再见</a>！</p><p id="0132" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">参考文献</strong></p><div class="ne nf gp gr ng nh"><a href="https://www.rapidtables.com/web/tools/svg-viewer-editor.html" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd io gy z fp nm fr fs nn fu fw im bi translated">SVG在线查看器和编辑器</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">SVG文件浏览器和在线编辑器。</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">www.rapidtables.com</p></div></div></div></a></div><div class="ne nf gp gr ng nh"><a href="http://petercollingridge.appspot.com/svg-transforms" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd io gy z fp nm fr fs nn fu fw im bi translated">SVG优化器</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">查看将转换应用到SVG元素的结果。单击当前实施的项目查看示例…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">petercollingridge.appspot.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv km nh"/></div></div></a></div><div class="ne nf gp gr ng nh"><a href="https://tailwindcss.com/components/navigation" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd io gy z fp nm fr fs nn fu fw im bi translated">顺风UI -官方顺风CSS组件</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">Tailwind UI是一个专业设计的、预构建的、完全响应的HTML片段集合，您可以进入…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">tailwindcss.com</p></div></div></div></a></div><div class="ne nf gp gr ng nh"><a href="https://tailwindcss.com/components/forms" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd io gy z fp nm fr fs nn fu fw im bi translated">顺风UI -官方顺风CSS组件</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">Tailwind UI是一个专业设计的、预构建的、完全响应的HTML片段集合，您可以进入…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">tailwindcss.com</p></div></div></div></a></div><div class="ne nf gp gr ng nh"><a href="https://rxjs-dev.firebaseapp.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd io gy z fp nm fr fs nn fu fw im bi translated">RxJS</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">编辑描述</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">rxjs-dev.firebaseapp.com</p></div></div></div></a></div><p id="3c80" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nw">代表</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nw">团队，感谢阅读。</em></strong></a></p></div></div>    
</body>
</html>