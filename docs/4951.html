<html>
<head>
<title>Another 17 Life-Saving JavaScript One-Liners 🔥</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">另外17个救命的JavaScript一行程序🔥</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/another-17-life-saving-javascript-one-liners-8c335bf73d2c?source=collection_archive---------5-----------------------#2021-10-06">https://javascript.plainenglish.io/another-17-life-saving-javascript-one-liners-8c335bf73d2c?source=collection_archive---------5-----------------------#2021-10-06</a></blockquote><div><div class="fc ic id ie if ig"/><div class="ih ii ij ik il"><div class=""/><div class=""><h2 id="2d84" class="pw-subtitle-paragraph jl in io bd b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc dk translated">拯救生命的JavaScript一行程序系列的第2部分。</h2></div><p id="dfc3" class="pw-post-body-paragraph kd ke io kf b kg kh jp ki kj kk js kl km kn ko kp kq kr ks kt ku kv kw kx ky ih bi translated">在第一部分中，我按顺序列出了与<strong class="kf ip"> DOM、数组和对象</strong>相关的不同的一行程序。在这一部分，我将按顺序列出与<strong class="kf ip">字符串、日期和一些杂七杂八的东西</strong>相关的其他不同的命令行程序。</p><p id="131b" class="pw-post-body-paragraph kd ke io kf b kg kh jp ki kj kk js kl km kn ko kp kq kr ks kt ku kv kw kx ky ih bi translated">看看第一部分⬇</p><div class="kz la gq gs lb lc"><a rel="noopener  ugc nofollow" target="_blank" href="/17-life-saving-javascript-one-liners-part1-b0b0b32c9f61"><div class="ld ab fp"><div class="le ab lf cl cj lg"><h2 class="bd ip gz z fq lh fs ft li fv fx in bi translated">17个救命的JavaScript一行程序🔥</h2><div class="lj l"><h3 class="bd b gz z fq lh fs ft li fv fx dk translated">拯救生命的JavaScript一行程序系列的第1部分。</h3></div><div class="lk l"><p class="bd b dl z fq lh fs ft li fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq lr lc"/></div></div></a></div><figure class="lt lu lv lw gu lx gi gj paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gi gj ls"><img src="../Images/426be60e6135cde086d8292943fc94dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lwz46hyrDlPc5UoPeH2xzg.jpeg"/></div></div></figure><h1 id="04e5" class="md me io bd mf mg mh mi mj mk ml mm mn ju mo jv mp jx mq jy mr ka ms kb mt mu bi translated"><strong class="ak">琴弦</strong></h1><h2 id="1185" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">检查路径是否是相对的</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="efc2" class="mv me io ni b gz nm nn l no np">const isRelative = (path) =&gt; !/^([a-z]+:)?[\\/]/i.test(path);</span><span id="eb52" class="mv me io ni b gz nq nn l no np">// Examples<br/>isRelative('/foo/bar/baz'); // false<br/>isRelative('C:\\foo\\bar\\baz'); // false<br/>isRelative('foo/bar/baz.txt'); // true<br/>isRelative('foo.md'); // true</span></pre><h2 id="d9df" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">将字符串的第一个字符变为小写</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="07e4" class="mv me io ni b gz nm nn l no np">const lowercaseFirst = (str) =&gt; `${str.charAt(0).toLowerCase()}${str.slice(1)}`;</span><span id="1918" class="mv me io ni b gz nq nn l no np">// Example<br/>lowercaseFirst('Hello World'); // 'hello World'</span></pre><h2 id="30dd" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">重复一串</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="8f96" class="mv me io ni b gz nm nn l no np">const repeat = (str, numberOfTimes) =&gt; str.repeat(numberOfTimes);</span></pre><h2 id="2302" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">检查字符串是否是十六进制颜色</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="95d2" class="mv me io ni b gz nm nn l no np">const isHexColor = (color) =&gt; /^#([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i.test(color);</span><span id="a0d3" class="mv me io ni b gz nq nn l no np">// Examples<br/>isHexColor('#012'); // true<br/>isHexColor('#A1B2C3'); // true<br/>isHexColor('012'); // false<br/>isHexColor('#GHIJKL'); // false</span></pre><h1 id="d8b9" class="md me io bd mf mg mh mi mj mk ml mm mn ju mo jv mp jx mq jy mr ka ms kb mt mu bi translated">日期</h1><h2 id="7b5a" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">将“am/pm”后缀添加到小时中</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="587c" class="mv me io ni b gz nm nn l no np">// `h` is an hour number between 0 and 23<br/>const suffixAmPm = (h) =&gt; `${h % 12 === 0 ? 12 : h % 12}${h &lt; 12 ? 'am' : 'pm'}`;</span><span id="5c8f" class="mv me io ni b gz nq nn l no np">// Examples<br/>suffixAmPm(0); // '12am'<br/>suffixAmPm(5); // '5am'<br/>suffixAmPm(12); // '12pm'<br/>suffixAmPm(15); // '3pm'<br/>suffixAmPm(23); // '11pm'</span></pre><h2 id="0b93" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">计算两个日期之间不同的天数</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="01b8" class="mv me io ni b gz nm nn l no np">const diffDays = (date, otherDate) =&gt; Math.ceil(Math.abs(date - otherDate) / (1000 * 60 * 60 * 24));</span><span id="2271" class="mv me io ni b gz nq nn l no np">// Example<br/>diffDays(new Date('2014-12-19'), new Date('2020-01-01')); // 1839</span></pre><h2 id="7d83" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">检查日期是否有效</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="5c48" class="mv me io ni b gz nm nn l no np">const isDateValid = (...val) =&gt; !Number.isNaN(new Date(...val).valueOf());</span><span id="fedc" class="mv me io ni b gz nq nn l no np">isDateValid("December 17, 1995 03:24:00"); // true</span></pre><h1 id="b3da" class="md me io bd mf mg mh mi mj mk ml mm mn ju mo jv mp jx mq jy mr ka ms kb mt mu bi translated"><strong class="ak">杂项</strong></h1><h2 id="412c" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">检查代码是否在Node.js中运行</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="b945" class="mv me io ni b gz nm nn l no np">const isNode = typeof process !== 'undefined' &amp;&amp; process.versions != null &amp;&amp; process.versions.node != null;</span></pre><h2 id="f2de" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">检查代码是否正在浏览器中运行</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="c770" class="mv me io ni b gz nm nn l no np">const isBrowser = typeof window === 'object' &amp;&amp; typeof document === 'object';</span></pre><h2 id="001c" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">将URL参数转换为对象</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="1f67" class="mv me io ni b gz nm nn l no np">const getUrlParams = (query) =&gt;Array.from(new URLSearchParams(query)).reduce((p, [k, v]) =&gt; Object.assign({}, p, { [k]: p[k] ? (Array.isArray(p[k]) ? p[k] : [p[k]]).concat(v) : v }),{});</span><span id="f6fb" class="mv me io ni b gz nq nn l no np">// Examples<br/>getUrlParams(location.search); // Get the parameters of the current URL</span><span id="6284" class="mv me io ni b gz nq nn l no np">getUrlParams('foo=Foo&amp;bar=Bar'); // { foo: "Foo", bar: "Bar" }</span><span id="da4c" class="mv me io ni b gz nq nn l no np">// Duplicate key<br/>getUrlParams('foo=Foo&amp;foo=Fuzz&amp;bar=Bar'); // { foo: ["Foo", "Fuzz"], bar: "Bar" }</span></pre><h2 id="065b" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">检测黑暗模式</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="5a74" class="mv me io ni b gz nm nn l no np">const isDarkMode = window.matchMedia &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches;</span></pre><h2 id="327c" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">交换两个变量</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="eb2b" class="mv me io ni b gz nm nn l no np">[a, b] = [b, a];</span></pre><h2 id="fd46" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">复制到剪贴板</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="4294" class="mv me io ni b gz nm nn l no np">const copyToClipboard = (text) =&gt; navigator.clipboard.writeText(text);</span><span id="61ff" class="mv me io ni b gz nq nn l no np">// Example<br/>copyToClipboard("Hello World");</span></pre><h2 id="e19c" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">将RGB转换为十六进制</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="7ecb" class="mv me io ni b gz nm nn l no np">const rgbToHex = (r, g, b) =&gt; "#" + ((1 &lt;&lt; 24) + (r &lt;&lt; 16) + (g &lt;&lt; 8) + b).toString(16).slice(1);</span><span id="1968" class="mv me io ni b gz nq nn l no np">// Example<br/>rgbToHex(0, 51, 255); // #0033ff</span></pre><h2 id="bb75" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">生成随机的十六进制颜色</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="86b3" class="mv me io ni b gz nm nn l no np">const randomColor = () =&gt; `#${Math.random().toString(16).slice(2, 8).padEnd(6, '0')}`;</span><span id="c559" class="mv me io ni b gz nq nn l no np">// Or<br/>const randomColor = () =&gt; `#${(~~(Math.random() * (1 &lt;&lt; 24))).toString(16)}`;</span></pre><h2 id="aca7" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">生成一个随机的IP地址</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="b33d" class="mv me io ni b gz nm nn l no np">const randomIp = () =&gt; Array(4).fill(0)<br/>.map((_, i) =&gt; Math.floor(Math.random() * 255) + (i === 0 ? 1 : 0))<br/>.join('.');</span><span id="8474" class="mv me io ni b gz nq nn l no np">// Example<br/>randomIp(); // 175.89.174.131</span></pre><h2 id="e91d" class="mv me io bd mf mw mx dn mj my mz dp mn km na nb mp kq nc nd mr ku ne nf mt ng bi translated">使用节点加密模块生成随机字符串</h2><pre class="lt lu lv lw gu nh ni nj nk aw nl bi"><span id="a78b" class="mv me io ni b gz nm nn l no np">const randomStr = () =&gt; require('crypto').randomBytes(32).toString('hex');</span></pre><blockquote class="nr ns nt"><p id="49c2" class="kd ke nu kf b kg kh jp ki kj kk js kl nv kn ko kp nw kr ks kt nx kv kw kx ky ih bi translated">亲爱的读者:</p><p id="0410" class="kd ke nu kf b kg kh jp ki kj kk js kl nv kn ko kp nw kr ks kt nx kv kw kx ky ih bi translated">谢谢你的时间。如果你分享你的想法，我会很高兴。</p></blockquote><blockquote class="ny"><p id="79e5" class="nz oa io bd ob oc od oe of og oh ky dk translated">编码快乐！❤</p></blockquote><p id="1e88" class="pw-post-body-paragraph kd ke io kf b kg oi jp ki kj oj js kl km ok ko kp kq ol ks kt ku om kw kx ky ih bi translated"><em class="nu">更多内容请看</em><a class="ae on" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ip"><em class="nu">plain English . io</em></strong></a></p></div></div>    
</body>
</html>