<html>
<head>
<title>A Beginner’s Guide To React Router</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React路由器初学者指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/a-beginners-guide-to-react-router-34b4e86fded3?source=collection_archive---------11-----------------------#2021-02-02">https://javascript.plainenglish.io/a-beginners-guide-to-react-router-34b4e86fded3?source=collection_archive---------11-----------------------#2021-02-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="978a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用react-router-dom轻松导航到不同的屏幕</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/705fa492cd73248b9816a938bd9f7476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*h0tZ064I5-3Jc7ls"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@bugsster?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Taras Shypka</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fa4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您正在使用React或者想要学习它，您可能会对在不同的屏幕上导航感到困惑。</p><p id="73fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对吗？</p><p id="f367" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们都知道，网站和应用不能在同一个屏幕上。多个页面构成一个网站。</p><p id="10c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我们正在创建一个基本的React应用程序来理解<a class="ae kv" href="https://www.npmjs.com/package/react-router-dom" rel="noopener ugc nofollow" target="_blank"> react-router-dom </a>。</p><p id="a7bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，我们使用<a class="ae kv" href="https://www.npmjs.com/package/react-router-dom" rel="noopener ugc nofollow" target="_blank"> react-router-dom </a>，我将详细解释它。</p><p id="8724" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以让我们开始吧。</p><h1 id="f262" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.创建React应用程序</h1><p id="c2c9" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在所需的目录下打开命令提示符，并键入</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="538a" class="mu lt iq mq b gy mv mw l mx my">npx create-react-app react-routing</span></pre><p id="fe1c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它将创建一个名为react-routing的React应用程序。</p><p id="7f45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在你的代码编辑器中打开它(我用的是VS代码)。通过拖放文件夹或在命令提示符下键入以下代码。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="9bad" class="mu lt iq mq b gy mv mw l mx my">code .</span></pre><p id="c1e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保您位于react-routing目录中。</p><p id="f12f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我在</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="d348" class="mu lt iq mq b gy mv mw l mx my">C:\Users\Nitin</span></pre><p id="1f04" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我用cd(更改目录)更改了我的目录。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/a61688d9bb00d94bc034e0adfdb44e72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f9sRu3pUYXi3a5jxHUE6_A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: Author</figcaption></figure></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="6a01" class="ls lt iq bd lu lv nh lx ly lz ni mb mc jw nj jx me jz nk ka mg kc nl kd mi mj bi translated">2.运行React应用程序</h1><p id="dee2" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">一旦在VS代码中打开了react-routing，就可以直接在VS代码中运行。</p><p id="ae09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过terminal打开内置终端= &gt;新终端出现在顶部导航栏或按快捷键as</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="8d80" class="mu lt iq mq b gy mv mw l mx my">Ctrl + `</span></pre><p id="8e34" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">和类型</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="4586" class="mu lt iq mq b gy mv mw l mx my">npm start </span></pre><p id="113b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，您将切换到localhost:3000，使用默认的React屏幕。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/b8fdc4faffeec18b499d5fd9b7bf6754.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Et8PwFocEV1W3XhX4gG9ZQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: React</figcaption></figure><p id="e081" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你看到上面的屏幕时，恭喜你，你已经准备好继续前进了。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="26d4" class="ls lt iq bd lu lv nh lx ly lz ni mb mc jw nj jx me jz nk ka mg kc nl kd mi mj bi translated">3.正在安装React路由器Dom</h1><p id="54ca" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">当您运行React应用程序时，您的VS代码终端如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/5371f393152325c7269828cc5eee88c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WSocy7a5ht-OHQeRW4Wlwg.png"/></div></div></figure><p id="8d79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，您不能在终端中写入任何内容。因此，要终止它，请键入</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="4573" class="mu lt iq mq b gy mv mw l mx my">Ctrl + c</span></pre><p id="b0e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在安装依赖项。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="52e8" class="mu lt iq mq b gy mv mw l mx my">npm install react-router-dom</span></pre><p id="2a62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们正在下载一个路由包。它是与React集成的第三方包。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="1b29" class="ls lt iq bd lu lv nh lx ly lz ni mb mc jw nj jx me jz nk ka mg kc nl kd mi mj bi translated">4.创建文件夹和文件</h1><p id="b14a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在VS代码中，如下所示更改文件夹结构。</p><p id="6553" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只需在src中添加一个名为screens的文件夹和两个名为<strong class="ky ir"> ContactUs.js </strong>和<strong class="ky ir"> FeatureScreen.js. </strong>的文件</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/912857d393082ec7196ff04bafc3d8ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*h0kMhnt53T_ikGVHBsI-4g.png"/></div></figure><p id="9b7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们为什么要这样做？导航到不同的屏幕。</p><p id="a96b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">把文件想象成屏幕。</p><p id="95f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，这里我们创建了两个屏幕ContactUs和FeatureScreen。</p><p id="100a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">干得好！您已经设置了React应用程序，现在是时候了解react-router-dom了。</p><p id="8072" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">在FeatureScreen.js中添加以下代码。</strong></p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="fc7c" class="mu lt iq mq b gy mv mw l mx my">import React from 'react';</span><span id="22bf" class="mu lt iq mq b gy np mw l mx my">function FeatureScreen() {<br/>return (<br/>   &lt;div&gt;<br/>       &lt;h1&gt; I am Feature Screen &lt;/h1&gt;<br/>   &lt;/div&gt;<br/>       ); <br/>}</span><span id="2b49" class="mu lt iq mq b gy np mw l mx my">export default FeatureScreen;</span></pre><p id="7c74" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里我们创建一个函数组件并返回标签<h1>。</h1></p><p id="7e97" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">类似地，在ContactUs.js中编写以下代码。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="f6af" class="mu lt iq mq b gy mv mw l mx my">import React from 'react';<br/>function ContactUs() {<br/>return (<br/>    &lt;div&gt;<br/>        &lt;h1&gt; I am Contact Us Screen &lt;/h1&gt;<br/>    &lt;/div&gt;<br/>        );<br/>}</span><span id="4125" class="mu lt iq mq b gy np mw l mx my">export default ContactUs;</span></pre></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="4e1e" class="ls lt iq bd lu lv nh lx ly lz ni mb mc jw nj jx me jz nk ka mg kc nl kd mi mj bi translated">5.React路由器Dom的工作</h1><p id="b158" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在React中，index.js是React应用程序运行的主文件，而App.js是渲染的主文件。</p><p id="b302" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们正在与App.js合作</p><p id="41c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在App.js中键入以下代码</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="8ae0" class="mu lt iq mq b gy mv mw l mx my">import React from 'react';<br/>import { BrowserRouter as Router, Route } from 'react-router-dom';<br/>import FeatureScreen from './screens/FeatureScreen';<br/>import ContactUs from './screens/ContactUs';</span><span id="020a" class="mu lt iq mq b gy np mw l mx my">function App() {<br/> return (<br/>    &lt;Router&gt;<br/>       &lt;Route path="/" &gt;<br/>          &lt;FeatureScreen/&gt;<br/>       &lt;/Route&gt;</span><span id="9af3" class="mu lt iq mq b gy np mw l mx my">       &lt;Route path="/contacts"&gt;<br/>          &lt;ContactUs/&gt;<br/>       &lt;/Route&gt;<br/>    &lt;/Router&gt;<br/> );<br/>}</span><span id="c99b" class="mu lt iq mq b gy np mw l mx my">export default App;</span></pre><p id="c8f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们如何设置路由？</p><p id="2f07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="e6e7" class="mu lt iq mq b gy mv mw l mx my">import { BrowserRouter as Router, Route } from 'react-router-dom';</span></pre><p id="e376" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里我们导入了BrowserRouter，并将其重命名为Router。和路由，我将在后面解释。</p><p id="1704" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们导入FeatureScreen.js和ContactUs.js</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="fdba" class="mu lt iq mq b gy mv mw l mx my">import FeatureScreen from './screens/FeatureScreen';<br/>import ContactUs from './screens/ContactUs';</span></pre><p id="cb40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们来谈谈功能组件。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="6752" class="mu lt iq mq b gy mv mw l mx my">function App() {<br/> return (<br/>    &lt;Router&gt;<br/>       &lt;Route path="/" &gt;<br/>          &lt;FeatureScreen/&gt;<br/>       &lt;/Route&gt;</span><span id="336e" class="mu lt iq mq b gy np mw l mx my">       &lt;Route path="/contacts"&gt;<br/>          &lt;ContactUs/&gt;<br/>       &lt;/Route&gt;<br/>    &lt;/Router&gt;<br/> );<br/>}</span></pre><p id="27bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><Router> </Router>帮助导航到不同的屏幕。所以我们包装了所有使用路由器的东西。</p><p id="492a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">什么会使用路由器？我们提到的屏幕是FeatureScreen和ContactUs。所以我们把功能屏幕包起来，在里面联系我们。</p><p id="83e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是路由器内部的路由是什么呢？它是React路由器Dom中的一个组件。</p><p id="1baa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Route组件用来添加路径，您可以从下面的代码中看到。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="e694" class="mu lt iq mq b gy mv mw l mx my">&lt;Route path="/" &gt;<br/>    &lt;FeatureScreen/&gt;<br/>&lt;/Route&gt;</span></pre><p id="4a1a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以当路径是http://localhost:3000/</p><p id="0581" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当路径为http://localhost:3000/contacts时，ContactUs将呈现</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="0709" class="mu lt iq mq b gy mv mw l mx my">&lt;Route path="/contacts"&gt;<br/>     &lt;ContactUs/&gt;<br/>&lt;/Route&gt;</span></pre><p id="41ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该路由只能在路由器组件内部使用。在里面，我们放置了FeatureScreen和ContactUs组件。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="ba40" class="ls lt iq bd lu lv nh lx ly lz ni mb mc jw nj jx me jz nk ka mg kc nl kd mi mj bi translated">6.运行你的程序。</h1><p id="c4c1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">当您在http://localhost:3000/上使用npm start运行程序时，您可以正确地看到它。</p><p id="2c47" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是http://localhost:3000/contacts会显示这两个屏幕。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/4044b9f50e1cff72327056a609e9201e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*PcoE4_vmVKp5GlRb9Qxtfw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: Author</figcaption></figure><p id="297d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为什么呢？代码从上到下运行。所以当你要求的时候</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="0b97" class="mu lt iq mq b gy mv mw l mx my">http://localhost:3000/contacts</span></pre><p id="188b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">还有就是</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="c93d" class="mu lt iq mq b gy mv mw l mx my">http://localhost:3000/</span></pre><p id="c41a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此它将呈现两个屏幕。</p><p id="e2a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是我们不希望这样。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="f86f" class="ls lt iq bd lu lv nh lx ly lz ni mb mc jw nj jx me jz nk ka mg kc nl kd mi mj bi translated">7.错误处理</h1><p id="d295" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">要解决该错误，请在Route组件中添加exact，如下所示。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="f17c" class="mu lt iq mq b gy mv mw l mx my">&lt;Route path="/" <strong class="mq ir">exact</strong>&gt;<br/>   &lt;FeatureScreen/&gt;<br/>&lt;/Route&gt;</span></pre><p id="e6c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在你的App.js看起来像这样</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="6140" class="mu lt iq mq b gy mv mw l mx my">import React from 'react';<br/>import { BrowserRouter as Router, Route } from 'react-router-dom';<br/>import FeatureScreen from './screens/FeatureScreen';<br/>import ContactUs from './screens/ContactUs';</span><span id="139f" class="mu lt iq mq b gy np mw l mx my">function App() {<br/> return (<br/>    &lt;Router&gt;<br/>       &lt;Route path="/" exact&gt;<br/>          &lt;FeatureScreen/&gt;<br/>       &lt;/Route&gt;</span><span id="f707" class="mu lt iq mq b gy np mw l mx my">    &lt;Route path="/contacts" exact&gt;<br/>          &lt;ContactUs/&gt;<br/>       &lt;/Route&gt;<br/>    &lt;/Router&gt;<br/> );<br/>}</span><span id="c2f0" class="mu lt iq mq b gy np mw l mx my">export default App;</span></pre></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="0470" class="ls lt iq bd lu lv nh lx ly lz ni mb mc jw nj jx me jz nk ka mg kc nl kd mi mj bi translated">8.添加重定向组件</h1><p id="3ad8" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们学习了react-router-dom的基础知识。</p><p id="345b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是如果用户访问一个我们没有定义的路径呢</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="d25f" class="mu lt iq mq b gy mv mw l mx my">http://localhost:3000/about</span></pre><p id="c60c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了处理这种类型的错误，我们将使用重定向组件。</p><p id="71ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">导入重定向组件。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="658c" class="mu lt iq mq b gy mv mw l mx my">import { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';</span></pre><p id="3507" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在路由器组件内部，添加以下代码。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="3c44" class="mu lt iq mq b gy mv mw l mx my">&lt;Redirect to="/"/&gt;</span></pre><p id="1c41" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">所以你的App.js看起来像</strong></p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="20c3" class="mu lt iq mq b gy mv mw l mx my">import React from 'react';<br/>import { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';<br/>import FeatureScreen from './screens/FeatureScreen';<br/>import ContactUs from './screens/ContactUs';</span><span id="5eef" class="mu lt iq mq b gy np mw l mx my">function App() {<br/> return (<br/>    &lt;Router&gt;<br/>       &lt;Route path="/" exact&gt;<br/>          &lt;FeatureScreen/&gt;<br/>       &lt;/Route&gt;</span><span id="ec53" class="mu lt iq mq b gy np mw l mx my">      &lt;Route path="/contacts" exact&gt;<br/>          &lt;ContactUs/&gt;<br/>      &lt;/Route&gt;<br/>      <strong class="mq ir">&lt;Redirect to="/"/&gt;</strong><br/>    &lt;/Router&gt;<br/> );<br/>}</span><span id="8e92" class="mu lt iq mq b gy np mw l mx my">export default App;</span></pre><p id="f371" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保从react-router-dom导入重定向组件。</p><p id="60af" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在当你跑的时候</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="3f64" class="mu lt iq mq b gy mv mw l mx my">http://localhost:3000/contacts</span></pre><p id="812f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您将被重定向到</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="5858" class="mu lt iq mq b gy mv mw l mx my">http://localhost:3000/</span></pre><p id="ca9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为什么会这样呢？同样，代码从上到下运行。所以当你加上</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="a6e9" class="mu lt iq mq b gy mv mw l mx my">path="/contacts" </span></pre><p id="50a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与...一起发送</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="179a" class="mu lt iq mq b gy mv mw l mx my">path=/contact </span></pre><p id="d068" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">执行，但在此之后，重定向组件被执行，返回到默认的URL。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><h1 id="f14b" class="ls lt iq bd lu lv nh lx ly lz ni mb mc jw nj jx me jz nk ka mg kc nl kd mi mj bi translated">9.解决问题。</h1><p id="23c0" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们面临的一个问题是，当我们有一个路径而不是默认路径时，它仍然会重定向到默认路径。</p><p id="49ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要解决这个问题，添加另一个名为Switch的组件。</p><p id="4a70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以从react-router-dom导入交换机组件。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="c2b9" class="mu lt iq mq b gy mv mw l mx my">import { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';</span></pre><p id="4b4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并将该组件放在包装所有路由组件的路由器组件中。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="2f25" class="mu lt iq mq b gy mv mw l mx my">&lt;Router&gt;<br/>  <strong class="mq ir">&lt;Switch&gt;</strong><br/>    &lt;Route path="/" exact&gt;<br/>      &lt;FeatureScreen/&gt;<br/>    &lt;/Route&gt;<br/>    &lt;Route path="/contacts" exact&gt;<br/>      &lt;ContactUs/&gt;<br/>    &lt;/Route&gt;<br/>    &lt;Redirect to="/"/&gt;<br/>  <strong class="mq ir">&lt;/Switch&gt;</strong><br/>&lt;/Router&gt;</span></pre><p id="6f5c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">切换组件将根据给定的路径呈现屏幕。如果没有路径，则将其重定向到默认路径。</p><p id="259a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在你的App.js看起来像</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="2a9e" class="mu lt iq mq b gy mv mw l mx my">import React from 'react';<br/>import { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';<br/>import FeatureScreen from './screens/FeatureScreen';<br/>import ContactUs from './screens/ContactUs';</span><span id="6d0f" class="mu lt iq mq b gy np mw l mx my">function App() {<br/> return (<br/>    &lt;Router&gt;<br/>     <strong class="mq ir">&lt;Switch&gt;</strong><br/>      &lt;Route path="/" exact&gt;<br/>          &lt;FeatureScreen/&gt;<br/>      &lt;/Route&gt;</span><span id="df06" class="mu lt iq mq b gy np mw l mx my">      &lt;Route path="/contacts" exact&gt;<br/>          &lt;ContactUs/&gt;<br/>      &lt;/Route&gt;<br/>      &lt;Redirect to="/"/&gt;<strong class="mq ir"><br/>     &lt;/Switch&gt;<br/></strong>    &lt;/Router&gt;<br/> );<br/>}</span><span id="6e64" class="mu lt iq mq b gy np mw l mx my">export default App;</span></pre><p id="2483" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，您已经了解了React导航所需的一切。如果你不明白什么，再读一遍。我试图使它尽可能简单。</p><p id="940d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完整的代码出现在<a class="ae kv" href="https://github.com/nitinfab/react-router-dom" rel="noopener ugc nofollow" target="_blank"> Github </a>上。可以叉着用。</p><p id="bfe3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="nr">如果你喜欢我的作品，想要支持，可以</em> </strong> <a class="ae kv" href="https://www.buymeacoffee.com/nitinfab" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nr">请我喝杯咖啡！</em> </strong> </a></p><p id="3a3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢了。</p><p id="681d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">延伸阅读:</strong></p><div class="ns nt gp gr nu nv"><a href="https://medium.com/code-blog/getting-started-and-earning-105-813-yr-as-a-web-developer-for-beginners-19b2cd26fcc2" rel="noopener follow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">作为一名面向初学者的Web开发人员，开始工作并获得每年105，813美元的收入。</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">成为Web开发人员的简单方法。</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">medium.com</p></div></div><div class="oe l"><div class="of l og oh oi oe oj kp nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="https://medium.com/javascript-in-plain-english/80-free-resources-for-web-designers-and-web-developers-in-2021-f400be2875ea" rel="noopener follow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">2021年为网页设计师和网页开发者提供80+免费资源。</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">成为网页开发者的完整指南。</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">medium.com</p></div></div><div class="oe l"><div class="ok l og oh oi oe oj kp nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="https://medium.com/javascript-in-plain-english/getting-started-with-react-native-for-beginners-958d39fee16a" rel="noopener follow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">面向初学者的React Native入门</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">学习所有你想知道的关于React Native的知识。</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">medium.com</p></div></div><div class="oe l"><div class="ol l og oh oi oe oj kp nv"/></div></div></a></div></div></div>    
</body>
</html>