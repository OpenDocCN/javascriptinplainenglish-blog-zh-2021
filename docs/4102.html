<html>
<head>
<title>CapacitorJS: Turn Your Web App into a Mobile App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CapacitorJS:把你的网络应用变成移动应用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/capacitor-turn-your-web-app-into-a-mobile-app-4d114249e55b?source=collection_archive---------2-----------------------#2021-08-16">https://javascript.plainenglish.io/capacitor-turn-your-web-app-into-a-mobile-app-4d114249e55b?source=collection_archive---------2-----------------------#2021-08-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="0d45" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何通过4个简单的步骤，使用capacitorjs将您的网络应用转化为移动(Android/iOS)应用</h2></div><p id="f382" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">作为一名web开发人员，最大的优势之一就是能够使用web技术创建移动和桌面应用程序，有时还能很好地访问本地SDK。</p><p id="676e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">也许你听说过Ionic，这是一个流行的JavaScript框架，通过提供移动组件和对原生SDK的访问，使用React、Angular或Vue构建跨平台移动应用程序。</p><p id="45ea" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了将web应用程序转换成移动应用程序，Ionic团队开发了<a class="ae ky" href="https://capacitorjs.com/" rel="noopener ugc nofollow" target="_blank"> CapacitorJS </a>，但它可以用于任何web应用程序项目，只要有HTML文件，Capacitor就可以将其转换成移动应用程序。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi kz"><img src="../Images/6e20568f987ca05042328285be947a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kPRH2u9YZ49d3mGw.png"/></div></div></figure><h1 id="ac56" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">什么是CapacitorJS，它是如何工作的？</h1><p id="6f54" class="pw-post-body-paragraph kc kd in ke b kf md jo kh ki me jr kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">CapacitorJS是Apache Cordova和PhoneGap的继承者。它是一个开源的运行时，允许你创建一个“跨平台<em class="mi">混合</em>移动应用”，它支持Android和iOS。</p><p id="6c85" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">它不会将您的代码转换成本地移动应用程序。相比之下，Capacitor获取您的web应用程序代码，并使用WebView显示它(可以将它想象为一个只显示您的网站的浏览器选项卡)。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi mj"><img src="../Images/58739ca3356a247d26304c4977152583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HOeEH_yKaZzzAIMf.png"/></div></div></figure><p id="1994" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这个解释非常简单，如果你对电容器在技术方面如何工作的更多细节感兴趣，我建议阅读<a class="ae ky" href="https://capacitorjs.com/blog/how-capacitor-works" rel="noopener ugc nofollow" target="_blank">他们的博客文章</a>。</p><p id="70e9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">那么，我如何访问本地API呢？</p><p id="f534" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">通常，在WebView中显示一个网站并不能让你访问本地API，比如通知、摄像头、文件系统等等，这就是插件发挥作用的地方。</p><p id="5f14" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">通过使用<a class="ae ky" href="https://capacitorjs.com/docs/plugins" rel="noopener ugc nofollow" target="_blank">插件</a>，您可以轻松访问多个本地API，而无需对您的代码库进行太多更改。电容器有一些官方插件，但是你可以找到更多的<a class="ae ky" href="https://github.com/capacitor-community" rel="noopener ugc nofollow" target="_blank">社区插件</a>。同样值得一提的是，大多数Cordova插件都可以很好地使用Capacitor。</p><h1 id="5d06" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">如何使用CapacitorJS转换您的Web应用程序</h1><p id="d969" class="pw-post-body-paragraph kc kd in ke b kf md jo kh ki me jr kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated"><em class="mi">要求:</em></p><ul class=""><li id="3a41" class="mk ml in ke b kf kg ki kj kl mm kp mn kt mo kx mp mq mr ms bi translated">Node.js版本12或更高版本</li><li id="e60f" class="mk ml in ke b kf mt ki mu kl mv kp mw kt mx kx mp mq mr ms bi translated">npm或纱线</li><li id="4aa8" class="mk ml in ke b kf mt ki mu kl mv kp mw kt mx kx mp mq mr ms bi translated">Android Studio(适用于Android)</li><li id="32da" class="mk ml in ke b kf mt ki mu kl mv kp mw kt mx kx mp mq mr ms bi translated">Xcode(适用于iOS)</li></ul><p id="0ab9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mi">注意:如果你不确定在Android studio中使用哪个API和/或仿真器版本，请安装最新版本。</em></p><h2 id="beaa" class="my lm in bd ln mz na dn lr nb nc dp lv kl nd ne lx kp nf ng lz kt nh ni mb nj bi translated">步骤1:向项目中添加CapacitorJS。</h2><p id="4a84" class="pw-post-body-paragraph kc kd in ke b kf md jo kh ki me jr kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">在项目的根文件夹中，运行以下命令。</p><pre class="la lb lc ld gt nk nl nm nn aw no bi"><span id="c312" class="my lm in nl b gy np nq l nr ns">$ npm install @capacitor/cli @capacitor/core<br/>$ npm cap init</span></pre><p id="8ccd" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这将把CapacitorJS添加到项目的命令行界面中，并生成一个名为<em class="mi"> capacitor </em>的配置文件。<em class="mi">配置</em>。<em class="mi"> json。</em></p><h2 id="aa8c" class="my lm in bd ln mz na dn lr nb nc dp lv kl nd ne lx kp nf ng lz kt nh ni mb nj bi translated">步骤2:更新配置文件</h2><p id="ef61" class="pw-post-body-paragraph kc kd in ke b kf md jo kh ki me jr kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">你可以在这个<a class="ae ky" href="https://capacitorjs.com/docs/config" rel="noopener ugc nofollow" target="_blank">文档参考</a>中找到所有你需要的关于配置文件的信息。</p><p id="3ca9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您现在可能需要更改的重要值是带有构建文件夹路径的<code class="fe nt nu nv nl b">webDir</code>(确保它包含一个<code class="fe nt nu nv nl b">index.html</code>)。</p><p id="2fb3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一般来说，你不需要担心这个，因为init命令可以猜测你正在使用哪个框架，并相应地设置<code class="fe nt nu nv nl b">webDir</code>值。</p><h2 id="847d" class="my lm in bd ln mz na dn lr nb nc dp lv kl nd ne lx kp nf ng lz kt nh ni mb nj bi translated">步骤3:安装本地平台</h2><p id="d391" class="pw-post-body-paragraph kc kd in ke b kf md jo kh ki me jr kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">对于Android:</p><pre class="la lb lc ld gt nk nl nm nn aw no bi"><span id="f976" class="my lm in nl b gy np nq l nr ns">$ <!-- -->npm install @capacitor/android<br/>$ npx cap add android</span></pre><p id="aab7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对于iOS:</p><pre class="la lb lc ld gt nk nl nm nn aw no bi"><span id="50f3" class="my lm in nl b gy np nq l nr ns">$ <!-- -->npm install @capacitor/ios<br/>$ npx cap add ios</span></pre><p id="2b66" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">第四步:运行或构建你的应用</strong></p><p id="6701" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，根据您运行的命令，您会注意到名为“android”和“ios”的新文件夹。您可以使用Android Studio for Android和Xcode for iOS打开这些文件夹。</p><p id="d126" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">运行应用程序的一个更快的方法是使用“运行”命令。</p><p id="ca87" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对于Android:</p><pre class="la lb lc ld gt nk nl nm nn aw no bi"><span id="65ec" class="my lm in nl b gy np nq l nr ns">$ npx cap run android</span></pre><p id="3b91" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对于iOS:</p><pre class="la lb lc ld gt nk nl nm nn aw no bi"><span id="8d21" class="my lm in nl b gy np nq l nr ns">$ npx cap run ios</span></pre><h2 id="280a" class="my lm in bd ln mz na dn lr nb nc dp lv kl nd ne lx kp nf ng lz kt nh ni mb nj bi translated">保持应用程序同步</h2><p id="1390" class="pw-post-body-paragraph kc kd in ke b kf md jo kh ki me jr kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">当您更改web应用程序并构建它时，Capacitor不会自动更新您的移动应用程序文件夹。为此，您需要使用sync命令。</p><pre class="la lb lc ld gt nk nl nm nn aw no bi"><span id="fda5" class="my lm in nl b gy np nq l nr ns">$ npx cap sync</span></pre><h1 id="cf88" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">结论</h1><p id="6489" class="pw-post-body-paragraph kc kd in ke b kf md jo kh ki me jr kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">CapacitorJS是一个很好的工具。它是开源的，有很好的文档记录，并且简单易用。就我个人而言，我经常使用它，很少遇到任何问题。此外，您可以在不影响代码库的情况下使用它。</p><p id="a30c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当然，你会得到一个混合应用，所以性能会低于原生移动应用。但是对于很多用例来说还是够用的，开发速度和维护上的增益非常重要。</p><p id="c82c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mi">更多内容请看</em><a class="ae ky" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="mi">plain English . io</em></strong></a></p></div></div>    
</body>
</html>