<html>
<head>
<title>How to separate logic from UI with React components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用React组件将逻辑与UI分离</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/decoupling-logic-from-ui-create-react-components-like-a-boss-7ebde91671c8?source=collection_archive---------3-----------------------#2021-04-12">https://javascript.plainenglish.io/decoupling-logic-from-ui-create-react-components-like-a-boss-7ebde91671c8?source=collection_archive---------3-----------------------#2021-04-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><blockquote class="jk jl jm"><p id="4de3" class="jn jo jp jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ig bi translated">分离逻辑和UI使得编写和测试组件更加容易。</p></blockquote><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/43e96fe8d3564c17a2e291c787717cc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KQt1IzauTSy10isn6ebmIA.jpeg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Separating logic from UI</figcaption></figure><p id="741e" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated">本文的主要目标是确保我们编写新组件时，每个组件只关心它的数据、错误处理、加载和任何其他需要的逻辑(我们将在另一篇文章中讨论组件之间的数据共享)。</p><h1 id="622a" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">为什么这很重要？</h1><ul class=""><li id="daff" class="md me in jq b jr mf jv mg lc mh ld mi le mj kl mk ml mm mn bi translated"><strong class="jq io">可扩展性</strong>:确实是高可扩展性。</li><li id="69c6" class="md me in jq b jr mo jv mp lc mq ld mr le ms kl mk ml mm mn bi translated"><strong class="jq io">可移除性</strong>:删除一个组件在今天之后应该不是问题，不会发生突破性的变化或倒退。</li><li id="40d8" class="md me in jq b jr mo jv mp lc mq ld mr le ms kl mk ml mm mn bi translated">可移动性:在任何地方使用组件的能力，可能跨越使用相同API的项目。</li></ul><h1 id="9d18" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">动手</strong></h1><p id="c977" class="pw-post-body-paragraph jn jo in jq b jr mf jt ju jv mg jx jy lc mt kb kc ld mu kf kg le mv kj kk kl ig bi translated">让我们深入代码，展示重构前后的两个例子。</p><p id="b49a" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated">让我们以下面的例子为例，试着理解如何让它发生:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="0c60" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated">正如您在上面看到的，我们有一个通过使用axios通过远程API配置请求数据来实现待办事项列表的简单示例。</p><p id="5192" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated">您是否注意到提取status = TODO项的简单计算？如果你的答案是肯定的，那么我们就在同一页上。</p><p id="ccff" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated">正如我们在文章开头所解释的，我们的任务是将逻辑从UI中分离出来，但是在上面的例子中，我们在同一个JS文件中有逻辑，让我们看看应该做些什么来实现我们的任务。</p><p id="d0b4" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated">因此，首先，我们需要从组件中取出逻辑。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="879d" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated">如你所见，我们称之为<strong class="jq io">“useTodoList”</strong>。这个钩子应该包含TodoList组件的逻辑。</p><p id="b4c4" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated">你可以注意到我们在文件中没有UI，这是一个自定义的钩子。</p><p id="396b" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated">但是主要组件<strong class="jq io">“TodoList”</strong>应该是什么样子的呢？</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="1e4b" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated">简单，哈？这就是为什么在业务逻辑不是UI的一部分的情况下构建组件，并将自定义钩子作为组件的API来处理是非常重要的。</p><p id="a073" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated">当每个组件都在独立模式下工作时，组件之间的通信如何？这将是我们在下一篇文章中讨论的有趣话题。</p><p id="bbd1" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy lc ka kb kc ld ke kf kg le ki kj kk kl ig bi translated"><em class="jp">更多内容请看</em><a class="ae my" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="jp">plain English . io</em></a></p></div></div>    
</body>
</html>