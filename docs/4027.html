<html>
<head>
<title>Getting Creative with the Console API!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用控制台API发挥创造力！</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-creative-with-the-console-api-60253bfe75c5?source=collection_archive---------21-----------------------#2021-08-11">https://javascript.plainenglish.io/getting-creative-with-the-console-api-60253bfe75c5?source=collection_archive---------21-----------------------#2021-08-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/81cc6551e77a5721911c92209c087303.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qQXqUxZBBVrc2euzbpdv0w.jpeg"/></div></div></figure><p id="c656" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">JavaScript中的调试</strong>一直与<a class="ae kw" href="https://developer.mozilla.org/en-US/docs/Web/API/Console" rel="noopener ugc nofollow" target="_blank">控制台API </a>密不可分，大部分时间只通过<code class="fe kx ky kz la b">console.log()</code>使用。但是，你知道事情不一定是这样的吗？难道<code class="fe kx ky kz la b">console.log()</code>还没有让你厌烦它的<strong class="ka ir">单片</strong>输出吗？你想让你的原木变得更好，更漂亮吗？如果是这样，请跟随我，因为我们将发现控制台API是多么丰富多彩和有趣！</p><h1 id="8192" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Console.log()</h1><p id="ae87" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">信不信由你，但是<code class="fe kx ky kz la b">console.log()</code>本身有一些你可能不知道的附加功能。当然，它的基本目的——<strong class="ka ir">日志</strong>——仍然没有改变。我们唯一能做的就是让它看起来更漂亮！让我们试试那个！</p><h2 id="99d7" class="me lc iq bd ld mf mg dn lh mh mi dp ll kj mj mk lp kn ml mm lt kr mn mo lx mp bi translated">管柱接头</h2><p id="65b3" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">唯一与<code class="fe kx ky kz la b">console.log()</code>方法紧密相关的是，你可以用所谓的<strong class="ka ir">字符串替换</strong>来使用它。这基本上为您提供了在字符串中使用特定表达式的选项，这些表达式稍后将被所提供的参数替换。它看起来有点像这样:</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="6aba" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不错吧。问题是字符串替换表达式有多种变体:</p><ul class=""><li id="21b6" class="mw mx iq ka b kb kc kf kg kj my kn mz kr na kv nb nc nd ne bi translated"><strong class="ka ir"> %o / %O </strong> —用于对象；</li><li id="5f15" class="mw mx iq ka b kb nf kf ng kj nh kn ni kr nj kv nb nc nd ne bi translated"><strong class="ka ir"> %d / %i </strong> —对于整数；</li><li id="4dda" class="mw mx iq ka b kb nf kf ng kj nh kn ni kr nj kv nb nc nd ne bi translated"><strong class="ka ir"> %s </strong> —用于字符串；</li><li id="dc8c" class="mw mx iq ka b kb nf kf ng kj nh kn ni kr nj kv nb nc nd ne bi translated"><strong class="ka ir"> %f </strong> —用于浮点数；</li></ul><p id="6ac8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是，也就是说，你可能想知道为什么要使用这样一个特性？尤其是当您可以轻松地将多个值传递给日志时，如下所示:</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="bc04" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同样，对于字符串和数字，可以只使用<strong class="ka ir">字符串文字</strong>！那么，交易是什么？首先，我要说的是，在做一些好的控制台日志记录时，您只是想要一些好的字符串，而字符串subs允许您轻松地做到这一点！至于上面的选择——你必须同意——你需要睁大眼睛寻找所有这些空间。有了接头，就方便多了。至于字符串文字tho，它们还没有这些subs出现的时间长(惊讶！)，和…它们没有为对象提供相同的、漂亮的格式。但是，是的，只要你只处理数字和字符串，你可能更喜欢不同的方法。</p><h2 id="1648" class="me lc iq bd ld mf mg dn lh mh mi dp ll kj mj mk lp kn ml mm lt kr mn mo lx mp bi translated">半铸钢ˌ钢性铸铁(Cast Semi-Steel)</h2><p id="1f58" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">还有一个我们以前没有学过的类似string-sub的指令。这是<code class="fe kx ky kz la b">%c</code>，它允许你将<strong class="ka ir"> CSS样式</strong>字符串应用到你记录的信息中！让我告诉你如何使用它！</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="0de0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上面的例子大量使用了<code class="fe kx ky kz la b">%c</code>指令。正如你所看到的，样式被应用到指令<strong class="ka ir">之后的所有东西上。逃脱的唯一方法是使用另一个指令。这正是我们在这里所做的。如果您想使用普通的、无样式的日志格式，您需要传递一个空字符串。我认为，不言而喻，提供给<code class="fe kx ky kz la b">%c</code>指令以及其他字符串subs的值需要按照预期的顺序提交，一个接一个地作为进一步的参数。</strong></p><h1 id="d7d3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">分组和跟踪</h1><p id="74a3" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">我们才刚刚开始，我们已经在日志中引入了CSS哇！控制台API还有哪些秘密？</p><h2 id="a5ed" class="me lc iq bd ld mf mg dn lh mh mi dp ll kj mj mk lp kn ml mm lt kr mn mo lx mp bi translated">分组</h2><p id="643b" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">做太多的控制台日志记录并不真正健康——它会导致更差的可读性，因此……没有意义的日志。有一些适当的结构总是好的。有了<code class="fe kx ky kz la b">console.group()</code>，你就可以做到这一点。通过使用这种方法，您可以在您的控制台中创建更深层次的可折叠结构- <strong class="ka ir">组</strong>！这不仅可以让你隐藏，还可以组织你的日志。如果你想让你的组默认被折叠，还有一个<code class="fe kx ky kz la b">console.groupCollapsed()</code>方法。当然，根据常识，组可以任意嵌套。你也可以通过给你的组传递一个参数列表，让你的组有一个看起来像标题日志的东西(就像<code class="fe kx ky kz la b">console.log()</code>)。调用group方法后完成的每个控制台调用都将在创建的组中找到自己的位置。要退出它，你得用一个特殊的<code class="fe kx ky kz la b">console.groupEnd()</code>方法。简单吧？</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="0438" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我想你已经注意到了，你可以将所有提供的代码片段内的代码复制粘贴到你的控制台上，然后用你想要的方式来玩它们！</p><h2 id="c8c0" class="me lc iq bd ld mf mg dn lh mh mi dp ll kj mj mk lp kn ml mm lt kr mn mo lx mp bi translated">描摹</h2><p id="5ad2" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">您可以通过控制台API获得的另一个有用信息是一个指向当前调用的路径(<strong class="ka ir">执行路径</strong> / <strong class="ka ir">堆栈跟踪</strong>)。你知道，代码中的列表放置了被执行的链接(例如函数链)以到达当前的<code class="fe kx ky kz la b">console.trace()</code>调用，因为这是我们正在讨论的方法。无论是检测<strong class="ka ir">副作用</strong>还是检查代码流程，这些信息都非常有用。只要把下面的片段放到你的代码中，就能明白我在说什么了。</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h1 id="a012" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">控制台。XXX</h1><p id="1053" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">你可能已经知道控制台API的一些不同的方法。我说的是那些给你的日志增加一些额外信息的。但是，让我们也快速浏览一下，好吗？</p><h2 id="bec8" class="me lc iq bd ld mf mg dn lh mh mi dp ll kj mj mk lp kn ml mm lt kr mn mo lx mp bi translated">警告</h2><p id="a5bb" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated"><code class="fe kx ky kz la b">console.warn()</code>方法的行为就像console.log(像大多数日志记录方法一样)，但是，除此之外，它还有自己的<strong class="ka ir">类似警告的风格</strong>。⚠在大多数浏览器中，它应该是黄色的，并在某处有一个警告符号(出于自然原因)。默认情况下，对该方法的调用还会返回<strong class="ka ir">跟踪</strong>，因此您可以快速找到警告(以及可能的bug)来自哪里。</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h2 id="7308" class="me lc iq bd ld mf mg dn lh mh mi dp ll kj mj mk lp kn ml mm lt kr mn mo lx mp bi translated">错误</h2><p id="6d06" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">与<code class="fe kx ky kz la b">console.warn()</code>类似，<code class="fe kx ky kz la b">console.error()</code>方法输出带有堆栈跟踪的消息，这是特别设计的。通常是红色的<strong class="ka ir">加上一个错误图标。它清楚地通知用户有些事情不对劲。这里重要的一点是。error()方法<strong class="ka ir">只是一个控制台消息</strong>，没有任何附加选项，比如停止代码执行(为此你需要抛出一个错误)。只是一个简单的注意事项，因为许多新人可能对这种行为感到有点不确定。</strong></p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h2 id="fec6" class="me lc iq bd ld mf mg dn lh mh mi dp ll kj mj mk lp kn ml mm lt kr mn mo lx mp bi translated">信息和调试</h2><p id="14d3" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">还有两种方法可以用来给你的日志添加一些顺序。我们正在谈论<code class="fe kx ky kz la b">console.info()</code>和<code class="fe kx ky kz la b">console.debug()</code>。这些输出并不总是有独特的风格——在一些浏览器中，它只是一个<strong class="ka ir">信息图标</strong>。相反，这些方法以及之前的方法允许您对控制台消息应用特定的类别。在不同的浏览器中(例如在我基于Chromium的浏览器中), dev-tools UI为您提供了一个选项，让您选择某个<strong class="ka ir">类别的日志</strong>来显示，例如错误、调试消息或信息。只是多了一个组织功能！</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h2 id="6cd2" class="me lc iq bd ld mf mg dn lh mh mi dp ll kj mj mk lp kn ml mm lt kr mn mo lx mp bi translated">维护</h2><p id="9a4a" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">甚至有一个特定的控制台API方法，为您提供任何条件日志记录的快捷方式(<strong class="ka ir">断言</strong>)。叫<code class="fe kx ky kz la b">console.assert()</code>。就像标准的<code class="fe kx ky kz la b">console.log()</code>方法一样，它可以接受无限个参数，不同之处在于第一个参数必须是一个<strong class="ka ir">布尔值</strong>。如果它解析为真，那么断言保持安静，否则，它<strong class="ka ir">记录错误</strong>(同。error()方法)与所有传递的参数一起发送到控制台。</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="4a76" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">而且，在所有这些混乱之后，你可能想让你的控制台留言板看起来干净一点。没问题！只需使用<code class="fe kx ky kz la b">console.clear()</code>方法，就能看到你所有的旧日志都消失了！这是一个非常有用的特性，它甚至在大多数浏览器的控制台界面中都有自己的按钮(和快捷方式)!</p><h1 id="e8a1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">时机</h1><p id="2c61" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">控制台API甚至提供了一小组与<strong class="ka ir">计时</strong>相关的函数。在他们的帮助下，您可以对部分代码进行快速而粗略的性能测试。就像我之前说的，这个API很简单。首先使用<code class="fe kx ky kz la b">console.time()</code>方法，该方法可以将一个可选参数作为给定计时器的标签<strong class="ka ir">或标识。所提到的计时器就在调用该方法的时刻启动。然后你可以使用<code class="fe kx ky kz la b">console.timeLog()</code>和<code class="fe kx ky kz la b">console.timeEnd()</code>方法(带有可选的标签参数)来记录你的时间(以<strong class="ka ir">毫秒</strong>为单位)并相应地结束相应的计时器。</strong></p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="3279" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当然，如果您正在进行一些真正的基准测试或性能测试，我会推荐使用专门为此目的设计的<a class="ae kw" href="https://developer.mozilla.org/en-US/docs/Web/API/Performance_API" rel="noopener ugc nofollow" target="_blank">性能API </a>。</p><h1 id="ed39" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">包括…在内</h1><p id="38b4" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">如果您有如此多的日志，以至于您不知道代码的给定部分已经执行了多少次——您已经猜到了！—有这样的API！<code class="fe kx ky kz la b">console.count()</code>方法可能做了它能做的最基本的事情——它统计<strong class="ka ir">被调用了多少次</strong>。当然，您可以传递一个可选参数，为给定的计数器提供一个标签(默认为default)。您可以稍后用<code class="fe kx ky kz la b">console.countReset()</code>方法重置选择的计数器。</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="2afe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">就我个人而言，我没有看到这些特定特性的很多用例，但有这样的东西存在是件好事。也许只是我…</p><h1 id="873a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">桌子</h1><p id="a420" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">我认为这是控制台API最被低估的特性之一(除了前面提到的CSS样式)。在调试和检查<strong class="ka ir">平面</strong>或<strong class="ka ir">二维</strong> <strong class="ka ir">对象</strong>和<strong class="ka ir">数组</strong>时，向您的控制台输出真实的、<strong class="ka ir">可排序表格</strong>的能力会非常有用。是的，没错——你实际上可以在你的控制台上显示一个表格。它所需要的只是一个简单的带有一个参数的<code class="fe kx ky kz la b">console.table()</code>调用——很可能是对象或数组(原始值只是被正常记录，多于2维的结构被截断成更小的对应物。只要试一下下面的片段就能明白我的意思了！</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h1 id="d7b3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">控制台ASCII图片</h1><p id="0958" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">没有<strong class="ka ir"> ASCII艺术</strong>游戏机艺术就不一样了！在<a class="ae kw" href="https://github.com/IonicaBizau/image-to-ascii" rel="noopener ugc nofollow" target="_blank">图像到ascii码</a>模块(可以在<a class="ae kw" href="https://www.npmjs.com/package/image-to-ascii" rel="noopener ugc nofollow" target="_blank"> NPM </a>上找到)的帮助下，你可以轻松地将普通图像转换成它的ASCII码副本！除此之外，该模块提供了许多<strong class="ka ir">可定制的设置</strong>和选项来创建您想要的输出。下面是这个库的一个简单例子:</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="3266" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有了上面的代码，你就可以创建一个<strong class="ka ir">惊艳的JS logo </strong>！</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/30bb6c967004d250814f494c86596f40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-TiTEVBwRld8ohDhNAaclQ.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk">ASCII art JS logo</figcaption></figure><p id="38b6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在CSS样式、一些填充和背景属性的帮助下，您还可以将一个<strong class="ka ir">完整的图像</strong>输出到您的控制台！例如，你可以看看<a class="ae kw" href="https://github.com/adriancooney/console.image" rel="noopener ugc nofollow" target="_blank"> console.image </a>模块(在<a class="ae kw" href="https://www.npmjs.com/package/console.image" rel="noopener ugc nofollow" target="_blank"> NPM </a>上也有)来玩这个功能。但是，我仍然认为ASCII更加……<strong class="ka ir">时尚</strong>。</p><h1 id="f1d4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">现代日志</h1><p id="ef09" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">正如您所看到的，您的日志和调试过程作为一个整体不必如此单色！世上有比简单的<code class="fe kx ky kz la b">console.log()</code>更多的美好。有了这篇文章中的知识，选择权就在你手中！你可以继续使用传统的<code class="fe kx ky kz la b">console.log()</code>和你的浏览器提供的不同结构的非常好的格式，或者你可以用上面描述的技术给你的控制台增加一些新鲜感。不管怎样，只要<strong class="ka ir">继续享受乐趣</strong>...即使你在和一只非常讨厌的虫子战斗！</p><p id="51bd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我希望你喜欢这篇文章，它能让你学到一些新东西。一如既往，考虑与他人分享<strong class="ka ir"/>，这样任何人都可以让他们的控制台<strong class="ka ir">充满色彩</strong>，并通过<strong class="ka ir">反应</strong>或<strong class="ka ir">评论</strong>将<strong class="ka ir">您的意见</strong>留在下面！还有，<strong class="ka ir">在Twitter上关注我</strong> <a class="ae kw" href="https://twitter.com/areknawo" rel="noopener ugc nofollow" target="_blank">，或者在我的脸书页面上关注我</a><a class="ae kw" href="https://www.facebook.com/areknawoblog" rel="noopener ugc nofollow" target="_blank"/>！再次感谢你的阅读，下一集再见！</p><p id="d0c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nk">更多内容请看</em><a class="ae kw" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="nk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>