<html>
<head>
<title>Best Techniques for Client-Side Optimization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">客户端优化的最佳技术</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/best-techniques-for-client-side-optimization-the-high-performance-series-a44aeb9f7dae?source=collection_archive---------3-----------------------#2021-05-04">https://javascript.plainenglish.io/best-techniques-for-client-side-optimization-the-high-performance-series-a44aeb9f7dae?source=collection_archive---------3-----------------------#2021-05-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="de9e" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">高性能系列</h2><div class=""/><div class=""><h2 id="68c3" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">web编程中的顶级技术。</h2></div><p id="6ac0" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">来自SpeedCurve的Steve Souders研究了Alexa排名前十的网站，并<a class="ae lk" href="https://www.stevesouders.com/blog/2012/02/10/the-performance-golden-rule/" rel="noopener ugc nofollow" target="_blank">报告了</a>、<em class="ll"> 80%-90%的最终用户响应时间都花在了前端。从那里开始。”</em></p><p id="50a5" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这是很好的建议！因此，今天，我们将探讨各种客户端优化技术，以提高性能。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lm"><img src="../Images/33078fff56f1e98ce93d1d2e4ad022af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*THS-1FBRF2pn8eiCCUppTA.png"/></div></div></figure><h1 id="184a" class="ly lz iq bd ma mb mc md me mf mg mh mi kf mj kg mk ki ml kj mm kl mn km mo mp bi translated">限制HTTP请求的数量</h1><p id="a90f" class="pw-post-body-paragraph ko kp iq kq b kr mq ka kt ku mr kd kw kx ms kz la lb mt ld le lf mu lh li lj ij bi translated">减少HTTP请求是优化网站最重要的技巧。</p><h2 id="2dd2" class="mv lz iq bd ma mw mx dn me my mz dp mi kx na nb mk lb nc nd mm lf ne nf mo iw bi translated">将所有JavaScript资源合并成一个</h2><p id="d6d8" class="pw-post-body-paragraph ko kp iq kq b kr mq ka kt ku mr kd kw kx ms kz la lb mt ld le lf mu lh li lj ij bi translated">要访问每个页面组件，如HTML文档、图像、CSS等，浏览器需要为每个文件向服务器发送一个请求，这降低了完全加载页面所需的总时间。</p><p id="eff5" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">为了解决这个问题，我们可以将较小的文件(如CSS文件)捆绑在一起，形成一个文件，从而减少HTTP请求的数量。</p><h2 id="882e" class="mv lz iq bd ma mw mx dn me my mz dp mi kx na nb mk lb nc nd mm lf ne nf mo iw bi translated">使用CSS精灵</h2><p id="19c3" class="pw-post-body-paragraph ko kp iq kq b kr mq ka kt ku mr kd kw kx ms kz la lb mt ld le lf mu lh li lj ij bi translated">由于网站将图像存储在单独的文件中，当浏览器加载网页时，它必须为每个图像发出HTTP请求，这降低了完全加载页面所需的总时间。</p><p id="699e" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">为了解决这个问题，我们可以使用CSS sprites，这是一种将几个图像合并成一个图像的技术，称为sprite sheet。</p><h1 id="5e64" class="ly lz iq bd ma mb mc md me mf mg mh mi kf mj kg mk ki ml kj mm kl mn km mo mp bi translated">缩小资源(如HTML、CSS和JavaScript)</h1><p id="50dd" class="pw-post-body-paragraph ko kp iq kq b kr mq ka kt ku mr kd kw kx ms kz la lb mt ld le lf mu lh li lj ij bi translated">这种技术删除了所有不必要的或重复的数据，如空白、注释以及紧缩变量名称，以便最大限度地减少代码占用的空间，从而提高性能，而不影响浏览器处理资源的方式。</p><p id="3eb2" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">要实现这一技术，我们可以使用HTML Minify、Packer等工具。</p><h1 id="d9c3" class="ly lz iq bd ma mb mc md me mf mg mh mi kf mj kg mk ki ml kj mm kl mn km mo mp bi translated">文件压缩</h1><p id="c60a" class="pw-post-body-paragraph ko kp iq kq b kr mq ka kt ku mr kd kw kx ms kz la lb mt ld le lf mu lh li lj ij bi translated">我们可以减少网络上传输的数据量，这不仅可以加快下载速度，还可以减少渲染时间，从而提高性能。</p><p id="1fd7" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">为了减少数据量，我们可以使用文件压缩技术。所有现代浏览器都支持Gzip。</p><h1 id="1bb7" class="ly lz iq bd ma mb mc md me mf mg mh mi kf mj kg mk ki ml kj mm kl mn km mo mp bi translated">贮藏</h1><p id="b597" class="pw-post-body-paragraph ko kp iq kq b kr mq ka kt ku mr kd kw kx ms kz la lb mt ld le lf mu lh li lj ij bi translated">我们可以通过在浏览器应用程序中提供缓存副本来减少服务器负载和不必要的带宽使用，而不是每次有人加载站点时都下载它。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lm"><img src="../Images/acca112b5f8d9c97571a51b4b7403096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*coO11SA1smg1QKYzbBW3bw.png"/></div></div></figure><blockquote class="ng"><p id="da79" class="nh ni iq bd nj nk nl nm nn no np lj dk translated">缓存web内容有助于通过减少后端资源的负载和网络拥塞来提高网站的响应能力。</p></blockquote><p id="c2c8" class="pw-post-body-paragraph ko kp iq kq b kr nq ka kt ku nr kd kw kx ns kz la lb nt ld le lf nu lh li lj ij bi translated">有多种方法可用于缓存验证，如下所示。</p><ul class=""><li id="5c30" class="nv nw iq kq b kr ks ku kv kx nx lb ny lf nz lj oa ob oc od bi translated"><strong class="kq ja">最后修改</strong>。服务器告诉浏览器它正在发送的文件的版本。</li></ul><pre class="ln lo lp lq gt oe of og oh aw oi bi"><span id="2d9a" class="mv lz iq of b gy oj ok l ol om">Last-Modified: Sat, 01 May 2021 07:28:00 GMT</span></pre><p id="c3a6" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">img.png档案创建于2021年10月21日。</p><ul class=""><li id="7fe6" class="nv nw iq kq b kr ks ku kv kx nx lb ny lf nz lj oa ob oc od bi translated"><strong class="kq ja"> ETag </strong>。这是给予每个文件的唯一标识符。这就像一个散列，每个文件都有一个唯一的散列，如果你改变文件，散列也会改变。</li></ul><pre class="ln lo lp lq gt oe of og oh aw oi bi"><span id="bf7c" class="mv lz iq of b gy oj ok l ol om">ETag: "33a64df551425fcc55e4d42a148795d9f25f89d4"<br/>ETag: W/"0815"</span></pre><ul class=""><li id="b900" class="nv nw iq kq b kr ks ku kv kx nx lb ny lf nz lj oa ob oc od bi translated"><strong class="kq ja">到期</strong>。这种技术告诉客户端img.png什么时候到期，让客户端一直使用到那个日期。</li></ul><pre class="ln lo lp lq gt oe of og oh aw oi bi"><span id="f312" class="mv lz iq of b gy oj ok l ol om">Expires: Sat, 01 May 2021 07:28:00 GMT</span></pre><ul class=""><li id="24e4" class="nv nw iq kq b kr ks ku kv kx nx lb ny lf nz lj oa ob oc od bi translated">最大年龄。在max-age头中，我们可以写“此文件从今天起1周后到期”。</li></ul><h1 id="e036" class="ly lz iq bd ma mb mc md me mf mg mh mi kf mj kg mk ki ml kj mm kl mn km mo mp bi translated">形象指南</h1><p id="72cb" class="pw-post-body-paragraph ko kp iq kq b kr mq ka kt ku mr kd kw kx ms kz la lb mt ld le lf mu lh li lj ij bi translated">有一些很好的图像处理指南。</p><ul class=""><li id="c562" class="nv nw iq kq b kr ks ku kv kx nx lb ny lf nz lj oa ob oc od bi translated">通过使用各种图像压缩实用程序，在不大幅降低图像质量的情况下减小图像的大小是很好的做法。</li><li id="a62b" class="nv nw iq kq b kr on ku oo kx op lb oq lf or lj oa ob oc od bi translated">永远不要使用HTML图像元素的宽度和高度属性来设置图像的尺寸。</li><li id="a1c4" class="nv nw iq kq b kr on ku oo kx op lb oq lf or lj oa ob oc od bi translated">您应该用独立于分辨率的光栅图形替换矢量图形。</li><li id="6299" class="nv nw iq kq b kr on ku oo kx op lb oq lf or lj oa ob oc od bi translated">首选PNG格式。</li></ul><h1 id="d68a" class="ly lz iq bd ma mb mc md me mf mg mh mi kf mj kg mk ki ml kj mm kl mn km mo mp bi translated">将JavaScript放在HTML页面的底部</h1><p id="7480" class="pw-post-body-paragraph ko kp iq kq b kr mq ka kt ku mr kd kw kx ms kz la lb mt ld le lf mu lh li lj ij bi translated">浏览器停止呈现页面，直到执行完每个JavaScript块。对于小的JavaScript块，这不是一个大问题。但是，对于大型库，页面加载时间可能会大大增加。</p><p id="e57a" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">要解决这个问题，请将javascript放在HTML页面的底部，或者延迟一段时间后在后台加载脚本。</p><h1 id="0231" class="ly lz iq bd ma mb mc md me mf mg mh mi kf mj kg mk ki ml kj mm kl mn km mo mp bi translated">将样式表放在顶部</h1><p id="d874" class="pw-post-body-paragraph ko kp iq kq b kr mq ka kt ku mr kd kw kx ms kz la lb mt ld le lf mu lh li lj ij bi translated">我们还应该将样式表移动到HTML文档的顶部，以便更快地呈现。</p><h1 id="1532" class="ly lz iq bd ma mb mc md me mf mg mh mi kf mj kg mk ki ml kj mm kl mn km mo mp bi translated">DNS查找</h1><p id="387f" class="pw-post-body-paragraph ko kp iq kq b kr mq ka kt ku mr kd kw kx ms kz la lb mt ld le lf mu lh li lj ij bi translated">由于DNS查找增加了响应时间并带来了延迟，我们应该在用户点击链接之前解析域名。</p><h1 id="0927" class="ly lz iq bd ma mb mc md me mf mg mh mi kf mj kg mk ki ml kj mm kl mn km mo mp bi translated">使用CDN缓存所有静态数据</h1><p id="c9e7" class="pw-post-body-paragraph ko kp iq kq b kr mq ka kt ku mr kd kw kx ms kz la lb mt ld le lf mu lh li lj ij bi translated">CDN缓存web应用的所有静态数据，如JavaScript、CSS和图像，并在本地将其交付给用户。</p><p id="c22e" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">使用CDN技术，所有静态内容都在本地传送，只有动态数据必须直接来自服务器。这大大缩短了整体响应时间。</p><p id="72b1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">很简单，对吧？</p><p id="aca7" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><a class="ae lk" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ll">更多内容看plainenglish.io </em> </a></p></div></div>    
</body>
</html>