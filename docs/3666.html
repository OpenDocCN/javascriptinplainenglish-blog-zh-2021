<html>
<head>
<title>How Can I Create a Search Box from a JSON File with the Composition API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用组合API从JSON文件创建一个搜索框</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-can-i-create-a-search-box-from-a-json-file-with-the-composition-api-c36058753c07?source=collection_archive---------8-----------------------#2021-07-23">https://javascript.plainenglish.io/how-can-i-create-a-search-box-from-a-json-file-with-the-composition-api-c36058753c07?source=collection_archive---------8-----------------------#2021-07-23</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="e7f6" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">如何使用Composition API制作搜索框，如何从JSON文件中读取数据，如何在屏幕上显示数据——我们可以在5分钟内了解所有这些内容。</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/c82c1fcffac051542e011acea9bcf70b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qbVaZOu1J1SpT54Z"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Photo by <a class="ae kw" href="https://unsplash.com/@dlerman6?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Daniel Lerman</a> on <a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kx"><img src="../Images/c0466ad3f3f7aafa242ac5a6bd2727c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f0THGkIwsZq6pqsgwJWyrg.png"/></div></div></figure><p id="e710" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">今天我们将使用Vue合成API来做搜索框。我们将在<code class="fe lu lv lw lx b">setup()</code>函数中完成所有操作。我在以前的帖子中分享了组合API的使用。您可以通过下面的链接访问它。</p><div class="ly lz gq gs ma mb"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-use-the-composition-api-to-get-data-from-service-with-vue-js-4da1eca19ad6"><div class="mc ab fp"><div class="md ab me cl cj mf"><h2 class="bd is gz z fq mg fs ft mh fv fx iq bi translated">如何使用组合API通过Vue.js从服务中获取数据</h2><div class="mi l"><h3 class="bd b gz z fq mg fs ft mh fv fx dk translated">通过使用组合API而不是选项API，可以使服务结构更加可用。</h3></div><div class="mj l"><p class="bd b dl z fq mg fs ft mh fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="mk l"><div class="ml l mm mn mo mk mp kq mb"/></div></div></a></div><p id="db1e" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">首先，我想指定我使用的资源。我从<strong class="la is"> </strong> <a class="ae kw" href="https://jsonplaceholder.typicode.com/users" rel="noopener ugc nofollow" target="_blank"> <strong class="la is">这个链接</strong> </a>得到的用户数据。在这里你可以访问<a class="ae kw" href="https://freefrontend.com/css-cards/" rel="noopener ugc nofollow" target="_blank"> <strong class="la is">链接</strong> </a>，在那里我得到了用户卡的CSS。我的主要目标是做搜索逻辑，所以我不想准备好CSS。我找到的网站上有非常好的例子。我建议你去那里看看。</p><div class="ly lz gq gs ma mb"><a href="https://bestte.medium.com/membership" rel="noopener follow" target="_blank"><div class="mc ab fp"><div class="md ab me cl cj mf"><h2 class="bd is gz z fq mg fs ft mh fv fx iq bi translated">用我的推荐链接加入媒体</h2><div class="mi l"><h3 class="bd b gz z fq mg fs ft mh fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mj l"><p class="bd b dl z fq mg fs ft mh fv fx dk translated">bestte.medium.com</p></div></div><div class="mk l"><div class="mq l mm mn mo mk mp kq mb"/></div></div></a></div></div><div class="ab cl mr ms hv mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ik il im in io"><p id="d3f0" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">首先，我们将从数据开始。让我们在<code class="fe lu lv lw lx b">src</code>文件夹下创建一个数据文件夹。让我们在其中创建一个JSON文件。在本例中，我将从本地文件夹中获取数据。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="144a" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated"><em class="na">我们的样本数据会是这样的。</em></p><p id="d0b6" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">现在让我们在components文件夹下创建一个<strong class="la is"> User.vue </strong>文件。</p><p id="303d" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">如果您键入<code class="fe lu lv lw lx b">&lt;vue</code>，IDE将推荐您使用Vue模式。</p><p id="f207" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">我们需要导入<strong class="la is"> User.json、ref和computed。</strong></p><p id="d6b9" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated"><code class="fe lu lv lw lx b">import {ref, computed } from "Vue"</code></p><p id="1e93" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated"><code class="fe lu lv lw lx b">import User from '../data/user.json'</code></p><pre class="kh ki kj kk gu nb lx nc nd aw ne bi"><span id="7834" class="nf ng ir lx b gz nh ni l nj nk">const user = ref(User)</span><span id="7f82" class="nf ng ir lx b gz nl ni l nj nk">const search = ref(“”)</span></pre><p id="fd3c" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">我们需要使我们使用的变量具有反应性。<em class="na">无功</em>是指变量可以变化。如果我们给一个变量赋一个常数值，我们就不能改变赋给该变量的数据。这是我们不想要的。Vue为它开发了<code class="fe lu lv lw lx b">ref</code>任务。如你所知，我们不能在<code class="fe lu lv lw lx b">setup()</code>中使用<code class="fe lu lv lw lx b">this</code>关键字。为此，我们将使用<code class="fe lu lv lw lx b">ref</code> it使数据变得可行。</p><p id="42b9" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">在我创建的<code class="fe lu lv lw lx b">user</code>中，分配我从JSON文件导入的用户。</p><p id="eb71" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">我会把数据必须放在一个“为”的<code class="fe lu lv lw lx b">search.</code></p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="1a0a" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">在搜索方法之前，我想先说一下返回值。</p><p id="fe00" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">您必须定义您在<code class="fe lu lv lw lx b">setup()</code> return中创建的变量和方法。否则，如果您想在安装程序之外使用它，它会给你一个警告。刚开始会忘记，但是你的手已经习惯了。</p><p id="540c" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">你必须用<code class="fe lu lv lw lx b">value</code>调用在<code class="fe lu lv lw lx b">setup()</code>中创建的常量变量。</p><p id="c8a3" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">如果你写<code class="fe lu lv lw lx b">console.log(user),</code>输出会是这样的。所以我们需要用<code class="fe lu lv lw lx b">const</code>它作为<code class="fe lu lv lw lx b">user.value.</code></p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nm"><img src="../Images/a97841a85540ab472bf2b436ff2b5230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QWIxZt_0PcShpXVay3P-TA.png"/></div></div></figure><pre class="kh ki kj kk gu nb lx nc nd aw ne bi"><span id="4aa5" class="nf ng ir lx b gz nh ni l nj nk">const searchFunction = computed(() =&gt; {</span><span id="ed3c" class="nf ng ir lx b gz nl ni l nj nk">  return user.value.filter((item) =&gt; {</span><span id="64d9" class="nf ng ir lx b gz nl ni l nj nk">    return item.name.toLowerCase().includes(search.value);</span><span id="af7e" class="nf ng ir lx b gz nl ni l nj nk">  })</span><span id="7fe8" class="nf ng ir lx b gz nl ni l nj nk">})</span></pre><p id="b4bb" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">让我们来关注一下我们的<code class="fe lu lv lw lx b">searchfunction</code>方法。</p><blockquote class="nn no np"><p id="89e5" class="ky kz na la b lb lc js ld le lf jv lg nq li lj lk nr lm ln lo ns lq lr ls lt ik bi translated"><code class="fe lu lv lw lx b">computed</code>是我们执行监听操作，根据一个值或数据对另一个字段进行即时更改的地方。当链接变量发生变化时，它会立即更新它所连接的其他位置。</p></blockquote><p id="58dc" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">在第一个<code class="fe lu lv lw lx b">return</code>值处，我们过滤从JSON文件中获得的<strong class="la is">用户</strong>数据。</p><p id="b5e1" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">第二个<code class="fe lu lv lw lx b">return</code>值，我们得到了我们正在寻找的值。</p><p id="a128" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated"><code class="fe lu lv lw lx b">item.name</code>是来自我的数据。我想过滤名字值。如果我们的操作包含我们正在寻找的单词，则返回值。</p></div><div class="ab cl mr ms hv mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ik il im in io"><pre class="kh ki kj kk gu nb lx nc nd aw ne bi"><span id="4055" class="nf ng ir lx b gz nh ni l nj nk">&lt;input type=”search” v-model=”search” placeholder=”Search in blog title” /&gt;</span></pre><p id="c60f" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">在<code class="fe lu lv lw lx b">&lt;template&gt;</code>部分，我们使用<code class="fe lu lv lw lx b">input</code>。你可以<code class="fe lu lv lw lx b">type</code> <code class="fe lu lv lw lx b">text</code>或者搜索一下，我觉得不会有问题。</p><p id="76fc" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">我们用一个<code class="fe lu lv lw lx b">v-model</code>来搜索。</p><pre class="kh ki kj kk gu nb lx nc nd aw ne bi"><span id="f617" class="nf ng ir lx b gz nh ni l nj nk">&lt;li v-for="user in searchFunction" :key="user"&gt;</span><span id="2983" class="nf ng ir lx b gz nl ni l nj nk">  &lt;h3 class="card__title"&gt; {{user.name}} &lt;/h3&gt;</span><span id="8247" class="nf ng ir lx b gz nl ni l nj nk">  &lt;span class="card__status"&gt; {{user.username}} &lt;/span&gt;</span><span id="d446" class="nf ng ir lx b gz nl ni l nj nk">  &lt;p class="card__description"&gt; {{user.address.street}}       {{user.address.suite}} {{user.address.city}}  {{user.address.zipcode}} &lt;/p&gt;</span><span id="d31f" class="nf ng ir lx b gz nl ni l nj nk">  &lt;p class="card__description"&gt; {{user.email}} &lt;/p&gt;</span><span id="e64f" class="nf ng ir lx b gz nl ni l nj nk">&lt;/li&gt;</span></pre><p id="6650" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">我不想提<em class="na"> CSS </em>和<em class="na">风格</em>结构。让我们看看如何在<em class="na">模板</em>中显示我们得到的数据。</p><p id="1378" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated"><code class="fe lu lv lw lx b">v-for="user in users" :key="user.id"</code></p><p id="38de" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">根据<code class="fe lu lv lw lx b">users</code>数据，我们创建了与用户数量一样多的<code class="fe lu lv lw lx b">user</code>。我们需要确定一个<code class="fe lu lv lw lx b">:key</code>。这是强制性的。如果不指定，您将收到一个错误。</p><p id="8388" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">经过这个过程，这样无论什么时候打电话都可以联系到用户；</p><p id="20bc" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated"><code class="fe lu lv lw lx b">{{ user.name }}, {{ user.username }}, {{ user.address.street }}</code></p><p id="1692" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">您可以访问下面的所有项目代码。你可以处理它。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nt mz l"/></div></figure></div><div class="ab cl mr ms hv mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ik il im in io"><div class="kh ki kj kk gu mb"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-use-angulars-attribute-directives-in-your-class-hierarchy-d3a1d0adac32"><div class="mc ab fp"><div class="md ab me cl cj mf"><h2 class="bd is gz z fq mg fs ft mh fv fx iq bi translated">如何在类层次结构中使用Angular的属性指令</h2><div class="mi l"><h3 class="bd b gz z fq mg fs ft mh fv fx dk translated">使用Angular CLI构建属性指令</h3></div><div class="mj l"><p class="bd b dl z fq mg fs ft mh fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="mk l"><div class="nu l mm mn mo mk mp kq mb"/></div></div></a></div><div class="ly lz gq gs ma mb"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-create-marker-and-marker-cluster-with-leaflet-map-95e92216c391"><div class="mc ab fp"><div class="md ab me cl cj mf"><h2 class="bd is gz z fq mg fs ft mh fv fx iq bi translated">如何使用传单地图创建标记和标记簇</h2><div class="mi l"><h3 class="bd b gz z fq mg fs ft mh fv fx dk translated">在活页地图架构中创建标记和图层，然后对标记进行聚类的方法。</h3></div><div class="mj l"><p class="bd b dl z fq mg fs ft mh fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="mk l"><div class="nv l mm mn mo mk mp kq mb"/></div></div></a></div><div class="ly lz gq gs ma mb"><a rel="noopener  ugc nofollow" target="_blank" href="/chart-and-calendar-design-in-flip-card-using-angular-nebular-db0ffd434d5b"><div class="mc ab fp"><div class="md ab me cl cj mf"><h2 class="bd is gz z fq mg fs ft mh fv fx iq bi translated">使用角状星云在翻转卡中设计图表和日历</h2><div class="mi l"><h3 class="bd b gz z fq mg fs ft mh fv fx dk translated">在活动卡片上创建一个快速、友好的图表和日历。</h3></div><div class="mj l"><p class="bd b dl z fq mg fs ft mh fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="mk l"><div class="nw l mm mn mo mk mp kq mb"/></div></div></a></div><div class="ly lz gq gs ma mb"><a rel="noopener  ugc nofollow" target="_blank" href="/create-a-card-design-with-the-free-vue-js-template-now-ui-kit-5676a738e518"><div class="mc ab fp"><div class="md ab me cl cj mf"><h2 class="bd is gz z fq mg fs ft mh fv fx iq bi translated">使用免费的Vue.js模板创建卡片设计</h2><div class="mi l"><h3 class="bd b gz z fq mg fs ft mh fv fx dk translated">使用免费主题可能是开发设计和学习的最佳方式之一。</h3></div><div class="mj l"><p class="bd b dl z fq mg fs ft mh fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="mk l"><div class="nx l mm mn mo mk mp kq mb"/></div></div></a></div><p id="7536" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated"><em class="na">更多内容看</em><a class="ae kw" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="la is"><em class="na">plain English . io</em></strong></a></p></div></div>    
</body>
</html>