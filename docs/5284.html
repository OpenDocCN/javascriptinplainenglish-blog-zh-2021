<html>
<head>
<title>Why Use Stateless Components?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么要使用无状态组件？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/why-stateless-components-7c1f2b8b3004?source=collection_archive---------4-----------------------#2021-10-29">https://javascript.plainenglish.io/why-stateless-components-7c1f2b8b3004?source=collection_archive---------4-----------------------#2021-10-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7d84" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你是否在某处读到过写更多的无状态UI组件是好的，但是你不知道为什么？那么这里给你讲一个故事。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/eea7e04a03242bc4d67ccd29f5f78724.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0SlnZsLzren7GbgM.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk"><a class="ae kr" href="https://devhumor.com/media/spaghetti-code-1" rel="noopener ugc nofollow" target="_blank">Image from devhumor</a></figcaption></figure><h1 id="d983" class="ks kt iq bd ku kv kw kx ky kz la lb lc jw ld jx le jz lf ka lg kc lh kd li lj bi translated">介绍</h1><p id="962b" class="pw-post-body-paragraph lk ll iq lm b ln lo jr lp lq lr ju ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">当您开始阅读<a class="ae kr" href="https://reactjs.org/docs/state-and-lifecycle.html#the-data-flows-down" rel="noopener ugc nofollow" target="_blank"> React </a>文档时，很快您就会发现越来越多的关于无状态和有状态组件的内容，以及关于使用更多无状态组件而不是有状态组件的争论。但是这种推动的背后并没有足够的推理。我试着用谷歌搜索“为什么是无状态组件”,也没有什么好的理由。我最终得到了这样的结果:</p><blockquote class="mg mh mi"><p id="56e5" class="lk ll mj lm b ln mk jr lp lq ml ju ls mm mn lv lw mo mp lz ma mq mr md me mf ij bi translated">尽管state很酷，但您应该始终致力于使您的组件尽可能简单和无状态，以便不同的组件可以像乐高积木一样重用，即使您没有立即重用某个组件的计划。有状态的人应该感到幸运！<br/>——<a class="ae kr" href="https://programmingwithmosh.com/javascript/stateful-stateless-components-react/" rel="noopener ugc nofollow" target="_blank">来源</a></p></blockquote><p id="3451" class="pw-post-body-paragraph lk ll iq lm b ln mk jr lp lq ml ju ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">或者这个:</p><blockquote class="mg mh mi"><p id="46e1" class="lk ll mj lm b ln mk jr lp lq ml ju ls mm mn lv lw mo mp lz ma mq mr md me mf ij bi translated">什么时候使用无状态组件？？当你只需要呈现道具的时候，当你不需要状态，或者任何内部变量的时候，当创建元素不需要交互的时候，当你想要可重用的代码的时候<br/>你什么时候会使用有状态组件？当构建接受用户输入的元素时..或页面上交互的元素，当依赖于呈现的状态时，例如，在呈现之前获取数据，当依赖于不能作为道具传递的任何数据时<br/> — <a class="ae kr" href="https://medium.com/@cgcrutch18/stateful-vs-stateless-react-components-13f647f7fc4" rel="noopener">源</a></p></blockquote><h1 id="9cfe" class="ks kt iq bd ku kv kw kx ky kz la lb lc jw ld jx le jz lf ka lg kc lh kd li lj bi translated">为什么是无国籍？</h1><p id="df90" class="pw-post-body-paragraph lk ll iq lm b ln lo jr lp lq lr ju ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">这不足以促使开发人员编写更多的无状态组件。我们退一步来问这个问题。</p><h2 id="4cc9" class="ms kt iq bd ku mt mu dn ky mv mw dp lc lt mx my le lx mz na lg mb nb nc li nd bi translated">一个组件在软件开发中意味着什么？</h2><p id="91f8" class="pw-post-body-paragraph lk ll iq lm b ln lo jr lp lq lr ju ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">一般来说，组件是一段可重用的代码，就像软件开发中的函数或类一样。软件工程师被教导要写干净的代码，分离关注点，写依赖倒置的代码，写可维护的代码。这些规则阻止我们在一个类或函数中编写整个应用程序，这些规则帮助我们开发Google、Amazon或脸书规模的可维护应用程序。</p><p id="1ec7" class="pw-post-body-paragraph lk ll iq lm b ln mk jr lp lq ml ju ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">在前端和UI世界中，组件负责在屏幕上呈现视觉元素，正因为如此，人们认为这是可以否决软件开发规则的特殊代码，但React清楚地表明了这一点，并帮助我们理解同样的规则适用于组件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/ea5f7cb086dd9abed17f85395cc619a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*r24Z1nZv1EQl48kcVgMvXg.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk"><a class="ae kr" href="https://medium.com/@derek.harmanli/js-functional-programming-pure-function-optimization-example-5d04aeb9b867" rel="noopener">Image Copywrite</a></figcaption></figure><h2 id="8274" class="ms kt iq bd ku mt mu dn ky mv mw dp lc lt mx my le lx mz na lg mb nb nc li nd bi translated">一个组件应该遵循相同的软件开发规则</h2><p id="239a" class="pw-post-body-paragraph lk ll iq lm b ln lo jr lp lq lr ju ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">如果一个组件只是一个有特定输入输出接口的方法，为什么要写无状态组件？</p><ul class=""><li id="7581" class="nf ng iq lm b ln mk lq ml lt nh lx ni mb nj mf nk nl nm nn bi translated">无状态组件是可测试的</li><li id="73ab" class="nf ng iq lm b ln no lq np lt nq lx nr mb ns mf nk nl nm nn bi translated">无状态组件有助于将逻辑从可视元素呈现中分离出来</li><li id="69e7" class="nf ng iq lm b ln no lq np lt nq lx nr mb ns mf nk nl nm nn bi translated">无状态组件有助于编写依赖注入代码</li><li id="acc3" class="nf ng iq lm b ln no lq np lt nq lx nr mb ns mf nk nl nm nn bi translated">无状态组件帮助我们用应用于应用程序其余部分的相同标准编写代码</li><li id="ccc1" class="nf ng iq lm b ln no lq np lt nq lx nr mb ns mf nk nl nm nn bi translated">无状态组件清楚地表明UI与后端代码没有什么不同</li><li id="54f2" class="nf ng iq lm b ln no lq np lt nq lx nr mb ns mf nk nl nm nn bi translated">您可以将设计模式和坚实的原则应用到您的前端代码中</li></ul><p id="ac86" class="pw-post-body-paragraph lk ll iq lm b ln mk jr lp lq ml ju ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">现在我们编写了更多的无状态组件，会有什么好处呢？！</p><ul class=""><li id="072d" class="nf ng iq lm b ln mk lq ml lt nh lx ni mb nj mf nk nl nm nn bi translated">您可以为业务逻辑而不是UI元素编写测试</li><li id="92ae" class="nf ng iq lm b ln no lq np lt nq lx nr mb ns mf nk nl nm nn bi translated">帮助QA人员只寻找视觉上的不匹配</li><li id="9933" class="nf ng iq lm b ln no lq np lt nq lx nr mb ns mf nk nl nm nn bi translated">确定业务逻辑</li><li id="c096" class="nf ng iq lm b ln no lq np lt nq lx nr mb ns mf nk nl nm nn bi translated">使更改用户界面变得简单快捷，而不用担心逻辑问题</li><li id="935e" class="nf ng iq lm b ln no lq np lt nq lx nr mb ns mf nk nl nm nn bi translated">在UI更改方面带来灵活性</li></ul><p id="68d1" class="pw-post-body-paragraph lk ll iq lm b ln mk jr lp lq ml ju ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">如果我们将UI和逻辑分离，我们就有了一个可维护的代码库，每个人，尤其是业务部门都将从中受益，否则，久而久之和项目的增长将成为每个人的头痛问题，不仅是开发人员，还有业务人员，因为他们期望快速的变化，而技术无法提供这种敏捷性。</p><h2 id="0e08" class="ms kt iq bd ku mt mu dn ky mv mw dp lc lt mx my le lx mz na lg mb nb nc li nd bi translated">逻辑怎么分？</h2><p id="4129" class="pw-post-body-paragraph lk ll iq lm b ln lo jr lp lq lr ju ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">有几个最佳实践架构使我们能够编写无状态组件，如反应广告的<a class="ae kr" href="https://facebook.github.io/flux/docs/in-depth-overview/" rel="noopener ugc nofollow" target="_blank"> Flux </a>。但是取决于你的UI框架，有不同的架构。这个想法很简单，UI组件应该足够笨以接受输入，并基于输入呈现作为其输出的可视元素。那么用户输入和表单呢？</p><p id="8958" class="pw-post-body-paragraph lk ll iq lm b ln mk jr lp lq ml ju ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">用户输入可以保存在小的局部状态中，就像方法或类中的局部变量，然后它应该被推到负责处理逻辑的代码的其他部分。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi nt"><img src="../Images/00a3cb5fc98414958bc31dae9bf8eef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ncRbMfK8YO4ikA_H.png"/></div></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk">Flux Architecture</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/f7fc551627fd0fcc1c6f6eeb5b58e65f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/0*gKyFJmkyFttwBUn7.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk">React Data Flow</figcaption></figure><h1 id="92b9" class="ks kt iq bd ku kv kw kx ky kz la lb lc jw ld jx le jz lf ka lg kc lh kd li lj bi translated">结论</h1><p id="4c2b" class="pw-post-body-paragraph lk ll iq lm b ln lo jr lp lq lr ju ls lt lu lv lw lx ly lz ma mb mc md me mf ij bi translated">React通过推动<strong class="lm ir">道具</strong>和<strong class="lm ir">状态</strong>的想法，帮助软件行业将前端代码视为普通的软件代码。这是一个令人敬畏的步骤，因为在此之前，人们在前端思考，他们可以做他们想做的任何事情，因为它是例外的，不遵循软件开发规则，这是不正确的。</p><p id="453c" class="pw-post-body-paragraph lk ll iq lm b ln mk jr lp lq ml ju ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated">总之，让你的按钮和卡片无状态是不够的。你甚至可以让表单成为无状态的，唯一的事情就是组织一个合适的架构来允许你这么做。</p><p id="1dc1" class="pw-post-body-paragraph lk ll iq lm b ln mk jr lp lq ml ju ls lt mn lv lw lx mp lz ma mb mr md me mf ij bi translated"><em class="mj">更多内容请看</em><a class="ae kr" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lm ir"><em class="mj">plain English . io</em></strong></a></p></div></div>    
</body>
</html>