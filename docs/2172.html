<html>
<head>
<title>Understanding Browser APIs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解浏览器API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/understanding-browser-apis-83a570a62840?source=collection_archive---------9-----------------------#2021-05-07">https://javascript.plainenglish.io/understanding-browser-apis-83a570a62840?source=collection_archive---------9-----------------------#2021-05-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/0c9fa03188d7a4c4b9e80d59c05ea72f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wc3MgXJ00mrdGO_-8vJXTw.jpeg"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Photo by <a class="ae ja" href="https://unsplash.com/@euwars" rel="noopener ugc nofollow" target="_blank">Farzad Nazifi</a> on <a class="ae ja" href="https://unsplash.com/photos/p-xSl33Wxyc" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><p id="5368" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">今天，技术进步的增加使每个人都受益。这一事件的转变极大地影响了各个领域，但在这篇文章中，我们更关注网络及其重大进步。web上的持续改进使得许多Web过程变得更快更容易，增加了用户体验，并且通常使开发者和用户都受益。</p><p id="f214" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本文中，我们将了解<strong class="kc je"> API </strong>、<strong class="kc je">浏览器API</strong>，并进一步了解网络上可用的<strong class="kc je">不同类型的现代浏览器API</strong>。</p><h1 id="039a" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">什么是API？</h1><p id="e8ce" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">根据<a class="ae ja" href="https://en.wikipedia.org/wiki/Application_programming_interface" rel="noopener ugc nofollow" target="_blank">维基百科对API </a>的定义:API(应用编程接口)是定义多个软件应用之间交互的接口。它定义了可以发出的请求的种类、如何发出请求、应该使用的数据格式、应该遵循的约定等等。它还可以提供扩展机制，以便用户能够以各种方式扩展现有的功能。</p><p id="f00e" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">不同类型的API有<strong class="kc je">开放API</strong>、<strong class="kc je">内部API</strong>、<strong class="kc je">伙伴API</strong>、<strong class="kc je">复合API</strong>、<strong class="kc je"> RESTFUL </strong>、<strong class="kc je"> JSON-RPC </strong>、<strong class="kc je"> XML </strong> -RPC、<strong class="kc je"> SOAP </strong>。</p><h1 id="c75c" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">什么是Web/浏览器API？</h1><p id="d12a" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated"><strong class="kc je">浏览器API</strong>(或web<strong class="kc je">API</strong>)是内置在<strong class="kc je">浏览器</strong>中的<strong class="kc je">API</strong>。他们能够从浏览器和周围的计算机环境中公开数据，这有助于开发人员执行复杂的操作。有了这些API，我们可以构建利用通知、振动、地理定位等本地特性的应用程序。在本文中，我们将了解F <em class="mb"> etch、支付请求、地理定位、拖放、页面可见性和振动</em>API。</p><h1 id="3a4b" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">获取API</h1><p id="4134" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">这是当今常用的API之一。它用于发出网络请求，由于其强大而灵活的特性集，它是<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" rel="noopener ugc nofollow" target="_blank">XMLHttpRequest</a></code>的更好替代方案。它还定义了相关的概念，如CORS和HTTP Origin报头。<code class="fe mc md me mf b">fetch()</code>方法接受一个强制参数，即您想要获取的资源的路径。它通过使用<code class="fe mc md me mf b">.then()</code>和<code class="fe mc md me mf b">.catch()</code>方法返回一个解析为该请求的<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/Response" rel="noopener ugc nofollow" target="_blank">Response</a></code>的<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noopener ugc nofollow" target="_blank">Promise</a></code>。我们还可以在请求中提供我们的头和主体内容。</p><p id="f1fb" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在下面的代码中，<code class="fe mc md me mf b">fetch()</code>接受一个参数，一个Url字符串，它是我们想要获取的资源的路径，然后返回一个包含响应和错误(如果有的话)的承诺。</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="23ea" class="mo kz jd mf b gy mp mq l mr ms">fetch('<a class="ae ja" href="https://randomuser.me/api/" rel="noopener ugc nofollow" target="_blank">https://randomuser.me/api/</a>')<br/>  .then(response =&gt; response.json())<br/>  .then(data =&gt; console.log(data))<br/>  .catch(error =&gt; console.log(error));</span></pre><h1 id="3a72" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">付款申请API</h1><p id="e466" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">在每个网上购物系统中，最重要的部分之一就是结账页面。要完成网上购物的过程，在其他地方填写所需的步骤也是困难和累人的。</p><p id="a4f6" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">多亏了Web API，浏览器中引入了支付请求API，以改善网上结账体验，并减少在线支付的步骤。它存储和记忆经常使用的支付信息，即卡信息，送货地址，并让用户快速有效地进行在线支付。</p><p id="8052" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">将付款申请API与“基本卡”配合使用的优势(基于卡的付款包括:</p><ul class=""><li id="96a0" class="mt mu jd kc b kd ke kh ki kl mv kp mw kt mx kx my mz na nb bi translated"><strong class="kc je">快速购买体验</strong>:一旦用户在浏览器中输入他们的详细信息，然后准备在网上支付商品和服务，他们就不再需要在不同的网站上重复填写相同的详细信息。这将节省他们的时间，并缓解每次购物时必须填写详细信息的压力。</li><li id="acbd" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><strong class="kc je">每个网站上的一致体验(支持API): </strong>因为支付布局由浏览器控制，所以它可以为用户量身定制体验。这可以包括将UI本地化为用户的首选语言。用户将在不同的网站上体验UX相同的支付方式，并对此感到熟悉。用户将不再担心因为不了解支付程序或系统接口而放弃支付。</li><li id="b282" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><strong class="kc je">可访问性</strong>:由于浏览器控制支付表的输入元素，它可以确保每个网站上一致的键盘和屏幕阅读器可访问性，而无需开发人员做任何事情。浏览器还可以调整付款单的字体大小或颜色对比度，让用户付款时更加舒适。</li><li id="951d" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><strong class="kc je">凭证管理</strong>:用户可以直接在浏览器中管理自己的信用卡和送货地址。该浏览器还可以跨设备同步这些“凭证”，使用户在购物时可以轻松地在桌面和移动设备之间切换。</li><li id="8d0c" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><strong class="kc je">一致错误处理:</strong>浏览器可以检查卡号的有效性，可以告诉用户某张卡是否已经过期(或者即将过期)。浏览器可以根据过去的使用模式或商家的限制(例如，“我们只接受Visa或Mastercard”)自动建议使用哪张卡，或者允许用户说出哪张是他们默认/最喜欢的卡。</li><li id="2926" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated">开发人员必须为集成编写更少的代码。一旦初始化了一个<code class="fe mc md me mf b">PaymentRequest</code>对象，API就会处理剩下的事情。您可以通过提供的API方法访问所需的内部信息。</li></ul><blockquote class="nh ni nj"><p id="42e5" class="ka kb mb kc b kd ke kf kg kh ki kj kk nk km kn ko nl kq kr ks nm ku kv kw kx ig bi translated"><strong class="kc je"> <em class="jd">注:</em> </strong> <em class="jd">付款请求API仅适用于HTTPS环境。</em></p></blockquote><p id="1449" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">付款请求API公开了如下几种方法。</p><ul class=""><li id="217b" class="mt mu jd kc b kd ke kh ki kl mv kp mw kt mx kx my mz na nb bi translated"><code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest" rel="noopener ugc nofollow" target="_blank">PaymentRequest()</a></code> -为创建和管理<a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent" rel="noopener ugc nofollow" target="_blank">用户代理的</a>支付接口提供API的对象。</li><li id="1631" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequestEvent" rel="noopener ugc nofollow" target="_blank">PaymentRequestEvent</a></code>发生<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest" rel="noopener ugc nofollow" target="_blank">PaymentRequest</a></code>时传递给支付处理者的事件。</li><li id="d3e6" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequestUpdateEvent" rel="noopener ugc nofollow" target="_blank">PaymentRequestUpdateEvent</a></code>这使得网页能够响应用户动作来更新支付请求的细节。</li><li id="9544" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentMethodChangeEvent" rel="noopener ugc nofollow" target="_blank">PaymentMethodChangeEvent</a></code>表示用户改变支付工具(例如，从信用卡切换到借记卡)。</li><li id="999a" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated">用户选择付款方式并批准付款请求后返回的对象。</li><li id="c62f" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/MerchantValidationEvent" rel="noopener ugc nofollow" target="_blank">MerchantValidationEvent</a></code>代表要求商家(网站)验证自己被允许使用特定支付处理程序(例如，注册为允许使用Apple Pay)的浏览器。</li></ul><p id="0bcd" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面的代码片段包含了在您的网站上实现支付请求API所需要知道的一切。你可以在这里看我做的一个现场演示<a class="ae ja" href="https://nonsodaniel.github.io/payment-request-demo/" rel="noopener ugc nofollow" target="_blank">。只是为了本文的目的，我把它做得很简单。随意创建一个<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/MerchantValidationEvent" rel="noopener ugc nofollow" target="_blank">p</a>ayment.html</code>文件，将下面的代码复制到文件中，然后在你的浏览器上测试。</a></p><figure class="mg mh mi mj gt ip"><div class="bz fp l di"><div class="nn no l"/></div></figure><h1 id="f310" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">地理定位API</h1><p id="2260" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated"><strong class="kc je">地理定位API </strong>使用户能够向网络应用程序提供他们的位置，如果他们愿意的话。出于隐私的考虑，在该位置可用之前，用户需要获得许可。</p><p id="3be9" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">WebExtensions要获取用户的位置，需要在manifest.json中的<code class="fe mc md me mf b">permissions</code>下添加<code class="fe mc md me mf b">“geolocation”</code>，第一次请求时，用户的操作系统会提示用户允许位置访问。</p><p id="56b2" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">地理定位API提供的重要方法:</p><ul class=""><li id="bd8d" class="mt mu jd kc b kd ke kh ki kl mv kp mw kt mx kx my mz na nb bi translated"><code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/getCurrentPosition" rel="noopener ugc nofollow" target="_blank">Geolocation.getCurrentPosition()</a></code>:获取设备的当前位置。</li><li id="740c" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/watchPosition" rel="noopener ugc nofollow" target="_blank">Geolocation.watchPosition()</a></code>:注册一个处理函数，每次设备位置改变时都会自动调用，返回用户的更新位置。</li></ul><p id="89fd" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面的代码是一个简单的地理定位代码，通过纬度和经度检索用户的当前位置。随意创建一个<code class="fe mc md me mf b">geolocation.html</code>文件，复制并粘贴代码到其中，然后在你的浏览器上测试。</p><p id="7a87" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc je"> <em class="mb">注意:</em> </strong> <em class="mb"> </em>地理定位API仅在<a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts" rel="noopener ugc nofollow" target="_blank">安全上下文</a> (HTTPS)、部分或全部<a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API#browser_compatibility" rel="noopener ugc nofollow" target="_blank">支持浏览器</a>中可用。</p><figure class="mg mh mi mj gt ip"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="80ad" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有关地理定位用法的更多信息，请阅读使用地理定位API 的<a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API/Using_the_Geolocation_API" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="141e" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">拖放API</h1><p id="adbc" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">HTML拖放API允许应用程序在浏览器中使用拖放功能。当用户用鼠标选择<em class="mb">可拖动的</em>元素，将这些元素拖动到<em class="mb">可放下的</em>元素，并通过释放鼠标按钮放下它们。这个API使用从<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent" rel="noopener ugc nofollow" target="_blank">mouse events</a></code>继承的<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/Event" rel="noopener ugc nofollow" target="_blank">DOM event model</a></code>和<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/DragEvent" rel="noopener ugc nofollow" target="_blank"><em class="mb">drag events</em></a></code>。典型的<em class="mb">拖动操作</em>开始于用户选择一个<em class="mb">可拖动的</em>元素，将该元素拖动到一个<em class="mb">可放下的</em>元素，然后释放被拖动的元素。</p><p id="2c60" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">拖动操作期间触发的各种事件</p><ul class=""><li id="303d" class="mt mu jd kc b kd ke kh ki kl mv kp mw kt mx kx my mz na nb bi translated"><code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/ondrag" rel="noopener ugc nofollow" target="_blank">ondrag</a></code>当<em class="mb">拖动项</em>(元素或文本选择)被拖动时，该事件被触发。</li><li id="8090" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/ondragend" rel="noopener ugc nofollow" target="_blank">ondragend</a></code>当拖动操作结束时(如释放鼠标按钮或点击或按下Esc键),触发该事件。</li><li id="5f0e" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/ondragenter" rel="noopener ugc nofollow" target="_blank">ondragenter</a></code>当被拖动的项目进入有效的放置目标时，触发该事件。</li><li id="5597" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated">当一个被拖动的项目离开一个有效的放置目标时，这个事件被触发。</li><li id="1c05" class="mt mu jd kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/ondrop" rel="noopener ugc nofollow" target="_blank">ondrop</a></code>表示当一个项目被放到一个有效的放置目标上时触发此事件。(参见<a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations#drop" rel="noopener ugc nofollow" target="_blank">执行下降</a>。)</li></ul><p id="c676" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面的代码是如何使元素<em class="mb">可拖动的示例代码，其中</em>需要添加<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-draggable" rel="noopener ugc nofollow" target="_blank">draggable</a></code>属性和<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/ondragstart" rel="noopener ugc nofollow" target="_blank">ondragstart</a></code>全局事件处理程序。</p><figure class="mg mh mi mj gt ip"><div class="bz fp l di"><div class="nn no l"/></div></figure><h1 id="fef9" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">页面可见性API</h1><p id="2d41" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">页面可见性API使我们能够通过最小化窗口或切换到另一个选项卡或应用程序来跟踪用户何时活动或何时离开当前选项卡。</p><blockquote class="nh ni nj"><p id="4a63" class="ka kb mb kc b kd ke kf kg kh ki kj kk nk km kn ko nl kq kr ks nm ku kv kw kx ig bi translated">例如，当您查看whatsapp状态，然后最小化whatsapp以播放一些youtube视频时。当你回到whatsapp应用程序时，你会发现它会从你停止浏览的地方继续，为你创造一个流畅的体验。</p></blockquote><p id="4a95" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当用户最小化窗口或切换到另一个标签时，API会发送一个<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/Document/visibilitychange_event" rel="noopener ugc nofollow" target="_blank">visibilitychange</a></code>事件，让监听器知道页面的状态已经改变。您可以检测事件并执行一些操作或采取不同的行为。</p><p id="4874" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">值得注意的是，页面可见性API通过让页面在文档不可见时避免执行不必要的任务，对节省资源和提高性能特别有用。</p><figure class="mg mh mi mj gt ip"><div class="bz fp l di"><div class="nn no l"/></div></figure><h1 id="0490" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">振动API</h1><p id="44e1" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">振动是大多数现代移动设备的普遍特征。这是可能的，因为振动硬件的存在，它让软件代码通过使设备振动来向用户提供物理反馈。<strong class="kc je">振动API </strong>为网络应用提供了访问该硬件的能力(如果它存在的话),如果设备不支持它，它什么也不做。</p><blockquote class="nh ni nj"><p id="3622" class="ka kb mb kc b kd ke kf kg kh ki kj kk nk km kn ko nl kq kr ks nm ku kv kw kx ig bi translated">根据<a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/Vibration_API" rel="noopener ugc nofollow" target="_blank"> MDN </a>的说法，振动被描述为开关脉冲的模式，其长度可能不同。该模式可以由描述振动毫秒数的单个整数组成，也可以由描述振动和暂停模式的整数数组组成。用单一方法控制振动:<code class="fe mc md me mf b"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/vibrate" rel="noopener ugc nofollow" target="_blank">Navigator.vibrate()</a></code>。</p></blockquote><p id="0e82" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您可以通过指定单个值或仅包含一个值的数组来使振动硬件产生一次脉冲。下面是触发设备振动200毫秒的示例代码</p><pre class="mg mh mi mj gt mk mf ml mm aw mn bi"><span id="8a97" class="mo kz jd mf b gy mp mq l mr ms">window.navigator.vibrate(200);<br/>window.navigator.vibrate([200]);</span></pre><p id="3c37" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们还可以创造连续的振动，甚至处理停止/恢复振动。下面的代码解释了它。</p><figure class="mg mh mi mj gt ip"><div class="bz fp l di"><div class="nn no l"/></div></figure><h1 id="a2cc" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">结论</h1><p id="77bf" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">与目前Web上可用的API相比，本文中介绍的不同类型的Web APIs只是其中的一小部分。要了解其他web浏览器API的更多信息，包括一些仍在开发中的API，请查看<a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API" rel="noopener ugc nofollow" target="_blank"> MDN Web API文档</a>，了解其他API、它们的规范、用法、兼容性以及您可能有的其他问题。</p><h1 id="5705" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">相关主题</h1><p id="4533" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated"><a class="ae ja" href="https://nonsodaniel.medium.com/how-to-create-a-simple-text-to-speech-web-application-2a8fdb9ccbcc" rel="noopener">如何创建简单的文本到语音转换应用</a></p><p id="d4c4" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae ja" rel="noopener ugc nofollow" target="_blank" href="/how-to-create-a-voice-to-text-application-2cb12e6b50fd">如何创建一个简单的语音转文本应用</a></p><h1 id="1488" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">进一步的解释/参考</h1><ul class=""><li id="8b04" class="mt mu jd kc b kd lw kh lx kl np kp nq kt nr kx my mz na nb bi translated"><a class="ae ja" href="https://developer.mozilla.org/en-US/docs/Web/API" rel="noopener ugc nofollow" target="_blank"> Web API </a>，“Mozilla开发者网络</li></ul><p id="8ecb" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mb">更多内容请看</em><a class="ae ja" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kc je"><em class="mb">plain English . io</em></strong></a></p></div></div>    
</body>
</html>