<html>
<head>
<title>Basic Usage of the Canvas API: A Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">画布API的基本用法:指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/basic-usage-of-canvas-54e3afb8aa54?source=collection_archive---------15-----------------------#2021-09-16">https://javascript.plainenglish.io/basic-usage-of-canvas-54e3afb8aa54?source=collection_archive---------15-----------------------#2021-09-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d37208021d691188bbe2b4536eb368a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XwI-nyOHSweEqkwQ"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@kovacsz1?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Z S</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2c8c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以先想象一下:如果要在现实中画一个图像，需要什么工具？</p><p id="e8f7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们需要一块画布，然后我们需要一支笔。</p><p id="37ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的web页面上，画布是HTML中的<code class="fe lb lc ld le b">Canvas</code>元素。</p><p id="b46d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe lb lc ld le b">Canvas</code>标签来创建一个画布:</p><pre class="lf lg lh li gt lj le lk ll aw lm bi"><span id="9ec7" class="ln lo iq le b gy lp lq l lr ls">&lt;html&gt;<br/>    &lt;body&gt;<br/>        &lt;canvas&gt;&lt;/canvas&gt;<br/>    &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="709a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像常规元素一样，这个元素也是一个矩形容器。我们可以给它添加一些CSS样式:</p><pre class="lf lg lh li gt lj le lk ll aw lm bi"><span id="d072" class="ln lo iq le b gy lp lq l lr ls">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;</span><span id="53f3" class="ln lo iq le b gy lt lq l lr ls">&lt;head&gt;<br/>  &lt;style&gt;<br/>    canvas {<br/>      background-color: black;<br/>    }<br/>  &lt;/style&gt;<br/>&lt;/head&gt;</span><span id="921c" class="ln lo iq le b gy lt lq l lr ls">&lt;body&gt;<br/>  &lt;canvas&gt;&lt;/canvas&gt;<br/>&lt;/body&gt;</span><span id="661c" class="ln lo iq le b gy lt lq l lr ls">&lt;/html&gt;</span></pre><p id="0ac2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是结果:</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lu"><img src="../Images/9e5fa741906fc1a9cb64de0a33b2d27b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gXTzHlgJvNELgQ6NJzTyhw.png"/></div></div></figure></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h1 id="9d36" class="mc lo iq bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">设置宽度和高度</h1><p id="f4a9" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">我们知道任何画布都有大小。这里我们没有设置画布的大小，画布的默认宽度是300像素，高度是150像素。</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/6701e5f5abe2c0eecf5ef6e166e089bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NTqYhptlWJf0SABDUSQIcg.png"/></div></div></figure><p id="2ee9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以直接在HTML标签中设置它的宽度和高度，或者通过JavaScript代码设置宽度:</p><p id="eb72" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在HTML标签中设置宽度和高度:</p><pre class="lf lg lh li gt lj le lk ll aw lm bi"><span id="3112" class="ln lo iq le b gy lp lq l lr ls">&lt;canvas width="150" height="150"&gt;&lt;/canvas&gt;</span></pre><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/a928a8724c89bbd9923821e2adb7719d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jcH4_L-Pbvpobo1Ieg0evg.png"/></div></div></figure><p id="a74c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在JavaScript中:</p><pre class="lf lg lh li gt lj le lk ll aw lm bi"><span id="f602" class="ln lo iq le b gy lp lq l lr ls">let canvas = document.getElementById("canvas");<br/>canvas.width = document.documentElement.clientWidth;<br/>canvas.height = document.documentElement.clientHeight;</span></pre><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/90be1f7feed378644dc17b9b871adf1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*POqMGg1lxWuknAR20S-eZQ.png"/></div></div></figure></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h1 id="9984" class="mc lo iq bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">笛卡尔坐标系</h1><p id="543f" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">现在我们开始理解坐标系的概念。当我们画图形时，我们需要知道每个点的位置。为了精确描述每个点的位置，在画布上引入了笛卡尔坐标系。</p><p id="09c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在画布中，左上角的点作为原点，水平方向为x轴，垂直方向为y轴。</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/4606a8c606411c297161eca066be85da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lp0hhnMbITpl-9mkwG7BPA.png"/></div></div></figure><p id="1a91" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果上面画布的大小是<code class="fe lb lc ld le b">300 * 300</code>，那么右下角的点应该是<code class="fe lb lc ld le b">(300, 300)</code>。</p><p id="fb6d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个非常重要的概念。当我们后来画的时候，我们本质上是在不同的点之间移动画笔。</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h1 id="20f4" class="mc lo iq bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">划一界线</h1><p id="fbf6" class="pw-post-body-paragraph kd ke iq kf b kg mz ki kj kk na km kn ko nb kq kr ks nc ku kv kw nd ky kz la ij bi translated">好的，在我们设置画布的大小和颜色之前。现在让我们画一些最简单的图形。</p><p id="f48a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在现实中，如果我们需要画画，我们也需要一支笔。在Canvas中，我们可以通过这样的代码获得画笔。</p><pre class="lf lg lh li gt lj le lk ll aw lm bi"><span id="f6b0" class="ln lo iq le b gy lp lq l lr ls">let canvas = document.getElementById("canvas");</span><span id="b31b" class="ln lo iq le b gy lt lq l lr ls">let context = canvas.getContext("2d");</span></pre><p id="b079" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个上下文对象可以看作是一支笔。</p><p id="445d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，我们想象我们如何在现实中绘制线段:</p><ul class=""><li id="2959" class="ni nj iq kf b kg kh kk kl ko nk ks nl kw nm la nn no np nq bi translated">首先，我们需要将笔放在画布上的某个坐标上</li><li id="18be" class="ni nj iq kf b kg nr kk ns ko nt ks nu kw nv la nn no np nq bi translated">然后我们需要将笔移动到另一个坐标</li></ul><p id="bb66" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">JavaScript中也是如此。下面是一段代码:</p><pre class="lf lg lh li gt lj le lk ll aw lm bi"><span id="a8b0" class="ln lo iq le b gy lp lq l lr ls">context.beginPath();</span><span id="a31f" class="ln lo iq le b gy lt lq l lr ls">context.moveTo(50,50);</span><span id="0c75" class="ln lo iq le b gy lt lq l lr ls">context.lineTo(100,100);</span><span id="9462" class="ln lo iq le b gy lt lq l lr ls">context.strokeStyle = '#fff';</span><span id="ba5d" class="ln lo iq le b gy lt lq l lr ls">context.stroke();</span></pre><p id="4425" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">解释:</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nw"><img src="../Images/70570bb69fdaca9178d47d7d10e8bd47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gjEokjCaS20bKzoBfI9k5A.png"/></div></div></figure><p id="3b05" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">结果:</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/306c6d4dbe3f9506a9bdea4b82a12418.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mgh9Jfonj6R2MtddgOpDWw.png"/></div></div></figure></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="afec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">嗯，这是画布的基本用法。在下一篇文章中，我们将学习画三角形、矩形和圆形。</p><p id="92d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ny">更多内容尽在</em><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="ny">plain English . io</em></strong></a></p></div></div>    
</body>
</html>