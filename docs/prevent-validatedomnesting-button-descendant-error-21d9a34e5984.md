# å¦‚ä½•é˜²æ­¢åµŒå¥—

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/prevent-validatedomnesting-button-descendant-error-21d9a34e5984?source=collection_archive---------11----------------------->

## ä½ ç†Ÿæ‚‰è¿™ä¸ªé”™è¯¯å—ï¼ŸğŸ’»

![](img/7a77f1166d3666d2143d622c8d25be18.png)

Every day is a miracle ğŸŒ¸

åœ¨æˆ‘æœ€è¿‘æ­£åœ¨åšçš„é¡¹ç›®ä¸­ï¼Œæˆ‘éœ€è¦åˆ›å»ºä¸€ä¸ªâ€œ**å¯¹è¯æ¡†**â€ä½œä¸ºåŒ…å«ä¸€ä¸ªåŸºæœ¬çš„â€œ**è¾“å…¥è¡¨å•**â€çš„**è¦†ç›–å›¾**ã€‚åœ¨è¿™ä¸ªè¦†ç›–å›¾ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯ç‚¹å‡»çš„**æŒ‰é’®**ï¼Œå¯ä»¥æ‰“å¼€ä¸€ä¸ªâ€œ**ç”µå­é‚®ä»¶ç¡®è®¤**è¦†ç›–å›¾ã€‚

ä¸ºäº†è®©å®ƒæ›´æ¸…æ™°ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹â€œè¾“å…¥è¡¨å•â€çš„å åŠ ï¼Œå®ƒåº”è¯¥æ˜¯è¿™æ ·çš„:

![](img/bc04772cfe44ae47a9e6f7d025bc742c.png)

The overlay in the middle is opened by the red button at the top right of the background page

*ğŸ”´çº¢è‰²æŒ‰é’®æ˜¯ä½¿ç”¨*[***Reakit***](https://reakit.io/docs/get-started/)*åº“åˆ›å»ºçš„æŒ‰é’®ç»„ä»¶ã€‚Reakit æ˜¯ä¸€ä¸ªä½çº§ç»„ä»¶åº“ï¼Œç”¨äºæ„å»ºå¯è®¿é—®çš„é«˜çº§ UI åº“ï¼Œç”¨ React è®¾è®¡ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºã€‚*

ç‚¹å‡»è¿™ä¸ª"**è¾“å…¥è¡¨å•ä¸Šçš„æŒ‰é’®**å åŠ ï¼Œç»è¿‡ä¸€äº›éªŒè¯åï¼Œä½ å°†èƒ½å¤Ÿæ‰“å¼€"**é‚®ä»¶ç¡®è®¤"**å åŠ :

![](img/11c78f8ff86084d21cab8c854a768d1e.png)

**â€œemail confirmationâ€** overlay is opened from the button within â€œ**input form**â€ overlay, the email address is just an example

æ­¥éª¤éå¸¸ç®€å•:

é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª**å¯é‡ç”¨æŒ‰é’®ç»„ä»¶**(åœ¨æœ¬ä¾‹ä¸­æ˜¯çº¢è‰²çš„***é€šçŸ¥æˆ‘***æŒ‰é’®)ï¼Œä¸ºäº†ä½¿æ•´ä¸ªé¡µé¢çœ‹èµ·æ¥å’Œè°ç»Ÿä¸€ï¼Œæ²¡æœ‰å¿…è¦é‡å¤åˆ›å»ºç±»ä¼¼çš„æŒ‰é’®:

![](img/d6a2588b5d06b23014cf56fac154eda3.png)

part of reusable Button Component example

å…¶æ¬¡ï¼Œåˆ›å»ºå¸¦æœ‰è¿™ä¸ªçº¢è‰²æŒ‰é’®çš„"**input verlay**"ç»„ä»¶ï¼Œå®ƒå¯ä»¥æ‰“å¼€" **email confirmation** "è¦†ç›–å›¾( **Modal** )ï¼Œæˆ‘ä»¬åœ¨å…¶ä¸­å¯¼å…¥æˆ‘ä»¬çš„æŒ‰é’®ç»„ä»¶ï¼Œç±»ä¼¼å¦‚ä¸‹:

![](img/1f60e8dd0f39ef9dd014f7aa4eb67b34.png)

â€œ**email confirmation**â€ overlay(in this case: **Modal,** which is another reusable component) will be opened from this button within DialogDisclosure

å°±è¿™æ ·ï¼Ÿï¼é‚£å¾ˆå®¹æ˜“ï¼è®©æˆ‘ä»¬æ‰“å¼€æ§åˆ¶å°æ£€æŸ¥ä¸€ä¸‹ã€‚

ğŸ’¥å•Šï¼Œåœ¨è¿™é‡Œï¼ä¸€åˆ‡æ­£å¸¸ï¼Œé¡µé¢çœ‹èµ·æ¥ä¸é”™ï¼Œä½†æ˜¯æˆ‘æ³¨æ„åˆ°å®é™…ä¸Šå­˜åœ¨ä¸€ä¸ªé”™è¯¯:`validateDOMNesting(â€¦): <button> cannot appear as a descendant of <button> ...`

ä½œä¸ºä¸€ä¸ªè¿½æ±‚å®Œç¾çš„å¼€å‘è€…ï¼Œæˆ‘ä¸å¸Œæœ›é‚£äº›çº¢å­—å‡ºç°ï¼Œæˆ‘å¾—åšç‚¹ä»€ä¹ˆæ¥é˜²æ­¢ï¼Œå¿˜äº†æ–‡ç« å¼€å¤´çš„ç¬‘è¯å§â€¦

ç»è¿‡ä¸€ç³»åˆ—æ£€æŸ¥ï¼Œæˆ‘æ‰¾åˆ°äº†åŸå› :

é»˜è®¤[**dialog Disclosure**](https://reakit.io/docs/dialog/)ä½¿ç”¨ [**Disclosure**](https://reakit.io/docs/disclosure/) ï¼Œç”± PopoverDisclosure åŠå…¶è¡ç”Ÿäº§å“ä½¿ç”¨ï¼ŒDisclosure ä½¿ç”¨**æŒ‰é’®**ã€‚

è¿™æ„å‘³ç€:

åœ¨â€œinput formâ€è¦†ç›–ä¸­ï¼Œ **DialogDisclosure** å·²ç»åµŒå¥—åœ¨ä¸€ä¸ª**æŒ‰é’®**ç»„ä»¶ä¸­ï¼Œå› æ­¤å‡ºç°äº†é”™è¯¯ï¼Œåƒæˆ‘ä¹‹å‰é‚£æ ·å°†æŒ‰é’®åŒ…è£…åœ¨ DialogDisclosure ä¸­å¹¶ä¸æ˜¯æœ€å¥½çš„æ–¹å¼ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆâ€œ *validateDOMNesting(â€¦): <æŒ‰é’®>ä¸èƒ½ä½œä¸º<æŒ‰é’®> â€¦* çš„åä»£å‡ºç°ï¼Œè™½ç„¶è¿™å¹¶ä¸å½±å“ç¨‹åºçš„è¿è¡Œã€‚ğŸŒ¦

ä»¥ä¸‹æ˜¯æˆ‘çš„ç®€å•è§£å†³æ–¹æ¡ˆ:

ğŸŒŸåˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„ç±»ä¼¼**æŒ‰é’®çš„**ç»„ä»¶ï¼Œå¹¶åœ¨å¯¹è¯æ¡†ä¸­ä½¿ç”¨å®ƒä»£æ›¿**æŒ‰é’®**:

![](img/44372011278ae88870f1f7af89000cd1.png)

â€œButton-likeâ€ component: NotifyOverlayButton returns a simple â€œdivâ€

ç»™å®ƒä¸€äº›æ ·å¼ï¼Œä½¿å®ƒçœ‹èµ·æ¥åƒæˆ‘ä»¬çš„æŒ‰é’®:

![](img/1626be9a8e638f508d9ffafae9d6c699.png)

Please ignore the scss module for this example

åœ¨ **InputOverlay** ç»„ä»¶ä¸­ï¼Œå¯¼å…¥å¹¶ä½¿ç”¨å®ƒä»£æ›¿â€œ**æŒ‰é’®**â€ã€‚

![](img/1e8b1c662290ac07db4e4a97de7bb775.png)

ç°åœ¨é”™è¯¯æ²¡æœ‰äº†ï¼

## ç»“è®º

ä»è¿™ä¸ªç®€å•çš„ç»å†ä¸­ï¼Œæˆ‘å­¦ä¼šäº†å¦‚ä½•æ­£ç¡®é˜…è¯»é”™è¯¯ä¿¡æ¯ï¼Œä»¥åŠä¸€æ­¥ä¸€æ­¥æ‰¾åˆ°é”™è¯¯æ ¹æºçš„é‡è¦æ€§ã€‚æœ‰æ—¶å€™æœ‰äº›é”™è¯¯å¹¶ä¸å½±å“åº”ç”¨ï¼Œä½†æ˜¯ä½ å­¦åˆ°çš„æ¯ä¸€ä¸ªçŸ¥è¯†ç‚¹éƒ½ä¼šè®©ä½ æ„Ÿåˆ°å¿«ä¹ï¼

æˆ‘å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¿˜æœ‰ä¸€ç¯‡æ–‡ç« ä¸è¿™ä¸ªä¾‹å­æœ‰å…³:

[](https://medium.com/geekculture/react-email-validation-with-dialog-overlay-472ee564d585) [## ç”¨å¯¹è¯æ¡†è¦†ç›–ååº”ç”µå­é‚®ä»¶éªŒè¯

### â€”ç”µå­é‚®ä»¶éªŒè¯æœ‰æ—¶ä»¤äººå¤´ç–¼ï¼ŒğŸ§Š

medium.com](https://medium.com/geekculture/react-email-validation-with-dialog-overlay-472ee564d585) 

è°¢è°¢å¤§å®¶ï¼Œç¼–ç å¿«ä¹ï¼

*æ›´å¤šå†…å®¹çœ‹* [***è¯´ç™½äº†. io***](http://plainenglish.io)