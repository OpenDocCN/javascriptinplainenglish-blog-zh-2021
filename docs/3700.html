<html>
<head>
<title>Build Your Own Realtime Chat App with MERN Stack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用MERN堆栈构建您自己的实时聊天应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-your-own-realtime-chat-app-with-mern-stack-1f2f0c022576?source=collection_archive---------10-----------------------#2021-07-24">https://javascript.plainenglish.io/build-your-own-realtime-chat-app-with-mern-stack-1f2f0c022576?source=collection_archive---------10-----------------------#2021-07-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0371" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第3部分:部署应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/78774cbfc8914ee3e983d1f06f9dfa7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G3LsP1z5gWgx55gJ"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@franckinjapan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Franck</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9cfc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">如果你需要赶上第一和第二部分:</em></p><div class="lt lu gp gr lv lw"><a rel="noopener  ugc nofollow" target="_blank" href="/build-your-own-realtime-chat-app-with-mern-stack-c5908ba75126"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">使用MERN堆栈构建您自己的实时聊天应用程序</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">第1部分:设置后端</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk kp lw"/></div></div></a></div><div class="lt lu gp gr lv lw"><a rel="noopener  ugc nofollow" target="_blank" href="/build-your-own-realtime-chat-app-with-mern-stack-f203af2e066e"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">使用MERN堆栈构建您自己的实时聊天应用程序</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">第2部分:用React创建前端</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mf l"><div class="ml l mh mi mj mf mk kp lw"/></div></div></a></div><p id="a809" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在故事的这一部分，我们将使用部署我们创建的应用程序，以便我们可以将链接发送给我们的朋友，并每天使用它。我们使用的所有技术都将永远免费。</p><p id="856a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">部署将分为两个阶段。在第一阶段，我们将把后端部署到<a class="ae kv" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank"> Heroku </a>，之后，使用<a class="ae kv" href="https://vercel.com/" rel="noopener ugc nofollow" target="_blank"> Vercel </a>，我们将部署我们的前端。我们可以将它们部署到同一个服务中，但是为了向你们展示更多的方法，我将同时使用这两个服务。</p><h1 id="13c6" class="mm mn iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">1.将后端部署到Heroku</h1><p id="5fa7" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">在这个阶段，我们将把应用的后端部署到Heroku。要做到这一点，请确保您在Heroku上有一个帐户，并且在您的PC上安装了Git。你可以从这个网站下载Git。</p><p id="7c2e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们已经有了account和Git，是时候开始部署过程了。</p><p id="3c6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要创建Heroku应用程序，请点击<em class="ls">新建</em>下拉菜单，然后选择<em class="ls">创建</em> n <em class="ls"> ew应用程序。</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/8e08cd7e6ee618dba3aa902a4e2541cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*VUm0X-pM-s-0zWs4EEvsgA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Create an app with Heroku</figcaption></figure><p id="c675" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">给应用程序命名，然后选择服务器位置。我将应用程序命名为<em class="ls"> chatter-backnd </em>，并选择服务器位置为欧洲。但是，您应该选择离您最近的服务器。然后，点击<em class="ls">创建应用</em>，你就有了Heroku项目设置。</p><p id="fedf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要上传后端，我们需要安装Heroku。我们将使用NPM在全球范围内安装它。只需打开一个终端，并移动到后端的根。然后，使用下面的命令安装它。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="3a50" class="np mn iq nl b gy nq nr l ns nt">npm install -g heroku</span></pre><p id="bb14" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用<code class="fe nu nv nw nl b">heroku --version</code>命令检查是否安装了CLI。</p><p id="181a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe nu nv nw nl b">heroku login</code>命令，登录Heroku，现在，我们准备上传文件。在项目的根目录下创建一个文件，命名为<code class="fe nu nv nw nl b">Procfile</code>，不带扩展名。然后把下面的命令放进去。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/9411e3232f69e3caebc8884c7e7b3e2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x9kDfhYyvJZXnniBysYQ6w.png"/></div></figure><p id="d263" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在后端的根目录中，我们必须初始化一个Git存储库，并提交我们创建的所有文件。如果你按照我做的设置，你已经有了一个<code class="fe nu nv nw nl b">.gitignore</code>文件。如果没有，可以从这里坐<a class="ae kv" href="https://www.toptal.com/developers/gitignore/api/node" rel="noopener ugc nofollow" target="_blank">那辆</a>。在终端中，逐一运行下面的命令。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="194e" class="np mn iq nl b gy nq nr l ns nt">git init<br/>heroku git:remote -a chatter-backnd<br/>git add .<br/>git commit -am "let's deploy backend"<br/>git push heroku master</span></pre><p id="e54d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在最后一个命令之后，您应该等待一两分钟，直到所有的文件都上传到Heroku。就是这样！如果您单击<em class="ls">打开应用程序</em>按钮，您应该会被重定向到一个URL，并看到<em class="ls">服务器已启动并正在运行… </em>消息提示，因为我们在第一部分将它发送到客户端以测试服务器。</p><p id="2570" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们成功地将后端部署到Heroku，现在你可以在世界任何地方访问它。</p><h1 id="8544" class="mm mn iq bd mo mp mq mr ms mt mu mv mw jw mx jx my jz mz ka na kc nb kd nc nd bi translated">2.将前端部署到Vercel</h1><p id="dda8" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">在这个阶段，我们将把我们在第2部分中创建的前端部署到<a class="ae kv" href="https://vercel.com/" rel="noopener ugc nofollow" target="_blank"> Vercel </a>。在此阶段，您需要一个安装了Vercel和Vercel CLI的帐户。现在去在<a class="ae kv" href="https://vercel.com/" rel="noopener ugc nofollow" target="_blank"> Vercel </a>上创建一个免费账户。然后使用以下NPM命令全局安装Vercel CLI。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="7d14" class="np mn iq nl b gy nq nr l ns nt">npm install -g vercel</span></pre><p id="3f25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要检查它是否已安装，请键入以下内容:</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="4e34" class="np mn iq nl b gy nq nr l ns nt">vercel --version</span></pre><p id="d1c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为我们正在部署一个单页面应用程序，并且路由是在客户端处理的，所以我们必须配置Vercel，以便所有的路由都被重定向到<code class="fe nu nv nw nl b">/</code>并且我们可以使用我们的路由器。在客户端目录中，创建一个<code class="fe nu nv nw nl b">vercel.json</code>并将下面的代码块放入其中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/66edec7eba5d0d1fe68670fbe2b1d766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*13j9bHgP9lZwoQQx0U1vZw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Create a vercel.json in the /client directory</figcaption></figure><p id="7c0d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，进入文件<code class="fe nu nv nw nl b">Constants.js</code>，你指定的后端的URL是<code class="fe nu nv nw nl b">http://localhost:3000</code>，并改变它为在前面部分部署的后端的URL。对我来说，是<code class="fe nu nv nw nl b">chatter-backnd.heroku.app</code>。</p><p id="34c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，在终端中，确保你在<code class="fe nu nv nw nl b">/client</code>目录中并输入<code class="fe nu nv nw nl b">vercel --prod</code>。再次登录，对所有提示说是。就是这样！您已经成功部署了前端。转到Vercel dashboard并访问您刚刚部署的站点。</p><p id="f263" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你需要完整的源代码，你可以访问这个<a class="ae kv" href="https://github.com/XenoverseUp/chatter" rel="noopener ugc nofollow" target="_blank">库</a>。</p></div><div class="ab cl nz oa hu ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="ij ik il im in"><h1 id="971d" class="mm mn iq bd mo mp og mr ms mt oh mv mw jw oi jx my jz oj ka na kc ok kd nc nd bi translated">结论</h1><p id="23aa" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">恭喜你！现在，您可以向您的朋友发送一个链接，并拥有一个单独的聊天应用程序。我真的很喜欢创造它，我希望你也是。如果你喜欢，一定要鼓掌，如果你有什么问题，不要犹豫，留下你的评论。</p><p id="2304" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">敬请关注接下来的故事。</p><p id="7f24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容请看</em><a class="ae kv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">plain English . io</em></strong></a></p></div></div>    
</body>
</html>