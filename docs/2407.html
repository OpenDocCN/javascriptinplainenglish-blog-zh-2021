<html>
<head>
<title>The Nullish Coalescing Operator in JavaScript Explained With Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用例子解释JavaScript中的Nullish合并操作符</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-nullish-coalescing-operator-in-javascript-explained-with-examples-3e056e49a2c2?source=collection_archive---------10-----------------------#2021-05-18">https://javascript.plainenglish.io/the-nullish-coalescing-operator-in-javascript-explained-with-examples-3e056e49a2c2?source=collection_archive---------10-----------------------#2021-05-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b52c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过示例了解JavaScript中的Nullish合并运算符。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/818da82e3936d86497eef3d95ee62d45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fGXsZN6jAnVv73mw"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@silvawebdesigns?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nathan da Silva</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9bb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如今，JavaScript有很多强大的特性，开发者可以在代码中使用它们。这是因为JavaScript创建者试图添加尽可能多的特性，以使开发人员编写JavaScript代码更加容易。</p><p id="5f6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我经常看到的特性是逻辑运算符。在旧的JavaScript版本中，我们只有三个逻辑操作符(OR、AND、NOT)。但是现在有了新的ECMAScript规范，我们有了更多。比如短路操作符、可选链接和nullish合并操作符。</p><p id="9b19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是为什么在本文中，我们将学习JavaScript中的nullish合并操作符。所以让我们开始吧。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="9fd7" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">什么是无效合并？</h1><p id="e069" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">nullish合并<code class="fe mw mx my mz b">??</code>是JavaScript中的一个逻辑运算符，我们在两种数据类型之间使用。</p><p id="00d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">操作符检查两种数据类型，如果第一种是<code class="fe mw mx my mz b">null</code>或<code class="fe mw mx my mz b">undefined</code>，则返回第二种数据类型。否则，如果第一个数据类型不是<code class="fe mw mx my mz b">null</code>和<code class="fe mw mx my mz b">undefined</code>，则返回第一个数据类型，而不是第二个数据类型。</p><p id="9914" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码语法如下所示:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="6120" class="ne ma iq mz b gy nf ng l nh ni">firstData <strong class="mz ir">??</strong> secondData</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="0bbb" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">使用零化合并运算符</h1><p id="ec2e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在nullish合并操作符<code class="fe mw mx my mz b">??</code>之前，我们必须使用or操作符<code class="fe mw mx my mz b">||</code>，如果我们想为一个变量提供一个默认值。如您所知，操作符<code class="fe mw mx my mz b">||</code>有点类似于nullish合并操作符。唯一的区别是OR运算符<code class="fe mw mx my mz b">||</code>检查所有的falsy值，而不仅仅是<code class="fe mw mx my mz b">null</code>和<code class="fe mw mx my mz b">undefined</code>。</p><p id="caa3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">顺便说一下，如果你不知道JavaScript中什么是falsy值。分别是:<code class="fe mw mx my mz b">false</code>、<code class="fe mw mx my mz b">0</code>、<code class="fe mw mx my mz b">null</code>、<code class="fe mw mx my mz b">undefined</code>、<code class="fe mw mx my mz b">NaN</code>、<code class="fe mw mx my mz b">-0</code>、<code class="fe mw mx my mz b">0n</code>、<code class="fe mw mx my mz b">""</code>(空字符串)。</p><p id="75b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在的问题是运算符<code class="fe mw mx my mz b">||</code>并不是在所有情况下都有用。因为它检查并避免所有错误的值。例如，有时我们需要0和空字符串作为程序中的有效选项。我们不能用OR运算符来实现这一点。</p><p id="54a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是为什么nullish合并操作符开始发挥作用。它只覆盖<code class="fe mw mx my mz b">null</code>和<code class="fe mw mx my mz b">undefined</code>。</p><p id="c3fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是一个比较OR运算符和nullish合并运算符的示例:</p><ul class=""><li id="3afe" class="nj nk iq ky b kz la lc ld lf nl lj nm ln nn lr no np nq nr bi translated"><em class="ns">使用OR运算符:</em></li></ul><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="1eeb" class="ne ma iq mz b gy nf ng l nh ni">//Give an empty string as a name for a variable.<br/>let name = "";</span><span id="10d3" class="ne ma iq mz b gy nt ng l nh ni">/*using the OR operator to give a default name(John) for our variable.*/<br/><strong class="mz ir">let setName = name || "John";</strong><br/><strong class="mz ir">console.log(setName)</strong>; //prints: "John" because "" is a falsy value.</span></pre><ul class=""><li id="1aae" class="nj nk iq ky b kz la lc ld lf nl lj nm ln nn lr no np nq nr bi translated"><em class="ns">使用无效合并运算符:</em></li></ul><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="f370" class="ne ma iq mz b gy nf ng l nh ni">//Give an empty string as a name for a variable.<br/>let name = "";</span><span id="1370" class="ne ma iq mz b gy nt ng l nh ni">//using the nullish coalescing operator.<br/><strong class="mz ir">let setName = name ?? "Mehdi";</strong><br/><strong class="mz ir">console.log(setName)</strong>; /*prints: ""(empty string) because the first data type(name)is not null and not undefined.*/</span></pre><p id="22e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如你所见，这就是两个操作符的区别。nullish合并操作符的好处在于它检查第一个数据类型是<code class="fe mw mx my mz b">null</code>还是<code class="fe mw mx my mz b">undefined</code>。如果是，它返回第二种数据类型。否则，它返回第一种数据类型。</p><p id="25d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里还有一个例子可以让你明白:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="c611" class="ne ma iq mz b gy nf ng l nh ni">let name = "John";<br/>let age = null;</span><span id="48b6" class="ne ma iq mz b gy nt ng l nh ni">let setName = <strong class="mz ir">name ?? "Mehdi"</strong>;<br/>console.log(setName); /*prints "John" because name <!-- -->is not null or undefined*/</span><span id="0a57" class="ne ma iq mz b gy nt ng l nh ni">let setAge = <strong class="mz ir">age ?? 21</strong>;<br/>console.log(setAge); //prints 21 because age is null.</span></pre><p id="c6b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以只使用条件语句和OR操作符编写相同的代码，向您展示nullish合并操作符是如何工作的，以及为什么它更简洁。</p><p id="c8ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是一个例子:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="a4da" class="ne ma iq mz b gy nf ng l nh ni">let name = "John";<br/>let age = null;</span><span id="05f7" class="ne ma iq mz b gy nt ng l nh ni">let setName;</span><span id="fbb7" class="ne ma iq mz b gy nt ng l nh ni">if(name === null || name === undefined){<br/> setName = "Mehdi"<strong class="mz ir">;</strong><br/>}else{<br/> setName = name;<br/>}</span><span id="1f23" class="ne ma iq mz b gy nt ng l nh ni">if(age === null || age === undefined){<br/> setAge = 21<strong class="mz ir">;</strong><br/>}else{<br/> setAge = age;<br/>}</span><span id="9db5" class="ne ma iq mz b gy nt ng l nh ni">console.log(setName); //John<br/>console.log(setAge); //21</span></pre><p id="0520" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是我们如何使用条件句达到同样的目的。这比使用nullish合并操作符要困难得多，代码对我来说也不干净。这就是为什么在这种情况下推荐使用nullish合并操作符。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="d3fa" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">浏览器支持</h1><p id="dec7" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">IE以及最早版本的Chrome和Safari不支持nullish合并运算符。但是，它在除Opera mobile之外的所有最新版本中都受支持。</p><p id="5ce0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是从“我可以使用吗<a class="ae kv" href="https://caniuse.com/?search=nullish%20coalescing%20operator" rel="noopener ugc nofollow" target="_blank">中截取的一段视频:</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/82abd8baf2c58a55b96d5f29ef27b5c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XMZqkOx2qnzahTREZtQnDQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Capture by the author.</figcaption></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="6103" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="d2b3" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如您所见，nullish合并操作符比您想象的要简单得多。它仅覆盖带有<code class="fe mw mx my mz b">null</code>和<code class="fe mw mx my mz b">undefined</code>的值。我会一直推荐使用它，因为它使代码更干净，并且易于编写。</p><p id="fd0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您阅读这篇文章。希望你觉得有用。</p><p id="ba00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">更多阅读</strong></p><div class="nv nw gp gr nx ny"><a rel="noopener  ugc nofollow" target="_blank" href="/5-useful-javascript-es2017-methods-that-you-should-know-9192d4da48db"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd ir gy z fp od fr fs oe fu fw ip bi translated">你应该知道的5个有用的JavaScript ES2017方法</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">JavaScript ES2017中引入的有用方法。</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om kp ny"/></div></div></a></div><p id="6f16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ns">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ns">plain English . io</em></a></p></div></div>    
</body>
</html>