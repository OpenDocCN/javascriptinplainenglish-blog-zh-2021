<html>
<head>
<title>Putting Context into useContext</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将上下文用于使用上下文</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/putting-context-into-usecontext-5dbe77c276d1?source=collection_archive---------8-----------------------#2021-04-08">https://javascript.plainenglish.io/putting-context-into-usecontext-5dbe77c276d1?source=collection_archive---------8-----------------------#2021-04-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/cc4600a56c10373c89bc64e75fa4a0cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mJmzH39X6b7ItF3T.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Image credits to <a class="ae jz" href="https://levelup.gitconnected.com/handling-complex-form-state-using-react-hooks-76ee7bc937" rel="noopener ugc nofollow" target="_blank">Aditya Loshali</a> and freeCodeCamp</figcaption></figure><p id="9186" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我是React和React挂钩的忠实粉丝。</p><p id="f669" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在你翻着白眼说“别让另一个React钩住博客”之前，听我说完。</p><figure class="ky kz la lb gt jo"><div class="bz fp l di"><div class="lc ld l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Sorry!</figcaption></figure><p id="f189" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">毫不奇怪，行业标准已经远离了基于类的组件和生命周期。在这篇文章中，我不会讨论基于函数还是基于类的组件——你可以在<a class="ae jz" href="http://dev.to" rel="noopener ugc nofollow" target="_blank"> Dev </a>和<a class="ae jz" href="http://medium.com" rel="noopener"> Medium </a>上阅读数十篇关于这个主题的博客。</p><p id="7adb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然而，我确实想阐明我学到的一个特别有用的东西，那就是使用上下文。</p></div><div class="ab cl le lf hr lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ig ih ii ij ik"><h2 id="74e3" class="ll lm in bd ln lo lp dn lq lr ls dp lt kl lu lv lw kp lx ly lz kt ma mb mc md bi translated">什么是使用上下文？</h2><p id="e708" class="pw-post-body-paragraph ka kb in kc b kd me kf kg kh mf kj kk kl mg kn ko kp mh kr ks kt mi kv kw kx ig bi translated">useContext是一个React挂钩，它允许我们拥有和使用全局状态管理，而不需要基于类的组件。</p><p id="6682" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">回顾一下，组件、虚拟DOM、道具和状态是使React如此独特和流行的关键特性。状态是我们如何跟踪元素和组件在前端是如何呈现和交互的。</p><p id="0d1a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">例如，假设您正在填写一份调查。当你点击一个复选框时，会有一个变量跟踪你是否点击了这个复选框。如果您或另一个用户单击了，组件的状态(在本例中是复选框)将被设置为与之前相反的状态，因此从false(未单击)变为true(当前状态)。当您取消选中该框时，state现在应该被设置为与单击的值相反的值—现在为false。</p><pre class="ky kz la lb gt mj mk ml mm aw mn bi"><span id="c8f2" class="ll lm in mk b gy mo mp l mq mr">import {useState} from "react"</span><span id="2eeb" class="ll lm in mk b gy ms mp l mq mr">export default function Survey(){<br/>  const [clicked, setClicked] = useState(false)</span><span id="47a6" class="ll lm in mk b gy ms mp l mq mr">  const clickHandler = () =&gt; {<br/>    setClicked(!clicked)<br/>}</span><span id="7bb3" class="ll lm in mk b gy ms mp l mq mr">  return (<br/>    &lt;&gt;</span><span id="a31a" class="ll lm in mk b gy ms mp l mq mr">    &lt;label&gt;Do you want to take our customer survey for a chance to win $10,000?&lt;/label&gt;<br/>    &lt;input type="checkbox" onClick={clickHandler}&gt;&lt;/input&gt;</span><span id="6b25" class="ll lm in mk b gy ms mp l mq mr">    &lt;/&gt;<br/>  )</span></pre><p id="608d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">useContext允许我们在全局状态下存储一些数据，并通过变量访问这些数据。在某些情况下，这个挂钩消除了我们使用和传递道具的需要。如果您的应用程序需要访问其大部分组件的数据，那么useContext将是保持代码干燥的有效方法。</p></div><div class="ab cl le lf hr lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ig ih ii ij ik"><p id="699a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">总来说，状态管理是有用的，但是在React中会变得非常复杂。在JavaScript中，状态是异步更新的，这意味着您的代码可能正在运行，但状态不会像代码的其余部分一样更新和解析。这就是为什么有这么多的状态管理方法，比如Redux，这是一个React框架，它通过使用存储和reducers来管理状态，因此只有必要的组件才能访问显示和更改状态(在存储中设置)。不过，Redux的实现和调试可能很有挑战性，即使有了这个特殊的框架，在状态管理方面仍有很大的改进空间。</p><p id="b0e0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在发表这篇文章的时候，<a class="ae jz" href="https://recoiljs.org/" rel="noopener ugc nofollow" target="_blank">反冲. js </a>是“一个实验性的React应用程序状态管理库”，据其<a class="ae jz" href="https://github.com/facebookexperimental/Recoil" rel="noopener ugc nofollow" target="_blank"> GitHub </a>称。这个令人兴奋的Redux框架于2020年发布，旨在改善状态管理。这显示了状态管理对我们的前端是多么重要和复杂。</p><h2 id="9c22" class="ll lm in bd ln lo lp dn lq lr ls dp lt kl lu lv lw kp lx ly lz kt ma mb mc md bi translated">它与useState有何不同？</h2><p id="b234" class="pw-post-body-paragraph ka kb in kc b kd me kf kg kh mf kj kk kl mg kn ko kp mh kr ks kt mi kv kw kx ig bi translated">useState和useContext可能<em class="mt">看起来</em>相似，因为它们都与状态管理有关。在我看来，useState是一种不太稳定的维护状态的方式。使用useContext的好处是我们可以实例化一个变量来使用Context，并将其直接导入到任何组件中。由于这是全局状态管理，我们不能改变useContext中的设置。然而，对于useState，我们必须将它的值作为props传递下去，这很容易在刷新或重新呈现时被更改和丢失。</p></div><div class="ab cl le lf hr lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ig ih ii ij ik"><p id="79f6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我不常使用useContext。不过，看到它投入使用，让我意识到这个特殊的React挂钩是多么有用。在React中处理状态可能很棘手，而useContext是类组件和Redux之间的一个很好的媒介。它既容易使用又容易理解。</p><p id="f0d4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">也就是说，状态管理是复杂的，这就是为什么不断有新技术被创造出来以改进我们存储它的方式。useContext本身并不是没有缺陷，但总的来说，我期待在我未来的产品中使用这个特殊的React钩子。</p><p id="fe03" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢您的阅读。如果你有兴趣了解更多关于useContext的信息，我强烈建议你查看下面的链接。</p></div><div class="ab cl le lf hr lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ig ih ii ij ik"><h2 id="4ae5" class="ll lm in bd ln lo lp dn lq lr ls dp lt kl lu lv lw kp lx ly lz kt ma mb mc md bi translated">资源</h2><div class="mu mv gp gr mw mx"><a href="https://frontarm.com/james-k-nelson/usecontext-react-hook/" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd io gy z fp nc fr fs nd fu fw im bi translated">useContext():一个明显胜出的React挂钩</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">今天早些时候，React团队发布了React 16.8，以及期待已久的hooks API。如果你还没有…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">frontarm.com</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl jt mx"/></div></div></a></div><div class="mu mv gp gr mw mx"><a href="https://reactjs.org/docs/hooks-reference.html#usecontext" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd io gy z fp nc fr fs nd fu fw im bi translated">钩子API参考-反应</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">钩子是React 16.8中的新增功能。它们允许您使用状态和其他React特性，而无需编写类。这个…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">reactjs.org</p></div></div><div class="ng l"><div class="nm l ni nj nk ng nl jt mx"/></div></div></a></div><div class="mu mv gp gr mw mx"><a href="https://dev.to/techcheck/react-hooks-usecontext-1j90" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd io gy z fp nc fr fs nd fu fw im bi translated">React挂钩-使用上下文</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">当您需要通过多个嵌套的子组件向下发送道具时，useContext钩子是一个很好的钩子…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">开发到</p></div></div><div class="ng l"><div class="nn l ni nj nk ng nl jt mx"/></div></div></a></div><div class="mu mv gp gr mw mx"><a href="https://kentcdodds.com/blog/how-to-use-react-context-effectively" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd io gy z fp nc fr fs nd fu fw im bi translated">如何有效使用React上下文</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">当前可用的翻译:在React的应用程序状态管理中，我讨论了如何使用本地状态的混合…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">kentcdodds.com</p></div></div><div class="ng l"><div class="no l ni nj nk ng nl jt mx"/></div></div></a></div></div></div>    
</body>
</html>