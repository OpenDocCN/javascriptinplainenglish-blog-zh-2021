<html>
<head>
<title>Creating an eCommerce Frontend with Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Vue.js创建电子商务前端</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/creating-an-ecommerce-frontend-with-vue-js-71d7fc1ee756?source=collection_archive---------7-----------------------#2021-01-24">https://javascript.plainenglish.io/creating-an-ecommerce-frontend-with-vue-js-71d7fc1ee756?source=collection_archive---------7-----------------------#2021-01-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7172" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第3部分:为电子商务应用程序创建愿望列表特性</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b785ab18e690baf28e2e46ce4f0e44b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MJwxBg8LpHV8VRzi-Skrwg.png"/></div></div></figure><p id="884e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<a class="ae ln" href="https://nilmadhab.medium.com/1402c0b6f1e8" rel="noopener">之前的教程</a>中，我们将Wishlist API添加到了我们的Spring Boot后端。现在，让我们学习如何在我们的前端使用这个API。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="3057" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">现场演示</h1><p id="e0c7" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">可以看到Wishlist API(集成了Vue。Js) <strong class="kt ir">直播</strong>在下面提到的链接。点击主菜单中的愿望列表选项后，您将能够体验此功能。</p><div class="ms mt gp gr mu mv"><a href="http://remotedevs.org:8000/Signin" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd ir gy z fp na fr fs nb fu fw ip bi translated">Webtutsplus电子商务应用程序</h2><div class="nc l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">作者:remotedevs.org</p></div></div></div></a></div><h1 id="7cf9" class="lv lw iq bd lx ly nd ma mb mc ne me mf jw nf jx mh jz ng ka mj kc nh kd ml mm bi translated">先决条件</h1><ol class=""><li id="5dd5" class="ni nj iq kt b ku mn kx mo la nk le nl li nm lm nn no np nq bi translated">关于Vue的知识。Js &amp; Vue。Js CLI</li><li id="d411" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm nn no np nq bi translated">Java Script语言</li><li id="9f5d" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm nn no np nq bi translated">代码编辑器(类似于Microsoft可视代码)</li><li id="7654" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm nn no np nq bi translated">一个好的浏览器(比如谷歌浏览器)</li></ol><p id="2292" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">本教程是我们与Vue.js/Javascript<strong class="kt ir">的<a class="ae ln" href="https://nilmadhab.medium.com/" rel="noopener"> <strong class="kt ir">前端系列的一部分。</strong>我们将<strong class="kt ir">扩展我们在本系列之前的教程</strong>中开发的代码。因此，如果您对我们之前开发的任何东西有任何疑问，您可以在本系列的相应教程中阅读。</a></strong></p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="f67e" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">项目结构</h1><p id="d774" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">如果您还没有阅读我们的<strong class="kt ir">Vue前端中的先前教程。Js </strong>系列，不用担心。这部分是专门为你准备的。由于我们将使用我们在之前的教程中创建的项目结构，因此我们打算在开始使用意愿列表功能之前在这里描述该结构。这将有助于你更好地理解代码。</p><p id="5772" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以下是项目结构:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/dc3b848fd42ce281c38cd7f6ec4cfefb.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*0n2JGvgpbEflgd0KRifZpw.png"/></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk">Project Structure</figcaption></figure><p id="d5d9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们现在将描述以下目录:-</p><ul class=""><li id="b28b" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm oe no np nq bi translated"><strong class="kt ir"> public </strong> —包含我们项目的主HTML文件</li><li id="73eb" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated"><strong class="kt ir"> src/assets </strong> —存储图像、徽标等媒体文件。</li><li id="b569" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated"><strong class="kt ir"> src/components </strong> —存储我们项目的所有可重用组件。这些组件并不是某些特定路线所独有的。</li><li id="f55c" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated"><strong class="kt ir"> src/router </strong> —包含index.js文件，该文件记录了所有的路由</li><li id="68fc" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated"><strong class="kt ir"> src/views </strong> —存储所有路由器组件。这些是按照当前路线渲染的组件。</li></ul><p id="51bb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">除此之外，我们还有一些重要的文件</p><ul class=""><li id="13aa" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm oe no np nq bi translated">App.vue是我们项目的根组件</li><li id="f0c6" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated">这是我们项目的起点。这里我们导入我们的根组件<strong class="kt ir"> App.vue </strong>，我们的路由器文件<strong class="kt ir"> index.js，</strong>和<strong class="kt ir"> createApp </strong>方法。之后，我们使用下面的语句将根组件挂载到DOM:</li></ul></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="0d4c" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">API设计</h1><p id="79f2" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">在<a class="ae ln" href="https://nilmadhab.medium.com/1402c0b6f1e8" rel="noopener">之前的教程</a>中，我们为我们的后端设计了愿望列表API。您可以使用下面的Swagger链接来尝试这个API。</p><div class="ms mt gp gr mu mv"><a href="http://remotedevs.org:8080/api/swagger-ui.html#/wish-list-controller" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd ir gy z fp na fr fs nb fu fw ip bi translated">Swagger UI</h2><div class="of l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">意愿列表API</h3></div><div class="nc l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">remotedevs.org</p></div></div></div></a></div><p id="582e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你没有读过前面的教程，不要担心。我们现在将描述这个API，这样当我们在前端使用这个API时，您会感觉很舒服。</p><p id="2513" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以下是API端点</p><ol class=""><li id="1ea0" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm nn no np nq bi translated">获取愿望清单</li><li id="f75f" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm nn no np nq bi translated">将产品添加到愿望清单</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/050d7431f0339599c980e35f544b8284.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/0*aKqpRe7sQ1zxsR8o.png"/></div></figure><p id="7170" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">注意:</strong>要使用API，我们必须传递一个<strong class="kt ir">令牌，而不是用户Id </strong>。这是因为我们在电子商务应用程序中集成了基于令牌的身份验证。用户一登录，令牌就会自动创建并发送到前端。</p><p id="dbe1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外，在POST方法的主体中，我们必须发送产品的id，以便给定的产品可以添加到相应用户的愿望列表中。因此，POST请求的主体应该如下所示</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/2968045cc6449e6da41ad0fe5f8a1a1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*WqfB4nTRbgp9GXse.png"/></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk">Body of POST Request</figcaption></figure><p id="75d0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，POST请求的响应应该发送wishlist中所有产品的<strong class="kt ir">列表以及必要的详细信息。因此，响应应该如下所示</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/474ac3817a4b64a16f4e2721d3825d0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/0*SLvVX7C40auXX59G.png"/></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk">Response of the POST request</figcaption></figure></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="6f1e" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">前端设计</h1><p id="bdeb" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">在我们开始写代码之前，对我们要做的事情有一个清晰的认识是非常重要的。所以，我们来讨论一下这个。</p><p id="a7d0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们首先讨论<strong class="kt ir">访问愿望列表。</strong></p><ul class=""><li id="71b4" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm oe no np nq bi translated">我们将在主页上添加一个愿望列表按钮，这样每个人都可以方便地访问愿望列表</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/fd0e3cdd30a782a477df668a6ab9e388.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mWNl-OkfJvzPcLH-WzlBPg.png"/></div></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk">Home Page</figcaption></figure><ul class=""><li id="8b5f" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm oe no np nq bi translated">如果用户尚未登录，那么点击<strong class="kt ir">愿望列表按钮</strong>会将他们带到<strong class="kt ir">登录</strong>页面。</li><li id="417d" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated">如果用户已经登录，那么点击意愿列表按钮会将用户重定向到用户可以看到意愿列表的页面。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/e314b099b099dea27d1794fe7d70d464.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XF1BV1JpEXmFNQrDt3qDhA.png"/></div></div><figcaption class="nx ny gj gh gi nz oa bd b be z dk">Wish List page</figcaption></figure><p id="3492" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，让我们讨论将产品添加到愿望清单中</p><ul class=""><li id="b6e0" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm oe no np nq bi translated">当用户打开<strong class="kt ir">产品页面时，</strong>用户可以看到所有的产品。现在，如果用户点击产品，就会出现一个产品描述页面。在本页中，我们将在<code class="fe ol om on oo b">Add to Cart</code>按钮下方添加<strong class="kt ir">添加至愿望列表</strong>按钮。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/e07341555441c05f8c94454d7e71c2d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RMDP4JNKSgquYR0a5r29kg.png"/></div></div></figure><ul class=""><li id="2c6f" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm oe no np nq bi translated">当用户点击<strong class="kt ir">添加到意愿列表</strong>按钮时，该按钮应使<strong class="kt ir">变成绿色</strong>并显示<strong class="kt ir">已添加到意愿列表</strong></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/306b9220d4565ba8eb827c2ec16e2702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4QgW8KQsYcotrf1-MKb5cg.png"/></div></div></figure><p id="b459" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">注意:- <br/> </strong>为了简单起见，我们不打算处理以下问题:-</p><ol class=""><li id="5bae" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm nn no np nq bi translated">在用户点击上面显示的产品详情页面上的<strong class="kt ir">添加到意愿列表按钮</strong>后，该特定产品被添加到意愿列表中，按钮变为绿色。这没问题。</li><li id="26f9" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm nn no np nq bi translated">但现在如果用户重新加载页面，<strong class="kt ir">绿色按钮会变回原来的按钮。这是因为我们无法知道该产品是否已经出现在愿望清单中。</strong></li></ol><p id="d649" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你不明白上述问题，不要担心。等你开始用前端的时候就明白了。</p><h1 id="aa4c" class="lv lw iq bd lx ly nd ma mb mc ne me mf jw nf jx mh jz ng ka mj kc nh kd ml mm bi translated">让我们编码</h1><p id="673a" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">我们现在将开始编写代码。</p><h1 id="2b28" class="lv lw iq bd lx ly nd ma mb mc ne me mf jw nf jx mh jz ng ka mj kc nh kd ml mm bi translated">创建愿望列表页面</h1><p id="94f1" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">让我们从创建愿望列表页面开始，用户可以在其中看到添加到他的愿望列表中的所有产品。很简单。</p><ul class=""><li id="81a4" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm oe no np nq bi translated">在<code class="fe ol om on oo b">views/Product</code>目录下创建一个名为<code class="fe ol om on oo b">Wishlist.vue</code>的新文件。</li><li id="a58f" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated">我们已经在<code class="fe ol om on oo b">views/Product</code>目录中有了<code class="fe ol om on oo b">Products.vue</code>，展示了所有的产品。因为，在本系列的上一个教程中，我们已经学习了如何开发这个页面，所以我们将使用这个页面的代码，并对其进行一些更改。所以复制&amp;粘贴完整代码<code class="fe ol om on oo b">Products.vue</code>并粘贴到<code class="fe ol om on oo b">Wishist.vue</code></li><li id="6ac4" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated">将<code class="fe ol om on oo b">products</code>从<code class="fe ol om on oo b">props</code>数组中移除，因为我们将使用Wishlist API获取产品。在数据方法中定义变量<code class="fe ol om on oo b">products : null</code>。在我们从API中获取产品后，我们将把它存储在这个变量中</li><li id="5472" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated">要使用API，我们首先需要在登录期间将令牌发放给用户并存储在本地存储中(我们在本系列的早期教程中实现了该功能)。我们可以使用<code class="fe ol om on oo b">mounted()</code>方法从本地存储器中获取令牌。另外，在数据方法中创建一个变量<code class="fe ol om on oo b">token:null</code>。我们将把令牌存储在这个变量中</li><li id="0bb8" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated"><code class="fe ol om on oo b">Wishlist.vue</code>至本阶段代码如下。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><ul class=""><li id="461c" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm oe no np nq bi translated">最后一步—现在是从API获取产品的时候了。我们将使用<code class="fe ol om on oo b">axios</code>库向API发送请求。我们将创建一个名为fetchWishlist()的方法，并在挂载的()方法中调用它，这样一旦页面被加载，产品就会被自动获取。</li><li id="c259" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated">以下是Wishlist.vue的完整代码</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><h1 id="6bee" class="lv lw iq bd lx ly nd ma mb mc ne me mf jw nf jx mh jz ng ka mj kc nh kd ml mm bi translated"><strong class="ak">在首页</strong>增加 <code class="fe ol om on oo b"><strong class="ak">WishList</strong></code> <strong class="ak">按钮</strong></h1><p id="34c0" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">现在让我们将愿望列表按钮添加到导航栏的菜单中。</p><p id="5ae5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在此之前，我们先创建一条通往愿望列表页面的路线。从<code class="fe ol om on oo b">router/</code>目录打开<code class="fe ol om on oo b">index.js</code>文件。将<code class="fe ol om on oo b">Wishlist.vue</code>导入为<code class="fe ol om on oo b">Wishlist</code>，然后创建一条到达终点愿望列表的路线。以下是添加Wishlist路由后index.js的代码</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="b4f9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，让我们将愿望列表按钮添加到导航栏菜单中。为此，我们将使用Vue.Js的<code class="fe ol om on oo b">&lt;router-link&gt;</code>元素。我们将对<code class="fe ol om on oo b">components</code>目录中的文件<code class="fe ol om on oo b">Navbar.vue</code>进行修改。</p><p id="1407" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如我们之前所讨论的，如果用户没有登录，点击菜单中的愿望列表选项时，他应该被重定向到登录页面。</p><p id="98c0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以下是添加愿望列表按钮后<code class="fe ol om on oo b">Navbar.vue</code>的代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="e580" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您现在应该会看到下面的导航栏。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/f2bcde7a20af9ffd5c1431c53c813433.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*0UH4wUaTx8tat2sIt2lgHw.png"/></div></div></figure><h1 id="fdf3" class="lv lw iq bd lx ly nd ma mb mc ne me mf jw nf jx mh jz ng ka mj kc nh kd ml mm bi translated"><strong class="ak">添加至心愿单</strong>按钮</h1><p id="cfa2" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">现在，让我们为每个产品添加<code class="fe ol om on oo b">Add to Wishlist</code>按钮。此外，如果产品已成功添加至愿望清单，此按钮将变为绿色并显示<code class="fe ol om on oo b">Added to Wishlist</code>。</p><p id="e0c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将修改<code class="fe ol om on oo b">views/product</code>目录中的<code class="fe ol om on oo b">ShowDetails.vue</code>文件。</p><ul class=""><li id="33cd" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm oe no np nq bi translated">我们将用属性<code class="fe ol om on oo b">background-color:green</code>创建一个CSS类。我们还将定义一个布尔变量<code class="fe ol om on oo b">isAddedToWishlist</code>并使用这个变量改变颜色。</li><li id="76e3" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated">我们将在数据属性中定义一个新变量<code class="fe ol om on oo b">wishlistString:”Add to wishlist”</code></li><li id="c3cf" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated">我们将在methods属性中定义一个新方法<code class="fe ol om on oo b">addToWishList(product.id)</code>,向API发送POST请求，将产品添加到用户的愿望列表中。当用户单击按钮时，将调用此方法。</li><li id="8ff7" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated">我们将用以下属性在模板中定义一个按钮<code class="fe ol om on oo b">:class=”{product_added_wishlist: isAddedToWishlist}”</code>、<code class="fe ol om on oo b">@click=”addToWishList(product.id)”</code>。我们将在按钮中显示由变量<code class="fe ol om on oo b">{{wishlistString}}</code>定义的字符串</li><li id="0271" class="ni nj iq kt b ku nr kx ns la nt le nu li nv lm oe no np nq bi translated">以下是<code class="fe ol om on oo b">ShowDetails.vue</code>的完整代码</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="1e7e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以下内容将出现在产品详情页面上。您将在“添加到购物车”按钮下方看到“添加到愿望清单”按钮。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/10e76ebb8288d12da2be5a440f79647f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_BY_aFiejrczqpWai7QlTw.png"/></div></div></figure><h1 id="2f15" class="lv lw iq bd lx ly nd ma mb mc ne me mf jw nf jx mh jz ng ka mj kc nh kd ml mm bi translated"><strong class="ak">恭喜</strong></h1><p id="36d6" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">现在，您已经成功地在Vue中添加了愿望列表功能。Js前端</p><h1 id="9f15" class="lv lw iq bd lx ly nd ma mb mc ne me mf jw nf jx mh jz ng ka mj kc nh kd ml mm bi translated">通过贡献学习</h1><p id="d54a" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">如果你想为我们的电子商务做出贡献。Js前端，你克隆<a class="ae ln" href="https://github.com/webtutsplus/ecommerce-vuejs" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">这个</strong> </a> Github库，并处理以下与wishlist相关的特性</p><ul class=""><li id="67df" class="ni nj iq kt b ku kv kx ky la ob le oc li od lm oe no np nq bi translated">目前，如果用户在将产品添加到意愿列表后重新加载页面，绿色按钮消失，灰色的<code class="fe ol om on oo b">Add to Wishlist</code>按钮再次出现。尝试解决这个问题，即使在重新加载页面后，按钮仍然保持绿色，表明该产品已经在愿望清单上。</li></ul><p id="8bb2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在您实现该功能后，请发送给我们一份PR。我们将审查并将其合并到我们的主分支中</p></div></div>    
</body>
</html>