<html>
<head>
<title>GraphQL Back-End in Node.js Made Easy with NestJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NestJS简化Node.js中的GraphQL后端</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/graphql-backend-in-nodejs-made-easy-with-nestjs-1489be18b994?source=collection_archive---------1-----------------------#2021-08-04">https://javascript.plainenglish.io/graphql-backend-in-nodejs-made-easy-with-nestjs-1489be18b994?source=collection_archive---------1-----------------------#2021-08-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="af72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本文中，我将向您展示如何使用NestJS以一种非常非常简单的方式开始一个GraphQL后端项目。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/222ea8f345281a1a726816b34fb80476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CaKo1S2p0wLLMrxJ4gEumg.jpeg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Thinking about starting your GraphQL backend?</figcaption></figure><p id="9c62" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在过去的几年里，在构建API时，GraphQL比RESTful架构更常用。我已经制作了一些关于如何使用<a class="ae lc" href="https://nestjs.com/" rel="noopener ugc nofollow" target="_blank"> NestJS </a>构建REST API的有用教程，今天我将分享使用代码优先策略使用GraphQL构建NestJS脚手架的基础知识！</p><blockquote class="ld le lf"><p id="c7c9" class="jn jo kl jp b jq jr js jt ju jv jw jx lg jz ka kb lh kd ke kf li kh ki kj kk ij bi translated">如果你觉得太懒，在文章的最后，你可以在一个公共的git库中找到所有的源代码。</p></blockquote><div class="lj lk gp gr ll lm"><a href="https://makinhs.medium.com/creating-a-rest-api-series-with-nestjs-part-01-scaffolding-and-basic-cli-usage-30ace19c5bb8" rel="noopener follow" target="_blank"><div class="ln ab fo"><div class="lo ab lp cl cj lq"><h2 class="bd ir gy z fp lr fr fs ls fu fw ip bi translated">使用NestJS创建REST API系列—第1部分—搭建和基本CLI用法</h2><div class="lt l"><h3 class="bd b gy z fp lr fr fs ls fu fw dk translated">欢迎回来！在这个迷你系列文章中，我将指导您如何使用NestJS框架构建REST API</h3></div><div class="lu l"><p class="bd b dl z fp lr fr fs ls fu fw dk translated">makinhs.medium.com</p></div></div><div class="lv l"><div class="lw l lx ly lz lv ma kw lm"/></div></div></a></div><p id="3683" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本文也旨在更加实用，我不会深究为什么使用GraphQL，也不会深究什么时候使用Rest而不是GraphQL和其他任何东西。本文是开始编写业务逻辑的实践方法。我们可以开始了吗？</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><p id="aeeb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">启动前你唯一需要知道和具备的就是<a class="ae lc" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank">节点</a>安装和NestJS CLI安装(<code class="fe mi mj mk ml b">npm i -g @nestjs/cli)</code>)。我们将以一种容易理解的方式遵循NestJS文档。</p><p id="820c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">快速检查:</p><ul class=""><li id="addd" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">写这篇文章时我使用的是node v14.16.1(我知道…我需要更新它)</li><li id="b463" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">嵌套CLI版本为:8.1.1</li><li id="f57c" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">npm版本:7.12.1</li><li id="e6d2" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">yarn版本:1.22.10(我还是喜欢yarn over npm)</li></ul></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><p id="6e1d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要启动您的项目，请在您想要启动的文件夹中打开您的终端(我称之为项目),并运行以下程序</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="c862" class="ne nf iq ml b gy ng nh l ni nj">nest new nestjs-with-graphql</span></pre><blockquote class="ld le lf"><p id="7e66" class="jn jo kl jp b jq jr js jt ju jv jw jx lg jz ka kb lh kd ke kf li kh ki kj kk ij bi translated"><strong class="jp ir"> nestjs-with-graphql </strong>是你的项目名称，你可以使用任何你想要的名称。</p></blockquote><p id="14bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您可以在npm、yarn或pnpm之间进行选择。我在选择纱线:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="b660" class="ne nf iq ml b gy ng nh l ni nj">⚡  We will scaffold your app in a few seconds..</span><span id="7d70" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/.eslintrc.js (631 bytes)</span><span id="27cc" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/.prettierrc (51 bytes)</span><span id="f9fc" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/README.md (3339 bytes)</span><span id="d0e5" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/nest-cli.json (64 bytes)</span><span id="8bde" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/package.json (1975 bytes)</span><span id="ed79" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/tsconfig.build.json (97 bytes)</span><span id="a60b" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/tsconfig.json (365 bytes)</span><span id="fd24" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/src/app.controller.spec.ts (617 bytes)</span><span id="5df0" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/src/app.controller.ts (274 bytes)</span><span id="dce6" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/src/app.module.ts (249 bytes)</span><span id="134b" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/src/app.service.ts (142 bytes)</span><span id="1a6b" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/src/main.ts (208 bytes)</span><span id="8f3a" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/test/app.e2e-spec.ts (630 bytes)</span><span id="95c6" class="ne nf iq ml b gy nk nh l ni nj">CREATE nestjs-with-graphql/test/jest-e2e.json (183 bytes)</span><span id="fdef" class="ne nf iq ml b gy nk nh l ni nj">? <strong class="ml ir">Which package manager would you ❤️  to use?</strong></span><span id="f04f" class="ne nf iq ml b gy nk nh l ni nj">npm</span><span id="b2a9" class="ne nf iq ml b gy nk nh l ni nj">❯ yarn</span><span id="fca0" class="ne nf iq ml b gy nk nh l ni nj">pnpm</span></pre><p id="1b60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">坐下，喝一口咖啡，等待…然后…</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="7570" class="ne nf iq ml b gy ng nh l ni nj">✔ Installation in progress... ☕</span><span id="9278" class="ne nf iq ml b gy nk nh l ni nj">🚀  Successfully created project nestjs-with-graphql</span><span id="dcf5" class="ne nf iq ml b gy nk nh l ni nj">👉  Get started with the following commands:</span><span id="c6cb" class="ne nf iq ml b gy nk nh l ni nj">$ cd nestjs-with-graphql</span><span id="efcc" class="ne nf iq ml b gy nk nh l ni nj">$ yarn run start</span><span id="011f" class="ne nf iq ml b gy nk nh l ni nj">Thanks for installing Nest 🙏</span><span id="cf9a" class="ne nf iq ml b gy nk nh l ni nj">Please consider donating to our open collective</span><span id="59e2" class="ne nf iq ml b gy nk nh l ni nj">to help us maintain this package.</span><span id="30fc" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">🍷  Donate:</strong> https://opencollective.com/nest</span></pre><p id="0e71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">安装完成后，它将创建一个以我们的项目命名的文件夹，在我们的例子中是nestjs-with-graphql…</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="ffac" class="ne nf iq ml b gy ng nh l ni nj">cd nestjs-with-graphql</span></pre><p id="65dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它已经包含一个已配置的git，但是目前它仍然使用<strong class="jp ir">主</strong>分支。让我们换成<strong class="jp ir">主</strong>吧。</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="fbf2" class="ne nf iq ml b gy ng nh l ni nj">git checkout -b main</span></pre><blockquote class="ld le lf"><p id="643b" class="jn jo kl jp b jq jr js jt ju jv jw jx lg jz ka kb lh kd ke kf li kh ki kj kk ij bi translated">“保护协会和Git项目都意识到最初的分支名称‘master’对一些人来说是冒犯，我们同情那些因使用该术语而受到伤害的人，”软件自由保护协会说。<a class="ae lc" href="https://www.theserverside.com/feature/Why-GitHub-renamed-its-master-branch-to-main" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">参考</strong> </a></p></blockquote><p id="bf75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">酷毙了。运行“ls”命令，我们可以看到我们已经拥有的所有文件:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="3048" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> ls</span><span id="cc07" class="ne nf iq ml b gy nk nh l ni nj">README.md           package.json        tsconfig.build.json</span><span id="ea90" class="ne nf iq ml b gy nk nh l ni nj">nest-cli.json       <strong class="ml ir">src</strong>                 tsconfig.json</span><span id="dab1" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">node_modules</strong>        <strong class="ml ir">test</strong>                yarn.lock</span></pre><p id="df80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是已经包含API集的快速搭建，但是没有GraphQL。要进行测试，只需运行:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="6b18" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> yarn start</span><span id="1514" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">yarn run v1.22.10</strong></span><span id="e0fc" class="ne nf iq ml b gy nk nh l ni nj">warning ../../package.json: No license field</span><span id="b170" class="ne nf iq ml b gy nk nh l ni nj">$ nest start</span><span id="e2f2" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 65519  - 08/04/2021, 9:24:10 PM     LOG [NestFactory] Starting Nest application...</span><span id="5fcd" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 65519  - 08/04/2021, 9:24:10 PM     LOG [InstanceLoader] AppModule dependencies initialized +25ms</span><span id="aa72" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 65519  - 08/04/2021, 9:24:10 PM     LOG [RoutesResolver] AppController {/}: +5ms</span><span id="b22e" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 65519  - 08/04/2021, 9:24:10 PM     LOG [RouterExplorer] Mapped {/, GET} route +2ms</span><span id="64f1" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 65519  - 08/04/2021, 9:24:10 PM     LOG [NestApplication] Nest application successfully started +2ms</span></pre><p id="136a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">默认情况下，它使用端口3000，默认情况下，它在“/”端点上有自己的“Hello World ”:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="8be2" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">➜  nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> curl localhost:3000</span><span id="c783" class="ne nf iq ml b gy nk nh l ni nj">Hello World!<strong class="ml ir">%</strong></span></pre><p id="faad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很好。让我们转向GraphQL！</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><p id="8c90" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对我来说，NestJS的文档非常好。不幸的是，如果你不习惯所有常用的技术术语，你可能会迷路，因为你不知道去哪里找。但是不要担心，今天我正在缩短关心的地方…</p><p id="68c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一切从快速开始，NestJS团队有他们自己的GraphQL 的<a class="ae lc" href="https://docs.nestjs.com/graphql/quick-start" rel="noopener ugc nofollow" target="_blank"> starter页面，让我们使用它。</a></p><p id="1a42" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">与npm相比，我仍然更喜欢yarn，因此我会将他们的npm建议用于以下内容:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="fe44" class="ne nf iq ml b gy ng nh l ni nj">yarn add @nestjs/graphql graphql apollo-server-express@2.x.x</span><span id="4aaa" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> yarn add @nestjs/graphql graphql apollo-server-express@2.x.x</span><span id="5bee" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">yarn add v1.22.10</strong></span><span id="d795" class="ne nf iq ml b gy nk nh l ni nj">warning ../../package.json: No license field</span><span id="b784" class="ne nf iq ml b gy nk nh l ni nj">[1/4] 🔍  Resolving packages...</span><span id="fead" class="ne nf iq ml b gy nk nh l ni nj">warning apollo-server-express &gt; apollo-server-core &gt; apollo-cache-control@0.14.0: The functionality provided by the `apollo-cache-control` package is built in to `apollo-server-core` starting with Apollo Server 3. See https://www.apollographql.com/docs/apollo-server/migration/#cachecontrol for details.</span><span id="e661" class="ne nf iq ml b gy nk nh l ni nj">warning apollo-server-express &gt; apollo-server-core &gt; apollo-tracing@0.15.0: The `apollo-tracing` package is no longer part of Apollo Server 3. See https://www.apollographql.com/docs/apollo-server/migration/#tracing for details</span><span id="916d" class="ne nf iq ml b gy nk nh l ni nj">warning apollo-server-express &gt; graphql-tools@4.0.8: This package has been deprecated and now it only exports makeExecutableSchema.\nAnd it will no longer receive updates.\nWe recommend you to migrate to scoped packages such as @graphql-tools/schema, @graphql-tools/utils and etc.\nCheck out https://www.graphql-tools.com to learn what package you should use instead</span><span id="00c0" class="ne nf iq ml b gy nk nh l ni nj">warning apollo-server-express &gt; apollo-server-core &gt; graphql-tools@4.0.8: This package has been deprecated and now it only exports makeExecutableSchema.\nAnd it will no longer receive updates.\nWe recommend you to migrate to scoped packages such as @graphql-tools/schema, @graphql-tools/utils and etc.\nCheck out https://www.graphql-tools.com to learn what package you should use instead</span><span id="f731" class="ne nf iq ml b gy nk nh l ni nj">warning apollo-server-express &gt; apollo-server-core &gt; graphql-extensions@0.15.0: The `graphql-extensions` API has been removed from Apollo Server 3. Use the plugin API instead: https://www.apollographql.com/docs/apollo-server/integrations/plugins/</span><span id="6c44" class="ne nf iq ml b gy nk nh l ni nj">warning apollo-server-express &gt; graphql-tools &gt; uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.</span><span id="cb66" class="ne nf iq ml b gy nk nh l ni nj">[2/4] 🚚  Fetching packages...</span><span id="9eaf" class="ne nf iq ml b gy nk nh l ni nj">[3/4] 🔗  Linking dependencies...</span><span id="94f0" class="ne nf iq ml b gy nk nh l ni nj">warning " &gt; ts-loader@9.2.5" has unmet peer dependency "webpack@^5.0.0".</span><span id="9ab0" class="ne nf iq ml b gy nk nh l ni nj">warning "@nestjs/graphql &gt; @nestjs/mapped-types@1.0.0" has unmet peer dependency "class-transformer@^0.2.0 || ^0.3.0 || ^0.4.0".</span><span id="30f4" class="ne nf iq ml b gy nk nh l ni nj">warning "@nestjs/graphql &gt; @nestjs/mapped-types@1.0.0" has unmet peer dependency "class-validator@^0.11.1 || ^0.12.0 || ^0.13.0".</span><span id="d136" class="ne nf iq ml b gy nk nh l ni nj">warning " &gt; @nestjs/graphql@8.0.2" has unmet peer dependency "apollo-server-core@^2.21.1".</span><span id="db62" class="ne nf iq ml b gy nk nh l ni nj">[4/4] 🔨  Building fresh packages...</span><span id="e068" class="ne nf iq ml b gy nk nh l ni nj">success Saved lockfile.</span><span id="019f" class="ne nf iq ml b gy nk nh l ni nj">success Saved 85 new dependencies.</span><span id="19c8" class="ne nf iq ml b gy nk nh l ni nj">info Direct dependencies</span><span id="844a" class="ne nf iq ml b gy nk nh l ni nj">├─ @nestjs/graphql@8.0.2</span><span id="d042" class="ne nf iq ml b gy nk nh l ni nj">├─ apollo-server-express@2.25.2</span><span id="9ce8" class="ne nf iq ml b gy nk nh l ni nj">└─ graphql@15.5.1</span><span id="bd0f" class="ne nf iq ml b gy nk nh l ni nj">info All dependencies</span><span id="c944" class="ne nf iq ml b gy nk nh l ni nj">├─ @apollo/protobufjs@1.2.2</span><span id="0da5" class="ne nf iq ml b gy nk nh l ni nj">├─ @apollographql/graphql-upload-8-fork@8.1.3</span><span id="eee6" class="ne nf iq ml b gy nk nh l ni nj">├─ @ardatan/aggregate-error@0.0.6</span><span id="87f1" class="ne nf iq ml b gy nk nh l ni nj">├─ @graphql-tools/merge@6.2.14</span><span id="0f36" class="ne nf iq ml b gy nk nh l ni nj">├─ @graphql-tools/schema@7.1.5</span><span id="7b7f" class="ne nf iq ml b gy nk nh l ni nj">├─ @graphql-tools/utils@7.10.0</span><span id="d86f" class="ne nf iq ml b gy nk nh l ni nj">├─ @josephg/resolvable@1.0.1</span><span id="f7c1" class="ne nf iq ml b gy nk nh l ni nj">├─ @nestjs/graphql@8.0.2</span><span id="207f" class="ne nf iq ml b gy nk nh l ni nj">├─ @nestjs/mapped-types@1.0.0</span><span id="a120" class="ne nf iq ml b gy nk nh l ni nj">├─ @protobufjs/aspromise@1.1.2</span><span id="5f3f" class="ne nf iq ml b gy nk nh l ni nj">├─ @protobufjs/base64@1.1.2</span><span id="1c18" class="ne nf iq ml b gy nk nh l ni nj">├─ @protobufjs/codegen@2.0.4</span><span id="b7b3" class="ne nf iq ml b gy nk nh l ni nj">├─ @protobufjs/eventemitter@1.1.0</span><span id="abc0" class="ne nf iq ml b gy nk nh l ni nj">├─ @protobufjs/fetch@1.1.0</span><span id="1f57" class="ne nf iq ml b gy nk nh l ni nj">├─ @protobufjs/float@1.0.2</span><span id="a2df" class="ne nf iq ml b gy nk nh l ni nj">├─ @protobufjs/path@1.1.2</span><span id="0993" class="ne nf iq ml b gy nk nh l ni nj">├─ @protobufjs/pool@1.1.0</span><span id="7326" class="ne nf iq ml b gy nk nh l ni nj">├─ @protobufjs/utf8@1.1.0</span><span id="052a" class="ne nf iq ml b gy nk nh l ni nj">├─ @types/accepts@1.3.5</span><span id="07a9" class="ne nf iq ml b gy nk nh l ni nj">├─ @types/content-disposition@0.5.4</span><span id="d919" class="ne nf iq ml b gy nk nh l ni nj">├─ @types/cookies@0.7.7</span><span id="ef15" class="ne nf iq ml b gy nk nh l ni nj">├─ @types/cors@2.8.10</span><span id="166d" class="ne nf iq ml b gy nk nh l ni nj">├─ @types/fs-capacitor@2.0.0</span><span id="4004" class="ne nf iq ml b gy nk nh l ni nj">├─ @types/http-assert@1.5.1</span><span id="709f" class="ne nf iq ml b gy nk nh l ni nj">├─ @types/http-errors@1.8.1</span><span id="cb2f" class="ne nf iq ml b gy nk nh l ni nj">├─ @types/koa-compose@3.2.5</span><span id="446a" class="ne nf iq ml b gy nk nh l ni nj">├─ @types/long@4.0.1</span><span id="89d7" class="ne nf iq ml b gy nk nh l ni nj">├─ @types/ws@7.4.7</span><span id="0014" class="ne nf iq ml b gy nk nh l ni nj">├─ @wry/equality@0.1.11</span><span id="5229" class="ne nf iq ml b gy nk nh l ni nj">├─ apollo-cache-control@0.14.0</span><span id="0e49" class="ne nf iq ml b gy nk nh l ni nj">├─ apollo-datasource@0.9.0</span><span id="2b0c" class="ne nf iq ml b gy nk nh l ni nj">├─ apollo-graphql@0.9.3</span><span id="111d" class="ne nf iq ml b gy nk nh l ni nj">├─ apollo-link@1.2.14</span><span id="37cf" class="ne nf iq ml b gy nk nh l ni nj">├─ apollo-server-core@2.25.2</span><span id="a8f0" class="ne nf iq ml b gy nk nh l ni nj">├─ apollo-server-errors@2.5.0</span><span id="b676" class="ne nf iq ml b gy nk nh l ni nj">├─ apollo-server-express@2.25.2</span><span id="774f" class="ne nf iq ml b gy nk nh l ni nj">├─ apollo-tracing@0.15.0</span><span id="464b" class="ne nf iq ml b gy nk nh l ni nj">├─ apollo-utilities@1.3.4</span><span id="ccc4" class="ne nf iq ml b gy nk nh l ni nj">├─ async-retry@1.3.1</span><span id="bcb8" class="ne nf iq ml b gy nk nh l ni nj">├─ backo2@1.0.2</span><span id="03e7" class="ne nf iq ml b gy nk nh l ni nj">├─ camel-case@4.1.2</span><span id="748b" class="ne nf iq ml b gy nk nh l ni nj">├─ core-js-pure@3.16.0</span><span id="c00d" class="ne nf iq ml b gy nk nh l ni nj">├─ cssfilter@0.0.10</span><span id="b949" class="ne nf iq ml b gy nk nh l ni nj">├─ deprecated-decorator@0.1.6</span><span id="6ee3" class="ne nf iq ml b gy nk nh l ni nj">├─ es-abstract@1.18.5</span><span id="a509" class="ne nf iq ml b gy nk nh l ni nj">├─ es-to-primitive@1.2.1</span><span id="248a" class="ne nf iq ml b gy nk nh l ni nj">├─ eventemitter3@3.1.2</span><span id="a232" class="ne nf iq ml b gy nk nh l ni nj">├─ fast-glob@3.2.6</span><span id="0f72" class="ne nf iq ml b gy nk nh l ni nj">├─ for-each@0.3.3</span><span id="b954" class="ne nf iq ml b gy nk nh l ni nj">├─ fs-capacitor@2.0.4</span><span id="72b3" class="ne nf iq ml b gy nk nh l ni nj">├─ graphql-extensions@0.15.0</span><span id="8f24" class="ne nf iq ml b gy nk nh l ni nj">├─ graphql-subscriptions@1.2.1</span><span id="fcc9" class="ne nf iq ml b gy nk nh l ni nj">├─ graphql-tag@2.12.5</span><span id="5fee" class="ne nf iq ml b gy nk nh l ni nj">├─ graphql@15.5.1</span><span id="e0d3" class="ne nf iq ml b gy nk nh l ni nj">├─ has-bigints@1.0.1</span><span id="77b9" class="ne nf iq ml b gy nk nh l ni nj">├─ internal-slot@1.0.3</span><span id="dad0" class="ne nf iq ml b gy nk nh l ni nj">├─ is-bigint@1.0.2</span><span id="82e1" class="ne nf iq ml b gy nk nh l ni nj">├─ is-boolean-object@1.1.1</span><span id="5236" class="ne nf iq ml b gy nk nh l ni nj">├─ is-callable@1.2.3</span><span id="f3d1" class="ne nf iq ml b gy nk nh l ni nj">├─ is-date-object@1.0.4</span><span id="ad4c" class="ne nf iq ml b gy nk nh l ni nj">├─ is-negative-zero@2.0.1</span><span id="4588" class="ne nf iq ml b gy nk nh l ni nj">├─ is-number-object@1.0.5</span><span id="6533" class="ne nf iq ml b gy nk nh l ni nj">├─ is-regex@1.1.3</span><span id="0042" class="ne nf iq ml b gy nk nh l ni nj">├─ is-string@1.0.6</span><span id="4b10" class="ne nf iq ml b gy nk nh l ni nj">├─ is-symbol@1.0.4</span><span id="f32c" class="ne nf iq ml b gy nk nh l ni nj">├─ iterall@1.3.0</span><span id="f264" class="ne nf iq ml b gy nk nh l ni nj">├─ lodash.sortby@4.7.0</span><span id="cb12" class="ne nf iq ml b gy nk nh l ni nj">├─ loglevel@1.7.1</span><span id="81ab" class="ne nf iq ml b gy nk nh l ni nj">├─ long@4.0.0</span><span id="17d7" class="ne nf iq ml b gy nk nh l ni nj">├─ lower-case@2.0.2</span><span id="b9ff" class="ne nf iq ml b gy nk nh l ni nj">├─ no-case@3.0.4</span><span id="97cd" class="ne nf iq ml b gy nk nh l ni nj">├─ object-path@0.11.5</span><span id="ec54" class="ne nf iq ml b gy nk nh l ni nj">├─ object.assign@4.1.2</span><span id="6b3a" class="ne nf iq ml b gy nk nh l ni nj">├─ object.getownpropertydescriptors@2.1.2</span><span id="f3ce" class="ne nf iq ml b gy nk nh l ni nj">├─ pascal-case@3.1.2</span><span id="b3ef" class="ne nf iq ml b gy nk nh l ni nj">├─ retry@0.12.0</span><span id="7959" class="ne nf iq ml b gy nk nh l ni nj">├─ string.prototype.trimend@1.0.4</span><span id="63ae" class="ne nf iq ml b gy nk nh l ni nj">├─ string.prototype.trimstart@1.0.4</span><span id="5225" class="ne nf iq ml b gy nk nh l ni nj">├─ unbox-primitive@1.0.1</span><span id="9656" class="ne nf iq ml b gy nk nh l ni nj">├─ util.promisify@1.1.1</span><span id="dfb4" class="ne nf iq ml b gy nk nh l ni nj">├─ value-or-promise@1.0.6</span><span id="df6e" class="ne nf iq ml b gy nk nh l ni nj">├─ which-boxed-primitive@1.0.2</span><span id="8d6d" class="ne nf iq ml b gy nk nh l ni nj">├─ xss@1.0.9</span><span id="b6a0" class="ne nf iq ml b gy nk nh l ni nj">├─ zen-observable-ts@0.8.21</span><span id="1823" class="ne nf iq ml b gy nk nh l ni nj">└─ zen-observable@0.8.15</span><span id="c4e2" class="ne nf iq ml b gy nk nh l ni nj">✨  Done in 8.26s.</span></pre><p id="6825" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还是那句话，现实一点。我们现在应该添加GraphQL模块。</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="db9c" class="ne nf iq ml b gy ng nh l ni nj">GraphQLModule.forRoot({}),</span></pre><p id="3fa5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是在哪里？我们的主模块，在我们生成的src文件夹中称为<em class="kl"> app.module.ts </em>。在这里，我们应该导入GraphQL模块:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="caf6" class="ne nf iq ml b gy ng nh l ni nj">import { Module } from '@nestjs/common';<br/>import { AppController } from './app.controller';<br/>import { AppService } from './app.service';<br/>import { GraphQLModule } from '@nestjs/graphql';<br/><br/>@Module({<br/>  imports: [<br/>    GraphQLModule.<em class="kl">forRoot</em>({<br/>      debug: true,<br/>      playground: true,<br/>    }),<br/>  ],<br/>  controllers: [AppController],<br/>  providers: [AppService],<br/>})<br/>export class AppModule {}</span></pre><p id="dfbb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意，如果您使用任何IDE，如<a class="ae lc" href="https://www.jetbrains.com/webstorm/" rel="noopener ugc nofollow" target="_blank"> WebStorm </a>(我的最爱)，它将允许您自动导入GraphQLModule。</p><p id="61e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不幸的是，如果您现在运行您的服务器，您将面临一个错误，由于“没有模式发现”的问题。为了解决这个问题，并且已经开始创建一个基本的解析器，我们将使用Nest CLI创建传统的“用户”资源，使用“<em class="kl">Nest generate resource users</em>”并选择代码优先的方法。</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="3d67" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> nest generate resource users</span><span id="bd06" class="ne nf iq ml b gy nk nh l ni nj">? <strong class="ml ir">What transport layer do you use?</strong></span><span id="10e6" class="ne nf iq ml b gy nk nh l ni nj">REST API</span><span id="eec0" class="ne nf iq ml b gy nk nh l ni nj">❯ GraphQL (code first)</span><span id="3132" class="ne nf iq ml b gy nk nh l ni nj">GraphQL (schema first)</span><span id="04ab" class="ne nf iq ml b gy nk nh l ni nj">Microservice (non-HTTP)</span><span id="3c5a" class="ne nf iq ml b gy nk nh l ni nj">WebSockets</span></pre><p id="81e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它还会问你是否想要CRUD入口点，请选择yes。</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="98f0" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">➜  nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> nest generate resource users</span><span id="9abc" class="ne nf iq ml b gy nk nh l ni nj">? <strong class="ml ir">What transport layer do you use?</strong> GraphQL (code first)</span><span id="aed2" class="ne nf iq ml b gy nk nh l ni nj">? <strong class="ml ir">Would you like to generate CRUD entry points?</strong> Yes</span><span id="5ab8" class="ne nf iq ml b gy nk nh l ni nj">CREATE src/users/users.module.ts (224 bytes)</span><span id="68c7" class="ne nf iq ml b gy nk nh l ni nj">CREATE src/users/users.resolver.spec.ts (525 bytes)</span><span id="bd35" class="ne nf iq ml b gy nk nh l ni nj">CREATE src/users/users.resolver.ts (1109 bytes)</span><span id="f371" class="ne nf iq ml b gy nk nh l ni nj">CREATE src/users/users.service.spec.ts (453 bytes)</span><span id="085a" class="ne nf iq ml b gy nk nh l ni nj">CREATE src/users/users.service.ts (625 bytes)</span><span id="bf5e" class="ne nf iq ml b gy nk nh l ni nj">CREATE src/users/dto/create-user.input.ts (196 bytes)</span><span id="c30f" class="ne nf iq ml b gy nk nh l ni nj">CREATE src/users/dto/update-user.input.ts (243 bytes)</span><span id="7d53" class="ne nf iq ml b gy nk nh l ni nj">CREATE src/users/entities/user.entity.ts (187 bytes)</span></pre><p id="228a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它将创建一个名为users的文件夹，其中包含所有基本框架，包括:</p><ul class=""><li id="395e" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">解析器:您可以对查询(检索数据)和变异(操作数据)进行编码</li><li id="39b9" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">服务:您应该在哪里编写您的业务逻辑</li><li id="e215" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">模块:控制进口、出口和供应商</li><li id="f61c" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">dto:为您的解析器操作数据录入</li><li id="04d8" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">实体:设置您想用作资源的“用户”</li><li id="dbdc" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">规格文件:您可以在其中添加您的单元测试</li></ul><p id="f98c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它还将在您的app.module.ts中添加一个UsersModule，这将允许应用程序了解该用户的资源存在。</p><p id="9c28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们需要在app.module.ts中添加要为GraphQL生成模式的位置</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="0330" class="ne nf iq ml b gy ng nh l ni nj">import { Module } from '@nestjs/common';<br/>import { AppController } from './app.controller';<br/>import { AppService } from './app.service';<br/>import { GraphQLModule } from '@nestjs/graphql';<br/>import { UsersModule } from './users/users.module';<br/><br/>@Module({<br/>  imports: [<br/>    GraphQLModule.<em class="kl">forRoot</em>({<br/>      autoSchemaFile: './schema.gql',<br/>      debug: true,<br/>      playground: true,<br/>    }),<br/>    UsersModule,<br/>  ],<br/>  controllers: [AppController],<br/>  providers: [AppService],<br/>})<br/>export class AppModule {}</span></pre><p id="0676" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在运行我们的应用程序应该可以正常工作:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="3637" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> yarn start</span><span id="b8e3" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">yarn run v1.22.10</strong></span><span id="8d26" class="ne nf iq ml b gy nk nh l ni nj">warning ../../package.json: No license field</span><span id="9111" class="ne nf iq ml b gy nk nh l ni nj">$ nest start</span><span id="1634" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66485  - 08/04/2021, 9:43:22 PM     LOG [NestFactory] Starting Nest application...</span><span id="91f4" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66485  - 08/04/2021, 9:43:22 PM     LOG [InstanceLoader] UsersModule dependencies initialized +28ms</span><span id="b7d4" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66485  - 08/04/2021, 9:43:22 PM     LOG [InstanceLoader] AppModule dependencies initialized +0ms</span><span id="5d72" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66485  - 08/04/2021, 9:43:22 PM     LOG [InstanceLoader] GraphQLSchemaBuilderModule dependencies initialized +1ms</span><span id="f7a6" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66485  - 08/04/2021, 9:43:22 PM     LOG [InstanceLoader] GraphQLModule dependencies initialized +0ms</span><span id="5deb" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66485  - 08/04/2021, 9:43:22 PM     LOG [RoutesResolver] AppController {/}: +3ms</span><span id="1f9a" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66485  - 08/04/2021, 9:43:22 PM     LOG [RouterExplorer] Mapped {/, GET} route +2ms</span><span id="4b1d" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66485  - 08/04/2021, 9:43:22 PM     LOG [NestApplication] Nest application successfully started +65ms</span></pre><p id="37d0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这应该足够在<a class="ae lc" href="http://localhost:3000/graphql" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/graph QL</a>上开一个<strong class="jp ir">游乐场</strong>。但是请记住，NestJS CLI对于搭建您的项目来说是很棒的，但是对于GraphQL来说，这个搭建仍然缺少一些内容。如果我们想要获得用户列表，我们将在他们的解析器上找到以下内容:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="29b6" class="ne nf iq ml b gy ng nh l ni nj">@Query(() =&gt; [User], { name: 'users' })<br/>findAll() {<br/>  return this.usersService.findAll();<br/>}</span></pre><p id="8035" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意，<strong class="jp ir">【User】</strong>表示我们将从这个名为<strong class="jp ir"> findAll的函数中检索用户列表。</strong>在users.service.ts中，我们将有以下内容，它不会返回没有用户实体的数组:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="1cd5" class="ne nf iq ml b gy ng nh l ni nj">findAll() {<br/>  return `This action returns all users`;<br/>}</span></pre><p id="2aeb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有两个步骤来“修复”这个脚手架，即在返回时添加数组，并在其上返回用户对象。但是什么是<strong class="jp ir">用户</strong>？user.entity.ts默认设置为:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="6d16" class="ne nf iq ml b gy ng nh l ni nj">import { ObjectType, Field, <strong class="ml ir"><em class="kl">Int </em></strong>} from '@nestjs/graphql';<br/><br/>@ObjectType()<br/>export class User {<br/>  @Field(() =&gt; <strong class="ml ir"><em class="kl">Int</em></strong>, { description: 'Example field (placeholder)' })<br/>  exampleField: number;<br/>}</span></pre><p id="4c06" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它是一个基本的框架，告诉GraphQL对象类型叫做<strong class="jp ir">用户</strong>，并且只有一个叫做“范例字段”的<strong class="jp ir">字段</strong>，其中包含一个数字。你将根据你的项目改变这一点，但为了使这篇文章足够干净，我们不会改变它。</p><p id="a0c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<strong class="jp ir">返回</strong>到users.service.ts之前，请注意，当您运行项目时，您将拥有一个schema.gql，其内容如下:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="45f0" class="ne nf iq ml b gy ng nh l ni nj"># ------------------------------------------------------<br/># THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)<br/># ------------------------------------------------------<br/><br/>type User {<br/>  """Example field (placeholder)"""<br/>  exampleField: Int!<br/>}<br/><br/>type Query {<br/>  users: [User!]!<br/>  user(id: Int!): User!<br/>}<br/><br/>type Mutation {<br/>  createUser(createUserInput: CreateUserInput!): User!<br/>  updateUser(updateUserInput: UpdateUserInput!): User!<br/>  removeUser(id: Int!): User!<br/>}<br/><br/>input CreateUserInput {<br/>  """Example field (placeholder)"""<br/>  exampleField: Int!<br/>}<br/><br/>input UpdateUserInput {<br/>  """Example field (placeholder)"""<br/>  exampleField: Int<br/>  id: Int!<br/>}</span></pre><blockquote class="ld le lf"><p id="b278" class="jn jo kl jp b jq jr js jt ju jv jw jx lg jz ka kb lh kd ke kf li kh ki kj kk ij bi translated">老实说，理解graphql模式很棒也很容易，但我真的很欣赏NestJS注释和遵循代码优先方法的能力，以避免在不同的文件中重写相同的逻辑。</p></blockquote><p id="9740" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">回到<strong class="jp ir"> users.service.ts </strong>:由于我们使用了Typescript，我们可以增强我们希望从服务函数中获得的回报，并且已经适应了解析器的要求:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="7b02" class="ne nf iq ml b gy ng nh l ni nj">import { Injectable } from '@nestjs/common';<br/>import { CreateUserInput } from './dto/create-user.input';<br/>import { UpdateUserInput } from './dto/update-user.input';<br/>import { User } from './entities/user.entity';<br/><br/>@Injectable()<br/>export class UsersService {<br/>  create(createUserInput: CreateUserInput): User {<br/>    return { exampleField: createUserInput.exampleField };<br/>  }<br/><br/>  findAll(): [User] {<br/>    return [{ exampleField: 1 }];<br/>  }<br/><br/>  findOne(id: number): User {<br/>    return { exampleField: id };<br/>  }<br/><br/>  update(id: number, updateUserInput: UpdateUserInput): User {<br/>    return { exampleField: updateUserInput.id };<br/>  }<br/><br/>  remove(id: number): User {<br/>    return { exampleField: id };<br/>  }<br/>}</span></pre><p id="21ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很好，让我们运行我们的项目，在http:localhost:3000/graphql上再次打开游乐场</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="5f02" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> yarn start</span><span id="50a1" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">yarn run v1.22.10</strong></span><span id="dec6" class="ne nf iq ml b gy nk nh l ni nj">warning ../../package.json: No license field</span><span id="4b02" class="ne nf iq ml b gy nk nh l ni nj">$ nest start</span><span id="efee" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66703  - 08/04/2021, 9:55:32 PM     LOG [NestFactory] Starting Nest application...</span><span id="153f" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66703  - 08/04/2021, 9:55:32 PM     LOG [InstanceLoader] UsersModule dependencies initialized +36ms</span><span id="4ead" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66703  - 08/04/2021, 9:55:32 PM     LOG [InstanceLoader] AppModule dependencies initialized +1ms</span><span id="43f4" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66703  - 08/04/2021, 9:55:32 PM     LOG [InstanceLoader] GraphQLSchemaBuilderModule dependencies initialized +0ms</span><span id="3493" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66703  - 08/04/2021, 9:55:32 PM     LOG [InstanceLoader] GraphQLModule dependencies initialized +1ms</span><span id="b120" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66703  - 08/04/2021, 9:55:32 PM     LOG [RoutesResolver] AppController {/}: +4ms</span><span id="9e74" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66703  - 08/04/2021, 9:55:32 PM     LOG [RouterExplorer] Mapped {/, GET} route +2ms</span><span id="745f" class="ne nf iq ml b gy nk nh l ni nj">[Nest] 66703  - 08/04/2021, 9:55:33 PM     LOG [NestApplication] Nest application successfully started +91ms</span></pre><p id="d95a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以编写一个查询来获取所有用户，我们将收到硬编码的默认结果:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="fd90" class="ne nf iq ml b gy ng nh l ni nj">query{<br/>  users{<br/>    exampleField<br/>  }<br/>}</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nl"><img src="../Images/b219f231dcd4a9b59089f687732be969.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Yja8sL7z-AZE2c01S9cEw.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">list users from our scaffolding</figcaption></figure><p id="18f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们想尝试一个突变，也非常简单:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="4865" class="ne nf iq ml b gy ng nh l ni nj">mutation{<br/>  createUser(createUserInput:{exampleField:123}){<br/>    exampleField<br/>  }<br/>}</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nm"><img src="../Images/71f3f17ed824b155493bf62c3fdd8cec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jt994kBHJEwSDfNNcW3Czg.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">adding a mutation for our scaffolding</figcaption></figure><p id="ea8f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就是这样。您最初从GraphQL后端需要的一切都已经设置好了！</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><p id="26b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在结束之前，我将把这个非常简单的脚手架添加到github公共存储库中，因为我想使用这个脚手架来研究更深入的主题，例如:</p><ul class=""><li id="52a9" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">单元测试</li><li id="99c3" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">E2E测试</li><li id="1122" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">处理授权和许可</li><li id="791f" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">实际编码服务业务逻辑</li><li id="8da6" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">用Mongoose添加MongoDB</li><li id="ef59" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">配置一个基本的CI/CD管道，类似于我的<a class="ae lc" href="https://makinhs.medium.com/your-scaffold-for-circleci-automated-tests-nestjs-a64f028cdd3d" rel="noopener">上一篇文章</a></li><li id="c00a" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">以及其他有助于后端开发人员的主题</li></ul><p id="e7d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，让我们为git提交做一个非常基本的配置，这通常会在您的简历中加分</p><ul class=""><li id="1c54" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">使用更漂亮的</li><li id="9dc9" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">使用棉绒</li></ul><p id="40b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">缺省情况下，NestJS已经配置了你的prettier和lint，你有脚本要运行，比如</p><ul class=""><li id="c205" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">纱线格式:运行更漂亮</li><li id="0ba7" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">纱线皮棉:皮棉你的项目</li></ul><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="224e" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> yarn format</span><span id="2c5c" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">yarn run v1.22.10</strong></span><span id="cebb" class="ne nf iq ml b gy nk nh l ni nj">warning ../../package.json: No license field</span><span id="b8f3" class="ne nf iq ml b gy nk nh l ni nj">$ prettier --write "src/**/*.ts" "test/**/*.ts"</span><span id="ef4e" class="ne nf iq ml b gy nk nh l ni nj">src/app.controller.spec.ts 178ms</span><span id="bd07" class="ne nf iq ml b gy nk nh l ni nj">src/app.controller.ts 10ms</span><span id="901a" class="ne nf iq ml b gy nk nh l ni nj">src/app.module.ts 6ms</span><span id="e2aa" class="ne nf iq ml b gy nk nh l ni nj">src/app.service.ts 3ms</span><span id="3e08" class="ne nf iq ml b gy nk nh l ni nj">src/main.ts 4ms</span><span id="2e06" class="ne nf iq ml b gy nk nh l ni nj">src/users/dto/create-user.input.ts 4ms</span><span id="167d" class="ne nf iq ml b gy nk nh l ni nj">src/users/dto/update-user.input.ts 4ms</span><span id="e2b6" class="ne nf iq ml b gy nk nh l ni nj">src/users/entities/user.entity.ts 5ms</span><span id="af77" class="ne nf iq ml b gy nk nh l ni nj">src/users/users.module.ts 3ms</span><span id="ad60" class="ne nf iq ml b gy nk nh l ni nj">src/users/users.resolver.spec.ts 8ms</span><span id="c7fb" class="ne nf iq ml b gy nk nh l ni nj">src/users/users.resolver.ts 15ms</span><span id="7d56" class="ne nf iq ml b gy nk nh l ni nj">src/users/users.service.spec.ts 8ms</span><span id="b891" class="ne nf iq ml b gy nk nh l ni nj">src/users/users.service.ts 8ms</span><span id="a692" class="ne nf iq ml b gy nk nh l ni nj">test/app.e2e-spec.ts 7ms</span><span id="1d59" class="ne nf iq ml b gy nk nh l ni nj">✨  Done in 0.59s.</span><span id="7e7f" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">➜  nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> yarn lint</span><span id="0dbb" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">yarn run v1.22.10</strong></span><span id="f996" class="ne nf iq ml b gy nk nh l ni nj">warning ../../package.json: No license field</span><span id="8cf3" class="ne nf iq ml b gy nk nh l ni nj">$ eslint "{src,apps,libs,test}/**/*.ts" --fix</span><span id="3686" class="ne nf iq ml b gy nk nh l ni nj">✨  Done in 4.26s.</span></pre><p id="e988" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以在git提交之前添加这个命令。我将为哈士奇添加以下内容:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="f806" class="ne nf iq ml b gy ng nh l ni nj">npx husky-init # add --yarn2 for Yarn 2<br/>yarn add --dev pretty-quick<br/>yarn husky set .husky/pre-commit "npx pretty-quick --staged"</span></pre><p id="dd54" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您将看到类似于以下内容的内容:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="2e23" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> npx husky-init # add --yarn2 for Yarn 2</span><span id="fadb" class="ne nf iq ml b gy nk nh l ni nj">yarn add --dev pretty-quick</span><span id="1a00" class="ne nf iq ml b gy nk nh l ni nj">yarn husky set .husky/pre-commit "npx pretty-quick --staged"</span><span id="57c9" class="ne nf iq ml b gy nk nh l ni nj">Need to install the following packages:</span><span id="49af" class="ne nf iq ml b gy nk nh l ni nj">husky-init</span><span id="116b" class="ne nf iq ml b gy nk nh l ni nj">Ok to proceed? (y) y</span><span id="fc39" class="ne nf iq ml b gy nk nh l ni nj">husky-init updating package.json</span><span id="a4ff" class="ne nf iq ml b gy nk nh l ni nj">setting prepare script to command "husky install"</span><span id="8875" class="ne nf iq ml b gy nk nh l ni nj">husky - Git hooks installed</span><span id="0d72" class="ne nf iq ml b gy nk nh l ni nj">husky - created .husky/pre-commit</span><span id="122b" class="ne nf iq ml b gy nk nh l ni nj">please review changes in package.json</span><span id="6f5c" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">yarn add v1.22.10</strong></span><span id="301a" class="ne nf iq ml b gy nk nh l ni nj">warning ../../package.json: No license field</span><span id="0b5e" class="ne nf iq ml b gy nk nh l ni nj">[1/4] 🔍  Resolving packages...</span><span id="a979" class="ne nf iq ml b gy nk nh l ni nj">[2/4] 🚚  Fetching packages...</span><span id="0e3d" class="ne nf iq ml b gy nk nh l ni nj">[3/4] 🔗  Linking dependencies...</span><span id="a8f5" class="ne nf iq ml b gy nk nh l ni nj">warning " &gt; @nestjs/graphql@8.0.2" has unmet peer dependency "apollo-server-core@^2.21.1".</span><span id="b190" class="ne nf iq ml b gy nk nh l ni nj">warning "@nestjs/graphql &gt; @nestjs/mapped-types@1.0.0" has unmet peer dependency "class-transformer@^0.2.0 || ^0.3.0 || ^0.4.0".</span><span id="b761" class="ne nf iq ml b gy nk nh l ni nj">warning "@nestjs/graphql &gt; @nestjs/mapped-types@1.0.0" has unmet peer dependency "class-validator@^0.11.1 || ^0.12.0 || ^0.13.0".</span><span id="fe9c" class="ne nf iq ml b gy nk nh l ni nj">warning " &gt; ts-loader@9.2.5" has unmet peer dependency "webpack@^5.0.0".</span><span id="e920" class="ne nf iq ml b gy nk nh l ni nj">[4/4] 🔨  Building fresh packages...</span><span id="2c57" class="ne nf iq ml b gy nk nh l ni nj">success Saved lockfile.</span><span id="ac17" class="ne nf iq ml b gy nk nh l ni nj">success Saved 7 new dependencies.</span><span id="0f21" class="ne nf iq ml b gy nk nh l ni nj">info Direct dependencies</span><span id="459f" class="ne nf iq ml b gy nk nh l ni nj">├─ husky@6.0.0</span><span id="0da0" class="ne nf iq ml b gy nk nh l ni nj">└─ pretty-quick@3.1.1</span><span id="41aa" class="ne nf iq ml b gy nk nh l ni nj">info All dependencies</span><span id="5625" class="ne nf iq ml b gy nk nh l ni nj">├─ @types/minimatch@3.0.5</span><span id="715c" class="ne nf iq ml b gy nk nh l ni nj">├─ array-differ@3.0.0</span><span id="ad9a" class="ne nf iq ml b gy nk nh l ni nj">├─ arrify@2.0.1</span><span id="bf4c" class="ne nf iq ml b gy nk nh l ni nj">├─ husky@6.0.0</span><span id="1ecc" class="ne nf iq ml b gy nk nh l ni nj">├─ mri@1.1.6</span><span id="35d0" class="ne nf iq ml b gy nk nh l ni nj">├─ multimatch@4.0.0</span><span id="1a8b" class="ne nf iq ml b gy nk nh l ni nj">└─ pretty-quick@3.1.1</span><span id="e730" class="ne nf iq ml b gy nk nh l ni nj">$ husky install</span><span id="41e2" class="ne nf iq ml b gy nk nh l ni nj">husky - Git hooks installed</span><span id="d2cf" class="ne nf iq ml b gy nk nh l ni nj">✨  Done in 4.25s.</span><span id="6532" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">yarn run v1.22.10</strong></span><span id="2160" class="ne nf iq ml b gy nk nh l ni nj">warning ../../package.json: No license field</span><span id="5d4d" class="ne nf iq ml b gy nk nh l ni nj">$ /Users/marcossilva/projects/nestjs-with-graphql/node_modules/.bin/husky set .husky/pre-commit 'npx pretty-quick --staged'</span><span id="1bfb" class="ne nf iq ml b gy nk nh l ni nj">husky - created .husky/pre-commit</span><span id="4395" class="ne nf iq ml b gy nk nh l ni nj">✨  Done in 0.14s.</span></pre><p id="0e2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它创建了一个名为<strong class="jp ir">的文件夹。husky </strong>和一个预提交文件，其中包含</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="8c13" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">#!/bin/sh<br/></strong>. "$(dirname "$0")/_/husky.sh"<br/><br/>npx pretty-quick --staged</span></pre><p id="4e3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将添加纱线线头命令后运行漂亮</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="e8ce" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">#!/bin/sh<br/></strong>. "$(dirname "$0")/_/husky.sh"<br/><br/>npx pretty-quick --staged &amp;&amp; yarn lint</span></pre><p id="e49e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将在提交到git之前自动运行得更漂亮、更lint，这在多人一起编码时很有帮助。</p><blockquote class="ld le lf"><p id="b66e" class="jn jo kl jp b jq jr js jt ju jv jw jx lg jz ka kb lh kd ke kf li kh ki kj kk ij bi translated"><strong class="jp ir">注意:</strong>一些使用Windows的朋友，pretty-quick不能正常工作，他们使用“纱线格式&amp; &amp;纱线线头”来代替。</p></blockquote><p id="3752" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">太好了，我们现在很幸福。您不需要这样做，因为我将代码推送到我的公共git存储库，但它是这样工作的:</p><pre class="kn ko kp kq gt na ml nb nc aw nd bi"><span id="e27a" class="ne nf iq ml b gy ng nh l ni nj"><strong class="ml ir">nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> git add .</span><span id="a8c5" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">➜  nestjs-with-graphql</strong> <strong class="ml ir">git:(main) ✗</strong> git commit -m 'feat: added basic scaffolding'</span><span id="28de" class="ne nf iq ml b gy nk nh l ni nj">🔍  Finding changed files since <strong class="ml ir">git</strong> revision <strong class="ml ir">null</strong>.</span><span id="0f4d" class="ne nf iq ml b gy nk nh l ni nj">🎯  Found <strong class="ml ir">23</strong> changed files.</span><span id="cc2a" class="ne nf iq ml b gy nk nh l ni nj">✍️  Fixing up <strong class="ml ir">.prettierrc</strong>.</span><span id="d01d" class="ne nf iq ml b gy nk nh l ni nj">✍️  Fixing up <strong class="ml ir">schema.gql</strong>.</span><span id="58cd" class="ne nf iq ml b gy nk nh l ni nj">✅  Everything is awesome!</span><span id="d8c4" class="ne nf iq ml b gy nk nh l ni nj"><strong class="ml ir">yarn run v1.22.10</strong></span><span id="4578" class="ne nf iq ml b gy nk nh l ni nj">warning ../../package.json: No license field</span><span id="907c" class="ne nf iq ml b gy nk nh l ni nj">$ eslint "{src,apps,libs,test}/**/*.ts" --fix</span><span id="5fa1" class="ne nf iq ml b gy nk nh l ni nj">✨  Done in 3.64s.</span><span id="8e9b" class="ne nf iq ml b gy nk nh l ni nj">[main (root-commit) b9a4040] feat: added basic scaffolding</span><span id="9b5b" class="ne nf iq ml b gy nk nh l ni nj">27 files changed, 6489 insertions(+)</span><span id="c2b4" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 .eslintrc.js</span><span id="7a19" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 .gitignore</span><span id="c379" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 .husky/.gitignore</span><span id="a46d" class="ne nf iq ml b gy nk nh l ni nj">create mode 100755 .husky/pre-commit</span><span id="c0e4" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 .prettierrc</span><span id="8549" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 README.md</span><span id="e62a" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 nest-cli.json</span><span id="58a4" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 package.json</span><span id="d5a8" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 schema.gql</span><span id="8ed3" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/app.controller.spec.ts</span><span id="225f" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/app.controller.ts</span><span id="9abd" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/app.module.ts</span><span id="a0f1" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/app.service.ts</span><span id="479e" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/main.ts</span><span id="bade" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/users/dto/create-user.input.ts</span><span id="1225" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/users/dto/update-user.input.ts</span><span id="e654" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/users/entities/user.entity.ts</span><span id="ac08" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/users/users.module.ts</span><span id="397f" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/users/users.resolver.spec.ts</span><span id="5f28" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/users/users.resolver.ts</span><span id="dc70" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/users/users.service.spec.ts</span><span id="26b3" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 src/users/users.service.ts</span><span id="1ef9" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 test/app.e2e-spec.ts</span><span id="5b9a" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 test/jest-e2e.json</span><span id="795b" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 tsconfig.build.json</span><span id="109a" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 tsconfig.json</span><span id="2571" class="ne nf iq ml b gy nk nh l ni nj">create mode 100644 yarn.lock</span></pre><p id="6e24" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你读到这里，你可以在这里找到<a class="ae lc" href="https://github.com/makinhs/nestjs-with-graphql" rel="noopener ugc nofollow" target="_blank"> Github库</a>。</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><p id="f069" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢阅读到目前为止。这篇文章非常基础，但是旨在通过Node.js和使用NestJS框架启动GraphQL后端。我真的很想找到更多的个人时间来更深入地写一些在使用NestJS编码时可以在生产中使用的东西，并且还回去写一些在前端使用在现实环境中有意义的东西的React。</p><p id="0a87" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果这篇文章对你有用，不要忘了鼓掌，或者发表评论！回头见。</p><p id="b8e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">准备好第二步了吗？让我们在下一篇文章中用TypeORM添加Postgres模块。</p><div class="lj lk gp gr ll lm"><a href="https://makinhs.medium.com/graphql-nodejs-postgres-made-easy-with-nestjs-and-typeorm-4daff3c516d" rel="noopener follow" target="_blank"><div class="ln ab fo"><div class="lo ab lp cl cj lq"><h2 class="bd ir gy z fp lr fr fs ls fu fw ip bi translated">graph QL+NodeJS+Postgres——使用NestJS和TypeORM使之变得简单</h2><div class="lt l"><h3 class="bd b gy z fp lr fr fs ls fu fw dk translated">使用TypeORM在NestJS GraphQL后端添加Postgres模块，并创建一个基本的CRUD</h3></div><div class="lu l"><p class="bd b dl z fp lr fr fs ls fu fw dk translated">makinhs.medium.com</p></div></div><div class="lv l"><div class="nn l lx ly lz lv ma kw lm"/></div></div></a></div><p id="dddf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不喜欢GraphQL，想在REST API中看到NestJS？查看我的另一篇文章:</p><div class="lj lk gp gr ll lm"><a href="https://makinhs.medium.com/creating-a-rest-api-series-with-nestjs-part-01-scaffolding-and-basic-cli-usage-30ace19c5bb8" rel="noopener follow" target="_blank"><div class="ln ab fo"><div class="lo ab lp cl cj lq"><h2 class="bd ir gy z fp lr fr fs ls fu fw ip bi translated">使用NestJS创建REST API系列—第1部分—搭建和基本CLI用法</h2><div class="lt l"><h3 class="bd b gy z fp lr fr fs ls fu fw dk translated">欢迎回来！在这个迷你系列文章中，我将指导您如何使用NestJS框架构建REST API</h3></div><div class="lu l"><p class="bd b dl z fp lr fr fs ls fu fw dk translated">makinhs.medium.com</p></div></div><div class="lv l"><div class="lw l lx ly lz lv ma kw lm"/></div></div></a></div><p id="b3e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">更多内容尽在</em><a class="ae lc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">plain English . io</em></strong></a></p></div></div>    
</body>
</html>