<html>
<head>
<title>Create a WhatsApp Clone with Next.js: Chat Page</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Next.js: Chat页面创建WhatsApp克隆</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-whatsapp-clone-with-next-js-part-9-chat-page-6e6398da0283?source=collection_archive---------13-----------------------#2021-11-09">https://javascript.plainenglish.io/create-whatsapp-clone-with-next-js-part-9-chat-page-6e6398da0283?source=collection_archive---------13-----------------------#2021-11-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5a54" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第9部分:聊天页面</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e407a8390a9b39be210cf372d1a63d24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YDe-yiYmb4Dxe7KZ"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@alexbemore?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alexander Shatov</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3f04" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这一部分，我们将使用Next.js动态路由，如果用户点击侧边栏的聊天项，它将进入聊天。</p><p id="933d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在Next.js中，我们可以通过向页面添加括号来创建动态路由。</p><p id="e445" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">顺便说一下，如果你不熟悉Next.js，你可以参加下面的课程来快速提高你的Next.js技能。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="5d51" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.youtube.com/channel/UCu4-4FnutvSHVo9WHvq80Ww/join" rel="noopener ugc nofollow" target="_blank">源代码</a></p><div class="lu lv gp gr lw lx"><a href="https://ckmobile.gumroad.com/l/create-app-with-nextjs" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">面向初学者的Nextjs</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">编辑描述</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">ckmobile.gumroad.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml kp lx"/></div></div></a></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/dc453343ce729d766ae333d6d28a9418.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*YNfOYHE9BPKMxIpLTBAAmw.png"/></div></figure><p id="c42c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建[id]。js，这样以后的用户就可以使用“http://localhost:3000/chat/ <some-id>”访问聊天页面了。</some-id></p><p id="3b29" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在[id]里面。js，我们只是设置100%的宽度，设置显示为' flex '并添加背景色。</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="7b89" class="ms mt iq mo b gy mu mv l mw mx">import styled from 'styled-components';</span><span id="daf0" class="ms mt iq mo b gy my mv l mw mx">const ChatBox = () =&gt; {</span><span id="99d8" class="ms mt iq mo b gy my mv l mw mx">return (</span><span id="43d8" class="ms mt iq mo b gy my mv l mw mx">&lt;Container&gt;</span><span id="99e6" class="ms mt iq mo b gy my mv l mw mx">detail</span><span id="0c12" class="ms mt iq mo b gy my mv l mw mx">&lt;/Container&gt;</span><span id="9df9" class="ms mt iq mo b gy my mv l mw mx">)</span><span id="b898" class="ms mt iq mo b gy my mv l mw mx">}</span><span id="0d71" class="ms mt iq mo b gy my mv l mw mx">export default ChatBox</span><span id="db4f" class="ms mt iq mo b gy my mv l mw mx">const Container = styled.div`</span><span id="b07d" class="ms mt iq mo b gy my mv l mw mx">display:flex;</span><span id="9893" class="ms mt iq mo b gy my mv l mw mx">background-color:#f8fafc;</span><span id="be9f" class="ms mt iq mo b gy my mv l mw mx">width:100%;</span><span id="9168" class="ms mt iq mo b gy my mv l mw mx">`;</span></pre><h2 id="38ff" class="ms mt iq bd mz na nb dn nc nd ne dp nf lf ng nh ni lj nj nk nl ln nm nn no np bi translated">创建EnterChat函数</h2><p id="f132" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">要进入聊天，我们需要回到Chat.js(聊天项目)。我们用useRouter创建路由器，然后通过<code class="fe nv nw nx mo b">router.push(‘/chat/123’)</code>推送到聊天页面</p><p id="e0bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们此刻只是使用一个虚拟id 123，因为我们只是想首先关注UI。</p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="c4b6" class="ms mt iq mo b gy mu mv l mw mx">import { useRouter } from 'next/router';</span><span id="ceb4" class="ms mt iq mo b gy my mv l mw mx">const Chat = ({ photoURL, name, timestamp, latestMessage }) =&gt; {</span><span id="7ba5" class="ms mt iq mo b gy my mv l mw mx">const router = useRouter()</span><span id="bd04" class="ms mt iq mo b gy my mv l mw mx">const enterChat = () =&gt; {</span><span id="e71a" class="ms mt iq mo b gy my mv l mw mx">router.push('/chat/123')</span><span id="d055" class="ms mt iq mo b gy my mv l mw mx">}</span><span id="1434" class="ms mt iq mo b gy my mv l mw mx">return (</span><span id="dd20" class="ms mt iq mo b gy my mv l mw mx">&lt;Container onClick={enterChat}&gt;</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/0a2de7b922c11a345c27487f970c140d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dBp9aXaH5UWyYqFOF7lYmQ.png"/></div></div></figure><p id="60cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以看到我们已经可以进入详细的页面，但有点奇怪，因为宽度太窄。</p><p id="218f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们必须回到<layout>，设置最小宽度为75vw，而不是仅仅使用宽度。</layout></p><pre class="kg kh ki kj gt mn mo mp mq aw mr bi"><span id="34c5" class="ms mt iq mo b gy mu mv l mw mx">const Container = styled.div`</span><span id="8837" class="ms mt iq mo b gy my mv l mw mx">display: flex;</span><span id="af83" class="ms mt iq mo b gy my mv l mw mx">/* width: 75vw; */</span><span id="c46a" class="ms mt iq mo b gy my mv l mw mx">min-width:75vw;</span><span id="5d6e" class="ms mt iq mo b gy my mv l mw mx">margin:auto;</span><span id="e73f" class="ms mt iq mo b gy my mv l mw mx">margin-top:20px;</span><span id="ef8f" class="ms mt iq mo b gy my mv l mw mx">margin-bottom: 20px;</span><span id="346f" class="ms mt iq mo b gy my mv l mw mx">box-shadow: 0 0 1rem 0.05rem rgba(0, 0, 0, 0.2);</span><span id="f6af" class="ms mt iq mo b gy my mv l mw mx">height: 100vh;</span><span id="32a7" class="ms mt iq mo b gy my mv l mw mx">@media  (max-width: 1440px) {</span><span id="d493" class="ms mt iq mo b gy my mv l mw mx">width:100%;</span><span id="7d8d" class="ms mt iq mo b gy my mv l mw mx">height:100vh;</span><span id="00ca" class="ms mt iq mo b gy my mv l mw mx">margin:0;</span><span id="794b" class="ms mt iq mo b gy my mv l mw mx">}</span><span id="0c66" class="ms mt iq mo b gy my mv l mw mx">`</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/bd1ab9b170dcbb54c7dff3aff92adef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sG0fdPq1sgBv8xg5L5KhMw.png"/></div></div></figure><p id="caab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在你应该看到宽度恢复正常。</p><h1 id="f409" class="oa mt iq bd mz ob oc od nc oe of og nf jw oh jx ni jz oi ka nl kc oj kd no ok bi translated">关注我们:<a class="ae kv" href="https://app.gumroad.com/ckmobile" rel="noopener ugc nofollow" target="_blank"> Gumroad课程</a>，<a class="ae kv" href="https://www.youtube.com/channel/UCu4-4FnutvSHVo9WHvq80Ww?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> YouTube </a>，<a class="ae kv" href="https://ckmobile.medium.com/" rel="noopener"> Medium </a>，<a class="ae kv" href="https://www.udemy.com/user/cyruschan2/" rel="noopener ugc nofollow" target="_blank"> Udemy </a>，<a class="ae kv" href="https://www.linkedin.com/company/ckmobi/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>，<a class="ae kv" href="https://twitter.com/ckmobilejavasc1" rel="noopener ugc nofollow" target="_blank"> Twitter </a>，<a class="ae kv" href="https://www.instagram.com/ckmobile8050" rel="noopener ugc nofollow" target="_blank"> Instagram </a></h1><p id="5b76" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">加入分支机构赚钱</p><div class="lu lv gp gr lw lx"><a href="https://ckmobile.gumroad.com/affiliates" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">Gumroad</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">申请成为会员很容易。填写下表，让Ckmobile知道您将如何推广他们的…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">ckmobile.gumroad.com</p></div></div><div class="mg l"><div class="ol l mi mj mk mg ml kp lx"/></div></div></a></div><p id="26ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="om">更多内容看</em> <a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="om">说白了</em></strong></a></p></div></div>    
</body>
</html>