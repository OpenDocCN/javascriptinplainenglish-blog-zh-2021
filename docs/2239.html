<html>
<head>
<title>Understanding Hoisting in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解JavaScript中的提升</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/hoisting-in-javascript-4db1f9a9544b?source=collection_archive---------16-----------------------#2021-05-10">https://javascript.plainenglish.io/hoisting-in-javascript-4db1f9a9544b?source=collection_archive---------16-----------------------#2021-05-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/6ec2c2995d3e58eb7e3e534d841796ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CdMwhhB6Scmqik7K"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@clark_fransa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Arnold Francisca</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5810" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">JavaScript中的提升是一个概念，在执行之前，将所有变量声明和函数声明移动到当前范围内脚本的顶部。</p><p id="df98" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">简单地说，提升允许人们在声明变量和函数之前就使用它们和调用它们。对于初学者来说，理解这个概念是绝对必要的。如果不理解，这可能会在您的代码中导致不必要的错误！</p><p id="9b00" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">注意</strong>:只提升声明，不提升初始化。</p><p id="e373" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这篇文章中，我将写提升是如何为函数工作的。我已经在我的文章<a class="ae jz" href="https://medium.com/nerd-for-tech/difference-between-var-let-and-const-7aec1b81da2" rel="noopener"><em class="ky">var，let和const的区别</em> </a>中写了提升如何影响var，let和const的用法。</p><p id="6af0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，我将不会进入相同的细节。然而，总结如下:</p><ol class=""><li id="221d" class="kz la in kc b kd ke kh ki kl lb kp lc kt ld kx le lf lg lh bi translated"><strong class="kc io"> var: </strong>只有变量声明被提升到它们当前作用域的顶部，并被赋予一个未定义的值。在声明之前使用它们只会返回undefined。</li><li id="e3f7" class="kz la in kc b kd li kh lj kl lk kp ll kt lm kx le lf lg lh bi translated">let和const: 它们也是被提升的，但是与var不同，它们没有用任何值初始化。在声明之前使用它们会引发引用错误。</li></ol><h1 id="df07" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated"><strong class="ak">带功能吊装</strong></h1><p id="91c2" class="pw-post-body-paragraph ka kb in kc b kd ml kf kg kh mm kj kk kl mn kn ko kp mo kr ks kt mp kv kw kx ig bi translated">在JavaScript中，我们甚至可以在声明或定义一个函数之前就调用它，而且它运行起来没有任何错误！用另一种编程语言做同样的事情会导致你的代码错误百出！这都是因为吊装。</p><p id="73c7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">JavaScript中的函数可以分为函数声明和函数表达式。两者的提升方式不同。</p><h2 id="1371" class="mq lo in bd lp mr ms dn lt mt mu dp lx kl mv mw mb kp mx my mf kt mz na mj nb bi translated"><strong class="ak">功能声明</strong></h2><p id="d41c" class="pw-post-body-paragraph ka kb in kc b kd ml kf kg kh mm kj kk kl mn kn ko kp mo kr ks kt mp kv kw kx ig bi translated">函数声明被提升到全局作用域或包含它的函数的顶部。</p><p id="c125" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">示例:</p><pre class="nc nd ne nf gt ng nh ni nj aw nk bi"><span id="a422" class="mq lo in nh b gy nl nm l nn no">example();<br/>function example(){<br/>     console.log(“Function example has been hoisted! ”)<br/>}</span></pre><p id="8c52" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">输出:</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi np"><img src="../Images/94d243a8c861c16288e3cad6778d00c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pPQtAkfey4dw4oPEvrZHYw.png"/></div></div></figure><h2 id="c1ce" class="mq lo in bd lp mr ms dn lt mt mu dp lx kl mv mw mb kp mx my mf kt mz na mj nb bi translated"><strong class="ak">函数表达式</strong></h2><p id="b0f2" class="pw-post-body-paragraph ka kb in kc b kd ml kf kg kh mm kj kk kl mn kn ko kp mo kr ks kt mp kv kw kx ig bi translated">JavaScript中的函数表达式是明确分配给变量的函数。它们具有以下语法:</p><pre class="nc nd ne nf gt ng nh ni nj aw nk bi"><span id="f13d" class="mq lo in nh b gy nl nm l nn no">var name= function[name](param1,param2,..){  //here name is optional<br/>      //some code<br/>};</span></pre><p id="1709" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">函数表达式不被提升。</p><p id="0a8b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">考虑下面的例子:</p><pre class="nc nd ne nf gt ng nh ni nj aw nk bi"><span id="59ad" class="mq lo in nh b gy nl nm l nn no">var addition = sum()<br/>var n1 = 4;<br/>var n2 = 5;<br/>var sum = function(n1,n2){<br/>   return n1+n2;<br/>};</span></pre><p id="c86c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">输出:</p><figure class="nc nd ne nf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nq"><img src="../Images/2d7ad9f22b7c86e53350814ae1c870f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jP9F9SmlgOdeezag6VLUaA.png"/></div></div></figure><p id="c214" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">从上面的输出中我们可以看到，我们得到一个错误“TypeError: sum不是一个函数”。在函数表达式中，这些函数在运行时被赋给变量。但是这里的“sum”是一个变量，因此被提升并被赋值为undefined。因此，在运行时，sum已经有了一个未定义的值，因此我们得到错误消息，它不是一个函数。如果将它与let一起使用，错误将是“ReferenceError: sum未定义”。</p><h1 id="f37a" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated"><strong class="ak">结论</strong></h1><p id="d4a0" class="pw-post-body-paragraph ka kb in kc b kd ml kf kg kh mm kj kk kl mn kn ko kp mo kr ks kt mp kv kw kx ig bi translated">提升可能会在我们的代码中导致不良影响，为了避免这种情况，最好的做法是在脚本的顶部声明所有变量。对于变量，最好用let和const代替var。</p><h2 id="495e" class="mq lo in bd lp mr ms dn lt mt mu dp lx kl mv mw mb kp mx my mf kt mz na mj nb bi translated">参考</h2><div class="nr ns gp gr nt nu"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Hoisting" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd io gy z fp nz fr fs oa fu fw im bi translated">提升- MDN网络文档词汇表:网络相关术语的定义</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">提升是一个术语，在ECMAScript 2015 Language之前的任何规范文章中都找不到使用…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">developer.mozilla.org</p></div></div><div class="od l"><div class="oe l of og oh od oi jt nu"/></div></div></a></div><p id="783e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">更内容于</em> <a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ky">通俗地说就是</em> </a></p></div></div>    
</body>
</html>