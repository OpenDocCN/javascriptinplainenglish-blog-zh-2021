<html>
<head>
<title>Object.freeze() Vs. Object.seal() In JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的Object.freeze()与Object.seal()</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/object-freeze-vs-object-seal-in-javascript-4f66f7d24754?source=collection_archive---------4-----------------------#2021-10-04">https://javascript.plainenglish.io/object-freeze-vs-object-seal-in-javascript-4f66f7d24754?source=collection_archive---------4-----------------------#2021-10-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="af19" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">理解JavaScript中的不变性</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/31e89eb35b500bc26a545bb3803fcc40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I_FOCPhC0PKHSMV-t0IoHg.png"/></div></div></figure><p id="3d3d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用JavaScript时，开发人员有时需要用<strong class="kt ir"> <em class="ln">对象</em> </strong>、 <strong class="kt ir"> <em class="ln">值</em> </strong> <em class="ln">、</em> <strong class="kt ir"> <em class="ln">状态对象、</em> </strong> <em class="ln"> </em>或<em class="ln"> </em> <strong class="kt ir"> <em class="ln">全局定义的常量</em> </strong>来限制动作。当开发人员在将源代码传递给另一个团队的团队中工作时，遇到错误的机会更大，因为有权访问这些数据的函数会直接修改它们，即使它们不应该这样做。此外，团队中的开发人员可以在不知道的情况下做出这样的更改。</p><p id="567f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了避免在<strong class="kt ir"> <em class="ln"> JavaScript </em> </strong>应用程序中出现这样的问题，我们有了<strong class="kt ir">不变性</strong>的概念，在这里我们可以控制我们的数据在整个时间内是如何被修改的。在<em class="ln"> JavaScript中，</em>提供了一些方法来处理这种情况，比如<strong class="kt ir"> <em class="ln"> seal() </em> </strong>和<strong class="kt ir"> <em class="ln"> freeze() </em> </strong>对象方法来控制不变性。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h2 id="9ba7" class="lv lw iq bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">JavaScript中的不变性</h2><p id="f1c8" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">换句话说，不可变对象只是一个不可能应用进一步更改的对象。<strong class="kt ir">状态</strong>是只读的，这正是我们在<strong class="kt ir">常量</strong>关键字中拥有的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/2b33233754a5f1aae368298c4265a391.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Fl1xSUXXUaE0qXjPL84XQ.png"/></div></div></figure></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><blockquote class="mu"><p id="7f27" class="mv mw iq bd mx my mz na nb nc nd lm dk translated">在我们学习更多关于不变性的知识之前，您应该知道对象在JavaScript中是如何工作的。</p></blockquote><p id="eb9c" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated"><strong class="kt ir"> <em class="ln">例如:</em> </strong></p><ul class=""><li id="8073" class="nj nk iq kt b ku kv kx ky la nl le nm li nn lm no np nq nr bi translated">假设我们有两个变量，分别是<strong class="kt ir">、</strong>、&amp;、<strong class="kt ir">、【waterBottle】、</strong>，在这种情况下，它们都只包含<em class="ln">字符串</em>，我们可以独立地更改其中的任何一个。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/51ffa6f306b87079a72822ff4aacd336.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2knwgRY4pJw6fAiCcD6L3g.png"/></div></div></figure><ul class=""><li id="a3a5" class="nj nk iq kt b ku kv kx ky la nl le nm li nn lm no np nq nr bi translated">但是<strong class="kt ir"> <em class="ln">对象</em> </strong>的行为完全不同，当一个对象被声明时<em class="ln">变量</em>不包含该对象，而是对它的引用。<em class="ln">例如，</em>变量<strong class="kt ir"> profile </strong>在我们的例子中不包含对象本身(<em class="ln">而是对它的引用</em>)。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/043c3fa6fafb68027227ded4b20d3723.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*75pgHff8ueURb_xIhIiHOA.png"/></div></figure><ul class=""><li id="08b8" class="nj nk iq kt b ku kv kx ky la nl le nm li nn lm no np nq nr bi translated">这类似于我们如何向一个位置写入地址&amp;使用与复制字符串相同的赋值方法复制一个对象将导致复制对该对象的引用。</li><li id="4f28" class="nj nk iq kt b ku nu kx nv la nw le nx li ny lm no np nq nr bi translated">如果对<strong class="kt ir">用户</strong>进行任何更改，那么它也会修改<strong class="kt ir">新用户</strong>。另外，请注意，在这种情况下，我们没有两个对象，我们只是传递引用。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/fcd4d2e7d5a897ccd8200e375b12bff7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*GKPUsvpWLNFbw04y1ohMaA.png"/></div></figure></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h2 id="8ea8" class="lv lw iq bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">使用Object.freeze()</h2><p id="4754" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">这个方法冻结了一个对象，导致不再修改该对象，我们也不能添加新的属性或删除旧的属性。这可以简单地通过将所有属性的所有标志设置为<strong class="kt ir">假</strong>来实现。</p><p id="43f6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> <em class="ln">例如:</em> </strong></p><ul class=""><li id="70ad" class="nj nk iq kt b ku kv kx ky la nl le nm li nn lm no np nq nr bi translated">假设我们有两个不同的对象，分别是<strong class="kt ir"> user1 </strong> &amp; <strong class="kt ir"> user2 </strong>，这两个对象都是使用<strong class="kt ir"> let </strong>关键字分配的，该关键字允许我们更改这些对象的属性。</li><li id="3c87" class="nj nk iq kt b ku nu kx nv la nw le nx li ny lm no np nq nr bi translated">在这种状态下，如果我们尝试给我们的对象的属性重新分配一个新的<strong class="kt ir">值</strong>，那么它将没有任何问题地工作。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/b8de277e275e16e58a0513538ace703b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*szfr1_h7yVb4TCavGDmzFg.png"/></div></div></figure><ul class=""><li id="c626" class="nj nk iq kt b ku kv kx ky la nl le nm li nn lm no np nq nr bi translated">但是当我们使用<strong class="kt ir"> Object.freeze() </strong>方法来冻结我们的对象<strong class="kt ir"> (user1) </strong>时，我们无法获得与之前相同的结果。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/1ac58c5ab83f1ce44c9e801794d31696.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iDLWo_1x2BYhmKn1iZEWTg.png"/></div></div></figure><ul class=""><li id="af47" class="nj nk iq kt b ku kv kx ky la nl le nm li nn lm no np nq nr bi translated">关于<strong class="kt ir"> Object.freeze() </strong>方法还有更多需要了解的，如果我们尝试使用一个<strong class="kt ir">嵌套的</strong>对象，你会注意到嵌套的对象仍然会发生变化。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/194e4d06d2a7131c24e61a7d5699e390.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dL0zAT8U8YkTNgXYVtAM2g.png"/></div></div></figure><ul class=""><li id="d5d7" class="nj nk iq kt b ku kv kx ky la nl le nm li nn lm no np nq nr bi translated">这是因为该方法只冻结顶级元素。</li></ul><blockquote class="oc od oe"><p id="51e6" class="kr ks ln kt b ku kv jr kw kx ky ju kz of lb lc ld og lf lg lh oh lj lk ll lm ij bi translated"><strong class="kt ir"> <em class="iq">注意:</em> </strong> <em class="iq">如果你在浏览器的控制台中测试你的代码，不会抛出错误。但是如果你在一个严格模式打开的</em><strong class="kt ir"><em class="iq">JavaScript</em></strong><em class="iq">环境中测试你的代码，就会抛出一个</em> <strong class="kt ir"> <em class="iq">未捕获类型错误</em> </strong> <em class="iq">。在我们的</em> <strong class="kt ir"> <em class="iq">用户1 </em> </strong> <em class="iq">和</em> <strong class="kt ir"> <em class="iq">用户2 </em> </strong> <em class="iq">的例子中，如果我们试图对嵌套对象进行更改，在严格模式打开的情况下，将会抛出错误&amp;我们也不能进行任何更改。</em></p></blockquote><h2 id="0674" class="lv lw iq bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">使用Object.seal()</h2><p id="9ee8" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">使用这种方法，您可以更灵活地控制您的对象，因为<strong class="kt ir"> seal() </strong>方法允许修改现有属性，这意味着您不能添加新属性或删除旧属性，但您可以对当前属性进行某些更改。</p><blockquote class="oc od oe"><p id="154a" class="kr ks ln kt b ku kv jr kw kx ky ju kz of lb lc ld og lf lg lh oh lj lk ll lm ij bi translated"><strong class="kt ir"> <em class="iq">注:</em> </strong> <em class="iq">在此方法中，将</em> <strong class="kt ir"> <em class="iq">可配置</em> </strong> <em class="iq">标志设置为</em> <strong class="kt ir"> <em class="iq">假</em> </strong> <em class="iq">同</em> <strong class="kt ir"> <em class="iq">可写</em> </strong> <em class="iq">设置为</em> <strong class="kt ir"> <em class="iq">真<em class="iq"/></em></strong></p></blockquote><p id="80b4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> <em class="ln">例如:</em> </strong></p><ul class=""><li id="a808" class="nj nk iq kt b ku kv kx ky la nl le nm li nn lm no np nq nr bi translated">在将<em class="ln"> Object.seal() </em>方法应用到对象<strong class="kt ir"> user1 </strong>之后，可以对属性进行更改(第一种情况)，但是我们不能在当前属性中添加或删除任何内容(第二种情况)。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/5d58c1789b5c1a54d9b70df8a40e5ca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TVzYk-L7trJmAqqokqv_yA.png"/></div></div></figure></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><div class="kg kh ki kj gt oj"><a rel="noopener  ugc nofollow" target="_blank" href="/big-o-notation-explained-in-8-minutes-ded09f8f0f0a"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd ir gy z fp oo fr fs op fu fw ip bi translated">4分钟解释大O符号</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">用更好的代码构建可伸缩的应用程序</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="os l"><div class="ot l ou ov ow os ox kp oj"/></div></div></a></div><div class="oy oz gp gr pa oj"><a rel="noopener  ugc nofollow" target="_blank" href="/oauth-explained-in-4-minutes-84081720a4f7"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd ir gy z fp oo fr fs op fu fw ip bi translated">OAuth在4分钟内解释</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">使用OAuth进行快速简单的授权</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="os l"><div class="pb l ou ov ow os ox kp oj"/></div></div></a></div><div class="oy oz gp gr pa oj"><a rel="noopener  ugc nofollow" target="_blank" href="/4-things-you-didnt-know-css-can-do-13b364296570"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd ir gy z fp oo fr fs op fu fw ip bi translated">你不知道CSS能做的4件事</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">鲜为人知的CSS特性及示例</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="os l"><div class="pc l ou ov ow os ox kp oj"/></div></div></a></div><p id="a28d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ln">更多内容尽在</em><a class="ae pd" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="ln">plain English . io</em></strong></a></p></div></div>    
</body>
</html>