<html>
<head>
<title>The Bridge &amp; Facade Design Patterns in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的桥和门面设计模式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/bridge-facade-design-pattern-in-javascript-a4cac70b9581?source=collection_archive---------4-----------------------#2021-03-19">https://javascript.plainenglish.io/bridge-facade-design-pattern-in-javascript-a4cac70b9581?source=collection_archive---------4-----------------------#2021-03-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="447b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">像专家一样使用JavaScript应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/45673ebd9411b096c6d45c65e80c24e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qev7zi_I3yJ0L8Hj.jpg"/></div></div></figure><h1 id="7fac" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">桥模式</h1><p id="4480" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">这种模式允许两个组件，一个<strong class="ll ir"> <em class="mf">客户端</em> </strong>和<strong class="ll ir"> <em class="mf">服务</em> </strong>协同工作，每个组件都有自己的接口。主要目标是用两个抽象层次编写更好的代码。<em class="mf">桥接模式</em>的一个很好的例子是一个应用程序<strong class="ll ir">(客户端)</strong>和一个数据库驱动程序<strong class="ll ir">(服务)</strong>，应用程序写入一个定义良好的数据库API，但是你会发现每个驱动程序的实现对于每个数据库供应商<strong class="ll ir"> (SQL、MySQL、Oracle等)都是不同的。</strong></p><h2 id="0e17" class="mg ks iq bd kt mh mi dn kx mj mk dp lb ls ml mm ld lw mn mo lf ma mp mq lh mr bi translated"><strong class="ak"> <em class="ms">例如</em> </strong></h2><p id="8d36" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">桥最实际的情况是事件监听器回调，假设您有一个名为<strong class="ll ir"> getFoodById，</strong>的API函数，它基于标识符返回关于食品订单的数据。在任何web应用程序中，您都希望在用户操作<strong class="ll ir"> <em class="mf">(单击)&amp; </em> </strong>时获取这些数据。您单击的元素包含存储在自定义属性中的食品标识符。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/6b1d1174602d3452c783a93424afac73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qoixzRqshnJ6lSgbwldplQ.png"/></div></div></figure><p id="d06d" class="pw-post-body-paragraph lj lk iq ll b lm mu jr lo lp mv ju lr ls mw lu lv lw mx ly lz ma my mc md me ij bi translated">上面的例子是一个在浏览器环境中运行良好的API，但是在这种情况下，只有回调的范围可以从对象中获取ID。使用这种方法，您很可能在运行测试时遇到麻烦。</p><p id="37b8" class="pw-post-body-paragraph lj lk iq ll b lm mu jr lo lp mv ju lr ls mw lu lv lw mx ly lz ma my mc md me ij bi translated">更好的方法是先从一个好的API开始，不要把它和任何紧密的实现结合起来。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/44e4c9399ac46b81e324e4135f4b4adc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zmVK99VD_BwMciJxV0V8Bw.png"/></div></div></figure><ul class=""><li id="9aee" class="mz na iq ll b lm mu lp mv ls nb lw nc ma nd me ne nf ng nh bi translated">对于一个名为<strong class="ll ir"> getFoodById </strong>的函数来说，使用桥模式很有意义，它在你传入一个Id的地方接受一个参数。</li></ul><h2 id="8ec6" class="mg ks iq bd kt mh mi dn kx mj mk dp lb ls ml mm ld lw mn mo lf ma mp mq lh mr bi translated">优势</h2><ul class=""><li id="101a" class="mz na iq ll b lm ln lp lq ls ni lw nj ma nk me ne nf ng nh bi translated">窃听器很容易找到</li><li id="2550" class="mz na iq ll b lm nl lp nm ls nn lw no ma np me ne nf ng nh bi translated">易于为其他团队成员维护代码</li><li id="baaa" class="mz na iq ll b lm nl lp nm ls nn lw no ma np me ne nf ng nh bi translated">解耦抽象允许独立管理各个部分</li><li id="25f3" class="mz na iq ll b lm nl lp nm ls nn lw no ma np me ne nf ng nh bi translated">应用程序不太可能崩溃</li></ul></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><h1 id="3a37" class="kr ks iq bd kt ku nx kw kx ky ny la lb jw nz jx ld jz oa ka lf kc ob kd lh li bi translated">立面图案</h1><h2 id="1cf8" class="mg ks iq bd kt mh mi dn kx mj mk dp lb ls ml mm ld lw mn mo lf ma mp mq lh mr bi translated"><strong class="ak"> <em class="ms">什么是立面功能？</em> </strong></h2><p id="d189" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">记住桌面上的快捷图标，它们就像一个界面，把你导航到难以到达的地方。基于图形用户界面的操作系统在你的计算机上为这些外观提供数据和功能，在那里你点击、拖动和移动某些东西，你与一个在幕后运行命令的外观进行交互。</p><p id="4adb" class="pw-post-body-paragraph lj lk iq ll b lm mu jr lo lp mv ju lr ls mw lu lv lw mx ly lz ma my mc md me ij bi translated">该模式负责两件事，简化类接口&amp;将该类从使用它的客户机代码中分离出来。</p><p id="9820" class="pw-post-body-paragraph lj lk iq ll b lm mu jr lo lp mv ju lr ls mw lu lv lw mx ly lz ma my mc md me ij bi translated">他们还可以在后台执行错误检查，清理不再使用的大型对象。</p><p id="865f" class="pw-post-body-paragraph lj lk iq ll b lm mu jr lo lp mv ju lr ls mw lu lv lw mx ly lz ma my mc md me ij bi translated">坦白地说，这种模式第一次尝试有点困难，所以尝试获得更多的例子，并与真正的实际案例一起工作，这使学习变得更有趣&amp;以防你很难找到这种模式的简单例子，看看我的例子。</p><h2 id="e83c" class="mg ks iq bd kt mh mi dn kx mj mk dp lb ls ml mm ld lw mn mo lf ma mp mq lh mr bi translated"><strong class="ak"> <em class="ms">例如</em> </strong></h2><p id="4810" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">假设您需要在HTML元素上应用一些样式&amp;如果您的目标是给样式对象分配一个给定的属性(<strong class="ll ir">将带有内容ID的div的文本颜色应用到<em class="mf">红色</em>)，</strong>，那么您应该编写以下代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/cd8a56212eb988516fcd7711bca341b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rpY_fMYTRIuq609pWhZCEw.png"/></div></div></figure><p id="a7fe" class="pw-post-body-paragraph lj lk iq ll b lm mu jr lo lp mv ju lr ls mw lu lv lw mx ly lz ma my mc md me ij bi translated">请注意，实现没有任何问题，因为它完成了工作。但是在大型应用程序中，如果您想同时为几个元素设置特定的样式，那么使用相同的方法将是最困难的工作。</p><p id="a359" class="pw-post-body-paragraph lj lk iq ll b lm mu jr lo lp mv ju lr ls mw lu lv lw mx ly lz ma my mc md me ij bi translated">为了更好的理解，让我们假设现在你有三个不同id的元素<strong class="ll ir"> (foo，bar &amp; baz) </strong>，你想在每个元素上设置文本颜色为<strong class="ll ir">红色</strong>，那么你应该写下面的代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/81f394e2631b07afc092c36dc688083a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H8eNJozOM8wKHmHM5lJmjQ.png"/></div></div></figure><p id="18f2" class="pw-post-body-paragraph lj lk iq ll b lm mu jr lo lp mv ju lr ls mw lu lv lw mx ly lz ma my mc md me ij bi translated">正如您所看到的，随着应用程序有更多的更改要应用，这变成了一个非常重复的任务，您必须不断地写出<strong class="ll ir"> getElementById </strong>，然后为每个元素设置相同的属性。这就是Facade模式可以将其转换成非常简单的实现的地方。</p><p id="705e" class="pw-post-body-paragraph lj lk iq ll b lm mu jr lo lp mv ju lr ls mw lu lv lw mx ly lz ma my mc md me ij bi translated">我创建了一个名为<strong class="ll ir"> setStyle </strong>的函数，其中第一个参数传入了一个包含所有<strong class="ll ir">id</strong>的数组，第二个参数就是您想要应用于样式对象&amp;的<strong class="ll ir">属性</strong>，第三个参数是该属性的<strong class="ll ir">值</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/0dfb47a031e5a20da14ec85bd99aef8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BhvBHs8aAdx_GHCa4NV8IA.png"/></div></div></figure><h2 id="3be0" class="mg ks iq bd kt mh mi dn kx mj mk dp lb ls ml mm ld lw mn mo lf ma mp mq lh mr bi translated">优势</h2><ul class=""><li id="e82d" class="mz na iq ll b lm ln lp lq ls ni lw nj ma nk me ne nf ng nh bi translated">允许您编写一次组合代码，并在任何地方使用它</li><li id="d6af" class="mz na iq ll b lm nl lp nm ls nn lw no ma np me ne nf ng nh bi translated">减少对外部代码的依赖，这在开发应用程序时提供了额外的灵活性</li><li id="efb4" class="mz na iq ll b lm nl lp nm ls nn lw no ma np me ne nf ng nh bi translated">允许您在不破坏客户端代码的情况下修改该系统</li></ul></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><div class="kg kh ki kj gt of"><a rel="noopener  ugc nofollow" target="_blank" href="/10-best-practices-for-node-js-applications-2093b3c50799"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd ir gy z fp ok fr fs ol fu fw ip bi translated">Node.js应用程序的10个最佳实践</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">你需要知道的Node.js实践</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oo l"><div class="op l oq or os oo ot kp of"/></div></div></a></div><div class="ou ov gp gr ow of"><a rel="noopener  ugc nofollow" target="_blank" href="/9-data-structures-algorithms-you-should-know-as-a-developer-5e10946c95a0"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd ir gy z fp ok fr fs ol fu fw ip bi translated">作为开发人员，你应该知道的9种数据结构和算法</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">让你成为更好的开发者的数据结构和算法</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oo l"><div class="ox l oq or os oo ot kp of"/></div></div></a></div><div class="ou ov gp gr ow of"><a rel="noopener  ugc nofollow" target="_blank" href="/mastering-the-git-command-line-b2c6efe4f4ad"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd ir gy z fp ok fr fs ol fu fw ip bi translated">掌握Git命令行</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">像专家一样使用Git版本控制系统</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oo l"><div class="oy l oq or os oo ot kp of"/></div></div></a></div></div></div>    
</body>
</html>