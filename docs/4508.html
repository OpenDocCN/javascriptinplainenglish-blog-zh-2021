<html>
<head>
<title>Integrate Open API (Swagger) With Node.js And Express</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将开放API (Swagger)与Node.js和Express集成</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/integrate-open-api-swagger-with-node-and-express-b5b77bdc081b?source=collection_archive---------3-----------------------#2021-09-08">https://javascript.plainenglish.io/integrate-open-api-swagger-with-node-and-express-b5b77bdc081b?source=collection_archive---------3-----------------------#2021-09-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ed4dcf8d558490e0f9e05f920606e916.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gqrrSOOtW5Ble6Xb2jeOJQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Node js + Swagger</figcaption></figure><p id="045d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">本文将解释如何将swagger(开放API)与Node.js和Express集成。Swagger使得后端开发人员能够非常容易地记录、测试和解释他/她一直在为前端开发人员或任何希望使用这些端点的人工作的API端点。</p><h1 id="290b" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">设置</h1><p id="8724" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">在我们开始之前，我们应该在我们的机器上安装一些东西。</p><ul class=""><li id="27ab" class="md me iq ke b kf kg kj kk kn mf kr mg kv mh kz mi mj mk ml bi translated">Visual Studio代码-&gt; <a class="ae mm" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a></li><li id="3dec" class="md me iq ke b kf mn kj mo kn mp kr mq kv mr kz mi mj mk ml bi translated">Node.js -&gt; <a class="ae mm" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a></li></ul><p id="91ed" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">源代码</strong></p><div class="ms mt gp gr mu mv"><a href="https://github.com/JayKrishnareddy/Node_SwaggerDoc" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd ir gy z fp na fr fs nb fu fw ip bi translated">GitHub-JayKrishnareddy/Node _ SwaggerDoc:集成swagger和Node - express</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">集成swagger和Node - express。通过创建帐户为JayKrishnareddy/Node _ SwaggerDoc开发做贡献…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">github.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj jw mv"/></div></div></a></div><p id="048a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">所需包</strong></p><p id="8d5e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="nk"> npm初始化</em></p><p id="1535" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="nk"> npm安装swagger-jsdoc swagger-ui-express express node mon</em></p><p id="7ca3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">快速—适用于服务器</p><p id="7006" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Swagger —用于UI中的API文档</p><p id="7e80" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">nodemon——每当我们对文件进行更改时，将使用它来自动重启我们的服务器。</p><p id="f262" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">安装完所需的包后，让我们添加新文件来设置Swagger配置，并在节点中添加API端点</p><p id="9b8c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">项目的结构。</strong></p><figure class="nm nn no np gt jr gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/b4cff548408d90f988a37b4cd9c51a1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/0*4BqGUZ-PrZZtzvCZ.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Fig-1</figcaption></figure><h1 id="f3d3" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">摆好架势</h1><p id="378d" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">Swagger UI可以为前端和后端设置。因为这篇文章是关于Node.js的swagger。我将只在Node.js express应用程序中设置Swagger。您可以在此探索其他选项<a class="ae mm" href="https://github.com/swagger-api/swagger-ui/blob/HEAD/docs/usage/installation.md" rel="noopener ugc nofollow" target="_blank"/></p><p id="2bfb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">在你的api.js里</strong></p><figure class="nm nn no np gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="8948" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在集成了swagger设置之后，让我们用特定格式的描述和响应代码来定义swagger端点，以便我们能够在浏览器中运行之后访问swagger中的那些API</p><p id="afc9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">在每个终点前添加Swagger</strong></p><figure class="nm nn no np gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="21ca" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">出于演示的目的，我添加了四个API(Get、Post、Put、Delete ),并为剩余的端点添加了swagger设置</p><p id="34d3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">最终api.js </strong></p><figure class="nm nn no np gt jr"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="0a0a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">在浏览器中运行网址</strong></p><p id="becf" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，您可以在终端中对您的应用程序执行<strong class="ke ir"> npm start </strong>，它将导航到浏览器。我们必须在URL的末尾添加<strong class="ke ir"> /api-docs </strong>，这样我将导航到我们已配置的swagger，您将看到基于您生成的swagger.json的Swagger UI。</p><p id="57ff" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">端子</strong></p><figure class="nm nn no np gt jr gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/61758b0804b237512050d49b0b1a5c47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/0*S2BKGlxrdQq2Hmz6.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Fig-2</figcaption></figure><p id="8753" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">招摇</strong></p><figure class="nm nn no np gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/dc7707f85649afa7380b1abc817b3ada.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AQ3DfoQNfMmux2_w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Fig-3</figcaption></figure><p id="e8ac" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">使用Swagger测试API</strong></p><figure class="nm nn no np gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/e10c88ee4efeb9f550d44da332095e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*h3nAU5boqSwe-k5O.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Fig-4</figcaption></figure><p id="f45c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">希望这篇文章对你有帮助。</p><p id="d79f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">继续学习！</p><p id="4aef" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="nk">更多内容看</em><a class="ae mm" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir"><em class="nk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>