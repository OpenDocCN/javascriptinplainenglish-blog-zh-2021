<html>
<head>
<title>How to Count Neighboring Numbers in an Array using JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用JavaScript计算数组中相邻的数字</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-count-neighboring-numbers-in-an-array-using-javascript-b59f33995abe?source=collection_archive---------17-----------------------#2021-07-16">https://javascript.plainenglish.io/how-to-count-neighboring-numbers-in-an-array-using-javascript-b59f33995abe?source=collection_archive---------17-----------------------#2021-07-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="953c" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">日常JavaScript技巧、窍门和最佳实践</h2><div class=""/><div class=""><h2 id="ffba" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">使用JavaScript计算数组中相邻的数字</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/aabe6d0d6e7251d6ea8775069ba82514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uWuHYYCB6YhAfrL1"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Photo by <a class="ae le" href="https://unsplash.com/@loic?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Djim Loic</a> on <a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="418a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我总是喜欢像报纸这样能在较短时间内提供足够信息的东西。在这里，我为日常前端开发创建了一些技巧。</p><p id="785f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在这里，我将带来一篇新文章，介绍一些基于属性值对数组进行排序的方法。这些技巧可以成为你2021年JavaScript编码面试中的一块小石头。</p><p id="7c96" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">我知道小石头没什么区别，但如果我们有成千上万的石头，那就有区别了，为此我明天会带来新的石头。敬请关注。</em></p><h1 id="1f9a" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated">开始今天的话题吧。</h1><h2 id="8254" class="mu md iq bd me mv mw dn mi mx my dp mm lo mz na mo ls nb nc mq lw nd ne ms iw bi translated">使用Reduce</h2><p id="c478" class="pw-post-body-paragraph lf lg iq lh b li nf ka lk ll ng kd ln lo nh lq lr ls ni lu lv lw nj ly lz ma ij bi translated">"<code class="fe nk nl nm nn b"><strong class="lh ja">reduce()</strong></code>方法对数组的每个元素执行一个<strong class="lh ja">缩减器</strong>函数(你提供的)，产生一个输出值。"(来源:<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" rel="noopener ugc nofollow" target="_blank"> Mozilla </a>)</p><pre class="kp kq kr ks gt no nn np nq aw nr bi"><span id="6a73" class="mu md iq nn b gy ns nt l nu nv">let data = [1, 1, 2, 2, 4, 4, 6, 6, 5, 1, 9, 2, 7, 7];</span><span id="45e5" class="mu md iq nn b gy nw nt l nu nv">//using reduce<br/>let output = data.reduce((acc, element) =&gt; {<br/>    if (acc.length &amp;&amp; acc[acc.length - 1].key == element) {<br/>        acc[acc.length - 1].count++;<br/>    } else {<br/>        acc.push({<br/>            key: element,<br/>            count: 1<br/>        });<br/>    }</span><span id="a2f2" class="mu md iq nn b gy nw nt l nu nv">return acc;<br/>}, []).map(element =&gt; `${element.key}:${element.count}`)</span></pre><h2 id="09fd" class="mu md iq bd me mv mw dn mi mx my dp mm lo mz na mo ls nb nc mq lw nd ne ms iw bi translated">输出将如下所示</h2><pre class="kp kq kr ks gt no nn np nq aw nr bi"><span id="0e66" class="mu md iq nn b gy ns nt l nu nv">console.log(output);</span><span id="c994" class="mu md iq nn b gy nw nt l nu nv">//<em class="mb">["1:2", "2:2", "4:2", "6:2", "5:1", "1:1", "9:1", "2:1", "7:2"]</em></span></pre><h2 id="9c5c" class="mu md iq bd me mv mw dn mi mx my dp mm lo mz na mo ls nb nc mq lw nd ne ms iw bi translated">使用地图:</h2><p id="203f" class="pw-post-body-paragraph lf lg iq lh b li nf ka lk ll ng kd ln lo nh lq lr ls ni lu lv lw nj ly lz ma ij bi translated">“<code class="fe nk nl nm nn b"><strong class="lh ja">map()</strong></code>方法<strong class="lh ja">创建一个新数组</strong>，其中填充了调用数组中每个元素的函数的结果”(Source: <a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" rel="noopener ugc nofollow" target="_blank"> Mozilla </a>)</p><pre class="kp kq kr ks gt no nn np nq aw nr bi"><span id="35e2" class="mu md iq nn b gy ns nt l nu nv">let output2 = (function groupNeighbors([first, ...rest], output = [], last) {<br/>    last === first ? output[output.length - 1].push(first) : output.push([first]);<br/>    return rest.length ? groupNeighbors(rest, output, first) : output;<br/>})(data).map(x =&gt; x.length &gt; 1 ? [x[0], x.length].join(':') : x[0]);</span></pre><h2 id="75e6" class="mu md iq bd me mv mw dn mi mx my dp mm lo mz na mo ls nb nc mq lw nd ne ms iw bi translated">输出将如下所示</h2><pre class="kp kq kr ks gt no nn np nq aw nr bi"><span id="c676" class="mu md iq nn b gy ns nt l nu nv">console.log(output2);</span><span id="8a07" class="mu md iq nn b gy nw nt l nu nv">//<em class="mb">["1:2", "2:2", "4:2", "6:2", 5, 1, 9, 2, "7:2"]</em></span></pre><h1 id="abe1" class="mc md iq bd me mf mg mh mi mj mk ml mm kf mn kg mo ki mp kj mq kl mr km ms mt bi translated"><strong class="ak">延伸阅读:</strong></h1><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="de78" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="mb">更多内容看</em> <a class="ae le" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> <em class="mb">说白了. io </em> </strong> </a></p></div></div>    
</body>
</html>