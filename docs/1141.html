<html>
<head>
<title>How To Write Correct Jira Commit Messages</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何编写正确的吉拉提交消息</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-write-correct-jira-commit-messages-d9910f332273?source=collection_archive---------3-----------------------#2021-03-10">https://javascript.plainenglish.io/how-to-write-correct-jira-commit-messages-d9910f332273?source=collection_archive---------3-----------------------#2021-03-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/1e73e37a9fc9087523392a5d10c17ee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YaWDmqEJADc8hLBQ2hCtfA.png"/></div></div></figure><p id="027f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">提交消息的内容真的很重要，尤其是当你的团队使用像吉拉这样的工具时，因为有时代码调试过程会更容易，如果你有更多关于当前代码的信息，像<strong class="jx io">吉拉任务id </strong>，你可以找到验收标准和其他有用的信息。</p><p id="4f14" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这里，我将展示如何在提交之前验证吉拉提交消息。</p></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><h1 id="07f5" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">我们开始吧</h1><p id="3693" class="pw-post-body-paragraph jv jw in jx b jy ly ka kb kc lz ke kf kg ma ki kj kk mb km kn ko mc kq kr ks ig bi translated">像往常一样，我们将从安装一些依赖项开始。</p><p id="d4b4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe md me mf mg b">npm i -D @commitlint/cli commitlint-plugin-jira-rules commitlint-config-jira husky</code></p><ul class=""><li id="0d80" class="mh mi in jx b jy jz kc kd kg mj kk mk ko ml ks mm mn mo mp bi translated"><a class="ae mq" href="https://github.com/Gherciu/commitlint-jira" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">【commit lint-config-jira</strong></a>—是一个推荐的配置，包含吉拉提交消息样式的预配置规则。</li><li id="5627" class="mh mi in jx b jy mr kc ms kg mt kk mu ko mv ks mm mn mo mp bi translated"><a class="ae mq" href="https://github.com/conventional-changelog/commitlint" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">@ commit list/CLI</strong></a>—是一个命令行工具，可以lint提交消息。</li><li id="8406" class="mh mi in jx b jy mr kc ms kg mt kk mu ko mv ks mm mn mo mp bi translated"><a class="ae mq" href="https://github.com/typicode/husky" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">husky</strong></a><strong class="jx io"/>—是一个工具，它允许我们轻松地与Git挂钩，并在那些阶段运行我们想要的脚本</li></ul><p id="3bf3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们需要在存储库的根目录下创建一个<code class="fe md me mf mg b">commitlint.config.js</code>文件，在这里我们将配置Commitlint以使用吉拉提交消息风格。</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">commitlint.config.js</figcaption></figure><p id="50a3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我们需要使用<a class="ae mq" href="https://github.com/typicode/husky" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> husky </strong> </a>启用并添加一个<code class="fe md me mf mg b">commit-msg</code> git挂钩，以便在每次尝试提交某个东西时运行Commitlint。</p><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">Enabling Git hooks.</figcaption></figure><p id="4cb0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">通过在您的终端<a class="ae mq" href="https://github.com/typicode/husky" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">中运行这些命令，husky </strong> </a>将启用Git钩子并添加<code class="fe md me mf mg b">commit-msg</code>钩子。</p><p id="e608" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ng">注:如果有人不想使用</em> <strong class="jx io"> <em class="ng">哈士奇v5 </em> </strong> <em class="ng">因为他们现在使用的是临时的</em> <a class="ae mq" href="https://paritylicense.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ng">奇偶公共许可证</em> </strong> </a> <em class="ng">，下面在</em> <strong class="jx io"> <em class="ng">【高级用法】</em> </strong> <em class="ng">一节中你可以阅读如何使用</em> <strong class="jx io"> <em class="ng">哈士奇v4。</em> </strong></p></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><h1 id="8ba6" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">现在我们可以使用它了:)</h1><p id="7f77" class="pw-post-body-paragraph jv jw in jx b jy ly ka kb kc lz ke kf kg ma ki kj kk mb km kn ko mc kq kr ks ig bi translated">让我们提交新文件并测试我们的配置是否有效。</p><p id="8f01" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe md me mf mg b">git commit -am"My new commit message"</code></p><p id="fa42" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该命令将在您的终端中显示一些错误，因为该提交消息不符合<a class="ae mq" href="https://github.com/Gherciu/commitlint-jira#rules-1" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">commit list-config-jira规则</strong> </a> <strong class="jx io">。</strong></p><figure class="mw mx my mz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/6caede2fd92c601a6dfb9d87599726cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-1iBJE3iTLGnqZ5zSCBYCA.png"/></div></div></figure><p id="6394" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们再次提交我们的文件，但这次使用正确的提交消息，它遵循<a class="ae mq" href="https://github.com/Gherciu/commitlint-jira#rules-1" rel="noopener ugc nofollow" target="_blank"><strong class="jx io">commit list-config-jira规则</strong> </a> <strong class="jx io">。</strong></p><p id="59af" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe md me mf mg b">git commit -am"TASK-21: My new commit message"</code></p><p id="0ace" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该命令将显示一条成功消息，如下所示。</p><figure class="mw mx my mz gt jo gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/42c7ec338f509c3808cb9ee0fea2a60f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*nYLotJu4fA9rpabR3A62Sw.png"/></div></figure><p id="4d8a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">🥳 不错！它像预期的那样工作，所以我们可以将代码推送到远程Git服务器。</p></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><h1 id="431b" class="la lb in bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">高级用法🤓</h1><ul class=""><li id="d15d" class="mh mi in jx b jy ly kc lz kg nj kk nk ko nl ks mm mn mo mp bi translated">自定义<code class="fe md me mf mg b">commitlint-jira-config</code>规则。</li></ul><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">commitlint.config.js</figcaption></figure><p id="5d0a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ng">现在我们能够提交包含一个</em> <strong class="jx io"> <em class="ng">【吉拉】任务id </em> </strong> <em class="ng">长于</em> <strong class="jx io"> <em class="ng"> 10个字符</em> </strong> <em class="ng">的消息。</em></p><ul class=""><li id="f30e" class="mh mi in jx b jy jz kc kd kg mj kk mk ko ml ks mm mn mo mp bi translated">关闭一个<code class="fe md me mf mg b">commitlint-jira-config</code>规则。</li></ul><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">commitlint.config.js</figcaption></figure><p id="dcc3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ng">现在</em> <code class="fe md me mf mg b"><em class="ng">jira-task-id-max-length</em></code> <em class="ng">规则被禁用，永远不会检查提交消息长度。</em></p><ul class=""><li id="c08d" class="mh mi in jx b jy jz kc kd kg mj kk mk ko ml ks mm mn mo mp bi translated">如果有人不想使用<strong class="jx io">哈士奇v5 </strong>，因为他们现在使用的是<a class="ae mq" href="https://paritylicense.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">奇偶校验公共许可证</strong> </a>，你可以使用<strong class="jx io">哈士奇v4 </strong>，只要将它添加到你的<code class="fe md me mf mg b">package.json</code>中就可以轻松配置</li></ul><figure class="mw mx my mz gt jo"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">package.json</figcaption></figure><p id="b6e2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">感谢阅读。我希望这有所帮助。</p></div></div>    
</body>
</html>