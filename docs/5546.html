<html>
<head>
<title>Whats is new in Node.js 17 and how can I use it today?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Node.js 17有什么新功能，我现在如何使用它？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/whats-is-new-in-node-js-17-and-how-can-i-use-it-today-a8eb68f13a13?source=collection_archive---------14-----------------------#2021-11-17">https://javascript.plainenglish.io/whats-is-new-in-node-js-17-and-how-can-i-use-it-today-a8eb68f13a13?source=collection_archive---------14-----------------------#2021-11-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/98678a001dad47ef7753284b2a688463.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DoBcw0c-Efp60ZjBZ5fBKw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Node.js Logo with the number 17 added by Author</figcaption></figure><p id="fd97" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Node.js 17是一个多月前发布的，在我的个人机器上运行了一个月后，我认为是时候写一篇关于它对Node.js社区意味着什么的帖子了。</p><p id="fa13" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在发布Node.js 17时，他们已经取代了v16作为当前发布的版本；这使得Node.js 16进入了积极的长期支持模式。对于Node.js 16，这意味着它将一直是当前推荐的LTS版本，直到2022年10月，此后它将只保留错误和安全修复，直到2024年4月退役。</p><p id="2644" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">与所有奇数版本一样，Node.js 17将只有很短的生命周期，其目标是在2022年6月1日寿终正寝(Node.js项目在其网站【https://github.com/nodejs/release<a class="ae la" href="https://github.com/nodejs/release" rel="noopener ugc nofollow" target="_blank"/>上有关于发布过程的文档)。</p><h1 id="2b43" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">在机器上安装Node.js 17</h1><p id="1f3e" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">如果您想尝试新的Node.js特性，您需要将它安装在您的计算机上，如下所示:</p><h2 id="a984" class="me lc iq bd ld mf mg dn lh mh mi dp ll kn mj mk lp kr ml mm lt kv mn mo lx mp bi translated">苹果个人计算机</h2><p id="920d" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">在Mac上安装Node.js最简单的方法是使用Homebrew，它可以分两步完成。</p><p id="e1ad" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">首先，您需要安装Homebrew(如果尚未安装),这可以通过在终端应用程序中运行以下命令来实现:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="dba8" class="me lc iq mv b gy mz na l nb nc">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</span></pre><p id="2602" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">接下来你需要安装<strong class="ke ir"> Node.js </strong> 17本身，为此只需运行:</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="8e1e" class="me lc iq mv b gy mz na l nb nc">brew install node</span></pre><h2 id="64e3" class="me lc iq bd ld mf mg dn lh mh mi dp ll kn mj mk lp kr ml mm lt kv mn mo lx mp bi translated">Windows操作系统</h2><p id="6aa4" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">https://nodejs.org/en/download/current/<a class="ae la" href="https://nodejs.org/en/download/current/" rel="noopener ugc nofollow" target="_blank">有一个简单易用的安装程序，只需点击下载并运行安装程序。</a></p><h1 id="9d00" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">新功能</h1><h2 id="2a3a" class="me lc iq bd ld mf mg dn lh mh mi dp ll kn mj mk lp kr ml mm lt kv mn mo lx mp bi translated">Readline模块是模糊的</h2><p id="b6d6" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">继续Node.js标准库的承诺,<code class="fe nd ne nf mv b">readline</code>模块现在已经被给予了承诺待遇。</p><p id="a5e0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要使用Node.js的新promises版本，您需要从“node:readline/promises”导入库。一旦导入，你就可以像使用async await的其他promise库一样使用它。</p><p id="c27d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">下面是一个简单的例子，使用新的promised<code class="fe nd ne nf mv b">readline</code>编写一个简单的CLI，它暂停一下，询问用户的名字，然后说谢谢。</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="05ba" class="me lc iq mv b gy mz na l nb nc">import * as readline from 'node:readline/promises';</span><span id="a6b8" class="me lc iq mv b gy ng na l nb nc">import { stdin, stdout } from 'process';</span><span id="14b6" class="me lc iq mv b gy ng na l nb nc">const rl = readline.createInterface({ input: stdin, output: stdout });</span><span id="720f" class="me lc iq mv b gy ng na l nb nc">const answer = await rl.question('What is your name? ');</span><span id="7f20" class="me lc iq mv b gy ng na l nb nc">console.log(`Thank you ${answer}`);</span><span id="5666" class="me lc iq mv b gy ng na l nb nc">rl.close();</span></pre><h2 id="75be" class="me lc iq bd ld mf mg dn lh mh mi dp ll kn mj mk lp kr ml mm lt kv mn mo lx mp bi translated">OpenSSL 3.0支持</h2><p id="7a49" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">另一个变化是Node.js 17将OpenSSL的版本升级到版本3。其主要驱动因素是Node.js 16使用的OpenSSL 1.1.1将于2023年11月9日到期，Node.js团队希望开始收集关于OpenSSL升级到v3的反馈。</p><p id="5aa3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">作为升级Node.js以支持OpenSSL 3.0的一部分，决定使用OpenSSL的一个分支，该分支也引入了QUIC API。使用这个分支的目的是使Node.js运行时能够使用QUIC和OpenSSL提供的成熟可靠的TLS功能。</p><h2 id="bb9b" class="me lc iq bd ld mf mg dn lh mh mi dp ll kn mj mk lp kr ml mm lt kv mn mo lx mp bi translated">V8 JavaScript引擎更新至9.5</h2><p id="28ce" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">Node.js 17的最后一个头条功能是升级到9.5版本的V8 JavaScript引擎，该引擎也用于谷歌Chrome。</p><p id="bf62" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">虽然这不是Node.js 16版本以来的主要版本变化，但它引入了一些值得注意的新特性:</p><ul class=""><li id="7819" class="nh ni iq ke b kf kg kj kk kn nj kr nk kv nl kz nm nn no np bi translated">WebAssembly异常处理程序</li><li id="9ad1" class="nh ni iq ke b kf nq kj nr kn ns kr nt kv nu kz nm nn no np bi translated"><a class="ae la" href="https://v8.dev/blog/v8-release-95#intl.displaynames-v2" rel="noopener ugc nofollow" target="_blank">国际机场。显示V2的名字</a></li><li id="4a6f" class="nh ni iq ke b kf nq kj nr kn ns kr nt kv nu kz nm nn no np bi translated"><a class="ae la" href="https://v8.dev/blog/v8-release-95#extended-timezonename-option" rel="noopener ugc nofollow" target="_blank">扩展时区名称选项</a></li></ul><h1 id="acc3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">概括起来</h1><p id="8a5b" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">大多数企业不会在生产中使用Node.js 17，因为与偶数编号的LTS版本相比，它的保质期有限。</p><p id="6645" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">也就是说，作为开发人员，我们需要使用该语言的最新版本，这样我们就可以继续向Node.js团队反馈这些新功能对我们日常开发的影响。</p><p id="fe55" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我在这里经常遇到的折衷办法是对大型生产项目使用LTS版本，对较小的内部项目使用最新版本，这样我就有机会使用最新版本及其新的API。</p></div><div class="ab cl nv nw hu nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="ij ik il im in"><p id="ef36" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你觉得这篇文章有帮助，请告诉我，如果你喜欢这篇文章，我鼓励你关注我，这样你就可以阅读更多我的文章。</p><p id="8752" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你想支持我的帖子，并且你还不是Medium的成员，那么请随意加入https://jonthanfielding.medium.com/membership的<a class="ae la" href="https://jonthanfielding.medium.com/membership" rel="noopener"/>。</p></div><div class="ab cl nv nw hu nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="ij ik il im in"><p id="73ba" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="oc">更多内容请看</em><a class="ae la" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir"><em class="oc">plain English . io</em></strong></a></p></div></div>    
</body>
</html>