<html>
<head>
<title>How to set up and optimise the CLI on your Mac</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Mac上设置和优化命令行界面</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-setup-and-optimise-the-cli-on-your-mac-c91d151a25c8?source=collection_archive---------11-----------------------#2021-07-07">https://javascript.plainenglish.io/how-to-setup-and-optimise-the-cli-on-your-mac-c91d151a25c8?source=collection_archive---------11-----------------------#2021-07-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/28f4c177c22b27aa81056254c122cbd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y143NPxAwaJxpY9Mq7Ix1w@2x.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Screenshot of authors CLI running OhMyZsh in iTerm2</figcaption></figure><p id="1b23" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">作为一名在Mac上大量工作的开发人员，我花了很多年来调整和优化我如何配置我的CLI来改善我的体验。</p><p id="7f84" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">今天，我想我会分享你如何开始定制自己的CLI，使它更好地为你服务。</p><h1 id="1db0" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">安装自制软件</h1><p id="11e2" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">当我安装Mac时，我总是做的第一件事是打开默认的终端应用程序并安装<strong class="ke ir">自制软件</strong>。Homebrew自称为“macOS的缺失包管理器”,是一个易于使用的工具，可以在Mac上安装各种应用程序(包括CLI和GUI)。</p><p id="18f2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了安装<code class="fe md me mf mg b">homebrew</code>,我们可以在我们的终端中运行下面的命令，它使用curl获取一个安装脚本并执行它。</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="8bc8" class="mp lb iq mg b gy mq mr l ms mt">/bin/bash -c "$(curl -fsSL <a class="ae mu" href="https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh</a>)"</span></pre><h1 id="cf74" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">安装iTerm2</h1><p id="ad6f" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">虽然内置的终端应用程序在过去几年中已经得到了改进，对标签等东西的支持更好了，但我更喜欢使用iTerm2，它提供了更多强大的功能。</p><p id="9250" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要安装iTerm2，我们可以使用homebrew的<code class="fe md me mf mg b">--cask</code>标志，它使我们能够安装GUI应用程序。这是按如下方式完成的:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="df2e" class="mp lb iq mg b gy mq mr l ms mt">brew install --cask iterm2</span></pre><p id="a511" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">安装完成后，我们可以关闭目前使用的内置终端应用程序，打开iTerm2😀。</p><h1 id="5bbd" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">安装我的天啊</h1><p id="1089" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">由于Zsh是macOs上使用的默认shell，下一步就是安装<strong class="ke ir"> Oh My Zsh </strong>。</p><p id="d3c9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">哦，我的Zsh是一个管理你的Zsh配置的框架，它捆绑了成千上万的有用的功能，助手，插件，主题，将帮助你定制你的终端。</p><p id="ed5c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">类似于我们如何安装家酿，我们可以使用curl命令来安装Oh My Zsh。</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="aaed" class="mp lb iq mg b gy mq mr l ms mt">sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"</span></pre><p id="00fa" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">随着<strong class="ke ir"> Oh My Zsh </strong>的安装，你会看到你的终端现在已经设置好了，将会有一个默认的主题和一些基础插件设置。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/94bd7ad54dbde0170a247c06056a3bba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z2ZZC5rVcYwgyUli8iL2zw@2x.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Screenshot of default Oh My Zsh setup taken by author</figcaption></figure><h1 id="a0a9" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">更改CLI的外观</h1><p id="a2c1" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">随着<strong class="ke ir"> Oh My Zsh </strong>的安装，我们现在可以开始定制它了！</p><p id="3eb5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">首先，让我们通过改变主题来改变终端的外观。为了找到主题，我们可以去https://github.com/ohmyzsh/ohmyzsh/wiki/Themes的主题馆看看。</p><p id="a27d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">看着那个画廊，我决定尝试一下af-magic。要设置主题，你需要打开你的<code class="fe md me mf mg b">.zshrc</code>文件，搜索<code class="fe md me mf mg b">ZSH_THEME</code>，将值改为你喜欢的主题的名称，如下所示。</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="6682" class="mp lb iq mg b gy mq mr l ms mt">ZSH_THEME="af-magic"</span></pre><p id="2014" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">接下来，用新的主题重新加载我们的终端配置，我们应该<code class="fe md me mf mg b">source</code>我们的配置文件，使用:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="1daf" class="mp lb iq mg b gy mq mr l ms mt">source ~/.zshrc</span></pre><p id="5f17" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这将重新加载配置，我们现在将看到我们的新终端。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/4e9c0227f60281f38d342862cc9670c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a1o1xkDEkCgH9SMTU3sSMw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Screenshot of customised theme setup by author</figcaption></figure><h1 id="014e" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">使用插件添加附加功能</h1><p id="ad1f" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">下一步是开始通过插件为我们的终端定制额外的功能。</p><p id="d550" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">开箱即用，<strong class="ke ir">哦，我的Zsh </strong>带有各种各样你可以启用的插件，完整列表可以在<a class="ae mu" href="https://github.com/ohmyzsh/ohmyzsh/wiki/Plugins" rel="noopener ugc nofollow" target="_blank">https://github.com/ohmyzsh/ohmyzsh/wiki/Plugins</a>找到。</p><p id="d02b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要启用任何内置插件，我们只需编辑<code class="fe md me mf mg b">.zshrc</code>配置文件并搜索“plugins= ”,默认情况下，该值将被设置为<code class="fe md me mf mg b">(git)</code>。作为一个全栈网络开发人员，我经常使用的两个插件是<code class="fe md me mf mg b">nvm</code>和<code class="fe md me mf mg b">npm</code>，我们把它们添加到下面，用空格分开，如下所示:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="c00f" class="mp lb iq mg b gy mq mr l ms mt">plugins=(git npm nvm)</span></pre><p id="7e4d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">像以前一样，我们将使用<code class="fe md me mf mg b">source</code>命令用新的插件配置重新加载我们的终端配置:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="5f0a" class="mp lb iq mg b gy mq mr l ms mt">source ~/.zshrc</span></pre><p id="3f59" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这将重新加载配置，我们现在将能够使用它启用的命令。</p><p id="9739" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">除了内置插件，还有一个开发者社区为<strong class="ke ir"> Oh My Zsh </strong>开发第三方插件。我每天使用的一个是<code class="fe md me mf mg b">zsh-autosuggestions</code>,它会根据你的历史和完成情况在你输入命令时给出建议。</p><p id="75da" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">与内置插件不同，安装第三方插件有一个额外的步骤，就是将它们下载到自定义文件夹。对于之前提到的<code class="fe md me mf mg b">zsh-autosuggestions</code>,我们可以做以下事情:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="7fe2" class="mp lb iq mg b gy mq mr l ms mt">git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions</span></pre><p id="ac13" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">一旦插件就位，就可以编辑<code class="fe md me mf mg b">.zshrc</code>配置文件并像以前一样更新` plugins= `选项，这次包括我们新插件的名称。</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="68d7" class="mp lb iq mg b gy mq mr l ms mt">plugins=(git npm nvm zsh-autosuggestions)</span></pre><p id="634f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">同样，我们必须使用新插件重新加载我们终端的配置:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="b0c9" class="mp lb iq mg b gy mq mr l ms mt">source ~/.zshrc</span></pre><p id="952d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="mw">注意:你添加到shell中的大多数插件和扩展都会增加它的加载时间，所以请小心操作</em></p><h1 id="bf3c" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">其他ZSH选项</h1><p id="abcb" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">除了使用“哦，我的Zsh ”,我还在我的<code class="fe md me mf mg b">.zshrc</code>文件中添加了一些其他设置，以使使用终端更容易</p><ul class=""><li id="6da6" class="my mz iq ke b kf kg kj kk kn na kr nb kv nc kz nd ne nf ng bi translated"><strong class="ke ir"> setopt share_history </strong>:该设置使您能够在所有打开的shells之间共享历史。我个人认为这在我使用Kubernetes时非常有用，我经常需要对多个集群运行相同的命令，我在iTerm的多个窗格中执行这些命令，共享历史意味着我可以在一个窗格中执行命令，然后在另一个窗格中执行命令，而不必在两个窗格之间复制粘贴。</li><li id="ec3f" class="my mz iq ke b kf nh kj ni kn nj kr nk kv nl kz nd ne nf ng bi translated">setopt autocd :这个设置意味着我可以简单地输入或粘贴一个文件夹的路径，它会带我到那里，而不需要我在文件夹路径前输入<code class="fe md me mf mg b">cd</code>。</li><li id="beb3" class="my mz iq ke b kf nh kj ni kn nj kr nk kv nl kz nd ne nf ng bi translated"><strong class="ke ir"> setopt correct </strong>:该设置使zsh能够在我打错命令时提供建议，然后通过按<code class="fe md me mf mg b">y</code>选择运行正确的命令。</li></ul><h1 id="f9ac" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">使用别名进一步定制</h1><p id="c56b" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">除了主题、插件和zsh选项，我们还可以为常用命令添加别名。</p><p id="d7be" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了避免我们的<code class="fe md me mf mg b">.zshrc</code>文件夹变得凌乱，我们可以利用<strong class="ke ir"> Oh My Zsh </strong>中的一个特性，将它们放在自己的文件中。哦，我的Zsh 将自动加载我们按字母顺序放入<code class="fe md me mf mg b">~/.oh-my-zsh/custom/</code>的任何文件，所以我们可以用我们所有的别名创建一个<strong class="ke ir"> aliases.zsh </strong>文件，将它们保存在一个地方。这是我的样子:</p><pre class="mh mi mj mk gt ml mg mm mn aw mo bi"><span id="d140" class="mp lb iq mg b gy mq mr l ms mt"># edit this aliases file in visual studio code<br/>alias edit-alias="code -n ~/.oh-my-zsh/custom/alias.zsh"</span><span id="66be" class="mp lb iq mg b gy nm mr l ms mt"># reload zsh config<br/>alias reload="source ~/.zshrc"</span><span id="a638" class="mp lb iq mg b gy nm mr l ms mt"># navigate to Sites directory<br/>alias sites="cd ~/Sites"</span><span id="d5aa" class="mp lb iq mg b gy nm mr l ms mt"># navigate to open source projects<br/>alias os="cd ~/Sites/_open_source"</span></pre><p id="5f02" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">用化名可以做的事情太多了，我可以写一整篇文章来介绍你能做的所有很酷的事情。幸运的是<a class="nn no ep" href="https://medium.com/u/348042aca5a2?source=post_page-----c91d151a25c8--------------------------------" rel="noopener" target="_blank"> Yankee Maharjan </a>已经写了一篇很棒的关于别名的文章，所以我推荐你去看看:</p><div class="np nq gp gr nr ns"><a href="https://blog.lftechnology.com/command-line-productivity-with-zsh-aliases-28b7cebfdff9" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">ZSH别名的命令行效率</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">如果你使用的是Linux，那么终端就是你做大部分事情的地方。使用CLI很酷，但是…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">blog.lftechnology.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og jw ns"/></div></div></a></div><h1 id="d6f4" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结论</h1><p id="48c3" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">这篇文章将带你了解我在新系统上设置终端时的基本设置。除此之外，我还有一些包含额外别名的点文件，这些别名使我在CLI上的生活更容易，我从GitHub下载了这些文件，并包含在我的系统路径中。</p><p id="5726" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果有其他人可以推荐的<code class="fe md me mf mg b">zsh</code>插件，那么请回复这篇文章，让我知道，这样我就可以给他们一个尝试。</p><p id="3892" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="mw">更多内容看</em> <a class="ae mu" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir"> <em class="mw">说白了. io </em> </strong> </a></p></div></div>    
</body>
</html>