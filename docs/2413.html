<html>
<head>
<title>Show Your Spotify Status with the use-last-fm React Hook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用use-last-fm React挂钩显示您的Spotify状态</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/showing-your-spotify-status-using-use-last-fm-react-hook-20ce6ba576e2?source=collection_archive---------16-----------------------#2021-05-18">https://javascript.plainenglish.io/showing-your-spotify-status-using-use-last-fm-react-hook-20ce6ba576e2?source=collection_archive---------16-----------------------#2021-05-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="18e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好吧！如果你曾经在我听音乐的时候访问过<a class="ae kl" href="https://driaug.com/" rel="noopener ugc nofollow" target="_blank">我的个人网站</a>，你可能会看到这条弹出的小消息。给你一些我正在听的音乐的实时信息。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi km"><img src="../Images/3aa2a2ff84e49d33c42cbfc9a6e16806.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*-GGtRFf_iQqcEVVVTDdmAw.png"/></div></figure><p id="bbd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天，我将指导您完成这个设置，这样您就可以将自己的投资组合网站提升到另一个水平！所以，拿起你最喜欢的代码编辑器，让我们开始吧！</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ku"><img src="../Images/fc54920ec3f9a23e781caefd8dd310ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TLgok3XDsYDq34aMZHkxHw.jpeg"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Picture by C D-X (<a class="ae kl" href="https://unsplash.com/@cdx2" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/@cdx2</a>)</figcaption></figure><h1 id="abe0" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">我们需要什么</h1><ul class=""><li id="ae27" class="mb mc iq jp b jq md ju me jy mf kc mg kg mh kk mi mj mk ml bi translated">React项目</li><li id="7e1a" class="mb mc iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated">last.fm API令牌</li><li id="53af" class="mb mc iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated"><a class="ae kl" href="https://github.com/alii/use-last-fm/" rel="noopener ugc nofollow" target="_blank">使用-最后-调频</a></li></ul><h2 id="9311" class="mr le iq bd lf ms mt dn lj mu mv dp ln jy mw mx lr kc my mz lv kg na nb lz nc bi translated">创建React项目</h2><p id="3eae" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">第一步很简单，转到一个现有的React项目或者用下面的命令创建一个新的项目！</p><pre class="kn ko kp kq gt ng nh ni nj aw nk bi"><span id="964a" class="mr le iq nh b gy nl nm l nn no"> npx create-react-app last-fm</span></pre><p id="4633" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当您在这里时，也安装我们需要的依赖项。我们将使用<a class="ae kl" href="https://github.com/alii/use-last-fm/" rel="noopener ugc nofollow" target="_blank">阿利斯泰尔·史密斯的“最后使用”挂钩</a>。</p><pre class="kn ko kp kq gt ng nh ni nj aw nk bi"><span id="bfb9" class="mr le iq nh b gy nl nm l nn no">npm i --save use-last-fm</span><span id="a0b9" class="mr le iq nh b gy np nm l nn no">// OR</span><span id="a7ea" class="mr le iq nh b gy np nm l nn no">yarn add use-last-fm</span></pre><h2 id="03c1" class="mr le iq bd lf ms mt dn lj mu mv dp ln jy mw mx lr kc my mz lv kg na nb lz nc bi translated">获取last.fm令牌</h2><p id="0671" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">首先，去<a class="ae kl" href="https://www.last.fm/" rel="noopener ugc nofollow" target="_blank"> last.fm </a>创建一个账户，如果你还没有的话。<br/>打开账户后，转到“设置”中的“应用程序”标签，打开Spotify Scrobbling。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi nq"><img src="../Images/29af68bd0100c64663a4838b0ac6a633.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*POtltClFWObWj7padAfRVQ.png"/></div></div></figure><p id="ccf2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们需要做的就是获得您的个人API密钥！为此，您需要创建一个新的API应用程序。你可以在这里做这个<a class="ae kl" href="https://www.last.fm/api/authentication" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="b77d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你没有被自动重定向，你可以去<a class="ae kl" href="https://www.last.fm/api/accounts" rel="noopener ugc nofollow" target="_blank">你的api账户</a>，在那里你会找到你的应用程序。继续复制API密钥，因为我们将需要它！</p><h1 id="ebf8" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">是时候做出反应了</h1><p id="1ad7" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">在你创建了你的API账户之后，你就可以开始编写一些很酷的React组件了！</p><p id="5bcf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您已经有了一个想要实现它的React项目，那么继续创建一个新的组件。如果你只是来试试的话。进入<code class="fe nr ns nt nh b">App.js</code>，移除里面的所有东西，并添加以下项目！</p><p id="268c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先我们需要导入use-last-fm。</p><pre class="kn ko kp kq gt ng nh ni nj aw nk bi"><span id="1513" class="mr le iq nh b gy nl nm l nn no">i<!-- -->mport { useLastFM } from "use-last-fm"</span></pre><p id="cb73" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你需要调用组件内部的钩子。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="1932" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">确保将挂钩的参数更改为您自己的last.fm用户名和生成的API密钥！</p><p id="4506" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">use-last-fm有一个非常方便的属性叫做<code class="fe nr ns nt nh b">status</code>，它会根据你的Spotify状态而改变。我们使用这个状态属性来显示一条消息或我们正在播放的实际歌曲。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="26d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如你所见，我们不需要太多。一个简单的三元运算符就可以完成这项工作！<br/>在这个基本示例中，我们只显示了歌曲名称和艺术家，但是use-last-fm给了我们更多的信息！</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/3d4d99592e7a1fc7db4ae20b416cb8c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*M-blbeDbfumk5ISJo55IsQ.png"/></div></figure><p id="da10" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用<code class="fe nr ns nt nh b">song</code>的这5个属性，你可以创建非常酷的组件！<br/>您甚至可以制作精美的动画或复活节彩蛋，可能性无穷无尽！</p><p id="5d7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是我想到的一些很酷的主意！</p><ul class=""><li id="58b2" class="mb mc iq jp b jq jr ju jv jy nx kc ny kg nz kk mi mj mk ml bi translated">如果当前歌曲来自您最喜爱的艺术家，则显示一条可爱的消息</li><li id="a603" class="mb mc iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated">根据相册封面，更改页面的主要颜色</li></ul><h2 id="033f" class="mr le iq bd lf ms mt dn lj mu mv dp ln jy mw mx lr kc my mz lv kg na nb lz nc bi translated">寻找一些有创意的例子？</h2><p id="afa5" class="pw-post-body-paragraph jn jo iq jp b jq md js jt ju me jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">在这里你可以找到一些很好的利用use-last-fm的网站列表！</p><ul class=""><li id="66c6" class="mb mc iq jp b jq jr ju jv jy nx kc ny kg nz kk mi mj mk ml bi translated"><a class="ae kl" href="https://driaug.com/" rel="noopener ugc nofollow" target="_blank"> Dries augustyns </a></li><li id="16b0" class="mb mc iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated"><a class="ae kl" href="https://alistair.cloud/" rel="noopener ugc nofollow" target="_blank">阿利斯泰尔·史密斯</a></li><li id="9440" class="mb mc iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated">特万·穆德</li></ul></div><div class="ab cl oa ob hu oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="ij ik il im in"><p id="cab8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">祝你有创意的一天！💗</p><p id="e36a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="oh">更多内容请看</em><a class="ae kl" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="oh">plain English . io</em></strong></a></p></div></div>    
</body>
</html>