<html>
<head>
<title>Check if Scrollbar is Visible with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript检查滚动条是否可见</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-check-if-a-scrollbar-is-visible-with-javascript-95aced8b420d?source=collection_archive---------13-----------------------#2021-07-14">https://javascript.plainenglish.io/how-to-check-if-a-scrollbar-is-visible-with-javascript-95aced8b420d?source=collection_archive---------13-----------------------#2021-07-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5b55" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何用JavaScript检查滚动条是否可见</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/406c9e6f757ccafe63880c84a7bdbf77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yV8mm-v1a1rqffE-"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@dancristianp?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Dan-Cristian Pădureț</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7860" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时，我们可能想要检查滚动条在我们的JavaScript web应用程序中是否可见。</p><p id="023e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将看看如何用JavaScript检查滚动条是否可见。</p><h1 id="0cdb" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">比较scrollHeight和clientHeight</h1><p id="a95f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">HTML元素的<code class="fe mp mq mr ms b">scrollHeight</code>属性是一个只读属性，用于度量元素内容的高度。</p><p id="3d36" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它包括由于溢出而在屏幕上不可见的内容。</p><p id="d05c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它是用像素来衡量的。</p><p id="c3f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">HTML元素的<code class="fe mp mq mr ms b">clientHeight</code>属性是一个只读属性，对于没有CSS或内联框架布局的元素为零。</p><p id="b5ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它是内部高度的像素数，包括填充，但不包括边框、边距和水平滚动条。</p><p id="5ecf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我们可以比较元素的<code class="fe mp mq mr ms b">scrollHeight</code>和它的<code class="fe mp mq mr ms b">clientHeight</code>来决定是否显示滚动条。</p><p id="0d5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果<code class="fe mp mq mr ms b">scrollHeight</code>比<code class="fe mp mq mr ms b">clientHeight</code>大，那么我们知道滚动条会被显示，因为会有溢出的文本。</p><p id="d2ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以编写以下HTML:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="69d0" class="mx lt iq ms b gy my mz l na nb">&lt;p&gt;<br/>  hello world<br/>&lt;/p&gt;</span><span id="c126" class="mx lt iq ms b gy nc mz l na nb">&lt;div style='height: 100px; overflow-y: auto'&gt;<br/>  <br/>&lt;/div&gt;</span></pre><p id="d4d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们可以编写下面的JavaScript:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="4af4" class="mx lt iq ms b gy my mz l na nb">const scrollbarVisible = (element) =&gt; {<br/>  return element.scrollHeight &gt; element.clientHeight;<br/>}</span><span id="c443" class="mx lt iq ms b gy nc mz l na nb">const p = document.querySelector('p')<br/>const div = document.querySelector('div')</span><span id="b3dc" class="mx lt iq ms b gy nc mz l na nb">for (let i = 1; i &lt;= 100; i++) {<br/>  const p = document.createElement('p')<br/>  p.textContent = i<br/>  div.appendChild(p)<br/>}</span><span id="918c" class="mx lt iq ms b gy nc mz l na nb">console.log(scrollbarVisible(p))<br/>console.log(scrollbarVisible(div))</span></pre><p id="f647" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们创建了<code class="fe mp mq mr ms b">scrollbarVisible</code>函数来返回<code class="fe mp mq mr ms b">element</code>的<code class="fe mp mq mr ms b">scrollHeight</code>与其<code class="fe mp mq mr ms b">clientHeight</code>的比较结果。</p><p id="d573" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们用<code class="fe mp mq mr ms b">document.querySelector</code>得到p和div元素。</p><p id="3b23" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们有一个for循环来创建p元素，并将它们作为div的子元素追加。</p><p id="d146" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于我们将div的高度设置为100像素，并将<code class="fe mp mq mr ms b">overflow-y</code>设置为<code class="fe mp mq mr ms b">auto</code>，所以我们可以滚动我们添加的内容。</p><p id="108b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们记录p和div元素上的<code class="fe mp mq mr ms b">scrollbarVisible</code>函数的返回结果。</p><p id="239f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么第一个控制台日志应该记录<code class="fe mp mq mr ms b">false</code>，因为没有溢出的内容。</p><p id="b747" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二控制台日志应该记录<code class="fe mp mq mr ms b">true</code>，因为有溢出的内容。</p><h1 id="7c74" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="1e0e" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">为了检查一个元素是否有滚动条，我们可以比较<code class="fe mp mq mr ms b">scrollHeight</code>值和它的<code class="fe mp mq mr ms b">clientHeight</code>值，两者都是以像素为单位。</p><p id="5552" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nd">更多内容请看</em><a class="ae kv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nd">plain English . io</em></strong></a></p></div></div>    
</body>
</html>