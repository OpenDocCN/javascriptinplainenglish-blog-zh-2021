<html>
<head>
<title>Turn Your Mouse into a Paintbrush with Canvas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用画布把你的鼠标变成画笔</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/turn-your-mouse-into-a-paintbrush-710d06646e76?source=collection_archive---------8-----------------------#2021-09-16">https://javascript.plainenglish.io/turn-your-mouse-into-a-paintbrush-710d06646e76?source=collection_archive---------8-----------------------#2021-09-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="3cd8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://medium.com/p/e7594e77a8e8" rel="noopener">在上一篇文章</a>中，我们学习了如何使用画布绘制一些基本的形状，在这篇文章中，我们开始做一些有趣的演示。</p><p id="9fb3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这张gif展示了我们在文章中的最终项目:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/d74829c5a0d9ac1697445a2e43c4d57c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Lkn2b9i-olJaVvBvZlJZXQ.gif"/></div></div></figure><p id="8db0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">效果是:当我们的鼠标在页面上移动时，页面会自动生成一个轨迹。这是绘图软件中很常见的功能，那么我们是如何实现的呢？</p><p id="bde7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先要明白一个基本原理，就是这种曲线可以看成是大量的点。如果我们在鼠标每次经过的位置画一个点，连续画很多个点之后，这些点看起来就像一条曲线。</p><p id="c51a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那么如何画出这些点呢？其实一个点就是一个圆，我们在上一篇文章中已经介绍过了。</p><p id="2acd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里我们可以写一个专门用来画点的函数:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="eb5b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在画点的时候，我们需要从外部传入<code class="fe la lb lc ld b">context</code>对象和圆心的坐标，我们在函数中自己设置圆的颜色和半径。</p><p id="7134" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">之后我们要监听canvas元素的<code class="fe la lb lc ld b">onmouseover</code>事件，每次触发事件都要在鼠标当前位置画一个点。</p><pre class="kn ko kp kq gt le ld lf lg aw lh bi"><span id="2f03" class="li lj iq ld b gy lk ll l lm ln">document.getElementById("canvas").onmousemove = function (event) {<br/>  drawPoint(context, event.clientX, event.clientY)<br/>}</span></pre><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="a199" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是上面的代码有一个缺陷:我们想只在用户按住鼠标的时候画，鼠标按下的时候不再画。所以我们可以优化上面的代码。</p><p id="bfb3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以我们可以把代码改成这样:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="bbe9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="lo">更多内容尽在</em><a class="ae kl" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="lo">plain English . io</em></strong></a></p></div></div>    
</body>
</html>