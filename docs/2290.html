<html>
<head>
<title>Sourcing JSON Data with gatsby-source-filesystem and GraphQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用gatsby-source-filesystem和GraphQL获取JSON数据</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/sourcing-json-data-with-gatsby-source-filesystem-and-graphql-6fc7cef2a49e?source=collection_archive---------2-----------------------#2021-05-13">https://javascript.plainenglish.io/sourcing-json-data-with-gatsby-source-filesystem-and-graphql-6fc7cef2a49e?source=collection_archive---------2-----------------------#2021-05-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="d99c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">学习盖茨比第二步</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8d6a443c8342e7467c159cb7689d795b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8nVvceKzDOb6qLJ-MygLcw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Make persistent efforts — 再接再厉</figcaption></figure></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><p id="dbe9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我的<a class="ae lf" href="https://xiaominzhu.medium.com/learn-by-doing-use-gatsby-to-create-your-first-site-af7bfb7a8a6f" rel="noopener">上一篇文章</a>中，我从最基本的步骤开始，创建了两个可以相互链接的简单页面。</p><p id="8b61" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但盖茨比是在<strong class="jm io"> React </strong>和<strong class="jm io"> GraphQL </strong>的基础上，结合前端领域最先进的工具如<strong class="jm io"> webpack </strong>、<strong class="jm io"> babel </strong>、<strong class="jm io"> react-router </strong>等。，可以给开发者非常好的开发体验，既然是这样，就不应该仅仅局限于直接在组件中写<strong class="jm io">硬编码数据</strong>。</p><p id="c3a7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lg"> Gatsby提供数据预读，在浏览器空闲时提前读取链接对应的页面内容。</em></p><p id="2013" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">数据的来源可以是多样化的:<strong class="jm io">无头</strong> <strong class="jm io"> CMS </strong>，<strong class="jm io"> markdown </strong>，<strong class="jm io">数据库</strong>，<strong class="jm io">API</strong>……盖茨比提供了各种类型的<strong class="jm io">插件</strong>，功能丰富强大。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><p id="b4e2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">盖茨比里有<strong class="jm io">三种</strong>类型的插件:数据源插件(<strong class="jm io">源</strong>)、数据转换插件(<strong class="jm io">转换器</strong>)、函数插件(<strong class="jm io">插件</strong>)。</p><p id="96a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">👉<strong class="jm io">数据源插件</strong>:负责<strong class="jm io">从应用程序外部获取</strong>数据，并将数据放入Gatsby的数据层。</p><p id="8209" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">👉<strong class="jm io">数据转换插件</strong>:负责<strong class="jm io">转换</strong>特定类型数据的格式，比如将markdown文件中的内容转换成对象形式。</p><p id="56ce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">👉<strong class="jm io">功能插件</strong>:为应用程序提供<strong class="jm io">功能</strong>，比如通过插件让应用程序少支持或者打字。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><p id="e4d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本文中，我想分享我上周学到的东西:用GraphQL从文件系统中获取数据。这需要两个插件:</p><p id="cff8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">🎋gatsby-source-filesystem </strong>:用于从文件系统创建文件节点，将本地文件中的数据添加到数据层。</p><p id="705f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">🌾gatsby-transformer-json </strong>:将原来的json格式转换成JavaScript对象。</p><p id="4b42" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们试一试:</p><p id="0c00" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">1.通过运行以下命令将<strong class="jm io">Gatsby-source-file system</strong>和<strong class="jm io">Gatsby-transformer-JSON</strong>添加到您的gatsby starter项目中:(*您可以使用我的<a class="ae lf" href="https://xiaominzhu.medium.com/learn-by-doing-use-gatsby-to-create-your-first-site-af7bfb7a8a6f" rel="noopener">上一篇文章</a>中的starter项目)</p><p id="b112" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lg">yarn add Gatsby-source-file system Gatsby-transformer-JSON</em>(也可以使用<strong class="jm io"> npm </strong></p><p id="e981" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">2.在<strong class="jm io"> gatsby-config.js </strong>文件中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lh"><img src="../Images/f43c327d9aec3befccb9ea3068e42f36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zdJxef_CJ1BWk-ttJegCyg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Ignore the <strong class="bd li">siteMetadata </strong>object for now, we will get there later</figcaption></figure><p id="50b1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lg">如果有多组数据，可以通过指定gatsby-config.js文件中config对象的name属性来查询具体的数据，</em> <strong class="jm io"> path </strong>这里是JSON文件的路径，也可以更改。</p><p id="5e40" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">3.创建包含数据的JSON文件，在我的例子中是在<strong class="jm io"> src/data/dogs.json </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lj"><img src="../Images/c4ae1badf9e78bc90c98a019b052f744.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7_yTrJEHS-gndJgmn9Cjiw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Example dogs.json file</figcaption></figure><p id="4e2d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">4.创建一个导入组件的页面，在我的例子中<strong class="jm io"> src/pages/doggy.js，</strong>标题<strong class="jm io">标题</strong>和<strong class="jm io">链接</strong>来自我的<a class="ae lf" href="https://xiaominzhu.medium.com/learn-by-doing-use-gatsby-to-create-your-first-site-af7bfb7a8a6f" rel="noopener">上一篇文章</a>，如果你不使用它，就删除它们，<strong class="jm io"> </strong>我们现在将创建doggy组件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/a272223e5772a1c9ac0b819fcfcce15d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*H72YSaK8qWQ0dCogcNXhhw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Import Header, Doggy components from doggy page</figcaption></figure><p id="a548" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">5.创建<strong class="jm io"> Doggy.js </strong>组件，我在<strong class="jm io"> src/components/Doggy，</strong>project<strong class="jm io"/>structer如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/76e3ad6e0ae3ec6f2778a6fe979bc85b.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*l5o5UaC4CZ8R09kU8n0Dfg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">You can also create scss module for each file to make some styling</figcaption></figure><p id="591d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在Gatsby中，提供了一个统一的存储数据的地方，叫做<strong class="jm io">数据层</strong>。在构建应用程序时，Gatsby会从外部获取数据，并将数据放入数据层，组件可以直接从数据层查询数据。</p><p id="4ede" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">🧤数据层是使用GraphQL构建的。调试工具:<strong class="jm io">http://localhost:8000/_ _ _ graph QL</strong>。</p><p id="2bd7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<strong class="jm io"> Gatsby v1 </strong>中，你只能在<strong class="jm io">页面级</strong>获取数据，并以基本的React方式将它们作为道具通过组件树向下传递，但是现在在<strong class="jm io"> v3 </strong>中，你可以通过<strong class="jm io"> useStaticQuery </strong>在<strong class="jm io">组件级</strong>获取数据，其中<strong class="jm io"> </strong>是一个React钩子，这使得获取数据变得超级简单。</p><p id="1293" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">6.让我们试一试，更新<strong class="jm io"> Doggy.js </strong>组件如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lm"><img src="../Images/f38e42d88bf882023662993dc7afe3f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z9XHN2lmnPOeCz0jGDIT6A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">src/components/Doggy/Doggy.js</figcaption></figure><p id="ddfb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里发生了什么:</p><p id="abc2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">🌸 1.我们从gatsby导入<strong class="jm io"> useStaticQuery </strong> Hook和<strong class="jm io"> graphql </strong>，获取并渲染来自<strong class="jm io"> dogs.json </strong>文件的JSON数据。</p><p id="e0b0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">🌸 2.我们正在创建一个名为<strong class="jm io"> DogsQuery </strong>的查询，您可以随意命名，我选择将其命名为<strong class="jm io"> Query </strong>并返回<strong class="jm io">数据，</strong>它们是关于狗的，因此查询名称将为<strong class="jm io"> DogsQuery。</strong></p><p id="8276" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lg">还记得我们之前提到的</em><strong class="jm io"><em class="lg">http://localhost:8000/_ _ _ graph QL</em></strong><em class="lg">吗？现在打开这个链接，你会看到</em><strong class="jm io"><em class="lg">GraphiQL</em></strong><em class="lg">，它是GraphiQL集成开发环境(IDE)，你可以点击，摆弄数据。</em></p><p id="e865" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lg">🤲🏻我们要查询的数据基本上都在</em> <strong class="jm io"> <em class="lg">下all file</em></strong><em class="lg">→</em><strong class="jm io"><em class="lg">edges→node</em></strong><em class="lg">，</em><strong class="jm io"><em class="lg">node</em></strong><em class="lg">是graphql中一个</em> <strong class="jm io"> <em class="lg">对象</em> </strong> <em class="lg">的专用名称，每个文件节点都包含了你要查询的字段。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ln"><img src="../Images/69e353eea6aac4bc3c52d82f0ec319c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b2PThshtVtChPbQH1ERyVQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><em class="lo">Node contains the field you want to query, </em>in our case: dogs.json</figcaption></figure><p id="c528" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在打开<strong class="jm io"> allDogsJson </strong>查询，看起来如下图:👇</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ln"><img src="../Images/8a86922a831eebe1a2544a60d2259d94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dNHll1VQD7oWfDCfqbzGTQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Choose the checkboxes on the left side which you would like to query, and click on <strong class="bd li">run</strong> button in the middle, the results appears on the right side</figcaption></figure><p id="6537" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本例中，右侧的结果数据(<strong class="jm io">年龄、姓名、爱好</strong>)来自我们之前创建的JSON文件。</p><p id="62e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">👆<em class="lg">从上面你可以看到，我们查询的json的名称(</em><strong class="jm io"><em class="lg">【allDogsJson】</em></strong><em class="lg">)是与Json文件的名称(</em><strong class="jm io"><em class="lg">dogs . JSON</em></strong><em class="lg">)一致的，这是默认的命名约定，不过你也可以在gatsby-config.js. </em>里面修改它</p><p id="07b4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">🌸 3.在<strong class="jm io"> allDogsJson </strong>中，我们有边、节点和我们希望从查询中返回的值，在本例中:<strong class="jm io">狗的名字、年龄、爱好</strong>。</p><p id="7393" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lg">如果我们在控制台中记录数据:</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lp"><img src="../Images/03a546f35e75701f32099c478602eb02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iMRdEaiCgDNqa5F2vlBbNQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">console.log({data})</figcaption></figure><p id="7342" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">7.保存文件，进入<strong class="jm io">http://localhost:8000/doggy</strong>，没错！<strong class="jm io">💫</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lq"><img src="../Images/b0e978d5d0b4418c4ed05c5a40030d86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JCZ5YMOwwcDhLFnPwbEyAQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">The doggy Page which renders our JSON data ( Header and Link are from my last article )</figcaption></figure></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><p id="d77d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">📝还记得之前<strong class="jm io">步骤2 </strong>中被忽略的<strong class="jm io"> siteMetadata </strong>对象吗？让我们快速看一下:</p><p id="0578" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在GraphiQL编辑器中执行该查询时，您会看到类似如下的输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lr"><img src="../Images/507866ae1cc042dfc908a348e86e4f68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RP3XtBu8cPuUfdlsSVZgMA.png"/></div></div></figure><p id="fd2b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里的<strong class="jm io">站点</strong>(左侧)是位于我们的gatsby-config.js中的站点配置(见步骤2)，我们可以选择我们想要的数据，在我们的例子中，我们有<strong class="jm io">标题</strong>和<strong class="jm io">描述，</strong>例如，现在我们可以获取并呈现<strong class="jm io">标题</strong>。</p><p id="6655" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">🍭现在我们可以更新我们的<strong class="jm io">狗狗页面</strong>，如下图<strong class="jm io"> : </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/eeb37fcc2969b07d519bab2e4edb456f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*dL8Nt0q9dvJQGN9O7cKCvQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">src/pages/doggy.js</figcaption></figure><p id="8e1a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lg">注意这里的行:检查GraphQL中可用的类型你会注意到你可以查询</em> <code class="fe lt lu lv lw b"><strong class="jm io"><em class="lg">site</em></strong><em class="lg">,</em></code> <em class="lg">这个GraphQL类型进一步返回</em> <code class="fe lt lu lv lw b"><strong class="jm io"><em class="lg">siteMetadata</em></strong></code> <em class="lg">，可以从</em> <strong class="jm io"> <em class="lg">页面</em> </strong> <em class="lg">访问和呈现。</em></p><pre class="kj kk kl km gt lx lw ly lz aw ma bi"><span id="5949" class="mb mc in lw b gy md me l mf mg">export const query = graphql`<br/>  query {<br/>    <strong class="lw io">site</strong> {<br/>      <strong class="lw io">siteMetadata</strong> {<br/>        title<br/>      }<br/>    }<br/>  }<br/>`</span></pre><p id="a8c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lg"> 🧊上例中的查询方法只适用于</em><strong class="jm io"><em class="lg"/></strong><em class="lg">页面查询，我们也可以用它来创建动态导航，用例示例:</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/f0a51be9e0c65e470cf5990d1c509272.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*hi7a3WJcitzctWU_BcKbkQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Example Navigation links</figcaption></figure><p id="3bca" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">8.现在刷新狗狗页面，我们的<strong class="jm io">天蓝色</strong>彩色<strong class="jm io">标题</strong>出现在这些线条的基础上:</p><p id="d38d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><p style="{{" color:="" fontsize:=""/></p><p id="99af" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> { <em class="lg">数据</em>. site . site metadata . title }</strong></p><p id="b298" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"/><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/d7b248ff0d4d82736ba5e6cac7b65ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rmVqwC_4YdS1xW77pmWtuA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Blue Title rendered from siteMetadata</figcaption></figure><p id="1040" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">👐<strong class="jm io">就是这样！</strong> <strong class="jm io">我们用gatsby-source-filesystem、gatsby-transformer-json和GraphQL从我们的JSON文件中获取JSON数据，在页面上呈现它，没有太多的样式，但这超出了本文的范围。</strong></p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><p id="f680" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是等等…！🦋还有其他一些情况，通常您需要以编程方式创建页面。例如，你有markdown文件，每个文件应该是一个页面。</p><p id="5261" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在Gatsby中，可以通过三种方式创建页面:</p><ul class=""><li id="30ef" class="mj mk in jm b jn jo jr js jv ml jz mm kd mn kh mo mp mq mr bi translated">通过在<code class="fe lt lu lv lw b"><strong class="jm io">src/pages</strong></code>目录中创建React组件。(注意，你必须使组件成为<strong class="jm io">默认导出</strong>。)</li><li id="8888" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">通过使用<strong class="jm io">文件系统路由API </strong>以编程方式从GraphQL创建页面并创建客户端专用的路由。</li><li id="5f5a" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated">在你站点的<code class="fe lt lu lv lw b"><strong class="jm io">gatsby-node.js</strong></code> <strong class="jm io"> </strong>文件中，通过实现API <code class="fe lt lu lv lw b"><strong class="jm io">createPages</strong></code>。(插件也可以实现<code class="fe lt lu lv lw b">createPages</code>和创建页面)</li></ul><p id="4a34" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这正是我正在继续学习的，我希望我能在不久的将来发表第三篇关于<code class="fe lt lu lv lw b"><strong class="jm io">gatsby-node.js, onCreateNode …</strong></code>的文章。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><p id="e38d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">非常感谢您花时间阅读这篇文章！</p><p id="0f69" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果有需要改正的地方，请联系我，我将非常乐意改进它们！</p><p id="26a4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lg">更多内容请看</em><a class="ae lf" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="lg">plain English . io</em></a></p></div></div>    
</body>
</html>