<html>
<head>
<title>How To Create Your Own Open-Source Private Social VR Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建自己的开源私人社交虚拟现实平台</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-your-own-open-source-private-social-vr-platform-897d90e43630?source=collection_archive---------8-----------------------#2021-09-02">https://javascript.plainenglish.io/how-to-create-your-own-open-source-private-social-vr-platform-897d90e43630?source=collection_archive---------8-----------------------#2021-09-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/2a5982071f9a24ec640651305c293741.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A5KNYHckggUa1MT6U1Jwng.jpeg"/></div></div></figure><p id="22e7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">也许你想要自己的虚拟现实办公室。自从上世纪90年代我读了一些很酷的科幻小说后，这一直是我的一个梦想。或者你是一名艺术家，你想向世界各地的人展示你的作品？或者也许你想要一个私人虚拟空间，去和其他有类似想法的人见面，在你自己的私人虚拟现实论坛上讨论？</p><p id="b82c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">假设你“不想拥有一个脸书控制的虚拟空间”，而是你自己的空间。您已经决定不将其建立在其他社交虚拟现实平台的<a class="ae kt" href="https://www.google.com/search?q=walled+garden+meaning&amp;rlz=1C1SQJL_enUS858US858&amp;oq=walled+garden&amp;aqs=chrome.1.69i57j0i512l9.8283j0j7&amp;sourceid=chrome&amp;ie=UTF-8" rel="noopener ugc nofollow" target="_blank">围墙花园</a>上。有越来越多的人可以肯定。老实说，他们的许多功能集将比本文中的基础知识更先进。参见<a class="ae kt" href="https://hubs.mozilla.com/" rel="noopener ugc nofollow" target="_blank">中枢</a>、<a class="ae kt" href="https://vrland.io/" rel="noopener ugc nofollow" target="_blank"> VRland </a>、<a class="ae kt" href="https://developer.mozilla.org/en-US/docs/Web/API/WebXR_Device_API" rel="noopener ugc nofollow" target="_blank">车架</a>等。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ku"><img src="../Images/3622cc24643acb08591885520988978a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kp4e3rwvga-lG8wONoS6yg.jpeg"/></div></div></figure><p id="8a37" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你为什么想自己做这件事？答:因为你想要控制。控制您的内容，控制谁可以访问它。成本控制。控制，控制，控制！我知道，我听起来像一个<a class="ae kt" href="https://www.google.com/search?q=what+is+a+control+freak&amp;rlz=1C1SQJL_enUS858US858&amp;oq=what+is+a+control+freak&amp;aqs=chrome..69i57j0i512l6j0i22i30l3.5607j0j7&amp;sourceid=chrome&amp;ie=UTF-8" rel="noopener ugc nofollow" target="_blank">控制狂</a>，但也许我不是唯一一个在外面的人。因此，本文。</p><p id="c5ef" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，以下是如何使用<a class="ae kt" href="https://opensource.com/resources/what-open-source" rel="noopener ugc nofollow" target="_blank">开源软件</a>、VPS(虚拟专用服务器)以及几个多小时的设置和定制编码完成的？技能水平要求中等-高级-非常高级。除非你熟悉一些基本的东西，否则不要尝试这样做。网络开发，服务器安装/网络配置，图形技能，如photoshop minimum，JavaScript，以及一些3D建模等。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/950a783cc2f6451333c3e8afeb2d038f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qHwLwzYuLjN6Oqw9IZ_GYQ.jpeg"/></div></div></figure><p id="f202" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，为了便于管理，让我们限制一下范围。我不会向您展示如何配置私人登录系统。<a class="ae kt" href="https://readyplayer.me/" rel="noopener ugc nofollow" target="_blank">或者如何设置自定义头像创建系统</a>。或者甚至如何为你自己的虚拟空间做广告，或者建立电子商务，在你们都完成之后。有很多方法可以做这些事情，网上也有很多解释如何做的文章。</p><p id="b18e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我写这篇文章的时候，还没有很多文章解释如何建立你自己的社交虚拟空间。</p><p id="1f59" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为本文设置好所有的先决条件和期望后，现在让我们开始讨论我们的解决方案中涉及的一些软件技术。</p><p id="aa2d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">WebXR  -相对较新，是一个稳定且仍在发展的规范。这是我们在浏览器中做虚拟现实时要用到的。<a class="ae kt" href="https://webrtc.org/" rel="noopener ugc nofollow" target="_blank"> WebRTC </a> -更成熟的规范。这是我们将用于游客之间的交流。音频甚至视频。<a class="ae kt" href="https://aframe.io/" rel="noopener ugc nofollow" target="_blank">A-frame</a>——这是一种创建虚拟现实网页的奇妙且更简单的方法。</p><p id="a5e5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Three.js .用JavaScript处理我们的大部分图形，比<a class="ae kt" href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API" rel="noopener ugc nofollow" target="_blank"> WebGL </a>更高级。由于A-frame包含了<a class="ae kt" href="https://threejs.org/" rel="noopener ugc nofollow" target="_blank"> Three.js </a>，我们不需要降低到这个细节级别来做我们想要做的事情，简化了大多数事情。</p><p id="387b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a> —服务器端JavaScript胶水处理我们几乎所有的通信。<a class="ae kt" href="https://github.com/networked-aframe" rel="noopener ugc nofollow" target="_blank">网络化的A-frame</a>——或者有时被称为NAF，神奇的开源代码用于将所有这些部分整合在一起。WebXR、WebRTC、A-frame、Three.js和Node.js整合成一个功能性的私有开源<a class="ae kt" href="https://www.google.com/search?q=social+VR+platform&amp;rlz=1C1SQJL_enUS858US858&amp;oq=social+VR+platform&amp;aqs=chrome..69i57j69i60l3&amp;sourceid=chrome&amp;ie=UTF-8" rel="noopener ugc nofollow" target="_blank">社交VR平台</a>。</p><p id="ab80" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你不熟悉其中的一些技术，你可能应该<a class="ae kt" href="https://www.merriam-webster.com/dictionary/bone%20up" rel="noopener ugc nofollow" target="_blank">钻研一下</a>，然后在这条路上继续前进。我也不得不这么做。</p><p id="4b37" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在你需要做一些决定。你的<a class="ae kt" href="https://www.cloudflare.com/learning/dns/glossary/what-is-a-domain-name/" rel="noopener ugc nofollow" target="_blank">域名</a>会是什么？您将使用什么服务器技术？Linux，Windows，cloud，<a class="ae kt" href="https://www.dreamhost.com/blog/beginners-guide-vps/" rel="noopener ugc nofollow" target="_blank"> VPS </a>？你愿意花多少钱，金钱和时间，一个月保持这个运行？</p><p id="f170" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">每月大约20美元，我就可以安装和配置我自己的windows VPS。我货比三家，花了很多时间配置和解决服务器上的问题。<a class="ae kt" href="https://michael-mcanally.medium.com/multi-user-vr-office-space-using-a-frame-and-naf-cab1409800ce" rel="noopener">我在这里的一篇文章中详细介绍了这一切。如果你安装的是Linux版本，可能会更容易、更便宜，但你需要在</a><a class="ae kt" href="https://github.com/networked-aframe/networked-aframe" rel="noopener ugc nofollow" target="_blank">网络版github </a>的说明中找到答案。</p><p id="1e57" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以现在，终于在一些严肃的配置工作之后，我们有了我们的社交VR服务器设置。我们实际上能做什么？对于这一部分，我将提供一些链接，然后是金银岛示例的源代码。我不会提供资产，因为其中一些是我定制的，请你也这样做。但是，HTML代码示例应该对您非常有用。因为它会显示完成了多少事情。为此，你需要<a class="ae kt" href="https://michael-mcanally.medium.com/a-four-year-writing-project-in-vr-13d3d8b821a7" rel="noopener">阅读我之前的一些解释文章</a>。</p><p id="e637" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">注意:</strong>我已经标准化掉了<a class="ae kt" href="https://github.com/aframevr/aframe/releases/tag/v1.0.4" rel="noopener ugc nofollow" target="_blank"> A帧版本1.0.4 </a> <a class="ae kt" href="https://github.com/n5ro/aframe-extras/tree/master/src/controls" rel="noopener ugc nofollow" target="_blank">，因为aframe-extras中的navmesh库仍然工作</a>。<a class="ae kt" href="https://discord.com/channels/758943204715659264/759166287901098024/880135266147385384" rel="noopener ugc nofollow" target="_blank">更新版本的A型架打破了这个</a>。此外，大多数都已针对Oculus Quest 2 VR耳机进行了调整。这篇文章的复杂性比它初看起来要高；由于大量的工作投入到建立这一点，并解释它，但鼓掌将不胜感激。<a class="ae kt" href="https://funbit64.com/" rel="noopener ugc nofollow" target="_blank">玩得开心</a>！请耐心等待所有要加载的内容。。。</p><p id="3fb6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们开始吧:</p><div class="kz la gp gr lb lc"><a href="https://funbit64.com:3025/VROffice2.html" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd io gy z fp lh fr fs li fu fw im bi translated">VR办公-正在加载用户空间，请稍候。</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">虚拟现实办公空间</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">funbit64.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq jt lc"/></div></div></a></div><div class="kz la gp gr lb lc"><a href="https://funbit64.com:3025/IslandComplex.html" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd io gy z fp lh fr fs li fu fw im bi translated">岛屿艺术综合体-正在加载用户空间，请稍候。</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">岛屿艺术虚拟现实画廊和会议由迈克尔麦卡纳利，VRArtscape-2021年5月31日。</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">funbit64.com</p></div></div><div class="ll l"><div class="lr l ln lo lp ll lq jt lc"/></div></div></a></div><div class="kz la gp gr lb lc"><a href="https://funbit64.com:3025/TeleportMindPalace.html" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd io gy z fp lh fr fs li fu fw im bi translated">心灵宫殿瞬间移动。。。请稍候</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">传送蜂巢房间-2021年8月27日</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">funbit64.com</p></div></div><div class="ll l"><div class="ls l ln lo lp ll lq jt lc"/></div></div></a></div><div class="kz la gp gr lb lc"><a href="https://vrartscape.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd io gy z fp lh fr fs li fu fw im bi translated">虚拟现实艺术景观</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">画廊艺术空间被颠覆的时机已经成熟。虚拟现实和降低成本的虚拟现实耳机提供了一个新的…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">vrartscape.com</p></div></div></div></a></div><pre class="kv kw kx ky gt lt lu lv lw aw lx bi"><span id="9bb3" class="ly lz in lu b gy ma mb l mc md">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;<br/>    &lt;meta http-equiv="content-type" content="text/html; charset=utf-8"&gt;<br/>    &lt;title&gt;Treasure Island Art Complex - Loading in 45 seconds&lt;/title&gt;<br/>    &lt;meta name="description" content="Island Art VR Gallery and Meeting Complex by Michael McAnally, VRArtscape - May 31, 2021."&gt;<br/>    &lt;meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, shrink-to-fit=no"&gt;<br/>    &lt;meta name="mobile-web-app-capable" content="yes"&gt;<br/>    &lt;meta name="apple-mobile-web-app-capable" content="yes" /&gt;<br/>    &lt;meta name="apple-mobile-web-app-status-bar-style" content="gray-translucent" /&gt;<br/>    &lt;script src="VRCore/aframe-master.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="VRCore/aframe-extras.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="VRCore/aframe-teleport-controls.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="VRCore/aframe-text-geometry-component.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="VRCore/aframe-alongpath-component.min.js" &gt;&lt;/script&gt;<br/>    &lt;script src="VRCore/aframe-curve-component.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="VRCore/aframe-thumb-controls-component.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="VRCore/aframe-lensflare-component.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="VRCore/aframe-particle-system-component.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="VRCore/socket.io.slim.js"&gt;&lt;/script&gt;<br/>    &lt;script src="/easyrtc/easyrtc.js"&gt;&lt;/script&gt;<br/>    &lt;script src="/dist/networked-aframe.js"&gt;&lt;/script&gt;<br/>    &lt;script src="VRCore/aframe-randomizer-components.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="/js/spawn-in-circle.component.js"&gt;&lt;/script&gt;<br/>    &lt;script src="/js/info-message3.js"&gt;&lt;/script&gt;<br/>    &lt;style type="text/css"&gt;<br/>      #video-permission {<br/>          position: fixed;<br/>          top: 0;<br/>          left: 0;<br/>          width: 100%;<br/>          height: 100%;<br/>          background: white;<br/>          z-index: 10000;<br/>          display: none;<br/>      }<br/>      #video-permission-button {<br/>        position: fixed;<br/>        top: calc(50% - 1em);<br/>        left: calc(50% - 60px);<br/>        width: 120px;<br/>        height: 2em;<br/>      }<br/>    &lt;/style&gt;</span><span id="6419" class="ly lz in lu b gy me mb l mc md">&lt;script type="text/javascript"&gt;<br/>      var Speech = true;<br/>      var audio1 = new Audio('assets/wav/action.wav');<br/>      var audio2 = new Audio('assets/wav/swoosh.wav');<br/>      var not360video = false;</span><span id="f563" class="ly lz in lu b gy me mb l mc md">AFRAME.registerComponent('click-listener', {<br/>        init: function () {<br/>            this.el.addEventListener('click', function (evt) {<br/>            });<br/>        }<br/>      });<br/>      AFRAME.registerComponent('audiohandler', {<br/>        init:function() {<br/>            let playing = false;<br/>            let audio = document.querySelector("#playAudio");<br/>            this.el.addEventListener('click', () =&gt; {<br/>                if(!playing) {<br/>                    audio.play();<br/>                } else {<br/>                    audio.pause();<br/>                    audio.currentTime = 0;<br/>                }<br/>                playing = !playing;<br/>            });<br/>        }<br/>      })<br/>     AFRAME.registerComponent('navigate', {<br/>        schema: {url: {default: ''}},<br/>        init: function () {<br/>        var data = this.data;<br/>            this.el.addEventListener('click', function () {<br/>                window.location = data.url;<br/>            });<br/>        }<br/>     });<br/>      function speakInfo(narration) {<br/>        var audio_msg = new SpeechSynthesisUtterance(narration);<br/>        if (Speech === true) {<br/>            window.speechSynthesis.speak(audio_msg);<br/>        }<br/>      }<br/>      function changeOrb(orb_num) {<br/>        document.getElementById('orbSky').setAttribute('material', 'src: #orb' + orb_num.toString());<br/>        removeScene();<br/>      }<br/>      function removeScene() {<br/>        document.getElementById('MeetingBuildings').setAttribute('visible', false);<br/>        document.getElementById('RocketVirtualTXT').setAttribute('visible', false);<br/>        document.getElementById('RocketVirtualTXT2').setAttribute('visible', false);<br/>        document.getElementById('The_Island').setAttribute('visible', false);<br/>        document.getElementById('ourOcean').setAttribute('visible', false);<br/>        document.getElementById('artworkPosition1').setAttribute('visible', false);</span><span id="e46e" class="ly lz in lu b gy me mb l mc md">document.getElementById('artworkPosition3').setAttribute('visible', false);<br/>        document.getElementById('artworkPosition4').setAttribute('visible', false);<br/>        document.getElementById('artworkPosition5').setAttribute('visible', false);</span><span id="86aa" class="ly lz in lu b gy me mb l mc md">document.getElementById('artworkPosition11').setAttribute('visible', false);<br/>        document.getElementById('artworkPosition12').setAttribute('visible', false);<br/>        document.getElementById('artworkPosition13').setAttribute('visible', false);<br/>        document.getElementById('artworkPosition17').setAttribute('visible', false);<br/>        document.getElementById('ShootRaygun').setAttribute('visible', false);<br/>        document.getElementById('Pedistal').setAttribute('visible', false);<br/>        document.getElementById('Bust').setAttribute('visible', false);<br/>        document.getElementById('Pedistal2').setAttribute('visible', false);<br/>        document.getElementById('Palm_Tree1').setAttribute('visible', false);<br/>        document.getElementById('Palm_Tree2').setAttribute('visible', false);<br/>        document.getElementById('Palm_Tree3').setAttribute('visible', false);<br/>        document.getElementById('Palm_Tree4').setAttribute('visible', false);<br/>        document.getElementById('Palm_Tree6').setAttribute('visible', false);<br/>        document.getElementById('Palm_Tree7').setAttribute('visible', false);<br/>        document.getElementById('bridge-3').setAttribute('visible', false);<br/>        document.getElementById('bridge-7').setAttribute('visible', false);<br/>        document.getElementById('bridge-8').setAttribute('visible', false);<br/>        document.getElementById('Foundation').setAttribute('visible', false);<br/>        document.getElementById('FishA').setAttribute('visible', false);<br/>        document.getElementById('FishB').setAttribute('visible', false);<br/>        document.getElementById('FishC').setAttribute('visible', false);<br/>        document.getElementById('FishD').setAttribute('visible', false);<br/>        document.getElementById('FishE').setAttribute('visible', false);<br/>        document.getElementById('FishF').setAttribute('visible', false);<br/>        document.getElementById('FishG').setAttribute('visible', false);<br/>        document.getElementById('FishH').setAttribute('visible', false);<br/>        document.getElementById('video-screen').setAttribute('visible', false);<br/>        document.getElementById('control-back').setAttribute('visible', false);<br/>        document.getElementById('control-play').setAttribute('visible', false);<br/>        document.getElementById('control-volume').setAttribute('visible', false);<br/>        document.getElementById('progress-bar').setAttribute('visible', false);<br/>        document.getElementById('progress-bar-track').setAttribute('visible', false);<br/>        document.getElementById('progress-bar-fill').setAttribute('visible', false);<br/>        document.getElementById('flare').setAttribute('visible', false);<br/>        document.getElementById('cylinder1').setAttribute('visible', false);<br/>        document.getElementById('sphere1').setAttribute('visible', false);<br/>        document.getElementById('cylinder2').setAttribute('visible', false);<br/>        document.getElementById('sphere2').setAttribute('visible', false);<br/>        document.getElementById('modelSculpture').setAttribute('visible', false);<br/>        document.getElementById('cylinder3').setAttribute('visible', false);<br/>        document.getElementById('waterfountain').setAttribute('visible', false);<br/>        document.getElementById('cylinder4').setAttribute('visible', false);<br/>        document.getElementById('cylinder5').setAttribute('visible', false);<br/>        document.getElementById('water').setAttribute('visible', false);<br/>        document.getElementById('water-bridge').setAttribute('visible', false);<br/>        document.getElementById('Treasure').setAttribute('visible', false);<br/>        document.getElementById('fillWithGold').setAttribute('visible', false);</span><span id="114c" class="ly lz in lu b gy me mb l mc md">document.getElementById('MovementControls').setAttribute('visible', false);<br/>        document.getElementById('ReturnIsland').setAttribute('visible', true);<br/>      }<br/>      function restoreScene() {<br/>        document.getElementById('orbSky').setAttribute('material', 'src: #orb1');<br/>        document.getElementById('MeetingBuildings').setAttribute('visible', true);<br/>        document.getElementById('RocketVirtualTXT').setAttribute('visible', true);<br/>        document.getElementById('RocketVirtualTXT2').setAttribute('visible', true);<br/>        document.getElementById('The_Island').setAttribute('visible', true);<br/>        document.getElementById('ourOcean').setAttribute('visible', true);<br/>        document.getElementById('artworkPosition1').setAttribute('visible', true);</span><span id="5f91" class="ly lz in lu b gy me mb l mc md">document.getElementById('artworkPosition3').setAttribute('visible', true);<br/>        document.getElementById('artworkPosition4').setAttribute('visible', true);<br/>        document.getElementById('artworkPosition5').setAttribute('visible', true);</span><span id="dd46" class="ly lz in lu b gy me mb l mc md">document.getElementById('artworkPosition11').setAttribute('visible', true);<br/>        document.getElementById('artworkPosition12').setAttribute('visible', true);<br/>        document.getElementById('artworkPosition13').setAttribute('visible', true);<br/>        document.getElementById('artworkPosition17').setAttribute('visible', true);<br/>        document.getElementById('ShootRaygun').setAttribute('visible', true);<br/>        document.getElementById('Pedistal').setAttribute('visible', true);<br/>        document.getElementById('Bust').setAttribute('visible', true);<br/>        document.getElementById('Pedistal2').setAttribute('visible', true);<br/>        document.getElementById('Palm_Tree1').setAttribute('visible', true);<br/>        document.getElementById('Palm_Tree2').setAttribute('visible', true);<br/>        document.getElementById('Palm_Tree3').setAttribute('visible', true);<br/>        document.getElementById('Palm_Tree4').setAttribute('visible', true);<br/>        document.getElementById('Palm_Tree6').setAttribute('visible', true);<br/>        document.getElementById('Palm_Tree7').setAttribute('visible', true);<br/>        document.getElementById('bridge-3').setAttribute('visible', true);<br/>        document.getElementById('bridge-7').setAttribute('visible', true);<br/>        document.getElementById('bridge-8').setAttribute('visible', true);<br/>        document.getElementById('Foundation').setAttribute('visible', true);<br/>        document.getElementById('FishA').setAttribute('visible', true);<br/>        document.getElementById('FishB').setAttribute('visible', true);<br/>        document.getElementById('FishC').setAttribute('visible', true);<br/>        document.getElementById('FishD').setAttribute('visible', true);<br/>        document.getElementById('FishE').setAttribute('visible', true);<br/>        document.getElementById('FishF').setAttribute('visible', true);<br/>        document.getElementById('FishG').setAttribute('visible', true);<br/>        document.getElementById('FishH').setAttribute('visible', true);<br/>        document.getElementById('video-screen').setAttribute('visible', true);<br/>        document.getElementById('control-back').setAttribute('visible', true);<br/>        document.getElementById('control-play').setAttribute('visible', true);<br/>        document.getElementById('control-volume').setAttribute('visible', true);<br/>        document.getElementById('progress-bar').setAttribute('visible', true);<br/>        document.getElementById('progress-bar-track').setAttribute('visible', true);<br/>        document.getElementById('progress-bar-fill').setAttribute('visible', true);<br/>        document.getElementById('flare').setAttribute('visible', true);<br/>        document.getElementById('cylinder1').setAttribute('visible', true);<br/>        document.getElementById('sphere1').setAttribute('visible', true);<br/>        document.getElementById('cylinder2').setAttribute('visible', true);<br/>        document.getElementById('sphere2').setAttribute('visible', true);<br/>        document.getElementById('modelSculpture').setAttribute('visible', true);<br/>        document.getElementById('cylinder3').setAttribute('visible', true);<br/>        document.getElementById('waterfountain').setAttribute('visible', true);<br/>        document.getElementById('cylinder4').setAttribute('visible', true);<br/>        document.getElementById('cylinder5').setAttribute('visible', true);<br/>        document.getElementById('water').setAttribute('visible', true);<br/>        document.getElementById('water-bridge').setAttribute('visible', true);<br/>        document.getElementById('Treasure').setAttribute('visible', true);<br/>        document.getElementById('fillWithGold').setAttribute('visible', true);</span><span id="a41a" class="ly lz in lu b gy me mb l mc md">document.getElementById('MovementControls').setAttribute('visible', true);<br/>        document.getElementById('ReturnIsland').setAttribute('visible', false);<br/>      }<br/>      function sqrImg(imgNum) {<br/>        document.getElementById('orb_2Dimg' + imgNum).setAttribute('visible', true);<br/>        document.getElementById('OrbName_place' + imgNum).setAttribute('visible', true);<br/>      }<br/>      function dspImg(dimgNum) {<br/>        document.getElementById('orb_2Dimg' + dimgNum).setAttribute('visible', false);<br/>        document.getElementById('OrbName_place' + dimgNum).setAttribute('visible', false);<br/>      }<br/>      function playSwoosh() {<br/>        audio2.play();<br/>      }</span><span id="76ab" class="ly lz in lu b gy me mb l mc md">function playBlip() {<br/>        audio1.play();<br/>      }<br/>      function playSound() {<br/>      }<br/>      function play360() {<br/>          document.getElementById('vrVideo360').setAttribute('visible', true);<br/>          document.getElementById('orbSky').setAttribute('visible', false);<br/>          document.querySelector("#video-src").components.material.material.map.image.play();<br/>          document.getElementById('video-screen').setAttribute('visible', false);<br/>      }<br/>      function STOPplay360() {<br/>          document.getElementById('vrVideo360').setAttribute('visible', false);<br/>          document.getElementById('orbSky').setAttribute('visible', true);<br/>      }</span><span id="7d3a" class="ly lz in lu b gy me mb l mc md">&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="video-permission"&gt;<br/>    &lt;button id="video-permission-button"&gt;Allow VR Video&lt;/button&gt;<br/>    &lt;/div&gt;<br/>    &lt;button id="playButton" type="button"&gt;Play Music&lt;/button&gt;<br/>    &lt;audio id="playAudio" autoplay loop&gt;<br/>        &lt;!-- &lt;source src="<a class="ae kt" href="https://rocketvirtual.com/A-Frame_WebXR/assets/mp3/Romanzeandante.mp3" rel="noopener ugc nofollow" target="_blank">https://rocketvirtual.com/A-Frame_WebXR/assets/mp3/Romanzeandante.mp3</a>" type="audio/mpeg"&gt; ---&gt;<br/>    &lt;/audio&gt;<br/>    &lt;a-scene networked-scene="<br/>      room: ArtIslandComplex;<br/>      debug: true;<br/>      adapter: easyrtc;<br/>      audio: true;<br/>      video: true;<br/>    " info-message="htmlSrc: #messageText" shadow="type: pcfsoft" renderer="antialias: true; highRefreshRate: true"&gt; <br/>      &lt;a-assets timeout="30000"&gt;<br/>        &lt;a-asset-item crossorigin="anonymous" id="Island" src="assets/gltf/IslandSmooth.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;img crossorigin="anonymous" src="assets/img/floor1.jpg" id="floor" &gt;<br/>        &lt;img crossorigin="anonymous" id="orb1" src="assets/360/image/skyland2.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="flare-asset" src="assets/img/adjustflare.jpg"&gt;<br/>        &lt;a-asset-item id="MeetingComplex" src="assets/gltf/finalBuildingArtComplex2.glb" nav-agent="speed: 1.0; active: true"&gt;&lt;/a-asset-item&gt;<br/>        &lt;a-asset-item crossorigin="anonymous" id="Palm" src="assets/gltf/PalmMinimal.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;video crossorigin="anonymous" id="video-src" src="assets/video/ArtProcessFinal.mp4"&gt;&lt;/video&gt;<br/>        &lt;a-asset-item id="messageText" src="ControlsMessage.html" response-type="text"&gt;&lt;/a-asset-item&gt;<br/>        &lt;a-asset-item id="optimerBoldFont" src="assets/fonts/optimer_bold.typeface.json"&gt;&lt;/a-asset-item&gt;</span><span id="cc25" class="ly lz in lu b gy me mb l mc md">&lt;a-asset-item id="fountain" src="assets/gltf/marble_fountain.glb"&gt;&lt;/a-asset-item&gt;</span><span id="f137" class="ly lz in lu b gy me mb l mc md">&lt;img crossorigin="anonymous" src="assets/img/play2.png" id="play" &gt;<br/>        &lt;img crossorigin="anonymous" src="assets/img/pause.png" id="pause" &gt;<br/>        &lt;img crossorigin="anonymous" src="assets/img/volume-normal.png" id="volume-normal" &gt;<br/>        &lt;img crossorigin="anonymous" src="assets/img/volume-mute.png" id="volume-mute" &gt;<br/>        &lt;img crossorigin="anonymous" src="assets/img/seek-back.png" id="seek-back" &gt;</span><span id="5bc3" class="ly lz in lu b gy me mb l mc md">&lt;img crossorigin="anonymous" id="artwork1" src="artwork/DSC_0137med6.jpg"&gt;</span><span id="29ca" class="ly lz in lu b gy me mb l mc md">&lt;img crossorigin="anonymous" id="artwork3" src="artwork/DSC01280rmed6.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="artwork4" src="artwork/DSC01693med6.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="artwork5" src="artwork/DSC01361.jpg"&gt;<br/>       <br/>        &lt;img crossorigin="anonymous" id="artwork11" src="artwork/DSC00921med6.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="artwork12" src="artwork/DSC01255r.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="artwork13" src="artwork/DSC01428med6.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="artwork17" src="artwork/DSC00580med6.jpg"&gt;</span><span id="57cd" class="ly lz in lu b gy me mb l mc md">&lt;img crossorigin="anonymous" id="blog" src="assets/img/wallInfo1.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="writings" src="assets/img/wallInfo2.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="server" src="assets/img/VRArtScapeCover3Final.png"&gt;<br/>        &lt;img crossorigin="anonymous" id="movementInstructions" src="assets/img/movementControl.jpg"&gt;</span><span id="923e" class="ly lz in lu b gy me mb l mc md">&lt;img crossorigin="anonymous" id="orb5" src="assets/360/image/theBeach.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="orb7" src="assets/360/image/SAM_101_0152.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="orb8" src="assets/360/image/SAM_101_0128.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="orbthumb5" src="assets/360/image/thumb/theBeach_thumb.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="orbthumb7" src="assets/360/image/thumb/SAM_101_0152_thumb.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="orbthumb8" src="assets/360/image/thumb/SAM_101_0128_thumb.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="imgthumb5" src="assets/360/image/imgthumb/theBeach.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="imgthumb7" src="assets/360/image/imgthumb/SAM_101_0152_imgthumb.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="imgthumb8" src="assets/360/image/imgthumb/SAM_101_0128_imgthumb.jpg"&gt;<br/>        &lt;img crossorigin="anonymous" id="ReturnBack" src="assets/img/ReturnBack.png"&gt;<br/>        &lt;a-asset-item id="fish1" src="assets/gltf/fishes/fish1.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;a-asset-item id="fish2" src="assets/gltf/fishes/fish2.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;a-asset-item id="fish3" src="assets/gltf/fishes/fish5.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;a-asset-item id="fish4" src="assets/gltf/fishes/fish15.glb"&gt;&lt;/a-asset-item&gt;</span><span id="18d6" class="ly lz in lu b gy me mb l mc md">&lt;a-asset-item id="ShapeSculpture" src="assets/gltfSculpture/ShapesScuplture3.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;a-asset-item id="Raygun" src="assets/gltf/raygun4/raygun.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;a-asset-item id="MeBustAvatar" src="assets/gltf/FinalMeBustAvatar.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;a-asset-item id="Chest" src="assets/gltf/testChest2.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;img crossorigin="anonymous" src="assets/img/coins.jpg" id="coins"&gt;<br/>        &lt;a-mixin id="marble" geometry="primitive: sphere" scale=".30 .30 .30" animation__rotation="startEvents: mouseenter; pauseEvents: mouseleave; resumeEvents: mouseenter; property: rotation; to: 0 360 0; loop: true; dur: 10000" animation__mouseenter="startEvents: mouseenter; pauseEvents: mouseleave; resumeEvents: mouseenter; property: components.material.material.color; type: color; to: white;  dur: 500; " animation__mouseleave="property: components.material.material.color; type: color; to: gray; startEvents: mouseleave; dur: 500;" shadow &gt;&lt;/a-mixin&gt;<br/>        &lt;a-mixin id="spin" animation="property: rotation; to: 0 360 0; loop: true; dur: 100000; easing: linear"&gt;&lt;/a-mixin&gt;</span><span id="e473" class="ly lz in lu b gy me mb l mc md">&lt;a-asset-item id="RobotHead" src="assets/gltf/FinalEditRoboHead.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;a-asset-item id="LHand" src="assets/gltf/leftHandLow.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;a-asset-item id="RHand" src="assets/gltf/rightHandLow.glb"&gt;&lt;/a-asset-item&gt;<br/>        &lt;template id="avatar-template"&gt;<br/>          &lt;a-entity networked-audio-source&gt;&lt;a-box color="#FFF" position="0 1.4 0" material="" networked-video-source="" geometry="" scale="0.325 0.325 0.325"&gt;&lt;/a-box&gt;&lt;/a-entity&gt;<br/>        &lt;/template&gt;<br/>        &lt;template id="head-template"&gt;<br/>          &lt;a-entity class="cam" gltf-model="#RobotHead" scale="0.004 0.004 0.004"&gt;&lt;/a-entity&gt;<br/>        &lt;/template&gt;<br/>        &lt;template id="hand-left"&gt;<br/>          &lt;a-entity class="leftController"&gt;<br/>            &lt;a-entity gltf-model="#LHand" &gt;&lt;/a-entity&gt;<br/>          &lt;/a-entity&gt;<br/>        &lt;/template&gt;<br/>        &lt;template id="hand-right"&gt;<br/>          &lt;a-entity class="rightController"&gt;<br/>            &lt;a-entity gltf-model="#RHand" &gt;&lt;/a-entity&gt;<br/>          &lt;/a-entity&gt;<br/>        &lt;/template&gt;  <br/>      &lt;/a-assets&gt;</span><span id="7e75" class="ly lz in lu b gy me mb l mc md">&lt;a-entity id="The_Island" gltf-model="#Island" position="-208.88164 -9.83526 -154.40424" scale="140 140 140" visible="" shadow="cast: false; receive: true"&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="ambientlight" light="type: ambient; intensity: .95"&gt;&lt;/a-entity&gt;<br/>      &lt;a-box id="Foundation" position="-3.32823 -0.09738 -7.89352" rotation="-90.00021045914971 90 0" scale="13.29474 10.89561 0.32555" width="4" height="4" color="#FFFFFF" shadow="receive: true" material="src: #floor; color: white; transparent: true; repeat: 50 50" geometry=""&gt;&lt;/a-box&gt;<br/>      &lt;a-ocean id="ourOcean" position="-47.35699 -2.58219 40.11002" scale="6 6 6" width="50" depth="50" opacity=".55" ocean="color: #06C6CB; density: 45; amplitude: -0.2; speed: 0.95; speedVariance: 0.2"&gt;&lt;/a-ocean&gt;<br/>      &lt;a-sky id="orbSky" material="src: #orb1" rotation="0 0 0" &gt;&lt;/a-sky&gt;<br/>      &lt;a-sphere id="flare" radius="0.05" color="yellow" lensflare="createLight:false; relative: true; src: #flare-asset; lightColor:yellow; intensity: 5; lightDecay: 500" position="-303.76151 57.79742 4.88911"&gt;&lt;/a-sphere&gt;<br/>      &lt;a-entity id="MeetingBuildings" gltf-model="#MeetingComplex" position="9.89561 0.07 9.46907" rotation="0 90 0" scale="0.2 0.2 0.2" shadow=""&gt;&lt;/a-entity&gt;<br/>      &lt;!-- Bridges allowing us to move around the island and on multiple levels.  --&gt;<br/>      &lt;a-box id="water-bridge" position="-44.05655 -4.30731 -22.47425" rotation="-72.20929796254252 179.95229246350846 89.64325775278321" scale="6.0626 0.868 0.143" width="4" height="4" color="#FFFFFF" shadow="" material="" geometry="" opacity=".35"&gt;&lt;/a-box&gt;<br/>      &lt;a-box id="bridge-3" position="-31.82349 5.17492 28.89981" rotation="-72.60521179897792 142.80400085840637 -82.01718949959195" scale="13.92453 1 0.143" width="4" height="4" color="#FFFFFF" opacity=".35" material="" geometry=""&gt;&lt;/a-box&gt;<br/>      &lt;a-box id="bridge-7" position="-36.59874 -0.42997 -9.33153" rotation="-89.12816869496059 -90.00021045914971 90.00021045914971" scale="7.25388 0.868 0.143" width="4" height="4" color="#FFFFFF" shadow="" material="" geometry="" opacity=".35"&gt;&lt;/a-box&gt;<br/>      &lt;a-box id="bridge-8" position="-91.33488 -0.62497 -42.07341" rotation="-89.66732198017871 44.930204378568895 -55.969382217354465" scale="8.09068 0.868 0.143" width="4" height="4" color="#FFFFFF" shadow="" material="" geometry="" opacity=".35"&gt;&lt;/a-box&gt;<br/>      &lt;a-entity id="Palm_Tree1" gltf-model="#Palm" position="-122.21544 1.35503 -25.99071" rotation="0 0 0" scale=".002 .004 .002" shadow&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="Palm_Tree2" gltf-model="#Palm" position="26.89416 -0.91787 0.262" rotation="0 78.26 0" scale=".002 .004 .002" shadow&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="Palm_Tree3" gltf-model="#Palm" position="-53.19211 -1.21051 -11.23701" rotation="0 78.26 0" scale="0.002 0.003 0.002" shadow=""&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="Palm_Tree4" gltf-model="#Palm" position="0.36459 -0.13506 -41.8833" rotation="-6.868045090233179 61.74422383447803 5.194435370656045" scale="0.002 0.003 0.002" shadow=""&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="Palm_Tree6" gltf-model="#Palm" position="3.31197 0.23619 -4.07842" rotation="0 78.26 0" scale="0.002 0.003 0.002" shadow&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="Palm_Tree7" gltf-model="#Palm" position="-4.80875 0.18785 -12.51019" rotation="-0.7522935850067709 58.93100106038569 7.000971298703528" scale="0.002 0.003 0.002" shadow&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="RocketVirtualTXT" position="-12.68773 1.86857 -4.77643" rotation="0 90 0" text-geometry="value:Treasure Island VR Art Gallery; font: #optimerBoldFont" scale="0.25 0.25 0.25" material="color: #1C93EE"&gt;&lt;/a-entity&gt;</span><span id="e5b1" class="ly lz in lu b gy me mb l mc md">&lt;a-entity id="RocketVirtualTXT2" position="-18.286 1.06533 -9.08848" rotation="0 90 0" text-geometry="value: VR &amp;amp; Art by Michael McAnally; font: #optimerBoldFont" scale="0.1 0.1 0.3" material="color: #1C93EE"&gt;&lt;/a-entity&gt;</span><span id="ea4a" class="ly lz in lu b gy me mb l mc md">&lt;a-entity id="TextSpot" position="-12.32473 1.90418 -5.60294" rotation="-1.4169246273585259 84.1428629195273 -86.78649018626092" light="angle: 75; decay: 0.65; distance: 1; type: spot; intensity: 0.35; color: #d57cbd"&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="TeleportingOrbsTXT" position="-16.02098 0.28739 1.42069" rotation="0 -180 0" text-geometry="value: Teleporting Orbs; font: #optimerBoldFont" scale="0.2 0.2 0.2" material="color: #F9CF45"&gt;&lt;/a-entity&gt;</span><span id="561d" class="ly lz in lu b gy me mb l mc md">&lt;a-cylinder id="cylinder1" position="3.27909 0.08504 -4.09886" scale="1.372 0.113 1.372" radius="0.5" height="1.5" color="#E3E3E3" shadow="" material="" geometry=""&gt;&lt;/a-cylinder&gt;<br/>      &lt;a-sphere id="sphere1" position="3.29485 -0.0407 -4.11462" scale="0.457 0.307 0.457" radius="1.25" color="#51A727" shadow="" material="" geometry=""&gt;&lt;/a-sphere&gt;<br/>      &lt;a-cylinder id="cylinder2" position="-4.82067 0.08504 -12.49902" scale="1.372 0.113 1.372" radius="0.5" height="1.5" color="#E3E3E3" shadow="" material="" geometry=""&gt;&lt;/a-cylinder&gt;<br/>      &lt;a-sphere id="sphere2" position="-4.81461 -0.0407 -12.5219" scale="0.457 0.307 0.457" radius="1.25" color="#51A727" shadow="" material="" geometry=""&gt;&lt;/a-sphere&gt;<br/>      &lt;a-entity id="waterfountain" gltf-model="#fountain" position="-1.46323 -0.14203 -9.20374" scale="2 .75 2" shadow=""&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="water" position="-1.46256 1.416 -9.20641" particle-system="color:#000, #FFF;duration:NaN;velocitySpread:2 3 2;velocityValue:0 9 0;accelerationSpread:1 0 1;particleCount:45;maxAge:1.5;texture: <a class="ae kt" href="https://funbit64.com:3025/assets/img/dot2.png" rel="noopener ugc nofollow" target="_blank">https://funbit64.com:3025/assets/img/dot2.png</a>" visible="true"&gt;&lt;/a-entity&gt;</span><span id="6053" class="ly lz in lu b gy me mb l mc md">&lt;!-- Our Treasure Chest in glTF format Link to license: <a class="ae kt" href="https://creativecommons.org/licenses/by/4.0/" rel="noopener ugc nofollow" target="_blank">https://creativecommons.org/licenses/by/4.0/</a>  Location: <a class="ae kt" href="https://sketchfab.com/3d-models/old-chest-efc357374ecf4d17a36e85f1237e624c" rel="noopener ugc nofollow" target="_blank">https://sketchfab.com/3d-models/old-chest-efc357374ecf4d17a36e85f1237e624c</a> --&gt;<br/>      &lt;a-entity id="Treasure" gltf-model="#Chest" position="-36.36444 -9.686 -2.52202" rotation="0 -48.819441891916924 0" scale="0.01 0.01 0.01" visible="true"&gt;&lt;/a-entity&gt;</span><span id="3703" class="ly lz in lu b gy me mb l mc md">&lt;a-plane id="fillWithGold" position="-36.36285 -9.226 -2.50207" rotation="-89.67878113608133 66.30955154608043 -113.66164852466733" width="4" height="4" color="#EBE3B6" material="src: #coins" visible="true" scale="0.261 0.117 0.407"&gt;&lt;/a-plane&gt;</span><span id="658a" class="ly lz in lu b gy me mb l mc md">&lt;a-cylinder id="cylinder4" position="-1.45858 0.07067 -9.22259" scale="2.292 0.207 2.292" radius="0.5" height="1.5" color="#18C7D2" shadow="" material="" geometry="" opacity=".35"&gt;&lt;/a-cylinder&gt;</span><span id="94e7" class="ly lz in lu b gy me mb l mc md">&lt;a-cylinder id="cylinder5" position="-1.45858 1.01776 -9.22259" scale="1.36 0.00668 1.36" radius="0.5" height="1.5" color="#18C7D2" shadow="" material="" geometry="" opacity=".35"&gt;&lt;/a-cylinder&gt;</span><span id="f934" class="ly lz in lu b gy me mb l mc md">&lt;a-sound id="alert-sound" src="src: url(assets/wav/action.wav)" autoplay="false" position="0 0 0"&gt;&lt;/a-sound&gt;<br/>      &lt;a-video id="video-screen" src="#video-src" position="-12.6735 2.02774 -9.17445" rotation="0 90 0" scale="0.50761 0.49394 1" width="8" height="4" rotation="0 0 0" visible="true"&gt;&lt;/a-video&gt; <br/>      &lt;a-image class="clickable" id="control-back" width="0.4" height="0.4" src="#seek-back" position="-12.6735 0.655 -9.71611" rotation="0 90 0" visible="false" scale="0.85 0.85 0.85"&gt;&lt;/a-image&gt;<br/>      &lt;a-image class="clickable" id="control-play" width="0.4" height="0.4" src="#play" position="-12.6735 0.655 -9.16072" rotation="0 90 0"&gt;&lt;/a-image&gt;<br/>      &lt;a-image class="clickable" id="control-volume" width="0.4" height="0.4" src="#volume-mute" position="-12.6735 0.655 -8.59696" rotation="0 90 0" visible="false" scale="0.75 0.75 0.75"&gt;&lt;/a-image&gt;<br/>      &lt;a-entity id="progress-bar" geometry="primitive:plane;height:0.1;width:4" material="opacity:0;transparent:true" position="-12.6735 0.93157 -9.17777" rotation="0 90 0" visible="false"&gt;<br/>      &lt;a-plane id="progress-bar-track" width="4" height="0.1" color="gray" position="" opacity="0.2" material="" visible="false" geometry=""&gt;&lt;/a-plane&gt;<br/>      &lt;a-plane id="progress-bar-fill" width="2.496982785433659" height="0.1" color="#7198e5" position="-0.7515086072831705 0 0" geometry="" visible="false" material=""&gt;&lt;/a-plane&gt;<br/>      &lt;/a-entity&gt;</span><span id="13e2" class="ly lz in lu b gy me mb l mc md">&lt;a-plane id="MovementControls" position="-1.36776 1.949 1.94834" scale="2 1 2" rotation="0 180 0" material="src: #movementInstructions; color: white; transparent: true; side: double" geometry="" &gt;&lt;/a-plane&gt;</span><span id="60d1" class="ly lz in lu b gy me mb l mc md">&lt;a-plane id="artworkPosition1" position="-13.11489 1.9 -5.99867" scale="1.33 1 1" rotation="0 -90 0" material="src: #artwork1; color: white; transparent: true; side: double" geometry="" &gt;&lt;/a-plane&gt;<br/>      <br/>      &lt;a-plane id="artworkPosition3" position="-13.11958 1.949 -9.1733" scale="2.113 1.5 1" rotation="0 -90 0" material="src: #artwork3; color: white; transparent: true; side: double" geometry="" &gt;&lt;/a-plane&gt;<br/>      &lt;a-plane id="artworkPosition4" position="-17.80046 1.9 -20.07479" scale="1.33 1 1" rotation="0 0 0" material="src: #artwork4; color: white; transparent: true; side: double" geometry="" &gt;&lt;/a-plane&gt;<br/>      &lt;a-plane id="artworkPosition5" position="-16.021 1.89725 -20.06922" scale="1 1 1" rotation="0 0 90" material="src: #artwork5; color: white; transparent: true; side: double" geometry="" &gt;&lt;/a-plane&gt;</span><span id="864c" class="ly lz in lu b gy me mb l mc md">&lt;a-plane id="artworkPosition11" position="-13.12109 1.9 -12.52271" scale="1.33 1 1" rotation="0 -90 0" material="src: #artwork11; color: white; transparent: true; side: double" geometry="" &gt;&lt;/a-plane&gt;<br/>      &lt;a-plane id="artworkPosition12" position="-13.10936 1.9 -17.81295" scale="1.33 1 1" rotation="0 -90 0" material="src: #artwork12; color: white; transparent: true; side: double" geometry="" &gt;&lt;/a-plane&gt;<br/>      &lt;a-plane id="artworkPosition13" position="-14.233 1.9 -20.07479" scale="1.33 1 1" rotation="0 0 0" material="src: #artwork13; color: white; transparent: true; side: double" geometry="" &gt;&lt;/a-plane&gt;<br/>      &lt;a-plane id="artworkPosition17" position="-13.11489 1.9 -0.33735" scale="1.33 1 1" rotation="0 -90 0" material="src: #artwork17; color: white; transparent: true; side: double" geometry="" &gt;&lt;/a-plane&gt;</span><span id="e5a9" class="ly lz in lu b gy me mb l mc md">&lt;a-entity id="Bust" gltf-model="#MeBustAvatar" position="-18.19386 1.04973 -9.46061" rotation="-8.10105026535471 68.5767455414131 1.267382642829381" scale="0.003 0.003 0.003" shadow visible=""&gt;&lt;/a-entity&gt;<br/>      &lt;a-box id="Pedistal2" position="-18.44864 0.55738 -9.53211" rotation="0 45 0" color="#FFFFFF" visible="" shadow="" material="" geometry=""&gt;&lt;/a-box&gt;<br/>      &lt;a-entity id="PedistalSpot2" position="-18.06221 1.61283 -9.53659" rotation="-32.965126742851915 84.53533900919192 94.74716579180858" light="angle: 55; decay: 0.65; distance: 0.6; type: spot; intensity: 5; color: #d57cbd"&gt;&lt;/a-entity&gt;</span><span id="3827" class="ly lz in lu b gy me mb l mc md">&lt;a-entity id="ShootRaygun" gltf-model="#Raygun" position="-18.19039 0.92387 -14.97825" rotation="77.82714914380024 -84.96276552435951 0" scale="0.2 0.195 0.195" shadow visible=""&gt;&lt;/a-entity&gt;<br/>      &lt;a-box id="Pedistal" position="-18.44864 0.55738 -14.90843" rotation="0 45 0" color="#FFFFFF" visible="" shadow="" material="" geometry=""&gt;&lt;/a-box&gt;<br/>      &lt;a-entity id="GunPedistalSpot" position="-18.44864 1.398 -14.90843" rotation="-90.680 -0.538 4.844" light="angle: 55; decay: 0.5; distance: 1; type: spot"&gt;&lt;/a-entity&gt;</span><span id="7ed9" class="ly lz in lu b gy me mb l mc md">&lt;a-entity id="modelSculpture" position="-18.449 1.313 -4.08966" rotation="0 0 0" scale="0.0001 0.0001 0.0001" gltf-model="#ShapeSculpture" mixin="spin" shadow="recieve: false; cast: true"&gt;&lt;/a-entity&gt;<br/>      &lt;a-cylinder id="cylinder3" position="-18.449 0.52434 -4.08966" radius="0.5" height="1.5" scale=".7 0.660 .7" color="#FFFFFF" shadow&gt;&lt;/a-cylinder&gt;<br/>      &lt;a-entity id="SculptureSpot" position="-18.449 1.967 -4.08966" rotation="-88.61766329949904 -119.47201352508898 123.77091586195557" light="angle: 75; decay: 0.7; distance: 1.5; type: spot; intensity: 0.7"&gt;&lt;/a-entity&gt;</span><span id="b7ee" class="ly lz in lu b gy me mb l mc md">&lt;a-sphere id="orb_place5" class="clickable" mixin="marble" position="-15.2652 0.83949 1.28868" rotation="0 45 0" material="src: #orbthumb5" onclick="playSwoosh();changeOrb(5);STOPplay360();"  onmouseenter="sqrImg(5);" onmouseleave="dspImg(5);"&gt;&lt;/a-sphere&gt;<br/>      &lt;a-sphere id="orb_place7" class="clickable" mixin="marble" position="-17.84266 0.83949 1.28868" rotation="0 45 0" material="src: #orbthumb7" onclick="playSwoosh();changeOrb(7);STOPplay360();"  onmouseenter="sqrImg(7);" onmouseleave="dspImg(7);"&gt;&lt;/a-sphere&gt;<br/>      &lt;a-sphere id="orb_place8" class="clickable" mixin="marble" position="-16.52535 0.83949 1.28868" rotation="0 45 0" material="src: #orbthumb8" onclick="playSwoosh();changeOrb(8);STOPplay360();"  onmouseenter="sqrImg(8);" onmouseleave="dspImg(8);"&gt;&lt;/a-sphere&gt;<br/>      &lt;a-entity id="OrbName_place5" material="color: #F9CF45" class="clickable" position="-15.9627 2.8206 1.78232" rotation="0 180 0" text-geometry="value: The Beach; size: 0.12; font: #optimerBoldFont" onclick="playBlip();speakInfo('The Beach');" visible="false"&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="OrbName_place7" material="color: #F9CF45" class="clickable" position="-15.9627 2.8206 1.78232" rotation="0 180 0" text-geometry="value: Pier and Bridge; size: 0.12; font: #optimerBoldFont" onclick="playBlip();speakInfo('Pier and Bridge');" visible="false"&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="OrbName_place8" material="color: #F9CF45" class="clickable" position="-15.9627 2.8206 1.78232" rotation="0 180 0" text-geometry="value: Downtown SF; size: 0.12; font: #optimerBoldFont" onclick="playBlip();speakInfo('San Francisco Market Street');" visible="false"&gt;&lt;/a-entity&gt;<br/>      &lt;a-plane id="orb_2Dimg5" position="-16.55312 1.85704 1.7512" scale="2.168 1.8 0.1" rotation="0 180 0" material="src: #imgthumb5; side: double"  visible="false"&gt;&lt;/a-plane&gt;<br/>      &lt;a-plane id="orb_2Dimg7" position="-16.55312 1.85704 1.7512" scale="2.168 1.8 0.1" rotation="0 180 0" material="src: #imgthumb7; side: double" visible="false"&gt;&lt;/a-plane&gt;<br/>      &lt;a-plane id="orb_2Dimg8" position="-16.55312 1.85704 1.7512" scale="2.168 1.8 0.1" rotation="0 180 0" material="src: #imgthumb8; side: double" visible="false"&gt;&lt;/a-plane&gt;<br/>      &lt;a-box id="ReturnIsland" class="clickable" position="-17.44352 0.29908 1.42523" rotation="-27.12095723251752 -180 0" material="src: #ReturnBack" scale="0.3 0.3 0.3" onclick="restoreScene();" shadow visible="false"&gt;&lt;/a-box&gt;</span><span id="a638" class="ly lz in lu b gy me mb l mc md">&lt;a-entity id="shadowcamera" light="intensity: 0.25; castShadow: true; shadowCameraLeft: -100; shadowCameraBottom: -100; shadowCameraRight: 100; shadowCameraTop: 100; shadowCameraVisible: false; angle: 180; decay: 0.5; shadowCameraFar: 100; shadowMapHeight: 1024; shadowMapWidth: 1024" position="-30.43253 34.92862 0.12768"&gt;&lt;/a-entity&gt;</span><span id="e65a" class="ly lz in lu b gy me mb l mc md">&lt;a-entity id="mouseCursor" cursor="rayOrigin: mouse"&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="navmesh-walls" gltf-model="assets/gltf/FURTHERIslandNavmesh.gltf" visible="false" nav-mesh=""&gt;&lt;/a-entity&gt;<br/>      &lt;a-entity id="avatar" networked="template:#avatar-template;attachTemplateToLocal:false;"<br/>        movement-controls="constrainToNavMesh: true;" spawn-in-circle="radius:1"&gt;<br/>        &lt;a-entity class="cam" networked="template:#head-template;attachTemplateToLocal:false;" camera="active: true"<br/>          position="0 1.6 0" look-controls&gt;&lt;/a-entity&gt;<br/>        &lt;a-entity class="leftController" networked="template:#hand-left;attachTemplateToLocal:false;"<br/>          hand-controls="hand: left; handModelStyle: lowPoly; color: #15ACCF"  teleport-controls="cameraRig: #avatar; teleportOrigin: #cam; button: trigger; type: line; curveShootingSpeed: 10; collisionEntities: #navmesh-walls; landingMaxAngle: 60" visible="true" &gt;&lt;/a-entity&gt;<br/>        &lt;a-entity class="rightController" networked="template:#hand-right;attachTemplateToLocal:false;"<br/>          hand-controls="hand: right; handModelStyle: lowPoly; color: #15ACCF" laser-controls raycaster="showLine: true; far: 10; interval: 0; objects: .clickable, a-link;" line="color: #7cfc00; opacity: 0.5" visible="true"&gt;&lt;/a-entity&gt;<br/>      &lt;/a-entity&gt;</span><span id="2b59" class="ly lz in lu b gy me mb l mc md">&lt;a-curve id="tracA" &gt;<br/>        &lt;a-curve-point position="-33.15232 -3 -1.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-35.15232 -3 -2.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-37.15232 -3 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-35.15232 -3 -7.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-33.15232 -3 -9.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-36.15232 -3 -7.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-38.15232 -3 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-36.15232 -3 -2.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-33.15232 -3 -1.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>    &lt;/a-curve&gt;<br/>    &lt;a-curve id="tracB" curve=""&gt;<br/>        &lt;a-curve-point position="-33.15232 -3 -3.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-36.15232 -3 -4.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-37.15232 -3 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-36.15232 -3 -3.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-33.15232 -3 -1.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-30.15232 -3 -4.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-29.15232 -3 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-30.15232 -3 -3.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-33.15232 -3 -3.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>    &lt;/a-curve&gt;<br/>    &lt;a-curve id="tracC" curve=""&gt;<br/>        &lt;a-curve-point position="-31.15232 -3.5 -4.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-32.15232 -3.5 -2.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-33.15232 -3.5 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-30.15232 -3.5 -6.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-33.15232 -3.5 -3.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-35.15232 -3.5 -1.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-32.15232 -3.5 -3.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-30.15232 -3.5 -4.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-31.15232 -3.5 -4.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>    &lt;/a-curve&gt;<br/>    &lt;a-curve id="tracD" curve=""&gt;<br/>        &lt;a-curve-point position="-30.15232 -3.5 -4" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-30.15232 -3.5 -2" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-32.15232 -3.5 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-31.15232 -3.5 -2.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-30.15232 -3.5 5" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-32.15232 -3.5 -2.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-30.15232 -3.5 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-32.15232 -3.5 -2" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-30.15232 -3.5 -4" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>    &lt;/a-curve&gt;<br/>    &lt;a-curve id="tracE" curve=""&gt;<br/>        &lt;a-curve-point position="-33.15232 -3 -2" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-35.15232 -3 -4" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-33.15232 -3 -3" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-30.15232 -3 -4.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-30.15232 -3 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-30.15232 -3 -6.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-30.15232 -3 -6" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-29.15232 -3 -1" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-33.15232 -3 -2" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>    &lt;/a-curve&gt;<br/>    &lt;a-curve id="tracF" curve=""&gt;<br/>        &lt;a-curve-point position="-29.15232 -3 -3" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-31.15232 -3 -2" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-33.15232 -3 -4" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-36.15232 -3 -2" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-38.15232 -3 -3" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-34.15232 -3 -3" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-30.15232 -3 -3" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-29.15232 -3 -3" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>    &lt;/a-curve&gt;<br/>    &lt;a-curve id="tracG" curve=""&gt;<br/>        &lt;a-curve-point position="-32.15232 -3 -4" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-36.15232 -3 -3" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-34.15232 -3 -3" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-34.15232 -3 -3" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-36.15232 -3 -2" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-37.15232 -3 -4.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-36.15232 -3 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-33.15232 -3 -3" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-32.15232 -3 -4" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>    &lt;/a-curve&gt;<br/>    &lt;a-curve id="tracH" curve=""&gt;<br/>        &lt;a-curve-point position="-35.15232 -3 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-37.15232 -3 -2" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-33.15232 -3 -4" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-35.15232 -3 -2" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-37.15232 -3 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-35.15232 -3 -2.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;  <br/>        &lt;a-curve-point position="-33.15232 -3 -1.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-34.15232 -3 -2.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>        &lt;a-curve-point position="-35.15232 -3 -5.87581" geometry="height:0.1;width:0.1;depth:0.1" material="color:#ff0000" curve-point="" visible="false"&gt;&lt;/a-curve-point&gt;<br/>    &lt;/a-curve&gt;<br/>    &lt;a-entity id="FishA" gltf-model="#fish1" alongpath="curve:#tracA;loop:true;dur:12000;rotate:true" scale="0.001 0.001 0.001" position="-4.27 1 -6" shadow="receive:false" rotation="-24 -90 90"&gt;&lt;/a-entity&gt;<br/>    &lt;a-entity id="FishB" gltf-model="#fish2" alongpath="curve:#tracB;loop:true;dur:12000;rotate:true" scale="0.001 0.001 0.001" position="-4.27 1 -6" shadow="receive:false" rotation="-24 -90 90"&gt;&lt;/a-entity&gt;<br/>    &lt;a-entity id="FishC" gltf-model="#fish3" alongpath="curve:#tracC;loop:true;dur:12000;rotate:true" scale="0.001 0.001 0.001" position="-4.27 1 -6" shadow="receive:false" rotation="-24 -90 90"&gt;&lt;/a-entity&gt;<br/>    &lt;a-entity id="FishD" gltf-model="#fish4" alongpath="curve:#tracD;loop:true;dur:12000;rotate:true" scale="0.001 0.001 0.001" position="-4.27 1 -6" shadow="receive:false" rotation="-24 -90 90"&gt;&lt;/a-entity&gt;<br/>    &lt;a-entity id="FishE" gltf-model="#fish1" alongpath="curve:#tracE;loop:true;dur:12000;rotate:true" scale="0.001 0.001 0.001" position="-4.27 1 -6" shadow="receive:false" rotation="-24 -90 90"&gt;&lt;/a-entity&gt;<br/>    &lt;a-entity id="FishF" gltf-model="#fish2" alongpath="curve:#tracF;loop:true;dur:12000;rotate:true" scale="0.001 0.001 0.001" position="-4.27 1 -6" shadow="receive:false" rotation="-24 -90 90"&gt;&lt;/a-entity&gt;<br/>    &lt;a-entity id="FishG" gltf-model="#fish3" alongpath="curve:#tracG;loop:true;dur:12000;rotate:true" scale="0.001 0.001 0.001" position="-4.27 1 -6" shadow="receive:false" rotation="-24 -90 90"&gt;&lt;/a-entity&gt;<br/>    &lt;a-entity id="FishH" gltf-model="#fish4" alongpath="curve:#tracH;loop:true;dur:12000;rotate:true" scale="0.001 0.001 0.001" position="-4.27 1 -6" shadow="receive:false" rotation="-24 -90 90"&gt;&lt;/a-entity&gt;<br/>    &lt;/a-scene&gt;<br/>    &lt;script&gt;<br/>      NAF.schemas.add({<br/>        template: '#avatar-template',<br/>        components: [<br/>          'position',<br/>          'rotation',<br/>        ]<br/>      });<br/>      NAF.schemas.add({<br/>        template: '#head-template',<br/>        components: [<br/>          'position',<br/>          'rotation',<br/>        ]<br/>      });<br/>      NAF.schemas.add({<br/>        template: '#hand-left',<br/>        components: [<br/>          'position',<br/>          'rotation',<br/>        ]<br/>      });<br/>      NAF.schemas.add({<br/>        template: '#hand-right',<br/>        components: [<br/>          'position',<br/>          'rotation',<br/>        ]<br/>      });<br/>      function onConnect() {<br/>        console.log("connected to a room!");<br/>      }<br/>window.onload = function() {<br/>  var context = new AudioContext();<br/>}<br/>document.querySelector('button').addEventListener('click', function() {<br/>  context.resume().then(() =&gt; {<br/>    console.log('Playback resumed successfully');<br/>  });<br/>});<br/>      var AVideoPlayer = function() {<br/>      this.duration         = 0;<br/>      this.current_progress = 0;<br/>      this.progressWidth    = 4;<br/>      this.paused           = true;<br/>      this.elProgressBar   = null;<br/>      this.elProgressTrack = null;<br/>      this.elProgressFill  = null;<br/>      this.elAlertSound    = null;<br/>      this.elVideo         = null;<br/>      this.elVideoScreen   = null;<br/>      this.elControlBack   = null;<br/>      this.elControlPlay   = null;<br/>      this.elControlVolume = null;<br/>      this._initElements = function() {<br/>        this.elProgressBar   = document.getElementById('progress-bar');<br/>        this.elProgressTrack = document.getElementById('progress-bar-track');<br/>        this.elProgressFill  = document.getElementById('progress-bar-fill');<br/>        this.elAlertSound    = document.getElementById('alert-sound');<br/>        this.elVideo         = document.getElementById('video-src');<br/>        this.elVideoScreen   = document.getElementById('video-screen');<br/>        this.elControlBack   = document.getElementById('control-back');<br/>        this.elControlPlay   = document.getElementById('control-play');<br/>        this.elControlVolume = document.getElementById('control-volume');<br/>      }</span><span id="9db1" class="ly lz in lu b gy me mb l mc md">this.setProgress = function(progress) {<br/>        var new_progress = this.progressWidth*progress;<br/>        this._setProgressWidth(new_progress);<br/>        var progress_coord = this._getProgressCoord();<br/>        if (progress_coord != undefined) {<br/>         progress_coord.x = -(this.progressWidth-new_progress)/2;<br/>         this._setProgressCoord(progress_coord);<br/>        }<br/>      }<br/>      this._getProgressCoord = function() {<br/>        return AFRAME.utils.coordinates.parse(this.elProgressFill.getAttribute("position"))<br/>      }<br/>      this._getProgressWidth = function() {<br/>        return parseFloat(this.elProgressFill.getAttribute("width"));<br/>      }<br/>      this._setProgressCoord = function(coord) {<br/>        this.elProgressFill.setAttribute("position", coord);<br/>      }<br/>      this._setProgressWidth = function(width) {<br/>        this.elProgressFill.setAttribute("width", width);<br/>      }<br/>      this.isProgressBarVisible = function(isVisible) {<br/>        this.elProgressTrack.setAttribute("visible", isVisible);<br/>        this.elProgressFill.setAttribute("visible", isVisible);<br/>      }<br/>      this.isControlVisible = function(isVisible) {<br/>        this.elControlBack.setAttribute("visible", isVisible);<br/>        this.elControlVolume.setAttribute("visible", isVisible);<br/>        this.elVideoScreen.setAttribute("visible", isVisible);<br/>      }<br/>      this._addPlayerEvents = function() {<br/>        var that = this;<br/>        this.elVideo.pause();<br/>        this.elVideo.onplay = function() {<br/>          that.duration = this.duration;<br/>        }<br/>        this.elVideo.ontimeupdate = function() {<br/>          if (that.duration &gt; 0) {<br/>            that.current_progress = this.currentTime/that.duration;<br/>          }<br/>          that.setProgress(that.current_progress);<br/>        }<br/>      }<br/>      this._addControlsEvent = function() {<br/>        var that = this;<br/>        this.elControlPlay.addEventListener('click', function () {<br/>          that._playAudioAlert();<br/>          if (that.elVideo.paused) {<br/>            this.setAttribute('src', '#pause');<br/>            that.elVideo.play();<br/>            that.paused = false;<br/>            that.isProgressBarVisible(true);<br/>            that.isControlVisible(true);<br/>          } else {<br/>            this.setAttribute('src', '#play');<br/>            that.elVideo.pause();<br/>            that.paused = true;<br/>            that.isProgressBarVisible(false);<br/>            that.isControlVisible(false);<br/>         }<br/>        });<br/>        this.elControlVolume.addEventListener('click', function () {<br/>          that._playAudioAlert();<br/>          if (that.elVideo.muted) {<br/>            that.elVideo.muted = false;<br/>            this.setAttribute('src', '#volume-normal');<br/>          } else {<br/>            that.elVideo.muted = true;<br/>            this.setAttribute('src', '#volume-mute');<br/>          }<br/>        });<br/>        this.elControlBack.addEventListener('click', function () {<br/>          that._playAudioAlert();<br/>          that.elVideo.currentTime = 0;<br/>        });<br/>      }<br/>      this._addProgressEvent = function() {<br/>        var that = this;<br/>        this.elProgressBar.addEventListener('click', function (e) {<br/>          if (e.detail == undefined || e.detail.intersection == undefined || that.duration === 0) {<br/>            return;<br/>          }<br/>          let seekedPosition = (e.detail.intersection.point.x+(that.progressWidth/2))/that.progressWidth;<br/>          try {<br/>            let seekedTime = seekedPosition*that.duration;<br/>            that.elVideo.currentTime = seekedTime;<br/>          } catch (e) {<br/>          }<br/>        });<br/>      }<br/>      this._playAudioAlert = function() {<br/>        if (this.elAlertSound.components !== undefined &amp;&amp; this.elAlertSound.components.sound !== undefined) {<br/>         this.elAlertSound.components.sound.playSound();<br/>        }<br/>      }<br/>      this._mobileFriendly = function() {<br/>        if (AFRAME.utils.device.isMobile()) {<br/>          var that = this;<br/>          let video_permission        = document.getElementById('video-permission');<br/>         let video_permission_button = document.getElementById('video-permission-button');<br/>          video_permission.style.display = 'block';<br/>          video_permission_button.addEventListener("click", function() {<br/>            video_permission.style.display = 'none';<br/>            that.elVideo.play();<br/>            that.elVideo.pause();<br/>          }, false);<br/>        }<br/>      }<br/>      this.init = function() {<br/>        this._initElements();<br/>        this.setProgress(this.current_progress);<br/>        this._addPlayerEvents();<br/>        this._addControlsEvent();<br/>        this._addProgressEvent();<br/>        this._mobileFriendly();<br/>      }<br/>      this.init();<br/>    }<br/>      let scene = document.querySelector('a-scene');<br/>      var cursor = document.querySelector('a-cursor');<br/>      scene.lightOff = function() {<br/>        scene.islightOn = true;<br/>        scene.removeAttribute('animation__fogback');<br/>        scene.setAttribute('animation__fog', "property: fog.color; to: #0c192a; dur: 800; easing: easeInQuad;");<br/>      }<br/>      scene.lightOn = function() {<br/>        scene.islightOn = false;<br/>        scene.removeAttribute('animation__fog');<br/>        scene.setAttribute('animation__fogback', "property: fog.color; to: #dbdedb; dur: 800");<br/>      }<br/>      var videoPlayer = new AVideoPlayer();<br/>      document.querySelector('#control-play').addEventListener('click', function () {<br/>        if (videoPlayer.paused) {<br/>          scene.lightOn()<br/>        } else {<br/>          scene.lightOff();<br/>        }<br/>      });<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="16cd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mf">更多内容请看</em><a class="ae kt" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mf">plain English . io</em></strong></a></p></div></div>    
</body>
</html>