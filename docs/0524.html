<html>
<head>
<title>15 Helpful JavaScript One-Liners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">15个有用的JavaScript一行程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/15-helpful-javascript-one-liners-946e1d1a1653?source=collection_archive---------1-----------------------#2021-02-01">https://javascript.plainenglish.io/15-helpful-javascript-one-liners-946e1d1a1653?source=collection_archive---------1-----------------------#2021-02-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0a8d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">只需几分钟就能更好地掌握JavaScript</h2></div><p id="ecea" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">无论您是JavaScript新手还是更有经验的开发人员，学习一些新东西总是好的。在本文中，我们将浏览一组JavaScript一行程序，希望这些程序可以帮助您解决一些您最终会遇到的日常JavaScript问题。</p><p id="39e9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">希望你能学到一两件事！</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="d342" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">1.生成一个范围内的随机数</h1><p id="9d0b" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">使用<em class="mf"> Math.random() </em>函数可以很容易地在JavaScript中获得一个随机值。但是一定范围内的随机数呢？对此没有标准的JavaScript函数。下面的函数可以用来解决这个问题。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mg"><img src="../Images/b29cf068ae4f4688872ed9e83be24045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LhqypqHfyy9Z3rkpsM-6eQ.png"/></div></div></figure><p id="e9be" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意<em class="mf">最大</em>值是<em class="mf">包含在</em>范围内。如果您想从范围中排除<em class="mf">最大值</em>，您可以从功能中删除<code class="fe ms mt mu mv b">+ 1</code>。</p><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="d893" class="na lj iq mv b gy nb nc l nd ne">const randomNumberInRange = (min, max) =&gt; Math.floor(Math.random() * (max - min + 1)) + min;</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="4519" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">2.切换布尔值</h1><p id="0fee" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">切换布尔值是所有编程书籍中最古老的技巧之一。一个非常基本的编程问题，可以用很多不同的方法解决。不要使用if语句来确定将布尔值设置为什么值，而是可以使用下面的函数——在我看来这是最干净的方法。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nf"><img src="../Images/316f045a9715abc4b8373abe04cd464c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eYX1icHiXmrrv1xNPh4oLQ.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="8489" class="na lj iq mv b gy nb nc l nd ne">const toggle = (value) =&gt; value = !value</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="f6dc" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">3.以随机顺序对数组元素进行排序</h1><p id="b6fa" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">使用<em class="mf"> Math.random() </em>函数可以对数组中的元素进行随机排序。这是一个常见问题的非常简洁的解决方案。但是，这种排序方式不应该用于实现完全的随机性。为此，应该使用<em class="mf"> sort() </em>函数<strong class="kh ir">而不是</strong>。你可以在这里找到关于这个话题<a class="ae ng" href="https://javascript.info/task/shuffle" rel="noopener ugc nofollow" target="_blank">的更多信息。</a></p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nh"><img src="../Images/efa5c1953af06b7f45d0d7f0c50e47dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oDPklx_RaEQFkvjrP1_sSg.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="b50c" class="na lj iq mv b gy nb nc l nd ne">const sortRandom = (arr) =&gt; arr.sort(() =&gt; Math.random() - 0.5)</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="764c" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">4.将字符串大写</h1><p id="29fa" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">与Python、C#和PHP等其他流行的编程语言不同，JavaScript没有允许将字符串大写的功能。然而，这是一个经常使用的基本功能。你可以在这个函数中放入一个单词或一个完整的句子，只要它是一个字符串。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi ni"><img src="../Images/10d70a178066435e3c5982e94dc14875.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U-so1z_giQxdcm_OhQESoA.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="b22c" class="na lj iq mv b gy nb nc l nd ne">const capitalize = (str) =&gt; str.charAt(0).toUpperCase() + str.slice(1)</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="5c5b" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">5.检查变量是否是数组</h1><p id="e662" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">有几种方法可以检查一个变量是否是一个数组，但这是我更喜欢的方法——简洁且易于理解。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nj"><img src="../Images/5cd1eeaf7a1c5ef3da842fe29b9b3e66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zNgq8y9f6a2dlYvpizU1Jw.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="6809" class="na lj iq mv b gy nb nc l nd ne">const isArray = (arr) =&gt; Array.isArray(arr)</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="b066" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">6.从URL提取主机名</h1><p id="6e52" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">虽然这个函数从技术上来说不是一行程序，但它仍然是一个非常有用的函数。这对于检查链接是外部的还是内部的很有用。在此基础上，您可以为某些链接添加不同的行为或样式。</p><p id="4c0c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个函数也适用于包含端口号或查询字符串的URL。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nk"><img src="../Images/54837112449076a103c405bfa24f9316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pBm9VtqE1tl7Lu9zjuVJ6g.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="14fb" class="na lj iq mv b gy nb nc l nd ne">const extractHostname = (url) =&gt; {<br/>  let hostname = (url.indexOf("//") &gt; -1) ? url.split('/')[2] : url.split('/')[0]</span><span id="5d3f" class="na lj iq mv b gy nl nc l nd ne">  // Remove port number.<br/>  hostname = hostname.split(':')[0]</span><span id="0727" class="na lj iq mv b gy nl nc l nd ne">  // Remove querystring.<br/>  hostname = hostname.split('?')[0]</span><span id="daca" class="na lj iq mv b gy nl nc l nd ne">  return hostname<br/>}</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="ae92" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">7.获取数组中的唯一值</h1><p id="64c8" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">一个非常简单，但是非常简洁的技巧来删除数组中所有重复的值。这个技巧将我们用作第一个参数的数组转换成一个<em class="mf">集合</em>，然后再转换回一个数组。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nm"><img src="../Images/ddba03d4bbb2f97188d396a58a2e6aa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EzVTqoCa79MOxUIJOUxsAg.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="3e0f" class="na lj iq mv b gy nb nc l nd ne">const uniqueValues = (arr) =&gt; [...new Set(arr)]</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="cbb4" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">8.检查数组中的所有项目是否满足特定条件</h1><p id="d8d9" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated"><em class="mf"> every </em>方法检查数组中的所有元素是否满足特定条件。此方法将回调作为其唯一的参数，并返回一个布尔值。</p><p id="b1e1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mf">提示:如果你只需要数组中的一个元素来满足某个条件，你可以使用some()方法。</em></p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nf"><img src="../Images/6f7132e4786a923ffb3bee36d26ac6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A6-u2G3TDsreY1Y_RLu1sw.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="9392" class="na lj iq mv b gy nb nc l nd ne">const isOldEnough = (age) =&gt; age &gt;= 18<br/>const ages = [7, 19, 12, 33, 15, 49]</span><span id="b3e5" class="na lj iq mv b gy nl nc l nd ne">ages.every(isOldEnough) // Results in false</span><span id="e450" class="na lj iq mv b gy nl nc l nd ne">const olderPeople = [39, 51, 33, 65, 49]</span><span id="b4e8" class="na lj iq mv b gy nl nc l nd ne">olderPeople.every(isOldEnough) // Results in true</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="938d" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">9.基于区域设置格式化浮动</h1><p id="c397" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">格式化浮动可以通过几种方式来完成。但是，如果您使用的应用程序支持多种语言环境，格式可能会有所不同。下面的一行程序支持不同地区的格式化浮点。</p><p id="537a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mf">提示:如果您需要支持多个地区，您可以为该地区向该函数添加第三个参数。</em></p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nn"><img src="../Images/3125c5f3dacc0a497d80da3a5da1758f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*By9hg4_9jSiPjzraQ0zkyg.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="3b72" class="na lj iq mv b gy nb nc l nd ne">const formatFloat = (floatValue, decimals) =&gt; parseFloat(floatValue.toFixed(decimals)).toLocaleString("en-US")</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="3f2b" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">10.更新查询字符串</h1><p id="930c" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">例如，在使用过滤器时，更新查询字符串非常有用。这里有一个例子，说明如何用JavaScript的<em class="mf"> URLSearchParams </em>接口更新查询字符串。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi no"><img src="../Images/0bcfc2531ce3e1636acd893dbbb46afd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*coUFECoIhr0GcoWv7JpNjA.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="b3a6" class="na lj iq mv b gy nb nc l nd ne">const searchParams = new URLSearchParams(window.location.search)</span><span id="053c" class="na lj iq mv b gy nl nc l nd ne">searchParams.set('key', 'value')</span><span id="ee54" class="na lj iq mv b gy nl nc l nd ne">history.replaceState(null, null, '?' + searchParams.toString())</span></pre><p id="af72" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意，传递给<em class="mf"> URLSearchParams </em>的<em class="mf"> window.location.search </em>将保持当前查询字符串不变。这意味着，在本例中，<em class="mf"> key=value </em>将被添加到当前查询字符串中。如果您想从头开始构建一个查询字符串，请省略<em class="mf"> window.location.search </em>参数。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="66d6" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">11.只允许正数</h1><p id="e387" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">有时候，您希望变量只包含正数。您可以使用下面的一行程序，而不必使用if语句来检查数字是否为负数:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi np"><img src="../Images/a5655670a26f674913fac6ea73da99db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X2APgzXVsQsvXNfllLkioQ.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="c8e7" class="na lj iq mv b gy nb nc l nd ne">const getPositiveNumber = (number) =&gt; Math.max(number, 0)</span></pre><p id="e6f9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以使用这个一行程序代替如下所示的代码片段:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/a14b99541bdafbfc5d125fea4245a705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*BsEiHEeshaPA4AM5kKKdsg.png"/></div></figure><p id="ec56" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mf"> Math.max() </em>的解决方案干净多了吧？</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="b163" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">12.显示打印对话框</h1><p id="19e7" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">下面一行代码将显示打印对话框，如果您想为用户提供一种友好的方式来打印您网站上的某个页面，这个对话框会很有帮助。</p><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="b1cb" class="na lj iq mv b gy nb nc l nd ne">const showPrintDialog = () =&gt; window.print()</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="d412" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">13.将文本复制到剪贴板</h1><p id="e1ab" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">将文本复制到剪贴板是一个问题，可以通过多种方式解决。</p><p id="c0c2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您只关心支持现代浏览器，下面的例子就足够了:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nr"><img src="../Images/cc146f020f617f65eb9e1d8eaf3140fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h9w48f5q0IKj8eFIGeCrJg.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="8a79" class="na lj iq mv b gy nb nc l nd ne">const copyTextToClipboard = async (text) =&gt; {<br/>  await navigator.clipboard.writeText(text)<br/>}</span></pre><p id="4c51" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个非常干净的解决方案，不依赖于任何DOM元素。</p><p id="64ed" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mf">注意，这个函数是异步的，因为writeText函数返回一个承诺。</em></p><p id="67c5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，如果你想支持像Internet Explorer这样的老浏览器，你必须采用这种方法:</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi ns"><img src="../Images/4fc7f7dab496b27e3b20a3c3e5f3367b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zWMd3bY2rp1XcIVE9vNzeA.png"/></div></div></figure><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi ns"><img src="../Images/e85b265ea9e30dc1957afda26f97bb76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vkXeoXwwcbX4vPVciUzl7g.png"/></div></div></figure><p id="ebbf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这种解决方案依赖于输入字段，而不是以前的基于承诺的解决方案。</p><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="9821" class="na lj iq mv b gy nb nc l nd ne">// HTML</span><span id="854c" class="na lj iq mv b gy nl nc l nd ne">&lt;input id="input" type="text" value="This is the text that gets copied"&gt;<br/>&lt;button id="copy"&gt;Copy the text&lt;/button&gt;</span><span id="b3c6" class="na lj iq mv b gy nl nc l nd ne">// JavaScript</span><span id="0a18" class="na lj iq mv b gy nl nc l nd ne">const copy = () =&gt; {<br/>  const copyText = document.querySelector('#input')<br/>  copyText.select()<br/>  document.execCommand('copy')<br/>}<br/><br/>document.querySelector('#copy').addEventListener('click', copy)</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="d827" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">14.将数组中的所有值强制转换</h1><p id="90bc" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">我们可以在一个数组上使用<em class="mf"> map </em>函数来将它的所有条目转换成某种类型。在示例中，您将看到我们首先将一个字符串数组转换为一个数字数组。之后，我们将数字数组转换为布尔值。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi ns"><img src="../Images/a0e71b4b3b5f74961326203b14900e87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2XL43uxZCcw5OzvkpPRyDw.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="e4b6" class="na lj iq mv b gy nb nc l nd ne">const arrayToNumbers = (arr) =&gt; arr.map(Number)<br/>const numbers = arrayToNumbers(['0', '1', '2', '3'])</span><span id="a354" class="na lj iq mv b gy nl nc l nd ne">const arrayToBooleans = (arr) =&gt; arr.map(Boolean)<br/>const booleans = arrayToBooleans(numbers)</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="8cfb" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">15.计算两个日期之间的天数</h1><p id="4ee6" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">如果您经常用JavaScript编程，计算两个日期之间的天数可能会不止一次。为了省去每次都要弄清楚如何解决这个问题的麻烦，您可以使用这个为您提供便利的函数。</p><p id="8e67" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于使用了<em class="mf"> Math.abs() </em>，日期参数的顺序无关紧要。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi nt"><img src="../Images/6757194074e9c122acb3021027851ea3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n5Sne8mTfCKc-34SI8Em7A.png"/></div></div></figure><pre class="mh mi mj mk gt mw mv mx my aw mz bi"><span id="d54f" class="na lj iq mv b gy nb nc l nd ne">const daysBetweenDates = (dateA, dateB) =&gt; {<br/>  const timeDifference = Math.abs(dateA.getTime() - dateB.getTime())<br/>  <br/>  // Seconds * hours * miliseconds<br/>  return Math.floor(timeDifference / (3600 * 24 * 1000))<br/>}</span><span id="d891" class="na lj iq mv b gy nl nc l nd ne">daysBetweenDates(new Date('2020/10/21'), new Date('2020/10/29'))<br/>// Result: 8</span><span id="741e" class="na lj iq mv b gy nl nc l nd ne">daysBetweenDates(new Date('2020/10/21'), new Date('2021/10/29'))<br/>// Result: 373</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="5117" class="li lj iq bd lk ll lm ln lo lp lq lr ls jw lt jx lu jz lv ka lw kc lx kd ly lz bi translated">就这样！</h1><p id="eebd" class="pw-post-body-paragraph kf kg iq kh b ki ma jr kk kl mb ju kn ko mc kq kr ks md ku kv kw me ky kz la ij bi translated">现在你已经达到了这个列表的末尾，我希望你学到了一些新的东西。希望您能够将其中一些技巧付诸实践。如果你知道一个很棒的JavaScript单行，但不在这个列表上，请告诉我。我想看更多精彩的俏皮话。</p><p id="81dd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">谢谢你的阅读！</p></div></div>    
</body>
</html>