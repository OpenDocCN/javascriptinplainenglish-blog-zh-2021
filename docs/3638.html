<html>
<head>
<title>How to Use SvelteKit with GitHub Pages</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在GitHub页面中使用SvelteKit</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/sveltekit-github-pages-4fe2844773de?source=collection_archive---------1-----------------------#2021-07-22">https://javascript.plainenglish.io/sveltekit-github-pages-4fe2844773de?source=collection_archive---------1-----------------------#2021-07-22</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/9377fd3ceb9dbb982ebd4396581ba8cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qxv06KFYO8eCc10G8Y_LVw.jpeg"/></div></div></figure><p id="f013" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我等了几个星期才写了一篇关于如何在GitHub页面上使用Svelte的新文章。今天我对测试SvelteKit感兴趣。这篇文章将采取日志的形式:我报告我做的各个步骤。它们是笔记，而不是指南。</p><h1 id="9ddb" class="kx ky ir bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">苗条套装</h1><p id="8d31" class="pw-post-body-paragraph jz ka ir kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ik bi translated">首先，我基于<a class="ae ma" href="https://kit.svelte.dev/" rel="noopener ugc nofollow" target="_blank"> SvelteKit </a>创建一个新项目，输入:</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="178f" class="mk ky ir mg b gz ml mm l mn mo">npm init svelte@next my-app</span></pre><p id="ea8c" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我安装了各种依赖项</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="fd4e" class="mk ky ir mg b gz ml mm l mn mo">npm i</span></pre><p id="b258" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">为了简化在GitHub页面上的发布，我再次使用了<a class="ae ma" href="https://www.npmjs.com/package/gh-pages" rel="noopener ugc nofollow" target="_blank"> gh-pages </a>:</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="93a1" class="mk ky ir mg b gz ml mm l mn mo">npm install gh-pages --save-dev</span></pre><p id="4862" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我在<code class="fe mp mq mr mg b">package.json</code>上添加脚本:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="b5e8" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">然后我创建了<code class="fe mp mq mr mg b">gh-pages.js</code>文件:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="02a7" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">要在GitHub上发布，我需要<a class="ae ma" href="https://www.npmjs.com/package/@sveltejs/adapter-static" rel="noopener ugc nofollow" target="_blank">静态适配器</a>:</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="3cee" class="mk ky ir mg b gz ml mm l mn mo">npm i -D @sveltejs/adapter-static@next</span></pre><p id="dcb7" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">所以，我更新了<code class="fe mp mq mr mg b">svelte.config.js</code>文件</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="e2ed" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">如果我运行这个命令</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="e9ad" class="mk ky ir mg b gz ml mm l mn mo">npm run build</span></pre><p id="cca1" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我会在项目的根目录下得到一个<code class="fe mp mq mr mg b">build</code>文件夹。这将是上传到GitHub页面的文件夹。但是首先我必须配置存储库。</p><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/89bf0767a1ae181f672a6c1f59fc9d80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VIHw9DmtJuunN7Shmynmsw.jpeg"/></div></div></figure><p id="4e9f" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我将<code class="fe mp mq mr mg b">gh-pages</code>分支设置为站点原点，并且为了以防万一，我设置了一个自定义域。</p><p id="7a38" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">然后我还需要两个文件，都在<code class="fe mp mq mr mg b">static</code>文件夹中:</p><ul class=""><li id="e28e" class="mu mv ir kb b kc kd kg kh kk mw ko mx ks my kw mz na nb nc bi translated"><code class="fe mp mq mr mg b">.nojekyll</code>:阻止Jekyll管理页面(参见<a class="ae ma" href="https://github.blog/2009-12-29-bypassing-jekyll-on-github-pages/" rel="noopener ugc nofollow" target="_blank">在GitHub页面上绕过Jekyll</a>)</li><li id="6461" class="mu mv ir kb b kc nd kg ne kk nf ko ng ks nh kw mz na nb nc bi translated"><code class="fe mp mq mr mg b">CNAME</code>:允许GitHub页面使用我设置的自定义域。</li></ul><p id="31fb" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated"><code class="fe mp mq mr mg b">.nojekyll</code>是一个空文件。创建它，不要在里面写任何东西。</p><p id="8521" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated"><code class="fe mp mq mr mg b">CNAME</code>只包含一行:域名，格式如下:</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="8073" class="mk ky ir mg b gz ml mm l mn mo">test.stranianelli.com</span></pre><p id="ec31" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">现在我可以用<code class="fe mp mq mr mg b">npm run build</code>重新编译网站，然后使用</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="f365" class="mk ky ir mg b gz ml mm l mn mo">npm run deploy</span></pre><p id="5def" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">上传到网上。</p><p id="a1a0" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">在开发过程中，我可以使用命令</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="a7b1" class="mk ky ir mg b gz ml mm l mn mo">npm run dev -- --open</span></pre><p id="302a" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">实时查看对代码所做的更改。</p><p id="9e67" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">为了添加一个新页面(<code class="fe mp mq mr mg b">about.svelte</code>)，我在<code class="fe mp mq mr mg b">src\routes</code>文件夹中创建了一个新组件。</p><h1 id="e7e5" class="kx ky ir bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">如何用SvelteKit创建博客</h1><p id="d634" class="pw-post-body-paragraph jz ka ir kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ik bi translated">这对于静态站点来说是不错的。如果你想创建一个类似博客的东西呢？</p><p id="6923" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">从现在开始事情变得复杂了。我在网上找到了一些帖子和视频:</p><ul class=""><li id="48d5" class="mu mv ir kb b kc kd kg kh kk mw ko mx ks my kw mz na nb nc bi translated"><a class="ae ma" href="https://svelteland.github.io/svelte-kit-blog-demo" rel="noopener ugc nofollow" target="_blank">苗条博客</a>——谢谢你约翰！</li><li id="5b3a" class="mu mv ir kb b kc nd kg ne kk nf ko ng ks nh kw mz na nb nc bi translated"><a class="ae ma" href="https://www.youtube.com/playlist?list=PLm_Qt4aKpfKgonq1zwaCS6kOD-nbOKx7V" rel="noopener ugc nofollow" target="_blank"> Sveltekit Markdown博客</a></li><li id="752d" class="mu mv ir kb b kc nd kg ne kk nf ko ng ks nh kw mz na nb nc bi translated"><a class="ae ma" href="https://strapi.io/blog/how-to-create-a-blog-with-svelte-kit-strapi" rel="noopener ugc nofollow" target="_blank">如何用SvelteKit和Strapi创建博客</a></li><li id="73e9" class="mu mv ir kb b kc nd kg ne kk nf ko ng ks nh kw mz na nb nc bi translated"><a class="ae ma" href="https://dev.to/ladvace/how-to-create-a-blog-with-sveltekit-and-dev-to-api-5h7e" rel="noopener ugc nofollow" target="_blank">如何用SvelteKit和dev.to API创建博客</a></li></ul><p id="afb1" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">和其他人。我对任何提议的解决方案都不满意。但是我还没有我的提议。我特别感谢<a class="ae ma" href="https://blog.webjeda.com/" rel="noopener ugc nofollow" target="_blank"> WebJeda </a>的视频和帖子。</p><p id="9188" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我需要一些其他的工具。首先，我需要在每个<code class="fe mp mq mr mg b">npm run build</code>命令之前用<a class="ae ma" href="https://github.com/sindresorhus/trash-cli" rel="noopener ugc nofollow" target="_blank"> trash-cli </a>清理<code class="fe mp mq mr mg b">build</code>目录。</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="029b" class="mk ky ir mg b gz ml mm l mn mo">npm i -D trash-cli</span></pre><p id="4b64" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我给<code class="fe mp mq mr mg b">package.json</code>添加了一个新的脚本，并更新了<code class="fe mp mq mr mg b">build</code>:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="e8bc" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">然后我将<a class="ae ma" href="https://mdsvex.pngwn.io/" rel="noopener ugc nofollow" target="_blank"> mdsvex </a>导入到项目中</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="1e16" class="mk ky ir mg b gz ml mm l mn mo">npm i -D mdsvex</span></pre><p id="c2e0" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">接下来我使用<a class="ae ma" href="https://github.com/svelte-add/mdsvex" rel="noopener ugc nofollow" target="_blank">svelet-add/MDS vex</a>:</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="bda6" class="mk ky ir mg b gz ml mm l mn mo">npx svelte-add@latest mdsvex</span></pre><p id="322e" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated"><code class="fe mp mq mr mg b">mdsvex</code>允许我像使用苗条组件一样使用减价页面。也作为一个苗条路由器的页面。有一个配置文件，<code class="fe mp mq mr mg b">mdsvex.config.js</code>:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="790f" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我改变<code class="fe mp mq mr mg b">svelte.config.js</code>来处理降价:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="9bfa" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">作为测试，我拿几篇假博文。我创建了<code class="fe mp mq mr mg b">src/routes/blog</code>文件夹并插入了一些<code class="fe mp mq mr mg b">.md</code>。里面有文件。</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="6cc2" class="mk ky ir mg b gz ml mm l mn mo">---<br/>file: hello-world.md<br/>title: Hello World<br/>---<br/><br/>Hi!</span></pre><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="5437" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">再次运行<code class="fe mp mq mr mg b">npm run dev</code>后，我可以在<code class="fe mp mq mr mg b"><a class="ae ma" href="http://localhost:3000/blog/hello-world" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/blog/hello-world</a></code>看到结果</p><p id="8892" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">有趣的是，你可以在文件中使用Svelte。例如，我可以用以下内容设置页面标题:</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="ff4e" class="mk ky ir mg b gz ml mm l mn mo"><strong class="mg is"># {title}</strong></span></pre><p id="1fd6" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我可以使用其他地方定义的组件:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="3fc9" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">图像管理有点复杂。我还是不知道哪种方法最好。有人计划将所有图像放在静态文件夹中，然后从那里调用它们:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="ac48" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">否则，我可以将它们放在<code class="fe mp mq mr mg b">lib</code>内的文件夹中，然后将它们作为组件导入:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><h1 id="beaf" class="kx ky ir bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">创建帖子索引</h1><p id="38f3" class="pw-post-body-paragraph jz ka ir kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ik bi translated">创建博客时要记住的另一个方面是主页。我可以通过创建一个<code class="fe mp mq mr mg b">src/routes/blog/index.svelte</code>组件并使用<a class="ae ma" href="https://kit.svelte.dev/docs#loading" rel="noopener ugc nofollow" target="_blank"> load() </a>函数得到一些好东西。</p><p id="ce30" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我首先导入一个引用文件夹中所有<code class="fe mp mq mr mg b">.md</code>文件的数组:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="d1d1" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我从数组中提取我需要的信息:</p><ul class=""><li id="1a14" class="mu mv ir kb b kc kd kg kh kk mw ko mx ks my kw mz na nb nc bi translated"><code class="fe mp mq mr mg b">path</code>是文件的位置</li><li id="eccd" class="mu mv ir kb b kc nd kg ne kk nf ko ng ks nh kw mz na nb nc bi translated"><code class="fe mp mq mr mg b">metadata</code>是YAML文件本身的内容。</li></ul><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="4b4c" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">最后，我将创建索引所需的内容传递给组件:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="a600" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">组件的其余部分非常简单:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><h1 id="0fab" class="kx ky ir bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">苗条套装和布局</h1><p id="6b0d" class="pw-post-body-paragraph jz ka ir kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ik bi translated"><a class="ae ma" href="https://kit.svelte.dev/docs#layouts" rel="noopener ugc nofollow" target="_blank">布局</a>是一种有趣的可能性。例如，我可以创建一个组件<code class="fe mp mq mr mg b">src/routes/blog/__layout.svelte</code>:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="dcb2" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">在每个博客页面上方插入菜单。</p><h1 id="fca4" class="kx ky ir bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">突出</h1><p id="74b4" class="pw-post-body-paragraph jz ka ir kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ik bi translated">另一个需要解决的问题是代码。或者更确切地说，代码看起来如何。<code class="fe mp mq mr mg b">mdsvx</code>具有运用风格的能力。在这一点上，我没有发现许多明确的迹象。我从<a class="ae ma" href="https://prismjs.com/" rel="noopener ugc nofollow" target="_blank"> prismjs </a>下载了一个样式，效果不错。然后我把css文件(我命名为<code class="fe mp mq mr mg b">prism.css</code>)复制到<code class="fe mp mq mr mg b">static</code>文件夹。最后，我添加了一个样式表引用到<code class="fe mp mq mr mg b">src\app.html</code>:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="a544" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">或者我可以在布局中插入:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><h1 id="7586" class="kx ky ir bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">配置path.base</h1><p id="251d" class="pw-post-body-paragraph jz ka ir kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ik bi translated">当我上传博客时，可能会出现另一个问题。如果我把它上传到一个域，比如说在<code class="fe mp mq mr mg b">test.stranianelli.com</code>上，那么我就可以通过访问<code class="fe mp mq mr mg b">test.stranianelli/blog/first-post</code>这样的地址来访问不同的页面。</p><p id="bed9" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">但是如果我把所有东西都上传到一个非根文件夹，事情就不一样了。为了让一切正常工作，我必须更改文件<code class="fe mp mq mr mg b">svelte.config.js</code>:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="3659" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">这使我可以更好地配置链接，例如:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><h1 id="1d47" class="kx ky ir bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">在页面之间添加过渡</h1><p id="012b" class="pw-post-body-paragraph jz ka ir kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ik bi translated">一个很好的方法是在转帖时添加一个过渡。为此，请遵循埃文·温特的建议。</p><p id="877b" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我创建了一个<code class="fe mp mq mr mg b">PageTransition.svelte</code>组件:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="daa5" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">然后我在布局中使用它:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="dd0d" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">今天到此为止。该代码可在GitHub上获得:</p><div class="ni nj gq gs nk nl"><a href="https://github.com/el3um4s/memento-sveltekit-and-github-pages" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fp"><div class="nn ab no cl cj np"><h2 class="bd is gz z fq nq fs ft nr fv fx iq bi translated">GitHub-el3um 4s/memento-sveltekit-and-GitHub-pages</h2><div class="ns l"><h3 class="bd b gz z fq nq fs ft nr fv fx dk translated">在github上创建一个帐户，为el3um 4s/memento-sveltekit-and-GitHub-pages的开发做出贡献。</h3></div><div class="nt l"><p class="bd b dl z fq nq fs ft nr fv fx dk translated">github.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz jx nl"/></div></div></a></div><p id="0d8c" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">博客地址:<a class="ae ma" href="https://el3um4s.github.io/memento-sveltekit-and-github-pages/" rel="noopener ugc nofollow" target="_blank">el3um4s.github.io/memento-sveltekit-and-github-pages</a>可见。</p></div><div class="ab cl oa ob hv oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="ik il im in io"><h1 id="5ad7" class="kx ky ir bd kz la oh lc ld le oi lg lh li oj lk ll lm ok lo lp lq ol ls lt lu bi translated">2022年1月更新</h1><p id="a4ec" class="pw-post-body-paragraph jz ka ir kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ik bi translated">SvelteKit的最新更新之一改变了传递给函数<a class="ae ma" href="https://kit.svelte.dev/docs#loading" rel="noopener ugc nofollow" target="_blank"> load() </a>的参数。WebJeda上传了一个很好的视频，解释了后果:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="om mt l"/></div></figure><p id="2c0c" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">总之，它是关于通过用<code class="fe mp mq mr mg b">url</code>和<code class="fe mp mq mr mg b">params</code>中的一个替换<code class="fe mp mq mr mg b">page</code>来固定所有的<code class="fe mp mq mr mg b">load</code>功能。</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="27fe" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">或者</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="ms mt l"/></div></figure><p id="9f03" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">SvelteKit仍处于测试阶段，因此预计会有一些破坏性的变化。在此阅读更多<a class="ae ma" href="https://svelte.dev/blog/sveltekit-beta" rel="noopener ugc nofollow" target="_blank">，在此</a>追踪向1.0 <a class="ae ma" href="https://github.com/sveltejs/kit/issues?q=is%3Aopen+is%3Aissue+milestone%3A1.0" rel="noopener ugc nofollow" target="_blank">的进展。</a></p><h1 id="80e3" class="kx ky ir bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">2022年6月更新</h1><p id="c698" class="pw-post-body-paragraph jz ka ir kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ik bi translated">最近几个月，SvelteKit改变了很多。我没有时间跟进所有的更新，因此我在等待稳定版本的发布。尽管如此，还是有人向我咨询如何纠正模板中出现的各种错误信息。我更新了代码，使其与SvelteKit的最新版本保持一致。</p><p id="8288" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">首先我更改了<strong class="kb is"> src/app.html </strong>文件:</p><ul class=""><li id="4966" class="mu mv ir kb b kc kd kg kh kk mw ko mx ks my kw mz na nb nc bi translated">我用<em class="on">% sveletekit . head %</em>替换<em class="on">% sveletehead %</em></li><li id="411d" class="mu mv ir kb b kc nd kg ne kk nf ko ng ks nh kw mz na nb nc bi translated">我用<code class="fe mp mq mr mg b">&lt;div&gt;%sveltekit.body%&lt;/div&gt;</code>代替<code class="fe mp mq mr mg b">&lt;div id="svelte"&gt;%svelte.body%&lt;/div&gt;</code></li></ul><p id="46cc" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">这样，文件就变成了:</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="8076" class="mk ky ir mg b gz ml mm l mn mo">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;link rel="icon" href="favicon.png" /&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;<br/>    %sveltekit.head%<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div&gt;%sveltekit.body%&lt;/div&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="07b3" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">然后我修改了<strong class="kb is"> tsconfig.json </strong>文件，添加了:</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="cfa1" class="mk ky ir mg b gz ml mm l mn mo">"extends": "./.svelte-kit/tsconfig.json",</span></pre><p id="43ab" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">在<strong class="kb is"> svelte.config.js </strong>中，我删除了<code class="fe mp mq mr mg b">kit.target ='#svelte'</code>并添加了一个<code class="fe mp mq mr mg b">prerender</code>:</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="4899" class="mk ky ir mg b gz ml mm l mn mo">kit: {<br/> prerender: {<br/>   crawl: true,<br/>   enabled: true,<br/>   onError: 'continue',<br/>   default: true<br/>  },<br/>}</span></pre><p id="ca72" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">我从<code class="fe mp mq mr mg b"><strong class="kb is">src\routes[slug].svelte</strong></code>中删除<code class="fe mp mq mr mg b">export const ssr = false;</code>。</p><p id="1051" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">所以我创建了<strong class="kb is"> src/hooks.js </strong>文件:</p><pre class="mb mc md me gu mf mg mh mi aw mj bi"><span id="f7ca" class="mk ky ir mg b gz ml mm l mn mo">/** @type {import('@sveltejs/kit').Handle} */</span><span id="dec8" class="mk ky ir mg b gz oo mm l mn mo">export async function handle({ event, resolve }) {<br/>  const response = await resolve(event, {<br/>    ssr: false,<br/>  });<br/>  return response;<br/>}</span></pre><p id="40d5" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">最后，我用<code class="fe mp mq mr mg b">npx npm-check-updates -u</code>更新了项目的所有依赖项。</p><p id="c1be" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl oa ob hv oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="ik il im in io"><p id="9ef0" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated"><strong class="kb is"> <em class="on">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae ma" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="kb is"> <em class="on">中邮箱列表</em> </strong> </a></p><div class="ni nj gq gs nk nl"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="nm ab fp"><div class="nn ab no cl cj np"><h2 class="bd is gz z fq nq fs ft nr fv fx iq bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="ns l"><h3 class="bd b gz z fq nq fs ft nr fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="nt l"><p class="bd b dl z fq nq fs ft nr fv fx dk translated">el3um4s.medium.com</p></div></div><div class="nu l"><div class="op l nw nx ny nu nz jx nl"/></div></div></a></div></div><div class="ab cl oa ob hv oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="ik il im in io"><p id="a3e8" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated"><em class="on">原载于2021年7月23日https://blog.stranianelli.com</em><em class="on">T42</em><a class="ae ma" href="https://blog.stranianelli.com/sveltekit-et-github-pages-english/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="4506" class="pw-post-body-paragraph jz ka ir kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ik bi translated"><em class="on">更多内容看</em><a class="ae ma" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kb is"><em class="on">plain English . io</em></strong></a></p></div></div>    
</body>
</html>