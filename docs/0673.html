<html>
<head>
<title>Build a Simple Customized Dropdown Menu in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React中构建一个简单的自定义下拉菜单</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-simple-customized-dropdown-menu-in-react-9e469b06d7c9?source=collection_archive---------6-----------------------#2021-02-11">https://javascript.plainenglish.io/build-a-simple-customized-dropdown-menu-in-react-9e469b06d7c9?source=collection_archive---------6-----------------------#2021-02-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/ec1e763a163715a77b6fd992221f8fdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vnSY2MEftQAA7qOS1GMVWw.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@markusspiske?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae jz" href="https://unsplash.com/s/photos/dropdown-menu?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a973" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有很好的方法来制作一个漂亮的下拉菜单。其中一个就是用<a class="ae jz" href="https://react-select.com/home" rel="noopener ugc nofollow" target="_blank"> react-select </a>。但是，如果你想让你自己的实践或建立自己的项目组件只是跟着走。</p><p id="6c1b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对于那些没有时间通读的人来说，在这一页的底部写下了完整的代码。:)</p><h1 id="058f" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">目标</h1><p id="3ee2" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">我们的目标是制作一个组件，它将带有一个<strong class="kc io">标题</strong>(这可以是下拉菜单的标题，或者在我们的例子中是一个od 300N的初始值)和一个<strong class="kc io">列表</strong>，它们将是菜单项，作为<strong class="kc io">道具</strong>。当调用我们的组件时，它应该看起来像这样:</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="5d26" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当菜单项被点击时，菜单标题也应该动态改变。我们需要能够在单击下拉标题时切换菜单项，并在下拉菜单外单击时关闭。</p><p id="7874" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">此外，下拉菜单中每隔一个菜单项应该有一个灰色背景。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/8ce301d64f719c0646f1c1d0598f10c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ITfziuiB5zdwuo9rirIIeQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Figma prototype</figcaption></figure><h1 id="ce12" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">让我们开始编码吧</h1><p id="eac4" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">像往常一样，让我们首先制作一个<code class="fe mj mk ml mm b">Dropdown.js</code>和<code class="fe mj mk ml mm b">Dropdown.css</code>文件。</p><p id="24f4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下拉菜单由标题和菜单项组成，我们的HTML代码最后看起来会像这样:</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mn mh l"/></div></figure><p id="0b14" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们需要向组件添加<code class="fe mj mk ml mm b">isMenuOpen</code>状态(用于切换菜单)和<code class="fe mj mk ml mm b">header</code>状态。</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mo mh l"/></div></figure><p id="c18c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">由于我们正在制作我们自己的组件，可以定制，每个下拉菜单将有自己的一套项目，我们需要跟踪选定的项目。我们将从列表中创建一个带有属性的对象映射:id、item和selected。如果header也包含在给定列表中，则在地图中将其选中。</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mp mh l"/></div></figure><h2 id="6055" class="mq la in bd lb mr ms dn lf mt mu dp lj kl mv mw ln kp mx my lr kt mz na lv nb bi translated">制作下拉菜单</h2><p id="c75c" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">首先，我们将制作一个<code class="fe mj mk ml mm b">header</code>按钮，带有值、图标(如果关闭它将是三角形向下，如果打开它将是三角形向下)和onClick函数。</p><p id="4e47" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我写过一篇关于如何将SVG图标导入React项目的文章:</p><div class="nc nd gp gr ne nf"><a href="https://medium.com/javascript-in-plain-english/how-to-display-icons-in-react-e1b650ee8015" rel="noopener follow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">如何在React中显示图标</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">在学习React.js的时候，我多次问自己，在网站上显示图标的最佳实践是什么？</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">medium.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt jt nf"/></div></div></a></div><p id="197e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们将使用react-icons包，如上面的文章中所解释的。</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/a105d2268190afa1af89b2b802c5659f.png" data-original-src="https://miro.medium.com/v2/resize:fit:352/1*6ij1RxarLPkHHcJgdgBHQw.gif"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Please, ignore this line from now on! :)</figcaption></figure><p id="eb83" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们的标题按钮代码现在看起来像这样:</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="nv mh l"/></div></figure><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="nw mh l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">CSS</figcaption></figure><p id="88df" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果我们放一些CSS，应该是这样的:</p><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/d316b6ed11963bed4ef4e72e48e7a47a.png" data-original-src="https://miro.medium.com/v2/resize:fit:352/1*hKr5lWt1SQY1GxCwXzKOlQ.gif"/></div></figure><p id="02e4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，唯一缺少的是菜单中的其他项目。我们将使用<code class="fe mj mk ml mm b">map</code>功能展示它们:</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="nx mh l"/></div></figure><p id="cf71" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你想知道更多关于在React中有条件地应用一个类的信息，我写了一个关于它的故事:</p><div class="nc nd gp gr ne nf"><a href="https://medium.com/javascript-in-plain-english/how-to-conditionally-apply-a-class-in-react-d0e7e34cccf4" rel="noopener follow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">如何在React中有条件地应用一个类</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">有几个方法可以有条件地应用一个类，让我们看看如何去做！</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">medium.com</p></div></div><div class="no l"><div class="ny l nq nr ns no nt jt nf"/></div></div></a></div><p id="ef0e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当然，我们需要编写<code class="fe mj mk ml mm b">onClick</code>函数<code class="fe mj mk ml mm b">selectItem</code>，它将改变header和isMenuOpen的状态，因为如果我们单击菜单项，该菜单项应该是我们的下一个header，单击后我们希望菜单关闭。</p><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="490f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这就够了。</p><h1 id="b649" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">最终解决</h1><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nz"><img src="../Images/571d55e1a3aae0c471720e4813c3040e.png" data-original-src="https://miro.medium.com/v2/resize:fit:338/format:webp/1*XYtHkcHtVzACoNhaNuNrVw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Finished dropdown</figcaption></figure><h2 id="bcd9" class="mq la in bd lb mr ms dn lf mt mu dp lj kl mv mw ln kp mx my lr kt mz na lv nb bi translated">下拉菜单。JS文件</h2><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="oa mh l"/></div></figure><h2 id="3bd0" class="mq la in bd lb mr ms dn lf mt mu dp lj kl mv mw ln kp mx my lr kt mz na lv nb bi translated">CSS文件</h2><figure class="mc md me mf gt jo"><div class="bz fp l di"><div class="nw mh l"/></div></figure></div></div>    
</body>
</html>