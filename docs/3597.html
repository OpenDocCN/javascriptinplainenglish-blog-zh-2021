<html>
<head>
<title>Create Dynamic Input Fields in React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React Native中创建动态输入字段</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/creating-dynamic-input-fields-in-react-native-514a3e8444fa?source=collection_archive---------1-----------------------#2021-07-20">https://javascript.plainenglish.io/creating-dynamic-input-fields-in-react-native-514a3e8444fa?source=collection_archive---------1-----------------------#2021-07-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/518d520a871bc31dc02fb9e04d805a05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NfUW8yA6PjIa6kMp79QdhQ.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@elodiso?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Leon Dewiwje</a> on <a class="ae jz" href="https://unsplash.com/s/photos/forms?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="41cf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这可能是一个常见的需求，有时在我们的表单中，我们需要动态地添加或删除输入字段，并且每个输入字段都需要附加相应的值。最近我实现了这一点。我们可以用不同的方法做这件事。这就是我的实现。</p><p id="76a2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了首先实现这一点，我声明2个状态和1个引用。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="7532" class="lh li in ld b gy lj lk l ll lm">// this will be attached with each input onChangeText<br/>  const [textValue, setTextValue] = useState(''); </span><span id="be80" class="lh li in ld b gy ln lk l ll lm">// our number of inputs, we can add the length or decrease<br/>  const [numInputs, setNumInputs] = useState(1);</span><span id="3534" class="lh li in ld b gy ln lk l ll lm">// all our input fields are tracked with this array<br/>   const refInputs = useRef&lt;<em class="lo">string</em>[]&gt;([textValue]);</span></pre><p id="ebc0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">好了，现在我们需要一个循环来迭代，直到我们的numInputs和生成输入那么多次。</p><figure class="ky kz la lb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lp"><img src="../Images/e52ae47d4c8a671bb11f6bc1a19405a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T_pIQU3S8ZhEc22iqP8ZEA.png"/></div></div></figure><p id="3532" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是我们的渲染JSX。这些是我们正在回复的观点。</p><figure class="ky kz la lb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lq"><img src="../Images/82861190634404edc9b3d1456990a140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gtMwInSXWgaEbkMXqqMMHg.png"/></div></div></figure><p id="64ea" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因为最初，我们的numInputs是1，我们得到1个TextInput和一个按钮来添加更多的输入。</p><figure class="ky kz la lb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lr"><img src="../Images/f9a160947b1c2b435730c79c7928ee74.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*SiitE_4kYVILVPpeJxvrcA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">initial state</figcaption></figure><p id="3964" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">酷，现在我们需要三个函数。</p><ul class=""><li id="faa1" class="ls lt in kc b kd ke kh ki kl lu kp lv kt lw kx lx ly lz ma bi translated">setInputValue -&gt;是设置输入字段的值。</li></ul><figure class="ky kz la lb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mb"><img src="../Images/0a8aab64df274704e0f4d97768964cb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7OXL9p8sGusO2b8mmOXU5g.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">setting text input value</figcaption></figure><ul class=""><li id="3264" class="ls lt in kc b kd ke kh ki kl lu kp lv kt lw kx lx ly lz ma bi translated">addInput -&gt;当添加输入按钮被按下时，添加一个新的输入。</li></ul><figure class="ky kz la lb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mc"><img src="../Images/2a4db49eac3954a2eefc50c5163ffdea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-6lOQ3DXCi73xHPsWqDLRw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">add a new input field</figcaption></figure><ul class=""><li id="b878" class="ls lt in kc b kd ke kh ki kl lu kp lv kt lw kx lx ly lz ma bi translated">移除输入-&gt;当减号图标被按下时移除输入。</li></ul><figure class="ky kz la lb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mc"><img src="../Images/5f9c0ff8d50fd4433a782735ee535d44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZIj5wHTNZfHvuG801T26Eg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">removing a text input field</figcaption></figure><p id="d1e4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们完了！通过所有这些，我们得到以下输出</p><figure class="ky kz la lb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi md"><img src="../Images/be9547a1210a3f7cc91cd2bd322e1643.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*CK8qwP-EhTNHxuY18oOgzw.gif"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">final demo</figcaption></figure><p id="8a5b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://snack.expo.io/@saad-bashar/dynamic-input-field" rel="noopener ugc nofollow" target="_blank">这里的</a>是一个工作演示供你玩。</p><p id="f316" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lo">更多内容尽在</em><a class="ae jz" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="lo">plain English . io</em></strong></a></p></div></div>    
</body>
</html>