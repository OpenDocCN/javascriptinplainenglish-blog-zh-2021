<html>
<head>
<title>How to Build a Linear Gauge in JavaScript: Visualizing Covid-19 Vaccination Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript构建线性量表:可视化新冠肺炎疫苗接种数据</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-build-a-linear-gauge-in-javascript-visualizing-covid-19-vaccination-data-f9d0ed5f5d0f?source=collection_archive---------12-----------------------#2021-10-20">https://javascript.plainenglish.io/how-to-build-a-linear-gauge-in-javascript-visualizing-covid-19-vaccination-data-f9d0ed5f5d0f?source=collection_archive---------12-----------------------#2021-10-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/03e4c1cebf10d0c07e5c04e9784e58c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ytNI_sR7jluT1FVO0kI_Dw.png"/></div></div></figure><p id="e6d8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="kt">这篇文章介绍了一个简单易懂的指南，可以帮助你用JavaScript构建一个交互式线性仪表图。</em>T3】</strong></p><p id="ced5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将展示如何快速创建一个酷炫的交互式线性仪表图，突出显示世界各地的新冠肺炎疫苗接种数据。我们的图表将使我们能够在撰写本文时可视化新冠肺炎疫苗接种的状况，并将显示两种类型的数据——显示我们距离全球人口部分和完全接种疫苗的中途目标有多远。</p><h1 id="d610" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">什么是线性仪表图？</h1><p id="33bd" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated"><a class="ae lx" href="https://www.anychart.com/blog/2018/11/20/data-visualization-definition-history-examples/" rel="noopener ugc nofollow" target="_blank">数据可视化</a>是一个非常有价值的工具，因为大量的数据正在被创建，并且有许多从数据中收集信息的可能性。数据可视化对于识别趋势、解释模式以及向目标受众传达复杂的想法特别有用。</p><p id="f348" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lx" href="https://www.anychart.com/chartopedia/chart-type/linear-gauge/" rel="noopener ugc nofollow" target="_blank">线性标尺</a>图表代表显示所需值的垂直或水平线性标尺，带有彩色标尺以及单个或多个指针。数据范围的最小值和最大值可以根据所表示的数据在轴上设置。指针位置指示指标的当前值。</p><p id="d87e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">仪表图可以使用单个指针或标记组合来显示单个值或多个值。指针可以是针，也可以是带有任何形状标记的线，如圆形、方形、矩形或三角形。</p><p id="4b4b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">线性仪表图类型是一种有效的可视化表示，用于显示值与所需数据点的远近。</p><h2 id="2b0f" class="ly kv in bd kw lz ma dn la mb mc dp le kg md me li kk mf mg lm ko mh mi lq mj bi translated">线性仪表的类型</h2><p id="c86a" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">线性仪表的几种类型是温度计图、子弹图、储罐图和LED图。水银温度计由显示温度和指针值的小刻度组成，是线性仪表图的经典示例。</p><h2 id="5141" class="ly kv in bd kw lz ma dn la mb mc dp le kg md me li kk mf mg lm ko mh mi lq mj bi translated">我们将构建的线性规范可视化</h2><p id="3226" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">这里先睹为快，在最终的线性规图。跟随本教程，了解我们如何用JavaScript构建这个有趣且信息丰富的线性仪表图。</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mk"><img src="../Images/64d6be90aff8259449714fc6641a6dbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*g07ACqUZ3lX12t72.png"/></div></div></figure><h1 id="8813" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">构建JavaScript线性标尺的四个步骤</h1><p id="de16" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">掌握一些HTML和JavaScript之类的技术总是有用的。但是在本教程中，我们使用一个JS图表库，它使创建引人注目的图表变得更加容易，比如线性标尺，即使只有很少的技术知识。</p><p id="6c1f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有几个<a class="ae lx" href="https://en.wikipedia.org/wiki/Comparison_of_JavaScript_charting_libraries" rel="noopener ugc nofollow" target="_blank"> JavaScript图表库</a>用于轻松可视化数据，这里我们用<a class="ae lx" href="https://www.anychart.com/" rel="noopener ugc nofollow" target="_blank"> AnyChart </a>创建线性仪表图。这个库是灵活的，有<a class="ae lx" href="https://docs.anychart.com/" rel="noopener ugc nofollow" target="_blank">丰富的文档</a>，并且包含一些<a class="ae lx" href="https://www.anychart.com/products/anychart/gallery/" rel="noopener ugc nofollow" target="_blank">很棒的例子</a>。而且，它有一个<a class="ae lx" href="https://playground.anychart.com/" rel="noopener ugc nofollow" target="_blank">游乐场</a>用于试验代码，非商业使用免费。如果你想购买授权版本，你可以查看<a class="ae lx" href="https://www.anychart.com/buy/" rel="noopener ugc nofollow" target="_blank">可用选项</a>，如果你是一个教育或非盈利组织，你可以在这里获得免费许可证<a class="ae lx" href="https://www.anychart.com/buy/non-commercial-license/" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="f578" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">制作JavaScript线性标尺的步骤</h1><p id="282d" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">以下是创建线性仪表图的基本步骤:</p><ol class=""><li id="25a2" class="mp mq in jx b jy jz kc kd kg mr kk ms ko mt ks mu mv mw mx bi translated">创建一个基本的HTML页面。</li><li id="d545" class="mp mq in jx b jy my kc mz kg na kk nb ko nc ks mu mv mw mx bi translated">包括必要的JavaScript文件。</li><li id="04a0" class="mp mq in jx b jy my kc mz kg na kk nb ko nc ks mu mv mw mx bi translated">添加数据。</li><li id="00dd" class="mp mq in jx b jy my kc mz kg na kk nb ko nc ks mu mv mw mx bi translated">为图表编写JavaScript代码。</li></ol><p id="8d4e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们在下面详细地看一下这些步骤。</p><h2 id="dfe7" class="ly kv in bd kw lz ma dn la mb mc dp le kg md me li kk mf mg lm ko mh mi lq mj bi translated">1.创建基本的HTML页面</h2><p id="7b09" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我们需要做的第一件事是制作一个包含我们的可视化的HTML页面。我们添加了一个<code class="fe nd ne nf ng b">&lt;div&gt;</code>块元素，并给它一个ID，这样我们可以在以后引用它:</p><pre class="ml mm mn mo gt nh ng ni nj aw nk bi"><span id="fc31" class="ly kv in ng b gy nl nm l nn no">&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Linear Gauge&lt;/title&gt;<br/>    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%; height: 100%; margin: 0; padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="891a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe nd ne nf ng b">&lt;div&gt;</code>的宽度和高度属性被设置为100%,这样图表就可以呈现在整个屏幕上。这些属性可以根据需要进行修改。</p><h2 id="0a0f" class="ly kv in bd kw lz ma dn la mb mc dp le kg md me li kk mf mg lm ko mh mi lq mj bi translated">2.包括必要的JavaScript文件</h2><p id="7114" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">下一步是引用HTML页面中的JS链接。在本教程中，我们将使用AnyChart库，所以让我们从它们的<a class="ae lx" href="https://cdn.anychart.com/" rel="noopener ugc nofollow" target="_blank"> CDN </a>中包含相应的文件。</p><p id="979b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了创建线性仪表图，我们需要添加三个脚本:核心模块<a class="ae lx" href="https://docs.anychart.com/Quick_Start/Modules#core" rel="noopener ugc nofollow" target="_blank"/>、<a class="ae lx" href="https://docs.anychart.com/Quick_Start/Modules#linear_gauge" rel="noopener ugc nofollow" target="_blank">线性仪表模块</a>和<a class="ae lx" href="https://docs.anychart.com/Quick_Start/Modules#table_ui" rel="noopener ugc nofollow" target="_blank">表格模块</a>:</p><pre class="ml mm mn mo gt nh ng ni nj aw nk bi"><span id="e965" class="ly kv in ng b gy nl nm l nn no">&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Linear Gauge&lt;/title&gt;<br/>    &lt;style type="text/css"&gt;<br/>      html, body, #container { <br/>        width: 100%; height: 100%; margin: 0; padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/><strong class="ng io"><em class="kt">      // All the code for the JS linear gauge will come here<br/></em></strong>    &lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.10.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.10.0/js/anychart-linear-gauge.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.10.0/js/anychart-table.min.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h2 id="4360" class="ly kv in bd kw lz ma dn la mb mc dp le kg md me li kk mf mg lm ko mh mi lq mj bi translated">3.添加数据值</h2><p id="da2c" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">线性仪表图的数据是从<a class="ae lx" href="https://ourworldindata.org/" rel="noopener ugc nofollow" target="_blank">我们的世界的数据</a>中收集的，并包含在代码中。在这个网站上，我们可以看到全球各大洲接种了一剂和两剂T4疫苗的人口比例。</p><p id="2214" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因为(在撰写本文时)没有一个数字大于50%，我们将所有线性标尺的轴的最大限制保持为50%，我们比较每个大陆与该标记的距离，以及全球数字。我们用LED表示至少部分接种的数字，用条形指针表示完全接种的数字。我们将在最后一步看到如何添加数据。</p><p id="73ee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那么，我们的初始步骤都完成了，现在让我们添加代码，用JavaScript制作一个线性仪表图！</p><h2 id="93e8" class="ly kv in bd kw lz ma dn la mb mc dp le kg md me li kk mf mg lm ko mh mi lq mj bi translated">4.为图表编写JavaScript代码</h2><p id="94af" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">在添加任何代码之前，我们将所有内容都放在一个函数中，确保其中的整个代码只在页面加载后执行。</p><p id="06ed" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">创建线性仪表图需要几个步骤，比其他基本图表类型要复杂一些。但这并不意味着它非常困难，我们将通过每个步骤来了解图表是如何制作的。</p><h1 id="d429" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">定义仪表图的线性刻度和坐标轴</h1><p id="dac5" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我们的图表中有多个指针。因此，让我们从创建一个接受两个值的函数开始:一个用于条形指针，一个用于LED仪表。然后，我们将创建一个仪表，设置数据，并将布局指定为水平。接下来，我们将设置刻度和轴的范围。我们将用最小和最大范围制作一个线性标度。对于轴，我们将定义属性并设置方向:</p><pre class="ml mm mn mo gt nh ng ni nj aw nk bi"><span id="5762" class="ly kv in ng b gy nl nm l nn no">function drawGauge(value, settings) {<br/><strong class="ng io"><em class="kt">  // Create gauge with settings<br/></em></strong>  const gauge = anychart.gauges.linear();<br/>  gauge.data([value, settings.value]);<br/>  gauge.layout('horizontal');</span><span id="361c" class="ly kv in ng b gy np nm l nn no"><strong class="ng io"><em class="kt">  // Set scale for gauge<br/></em></strong>  const scale = anychart.scales.linear();<br/>  scale.minimum(0).maximum(settings.maximum).ticks({ interval: 2 });</span><span id="90e3" class="ly kv in ng b gy np nm l nn no"><strong class="ng io">  // Set axis for gauge<br/></strong>  const axis = gauge.axis(0);<br/>  axis.width('1%').offset('43%').scale(scale).orientation('bottom');<br/>}</span></pre><h1 id="82a8" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">设置条形指针和标签</h1><p id="c55c" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">现在，我们将为条形系列创建条形指针和标签。标签被赋予一个偏移量以避免与指针重叠:</p><pre class="ml mm mn mo gt nh ng ni nj aw nk bi"><span id="683f" class="ly kv in ng b gy nl nm l nn no"><strong class="ng io"><em class="kt">// Create and set bar point<br/></em></strong>const barSeries = gauge.bar(0);</span><span id="e141" class="ly kv in ng b gy np nm l nn no">barSeries<br/>  .scale(scale)<br/>  .width('4%');</span><span id="4a72" class="ly kv in ng b gy np nm l nn no"><strong class="ng io"><em class="kt">// Create and set label with actual data<br/></em></strong>const labelBar = barSeries.labels();<br/>labelBar<br/>  .enabled(true)<br/>  .offsetY('-15px');</span></pre><h1 id="8e2f" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">创建LED指针并设置颜色属性</h1><p id="f508" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">在LED点中，我们将指定点之间的间隙，并使用dimmer属性来设置剩余LED点的颜色，以指示无光效果。我们还将声明发光LED点的色阶:</p><pre class="ml mm mn mo gt nh ng ni nj aw nk bi"><span id="0a77" class="ly kv in ng b gy nl nm l nn no"><strong class="ng io"><em class="kt">// Create and set LED point<br/></em></strong>const ledPointer = gauge.led(1);</span><span id="679a" class="ly kv in ng b gy np nm l nn no">ledPointer<br/>  .offset('10%')<br/>  .width('30%')<br/>  .count(settings.maximum)<br/>  .scale(scale)<br/>  .gap(0.55)<br/>  .dimmer(function () {<br/>    return '#eee';<br/>  });</span><span id="5f58" class="ly kv in ng b gy np nm l nn no">ledPointer.colorScale().colors(['#63b39b', '#63b39b']);</span></pre><h1 id="3cf3" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">用每个数据点的目标值声明仪表</h1><p id="cc89" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">为了制作每个洲的线性标尺，我们将为每个区域及其数据调用上面定义的函数。第一个数字表示目标值数据，第二个变量是包含LED数据的对象。<code class="fe nd ne nf ng b">maximum</code>保持为常数50，而<code class="fe nd ne nf ng b">value</code>是每个数据点的完全接种人口的百分比值。该值将由指针显示:</p><pre class="ml mm mn mo gt nh ng ni nj aw nk bi"><span id="f98d" class="ly kv in ng b gy nl nm l nn no"><strong class="ng io"><em class="kt">// Create gauges<br/></em></strong>const world = drawGauge(13.68, { maximum: 50, value: 27.13 });<br/>const europe = drawGauge(36.98, { maximum: 50, value: 47.28 });<br/>const nAmerica = drawGauge(36.77, { maximum: 50, value: 46.53 });<br/>const sAmerica = drawGauge(22.8, { maximum: 50, value: 40.54 });<br/>const asia = drawGauge(10.14, { maximum: 50, value: 27.16 });<br/>const oceania = drawGauge(9.75, { maximum: 50, value: 22.12 });<br/>const africa = drawGauge(1.56, { maximum: 50, value: 3.04 });</span></pre><h1 id="68c9" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">设置线性仪表的布局</h1><p id="3a4f" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">为了一个接一个地显示每个线性仪表，我们将定义一个表，并将标题和每个数据点添加为单独的一行。我们将添加布局的各种属性，比如对齐和字体大小。我们还将为第一行定义参数，因为它是标题，并将第一列的宽度属性设置为100%，因为我们不需要更多的列:</p><pre class="ml mm mn mo gt nh ng ni nj aw nk bi"><span id="517a" class="ly kv in ng b gy nl nm l nn no"><strong class="ng io"><em class="kt">// Create table to place gauges<br/></em></strong>const layoutTable = anychart.standalones.table();<br/>layoutTable<br/>  .hAlign('right')<br/>  .vAlign('middle')<br/>  .fontSize(14)<br/>  .cellBorder(null);</span><span id="41da" class="ly kv in ng b gy np nm l nn no"><strong class="ng io"><em class="kt">// Put gauges into the layout table<br/></em></strong>layoutTable.contents([<br/>  [null, 'Covid-19 Vaccination - How far are we from the halfway mark?'],<br/>  ['World', world],<br/>  ['Europe', europe],<br/>  ['North America', nAmerica],<br/>  ['South America', sAmerica],<br/>  ['Asia', asia],<br/>  ['Oceania', oceania],<br/>  ['Africa', africa]<br/>]);</span><span id="dce1" class="ly kv in ng b gy np nm l nn no"><strong class="ng io"><em class="kt">// Set height for first row in layout table<br/></em></strong>layoutTable<br/>  .getRow(0)<br/>  .height(50)<br/>  .fontSize(22)<br/>  .hAlign('center');</span><span id="4c63" class="ly kv in ng b gy np nm l nn no"><strong class="ng io"><em class="kt">// Set the first column to 100% width<br/></em></strong>layoutTable.getCol(0).width(100);</span></pre><h1 id="cb64" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">绘制图表</h1><p id="72eb" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">最后一步是引用我们在上一步中添加的<code class="fe nd ne nf ng b">&lt;div&gt;</code>容器，并绘制图表:</p><pre class="ml mm mn mo gt nh ng ni nj aw nk bi"><span id="e8ad" class="ly kv in ng b gy nl nm l nn no"><strong class="ng io"><em class="kt">// Set container id and initiate drawing<br/></em></strong>layoutTable.container('container');<br/>layoutTable.draw();</span></pre><p id="b4a4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">仅此而已。我们现在有了一个全功能的漂亮的JavaScript线性仪表图！</p><blockquote class="nq nr ns"><p id="613a" class="jv jw kt jx b jy jz ka kb kc kd ke kf nt kh ki kj nu kl km kn nv kp kq kr ks ig bi translated"><strong class="jx io"> <em class="in">可以在</em></strong><a class="ae lx" href="https://codepen.io/SitePoint/pen/xxLwaQx" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="in">CodePen</em></strong></a><strong class="jx io"><em class="in">【以及</em></strong><a class="ae lx" href="https://playground.anychart.com/8iaEyInt/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="in">any chart Playground</em></strong></a><strong class="jx io"><em class="in">】上查看该线性规的初始版本代码。</em>T24】</strong></p></blockquote><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mk"><img src="../Images/af83009d0c236ae67f59b43b45f5ed43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KRVyrqZZJtNdKpsCYF-ueg.png"/></div></div></figure><h1 id="63c6" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">使图表可访问</h1><p id="c54f" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">确保尽可能多的人可以访问图表始终是一个好习惯。因此，牢记a11y，我们制作了一个更适合屏幕阅读器的线性仪表图的基本版本。<strong class="jx io">你可以在</strong> <a class="ae lx" href="https://codepen.io/SitePoint/pen/xxLwamx" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">这里</strong> </a> <strong class="jx io">【或者在</strong> <a class="ae lx" href="https://playground.anychart.com/mFBtbyXW/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> AnyChart游乐场</strong></a><strong class="jx io"/>查看，也可以在AnyChart JavaScript库的<a class="ae lx" href="https://docs.anychart.com/Common_Settings/Accessibility/Overview" rel="noopener ugc nofollow" target="_blank">文档</a>中阅读更多关于这方面的内容。</p><h1 id="2e70" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">自定义线性仪表</h1><p id="b847" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我们制作的默认线性仪表图现在看起来很棒，但做一些修改将增强可读性，使图表更棒。JavaScript库不仅非常适合快速创建图表，还可以根据需要定制可视化效果。图表库为控制图表的行为和美观提供了许多配置选项。让我们对当前的线性仪表图做一些小而有效的调整。</p><h2 id="2bcd" class="ly kv in bd kw lz ma dn la mb mc dp le kg md me li kk mf mg lm ko mh mi lq mj bi translated">颜色修改</h2><p id="3b71" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">为了使线性仪表看起来更有凝聚力，让我们将条形指针的颜色属性设置为LED指针的深色版本。我们将通过指定栏的填充和描边属性来实现这一点:</p><pre class="ml mm mn mo gt nh ng ni nj aw nk bi"><span id="ce9c" class="ly kv in ng b gy nl nm l nn no"><strong class="ng io"><em class="kt">// Create and set bar point<br/></em></strong>const barSeries = gauge.bar(0);<br/>barSeries<br/>  .scale(scale)<br/>  .width('4%')<br/>  .fill('#296953')<br/>  .stroke('#296953');</span></pre><h2 id="c55b" class="ly kv in bd kw lz ma dn la mb mc dp le kg md me li kk mf mg lm ko mh mi lq mj bi translated">向线性仪表图添加图例</h2><p id="81a2" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">因为我们对条形、发光和不发光的LED指针使用了不同的颜色，所以提供图例来解释颜色是一个很好的做法。我们将制作一个图例，并将其添加到图表标题的下方:</p><pre class="ml mm mn mo gt nh ng ni nj aw nk bi"><span id="2801" class="ly kv in ng b gy nl nm l nn no"><strong class="ng io"><em class="kt">// Create stand alone legend<br/></em></strong>const legend = anychart.standalones.legend();<br/>legend<br/>  .position('center')<br/>  .items([<br/>    { text: 'Fully vaccinated', iconFill: '#296953' },<br/>    { text: 'Partially vaccinated', iconFill: '#63b39b' },<br/>    { text: 'Not vaccinated', iconFill: '#eee' }<br/>]);</span></pre><h2 id="f4a0" class="ly kv in bd kw lz ma dn la mb mc dp le kg md me li kk mf mg lm ko mh mi lq mj bi translated">工具提示格式</h2><p id="d394" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">为了促进更好的数据通信，让我们格式化工具提示，通过以百分比形式显示值并指示仪表的最大值为50%，使其更具信息性:</p><pre class="ml mm mn mo gt nh ng ni nj aw nk bi"><span id="b4fe" class="ly kv in ng b gy nl nm l nn no"><strong class="ng io"><em class="kt">// Set gauge tooltip<br/></em></strong>gauge<br/>  .tooltip()<br/>  .useHtml(true)<br/>  .titleFormat('{%Value} %')<br/>  .format(<br/>    'Maximum on scale: ' +<br/>    settings.maximum +<br/>    ' %'<br/>  );</span></pre><blockquote class="nq nr ns"><p id="388a" class="jv jw kt jx b jy jz ka kb kc kd ke kf nt kh ki kj nu kl km kn nv kp kq kr ks ig bi translated"><strong class="jx io"> <em class="in">在</em></strong><a class="ae lx" href="https://codepen.io/SitePoint/pen/dyzYqrX" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="in">CodePen</em></strong></a><strong class="jx io"><em class="in">【或在</em></strong><a class="ae lx" href="https://playground.anychart.com/3bnJzIE4/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="in">any chart Playground</em></strong></a><strong class="jx io"><em class="in">上查看此版本的完整代码。</em> </strong></p></blockquote><h2 id="7e8d" class="ly kv in bd kw lz ma dn la mb mc dp le kg md me li kk mf mg lm ko mh mi lq mj bi translated">轴和标签格式</h2><p id="f92c" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我们要做的最后一件事是将所有数据值显示为百分比值，以避免任何混淆。我们还将在标题下的表格中添加一行副标题，以表明值是百分比。最后一件事是用更粗的字体美化酒吧标签。</p><blockquote class="nq nr ns"><p id="2ec3" class="jv jw kt jx b jy jz ka kb kc kd ke kf nt kh ki kj nu kl km kn nv kp kq kr ks ig bi translated"><strong class="jx io"> <em class="in">这个JavaScript线性仪表图的完整最终代码可以在</em></strong><a class="ae lx" href="https://codepen.io/SitePoint/pen/BadoOEJ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="in">CodePen</em></strong></a><strong class="jx io"><em class="in">【以及</em></strong><a class="ae lx" href="https://playground.anychart.com/0Plt8l1n" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="in">any chart Playground</em></strong></a><strong class="jx io"><em class="in">上找到。</em>T47】</strong></p></blockquote><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mk"><img src="../Images/e1864cb346188aa992860140ddc9b31b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dd1AJG6ud_PrCY030dgwWg.png"/></div></div></figure><h1 id="890f" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">结论</h1><p id="d42d" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">在这个循序渐进的教程中，我们看到了使用一个好的JavaScript库来创建功能强大且视觉上吸引人的JavaScript图表并不太困难。查看文档和示例，以便更好地理解线性仪表的特性和属性。如果您对此图表或其他可视化内容有任何疑问，请提出任何问题。</p><p id="1523" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lx" href="https://www.anychart.com/products/anychart/gallery/" rel="noopener ugc nofollow" target="_blank"> AnyChart </a>提供了多种图表选项，也有许多其他JavaScript图表库用于创建漂亮的可视化效果。</p><p id="3e70" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们都接种疫苗，保持健康，继续创造更多的可视化！</p></div><div class="ab cl nw nx hr ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ig ih ii ij ik"><p id="1a30" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="kt">经沙奇·斯瓦迪亚许可出版。最初于2021年10月19日出现在</em></strong><a class="ae lx" href="https://www.sitepoint.com/create-linear-gauge-chart-javascript/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kt">SitePoint</em></strong></a><strong class="jx io"><em class="kt">上，标题为“如何用JavaScript创建线性仪表图”。</em>T13】</strong></p></div><div class="ab cl nw nx hr ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ig ih ii ij ik"><p id="d18a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="kt">在</em></strong><a class="ae lx" href="https://www.anychart.com/chartopedia/chart-type/linear-gauge/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kt">Chartopedia</em></strong></a><strong class="jx io"><em class="kt">上了解更多关于线性标尺的信息，这是一个选择正确图表类型的免费指南，并查看我们博客上的其他</em></strong><a class="ae lx" href="https://www.anychart.com/blog/category/javascript-chart-tutorials/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kt">JavaScript图表教程</em> </strong> </a> <strong class="jx io"> <em class="kt">。</em> </strong></p></div><div class="ab cl nw nx hr ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ig ih ii ij ik"><p id="e052" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="kt">想写客帖？</em> </strong> <a class="ae lx" href="https://www.anychart.com/support/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="kt">分享</em> </strong> </a> <strong class="jx io"> <em class="kt">你的想法和我们一起来吧！</em>T51】</strong></p></div><div class="ab cl nw nx hr ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ig ih ii ij ik"><p id="1cc8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kt">最初发表于2021年10月20日</em><a class="ae lx" href="https://www.anychart.com/blog/2021/10/20/linear-gauge-chart-javascript/" rel="noopener ugc nofollow" target="_blank"><em class="kt">https://www.anychart.com</em></a><em class="kt">。</em></p><p id="a1e9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kt">更多内容请看</em><a class="ae lx" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kt">plain English . io</em></strong></a></p></div></div>    
</body>
</html>