<html>
<head>
<title>How to Create a Loading Spinner with Framer Motion and React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用成帧器运动和反作用创建加载微调器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-loading-spinner-with-framer-motion-and-react-70ee6d48b325?source=collection_archive---------5-----------------------#2021-04-02">https://javascript.plainenglish.io/how-to-create-a-loading-spinner-with-framer-motion-and-react-70ee6d48b325?source=collection_archive---------5-----------------------#2021-04-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1ce4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建一个只带有成帧器运动和反作用的加载微调器</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b8290ae5a8b516b7c9a5839762496c6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Pxi9iaEr5KcZYLeY"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@jhjowen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">James Owen</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="cb81" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">内容</h1><ul class=""><li id="1f74" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">介绍</li><li id="0194" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">成帧器运动</li><li id="559c" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">运动分量</li><li id="5621" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">入门指南</li><li id="6f23" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">有生命的</li><li id="95cc" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">过渡</li><li id="a491" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">最初的</li><li id="b5bd" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">装载状态</li><li id="573d" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">解决办法</li></ul></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="8e60" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">介绍</h1><p id="e54d" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">在本文+ guide中，我们将创建一个加载微调器，您可以用一百万种不同的方式对其进行定制。在成帧器运动和反应的帮助下，它变得前所未有的好。</p><p id="3c8f" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">如果这是您第一次使用Framer Motion，这不是必需的，但我建议您先通读我的文章“如何使用Framer Motion进行反应”，以了解更多的基础知识。<em class="np">底部链接。</em></p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="7772" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">成帧器运动</h1><p id="1c3e" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">让我们来谈谈Framer Motion，它是什么，Framer Motion提供了一个简单的应用编程接口，使过渡和动画功能强大。因为它让事情变得如此简单，你可以用它做一些非凡的事情，真正把动画带到一个新的水平。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="551b" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">运动分量</h1><p id="aec3" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">Framer Motion为每个HTML和SVG元素提供组件。例如:motion.div、motion.header、motion.button、motion.circle等。</p><p id="b0e6" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">这些组件的工作原理与它们的对应组件完全相同，但是通过将它们与Framer Motion一起使用，您可以访问允许您执行以下操作的道具:</p><ul class=""><li id="9a41" class="lo lp iq lq b lr nk lt nl lv nq lx nr lz ns mb mc md me mf bi translated">添加拖动、平移、悬停甚至点击等事件手势。</li><li id="ba56" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">用强大的动画回应这些手势。</li><li id="c686" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">最初动画元素，甚至无限动画元素。</li><li id="8fca" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated">通过变体在整个反应树中设置动画。</li></ul></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="bae3" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">入门指南</h1><p id="ee20" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated"><em class="np">成帧器-Motion要求您使用的是React版本16.8或更高版本。</em></p><p id="5f30" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">在你的反应应用程序中，运行以下命令来安装我们的成帧器运动依赖。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="9318" class="ny kx iq nu b gy nz oa l ob oc">npm install --save framer-motion</span></pre><p id="3bab" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">现在它已经安装好了，您可以通过以下方式将Motion导入您的组件</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="110d" class="ny kx iq nu b gy nz oa l ob oc"> <!-- -->import { motion } from “framer-motion"</span></pre><p id="ac4b" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">太棒了，在这一点上，我们增加了框架运动到我们的项目中。</p><p id="8414" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">我也将使用样式化的组件来使我的页面布局更漂亮。现在，这不是必需的，您可以很容易地在级联样式表中添加CSS。但是如果你想要和我一样的代码，在你的项目中安装样式化的组件。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="c832" class="ny kx iq nu b gy nz oa l ob oc">npm install --save styled-components</span></pre><p id="68d6" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">现在让我们得到一些入门代码，让它变得简单！我已经创建了这个GitHub要点，你可以复制。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="a685" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">不要为CSS感到压力，这只是为了重新开始并集中我们的内容，绝对不是必需的。如前所述，您可以将这个CSS加载到样式表中，并给它一个容器类，然后将其添加到div中。</p><p id="2cc9" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">一旦你复制并运行了它，我们就可以开始了！</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="8c56" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">有生命的</h1><p id="b548" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">现在我们已经启动并运行了，我们已经安装了Framer Motion，我们的起始代码也准备好了，我们可以开始制作动画了！这让我很兴奋！</p><p id="258b" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">如前所述，当创建运动元素时，就像我们在<code class="fe of og oh nu b">motion.div</code>中所做的那样，我们现在可以使用道具来制作动画了！</p><p id="87cf" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">因为我们正在创建一个旋转器，所以让我们旋转div，享受半径的乐趣，让它看起来像是从屏幕的一边滚动到另一边。</p><p id="427d" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">我们可以通过传递<code class="fe of og oh nu b">rotate</code>来做到这一点，它告诉我们将元素旋转360度。然后我们简单的<code class="fe of og oh nu b">borderRadius</code>动画从一个圆回到它原来的半径。最后但同样重要的是，使用<code class="fe of og oh nu b">x</code>在x轴上移动。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="8cb4" class="ny kx iq nu b gy nz oa l ob oc"><em class="np">animate</em>={{<br/>       rotate: 360,<br/>       borderRadius: [ "50% 50%", "2% 50%"],<br/>       x: 75<br/>}}</span></pre><p id="3cea" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">这有多简单？只需一个道具，你就可以做到这一切！</p><p id="5074" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">您会注意到，当您刷新页面时，这种情况发生得相当快，并且还没有完成我们希望它完成的所有事情。所以让我们进入过渡阶段。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="d7ef" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">过渡</h1><p id="d065" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">过渡可以让你的动画从煤炭到钻石，让我们深入到过渡道具，让我们让这个动画重复和减速。</p><p id="24ee" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">让我们来谈谈翻转属性，翻转使用像<code class="fe of og oh nu b">rotate</code>或<code class="fe of og oh nu b">scaleY</code>这样的变换自动将属性转换成高性能的动画。在我们的例子中，我们传递的是<code class="fe of og oh nu b">Infinity</code>,它不是一个字符串，而是一个内置在全局JavaScript中的全局变量。<code class="fe of og oh nu b">Infinity</code>的值大于任何其他数字。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="8dbb" class="ny kx iq nu b gy nz oa l ob oc"><em class="np">transition</em>={{<br/>      flip: Infinity,<br/>      duration: 2,<br/>      ease: "easeInOut",<br/>}}</span></pre><p id="90ef" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">这下更顺畅了。我们的动画现在无限地来回移动，就像在加载数据一样！</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="bff9" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">最初的</h1><p id="3d77" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">在我看来，我希望看到加载程序开始时稍微偏左一点，所以让我们给它添加一个初始状态。这个初始状态将在这个位置启动元素。</p><p id="c370" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated"><em class="np">注意:这个初始状态可以用于任何动画，我经常看到它和不透明一起使用。</em></p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="a53f" class="ny kx iq nu b gy nz oa l ob oc"><em class="np">initial</em>={{<br/>x: -75<br/>}}</span></pre><p id="c9eb" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">太好了，这真是太好了。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="50ec" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">装载状态</h1><p id="bb7d" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">现在，由于我们不处理任何数据，我们将不得不模仿这个工作流程。我们可以从React导入<code class="fe of og oh nu b">useState</code>，并使用JavaScript中的逻辑AND <code class="fe of og oh nu b">&amp;&amp;</code>将其设置为布尔值，以便只显示加载器。</p><p id="a132" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">接下来，我们将需要使用一个按钮或其他东西来将状态从<code class="fe of og oh nu b">false</code>更改为<code class="fe of og oh nu b">true</code>我将为我的onClick使用<code class="fe of og oh nu b">h2</code>标题来保持它的整洁。这应该让您知道如何让这个加载器在等待数据时显示，然后在数据被检索到时隐藏它</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="4650" class="ny kx iq nu b gy nz oa l ob oc">import { useState } from 'react';</span><span id="b7b5" class="ny kx iq nu b gy oi oa l ob oc">const [isLoading, setIsLoading] = useState(true)</span><span id="f6ae" class="ny kx iq nu b gy oi oa l ob oc">const loading = () =&gt; {<br/>    setIsLoading(!isLoading)<br/>}</span><span id="2f95" class="ny kx iq nu b gy oi oa l ob oc">{<em class="np">/* CLICK ME!!! */</em>}</span><span id="ebd1" class="ny kx iq nu b gy oi oa l ob oc">&lt;h2 <em class="np">onClick</em>={loading}&gt;Steven Creates&lt;/h2&gt;</span><span id="dbfc" class="ny kx iq nu b gy oi oa l ob oc">{isLoading &amp;&amp; (</span><span id="b6e4" class="ny kx iq nu b gy oi oa l ob oc">       &lt;&gt;</span><span id="8bd2" class="ny kx iq nu b gy oi oa l ob oc">         &lt;span&gt;Loading....&lt;/span&gt;</span><span id="6620" class="ny kx iq nu b gy oi oa l ob oc">         &lt;br/&gt;</span><span id="a90a" class="ny kx iq nu b gy oi oa l ob oc">         &lt;motion.div</span></pre><p id="762a" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">现在，通过点击H2，加载程序现在显示并开始动画，我想这给你的想法。😅</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="8681" class="kw kx iq bd ky kz ms lb lc ld mt lf lg jw mu jx li jz mv ka lk kc mw kd lm ln bi translated">解决办法</h1><p id="72a5" class="pw-post-body-paragraph mx my iq lq b lr ls jr mz lt lu ju na lv nb nc nd lx ne nf ng lz nh ni nj mb ij bi translated">你成功了！下面是最终代码！请随意复制和使用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="07d6" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">如果您一直这样做，您现在应该有一个如下所示的加载程序:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/20f046417ffc078fc34d69e814c87180.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3HynroDHSufDWQbE95CLKA.gif"/></div></div></figure><p id="5bd5" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">您现在有了一个可以修改并制作自己的示例！可能性是无限的。再次感谢你花时间阅读这篇文章，我希望它能帮助你。</p><p id="73ae" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">查看我的其他关于框架运动的指南和其他文章:</p><div class="ok ol gp gr om on"><a href="https://medium.com/@steven_creates/how-to-use-framer-motion-with-react-a2639b6b9b6b" rel="noopener follow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd ir gy z fp os fr fs ot fu fw ip bi translated">如何将帧运动与React一起使用</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">本系列指南+文章将介绍React + Styled中使用的成帧器运动的示例和概念…</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">medium.com</p></div></div><div class="ow l"><div class="ox l oy oz pa ow pb kp on"/></div></div></a></div><div class="ok ol gp gr om on"><a href="https://medium.com/@steven_creates" rel="noopener follow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd ir gy z fp os fr fs ot fu fw ip bi translated">史蒂文创造-中等</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">本系列指南+文章将介绍React和React中使用的成帧器运动的示例和概念…</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">medium.com</p></div></div><div class="ow l"><div class="pc l oy oz pa ow pb kp on"/></div></div></a></div><p id="36d2" class="pw-post-body-paragraph mx my iq lq b lr nk jr mz lt nl ju na lv nm nc nd lx nn nf ng lz no ni nj mb ij bi translated">再次感谢阅读！</p></div></div>    
</body>
</html>