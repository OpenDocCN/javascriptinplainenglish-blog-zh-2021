<html>
<head>
<title>How to Create a JavaScript Array with the Same Element Repeated Multiple Times?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建同一个元素重复多次的JavaScript数组？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-javascript-array-with-the-same-element-repeated-multiple-times-16e96833683a?source=collection_archive---------5-----------------------#2021-09-12">https://javascript.plainenglish.io/how-to-create-a-javascript-array-with-the-same-element-repeated-multiple-times-16e96833683a?source=collection_archive---------5-----------------------#2021-09-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4aff0ddf1c9da4839636c0ae03494590.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9DB_qomVN0UgMmLn"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@itssammoqadam?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sam Moqadam</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="dfdf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们可能希望创建一个JavaScript数组，其中的内容重复多次。</p><p id="9be3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何创建一个JavaScript数组，其中相同的元素重复多次。</p><h1 id="d33c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">For循环和数组. prototype.push</h1><p id="5d3b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用for循环运行<code class="fe me mf mg mh b">push</code>方法多次向数组中添加一个项目。</p><p id="9fe0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c1b2" class="mq lc iq mh b gy mr ms l mt mu">const fillArray = (value, len) =&gt; {<br/>  const arr = [];<br/>  for (let i = 0; i &lt; len; i++) {<br/>    arr.push(value);<br/>  }<br/>  return arr;<br/>}</span><span id="8484" class="mq lc iq mh b gy mv ms l mt mu">const arr = fillArray(2, 5)<br/>console.log(arr)</span></pre><p id="3d77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建了具有<code class="fe me mf mg mh b">value</code>和<code class="fe me mf mg mh b">len</code>参数的<code class="fe me mf mg mh b">fillArray</code>函数。</p><p id="4d4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">value</code>是我们要填入数组的数值。</p><p id="606b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">len</code>是返回数组的长度。</p><p id="3bb3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">arr</code>是具有重复值的数组。</p><p id="ecd3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建<code class="fe me mf mg mh b">arr</code>后，我们使用for循环调用<code class="fe me mf mg mh b">push</code> <code class="fe me mf mg mh b">len</code>次，将同一个<code class="fe me mf mg mh b">value</code>推送到<code class="fe me mf mg mh b">arr</code>。</p><p id="3ba7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们调用它之后，我们得到一个返回的数组。</p><p id="541f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以<code class="fe me mf mg mh b">arr</code>是<code class="fe me mf mg mh b">[2, 2, 2, 2, 2]</code>，因为我们用值2填充数组五次。</p><h1 id="37c7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数组.原型.填充</h1><p id="5757" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">另一种用值重复填充数组的方法是使用<code class="fe me mf mg mh b">fill</code>方法。</p><p id="ce74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它需要一个带有要填充的值的参数。</p><p id="2d57" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将它与<code class="fe me mf mg mh b">Array</code>构造函数结合起来，创建一个给定长度的数组。</p><p id="ec6e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4dd8" class="mq lc iq mh b gy mr ms l mt mu">const arr = Array(5).fill(2)<br/>console.log(arr)</span></pre><p id="e797" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe me mf mg mh b">Array(5)</code>来创建一个有5个空槽的空数组。</p><p id="387c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用2调用<code class="fe me mf mg mh b">fill</code>，用2填充所有空槽。</p><p id="7b6d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此<code class="fe me mf mg mh b">arr</code>与前面的例子相同。</p><h1 id="b864" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">展开运算符和Array.prototype.map</h1><p id="4aa8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">另一种创建数组的方法是使用spread操作符和<code class="fe me mf mg mh b">map</code>方法。</p><p id="5faf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="965b" class="mq lc iq mh b gy mr ms l mt mu">const arr = [...Array(5)].map((_, i) =&gt; 2)<br/>console.log(arr)</span></pre><p id="c5c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">Array</code>创建了一个包含5个空槽的数组，并将其展开到数组中。</p><p id="e9ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe me mf mg mh b">map</code>在每个槽中返回2。</p><p id="b213" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，对于<code class="fe me mf mg mh b">arr</code>，我们得到了与之前相同的结果。</p><h1 id="d574" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数组. from</h1><p id="9a2c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><code class="fe me mf mg mh b">Array.from</code>是另一种方法，我们可以用它来创建一个数组，用相同的值填充整个数组。</p><p id="bb3e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它的工作原理是创建一个空数组并将空槽映射到我们想要的值。</p><p id="050b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="86f0" class="mq lc iq mh b gy mr ms l mt mu">const arr = Array.from({<br/>  length: 5<br/>}, i =&gt; 2)<br/>console.log(arr)</span></pre><p id="f5eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">Array.from</code>创建一个长度为5的空数组。</p><p id="f874" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在第二个参数中，我们传入一个回调函数，将空值映射到2。</p><p id="b12e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们得到了和以前一样的结果。</p><h1 id="0818" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">洛达什</h1><p id="3da5" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">times</code>和<code class="fe me mf mg mh b">constant</code> Lodash方法来返回一个从头到尾重复一个值的数组。</p><p id="e21b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0e88" class="mq lc iq mh b gy mr ms l mt mu">const arr = _.times(5, _.constant(2));<br/>console.log(arr)</span></pre><p id="a3ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">constant</code>方法确保我们重复元素。</p><p id="ecb8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此<code class="fe me mf mg mh b">arr</code>与其他示例的值相同。</p><p id="cf2d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">fill</code>方法更容易地做到这一点。</p><p id="df0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="634f" class="mq lc iq mh b gy mr ms l mt mu">const arr = _.fill(Array(5), 2);<br/>console.log(arr)</span></pre><p id="409d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将空数组传入第一个参数，并将值传入第二个参数。</p><h1 id="dd59" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b070" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用JavaScript数组方法或Lodash方法用相同的值填充数组。</p><p id="d6ea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>