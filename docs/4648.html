<html>
<head>
<title>Build A News App Using React Native Expo and NewsAPI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React Native Expo和NewsAPI构建新闻应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/cryptocurrency-news-app-using-react-native-expo-and-newsapi-c3f96ca3be20?source=collection_archive---------4-----------------------#2021-09-16">https://javascript.plainenglish.io/cryptocurrency-news-app-using-react-native-expo-and-newsapi-c3f96ca3be20?source=collection_archive---------4-----------------------#2021-09-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="1e50" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">面向初学者和中间用户的Android开发和IOS开发项目</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/d0814db5a0cb14b0d335940142c5aa2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3QvDqd5ps5EIOzZH"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@jievani?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jievani Weerasinghe</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bc9a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">比特币、Dogecoin、Etherium和许多其他加密货币是过去两年来的主要热门术语。每个人都想投资他们，因为他们的回报更高。但在投资任何硬币之前，你必须关注市场情绪、新闻和许多其他事情。许多社交媒体平台提供与加密相关的新闻。但你不能依赖他们，对吗？因为你自担风险投资了自己的钱。所以，还是控制在自己手里比较好。</p><p id="1f7c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，让我们使用react native expo制作一个加密货币新闻应用程序，在这里您可以从有效的来源获得所有与加密硬币相关的新闻。喝杯咖啡，让我们开始吧。</p><p id="9b31" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果您正在寻找视频教程，那么它就在这里:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lp lq l"/></div></figure><h1 id="45cd" class="lr ls in bd lt lu lv lw lx ly lz ma mb jt mc ju md jw me jx mf jz mg ka mh mi bi translated">设置和安装</h1><ul class=""><li id="ba19" class="mj mk in kv b kw ml kz mm lc mn lg mo lk mp lo mq mr ms mt bi translated">使用以下命令打开系统中的一个目录并启动一个expo项目:</li></ul><pre class="kd ke kf kg gt mu mv mw mx aw my bi"><span id="4991" class="mz ls in mv b gy na nb l nc nd">expo init NewsApp</span></pre><ul class=""><li id="4962" class="mj mk in kv b kw kx kz la lc ne lg nf lk ng lo mq mr ms mt bi translated">选择空白的Javascript模板并继续下载Javascript依赖项。</li><li id="a507" class="mj mk in kv b kw nh kz ni lc nj lg nk lk nl lo mq mr ms mt bi translated">移动到新目录(“NewsApp”)</li><li id="d75b" class="mj mk in kv b kw nh kz ni lc nj lg nk lk nl lo mq mr ms mt bi translated">安装以下依赖项:</li></ul><pre class="kd ke kf kg gt mu mv mw mx aw my bi"><span id="7538" class="mz ls in mv b gy na nb l nc nd">npm install axios<br/>npm install react-native-paper</span></pre><ul class=""><li id="4d17" class="mj mk in kv b kw kx kz la lc ne lg nf lk ng lo mq mr ms mt bi translated">现在，在<a class="ae ks" href="https://newsapi.org/" rel="noopener ugc nofollow" target="_blank">新闻API </a>上创建您的帐户。从这个网站，你会得到你的API密匙。我们将使用这个API键来获取我们感兴趣的新闻</li></ul><p id="ebd5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们已经完成了项目设置和安装。让我们快速跳到代码部分。</p><h1 id="3f19" class="lr ls in bd lt lu lv lw lx ly lz ma mb jt mc ju md jw me jx mf jz mg ka mh mi bi translated">React Native Expo中的新闻App代码</h1><p id="8eb3" class="pw-post-body-paragraph kt ku in kv b kw ml jo ky kz mm jr lb lc nm le lf lg nn li lj lk no lm ln lo ig bi translated">在父目录中创建两个文件夹。一个是组件，一个是屏幕。在组件文件夹中，我们将制作标题。</p><p id="703c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">组件/AppBar.js </strong></p><pre class="kd ke kf kg gt mu mv mw mx aw my bi"><span id="7b55" class="mz ls in mv b gy na nb l nc nd">import * as React from 'react';<br/>import { Appbar } from 'react-native-paper';</span><span id="e792" class="mz ls in mv b gy np nb l nc nd">const Header = () =&gt; {</span><span id="bd53" class="mz ls in mv b gy np nb l nc nd">return (<br/>    &lt;Appbar.Header style={{marginTop:40, backgroundColor:'blue'}}&gt;<br/>      <br/>      &lt;Appbar.Content title="Home" /&gt;<br/>      <br/>    &lt;/Appbar.Header&gt;<br/>  );<br/>};</span><span id="9916" class="mz ls in mv b gy np nb l nc nd">export default Header;</span></pre><p id="2df7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">嗯，这是一个简单的标题。我用react本地纸做页眉。你也可以使用其他javascript库，如native base或其他。</p><p id="8253" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io"> screens/index.js </strong></p><p id="2c87" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们将为屏幕使用一个基于类的组件。但是首先，让我们导入所有需要的组件。</p><pre class="kd ke kf kg gt mu mv mw mx aw my bi"><span id="a56d" class="mz ls in mv b gy na nb l nc nd">import React, { Component } from 'react'<br/>import { View, Text, Image, ScrollView, Linking } from 'react-native'<br/>import axios from 'axios'<br/>import { Card, Title, Paragraph } from 'react-native-paper'</span><span id="2ea9" class="mz ls in mv b gy np nb l nc nd">import Header from '../../components/AppBar'</span></pre><p id="dfa2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，在基于类的组件中，添加以下代码。</p><pre class="kd ke kf kg gt mu mv mw mx aw my bi"><span id="cd04" class="mz ls in mv b gy na nb l nc nd">state = {<br/>        articles: [],<br/>        isLoading: true,<br/>        errors: null<br/>    };</span></pre><p id="9e9f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">定义各州。</p><pre class="kd ke kf kg gt mu mv mw mx aw my bi"><span id="f2e9" class="mz ls in mv b gy na nb l nc nd">getArticles() {<br/>        axios<br/>          .get(<br/>            "<a class="ae ks" href="https://newsapi.org/v2/everything?q=Cryptocurrency&amp;from=2021-09-08&amp;sortBy=popularity&amp;apiKey=API_KEY" rel="noopener ugc nofollow" target="_blank">https://newsapi.org/v2/everything?q=Cryptocurrency&amp;from=2021-09-08&amp;sortBy=popularity&amp;apiKey=API_KEY</a>"<br/>          )<br/>          .then(response =&gt;<br/>            response.data.articles.map(article =&gt; ({<br/>              date: `${article.publishedAt}`,<br/>              title: `${article.title}`,<br/>              url: `${article.url}`,<br/>              description: `${article.description}`,<br/>              urlToImage: `${article.urlToImage}`,<br/>            }))<br/>          )<br/>          .then(articles =&gt; {<br/>            this.setState({<br/>              articles,<br/>              isLoading: false<br/>            });<br/>          })<br/>          .catch(error =&gt; this.setState({ error, isLoading: false }));<br/>    }</span><span id="b2b6" class="mz ls in mv b gy np nb l nc nd">componentDidMount() {<br/>        this.getArticles();<br/>    }</span></pre><p id="5abc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在使用Axios获取新闻。但是首先，<strong class="kv io">更新你的API密匙</strong>。在这里，我以加密货币的形式发送查询，如果你想要板球相关的新闻，那么你可以将其改为板球。新闻API将为您获取板球新闻。</p><p id="8fad" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">之后，具体说明我们的要求。在这种情况下，我们将获取日期、标题、URL、描述和urlToImage。</p><p id="1ed8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">成功提取后，更改状态。现在，我们的空数组状态将被我们获取的数据更新。成功提取后，loading将被设置为false。</p><pre class="kd ke kf kg gt mu mv mw mx aw my bi"><span id="c717" class="mz ls in mv b gy na nb l nc nd">render(){</span><span id="db28" class="mz ls in mv b gy np nb l nc nd">const{ isLoading, articles } = this.state;</span><span id="f144" class="mz ls in mv b gy np nb l nc nd">return (</span><span id="5490" class="mz ls in mv b gy np nb l nc nd">&lt;View&gt;</span><span id="0cf0" class="mz ls in mv b gy np nb l nc nd">&lt;Header/&gt;</span><span id="5f49" class="mz ls in mv b gy np nb l nc nd">&lt;ScrollView&gt;</span><span id="68fc" class="mz ls in mv b gy np nb l nc nd">{!isLoading ? (</span><span id="d9e5" class="mz ls in mv b gy np nb l nc nd">articles.map(article =&gt; {</span><span id="a6ad" class="mz ls in mv b gy np nb l nc nd">const {date, title, url, description, urlToImage} = article;</span><span id="2654" class="mz ls in mv b gy np nb l nc nd">return(</span><span id="fc68" class="mz ls in mv b gy np nb l nc nd">&lt;Card key={url} style={{marginTop:10, borderColor:'black', borderRadius:5, borderBottomWidth:1}}</span><span id="f422" class="mz ls in mv b gy np nb l nc nd">onPress={()=&gt;{Linking.openURL(`${url}`)}}</span><span id="9d51" class="mz ls in mv b gy np nb l nc nd">&gt;</span><span id="0620" class="mz ls in mv b gy np nb l nc nd">&lt;View style={{flexDirection:'row',}}&gt;</span><span id="426d" class="mz ls in mv b gy np nb l nc nd">{/*  Text */}</span><span id="6e13" class="mz ls in mv b gy np nb l nc nd">&lt;View style={{justifyContent:'space-around', flex:2/3, margin:10}}&gt;</span><span id="57c7" class="mz ls in mv b gy np nb l nc nd">&lt;Title&gt;{title}&lt;/Title&gt;</span><span id="cee6" class="mz ls in mv b gy np nb l nc nd">&lt;/View&gt;</span><span id="0076" class="mz ls in mv b gy np nb l nc nd">{/*  Image */}</span><span id="de93" class="mz ls in mv b gy np nb l nc nd">&lt;View style={{flex:1/3, margin:10}}&gt;</span><span id="4170" class="mz ls in mv b gy np nb l nc nd">&lt;Image style={{width:120, height:120}} source={{uri: urlToImage}} /&gt;</span><span id="ffed" class="mz ls in mv b gy np nb l nc nd">&lt;/View&gt;</span><span id="826e" class="mz ls in mv b gy np nb l nc nd">&lt;/View&gt;</span><span id="874b" class="mz ls in mv b gy np nb l nc nd">&lt;View style={{margin:10}}&gt;</span><span id="e6ab" class="mz ls in mv b gy np nb l nc nd">&lt;Paragraph&gt;{description}&lt;/Paragraph&gt;</span><span id="71bd" class="mz ls in mv b gy np nb l nc nd">&lt;Text&gt;Published At: {date}&lt;/Text&gt;</span><span id="4d67" class="mz ls in mv b gy np nb l nc nd">&lt;/View&gt;</span><span id="c2c9" class="mz ls in mv b gy np nb l nc nd">&lt;/Card&gt;</span><span id="22d1" class="mz ls in mv b gy np nb l nc nd">);</span><span id="e3c3" class="mz ls in mv b gy np nb l nc nd">})</span><span id="1ce0" class="mz ls in mv b gy np nb l nc nd">) : (</span><span id="9cd5" class="mz ls in mv b gy np nb l nc nd">&lt;Text style={{justifyContent:'center', alignItems:'center'}}&gt;Loading...&lt;/Text&gt;</span><span id="0912" class="mz ls in mv b gy np nb l nc nd">)}</span><span id="82d9" class="mz ls in mv b gy np nb l nc nd">&lt;/ScrollView&gt;</span><span id="d46e" class="mz ls in mv b gy np nb l nc nd">&lt;/View&gt;</span><span id="31fc" class="mz ls in mv b gy np nb l nc nd">)</span><span id="55c6" class="mz ls in mv b gy np nb l nc nd">}</span></pre><p id="bb0b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">不用担心上面的代码，你会获得完整的Github代码访问权。</p><p id="2e10" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在卡片中，我们将呈现我们的数据。卡片是可点击的。当你点击一张卡片时，你的默认浏览器会打开一个指定的网址。</p><p id="0f87" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在手机屏幕上，你会看到，新闻标题，图片，新闻描述，发布时间。您可以自定义UI部件。我知道你是专业设计师。</p><p id="64fb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是现在，在<strong class="kv io"> App.js </strong>中导入这些屏幕</p><p id="4df6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io"> App.js </strong></p><pre class="kd ke kf kg gt mu mv mw mx aw my bi"><span id="9403" class="mz ls in mv b gy na nb l nc nd">import React from 'react';<br/>import { StyleSheet, Text, View } from 'react-native';</span><span id="af02" class="mz ls in mv b gy np nb l nc nd">import HomeScreen from './screens/HomeScreen';</span><span id="8277" class="mz ls in mv b gy np nb l nc nd">export default function App() {<br/>  return (<br/>    &lt;View style={styles.container}&gt;<br/>      &lt;HomeScreen/&gt;<br/>    &lt;/View&gt;<br/>  );<br/>}</span><span id="3405" class="mz ls in mv b gy np nb l nc nd">const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1,<br/>    backgroundColor: '#fff',<br/>  },<br/>});</span></pre><p id="6afd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，打开命令提示符窗口或终端窗口，使用以下命令运行该项目:</p><pre class="kd ke kf kg gt mu mv mw mx aw my bi"><span id="b047" class="mz ls in mv b gy na nb l nc nd">npm start</span></pre><p id="0751" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">用移动设备扫描二维码。你可以用Android和IOS设备扫描，因为这个项目在这两种设备上都可以正常工作。</p><p id="7e04" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在成功构建javascript依赖关系之后。您将在移动设备屏幕上看到类似这样的内容。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nq"><img src="../Images/d9ea0088f2b38cec006cf74ffac256cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*09-bjJiNdKaWPGRSGDF2Jg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">News App using react native expo</figcaption></figure><p id="280d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我知道UI没那么酷。可以自定义。</p><p id="6baa" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">天气app的Github代码是</strong> <a class="ae ks" href="https://github.com/imrohit007/React-Native-Expo-News-App" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">这里的</strong> </a> <strong class="kv io">。</strong></p><p id="1277" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">就是这样。</p><p id="d288" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">感谢您的阅读。如果这篇文章内容丰富，请确保关注并与您的社区分享，并关注更多内容。</p></div><div class="ab cl nr ns hr nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ig ih ii ij ik"><p id="2d68" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你好，我叫Rohit Kumar Thakur。我对自由职业持开放态度。我构建了<strong class="kv io"> react原生项目</strong>，目前正在开发<strong class="kv io"> Python Django </strong>。随时联系我(<strong class="kv io">freelance.rohit7@gmail.com</strong>)</p><p id="0be4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="ny">更多内容看</em> <a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ny">说白了就是</em> </a> <em class="ny">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ny">免费每周简讯</em> </a> <em class="ny">。在我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="ny">社区不和谐</em> </a> <em class="ny">获得独家获取写作机会和建议。</em></p></div></div>    
</body>
</html>