<html>
<head>
<title>How to Rename Object keys in React/JavaScript using Lodash</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Lodash重命名React/JavaScript中的对象键</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-rename-object-keys-in-react-javascript-using-lodash-b73fb92ea24d?source=collection_archive---------2-----------------------#2021-05-05">https://javascript.plainenglish.io/how-to-rename-object-keys-in-react-javascript-using-lodash-b73fb92ea24d?source=collection_archive---------2-----------------------#2021-05-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="a1d4" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何快速重命名JavaScript对象中的键</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/dfa95a7055e47f6af804907c11fc33ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3PYsgbKJ3Seirg02e0tutw.png"/></div></div></figure><p id="935b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">假设我们有以下对象:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="6d80" class="lp lq in ll b gy lr ls l lt lu">const fancyObject = {<br/>   fn: “John”,<br/>   ln: “Doe”,<br/>   a: 23,<br/>   add: “Fancy Road, no. 33, 67425, Denver, United States”<br/>};</span></pre><p id="80a6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">楼上的声音意识到他希望按键比现在更模糊，并在对象中的每个按键前面添加公司的首字母'<strong class="kq io"> DH </strong>'。</p><p id="49ae" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">你马上去查栈溢出，<em class="lv">“如何重命名对象键JavaScript”</em>，发现一大堆结果一个比一个复杂。然后你记得有人谈论过那个叫做lodash的奇特的实用程序库。</p><p id="36a0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">您决定使用npm安装软件包:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="1af9" class="lp lq in ll b gy lr ls l lt lu">$ npm i --save lodash</span></pre><p id="d5d0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">或纱线:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="502b" class="lp lq in ll b gy lr ls l lt lu">$ yarn add lodash</span></pre><p id="baa5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">将其导入到您的组件中:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="64a6" class="lp lq in ll b gy lr ls l lt lu">import _ from "lodash";</span><span id="ea0e" class="lp lq in ll b gy lw ls l lt lu">const fancyObject = {<br/>    fn: "John",<br/>    ln: "Doe",<br/>    a: 23,<br/>    add: "Fancy Road, no. 33, 67425, Denver, United States"<br/>};</span></pre><p id="7063" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">声明一个新的效用函数，姑且称之为<strong class="kq io"> objMapper </strong>，它将接受一个对象作为参数:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="0c35" class="lp lq in ll b gy lr ls l lt lu">import _ from "lodash";</span><span id="66d8" class="lp lq in ll b gy lw ls l lt lu">const fancyObject = {<br/>    fn: "John",<br/>    ln: "Doe",<br/>    a: 23,<br/>    add: "Fancy Road, no. 33, 67425, Denver, United States"<br/>};</span><span id="8b55" class="lp lq in ll b gy lw ls l lt lu">const objMapper = (obj) =&gt; {} </span></pre><p id="2a98" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">声明一个<strong class="kq io"> newObj </strong>来保存我们修改过的对象的值:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="5626" class="lp lq in ll b gy lr ls l lt lu">import _ from "lodash";</span><span id="3249" class="lp lq in ll b gy lw ls l lt lu">const fancyObject = {<br/>    fn: "John",<br/>    ln: "Doe",<br/>    a: 23,<br/>    add: "Fancy Road, no. 33, 67425, Denver, United States"<br/>};</span><span id="7ebe" class="lp lq in ll b gy lw ls l lt lu">const objMapper = (obj) =&gt; {<br/>    let newObj<br/>}</span></pre><p id="a208" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">使用罗达什<strong class="kq io">。mapKeys </strong>方法映射每个键/值对，修改键，并返回新对象中的新对，最后返回带有修改后的键的整个新对象:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="6ff9" class="lp lq in ll b gy lr ls l lt lu">import _ from "lodash";</span><span id="d31c" class="lp lq in ll b gy lw ls l lt lu">const fancyObject = {<br/>    fn: "John",<br/>    ln: "Doe",<br/>    a: 23,<br/>    add: "Fancy Road, no. 33, 67425, Denver, United States"<br/>};</span><span id="7d9e" class="lp lq in ll b gy lw ls l lt lu">const objMapper = (obj) =&gt; {<br/>    let newObj = _.mapKeys(obj, (value,key)=&gt; 'DH' + key)<br/>    return newObj<br/>}</span></pre><p id="cee7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这到底是怎么回事？</p><p id="47ac" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">。mapKeys </strong>方法接受两个参数。第一个参数(<strong class="kq io"> obj </strong>)是我们想要迭代的对象，并对其中的每个键/值对做一些事情。</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="4838" class="lp lq in ll b gy lr ls l lt lu">_.mapKeys(<strong class="ll io">obj</strong>, (value,key)=&gt; 'DH' + key)</span></pre><p id="a7ee" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为此，我们使用一个回调函数，它接受两个参数<strong class="kq io">值</strong>和<strong class="kq io">键</strong>。</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="8c94" class="lp lq in ll b gy lr ls l lt lu">_.mapKeys(obj, <strong class="ll io">(value,key)=&gt; 'DH' + key</strong>)</span></pre><p id="48f7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，JavaScript是我们所知道和喜爱的好孩子，在每次迭代中自动插入两个参数的值，这样我们就可以疯狂地使用它们。</p><p id="cc06" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，如果我们在控制台记录我们的实用函数的调用，我们将得到预期的结果:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="98c6" class="lp lq in ll b gy lr ls l lt lu">{<br/>    DHfn: "John",<br/>    DHln: "Doe",<br/>    DHa: 23,<br/>    DHadd: "Fancy Road, no. 33, 67425, Denver, United States"<br/>};</span></pre><p id="1a8b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">酷，但是如果与此同时楼上的声音终于意识到一切是多么多余，并希望以不同的方式改变每个键。</p><p id="222b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">嗯，‘没问题！’你说，你现在有了Lodash，再加上一些switch语句，你就势不可挡了:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="6303" class="lp lq in ll b gy lr ls l lt lu">const objMapper = (obj) =&gt; {</span><span id="b8eb" class="lp lq in ll b gy lw ls l lt lu">let newObj = _.mapKeys(obj, (value, key) =&gt; {<br/>   switch (key) {<br/>      case "fn":<br/>         return "firstName";<br/>      case "ln":<br/>         return "lastName";<br/>      case "a":<br/>         return "age";<br/>      case "add":<br/>         return "address";<br/>      default:<br/>         return;<br/>     }<br/>   });</span><span id="5a93" class="lp lq in ll b gy lw ls l lt lu">return newObj;</span><span id="123d" class="lp lq in ll b gy lw ls l lt lu">};</span></pre><p id="fd5c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在您的结果将是:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="0feb" class="lp lq in ll b gy lr ls l lt lu">{<br/>    firstName: "John",<br/>    lastName: "Doe",<br/>    age: 23,<br/>    address: "Fancy Road, no. 33, 67425, Denver, United States"<br/>};</span></pre><p id="133e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">哇，现在不是那么容易，给自己拍一下背，你应该得到它。</p><p id="022e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当然，这些例子还可以继续下去，但是现在你已经知道了基础知识，你可以很容易地从这里开始构建。</p><p id="9895" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">真的希望这有所帮助，直到下次。</p><p id="9f64" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> <em class="lv">继续编码！</em> </strong></p><p id="d262" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lv">更多内容请看</em><a class="ae lx" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>