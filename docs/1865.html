<html>
<head>
<title>How to Use Angular Component Styles with Special Selectors</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用带有特殊选择器的角度组件样式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-angular-component-styles-with-special-selectors-dc877514372c?source=collection_archive---------14-----------------------#2021-04-19">https://javascript.plainenglish.io/how-to-use-angular-component-styles-with-special-selectors-dc877514372c?source=collection_archive---------14-----------------------#2021-04-19</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="c31b" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">在具有独立样式文件的组件基础上为您的Angular应用程序添加样式，可以帮助您创建更模块化的设计。</h2></div><p id="333a" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">今天，我为你准备了一篇关于Angular中组件风格的文章。到目前为止，我已经记住了这实际上是如何工作的，但是就本文而言，我是通过研究样本和理解逻辑进行研究的。所以，我准备了大量的例子来帮助你。我希望你会发现它有用。</p><figure class="ld le lf lg gu lh gi gj paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gi gj lc"><img src="../Images/276d464bb8a4c7aea6c15d1162e71280.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*auq3-CXxi1syqoDI.png"/></div></div></figure><p id="513b" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在写这篇文章的时候，我使用了安格尔自己的文档。您可以在这里访问<a class="ae lo" href="https://angular.io/guide/component-styles#host-context" rel="noopener ugc nofollow" target="_blank">链接。</a></p><p id="5d5e" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">您可以在您的角度应用程序中直接使用CSS标准。换句话说，您可以添加任何您知道的关于媒体查询、选择器、规则和CSS的信息，并为您的应用程序添加颜色。</p><p id="6b27" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在具有独立样式文件的组件的基础上为应用程序添加样式，有助于在将所有组件视为一个整体时创建更模块化的设计。</p><p id="3882" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在安格斯，HTML和样式定义可以用不同的方式制作。如果您愿意，您可以在<code class="fe lp lq lr ls b">@Component</code>组件中定义它，或者从HTML和CSS页面中访问它，比如在通常的布局中。</p><h2 id="6356" class="lt lu ir bd lv lw lx dn ly lz ma dp mb kp mc md me kt mf mg mh kx mi mj mk ml bi translated"><strong class="ak">使用组件样式</strong></h2><p id="8009" class="pw-post-body-paragraph kg kh ir ki b kj mm js kl km mn jv ko kp mo kr ks kt mp kv kw kx mq kz la lb ik bi translated"><strong class="ki is">样式范围</strong></p><p id="15a6" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">@Component</code>元数据中定义的样式仅在该组件中有效。它不能被另一个组件使用。如您在示例中所见，元数据StartComponent中定义的<code class="fe lp lq lr ls b">&lt;p&gt;</code>样式仅适用于StartComponent。<code class="fe lp lq lr ls b">Font-weight:</code>正常不适用于我们在AppComponent中定义的另一个<code class="fe lp lq lr ls b">&lt;p&gt;</code>。</p><figure class="ld le lf lg gu lh"><div class="bz fq l di"><div class="mr ms l"/></div></figure><p id="e57d" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我想解释当一个文件中有样式定义时，我们为什么要遵循这样的顺序；</p><ul class=""><li id="06b5" class="mt mu ir ki b kj kk km kn kp mv kt mw kx mx lb my mz na nb bi translated">我们通过组合不同的组件来开发我们的应用程序，即归纳逻辑。由于这允许我们，开发人员，在不扫描所有代码的情况下，找到它所说的地方和内容，这为我们节省了大量的时间来立即找到我们要找的点。如果您想对样式文件进行更改，您可以更改它，而不用担心代码是在哪个组件中编写的。您也不必担心造成不必要的复杂性，或者考虑如果进行更改，会破坏代码的哪些其他部分</li><li id="8ea8" class="mt mu ir ki b kj nc km nd kp ne kt nf kx ng lb my mz na nb bi translated">其中最棒的一点是，我们正在开发一个整洁干净的项目。</li><li id="93dd" class="mt mu ir ki b kj nc km nd kp ne kt nf kx ng lb my mz na nb bi translated">如果我们编写的代码是在其他组件中定义的，它们之间就不会有交互。但是，当你说我想在组件A中使用组件B时，事情会有一点变化。我会报道这个问题。</li></ul><h2 id="23e5" class="lt lu ir bd lv lw lx dn ly lz ma dp mb kp mc md me kt mf mg mh kx mi mj mk ml bi translated"><strong class="ak"> 1。专用选择器</strong></h2><p id="7606" class="pw-post-body-paragraph kg kh ir ki b kj mm js kl km mn jv ko kp mo kr ks kt mp kv kw kx mq kz la lb ik bi translated"><code class="fe lp lq lr ls b">:host</code></p><p id="dde6" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在组件中，您可以为您定义的结构使用样式。我已经通过StackBlitz与您分享了一个示例代码。<code class="fe lp lq lr ls b">:host</code>可以看到宿主如何影响组件以及组件中的组件。</p><figure class="ld le lf lg gu lh"><div class="bz fq l di"><div class="nh ms l"/></div></figure><p id="5ff7" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">:host</code>选择器是瞄准宿主元素的唯一方法。您不能使用其他选择器从组件内部访问宿主元素，因为它不是组件自身模板的一部分。宿主元素位于父组件的模板中。</p><p id="cd95" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">角度文档中提供了该定义。</p><p id="d957" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这是你需要被告知的；</p><p id="0e20" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">:host</code>不能从组件中的任何地方访问宿主元素，因为<code class="fe lp lq lr ls b">:host</code>元素不是组件拥有的结构。<code class="fe lp lq lr ls b">:host</code>元素是组件模板的祖先。</p><p id="def1" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">从我分享的例子中你可以理解<code class="fe lp lq lr ls b">:host</code>没有为宿主元素定义id、类，宿主将我写的更改应用到它的结构中。</p><p id="6cab" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="ni">作为另一种用法:</em></p><p id="03b1" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">:host .test {color: red}</code></p><p id="3103" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="ni">对于一些你想要定义的结构，你可以使用表单。</em></p><p id="00b4" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">:host (.test)</code>可以是<code class="fe lp lq lr ls b">{color: red}</code></p><p id="bff7" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">:host-context</code></p><p id="37ca" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在某些情况下，我们希望我们的定义发生变化。最简单的例子是主题变化。在浅色主题中，我们希望按钮是勃艮第的，但是在深色主题中，相同的按钮应该是蓝色的。为此，我们可以使用:<code class="fe lp lq lr ls b">:host-context.</code></p><p id="fc52" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">:host-context(.theme-light) button {background-color: purple; color:white}</code></p><p id="59d8" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">:host-context</code>元素:可视为<code class="fe lp lq lr ls b">:host()</code>的一种功能状态。当使用另一个选择器时，它会很有用。</p><p id="c67f" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">::ng-deep</code></p><figure class="ld le lf lg gu lh gi gj paragraph-image"><div class="gi gj nj"><img src="../Images/50b9eb8cc0b8902c4115b75af2aca01c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/0*GhYX0Hh_O5IB1NYH.png"/></div></figure><p id="fa22" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">它作用于定义它的组件中的HTML块。我也再次通过StackBlitz分享了它。如果您已经为任何标签连同<code class="fe lp lq lr ls b">::ng-deep</code>一起定义了CSS，它将无效。因为<code class="fe lp lq lr ls b">::ng-deep</code>与使用一起成为全球使用并成为主导。</p><figure class="ld le lf lg gu lh"><div class="bz fq l di"><div class="nh ms l"/></div></figure><p id="1770" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">注意在<code class="fe lp lq lr ls b">::ng-deep</code>之前不要忘记使用<code class="fe lp lq lr ls b">:host</code>，如果您忘记了，您定义的CSS规则会影响其他组件。<br/> <code class="fe lp lq lr ls b">/deep/, &gt;&gt;&gt; and ::ng-deep</code></p><p id="90d5" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">您应该只在使用<a class="ae lo" href="https://angular.io/guide/view-encapsulation" rel="noopener ugc nofollow" target="_blank">视图封装</a>时使用它们。</p></div><div class="ab cl nk nl hv nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ik il im in io"><h2 id="1c2e" class="lt lu ir bd lv lw lx dn ly lz ma dp mb kp mc md me kt mf mg mh kx mi mj mk ml bi translated"><strong class="ak"> 2 .加载组件样式</strong></h2><p id="52b1" class="pw-post-body-paragraph kg kh ir ki b kj mm js kl km mn jv ko kp mo kr ks kt mp kv kw kx mq kz la lb ik bi translated"><strong class="ki is"> 2.1。组件元数据中的样式</strong></p><figure class="ld le lf lg gu lh"><div class="bz fq l di"><div class="mr ms l"/></div></figure><p id="9b15" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">您可以使用Angular CLI创建内嵌组件；</p><p id="8707" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">ng generate component app-name-inline-style</code></p><p id="3581" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">ng g component app-name-inline-style</code></p><p id="2094" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is"> 2.2。组件元数据中的样式文件</strong></p><p id="b6ef" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如果使用这种样式结构，其他组件不能授予访问权限，也不会影响其他组件。</p><p id="bbf7" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我们可以创建和定义多个样式文件、样式或<code class="fe lp lq lr ls b">styleUrls</code>。</p><figure class="ld le lf lg gu lh"><div class="bz fq l di"><div class="mr ms l"/></div></figure><p id="b0e5" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">使用Angular CLI以这种方式创建组件；</p><p id="593b" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">ng generate component my-app</code></p><p id="0233" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe lp lq lr ls b">ng g component my app</code></p><p id="0a30" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is"> 2.3。模板内嵌样式</strong></p><figure class="ld le lf lg gu lh"><div class="bz fq l di"><div class="mr ms l"/></div></figure><p id="c1b5" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is"> 2.4。模板链接标签</strong></p><figure class="ld le lf lg gu lh"><div class="bz fq l di"><div class="mr ms l"/></div></figure><p id="6e20" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="ki is"> 2.5。非CSS样式文件</strong></p><figure class="ld le lf lg gu lh"><div class="bz fq l di"><div class="mr ms l"/></div></figure><p id="57c7" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">谢了。</p><p id="aa52" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="ni">来源:</em> <a class="ae lo" href="https://angular.io/guide/component-styles#host-context" rel="noopener ugc nofollow" target="_blank"> <em class="ni">组件样式</em> </a></p><p id="3b57" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="ni">更多内容请看</em><a class="ae lo" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ni">plain English . io</em></a></p></div></div>    
</body>
</html>