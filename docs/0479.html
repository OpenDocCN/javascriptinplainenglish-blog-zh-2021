<html>
<head>
<title>Highlights of JavaScript — Constructor Methods and Getting URLs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript的亮点——构造函数方法和获取URL</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/highlights-of-javascript-constructor-methods-and-getting-urls-20c7dc6d282a?source=collection_archive---------11-----------------------#2021-01-28">https://javascript.plainenglish.io/highlights-of-javascript-constructor-methods-and-getting-urls-20c7dc6d282a?source=collection_archive---------11-----------------------#2021-01-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7529dd5dd601836baf4dbccb0e256757.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*auBms8pBsFf41PlC"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@unstable_affliction?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ivan Bandura</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="07a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要学习JavaScript，我们必须学习基础知识。</p><p id="ea68" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解JavaScript语言的最基本部分。</p><h1 id="0045" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">构造函数方法</h1><p id="b85b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以向构造函数或类添加方法。</p><p id="36f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="88d9" class="mn lc iq mj b gy mo mp l mq mr">class Plan {<br/>  constructor(name, price, space, pages) {<br/>    this.name = name;<br/>    this.price = price;<br/>    this.space = space;<br/>    this.pages = pages;<br/>  }</span><span id="b8e3" class="mn lc iq mj b gy ms mp l mq mr">  calcAnnualPrice() {<br/>    return this.price * 12;<br/>  }<br/>}</span></pre><p id="ff85" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们加入<code class="fe mt mu mv mj b">calcAnnualPrice</code>方法返回<code class="fe mt mu mv mj b">this.price * 12</code>的值。</p><p id="54d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">this</code>是类实例，它是当我们调用<code class="fe mt mu mv mj b">Plan</code>类时创建并返回的对象。</p><p id="eb9e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们从类创建的对象中获得<code class="fe mt mu mv mj b">price</code>属性，并将其乘以12。</p><p id="ff4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要在创建的对象上调用构造函数和方法，我们可以编写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="09c1" class="mn lc iq mj b gy mo mp l mq mr">const plan = new Plan('basic', 3, 100, 10)<br/>console.log(plan.calcAnnualPrice())</span></pre><p id="2834" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe mt mu mv mj b">new</code>关键字调用<code class="fe mt mu mv mj b">Plan</code>构造函数。</p><p id="2889" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们在<code class="fe mt mu mv mj b">plan</code>对象上调用<code class="fe mt mu mv mj b">calcAnnualPrice</code>来获得年度价格。</p><p id="0d9a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">类语法只是原型继承之上的语法糖。</p><p id="2786" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">calcAnnualPrice</code>方法只是<code class="fe mt mu mv mj b">Plan</code>的<code class="fe mt mu mv mj b">prototype</code>属性的一个属性。</p><p id="dbbb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">prototype</code>是<code class="fe mt mu mv mj b">Plan</code>类的原型，是它继承的对象。</p><p id="6452" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们记录<code class="fe mt mu mv mj b">Plan.prototype.calcAnnualPrice</code>的值:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="eda5" class="mn lc iq mj b gy mo mp l mq mr">console.log(Plan.prototype.calcAnnualPrice)</span></pre><p id="2a34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们看到记录了<code class="fe mt mu mv mj b">calcAnnualPrice</code>方法的代码。</p><h1 id="2a6e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">检查属性和方法</h1><p id="1ef3" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要检查一个属性或方法是否实际存在于对象本身而不是它的原型中，我们可以使用<code class="fe mt mu mv mj b">hasOwnProperty</code>方法。</p><p id="5a7e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们从<code class="fe mt mu mv mj b">Plan</code>类创建了一个对象:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9fcc" class="mn lc iq mj b gy mo mp l mq mr">const plan = new Plan('basic', 3, 100, 10)</span></pre><p id="b7a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们可以这样称呼<code class="fe mt mu mv mj b">hasOwnProperty</code>:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="158e" class="mn lc iq mj b gy mo mp l mq mr">console.log(plan.hasOwnProperty('name'))</span></pre><p id="2b10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们应该看到<code class="fe mt mu mv mj b">true</code>被记录，因为<code class="fe mt mu mv mj b">name</code>是<code class="fe mt mu mv mj b">plan</code>对象本身的属性。</p><p id="68ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">hasOwnProperty</code>方法来自于<code class="fe mt mu mv mj b">Object.prototype</code>，这是几乎所有JavaScript对象的属性。</p><p id="bfa4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想列出一个对象的属性，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="16a0" class="mn lc iq mj b gy mo mp l mq mr">for (const prop in plan) {<br/>  if (plan.hasOwnProperty(prop)) {<br/>    console.log(prop);<br/>  }<br/>}</span></pre><p id="da18" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用for-in循环遍历<code class="fe mt mu mv mj b">plan</code>的属性键。</p><p id="e7d8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">for-in循环遍历所有属性及其原型，所以我们必须使用<code class="fe mt mu mv mj b">hasOwnProperty</code>方法来检查属性是否实际上存在于<code class="fe mt mu mv mj b">plan</code>对象本身中。</p><p id="fc9f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">prop</code>是属性名称本身。</p><p id="6e31" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们应该看到:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ac55" class="mn lc iq mj b gy mo mp l mq mr">name<br/>price<br/>space<br/>pages</span></pre><p id="1316" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">已记录。</p><h1 id="bb8b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">获取URL</h1><p id="4a89" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用JavaScript获取并设置页面的URL。</p><p id="9d2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要获取URL，我们可以使用<code class="fe mt mu mv mj b">window.location.href</code>属性。</p><p id="d1d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们输入到浏览器开发控制台，我们应该得到完整的网页网址。</p><p id="d7eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">window.location.hostname</code>的主机名是URL的第一部分。</p><p id="4106" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有URL <code class="fe mt mu mv mj b">“https://jsfiddle.net/09t6La27/10/"</code>，那么<code class="fe mt mu mv mj b">window.location.hostname</code>返回<code class="fe mt mu mv mj b">“jsfiddle.net”</code>。</p><p id="cfe1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">window.location.hash</code>返回URL中位于<code class="fe mt mu mv mj b">#</code>符号之后的部分。</p><p id="8bbd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有<code class="fe mt mu mv mj b">http://example.com/#foo</code>，<code class="fe mt mu mv mj b">window.location.hash</code>返回<code class="fe mt mu mv mj b">“#foo”</code>。</p><h1 id="ad00" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="8c0d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以给构造函数或类添加方法。</p><p id="7d8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以用<code class="fe mt mu mv mj b">window.location</code>对象获取URL的一部分。</p><p id="64ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>