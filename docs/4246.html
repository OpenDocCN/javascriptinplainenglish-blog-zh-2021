<html>
<head>
<title>How to Create a Simple Twitter Bot with Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Node.js创建一个简单的Twitter Bot</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-simple-twitter-bot-6bd75f73662?source=collection_archive---------14-----------------------#2021-08-23">https://javascript.plainenglish.io/how-to-create-a-simple-twitter-bot-6bd75f73662?source=collection_archive---------14-----------------------#2021-08-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="73d1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Node.js和twit模块使得创建Twitter机器人变得非常容易</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/de30e2af59ada392a6eef774714ed7b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ngQzJow0jnHevAwi5P_E-g.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo courtesy of Adam Lukomski from Unsplash</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="kv kw l"/></div></figure><p id="f7fa" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><em class="lt">原载于</em><a class="ae lu" href="https://fek.io/blog/how-to-create-a-simple-twitter-bot/" rel="noopener ugc nofollow" target="_blank"><em class="lt">https://fek . io</em></a><em class="lt">。</em></p><p id="b4a1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">可以使用JavaScript和Node.js编写的许多流行应用程序之一是bot。机器人可以被认为是简单的应用程序，可以用来在聊天服务、社交媒体平台和团队通信软件上做广告或回复用户。</p><p id="c2da" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">一些服务严重依赖于机器人，而另一些则在遇到机器人时直接禁止它们。但是机器人可以用来行善也可以用来作恶。机器人也可以与某种人工智能一起使用，与用户互动。你可能在一些网站上遇到过这种情况，这时会打开一个聊天窗口，询问它是否能帮助你。</p><p id="74d8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在这篇文章中，我将创建一个机器人来回答关于meetup群组的简单问题。这个meetup群有一个Twitter帐户，我将使用它来回答Twitter上的问题。</p><h1 id="f116" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">创建应用程序</h1><p id="76b2" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">为了创建这个机器人，我将使用Node.js和一个名为<code class="fe ms mt mu mv b">twit</code>的节点模块。您可以使用以下NPM命令将它安装到您的节点应用程序中；</p><pre class="kg kh ki kj gt mw mv mx my aw mz bi"><span id="9bbe" class="na lw iq mv b gy nb nc l nd ne">npm install twit --save</span></pre><p id="3c61" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">Twit是一个使用Twitter API的模块。要使用Twitter的API，你需要<a class="ae lu" href="https://dev.twitter.com/apps/new" rel="noopener ugc nofollow" target="_blank">注册</a>一个应用。Twitter需要以下键来与他们的API进行交互。这些键如下:</p><ul class=""><li id="03be" class="nf ng iq kz b la lb ld le lg nh lk ni lo nj ls nk nl nm nn bi translated">消费者_密钥</li><li id="db55" class="nf ng iq kz b la no ld np lg nq lk nr lo ns ls nk nl nm nn bi translated">消费者_秘密</li><li id="74f9" class="nf ng iq kz b la no ld np lg nq lk nr lo ns ls nk nl nm nn bi translated">访问令牌</li><li id="d8a5" class="nf ng iq kz b la no ld np lg nq lk nr lo ns ls nk nl nm nn bi translated">访问令牌密码</li></ul><p id="ad22" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">一旦您拥有这些密钥，请确保您将这些密钥保存在安全的地方，否则您将需要重新生成密钥。您可以将它们存储在dotenv文件中，或者将它们添加到您的环境变量中。</p><h1 id="d27b" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">配置我们的机器人</h1><p id="e188" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">为了创建我们的机器人，我们需要做的第一件事是配置<code class="fe ms mt mu mv b">twit</code>来使用我们的密钥。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt kw l"/></div></figure><p id="f231" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">既然我们已经配置了应用程序来使用我们的密钥，我们将使用Twitter的流API。使用stream API，我们可以监听某些单词或标签。对于我们的meetup应用程序，我将监听我的meetup组的名称，<a class="ae lu" href="https://www.jaxnode.com" rel="noopener ugc nofollow" target="_blank"> JaxNode </a>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt kw l"/></div></figure><p id="2dd4" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">上面的代码示例过滤流以监听关键字<code class="fe ms mt mu mv b">jaxnode</code>。任何时候有人用那个关键词发推文，我们都可以使用<code class="fe ms mt mu mv b">on('tweet')</code>事件实时捕捉那些推文。对于我们的应用程序，我们将在我们的过滤流中回复任何包含以下单词之一的推文:<code class="fe ms mt mu mv b">what</code>、<code class="fe ms mt mu mv b">where</code>和<code class="fe ms mt mu mv b">when</code>。为此，我将获取tweet的文本，将其转换为一个数组，并过滤其中一个限定词。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt kw l"/></div></figure><h1 id="c792" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">使用Meetup API</h1><p id="ae7d" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">为了回答有关我们下次会议的问题，我们将使用meetup的API来查找有关我们下次会议的最新信息。我们可以使用<code class="fe ms mt mu mv b">axios</code> HTTP客户端从Meetup检索信息。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt kw l"/></div></figure><p id="92c0" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这个API返回一个JSON数组，其中包含我们的meetup组的所有即将到来的事件。要用<code class="fe ms mt mu mv b">what</code>回复任何推文，我们将假设用户想知道下一次会议是关于什么的。返回的对象中有一个<code class="fe ms mt mu mv b">name</code>属性。我们就用名字来回答<code class="fe ms mt mu mv b">what</code>的问题。</p><p id="da2f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为了用tweet回复，我们将使用Twitter API的另一部分来发送tweet。为此，我们将创建以下函数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt kw l"/></div></figure><p id="f8d4" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在，我们可以通过构造回复并发布更新来完成我们的机器人逻辑。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt kw l"/></div></figure><p id="d75c" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在，我们可以添加逻辑来回答我们的<code class="fe ms mt mu mv b">what</code>、<code class="fe ms mt mu mv b">where</code>和<code class="fe ms mt mu mv b">when</code>问题的所有三个问题。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt kw l"/></div></figure><h1 id="b9de" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">托管您的机器人</h1><p id="d906" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">有几个选择来托管你的机器人。如果您有一个现有的Node.js服务器，您可以在那里运行您的bot，但是您也可以使用像<a class="ae lu" href="https://vercel.com/" rel="noopener ugc nofollow" target="_blank"> Vercel </a>或<a class="ae lu" href="https://heroku.com" rel="noopener ugc nofollow" target="_blank"> Heroku </a>这样的服务来托管。这些云应用服务器通常需要一个HTTP侦听器来托管您的Bot。我们可以通过在bot的末尾添加下面一行来实现这一点；</p><pre class="kg kh ki kj gt mw mv mx my aw mz bi"><span id="406e" class="na lw iq mv b gy nb nc l nd ne">http.createServer().listen(3000);</span></pre><p id="a0c1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">当我们完成时，我们的最终机器人应该看起来像下面这样；</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt kw l"/></div></figure><h1 id="f9b9" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">结论</h1><p id="f02d" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">我认为重要的是要记住，这些机器人应该用于良好的目的。大多数在线服务会试图阻止你向他们的用户发送垃圾邮件。试着尊重分享你平台的其他用户。</p><p id="c166" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这些机器人可能非常有用，当与人工智能结合时，可能非常强大。</p><p id="48e8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><em class="lt">更多内容请看</em><a class="ae lu" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir"><em class="lt">plain English . io</em></strong></a></p></div></div>    
</body>
</html>