<html>
<head>
<title>How I Created My Own Tombola Ticket in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何用JavaScript创建自己的彩票</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/i-create-my-own-tombola-ticket-aea085887de4?source=collection_archive---------16-----------------------#2021-04-18">https://javascript.plainenglish.io/i-create-my-own-tombola-ticket-aea085887de4?source=collection_archive---------16-----------------------#2021-04-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2440" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用JavaScript编写彩票算法。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/8f32cefd401d588fbccff811153d5f19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nM2HZdzWSoXHfQiWhhalkQ.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Tombola ticket UI creative</figcaption></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="8f41" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">在后台</h1><p id="546a" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">在疫情时期，博彩业非常繁荣。下班后，我在移动设备上玩了很多游戏。我们在Zoom call上玩了一个tombola游戏，相当有趣。所以游戏是这样的——我们有实体彩票，通过Zoom call，我们有一个组织者组织游戏，其余的都是玩家。</p><p id="f570" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们面临的唯一问题是偶尔的网络问题和人们通过麦克风说得太多。这妨碍了我享受比赛。就在那时，我想到了解决这个问题的办法。一种方法是我自己创建一个彩票游戏，并让用户可以玩。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="8ec1" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">入门指南</h1><p id="1c3b" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">今天，我们将从一张非常基本的彩票开始。以下是每次生成新票证时的一些规则-</p><ul class=""><li id="db12" class="ml mm iq jp b jq jr ju jv jy mn kc mo kg mp kk mq mr ms mt bi translated"><strong class="jp ir">规则#1 </strong> —一张票应该有3行9列。</li><li id="850a" class="ml mm iq jp b jq mu ju mv jy mw kc mx kg my kk mq mr ms mt bi translated"><strong class="jp ir">规则2- </strong>每一列都应该有一个数字范围，比如第一列1-10，第二列11-20。</li><li id="b13c" class="ml mm iq jp b jq mu ju mv jy mw kc mx kg my kk mq mr ms mt bi translated"><strong class="jp ir">规则3- </strong>在特定的列中，数字必须按升序排列。</li><li id="d5e5" class="ml mm iq jp b jq mu ju mv jy mw kc mx kg my kk mq mr ms mt bi translated">规则#4- 数字应该在1-99之间，包括1和99。</li><li id="861c" class="ml mm iq jp b jq mu ju mv jy mw kc mx kg my kk mq mr ms mt bi translated"><strong class="jp ir">规则#5- </strong>每行不能超过5个数字。</li></ul></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="831f" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">编写代码</h1><p id="9c08" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">第一个任务是创建一个票数组。该数组应该是3行9列的三维数组。该数组的总大小为27，我们将在该数组的每一列中按升序只填充15个数字。</p><p id="34d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了填满15个数字，并且每行只有5个数字，我应用了基础数学和一些排列组合。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="03af" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><strong class="ak">智能计算</strong></h1><p id="41d5" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">我们有9列和15个数字。为了用至少一个和最多两个数字填充每一列，我们只需要6列各有两个数字，其余3列各有一个数字。</p><pre class="km kn ko kp gt mz na nb nc aw nd bi"><span id="a62b" class="ne lj iq na b gy nf ng l nh ni">– 6 columns * 2 number each = 12 numbers<br/>– 3columns * 1number each = 3 numbers</span><span id="b3a2" class="ne lj iq na b gy nj ng l nh ni">– Total = 15 numbers with at least one number in each column.</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="108c" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">获得只有一个数字的3列</h1><p id="3250" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">然后，我开始填充只有一个数字的列。同样，只有一个数字的列是随机的，所以我们需要9列中的3个随机列，它们只有一个数字。</p><p id="413a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了选择3列，我创建了一个从0到9的所有列的随机数组，并使用Lodash的shuffle方法对它们进行洗牌，然后数组的前3个元素将是我的3个随机列。</p><pre class="km kn ko kp gt mz na nb nc aw nd bi"><span id="b9e3" class="ne lj iq na b gy nf ng l nh ni">let columns = [0, 1, 2, 3, 4, 5, 6, 7, 8];<br/>const newColumns = shuffle(columns);</span><span id="3280" class="ne lj iq na b gy nj ng l nh ni">3 columns with only single numbers are:</span><span id="f658" class="ne lj iq na b gy nj ng l nh ni">newColumns[0], newColumns[1] &amp; newColumns[2]</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="417b" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">在票证对象中仅用一个数字填充3列</h1><p id="19fc" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">我的票对象是一个3行9列的2D数组。要填充列中的单个数字，我只需要列号、票证对象和该数字的确切位置。</p><p id="2c0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了在单个列中找到一个数字，我们再次需要将该范围内的所有数字放入一个数组中，并对数组进行洗牌，将数组的第一个元素声明为该特定列的单个数字。</p><pre class="km kn ko kp gt mz na nb nc aw nd bi"><span id="e065" class="ne lj iq na b gy nf ng l nh ni">import { shuffle } from 'lodash';</span><span id="ec88" class="ne lj iq na b gy nj ng l nh ni">// assuming our column no is 3<br/>so number will ranges from 30-40 <br/>so const nums = [ 31, 32, 33, 34, 35, 36, 37, 38, 39, 40];</span><span id="41ff" class="ne lj iq na b gy nj ng l nh ni">shuffle(nums);</span><span id="3428" class="ne lj iq na b gy nj ng l nh ni">Then nums[0] will be our single number from column 3</span></pre><p id="77dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了找到数字的确切位置，我遵循了在范围内划分数字的基本概念，在一列中找到确切的行。</p><p id="3c70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，我们有第3列。那么第3列的数字范围将从30到40。所以，如果我们有一个数字33，那么它应该放在票证对象的第一行和第三列，或者如果我们有一个数字38，那么它应该放在票证对象的第三行和第三列。</p><p id="5acf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦我们得到30-40之间的随机数，我们只需要选择行，选择行背后的概念也只是基本的数学。</p><p id="1585" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">号码将在:</p><ul class=""><li id="e310" class="ml mm iq jp b jq jr ju jv jy mn kc mo kg mp kk mq mr ms mt bi translated"><strong class="jp ir">第1行</strong>从<code class="fe nk nl nm na b"><strong class="jp ir">(30–34]</strong></code>开始(含34)。</li><li id="32f5" class="ml mm iq jp b jq mu ju mv jy mw kc mx kg my kk mq mr ms mt bi translated"><strong class="jp ir">第2行</strong>从<code class="fe nk nl nm na b"><strong class="jp ir">(34–37]</strong></code>开始(含37)。</li><li id="a7bd" class="ml mm iq jp b jq mu ju mv jy mw kc mx kg my kk mq mr ms mt bi translated"><strong class="jp ir">第3行</strong>当其范围从<code class="fe nk nl nm na b"><strong class="jp ir">(37–40]</strong></code>(包括40)时。</li></ul><p id="a451" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦我们在一列中找到了我们号码的确切行，我们只需要把我们的号码推到票证对象中的那个位置。</p><p id="0a6f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我写了一个函数，用上面的逻辑在一列中找到一个数字的行。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nn no l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Finding row of a single number in a single column</figcaption></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="5b78" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">用2个数字填充列</h1><p id="0ac7" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">嗯，这部分也很简单。我们需要一列中的2个数字范围，然后我们需要确定每个数字的位置，即每个数字在一列中的行。最后一步是对6列重复这个过程，每列有2个数字。因此，我们最终将在6列中填写2个数字。</p><p id="d657" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要确定单个列范围内的数字，我们将使用与填充时相同的算法，为一个列获取一个数字。</p><p id="a19e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，我们的第3列现在将有2个范围从30到40的数字。我们将随机抽取其中30–40个数字的数组，随机抽取的数组的前2个元素将是该特定列的2个数字。</p><pre class="km kn ko kp gt mz na nb nc aw nd bi"><span id="bb39" class="ne lj iq na b gy nf ng l nh ni">import {shuffle} from 'lodash';</span><span id="ec2d" class="ne lj iq na b gy nj ng l nh ni">const nums = [31, 32, 33, 34, 35, 36, 37, 38, 39, 40];</span><span id="f573" class="ne lj iq na b gy nj ng l nh ni">shuffle(nums);</span><span id="70ff" class="ne lj iq na b gy nj ng l nh ni">nums[0] &amp; nums[1] will be our 2 number from column 3</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="ccd8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">求出一列中2个数字的精确位置。<br/> </strong>一旦我们得到了2个数字，我们只需要知道2个数字的确切位置。为了找到这些数字，我遵循了比较的概念。</p><p id="7c63" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将首先得到由3列组成的单个列的2个随机行，然后使用最后的<strong class="jp ir">规则#3，</strong>我们将找到我们的2个数字的精确行。然后把这两个数字放在正确的位置。</p><p id="7dc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，对于第3列，我们有2个范围在30–40之间的数字。假设我们这里的2是33，37。然后，我们决定将这些数字按降序排列。</p><p id="c2c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了从3行中得到2个随机行，我们将再次对行数组进行洗牌，前2个元素将是这2个数字的3行。</p><pre class="km kn ko kp gt mz na nb nc aw nd bi"><span id="0ec3" class="ne lj iq na b gy nf ng l nh ni">const rows = [0, 1, 2];<br/>shuffle(rows);</span><span id="45c7" class="ne lj iq na b gy nj ng l nh ni">const row1 = rows[0], const row2= rows[1] <br/>row1 &amp; row2 are 2 rows in a column number 3</span></pre></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="60bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，一列有2个数字和2行，我们只需要将它们按升序排列。数字越大，取的行就越深或越大。一个非常简单的方法，在一列中按升序排列我们的数字。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nn no l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Filling 2 numbers in 2 rows for a single column</figcaption></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="2ec0" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">显示票证用户界面</h1><p id="d6e2" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">我们的票证对象现在已经生成。最后一步是在UI上以实际票据的形式显示票据。我使用Next.js存储库和Tailwind CSS进行样式设计。我已经使用flex属性创建了一个UI，它与我们的票证曾经拥有的UI完全相同。最后一步是在数组的空白处加零，否则你将无法创建一个9 X 3大小的标签。</p><p id="5e75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">到目前为止，我只是简单地创建了一个函数来用零填充数组中那些未定义的位置。你可以用其他任何东西来补偿undefined。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nn no l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Replacing undefined or empty with zero</figcaption></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="88c0" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">最终产品</h1><p id="16d1" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">这是我最后的票的样子。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi np"><img src="../Images/7383d9e0c5cf7276c80a6c4ae4b8686a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L5cvS-Li2mXORM9Njufd-Q.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Final ticket on the localhost</figcaption></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="56c6" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">结论</h1><p id="1451" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">您可以为票证扩展更多功能。您甚至可以添加游戏奖品，如角落，第一行，和完整的房子，只需让用户点击每一个数字，并取消它们，一旦他们要求的价格，交叉检查这些数字从公布的数字。这不是很难，我们只需要在引擎盖下应用一些纯数学逻辑。</p><p id="1b40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我正在添加代码库以供进一步参考，在未来，我将推出这个游戏供观众玩。</p><div class="nq nr gp gr ns nt"><a href="https://github.com/shreyvijayvargiya/iHateReadingLogs/tree/main/TechLogs/TombolaTicket" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">shreyvijayvargiya/iHateReadingLogs</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">100天代码挑战库。。为shreyvijayvargiya/iHateReadingLogs的发展作出贡献</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">github.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh kv nt"/></div></div></a></div><p id="0b9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下次见！祝大家愉快。</p><p id="53c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="oi">更多内容尽在</em><a class="ae oj" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="oi">plain English . io</em></a></p></div></div>    
</body>
</html>