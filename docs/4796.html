<html>
<head>
<title>How to Use the Ternary Operator in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中使用三元运算符</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-the-ternary-operator-in-javascript-fff9639c48a2?source=collection_archive---------13-----------------------#2021-09-24">https://javascript.plainenglish.io/how-to-use-the-ternary-operator-in-javascript-fff9639c48a2?source=collection_archive---------13-----------------------#2021-09-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2e79" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">看一看JavaScript最有用的工具之一</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e1886242366e69dd94f78afa15e27b23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wfQen58fJp_9Tl3-o7l1pA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@fatosi?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Fatos Bytyqi</a> on <a class="ae kv" href="https://unsplash.com/s/photos/programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f067" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我开始我的编码之旅时，最令我困惑的概念之一是臭名昭著的三元运算符。我可以根据它的样子认出它，但是从来没有注意过它。我在大学的时候简单了解过，但是从来没有用过。为什么？因为我没看懂。</p><p id="e7ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">直到我开始了我的第一份软件开发工作，我才意识到我一直以来都错过了什么。现在我对三元运算符的工作原理有了更好的理解，我在我的所有应用程序中都虔诚地使用它。</p><p id="19c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我在这里解释什么是三元运算符，它是如何工作的，以及如何在您的应用程序中实现它。</p><p id="6ba9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们开始吧！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="217b" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">什么是三元运算符？</h1><p id="1e51" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">三元运算符，或条件运算符，是一个JavaScript概念，充当<code class="fe mw mx my mz b">if-else</code>语句的快捷方式。我们可以在下面看到一个例子。</p><p id="b157" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mw mx my mz b">condition ? truthy value : falsy value</code></p><p id="9251" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">三元运算符有三个操作数。第一个操作数是我们的条件语句。第二个操作数是条件为真时执行的操作，另一个是条件为假时执行的操作。</p><p id="8ebb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我用一个实际例子向您展示这是如何工作的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">JavaScript example without ternary operator</figcaption></figure><p id="e99f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的例子中，我们确定一个数字数组是否包含一个质数，然后将结果记录到控制台。如果我们只关注第<code class="fe mw mx my mz b">22–26</code>行中的<code class="fe mw mx my mz b">if-else</code>语句，我们会发现这是一个利用三元运算符的绝佳机会。</p><p id="c8ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以上面的<code class="fe mw mx my mz b">if-else</code>语句为例，我们可以通过使用三元运算符来转换它，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="b582" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，与使用<code class="fe mw mx my mz b">if-else</code>相比，这看起来有多干净。我们不仅减少了一些不必要的代码行，还使我们的代码更具可读性。让我们从上面的片段来分析三元运算符是如何工作的。</p><p id="6ae4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的代码片段中，我们首先问了一个问题:我们的变量<code class="fe mw mx my mz b">prime_exists</code>是真值吗？这句话后面有一个问号<code class="fe mw mx my mz b">?</code>。然后，我们使用冒号<code class="fe mw mx my mz b">:</code>来根据条件的值决定执行哪条语句。如果<code class="fe mw mx my mz b">prime_exists</code>为真值，则执行第<code class="fe mw mx my mz b">2</code>行，否则执行第<code class="fe mw mx my mz b">3</code>行。</p><p id="917e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好了，现在这更有意义了，但是如果我们有一个嵌套的<code class="fe mw mx my mz b">if-else</code>语句呢？我们可以用三元运算符来代替它吗？</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="9670" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">嵌套三元运算符</h1><p id="f229" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">假设我们有一个包含用户列表的对象数组。假设我们想要检查特定用户的<code class="fe mw mx my mz b">id</code>，我们可以这样做:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Nested If-Else statement</figcaption></figure><p id="03d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意这个例子中嵌套的<code class="fe mw mx my mz b">if-else</code>语句。因为三元运算符是一种快捷方式，所以我们可以利用它来提高可读性。</p><p id="906a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看那会是什么样子。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Nested ternary operator example</figcaption></figure><p id="64fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我知道你可能在想什么，这看起来很混乱，但是不要担心它没有你想的那么糟糕。让我们把它分解成更有意义的东西。</p><p id="8cb0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以这样看嵌套的三元运算符:</p><p id="60d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们的第一个条件为真，那么我们执行下一行代码。如果我们的第一个条件是假的，那么我们跳转到我们的第二个条件，并执行相同的程序，就好像它是一个单一的三元运算符。</p><p id="61e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，我们应该对三元运算符的嵌套深度设置一些限制。即使我们增强了代码的可读性，三元运算符的过度嵌套实际上会使我们的可读性更差。所以我们应该熟悉什么时候可以使用它。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3717" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">何时使用三元运算符</h1><p id="5371" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如上所述，如果我们开始在任何情况下都使用三元运算符，我们可能会损害代码的可读性。因此，如果我们有一个深度嵌套的<code class="fe mw mx my mz b">if-else</code>语句，那么最好不要使用三元运算符。我的经验是:如果你的<code class="fe mw mx my mz b">if-else</code>语句太复杂，或者嵌套不止一次，就让它保持原样。</p><p id="75bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用其中一种在性能上几乎没有区别，所以明智地选择使用哪一种就行了。</p><p id="b1b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看之前的质数例子。您会注意到，在另一段代码中，我们可能会用到三元运算符。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="5b24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe mw mx my mz b">forEach()</code>方法中，我们有另一个<code class="fe mw mx my mz b">if-else</code>语句。如果我们尝试在这里使用三元运算符，我们会发现会出现一堆语法错误。这意味着这段代码太复杂，无法使用三元运算符。</p><p id="6f32" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是我们<em class="nc">能做的</em>，大概是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="33fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意，通过将代码块移动到它自己的函数中，我们现在可以毫无问题地使用三元运算符了。这看起来有点干净，保持了可读性，但没有过度。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="238f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="6b1a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们刚刚看到了如何使用三元运算符作为<code class="fe mw mx my mz b">if-else</code>语句的快捷方式。我们发现，通过使用这个操作符，我们可以在不损失任何性能的情况下使代码更具可读性。当然，我们仍然应该小心，不要在任何我们喜欢的地方使用它，只在有意义的地方使用它。</p><p id="15c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个概念可能有点混乱，特别是对于那些JavaScript新手，但是希望通过阅读这篇文章，它有助于阐明它是如何工作的。</p><p id="4726" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读，下一期再见。</p><p id="7acc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nc">更多内容看</em><a class="ae kv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nc">plain English . io</em></strong></a></p></div></div>    
</body>
</html>