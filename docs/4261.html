<html>
<head>
<title>JavaScript Tip: Remove an Item From an Array Using the Filter Method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript提示:使用Filter方法从数组中移除一个项</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-tip-remove-an-item-from-an-array-using-the-filter-method-249b2c720e02?source=collection_archive---------11-----------------------#2021-08-24">https://javascript.plainenglish.io/javascript-tip-remove-an-item-from-an-array-using-the-filter-method-249b2c720e02?source=collection_archive---------11-----------------------#2021-08-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f537" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">探索过滤方法和拼接方法之间的差异</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f15f9e18d609fe518f8d67be1d4369a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QRZUnJ6pnLts4rt2"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@jtylernix?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tyler Nix</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="92b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在过去的一周里，我发现自己多次犯同样的错误。这不是一个大错误，我很快就意识到了错误。但是，为了继续我作为开发人员的进步，我决定写这篇文章。</p><p id="8672" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我总是发现，如果我写一个主题，它会帮助我真正理解它是如何工作的。</p><p id="c128" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将了解如何在JavaScript中使用<code class="fe ls lt lu lv b"><strong class="ky ir">filter()</strong></code>方法从数组中移除一个项目。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="5558" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">我的错误</h1><p id="6f7a" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">我有一个项目数组，我想从数组中移除一个项目。然后我想使用数组中剩余的项目。但是，我也不想改变原来的数组。我采用的方法是使用<code class="fe ls lt lu lv b"><strong class="ky ir">indexOf()</strong></code>和<code class="fe ls lt lu lv b"><strong class="ky ir">splice()</strong></code>方法。</p><p id="f9e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结合使用这两种方法是找到一个项并将其从数组中移除的一种方法。</p><p id="6202" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b"><strong class="ky ir">indexOf()</strong></code>方法返回给定元素在数组中的第一个索引，如果不存在，则返回-1。</p><p id="d787" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b"><strong class="ky ir">splice()</strong></code>方法通过移除或替换现有元素和/或添加新元素来改变数组的内容。</p><p id="7bd5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的第一个想法是做一些类似下面的代码示例的事情。这里我有一个<code class="fe ls lt lu lv b">foods</code>的数组。我想创建一个没有<em class="na">“pizza”</em>的新的<code class="fe ls lt lu lv b">japaneseFoods</code>数组。</p><pre class="kg kh ki kj gt nb lv nc nd aw ne bi"><span id="1ef4" class="nf me iq lv b gy ng nh l ni nj">const foods = ["sushi", "tempura", "soba", "pizza"];</span><span id="d507" class="nf me iq lv b gy nk nh l ni nj">const index = foods.indexOf("pizza");<br/>const japaneseFoods = foods.splice(index);</span></pre><p id="6e75" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">问题是拼接方法修改了原始数组。此外，它返回已删除的项目，而不是剩余的项目。</p><pre class="kg kh ki kj gt nb lv nc nd aw ne bi"><span id="5c64" class="nf me iq lv b gy ng nh l ni nj"><em class="na">// foods = ["sushi", "tempura", "soba"]<br/>// japaneseFoods = ["pizza"]</em></span></pre><p id="a3e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">相反，我不希望原始数组被改变。我还希望新数组是剩余项目的数组。我想让数组看起来像这样。</p><pre class="kg kh ki kj gt nb lv nc nd aw ne bi"><span id="502e" class="nf me iq lv b gy ng nh l ni nj"><em class="na">// foods = ["sushi", "tempura", "soba", "pizza]<br/>// japaneseFoods = ["sushi", "tempura", "soba"]</em></span></pre><h1 id="4ff6" class="md me iq bd mf mg nl mi mj mk nm mm mn jw nn jx mp jz no ka mr kc np kd mt mu bi translated">解决方案</h1><p id="48ed" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">我没有使用<code class="fe ls lt lu lv b"><strong class="ky ir">indexOf()</strong></code>和<code class="fe ls lt lu lv b"><strong class="ky ir">splice()</strong></code>方法，而是使用了<code class="fe ls lt lu lv b"><strong class="ky ir">filter()</strong></code>方法。</p><p id="9efc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b"><strong class="ky ir">filter()</strong></code>方法创建一个新数组，其中所有元素都通过了由提供的函数实现的测试。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/dcabd8954074d06f924a897bd8225017.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PkBRr4yTD4EYoYxZlZlgFw.png"/></div></div></figure><p id="f858" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe ls lt lu lv b"><strong class="ky ir">filter()</strong></code>方法，<code class="fe ls lt lu lv b">foods</code>数组不会发生变异。同样，新的<code class="fe ls lt lu lv b">japaneseFoods</code>数组将包含不等于<em class="na">“pizza”</em>的所有项目。</p><h2 id="4333" class="nf me iq bd mf nr ns dn mj nt nu dp mn lf nv nw mp lj nx ny mr ln nz oa mt ob bi translated">它是如何工作的</h2><p id="c547" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated"><code class="fe ls lt lu lv b"><strong class="ky ir">filter()</strong></code>方法接受回调函数的一个必需参数。它还接受一个可选参数来设置回调函数中的<code class="fe ls lt lu lv b">this</code>值。但是，我还没有找到这方面的实际使用案例。</p><p id="0001" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">回调函数参数针对数组中的每一项运行。如果该项通过测试，它将被保存在新数组中。否则，将不会添加该项目。如果没有项目通过测试，将返回一个空数组。</p><p id="b601" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">回调函数接受三个参数:</p><ul class=""><li id="bc3e" class="oc od iq ky b kz la lc ld lf oe lj of ln og lr oh oi oj ok bi translated"><strong class="ky ir">元素</strong> —数组中当前正在处理的项目。</li><li id="de72" class="oc od iq ky b kz ol lc om lf on lj oo ln op lr oh oi oj ok bi translated"><strong class="ky ir"> index(可选)</strong> —数组中正在处理的当前项目的索引。</li><li id="fd36" class="oc od iq ky b kz ol lc om lf on lj oo ln op lr oh oi oj ok bi translated"><strong class="ky ir">数组(可选)</strong> —数组<code class="fe ls lt lu lv b">filter</code>被调用。</li></ul><p id="3b14" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的示例中，我们创建了一个函数来检查每一项是否都不等于字符串<em class="na">“pizza”</em>。这将返回一个true或false值，该值将决定该项是否被添加到新数组中。</p><pre class="kg kh ki kj gt nb lv nc nd aw ne bi"><span id="d578" class="nf me iq lv b gy ng nh l ni nj">(food) =&gt; food !== "pizza"</span></pre><p id="a2f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为<em class="na">【寿司】</em><em class="na">【天妇罗】</em><em class="na">【荞麦面】</em>不等于<em class="na">【披萨】</em>，所以会返回true，加入新数组。因为<em class="na">【披萨】</em>等于<em class="na">【披萨】</em>，所以会返回false，而不会被添加到新数组中。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="c1b1" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">结论</h1><p id="5003" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">感谢阅读！<code class="fe ls lt lu lv b"><strong class="ky ir">filter()</strong></code>方法是数组对象上最简便的方法之一。正如我们在本文中看到的，它对于从数组中移除项目非常有用。我在这里展示了一个基本的例子，但是<code class="fe ls lt lu lv b"><strong class="ky ir">filter()</strong></code>方法也可以处理更复杂的用例。你可以在这里阅读更多关于它的信息。</p><p id="caf4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">查看下面的文章，了解另一个JavaScript技巧。</p><div class="oq or gp gr os ot"><a rel="noopener  ugc nofollow" target="_blank" href="/javascript-tip-conditionally-add-an-item-to-an-array-5877a9d7c88b"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd ir gy z fp oy fr fs oz fu fw ip bi translated">JavaScript提示:有条件地向数组中添加一个项目</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">使用扩展语法和条件三元运算符</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="pc l"><div class="pd l pe pf pg pc ph kp ot"/></div></div></a></div><p id="4b1e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">资源</p><ul class=""><li id="b801" class="oc od iq ky b kz la lc ld lf oe lj of ln og lr oh oi oj ok bi translated"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf" rel="noopener ugc nofollow" target="_blank"> MDN Web Docs — indexOf() </a></li><li id="8dc3" class="oc od iq ky b kz ol lc om lf on lj oo ln op lr oh oi oj ok bi translated"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" rel="noopener ugc nofollow" target="_blank"> MDN Web Docs — splice() </a></li><li id="2dea" class="oc od iq ky b kz ol lc om lf on lj oo ln op lr oh oi oj ok bi translated"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank"> MDN Web Docs — filter() </a></li></ul><p id="c9da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="na">更多内容看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="na">plain English . io</em></strong></a></p></div></div>    
</body>
</html>