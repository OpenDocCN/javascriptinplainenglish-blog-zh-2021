<html>
<head>
<title>How to Test HTTP Responses and Redirects with Cypress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Cypress测试HTTP响应和重定向</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-test-http-responses-and-redirects-with-cypress-76ee2337e872?source=collection_archive---------3-----------------------#2021-09-29">https://javascript.plainenglish.io/how-to-test-http-responses-and-redirects-with-cypress-76ee2337e872?source=collection_archive---------3-----------------------#2021-09-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4639" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">所有的站点都有不同的HTTP代码，比如200、404、500、300，我们可以很容易地测试它们，以便总是发送回正确的响应！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/835d85eaca930c15459b0262f0f280aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fR8vNCGSrZm_128gc1PxNQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/tree/main/examples/http-response-status" rel="noopener ugc nofollow" target="_blank">https://github.com/riccardogiorato/cypress-for-everything/tree/main/examples/http-response-status</a></figcaption></figure><h2 id="74ec" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">为什么要对HTTP响应进行E2E测试？</h2><p id="7664" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">你的应用程序的用户将总是从特定的网址访问你的网站。或者在很多情况下，他们会在URL中出现拼写错误，比如忘记了“https://”中的“s ”,或者没有在URL中添加“www”。</p><p id="fa91" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">使用Cypress，您可以测试通常使用来自服务器的300或301重定向完成的各种事情，也可以测试来自未经验证的用户对404页面或500禁止页面的响应。</p><p id="e37b" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">对于本教程，我们选择使用Cypress.io，因为它是网络上最常用的E2E工具之一。</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h1 id="e111" class="mx kx iq bd ky my mz na lb nb nc nd le jw ne jx li jz nf ka lm kc ng kd lq nh bi translated">重定向301代码</h1><p id="8cb4" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">重定向通常用代码301来完成——“永久移动”。当特定页面或URL被重新组织或移动到不同的页面或URL时，会使用它们。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h1 id="4fe4" class="mx kx iq bd ky my mz na lb nb nc nd le jw ne jx li jz nf ka lm kc ng kd lq nh bi translated">找到第200页代码</h1><p id="1764" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">当服务器在您的请求中指定的URL上准确地找到资源时,“200”响应代码用于所有找到的页面。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h1 id="37dd" class="mx kx iq bd ky my mz na lb nb nc nd le jw ne jx li jz nf ka lm kc ng kd lq nh bi translated">未找到404页代码</h1><p id="c995" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">当你没有找到一个页面时，你会得到一个最漂亮和最常见的代码404，也称为“没有找到”。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h1 id="c9ad" class="mx kx iq bd ky my mz na lb nb nc nd le jw ne jx li jz nf ka lm kc ng kd lq nh bi translated">结论</h1><p id="6a21" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">构建E2E测试没有对错之分。您应该关心的唯一事情是构建一个适当的测试来自动化您的手动操作。</p><p id="172a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">有了这个教程，我们再也不需要检查404的常用页面了。我们将始终能够检查我们实现的所有重定向和更多！</p><blockquote class="nk"><p id="e763" class="nl nm iq bd nn no np nq nr ns nt mk dk translated">更少的时间做手工测试，更多的时间享受构建其他东西的乐趣！</p></blockquote><p id="c70a" class="pw-post-body-paragraph ls lt iq lu b lv nu jr lx ly nv ju ma lf nw mc md lj nx mf mg ln ny mi mj mk ij bi translated">请在评论中告诉我们你希望下一次看到哪种考试！</p></div><div class="ab cl mq mr hu ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ij ik il im in"><h1 id="b280" class="mx kx iq bd ky my mz na lb nb nc nd le jw ne jx li jz nf ka lm kc ng kd lq nh bi translated">资源</h1><ul class=""><li id="b5eb" class="nz oa iq lu b lv lw ly lz lf ob lj oc ln od mk oe of og oh bi translated">测试Tesla HTTP响应:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/blob/main/examples/http-response-status/cypress/integration/tesla-http.ts" rel="noopener ugc nofollow" target="_blank">https://github . com/riccardogiorato/cypress-for-everything/blob/main/examples/HTTP-response-status/cypress/integration/Tesla-HTTP . ts</a></li><li id="1802" class="nz oa iq lu b lv oi ly oj lf ok lj ol ln om mk oe of og oh bi translated">柏树示例目录:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything#examples" rel="noopener ugc nofollow" target="_blank">柏树万能#示例</a></li><li id="e693" class="nz oa iq lu b lv oi ly oj lf ok lj ol ln om mk oe of og oh bi translated">HTTP响应示例:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/tree/main/examples/http-response-status" rel="noopener ugc nofollow" target="_blank">https://github . com/riccardogiorato/cypress-for-everything/tree/main/examples/HTTP-Response-status</a></li></ul><p id="528a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><em class="on">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lu ir"><em class="on">plain English . io</em></strong></a></p></div></div>    
</body>
</html>