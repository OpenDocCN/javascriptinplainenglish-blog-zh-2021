<html>
<head>
<title>How to Disable Redux DevTools in Production</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在生产中禁用Redux DevTools</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-disable-redux-devtools-in-production-e07b7ed3142b?source=collection_archive---------3-----------------------#2021-09-03">https://javascript.plainenglish.io/how-to-disable-redux-devtools-in-production-e07b7ed3142b?source=collection_archive---------3-----------------------#2021-09-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9eb2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">记得安装Redux DevTools扩展帮助器，以便进一步定制</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1eb9b5ed6097361515c464f060851927.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EGYas2ojEFZ7ntABhU1FfQ.jpeg"/></div></div></figure><p id="15be" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Redux DevTools 是一个方便的浏览器扩展，可以拯救React开发者。它适用于Chrome、Edge和Firefox，它确实有助于调试React应用程序的状态。</p><h1 id="3a42" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">理论与实践</h1><p id="dac6" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">理论上，似乎你不需要安装任何额外的包就可以让Redux DevTools窗口显示在你最喜欢的浏览器上。</p><p id="d031" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是在实践中，一个叫做<a class="ae ln" href="https://www.npmjs.com/package/redux-devtools-extension" rel="noopener ugc nofollow" target="_blank"> Redux DevTools Extension的助手</a>的包也必须安装在你的应用程序中，以便进一步定制，因为否则你将不可避免地遇到令人烦恼的浏览器问题。</p><p id="9f97" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这件事发生在我身上:</p><blockquote class="ml"><p id="57eb" class="mm mn iq bd mo mp mq mr ms mt mu lm dk translated">没有安装Redux DevTools扩展的浏览器刚刚在尝试运行我的React应用程序时报错。</p></blockquote><p id="e97b" class="pw-post-body-paragraph kr ks iq kt b ku mv jr kw kx mw ju kz la mx lc ld le my lg lh li mz lk ll lm ij bi translated">例如，在Chrome上安装了Redux DevTools之后，我在Firefox上运行我喜欢的React应用程序时出现了以下错误。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/19dc64ff44f80dbe55c4f93725ed51f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7bNeVfEWQMAKYkzz9IaWrQ.png"/></div></div><figcaption class="nb nc gj gh gi nd ne bd b be z dk"><strong class="bd nf">Figure 1</strong>. TypeError: b is undefined</figcaption></figure><pre class="kg kh ki kj gt ng nh ni nj aw nk bi"><span id="01b8" class="nl lp iq nh b gy nm nn l no np">×<br/>TypeError: b is undefined<br/>compose/&lt;/&lt;<br/>node_modules/redux/es/redux.js:621</span><span id="6498" class="nl lp iq nh b gy nq nn l no np">618 | <br/>  619 |   return funcs.reduce(function (a, b) {<br/>  620 |     return function () {<br/>&gt; 621 |       return a(b.apply(void 0, arguments));<br/>  622 |     };<br/>  623 |   });<br/>  624 | }</span><span id="02c5" class="nl lp iq nh b gy nq nn l no np">createStore<br/>node_modules/redux/es/redux.js:154</span><span id="52ef" class="nl lp iq nh b gy nq nn l no np">151 |     throw new Error(process.env.NODE_ENV === "production" ? formatProdErrorMessage(1) : "Expected the enhancer to be a function. Instead, received: '" + kindOf(enhancer) + "'");<br/>  152 |   }<br/>  153 | <br/>&gt; 154 |   return enhancer(createStore)(reducer, preloadedState);<br/>      | ^  155 | }<br/>  156 | <br/>  157 | if (typeof reducer !== 'function') {</span><span id="2021" class="nl lp iq nh b gy nq nn l no np">./node_modules/redux-chess/dist/store.js<br/>node_modules/redux-chess/dist/store.js:28</span><span id="8817" class="nl lp iq nh b gy nq nn l no np">25 | // See <a class="ae ln" href="https://github.com/programarivm/testing-redux-chess" rel="noopener ugc nofollow" target="_blank">https://github.com/programarivm/testing-redux-chess</a><br/>  26 | <br/>  27 | <br/>&gt; 28 | var store = (0, _redux.createStore)(_rootReducer2.default, (0, _redux.compose)((0, _redux.applyMiddleware)(_reduxThunk2.default), window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()));<br/>  29 | <br/>  30 | exports.default = store;</span><span id="bd07" class="nl lp iq nh b gy nq nn l no np">__webpack_require__<br/>/home/standard/projects/testing-redux-chess/webpack/bootstrap:851</span><span id="9450" class="nl lp iq nh b gy nq nn l no np">848 | <br/>  849 | __webpack_require__.$Refresh$.init();<br/>  850 | try {<br/>&gt; 851 |  modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));<br/>      | ^  852 | } finally {<br/>  853 |  __webpack_require__.$Refresh$.cleanup(moduleId);<br/>  854 | }</span><span id="dc74" class="nl lp iq nh b gy nq nn l no np">fn<br/>/home/standard/projects/testing-redux-chess/webpack/bootstrap:150</span><span id="df77" class="nl lp iq nh b gy nq nn l no np">...</span><span id="5329" class="nl lp iq nh b gy nq nn l no np">(anonymous function)<br/><a class="ae ln" href="http://localhost:3000/static/js/main.chunk.js:1:91" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/static/js/main.chunk.js:1:91</a><br/>This screen is visible only in development. It will not appear if the app crashes in production.<br/>Open your browser’s developer console to further inspect this error.  Click the 'X' or hit ESC to dismiss this message.</span></pre><p id="5afd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你听起来熟悉吗？</p><p id="4dcd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以，理论是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="aa97" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">实际上，这就是如何在生产中禁用Redux DevTools:</p><pre class="kg kh ki kj gt ng nh ni nj aw nk bi"><span id="5f98" class="nl lp iq nh b gy nm nn l no np">npm install --save redux-devtools-extension</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><h1 id="e280" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">解决方案:引导Redux存储</h1><p id="a99e" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">如前所述，确保从npm安装<code class="fe nt nu nv nh b">redux-devtools-extension</code>包。记住，它可能看起来像一个可选的包，但实际上是引导Redux存储所必需的。</p><p id="8b59" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">商店应该根据应用程序运行的环境进行不同的初始化——您最不希望的就是拥有一个如下所述的商店。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="1096" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们回顾一下。</p><p id="2ca4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">实际上，Redux DevTools仅在安装了扩展的浏览器上才在开发环境中激活，然而该应用程序也可以在没有扩展的浏览器上运行。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="53b3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有趣的是，你可能也想在产品中包含这个扩展，在这种情况下，我推荐你阅读Mihail Diordiev 的<a class="ae ln" href="https://medium.com/@zalmoxis/using-redux-devtools-in-production-4c5b56c5600f" rel="noopener">在产品中使用Redux DevTools</a>。其他作者如<a class="nw nx ep" href="https://medium.com/u/5b3c1d134ac8?source=post_page-----e07b7ed3142b--------------------------------" rel="noopener" target="_blank"> Daniel Bugl </a>建议<a class="ae ln" href="https://www.oreilly.com/library/view/learning-redux/9781786462398/004b5cd2-7934-44d0-aec5-80f50154a476.xhtml" rel="noopener ugc nofollow" target="_blank"> Redux DevTools应该被排除在产品</a>之外。</p><p id="c293" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有人可能会认为，这是现代JS对逻辑思维提出的又一个有趣的挑战。</p><p id="1fcb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">放心吧！一切都会好的。</p><h2 id="dc02" class="nl lp iq bd lq ny nz dn lu oa ob dp ly la oc od ma le oe of mc li og oh me oi bi translated">您可能还对以下内容感兴趣:</h2><div class="oj ok gp gr ol om"><a href="https://medium.com/geekculture/are-ancient-web-apps-better-than-modern-javascript-b055386cf8db" rel="noopener follow" target="_blank"><div class="on ab fo"><div class="oo ab op cl cj oq"><h2 class="bd ir gy z fp or fr fs os fu fw ip bi translated">古代的Web Apps比现代的JavaScript好吗？</h2><div class="ot l"><h3 class="bd b gy z fp or fr fs os fu fw dk translated">让我们回到90年代来找出答案</h3></div><div class="ou l"><p class="bd b dl z fp or fr fs os fu fw dk translated">medium.com</p></div></div><div class="ov l"><div class="ow l ox oy oz ov pa kp om"/></div></div></a></div><div class="oj ok gp gr ol om"><a rel="noopener  ugc nofollow" target="_blank" href="/only-a-genius-developer-can-answer-this-question-2edc92e39617"><div class="on ab fo"><div class="oo ab op cl cj oq"><h2 class="bd ir gy z fp or fr fs os fu fw ip bi translated">天才开发者知道这个问题的答案</h2><div class="ot l"><h3 class="bd b gy z fp or fr fs os fu fw dk translated">与其他开发者分享一个具有启发性的悖论</h3></div><div class="ou l"><p class="bd b dl z fp or fr fs os fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ov l"><div class="pb l ox oy oz ov pa kp om"/></div></div></a></div><div class="oj ok gp gr ol om"><a href="https://medium.com/geekculture/tdding-a-react-app-with-jest-the-easy-way-8ddb64aeaba6" rel="noopener follow" target="_blank"><div class="on ab fo"><div class="oo ab op cl cj oq"><h2 class="bd ir gy z fp or fr fs os fu fw ip bi translated">t用Jest以最简单的方式开发React应用程序</h2><div class="ot l"><h3 class="bd b gy z fp or fr fs os fu fw dk translated">毕竟，TDD是关于坚持一种帮助你节省大脑能量的做事方式</h3></div><div class="ou l"><p class="bd b dl z fp or fr fs os fu fw dk translated">medium.com</p></div></div><div class="ov l"><div class="pc l ox oy oz ov pa kp om"/></div></div></a></div><p id="a1e1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="pd">更多内容看</em><a class="ae ln" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="pd">plain English . io</em></strong></a></p></div></div>    
</body>
</html>