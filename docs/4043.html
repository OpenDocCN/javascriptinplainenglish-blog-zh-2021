<html>
<head>
<title>How to Add CSS Styles with JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript添加CSS样式？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-add-css-styles-with-javascript-c5c7ef8f77aa?source=collection_archive---------15-----------------------#2021-08-12">https://javascript.plainenglish.io/how-to-add-css-styles-with-javascript-c5c7ef8f77aa?source=collection_archive---------15-----------------------#2021-08-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/25cc656f22659bf14f8373f0e72cb382.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Lqxaysbk118zJoNb"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@priscilladupreez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Priscilla Du Preez</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8344" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时候，我们想用JavaScript在网页中动态添加CSS样式。</p><p id="2545" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究用JavaScript动态添加CSS样式的方法。</p><h1 id="0329" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用window.document.styleSheets对象和insertRule方法</h1><p id="6ea2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">window.document.styleSheets</code>属性获得文档的第一个样式表。</p><p id="1ae5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以在返回的样式表对象上调用<code class="fe me mf mg mh b">insertRule</code>方法。</p><p id="3135" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有下面的HTML代码:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="90f5" class="mq lc iq mh b gy mr ms l mt mu">&lt;strong&gt;hello world&lt;/strong&gt;</span></pre><p id="8da5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过编写以下代码使<code class="fe me mf mg mh b">strong</code>元素文本显示为红色:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0bcf" class="mq lc iq mh b gy mr ms l mt mu">const [sheet] = window.document.styleSheets;<br/>sheet.insertRule('strong { color: red; }', sheet.cssRules.length);</span></pre><p id="7fc6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用析构语法从<code class="fe me mf mg mh b">window.document.styleSheets</code> iterable对象中获取第一个样式表。</p><p id="2f1b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用样式表对象上的<code class="fe me mf mg mh b">insertRule</code>,将CSS字符串作为第一个参数。</p><p id="05ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们应该看到<code class="fe me mf mg mh b">strong</code>元素文本是红色的。</p><h1 id="4c73" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建样式元素</h1><p id="42a9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">用JavaScript添加CSS样式的另一种方法是使用<code class="fe me mf mg mh b">document.createElement</code>方法创建一个<code class="fe me mf mg mh b">style</code>元素。</p><p id="f1d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有下面的HTML代码:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f7ef" class="mq lc iq mh b gy mr ms l mt mu">&lt;strong&gt;hello world&lt;/strong&gt;</span></pre><p id="9d72" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过编写以下代码来创建<code class="fe me mf mg mh b">style</code>元素:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="18cc" class="mq lc iq mh b gy mr ms l mt mu">const styleSheet = document.createElement("style")<br/>styleSheet.type = "text/css"<br/>styleSheet.innerText = 'strong { color: red; }'<br/>document.head.appendChild(styleSheet)</span></pre><p id="505f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">'style'</code>调用<code class="fe me mf mg mh b">document.createElement</code>来创建一个<code class="fe me mf mg mh b">style</code>元素。</p><p id="c1cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们在产生的<code class="fe me mf mg mh b">styleSheet</code>对象上设置<code class="fe me mf mg mh b">type</code>属性。</p><p id="cf13" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将<code class="fe me mf mg mh b">innerText</code>属性设置为我们想要应用的CSS样式。</p><p id="eea2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们用<code class="fe me mf mg mh b">styleSheet</code>调用<code class="fe me mf mg mh b">document.head.appendChild</code>，将我们创建的<code class="fe me mf mg mh b">style</code>元素添加到<code class="fe me mf mg mh b">head</code>元素中作为其子元素。</p><p id="bcdf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们应该得到和以前一样的结果。</p><h1 id="4070" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="2955" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用JavaScript通过创建一个<code class="fe me mf mg mh b">style</code>元素来添加CSS样式，或者用JavaScript获得第一个样式表，并向其中添加我们想要的样式规则。</p><p id="0736" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容请看</em><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>