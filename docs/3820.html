<html>
<head>
<title>Build Your Own Website Analytics Solution with JavaScript, MongoDB, and Netlify Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript、MongoDB和Netlify函数构建自己的网站分析解决方案</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-your-own-website-analytics-solution-with-javascript-mongodb-and-netlify-functions-70152f31e138?source=collection_archive---------1-----------------------#2021-08-01">https://javascript.plainenglish.io/build-your-own-website-analytics-solution-with-javascript-mongodb-and-netlify-functions-70152f31e138?source=collection_archive---------1-----------------------#2021-08-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="3e5b" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何创建自己的简单网站分析</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/9a323ce774c4e9c4d0c99d43998d0e46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ka7Oq6Nn3iFC0doS"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@markuswinkler?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Winkler</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a06e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">自从我把我的个人网站+博客迁移到<a class="ae ks" href="https://sapper.svelte.dev/" rel="noopener ugc nofollow" target="_blank">svelet-Sapper</a>后，我就想有某种形式的分析来跟踪访问者的数量和一些简单的指标。虽然有很多解决方案，比如功能丰富的<a class="ae ks" href="https://analytics.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌分析</a>和注重隐私的<a class="ae ks" href="https://usefathom.com/" rel="noopener ugc nofollow" target="_blank"> Fathom </a>，但我不想使用它们，主要是因为以下原因:</p><ul class=""><li id="04b6" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated">他们中的大多数在网站上识别和追踪访问者</li><li id="5850" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">每个产品都需要在您的源代码中设置特定的代码片段，这将您与它们的平台联系在一起</li><li id="e6d4" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">有些是付费解决方案</li><li id="607d" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">它们提供了太多我可能永远不会用到的功能！</li></ul><p id="fd24" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在研究开源解决方案时，我看到了这篇有趣的文章——<a class="ae ks" href="https://oliverjam.es/blog/diy-analytics-netlify-functions/" rel="noopener ugc nofollow" target="_blank">用Netlify函数构建自己的分析</a>——它解释了一个简单的设置来跟踪访问，甚至不需要网站上的JS！这看起来像一个完美的解决方案，但我想有更多的功能，所以从中汲取灵感，我想出了一个简单的设置我的网站。</p><p id="a50f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对于实施，我们将使用以下内容:</p><ul class=""><li id="af53" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated"><strong class="kv io"> Netlify函数</strong>运行我们的后端数据收集代码。(可以在任何无服务器平台上运行，或者作为NodeJS服务器运行)</li><li id="ff95" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated"><strong class="kv io"> MongoDB (Atlas) </strong>用于存储分析数据。(可以使用任何JSON数据存储)</li><li id="bfc3" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated"><strong class="kv io">简单的JS </strong>代码，用于从Netlify上运行的前端进行分析调用。</li><li id="9a4e" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">基于<strong class="kv io"> VueJS </strong>的仪表板，用于查看分析数据。(完全可选，您可以随时直接从数据库查询以查看数据)</li></ul></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><p id="a6a7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io"> <em class="mk">免责声明:</em> </strong> <em class="mk">撰写本文内容主要是为了在实施自己的分析解决方案时作为参考。内容与我的日常工作没有任何关系，所有观点都是个人观点！</em></p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><p id="641a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在我们深入实施之前，让我们看看一些无需放置跟踪cookies就可以轻松收集的数据点，以及它们的用处:</p><ul class=""><li id="200e" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated"><strong class="kv io">页面名称</strong> —如其所述，它只是被访问页面的名称，帮助我们跟踪每页的访问量。</li><li id="b5bd" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated"><strong class="kv io">用户代理</strong> —可用于识别用户访问的设备和浏览器。</li><li id="a01f" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated"><strong class="kv io"> IP地址</strong> —这将允许我们识别唯一的用户访问。(不推荐，因为这样可以非常容易地唯一识别用户！)</li><li id="3864" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated"><strong class="kv io">时间</strong> —访问时间让我们看到发布下一篇博客的最佳时间！</li><li id="3785" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated"><strong class="kv io">客户端时区</strong> —这将允许我们计算出用户访问我们网站的国家。</li></ul><p id="0c97" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">跟踪这些指标，尤其是这些指标的组合，可以唯一地跟踪用户。这被广泛称为<a class="ae ks" href="https://www.avast.com/c-what-is-browser-fingerprinting" rel="noopener ugc nofollow" target="_blank">浏览器指纹</a>，需要我们<strong class="kv io">征得用户明确同意才能在许多国家追踪他们</strong>。在开始跟踪用户之前，请确保您已经阅读并遵守这些法律要求！</p><p id="94d2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我个人在我的网站上只跟踪了上述数据点的很小一部分。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="6c45" class="ml mm in bd mn mo mp mq mr ms mt mu mv jt mw ju mx jw my jx mz jz na ka nb nc bi translated">履行</h1><p id="5dab" class="pw-post-body-paragraph kt ku in kv b kw nd jo ky kz ne jr lb lc nf le lf lg ng li lj lk nh lm ln lo ig bi translated">以下是我们可以实施该解决方案的四个阶段。开始编码吧！</p><h2 id="b252" class="ni mm in bd mn nj nk dn mr nl nm dp mv lc nn no mx lg np nq mz lk nr ns nb nt bi translated"><strong class="ak">数据库</strong></h2><p id="d86f" class="pw-post-body-paragraph kt ku in kv b kw nd jo ky kz ne jr lb lc nf le lf lg ng li lj lk nh lm ln lo ig bi translated">因为我们需要一个DB实例来存储我们的结果，所以让我们从提供一个MongoDB实例开始。我在<a class="ae ks" href="https://www.mongodb.com/cloud/atlas" rel="noopener ugc nofollow" target="_blank"> MongoDB Atlas </a>上使用了<strong class="kv io">免费共享实例</strong>，因为它足以满足我的数据存储需求。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/08b51da7a47739bdb060cabb9f41bbe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*n_hWvifHQwtwS0zFowRPpw.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">MongoDB Atlas free tier</figcaption></figure><p id="ee6a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">设置很简单，只需以下步骤:</p><ul class=""><li id="41f3" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated">一旦我们注册，我们将被提示创建一个组织。让我们继续创建一个。</li><li id="894e" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">在“项目”选项卡下，选择“新建项目”。为项目提供一个名称，然后继续。</li><li id="c18f" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">我们会被要求添加成员和设置权限，这可以根据我们的需要跳过。点击“创建项目”。</li><li id="4618" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">创建项目后，单击“Build a Database”按钮创建一个新的数据库。选择免费共享选项并继续。</li><li id="fbd0" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">系统会提示我们选择云提供商、地区和其他平台选项。以下是我的选择，请选择最符合您需求的选项。</li></ul><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/ff9d88cc2d47bcca5fc51cc50442829a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*KcICp-1UO-JODSXTAmQcQQ.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">DB Cluster options</figcaption></figure><ul class=""><li id="43c1" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated">单击“Create cluster ”,数据库部署应该开始。设置完成后，我们转到“数据库访问”并添加一个新的数据库用户。提供用户名和强密码并创建用户。</li><li id="d7dc" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">设置好数据库集群后，返回到“Databases”并选择主集群上的“Connect”。系统会提示我们添加连接IP地址。选择“允许从任何地方访问”(如果我们知道Netlify函数的IP范围，我们可以稍后将其限制到特定的IP地址)并继续。</li><li id="0424" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">为connection选择NodeJS选项，并复制所示的连接字符串。我们以后的联系会需要这个。</li></ul><h2 id="ff9d" class="ni mm in bd mn nj nk dn mr nl nm dp mv lc nn no mx lg np nq mz lk nr ns nb nt bi translated"><strong class="ak">网站访问记录者</strong></h2><p id="2a28" class="pw-post-body-paragraph kt ku in kv b kw nd jo ky kz ne jr lb lc nf le lf lg ng li lj lk nh lm ln lo ig bi translated">在我们想要添加分析的网站上，我们必须创建一个Netlify函数，记录对MongoDB的每个页面访问。关于功能的<a class="ae ks" href="https://docs.netlify.com/functions/overview/" rel="noopener ugc nofollow" target="_blank"> Netlify文档</a>很好的解释了如何配置功能，请参考相同并为项目启用功能。一旦启用，我们就可以编写记录每次访问的函数。我们需要首先将MongoDB访问URL设置为Netlify站点中的环境变量。还记得我们之前保存的连接字符串吗？让我们复制该字符串，并在站点设置中创建一个环境变量“DB_URL ”,如下所示。用实际密码替换&lt;密码&gt;并保存。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nw"><img src="../Images/e9dc04ec1861e102a41e654828d23ab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UcAw4Nf3dKdldr48mPixPw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Site environment variables</figcaption></figure><p id="c359" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可以对访问日志函数使用以下代码，并根据需要调整参数:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nx ny l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Visit logger function</figcaption></figure><h2 id="1ff1" class="ni mm in bd mn nj nk dn mr nl nm dp mv lc nn no mx lg np nq mz lk nr ns nb nt bi translated"><strong class="ak">记录来自网站的访问API调用</strong></h2><p id="6b97" class="pw-post-body-paragraph kt ku in kv b kw nd jo ky kz ne jr lb lc nf le lf lg ng li lj lk nh lm ln lo ig bi translated">现在我们的函数正在运行，我们可以通过对函数进行POST调用来开始记录我们网站的页面访问。通常，调用的URL将采用格式<em class="mk"> https://your-website-url/。netlify/functions/name-of-fn-file-without extension</em>。我们可以使用下面的函数为每个页面访问进行API调用，根据需要调整API调用体中的参数:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nx ny l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Visit log call from the website</figcaption></figure><p id="c028" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一旦部署了这些更改，我们就可以访问网站上的不同页面，并检查数据库中的条目。下载<a class="ae ks" href="https://www.mongodb.com/products/compass" rel="noopener ugc nofollow" target="_blank"> MongoDB Compass app </a>并使用我们之前使用的相同DB连接字符串连接到数据库。一旦连接上，如果我们从“pageVisit.visit”集合中获取记录，我们应该能够看到如下记录的访问。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nz"><img src="../Images/cef0e7877549c60c735134934eabc9a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a3YmDaIMB_h5jsgyxh65Ew.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Visits logged in MongoDB</figcaption></figure><p id="ba1a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果直接通过MongoDB Compass查看就足够了，那么可以认为设置已经完成。但是，我希望有一个更加用户友好的仪表板，向我显示一些关键指标和格式化数据。将这一需求与我学习VueJS的强烈愿望结合起来，我创建了一个简单的仪表板来格式化和显示数据。</p><h2 id="99cd" class="ni mm in bd mn nj nk dn mr nl nm dp mv lc nn no mx lg np nq mz lk nr ns nb nt bi translated"><strong class="ak">仪表盘</strong></h2><p id="dc21" class="pw-post-body-paragraph kt ku in kv b kw nd jo ky kz ne jr lb lc nf le lf lg ng li lj lk nh lm ln lo ig bi translated">对于分析仪表板，我们将在Netlify上作为一个单独的站点托管，为了方便起见，我们将其作为一个单独的存储库。在我们开始处理UI之前，让我们在这个项目下编写另一个Netlify函数，这次以我们想要的格式从DB中获取我们记录的数据。我们需要全局安装Vue，然后通过执行<code class="fe oa ob oc od b">vue create</code> CLI命令初始化一个新项目。一旦创建好了，让我们把它推到GitHub或任何git平台上，让我们从这个库在Netlify上创建一个新的站点。</p><p id="bea8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我希望我的仪表板可以通过我的主站点的子域访问，要实现这一点，我们所要做的就是将我们想要的子域作为自定义域添加到仪表板站点，一旦我们这样做了，<em class="mk">，</em>转到您的主域的DNS设置，并验证DNS记录中是否存在如下所示的NETLIFY记录。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oe"><img src="../Images/574d5c7429be8e0db881fa703d029bba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_tDamjk5j5lR0sWUcxIuwA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">DNS record for the subdomain</figcaption></figure><p id="4943" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">网站运行后，我们可以继续启用功能，像以前一样添加DB连接字符串作为环境变量，并编写Netlify函数的代码来获取我们的分析数据。由于分析数据可能包含敏感信息，因此使用某种形式的身份验证来保护这些信息是一个很好的做法。为此，我们可以使用Netlify的“身份”功能。</p><p id="1b17" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们从为站点启用身份开始。启用后，我们应该会收到如下所示的auth API端点:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi of"><img src="../Images/c8e6cd2bd81f59cab609699ff2be0dff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yHLYZG2nmvV7U8lSmupRzw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Analytics identity URL</figcaption></figure><p id="9796" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一旦我们得到它，我们需要邀请我们自己作为一个用户:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi og"><img src="../Images/e3716d913dff5bb610e7d3d73f9ed257.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YqFoj2sf9-TMXjUZdjsrTw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Invite ourselves as a user</figcaption></figure><p id="1a48" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">完成后，我们应该会收到一封注册邮件。暂时不要点击链接。我们会这样做，一旦我们的网站运行。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oh"><img src="../Images/6c86a85afcdc66c82d0fb84a4550f05f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lZrpbXVZSGmDqrdmrj_ZGw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Invitation mail</figcaption></figure><p id="2462" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">回到我们的Netlify仪表板，我们可以从列表中转到该用户的设置，并添加一些元数据，如下所示。这将有助于我们以后的认证。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oi"><img src="../Images/913eadd630331164806cb639dad001d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d4wIqpIa8VsMiOxe5ZNtKA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">User metadata update</figcaption></figure><p id="1141" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，我们可以继续编写用于获取数据的Netlify函数。由于我们已经启用了身份，Netlify将自动验证JWT令牌并将用户元数据附加到上下文。我们将使用它来选择性地只允许管理员获取数据。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="3569" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对于UI，我们可以通过使用<a class="ae ks" href="https://github.com/netlify/netlify-identity-widget" rel="noopener ugc nofollow" target="_blank"> Netlify的身份小部件</a>来集成auth。它作为NPM模块提供。我们所要做的就是导入它，用我们之前收到的auth URL初始化它，并处理来自小部件的事件。回购链接有许多关于如何实现的框架的例子。</p><p id="f2e8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我开发了一个简单的仪表板用户界面，代码可以在这里找到<a class="ae ks" href="https://github.com/maheshhp/portfolio-analytics" rel="noopener ugc nofollow" target="_blank"/>。下面是它的一个示例:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oj"><img src="../Images/b4fc7b9fa6c3029ec3de55f00e1f09fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kELUv6Fk9eK81VCekIdFRQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Analytics dashboard</figcaption></figure><p id="cc27" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一旦我们完成了仪表板UI的开发，我们就可以部署站点并转到我们之前收到的邀请电子邮件，然后单击链接来创建用户。它将带我们到我们的网站，并要求我们为我们的帐户设置密码。设置完成后，我们将登录，可以看到带有数据的控制面板。现在，每当我们想访问该网站，我们所要做的就是登录用户帐户，我们都设置好了！</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><p id="f311" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">既然我们已经看到了如何将简单的分析添加到我们的站点中，我们可以在sockets的帮助下扩展设置以包括实时用户，添加图表以查看时间线的表示，添加图表以进行国家级划分，等等。而且选择是无穷无尽的！但是，如果我们想毫不费力地获得如此广泛的功能，那么使用现成的产品会更容易，只要我们对他们的服务条款满意。</p><p id="23a0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我知道你的分析设置是如何工作的，以及我们如何以不同的方式实现它的想法！</p><h1 id="095b" class="ml mm in bd mn mo ok mq mr ms ol mu mv jt om ju mx jw on jx mz jz oo ka nb nc bi translated">有用的资源</h1><ul class=""><li id="7ac1" class="lp lq in kv b kw nd kz ne lc op lg oq lk or lo lu lv lw lx bi translated">我的灵感来自于:<a class="ae ks" href="https://oliverjam.es/blog/diy-analytics-netlify-functions/" rel="noopener ugc nofollow" target="_blank">https://oliverjam.es/blog/diy-analytics-netlify-functions/</a></li><li id="e56a" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">网络生活入门:【https://docs.netlify.com/】T2</li><li id="72df" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">更多关于MongoDB图集:【https://docs.atlas.mongodb.com/ T4】</li><li id="dc5b" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">如果你觉得谷歌分析更适合你的需求:<a class="ae ks" href="https://www.youtube.com/watch?v=8XWn2SO_V0Y" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=8XWn2SO_V0Y</a></li><li id="5399" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">关于追踪和用户同意的合法性:<a class="ae ks" href="https://www.termsfeed.com/blog/legal-requirements-device-fingerprinting/" rel="noopener ugc nofollow" target="_blank">https://www . terms feed . com/blog/legal-requirements-device-fingerprinting/</a></li><li id="efce" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated"><a class="ae ks" href="https://piwik.pro/blog/device-fingerprint-tracking-in-the-post-gdpr-era/" rel="noopener ugc nofollow" target="_blank">https://piwik . pro/blog/device-fingerprint-tracking-in-the-post-gdpr-era/</a></li></ul><p id="767b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mk">更多内容请看</em><a class="ae ks" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>