<html>
<head>
<title>React Native — Toasts and Activity Indicator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应本地—祝酒和活动指示器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-native-toasts-and-activity-indicator-8053d5223e64?source=collection_archive---------19-----------------------#2021-01-27">https://javascript.plainenglish.io/react-native-toasts-and-activity-indicator-8053d5223e64?source=collection_archive---------19-----------------------#2021-01-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7c3d8f1e4d667caa3a0c0ebfd8cf050d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*E59S0-hOMXfv9FGx"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@pixzolo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pixzolo Photography</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bb80" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">React Native是基于React的移动开发，我们可以用它来进行移动开发。</p><p id="67a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何使用它来创建一个带有React Native的应用程序。</p><h1 id="806a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">ToastAndroid</h1><p id="dff9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">ToastAndroid</code>组件在我们的Android应用程序中显示一段祝酒词。</p><p id="1c3e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4b9d" class="mq lc iq mh b gy mr ms l mt mu">import React from 'react';<br/>import { View, StyleSheet, ToastAndroid, Button } from "react-native";<br/>import Constants from "expo-constants";</span><span id="d4ab" class="mq lc iq mh b gy mv ms l mt mu">const showToast = () =&gt; {<br/>  ToastAndroid.show("Hello World", ToastAndroid.SHORT);<br/>};</span><span id="cee0" class="mq lc iq mh b gy mv ms l mt mu">const showToastWithGravity = () =&gt; {<br/>  ToastAndroid.showWithGravity(<br/>    "Hello World",<br/>    ToastAndroid.SHORT,<br/>    ToastAndroid.CENTER<br/>  );<br/>};</span><span id="b81f" class="mq lc iq mh b gy mv ms l mt mu">const showToastWithGravityAndOffset = () =&gt; {<br/>  ToastAndroid.showWithGravityAndOffset(<br/>    "A wild toast appeared!",<br/>    ToastAndroid.LONG,<br/>    ToastAndroid.BOTTOM,<br/>    25,<br/>    50<br/>  );<br/>};</span><span id="6319" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;View style={styles.container}&gt;<br/>      &lt;Button title="Toggle Toast" onPress={() =&gt; showToast()} /&gt;<br/>      &lt;Button<br/>        title="Toggle Toast With Gravity"<br/>        onPress={() =&gt; showToastWithGravity()}<br/>      /&gt;<br/>      &lt;Button<br/>        title="Toggle Toast With Gravity &amp; Offset"<br/>        onPress={() =&gt; showToastWithGravityAndOffset()}<br/>      /&gt;<br/>    &lt;/View&gt;<br/>  );<br/>}</span><span id="8996" class="mq lc iq mh b gy mv ms l mt mu">const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1,<br/>    justifyContent: "center",<br/>    paddingTop: Constants.statusBarHeight,<br/>    backgroundColor: "#ecf0f1",<br/>    padding: 8<br/>  },<br/>});</span></pre><p id="513e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe me mf mg mh b">ToastAndroid.show</code>方法来显示一个简单的祝酒词。</p><p id="694a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">ToastAndroid.showWithGravity</code>表现出敬酒时的庄重。</p><p id="4c71" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">ToastAndroid.showWithGravity</code>显示重力和位置偏移的祝酒词。</p><p id="749d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以通过手动设置可见性状态来显示祝酒辞。</p><p id="97c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8f02" class="mq lc iq mh b gy mr ms l mt mu">import React, { useEffect, useState } from 'react';<br/>import { View, StyleSheet, ToastAndroid, Button } from "react-native";<br/>import Constants from "expo-constants";</span><span id="ff52" class="mq lc iq mh b gy mv ms l mt mu">const Toast = ({ visible, message }) =&gt; {<br/>  if (visible) {<br/>    ToastAndroid.showWithGravityAndOffset(<br/>      message,<br/>      ToastAndroid.LONG,<br/>      ToastAndroid.BOTTOM,<br/>      25,<br/>      50<br/>    );<br/>    return null;<br/>  }<br/>  return null;<br/>};</span><span id="a1c5" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [visibleToast, setvisibleToast] = useState(false);</span><span id="14cd" class="mq lc iq mh b gy mv ms l mt mu">  useEffect(() =&gt; setvisibleToast(false), [visibleToast]);</span><span id="fd32" class="mq lc iq mh b gy mv ms l mt mu">  const handleButtonPress = () =&gt; {<br/>    setvisibleToast(true);<br/>  };</span><span id="cfe0" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;View style={styles.container}&gt;<br/>      &lt;Toast visible={visibleToast} message="Example" /&gt;<br/>      &lt;Button title="Toggle Toast" onPress={() =&gt; handleButtonPress()} /&gt;<br/>    &lt;/View&gt;<br/>  );<br/>}</span><span id="178a" class="mq lc iq mh b gy mv ms l mt mu">const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1,<br/>    justifyContent: "center",<br/>    paddingTop: Constants.statusBarHeight,<br/>    backgroundColor: "#ecf0f1",<br/>    padding: 8<br/>  },<br/>});</span></pre><p id="d0b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">visible</code>道具创建了自己的<code class="fe me mf mg mh b">Toast</code>组件来控制toast的可见性。</p><p id="5351" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们用<code class="fe me mf mg mh b">message</code>道具将消息传递到toast中。</p><p id="8653" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当<code class="fe me mf mg mh b">visibleToast</code>状态改变时，我们首先用<code class="fe me mf mg mh b">useEffect</code>回调使其不可见，然后再使其可见。</p><h1 id="d3e1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">活动指示器</h1><p id="0499" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">ActivityIndicator</code>组件在我们的应用程序中添加一个活动指示器。</p><p id="7f7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0eec" class="mq lc iq mh b gy mr ms l mt mu">import React from 'react';<br/>import { ActivityIndicator, StyleSheet, Text, View } from "react-native";<br/>export default function App() {<br/>  return (<br/>    &lt;View style={[styles.container, styles.horizontal]}&gt;<br/>      &lt;ActivityIndicator /&gt;<br/>      &lt;ActivityIndicator size="large" /&gt;<br/>      &lt;ActivityIndicator size="small" color="green" /&gt;<br/>      &lt;ActivityIndicator size="large" color="blue" /&gt;<br/>    &lt;/View&gt;<br/>  );<br/>}</span><span id="8534" class="mq lc iq mh b gy mv ms l mt mu">const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1,<br/>    justifyContent: "center"<br/>  },<br/>  horizontal: {<br/>    flexDirection: "row",<br/>    justifyContent: "space-around",<br/>    padding: 10<br/>  }<br/>});</span></pre><p id="7525" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了<code class="fe me mf mg mh b">ActivityIndicator</code>组件来显示它。</p><p id="ffe3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">size</code>道具控制尺寸，<code class="fe me mf mg mh b">color</code>改变颜色。</p><h1 id="4d54" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="b38e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以添加一个活动指示器，用React Native祝酒。</p></div></div>    
</body>
</html>