<html>
<head>
<title>react-overlays — Tooltips</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应-覆盖-工具提示</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-overlays-tooltips-5ae00d044edd?source=collection_archive---------12-----------------------#2021-03-08">https://javascript.plainenglish.io/react-overlays-tooltips-5ae00d044edd?source=collection_archive---------12-----------------------#2021-03-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/08a7e3ed091a5e8cd9b67f55224668ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*u_feY5YaziOEPO4g"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@nadyeldems?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Dan Smedley</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4731" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">工具提示是我们必须经常添加到React应用程序中的东西。</p><p id="8945" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使这项任务更容易，我们可以使用现有的组件库来添加它们。</p><p id="070c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何使用react-overlays库将工具提示添加到React应用程序中。</p><h1 id="b4ae" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">奥韦莱</h1><p id="32b1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">Overlay</code>组件轻松添加覆盖图。</p><p id="52e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要添加它，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e637" class="mq lc iq mh b gy mr ms l mt mu">import React, { useReducer, useRef, useState } from "react";<br/>import styled from "styled-components";<br/>import Overlay from "react-overlays/Overlay";</span><span id="b49e" class="mq lc iq mh b gy mv ms l mt mu">const Tooltip = styled("div")`<br/>  position: absolute;<br/>`;</span><span id="04f8" class="mq lc iq mh b gy mv ms l mt mu">const Arrow = styled("div")`<br/>  position: absolute;<br/>  width: 10px;<br/>  height: 10px;<br/>  z-index: -1;</span><span id="a7a7" class="mq lc iq mh b gy mv ms l mt mu">  &amp;::before {<br/>    content: "";<br/>    position: absolute;<br/>    transform: rotate(45deg);<br/>    background: #000;<br/>    width: 10px;<br/>    height: 10px;<br/>    top: 0;<br/>    left: 0;<br/>  }</span><span id="1dab" class="mq lc iq mh b gy mv ms l mt mu">  ${(p) =&gt;<br/>    ({<br/>      left: "right: -4px;",<br/>      right: "left: -4px;",<br/>      top: "bottom: -4px;",<br/>      bottom: "top: -4px;"<br/>    }[p.placement])}<br/>`;</span><span id="5f51" class="mq lc iq mh b gy mv ms l mt mu">const Body = styled("div")`<br/>  padding: 3px 8px;<br/>  color: #fff;<br/>  text-align: center;<br/>  border-radius: 3px;<br/>  background-color: #000;<br/>`;</span><span id="1242" class="mq lc iq mh b gy mv ms l mt mu">const PLACEMENTS = ["left", "top", "right", "bottom"];</span><span id="1d8c" class="mq lc iq mh b gy mv ms l mt mu">const initialSstate = {<br/>  show: false,<br/>  placement: null<br/>};</span><span id="e19f" class="mq lc iq mh b gy mv ms l mt mu">function reducer(state, [type, payload]) {<br/>  switch (type) {<br/>    case "placement":<br/>      return { show: !!payload, placement: payload };<br/>    case "hide":<br/>      return { ...state, show: false, placement: null };<br/>    default:<br/>      return state;<br/>  }<br/>}</span><span id="bd06" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [{ show, placement }, dispatch] = useReducer(reducer, initialSstate);<br/>  const triggerRef = useRef(null);<br/>  const containerRef = useRef(null);</span><span id="6391" class="mq lc iq mh b gy mv ms l mt mu">  const handleClick = () =&gt; {<br/>    const nextPlacement = PLACEMENTS[PLACEMENTS.indexOf(placement) + 1];</span><span id="d4f4" class="mq lc iq mh b gy mv ms l mt mu">dispatch(["placement", nextPlacement]);<br/>  };</span><span id="3ff1" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;div className="flex flex-col items-center" ref={containerRef}&gt;<br/>      &lt;button<br/>        type="button"<br/>        className="btn mb-4"<br/>        id="overlay-toggle"<br/>        ref={triggerRef}<br/>        onClick={handleClick}<br/>        style={{ marginTop: 200, marginLeft: 200 }}<br/>      &gt;<br/>        I am an Overlay target<br/>      &lt;/button&gt;<br/>      &lt;Overlay<br/>        show={show}<br/>        rootClose<br/>        offset={[0, 10]}<br/>        onHide={() =&gt; dispatch("hide")}<br/>        placement={placement}<br/>        container={containerRef}<br/>        target={triggerRef}<br/>      &gt;<br/>        {({ props, arrowProps, placement }) =&gt; (<br/>          &lt;Tooltip {...props} placement={placement}&gt;<br/>            &lt;Arrow<br/>              {...arrowProps}<br/>              placement={placement}<br/>              style={arrowProps.style}<br/>            /&gt;<br/>            &lt;Body&gt;<br/>              &lt;strong&gt;{placement}&lt;/strong&gt;<br/>            &lt;/Body&gt;<br/>          &lt;/Tooltip&gt;<br/>        )}<br/>      &lt;/Overlay&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="48be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建了<code class="fe me mf mg mh b">Tooltip</code>组件来添加工具提示容器。</p><p id="ed8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们添加<code class="fe me mf mg mh b">Arrow</code>组件来为工具提示添加箭头。</p><p id="83da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Arrow</code>是<code class="fe me mf mg mh b">Tooltip</code>的孩子，所以它被附加到工具提示上。</p><p id="d694" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Body</code>组件是一个包含工具提示内容的div。</p><p id="7c9e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以设置<code class="fe me mf mg mh b">placement</code>状态来设置工具提示的位置。</p><p id="00f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它的值被传入<code class="fe me mf mg mh b">placement</code> prop来设置位置。</p><p id="ea67" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可能的值有<code class="fe me mf mg mh b">'left'</code>、<code class="fe me mf mg mh b">'top'</code>、<code class="fe me mf mg mh b">'right'</code>和<code class="fe me mf mg mh b">'bottom'</code>。</p><p id="0fd2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Overlay</code>组件带几个道具让我们调整一下。</p><p id="8708" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">show</code>道具控制何时显示覆盖图。</p><p id="5d72" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">rootClose</code>让我们在工具提示外单击时关闭工具提示。</p><p id="1ccd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">offset</code>有水平和垂直偏移。</p><p id="93fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">placement</code>已经放置了工具提示。</p><p id="995d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">containerRef</code>有工具提示的容器组件。</p><p id="7799" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">target</code>有组件的ref来触发工具提示。</p><p id="cf13" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，当我们点击按钮时，我们会看到每次改变<code class="fe me mf mg mh b">placement</code>时，工具提示会显示在不同的位置。</p><h1 id="1501" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="45f9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用React覆盖库提供的<code class="fe me mf mg mh b">Overlays</code>组件在React应用程序中添加工具提示。</p><p id="2a62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p><p id="336a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>