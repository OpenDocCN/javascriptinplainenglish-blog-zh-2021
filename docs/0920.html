<html>
<head>
<title>JavaScript Algorithm: Calculate Sum of Numbers in a String</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript算法:计算字符串中数字的总和</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-algorithm-calculate-sum-of-numbers-in-a-string-dd007da460b7?source=collection_archive---------2-----------------------#2021-02-26">https://javascript.plainenglish.io/javascript-algorithm-calculate-sum-of-numbers-in-a-string-dd007da460b7?source=collection_archive---------2-----------------------#2021-02-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9a8e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">计算以逗号分隔的字符串形式接收的数字总和。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7ee2762aeefaeadedfb2e73629e938eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hfzZL66mSW8WH7mz"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@ashkfor121?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ashkan Forouzani</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a37a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将编写一个名为<code class="fe ls lt lu lv b">sumStr</code>的函数，它将接受字符串<code class="fe ls lt lu lv b">str</code>作为参数。该字符串将包含由逗号分隔的整数和浮点数的组合。</p><p id="4d14" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该函数的目标是计算字符串中所有数字的和。</p><p id="dd8c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">示例:</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="d772" class="ma mb iq lv b gy mc md l me mf">sumStr("1.5, 2.3, 3.1, 4, 5.5, 6, 7, 8, 9, 10.9");</span><span id="0d8a" class="ma mb iq lv b gy mg md l me mf">//output: 57.3</span></pre></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><p id="3cf8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在处理字符串中的数字之前，我们将首先在逗号处分割字符串，并将其转换为数组。我们把这个数组分配给一个叫做<code class="fe ls lt lu lv b">strArr</code>的变量。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="0ae2" class="ma mb iq lv b gy mc md l me mf">let strArr = str.split(",");</span></pre><p id="41d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将使用<code class="fe ls lt lu lv b">reduce()</code>方法计算数组中所有数字的和。由于数字最初是字符串，我们需要使用<code class="fe ls lt lu lv b">parseFloat()</code>将所有内容转换成数字。这就是为什么我们的reducer回调函数可以计算总和。</p><p id="fd31" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将总和分配给一个名为<code class="fe ls lt lu lv b">sum</code>的变量。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="de20" class="ma mb iq lv b gy mc md l me mf">let sum = strArr.reduce(function(<em class="mo">total</em>, <em class="mo">num</em>){<br/>    return parseFloat(total) + parseFloat(num);<br/>});</span></pre><p id="36f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然我们已经拿到了总数，我们就可以退回去了。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="90d1" class="ma mb iq lv b gy mc md l me mf">return sum;</span></pre><p id="ce3a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是完整的功能:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><p id="d089" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您认为这个算法有帮助，请查看我的其他JavaScript算法解决方案文章:</p><div class="mr ms gp gr mt mu"><a href="https://levelup.gitconnected.com/javascript-algorithm-convert-minutes-into-seconds-4d4a0d750b6c" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd ir gy z fp mz fr fs na fu fw ip bi translated">JavaScript算法:将分钟转换为秒</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">一个关于如何将分钟转换成秒的简短函数。</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni kp mu"/></div></div></a></div><div class="mr ms gp gr mt mu"><a href="https://js.plainenglish.io/javascript-algorithm-word-count-d759738c974c" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd ir gy z fp mz fr fs na fu fw ip bi translated">JavaScript算法:字数统计</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">创建一个函数，返回文本中的字数。</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">js.plainenglish.io</p></div></div><div class="nd l"><div class="nj l nf ng nh nd ni kp mu"/></div></div></a></div><p id="3120" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mo">多读</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mo">浅显易懂</em></strong></a></p></div></div>    
</body>
</html>