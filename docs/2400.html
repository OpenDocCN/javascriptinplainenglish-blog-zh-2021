<html>
<head>
<title>A Complete Guide to Updating Your Node.js Version via NVM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过NVM更新Node.js版本的完整指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/a-complete-guide-to-updating-your-node-js-version-via-nvm-4953d32df312?source=collection_archive---------3-----------------------#2021-05-18">https://javascript.plainenglish.io/a-complete-guide-to-updating-your-node-js-version-via-nvm-4953d32df312?source=collection_archive---------3-----------------------#2021-05-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/3288e6bd597cdad9036cd9053a439804.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wrWEuSKxgILzycLpo8XcBQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">nvm options and parameters</figcaption></figure><p id="49e3" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">本文将指导您完成使用nvm更新Node.js版本所需的所有步骤。大多数步骤也适用于名为“N”的npm库，但是特定于N的命令的语法会略有不同，这取决于您希望如何指定节点版本。</p><p id="ce78" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">请注意，虽然我说的是“更新”，但您可以轻松地使用nvm来指定比当前运行的版本更旧的版本。</p><p id="03e7" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">首先，如果你还没有安装nvm，你需要安装它，如果nvm库有一段时间没有改变，你可以选择更新它。一般来说，较新的nvm版本与Node的早期版本兼容，因此更新nvm包不会丢失任何东西。</p><p id="b53b" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">如果您有一个标准的npm设置，并且没有在连接到开放互联网的设备上工作，您可以通过键入以下内容来确保您拥有nvm的版本38(截至本文发布之日的最新版本):</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="a26b" class="lg lh in lc b gy li lj l lk ll">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash</span></pre><p id="3e0d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">对于较新版本的nvm，您可能需要使用nvm GitHub库的<a class="ae lm" href="https://github.com/nvm-sh/nvm" rel="noopener ugc nofollow" target="_blank">“安装和更新”部分中的最新安装脚本来更新上面的命令。</a></p><p id="2c69" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">一旦你有了最新版本的nvm，你应该有能力将Node更新到你喜欢的任何版本，并删除你不希望有的任何其他版本。让我们看几个例子。</p><p id="0109" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">例如，假设您需要使用某个新的库，该库只支持10.2.1版本的node，并且这是您唯一的活动node 12项目，您应该输入以下内容:</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="88dd" class="lg lh in lc b gy li lj l lk ll">nvm install 10.2.1</span></pre><p id="b4e4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">但是，假设您最终决定不使用该库，而是希望更新回之前的node 12版本，并放弃node 10安装。因为两者目前都已安装，所以您不需要再次安装node 12的任何版本，而是</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="5ced" class="lg lh in lc b gy li lj l lk ll">nvm use 12<br/>nvm uninstall 10.2.1</span></pre><p id="167b" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这将自动使用Node 12的最新安装版本，并将卸载node 10.2.1。您也可以只指定<code class="fe ln lo lp lc b">nvm uninstall 10</code>，这将只卸载node 10的最新版本。</p><p id="903f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">然而，您肯定会遇到的一个警告是，如果您不安装特定节点版本的包，主要节点版本的更改将不会与许多流行的库一起使用。NVM不会自动为您完成这项工作，因此如果您的项目由于库问题而不再构建，您需要重新生成package-lock.json和node modules文件夹。方法如下:</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="20a7" class="lg lh in lc b gy li lj l lk ll"><strong class="lc io">#After navigating to the project in question<br/></strong>rm -rf ./package-lock.json ./node_modules<br/>npm install</span></pre></div><div class="ab cl lq lr hr ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ig ih ii ij ik"><h1 id="79b0" class="lx lh in bd ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt bi translated"><strong class="ak">常见问题解答</strong></h1><p id="50fc" class="pw-post-body-paragraph jz ka in kb b kc mu ke kf kg mv ki kj kk mw km kn ko mx kq kr ks my ku kv kw ig bi translated"><em class="mz">如果我的设备无法出站访问互联网(特别是GitHub ),该怎么办？</em></p><p id="59cd" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我建议您使用npm库“n ”,您可以通过以下方式安装它:</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="a1cc" class="lg lh in lc b gy li lj l lk ll">npm n</span></pre><p id="123e" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">语法有一点不同，但是N对于访问控制严格的服务器来说是更容易访问的工具。即使您在一个使用私有包注册中心(比如Codeartifact)的环境中工作，您也应该能够安装n。</p><p id="bab6" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="mz">我可以使用未被</em> <code class="fe ln lo lp lc b"><em class="mz">nvm use</em></code> <em class="mz">设置为</em> <code class="fe ln lo lp lc b"><em class="mz">current</em></code> <em class="mz">的节点版本运行我的应用程序吗？</em></p><p id="abb7" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">是的，通过<code class="fe ln lo lp lc b">nvm exec</code>或<code class="fe ln lo lp lc b">nvm run</code> -</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="7b9a" class="lg lh in lc b gy li lj l lk ll">nvm exec 6.1.2 node my-cool-math-app.js | cat output.txt <br/><strong class="lc io"># executes everything after the version in the context of node 6.1.2<br/></strong>nvm run 8.0.0 my-cool-math-app.js<br/><strong class="lc io"># executes the filename given after the version as if you had run   # `node my-cool-math-app.js` using node 8.0.0</strong></span></pre><p id="e503" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="mz"/><code class="fe ln lo lp lc b"><em class="mz">nvm uninstall 10</em></code><em class="mz">为什么只卸载最新的节点版本？</em></p><p id="a772" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">一般来说，如果有歧义，nvm总是选择最近的节点目标。这不仅适用于与uninstall一起使用的部分版本，也适用于use、install、run和exec。</p><p id="0ad9" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">如果我安装了多个版本，如何确保我的节点服务器在运行时运行的是正确的版本？</p><p id="9e4c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">如果<code class="fe ln lo lp lc b">nvm current</code>和<code class="fe ln lo lp lc b">npm -v</code>对您来说还不够完善，您还可以将<code class="fe ln lo lp lc b">process.version</code>作为标准JavaScript日志语句记录在您的应用程序中，即:</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="fe36" class="lg lh in lc b gy li lj l lk ll">console.log("NODE.JS VERSION: ", process.version);</span></pre></div><div class="ab cl lq lr hr ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ig ih ii ij ik"><p id="9aa4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我错过了什么吗？如果是这样，请发表评论让我知道，或者发电子邮件给我，我很乐意补充你认为被遗漏的任何其他细节。</p><p id="a029" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="mz">感谢阅读。</em></p><p id="f1bc" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="mz">更多内容请看</em><a class="ae lm" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mz">plain English . io</em></a></p></div></div>    
</body>
</html>