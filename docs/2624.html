<html>
<head>
<title>Set Up Google Analytics for Your React App in 3 Easy Steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过3个简单的步骤为React应用程序设置Google Analytics</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/set-up-google-analytics-for-your-react-app-in-three-easy-steps-69d8f671a1f3?source=collection_archive---------4-----------------------#2021-05-30">https://javascript.plainenglish.io/set-up-google-analytics-for-your-react-app-in-three-easy-steps-69d8f671a1f3?source=collection_archive---------4-----------------------#2021-05-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="9dfa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">开始跟踪用户交互的指令</em></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/84060626d46b507e86c97a943ea3f99c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h-hwPgEhK8klzmVOFCnPEw.jpeg"/></div></div></figure><p id="139c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">谷歌分析从2005年就开始了，它提供了大量关于网页和应用程序中用户交互的见解和报告。这些数据对于开发人员跟踪人口统计、用户位置、转化率以及监控增长和性能非常有用。最棒的是，谷歌分析有一个稳健的“免费增值”计划；这意味着小企业和独立开发者可以不用支付月费就可以使用这项服务。但是，如果您想要更多的高级功能，则需要重复付费。</p><p id="ec5b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是最好的网站分析工具之一，可以通过三个步骤在React应用程序中实现。</p><h2 id="a5f9" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">步骤1:设置要跟踪的属性</h2><p id="0da4" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">如果你还没有注册谷歌分析，你可以点击<a class="ae lt" href="https://analytics.google.com/" rel="noopener ugc nofollow" target="_blank">这里</a>注册。注册后，您需要导航到管理部分创建一个帐户。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi lu"><img src="../Images/3b4388dd2e1fee8c2075ccc495fef694.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LkOk7qI-Lb-JkaKdP4bKMA.png"/></div></div></figure><p id="90cc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可以随意命名该帐户。我把我的命名为“杰弗里分析”。创建帐户后，您需要在该帐户下创建一个属性。属性是您想要跟踪的实际网站或应用程序。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi lv"><img src="../Images/5215e3701752435b4443d7b4d63c407c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9iIUSi7o17ScCtMTlWBTug.png"/></div></div></figure><p id="187a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">按照提示输入属性名，选择正确的时区和货币。然后点击<strong class="jm io">显示高级选项</strong>。</p><p id="b02c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">打开高级选项后，您需要创建一个通用分析属性，并输入要跟踪的网站的URL地址。你可以同时创建一个Google Analytics 4属性，这是Google在你的网站上自己的跟踪系统，但对于个人项目，这是没有必要的。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi lw"><img src="../Images/7b24468638ad176381d1ab13afd4b5b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9hKe3uej99YlAAlkTQz4QA.png"/></div></div></figure><p id="f674" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">输入网站URL后，将会出现下一个提示，要求您填写网站上的更多信息。选择任何适用的选项并创建属性。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi lx"><img src="../Images/270b8dcd4bd5da841c7e762a53e3ebbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hvphIq9BL59NupcHdffIWA.png"/></div></div></figure><p id="bd2f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦您创建了该属性，您将自动进入其跟踪代码。您也可以通过跟踪信息下的侧边菜单来访问它。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ly"><img src="../Images/d01b8a5d3a38a78b00ae96bd18ee9dfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pxDEEsDCeXp3Sx-xRkwg8g.png"/></div></div></figure><p id="7537" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在React应用中实现Google Analytics时，您将需要跟踪ID。</p><h2 id="7a37" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">步骤2:安装React谷歌分析模块</h2><p id="bea7" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">在您的应用程序中，您需要安装<a class="ae lt" href="https://www.npmjs.com/package/react-ga" rel="noopener ugc nofollow" target="_blank"> react-ga </a>。此模块用于将您的React应用程序同步到Google Analytics，其中包含上一步生成的跟踪ID。</p><p id="96d4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">只需运行:</p><pre class="kk kl km kn gt lz ma mb mc aw md bi"><span id="c111" class="kv kw in ma b gy me mf l mg mh">npm install react-ga --save</span></pre><p id="b233" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">安装后，它可以在您的应用程序中使用。</p><h2 id="3152" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">步骤3:在应用程序中启动谷歌分析</h2><p id="9fa3" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">当在React项目中设置<code class="fe mi mj mk ma b">ReactGA</code>时，一定要在<code class="fe mi mj mk ma b">App.js</code>或<code class="fe mi mj mk ma b">index.js</code>中完成。根据文件:</p><blockquote class="ml mm mn"><p id="a9d3" class="jk jl ki jm b jn jo jp jq jr js jt ju mo jw jx jy mp ka kb kc mq ke kf kg kh ig bi translated">在任何其他跟踪功能记录任何数据之前，必须使用此功能初始化GA。</p></blockquote><p id="1e90" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为此，您需要将ReactGA导入您的应用程序。</p><pre class="kk kl km kn gt lz ma mb mc aw md bi"><span id="35b2" class="kv kw in ma b gy me mf l mg mh">import ReactGA from "react-ga";</span></pre><p id="f35d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后在组件的代码中，您将需要用您之前唯一的跟踪ID初始化<code class="fe mi mj mk ma b">ReactGA</code>。跟踪标识应为字符串。</p><pre class="kk kl km kn gt lz ma mb mc aw md bi"><span id="515b" class="kv kw in ma b gy me mf l mg mh">ReactGA.initialize("YOUR UNIQUE PROPERTY TRACKING ID")</span></pre><p id="b67f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要实际记录分析，您还需要知道用户正在访问哪些页面。为此，从<code class="fe mi mj mk ma b">ReactGa</code>触发<code class="fe mi mj mk ma b">pageview()</code>方法。</p><pre class="kk kl km kn gt lz ma mb mc aw md bi"><span id="dbe1" class="kv kw in ma b gy me mf l mg mh">ReactGA.pageview("PATH")</span></pre><p id="6920" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">完成后，您就可以开始跟踪用户信息了！下面是一个单页的React应用程序示例，在<code class="fe mi mj mk ma b">App.js</code>实现了<code class="fe mi mj mk ma b">ReactGA</code>。因为它是一个单页应用程序，所以<code class="fe mi mj mk ma b">pageview()</code>方法中的路径参数只是<code class="fe mi mj mk ma b">"/"</code>。请随意使用下面的代码摘录作为您的反应项目的起点。</p><pre class="kk kl km kn gt lz ma mb mc aw md bi"><span id="2f0a" class="kv kw in ma b gy me mf l mg mh">import ReactGA from "react-ga";</span><span id="c6a1" class="kv kw in ma b gy mr mf l mg mh">function App() {</span><span id="8151" class="kv kw in ma b gy mr mf l mg mh"><em class="ki">    // Google Analytics Set Up<br/>    </em>const gaTrackingId = "UA-123456789-1"; // enter your Tracking ID<br/>    ReactGA.initialize(gaTrackingId);<br/>    ReactGA.pageview("/");</span><span id="d01e" class="kv kw in ma b gy mr mf l mg mh">    return (<br/>        &lt;div <em class="ki">className</em>="app"&gt;<br/>            &lt;AppContent /&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}</span><span id="7892" class="kv kw in ma b gy mr mf l mg mh">export default App</span></pre><h2 id="bf2b" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">查看分析</h2><p id="fcfc" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">一旦您的反应应用程序中设置了谷歌分析，您就可以访问谷歌分析仪表板来查看实时和传统数据。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ms"><img src="../Images/bf93b047e2ea7ea0dd2d8bdcd2b2b565.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NIEsdim3JZaKN0sS4VFlyw.png"/></div></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mt"><img src="../Images/f1fa376cc7ae82e1d3c333c0ece8033f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XW8-72L1Qa260JgFMCLobg.png"/></div></div></figure><p id="a2f9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">还可以选择启用人口统计和兴趣报告来真正了解您的用户。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mu"><img src="../Images/65e94ea343fb7ab5ca8cf0a75c8e384a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EVb8_JRvvo4Ci9fS.png"/></div></div></figure><h2 id="085e" class="kv kw in bd kx ky kz dn la lb lc dp ld jv le lf lg jz lh li lj kd lk ll lm ln bi translated">最后</h2><p id="1d37" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">这里显示的方法是Google Analytics和<code class="fe mi mj mk ma b">ReactGA</code>的最基本用法——特别是对于单页应用程序。然而,<code class="fe mi mj mk ma b">ReactGA</code>提供了很多额外的功能，比如自定义事件的用法(例如:根据用户访问了某个页面来转换跟踪按钮点击量)。对于多页面应用程序，您可以使用<a class="ae lt" href="https://www.npmjs.com/package/react-router-dom" rel="noopener ugc nofollow" target="_blank">reactor-router-DOM</a>和<code class="fe mi mj mk ma b">history</code>包绑定页面更改事件。</p><p id="4200" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然而，在你下一次构建一个反应项目时，考虑实施谷歌分析。只需按照这里分享的步骤，开始收集用户交互的数据。</p><p id="47ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">更多信息请访问以下资源:</em></p><ul class=""><li id="bdb1" class="mv mw in jm b jn jo jr js jv mx jz my kd mz kh na nb nc nd bi translated"><a class="ae lt" href="https://support.google.com/analytics/answer/10269537?ref_topic=1009620" rel="noopener ugc nofollow" target="_blank">为网站设置分析</a></li><li id="7d30" class="mv mw in jm b jn ne jr nf jv ng jz nh kd ni kh na nb nc nd bi translated"><a class="ae lt" href="https://www.npmjs.com/package/react-ga" rel="noopener ugc nofollow" target="_blank">反应-镓包</a></li><li id="bfed" class="mv mw in jm b jn ne jr nf jv ng jz nh kd ni kh na nb nc nd bi translated"><a class="ae lt" href="https://github.com/react-ga/react-ga" rel="noopener ugc nofollow" target="_blank">反应-GA GitHub </a></li><li id="9d50" class="mv mw in jm b jn ne jr nf jv ng jz nh kd ni kh na nb nc nd bi translated"><a class="ae lt" href="https://www.npmjs.com/package/react-router-dom" rel="noopener ugc nofollow" target="_blank"> React-Router-Dom包</a></li><li id="7c4c" class="mv mw in jm b jn ne jr nf jv ng jz nh kd ni kh na nb nc nd bi translated"><a class="ae lt" href="https://www.npmjs.com/package/history" rel="noopener ugc nofollow" target="_blank">历史包</a></li></ul><p id="f01b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">更内容见于</em> <a class="ae lt" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ki">中</em></a></p></div></div>    
</body>
</html>