<html>
<head>
<title>Getting Started with Next.js and Styled Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Next.js和样式化组件入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/nextjs-and-styled-components-f6c542ffb688?source=collection_archive---------2-----------------------#2021-09-19">https://javascript.plainenglish.io/nextjs-and-styled-components-f6c542ffb688?source=collection_archive---------2-----------------------#2021-09-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/398500cc58ba6232afb9917c09444788.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yuAYlyjkqOhIWVVd"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@pietromattia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pietro Mattia</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="b282" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">在设计最好的网络应用和创造独特的东西的竞赛中，我向你展示了一个你可以使用的组合</h2><p id="d071" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">如果我们不想要任何CSS组件，样式化组件是我们常用的方法之一。这是一个非常强大和方便的库，将创建可重用的设计组件，包括您的主题管理。</p><p id="7386" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">如果你没有听说过这种风格的组件，那么我强烈推荐你观看这个<a class="ae jz" href="https://styled-components.com/" rel="noopener ugc nofollow" target="_blank">链接</a>来学习。</p><h1 id="4922" class="lw kb in bd kc lx ly lz kf ma mb mc ki md me mf km mg mh mi kq mj mk ml ku mm bi translated">Next.js</h1><p id="d633" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">js是在React基础上构建的强大而流行的SSR。它让你更精确地控制网站，包括性能和搜索引擎优化矩阵。可以在<a class="ae jz" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank">官网</a>了解Next.js</p><p id="dd2d" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">我强烈推荐您阅读Next.js，它有潜力成为最流行的框架之一</p><h1 id="a91c" class="lw kb in bd kc lx ly lz kf ma mb mc ki md me mf km mg mh mi kq mj mk ml ku mm bi translated">样式组件</h1><p id="006f" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">具有JavaScript和CSS功能的组件的低级样式使这个实用程序非常棒。它是组件样式的无标记文本，可以非常容易地重用</p><p id="e548" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">动态样式、无痛维护、没有类名问题以及轻松更改CSS是该实用程序的几个亮点</p><h1 id="eb92" class="lw kb in bd kc lx ly lz kf ma mb mc ki md me mf km mg mh mi kq mj mk ml ku mm bi translated">怎么一起用？</h1><p id="27e6" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">要使用这种组合，您首先需要一个Next.js项目，它可能已经存在，或者您可以创建一个新项目</p><p id="513d" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">对于本文，我使用Next.js的入门材料，您可以选择任何模板或项目</p><p id="e696" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">这个想法是，首先我们将安装所有的依赖项，然后创建一个组件，并在主页内重用它。之后，我们将创建一个主题，并将其用于整个项目</p><h1 id="7f0d" class="lw kb in bd kc lx ly lz kf ma mb mc ki md me mf km mg mh mi kq mj mk ml ku mm bi translated">我们开始吧</h1><h2 id="a381" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">安装依赖项</h2><p id="a295" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">我们首先需要将样式化的组件安装到项目中。您可以打开终端并编写任一命令</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="3aef" class="ka kb in ms b gy mw mx l my mz"># with npm<br/>npm install --save styled-components</span><span id="3898" class="ka kb in ms b gy na mx l my mz"># with yarn<br/>yarn add styled-components</span></pre><h2 id="d876" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">巴别塔构型</h2><p id="3fc0" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">在React中，它是直接开始的，但是接下来，您需要再做一步来为组件配置SSR</p><p id="b2ff" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">为此，创建一个文件，<code class="fe nb nc nd ms b">.babelrc</code>，并将下面的内容放入文件中</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="a376" class="ka kb in ms b gy mw mx l my mz">{</span><span id="71d6" class="ka kb in ms b gy na mx l my mz">   "presets": ["next/babel"],</span><span id="3fe2" class="ka kb in ms b gy na mx l my mz">    "plugins": [["styled-components", { "ssr": true }]]</span><span id="a3ea" class="ka kb in ms b gy na mx l my mz">}</span></pre><p id="87cb" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">这段代码将确保您配置了服务器端</p><h2 id="046a" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">定义样式</h2><p id="0ebe" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">现在让我们来定义组件的样式。首先，我们将创建一个名为<code class="fe nb nc nd ms b">style </code>的文件夹，并创建一个文件<code class="fe nb nc nd ms b">theme.config.js</code></p><p id="9f9a" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><strong class="ky io">全球CSS </strong></p><p id="b9da" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">让我们为整个应用程序定义一个全局样式。为此，让我们从样式化组件中导入一些东西</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="ae1e" class="ka kb in ms b gy mw mx l my mz">import { createGlobalStyle } from 'styled-components'<br/></span><span id="8003" class="ka kb in ms b gy na mx l my mz">export const lightTheme = {</span><span id="a3ab" class="ka kb in ms b gy na mx l my mz">   body: '#fffff',</span><span id="0d8c" class="ka kb in ms b gy na mx l my mz">   main: '#5C14DB',</span><span id="9959" class="ka kb in ms b gy na mx l my mz">   mainColor: '#FFFFFF',</span><span id="4102" class="ka kb in ms b gy na mx l my mz">   accent: '#E5DE17',</span><span id="b227" class="ka kb in ms b gy na mx l my mz">   accentColor: '#161616',</span><span id="2385" class="ka kb in ms b gy na mx l my mz">   secondary: '#FFFFFF',</span><span id="96a4" class="ka kb in ms b gy na mx l my mz">   secondaryColor: '#343434',</span><span id="45f9" class="ka kb in ms b gy na mx l my mz">   dullColor: '#343434',</span><span id="8aff" class="ka kb in ms b gy na mx l my mz">   ternary: '#000000',</span><span id="0ff7" class="ka kb in ms b gy na mx l my mz">   codeColor: '#D121C5',</span><span id="895c" class="ka kb in ms b gy na mx l my mz">}</span><span id="f694" class="ka kb in ms b gy na mx l my mz">export const GlobalStyles = createGlobalStyle`</span><span id="fbcf" class="ka kb in ms b gy na mx l my mz">* {</span><span id="fc2f" class="ka kb in ms b gy na mx l my mz">   box-sizing: border-box;</span><span id="9178" class="ka kb in ms b gy na mx l my mz">}</span><span id="e19e" class="ka kb in ms b gy na mx l my mz">body {</span><span id="e54d" class="ka kb in ms b gy na mx l my mz">   margin: 0;</span><span id="8f40" class="ka kb in ms b gy na mx l my mz">   padding: 0;</span><span id="3f55" class="ka kb in ms b gy na mx l my mz">   background: ${({ theme }) =&gt; theme.body};</span><span id="ec76" class="ka kb in ms b gy na mx l my mz">   color: ${({ theme }) =&gt; theme.text};</span><span id="366b" class="ka kb in ms b gy na mx l my mz">   font-family: sans-serif !important;</span><span id="6306" class="ka kb in ms b gy na mx l my mz">   font-weight: 400;</span><span id="5982" class="ka kb in ms b gy na mx l my mz">   font-style: normal;</span><span id="3b28" class="ka kb in ms b gy na mx l my mz">   transition: all 0.50s linear;</span><span id="b174" class="ka kb in ms b gy na mx l my mz">}</span><span id="7755" class="ka kb in ms b gy na mx l my mz">input, textarea, button {font-family: inherit}</span></pre><p id="611f" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">这里，我们导入createGlobalStyle，它将帮助我们为项目创建一个全局CSS。下面是普通的CSS代码。</p><p id="0cd8" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">为了导入这个全局样式，我们需要一个名为<code class="fe nb nc nd ms b">_app.js</code>的文件</p><p id="8890" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">下面是如何导入它并将其用于您的项目的方法</p><figure class="mn mo mp mq gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/9a407e130bd66c8fd7fda6baef8e7849.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nn-LiF3cCbII8WSeUC3BSg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">_app.js</figcaption></figure><p id="33d4" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">现在，如果您运行项目并看到更改，它应该从theme.config.js中选择全局样式</p><p id="0698" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">如果你改变了主题配置中的任何东西，它应该反映你的整个页面</p><p id="dfc7" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated"><strong class="ky io">组件CSS </strong></p><p id="5efb" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">让我们继续创建一个特定于组件的样式。要创建一个starter组件，您可以在一个名为<code class="fe nb nc nd ms b">layout.style.js</code>的样式文件夹中创建一个文件。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="596b" class="ka kb in ms b gy mw mx l my mz">import styled from 'styled-components'</span><span id="d3d4" class="ka kb in ms b gy na mx l my mz">export const PrimaryContainer = styled.div`</span><span id="2b53" class="ka kb in ms b gy na mx l my mz">   background: ${(<em class="nf">props</em>) =&gt; <em class="nf">props</em>.theme.main};</span><span id="755f" class="ka kb in ms b gy na mx l my mz">   color: ${(<em class="nf">props</em>) =&gt; <em class="nf">props</em>.theme.mainColor};</span><span id="0cc7" class="ka kb in ms b gy na mx l my mz">   display: flex;</span><span id="741c" class="ka kb in ms b gy na mx l my mz">   flex-direction: column;<br/>`</span></pre><p id="789b" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">这是一个可以在anywhere应用程序中使用的示例容器组件。您只能将其作为常规组件导入</p><h2 id="81f8" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">传递自定义道具</h2><p id="2d3d" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">传递自定义道具并不难。您只需要为样式化组件提供一个attrs属性</p><p id="bccb" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">一个例子可以是</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="0efc" class="ka kb in ms b gy mw mx l my mz">export const Row = styled.div.attrs((<em class="nf">props</em>) =&gt; {</span><span id="7b4d" class="ka kb in ms b gy na mx l my mz">   const direction = <em class="nf">props</em>.mobile ? 'column' : 'row'</span><span id="e5bb" class="ka kb in ms b gy na mx l my mz">   const justifyContent = <em class="nf">props</em>.justifyContent ?? 'start'</span><span id="5dba" class="ka kb in ms b gy na mx l my mz">   const alignItems = <em class="nf">props</em>.alignItems ?? 'start'</span><span id="f8bc" class="ka kb in ms b gy na mx l my mz">   const reverse = <em class="nf">props</em>.reverse</span><span id="7a9a" class="ka kb in ms b gy na mx l my mz">   return {</span><span id="3d1b" class="ka kb in ms b gy na mx l my mz">     direction: `${direction + (reverse ? '-reverse' : '')}`,</span><span id="9e2f" class="ka kb in ms b gy na mx l my mz">     justifyContent,</span><span id="13b8" class="ka kb in ms b gy na mx l my mz">     alignItems,</span><span id="79a3" class="ka kb in ms b gy na mx l my mz">   }</span><span id="6f9d" class="ka kb in ms b gy na mx l my mz"> })`</span><span id="99bd" class="ka kb in ms b gy na mx l my mz"> display: flex;</span><span id="099b" class="ka kb in ms b gy na mx l my mz"> flex-direction: ${(<em class="nf">props</em>) =&gt; <em class="nf">props</em>.direction};</span><span id="6ff7" class="ka kb in ms b gy na mx l my mz"> justify-content: ${(<em class="nf">props</em>) =&gt; <em class="nf">props</em>.justifyContent};</span><span id="a0f4" class="ka kb in ms b gy na mx l my mz"> align-items: ${(<em class="nf">props</em>) =&gt; <em class="nf">props</em>.alignItems};</span><span id="0793" class="ka kb in ms b gy na mx l my mz">`</span></pre><p id="b971" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">要使用它，您可以写</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="d339" class="ka kb in ms b gy mw mx l my mz">&lt;Row justifyContent='center' alignItems='center' reverse mobile/&gt;</span></pre><h1 id="0b5a" class="lw kb in bd kc lx ly lz kf ma mb mc ki md me mf km mg mh mi kq mj mk ml ku mm bi translated">结论</h1><p id="3b3c" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">这是一个简单的关于样式化组件和Next.js结合的指南，它或多或少类似于react，只是多了几行代码。</p><p id="5b78" class="pw-post-body-paragraph kw kx in ky b kz lr lb lc ld ls lf lg kj lt li lj kn lu ll lm kr lv lo lp lq ig bi translated">我建议你尝试一下，并希望这篇文章能帮助你设置。你可以在这里找到完整的源代码<a class="ae jz" href="https://github.com/Piyush-Use-Personal/next-styled-component" rel="noopener ugc nofollow" target="_blank">。这个回购包含更多不同种类的例子，以帮助您了解更多。谢谢！</a></p></div></div>    
</body>
</html>