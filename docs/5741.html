<html>
<head>
<title>How to Slugify a String</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何定义字符串</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-slugify-a-string-9254916429ea?source=collection_archive---------4-----------------------#2021-12-04">https://javascript.plainenglish.io/how-to-slugify-a-string-9254916429ea?source=collection_archive---------4-----------------------#2021-12-04</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/80357d55b5c1ec58655b184efaefbbf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DainbVNmmmppSB6OovYXzA.jpeg"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Photo by <a class="ae kd" href="https://unsplash.com/@jesseramirezla?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">jesse ramirez</a> on <a class="ae kd" href="https://unsplash.com/@jesseramirezla?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="84e1" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">新的一天和新的<a class="ae kd" href="https://github.com/devadvent/readme" rel="noopener ugc nofollow" target="_blank"> Dev降临日历2021 </a>谜题要解决。圣诞老人的小精灵们尝到了咖啡的味道，决定冒险一试:他们想跳进送餐的世界。首先，他们必须通过添加能够管理订单的API来修复咖啡店站点。</p><h1 id="a041" class="lc ld ir bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">谜题:精灵咖啡店API 🧝🥤</h1><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj ma"><img src="../Images/2300f350d4410d4770ed114b16ee8aff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HB09WMAiVO4YNdYOpSO7xg.jpeg"/></div></div></figure><p id="292e" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">今天的谜题比前几个稍微难一点。但是它可以很容易地分解成两个不同的子问题。第一个是向JavaScript对象添加属性的简单问题。第二种方法需要使用正则表达式。在我看来，这也是最有趣的部分。但我们还是按顺序来，从头开始。</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mf mg l"/></div></figure><p id="7780" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我使用<a class="ae kd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener ugc nofollow" target="_blank"> map() </a>方法遍历每个菜单项，并简单地添加缺少的属性。现在剩下的就是修复<code class="fe mh mi mj mk b">slugify</code>函数。</p><h1 id="9d44" class="lc ld ir bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">如何获得文本的“简化”版本</h1><p id="6166" class="pw-post-body-paragraph ke kf ir kg b kh ml kj kk kl mm kn ko kp mn kr ks kt mo kv kw kx mp kz la lb ik bi translated">我很困惑。是我从来没有问过自己的问题。但我认为这是经常发生的情况。我喜欢面对新问题，即使这些问题对我来说是全新的。然而，在字谜的文本中有一个提示:</p><div class="mq mr gq gs ms mt"><a href="https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fp"><div class="mv ab mw cl cj mx"><h2 class="bd is gz z fq my fs ft mz fv fx iq bi translated">在JavaScript中删除字符串中的重音/音调符号</h2><div class="na l"><h3 class="bd b gz z fq my fs ft mz fv fx dk translated">如何从字符串中删除加重的字符？特别是在IE6的时候，我有过这样的事情:accentsTidy =…</h3></div><div class="nb l"><p class="bd b dl z fq my fs ft mz fv fx dk translated">stackoverflow.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh jx mt"/></div></div></a></div><p id="b130" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">一个世界为我打开了，我不知道可以使用叫做<a class="ae kd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions/Unicode_Property_Escapes" rel="noopener ugc nofollow" target="_blank"> Unicode property escapes </a>的东西来更容易地创建正则表达式。从这里开始，我一步一步地遵循这些要求。</p><p id="5612" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">为了使每个字符小写，我显然使用了<a class="ae kd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase" rel="noopener ugc nofollow" target="_blank">string . prototype . tolowercase()</a>方法:<code class="fe mh mi mj mk b">text.toLowerCase()</code>。</p><p id="fe40" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">为了替换所有奇怪的字母(包括重音字母)，我使用了这个代码:<code class="fe mh mi mj mk b">text.normalize("NFD").replace(/\p{Diacritic}/gu, "")</code>。然而，这并没有解决菜单中表情符号的问题。精灵喜欢表情符号。一个解决方案可能是使用类似于<code class="fe mh mi mj mk b">replace(/\p{Emoji}/gu, "-"</code>的东西。它可以工作，但是对于下一个请求来说是多余的。</p><p id="732c" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">事实上，要替换所有字母数字字符(包括表情符号)，我可以使用regex <code class="fe mh mi mj mk b">.replace(/[^a-zA-Z0-9_\s-]/gu, " ")</code>。我用空格代替一切，而不是直接用破折号(<code class="fe mh mi mj mk b">-</code>)。为什么？因为这样我可以直接使用<code class="fe mh mi mj mk b">trim()</code>来消除字符串开头和结尾的空格。</p><p id="342c" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">下一步是用破折号替换所有空格。我可以使用<code class="fe mh mi mj mk b">.replace(/\s+/gu, "-")</code>将每个空格序列转换成一个破折号。</p><p id="5aa3" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我把它们放在一起，得到了<code class="fe mh mi mj mk b">slugify</code>函数:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="mf mg l"/></div></figure><p id="9d21" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">好了，今天就到这里。我很想发现明天的谜题。</p><p id="785a" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl ni nj hv nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ik il im in io"><p id="9ef0" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is"> <em class="np">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae kd" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="kg is"> <em class="np">中邮箱列表</em> </strong> </a></p><div class="mq mr gq gs ms mt"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="mu ab fp"><div class="mv ab mw cl cj mx"><h2 class="bd is gz z fq my fs ft mz fv fx iq bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="na l"><h3 class="bd b gz z fq my fs ft mz fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="nb l"><p class="bd b dl z fq my fs ft mz fv fx dk translated">el3um4s.medium.com</p></div></div><div class="nc l"><div class="nq l ne nf ng nc nh jx mt"/></div></div></a></div></div><div class="ab cl ni nj hv nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ik il im in io"><p id="17f2" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="np">原载于2021年12月4日</em><a class="ae kd" href="https://blog.stranianelli.com/how-to-slugify-a-string/" rel="noopener ugc nofollow" target="_blank"><em class="np">https://blog.stranianelli.com</em></a><em class="np">。</em></p><p id="4588" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="np">更多内容看</em> <a class="ae kd" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kg is"> <em class="np">说白了就是</em> </strong> </a> <strong class="kg is"> <em class="np">。</em> </strong> <em class="np">报名参加我们的</em> <a class="ae kd" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kg is"> <em class="np">免费每周简讯这里</em> </strong> </a> <strong class="kg is"> <em class="np">。</em>T46】</strong></p></div></div>    
</body>
</html>