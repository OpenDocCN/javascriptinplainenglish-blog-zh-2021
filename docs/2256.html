<html>
<head>
<title>Should You Use REST API in 2021?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2021年该不该用REST API？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/is-it-worth-using-rest-api-in-2021-74dc3d1fb8dc?source=collection_archive---------9-----------------------#2021-05-11">https://javascript.plainenglish.io/is-it-worth-using-rest-api-in-2021-74dc3d1fb8dc?source=collection_archive---------9-----------------------#2021-05-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="107f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">GraphQL可能是一个更好的选择，但是你应该转换吗？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/956ed6eb31f8653f3e1e5dece1176d73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*b23IQR0-I4GD65jH"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@brucemars?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">bruce mars</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bb1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">互联网先驱伊凡·苏泽兰说:“把我们认为很难的问题拿出来，然后找到一个简单的解决方案，这是非常令人满意的。最佳解决方案总是简单的。”</p><p id="64ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">REST或表征状态转移就是一个活生生的例子。</p><p id="82b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">早在20世纪90年代，还没有统一的方法来标准化web设计选择和API。</p><p id="a683" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个优雅而简单的解决方案是当务之急。</p><p id="ffdd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这正是在罗伊·菲尔丁领导下的一个专家小组得出的结论。我们称之为REST APIs。</p><p id="156e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://en.wikipedia.org/wiki/Representational_state_transfer#:~:text=in%20a%20retrospective%20look%20at%20the%20development%20of%20rest%2C%20fielding%20said%3A" rel="noopener ugc nofollow" target="_blank">菲尔丁总结了启发他构建REST的问题</a>:</p><blockquote class="lt lu lv"><p id="697c" class="kw kx ls ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">“我收到了来自500多名开发人员的评论，其中许多人都是拥有数十年经验的杰出工程师，我必须解释从最抽象的Web交互概念到HTTP语法的最细微的细节。</p><p id="07c1" class="kw kx ls ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">这个过程将我的模型打磨成一套核心的原则、属性和约束，现在称之为REST。"</p></blockquote><p id="e16d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是就像世界上的一切一样，随着时间的推移，会有更好的替代品。</p><p id="e95a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">GraphQL最近理所当然地获得了大量的流行，因为它给REST带来了很好的竞争。</p><p id="a963" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">GraphQL的主要优势是它为客户提供了定义他们所需的数据结构的能力，并且来自服务器的响应也是以相同的结构定义的。</p><p id="e28b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这可以防止服务器无缘无故地传输冗余数据。</p><p id="6a08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，这不是另一个鼓励你盲目地从REST转向GraphQL的博客。</p><p id="7226" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将尝试解释REST的缺点，以及GraphQL如何克服这些缺点，如果这些缺点值得放弃，REST将被讨论。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="6f69" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">为什么即使在诞生20年后，REST仍然如此受欢迎？</h2><p id="b7f2" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">如上所述，REST是由于缺乏构建API的统一和标准化过程而导致混乱的结果。</p><p id="5fe8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但那是在2000年。</p><p id="8e5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">二十多年后，人们仍然依赖REST APIs，因为它提供了许多优势:</p><p id="9a00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> #1。可伸缩性</strong> : REST API是可伸缩的。但这意味着什么呢？他们没有国籍。每个对REST API的调用都是一个独立的调用。</p><p id="f372" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这使您能够缓存响应。REST还允许您分离客户端和服务器端代码。使用Redis可以大大提高你的网站速度。</p><p id="c08a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在Vue中创建一个前端，并在后端使用Django开发的REST APIs，这样会很好。</p><p id="5507" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这种分离有助于管理代码库。</p><p id="1efd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> #2。灵活性:</strong> REST允许开发人员根据自己的需要构造数据，并且客户知道预期的数据结构。</p><p id="cdb5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过给予开发人员构建的自由，这些API可以处理各种形式的请求&amp;从而以多种格式发送数据。因此，相同的API可以用于web和本地应用程序。</p><p id="1f85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，这使您能够使用许多第三方API，只需简单地查看它们的样本数据响应，最好的部分是您可能不必管理任何这些第三方API。</p><div class="ne nf gp gr ng nh"><a rel="noopener  ugc nofollow" target="_blank" href="/7-free-apis-that-nobody-is-talking-about-cf974e15917"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd ir gy z fp nm fr fs nn fu fw ip bi translated">7个没人谈论的免费API</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">使用这些API创建独特而有趣的应用程序</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv kp nh"/></div></div></a></div></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="d055" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">REST APIs的缺点</h2><p id="2080" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">如果REST APIs无可挑剔，GraphQL的受欢迎程度就不会像今天这样。</p><p id="ffc0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在休息的情况下，它的一个优点也是它的缺点。</p><p id="7742" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据提取不足或过多是使用REST的核心缺点。</p><p id="b958" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">由于REST给了开发者结构化数据的选择，因此它剥夺了客户定义他们需要的数据结构的自由<em class="ls"/>。</strong></p><p id="189a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，假设您有一个网站和一个移动应用程序，两者共享同一个API。</p><p id="ecef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该API向网络和移动应用程序发送不同大小的单个图像的URL。web应用程序使用最大尺寸图像的URL，而移动应用程序使用同样的方法，但使用较小尺寸的图像。</p><p id="ebf5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">图像最小尺寸的URL不适合web应用程序，而移动应用程序则相反。</p><p id="75af" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果有一种方法可以准确地告诉API你…</p><p id="032d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是GraphQL发挥作用的地方。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="9e8c" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">所以GraphQL比REST好？</h2><p id="1708" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">答案不是简单的是或不是。</p><p id="5434" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">顾名思义，GraphQL是一种查询语言，它让客户能够定义他们需要的数据结构，但它也有缺点。</p><p id="ecfb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我遇到的两个主要问题是缓存和缺乏速率限制。</p><p id="a06f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们一个接一个地检查这两个:</p><p id="7c74" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">缓存:</strong>在GraphQL中进行缓存并非不可能，但是实现它并不像在REST中那样简单。</p><p id="aace" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是因为每个查询都可能是不同的，而REST的“查询”是相同的，我们确切地知道要缓存什么。</p><p id="9e03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，大多数GraphQL库都提供了缓存机制。</p><p id="f699" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">速率限制:</strong>同样，也不是不可能实现，但是速率限制不是GraphQL爱好者可以夸耀的事情。</p><p id="7a8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最近，有许多YouTube视频和论坛在讨论限速GraphQL，你可以看看这些。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="a6f6" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">应该从REST切换到GraphQL还是相反？</h2><p id="2674" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">两者都有各自的缺点和优点，这里没有通用的答案。</p><p id="ba80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这完全取决于你的应用和个人偏好。</p><p id="4d0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是您在选择这些API时应该考虑的几点:</p><ol class=""><li id="53c5" class="nw nx iq ky b kz la lc ld lf ny lj nz ln oa lr ob oc od oe bi translated">缓存:如果缓存是一个重要的方面，并且您经常需要它，那么REST是一个不错的选择。但是，如果只需要缓存站点的某些部分，可以使用GraphQL来实现这样的缓存机制。</li><li id="bbc4" class="nw nx iq ky b kz of lc og lf oh lj oi ln oj lr ob oc od oe bi translated">数据提取:REST引入了数据提取不足/过量的问题。如果您计划在多种设备上使用相同的API，并且希望能够自由地允许客户端结构化数据，那么毫无疑问，GraphQL是您的不二之选。</li><li id="e3de" class="nw nx iq ky b kz of lc og lf oh lj oi ln oj lr ob oc od oe bi translated">解耦:每当前端需要新数据时，比如显示全名而不仅仅是名字，他们可以简单地改变查询，而不改变后端的任何内容。它帮助后端和前端团队独立工作。</li><li id="0fdc" class="nw nx iq ky b kz of lc og lf oh lj oi ln oj lr ob oc od oe bi translated">简单:如果你是初学者，那么我建议你至少学习REST，因为它打开了一扇机会之门。此外，如果您正在构建一个看不到可伸缩性的辅助项目，或者仅仅是一个辅助项目，那么REST是首选，因为它易于实现(当然，除非您的辅助项目特别需要GraphQL的能力)。</li></ol></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="e374" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">最后的想法</h2><p id="400e" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">作为一名web开发人员，看到像REST和GraphQL这样的选项给我带来了快乐，但同时，它也造成了错误规划大型项目和重写后端代码的恐惧。</p><p id="02e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">GraphQL和REST各有利弊，事先了解它们可以让你省去无数的编码和纠正错误的时间。</p><blockquote class="ok"><p id="6fbc" class="ol om iq bd on oo op oq or os ot lr dk translated">选择这两者中的任何一个都取决于您的应用需求。</p></blockquote><p id="a9a7" class="pw-post-body-paragraph kw kx iq ky b kz ou jr lb lc ov ju le lf ow lh li lj ox ll lm ln oy lp lq lr ij bi translated">它们都不完美，但是如果你在使用它们之前三思，它们会是你下一个应用的完美选择。</p><p id="c8f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><p id="e6f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容尽在</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ls">plain English . io</em></a></p></div></div>    
</body>
</html>