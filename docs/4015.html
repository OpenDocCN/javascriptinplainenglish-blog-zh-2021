<html>
<head>
<title>How to Secure Environment Variables with Dotenv</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Dotenv保护环境变量</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-secure-environment-variables-with-dotenv-c534fe46c8a?source=collection_archive---------9-----------------------#2021-08-11">https://javascript.plainenglish.io/how-to-secure-environment-variables-with-dotenv-c534fe46c8a?source=collection_archive---------9-----------------------#2021-08-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0552" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用dotenv保护环境变量的分步指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2006e100cf7b88f78fd92151879e9fdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*COvGjt_EcpQXvkcq"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@possessedphotography?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Possessed Photography</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d9a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在开发阶段，您可能需要在应用程序中使用环境变量或键。</p><p id="1cd5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将密钥与您的项目包含在一起可能是一种危险的尝试，因为有人可以访问您的密钥，并恶意地用它们做危险或违反规则的事情。</p><p id="6d45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们不希望这种情况发生在我们和我们的应用程序上。尤其是当你把代码提交给GitHub的时候，它会暴露在很多威胁之下，这在很多人眼里是显而易见的。</p><p id="6f00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将了解什么是dotenv，以及我们如何利用它来保护我们的环境变量。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="f980" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated"><strong class="ak">什么是dotenv？</strong></h2><p id="dd72" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated"><a class="ae kv" href="https://www.npmjs.com/package/dotenv" rel="noopener ugc nofollow" target="_blank"> Dotenv </a>是一个零依赖模块，将环境变量从<strong class="ky ir">T5 envT7】文件加载到<strong class="ky ir">T9】process . env</strong>中。</strong></p><p id="2f38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将配置存储在独立于代码的环境中是基于十二因素应用程序方法的。</p><p id="6f0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Dotenv使我们能够将我们的环境变量存储在一个单独的文件中，我们可以单独调用和使用它们。</p><p id="9b93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一方面，我们可以将这个文件添加到<strong class="ky ir">中<em class="mx">。gitignore </em> </strong>文件，这样它就不会将该文件的内容提交给存储库。这意味着我们的环境变量对我们来说是唯一的，我们是唯一能够使用它们的人。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="d754" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated"><strong class="ak">什么时候用dotenv？</strong></h2><p id="fe7c" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">Dotenv可以用在你的开发阶段，你想存储一些独立的和私有的环境变量。</p><p id="0d03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">维护这一点是必要的，不要共享这些信息，主要是在为开源或其他项目做贡献的时候，在这些项目中，你想秘密地拥有你的私钥。</p><h2 id="5299" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated"><strong class="ak">如何使用dotenv？</strong></h2><p id="0ac2" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">Dotenv是一个超级轻量级的库，大小约为25kb，这意味着它不会占用您很大的开发空间。在这一部分，我们将看看如何在我们的开发过程中使用dotenv。</p><p id="28e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据您喜欢的软件包管理器，您可以安装它，如下所示。</p><p id="808e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> NPM </strong></p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="a53d" class="lz ma iq mz b gy nd ne l nf ng"># with npm</span><span id="4328" class="lz ma iq mz b gy nh ne l nf ng">npm install dotenv</span></pre><p id="a7b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">纱线</strong></p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="f08e" class="lz ma iq mz b gy nd ne l nf ng"># with Yarn</span><span id="23cb" class="lz ma iq mz b gy nh ne l nf ng">yarn add dotenv</span></pre><p id="3fbb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，我们将已经在我们的应用程序中安装了dotenv，现在我们可以使用它了。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="1540" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated"><strong class="ak">创建dotenv文件。</strong></h2><p id="3ef8" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">最好在应用程序的根目录下，创建一个文件并将其命名为. env。该文件将包含我们所有的环境变量。</p><p id="1014" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要创建我们的环境变量，您可以创建它们，如下所示。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="ec99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的应用程序入口文件上，您可以如下所示导入它</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="5cd6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，假设我们想要使用一个环境变量来连接我们的mongo DB数据库，我们可以如下使用它。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="55e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以在任何我们需要环境变量的地方，我们只需要调用<strong class="ky ir"><em class="mx">process . env . db _ CONNECT</em></strong>。</p><p id="3568" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以将<strong class="ky ir"> <em class="mx"> DB_CONNECT </em> </strong>替换为您想要使用的<strong class="ky ir"> <em class="mx"> env </em> </strong>变量。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="d1d4" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">使用dotenv时的最佳实践</h2><ul class=""><li id="137b" class="nk nl iq ky b kz ms lc mt lf nm lj nn ln no lr np nq nr ns bi translated">不要将字符串放在引号中，如下所示</li></ul><p id="31fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">DB_CONNECT = '您的mongodburihere '</p><ul class=""><li id="632e" class="nk nl iq ky b kz la lc ld lf nt lj nu ln nv lr np nq nr ns bi translated">不要设置如下所示的环境变量。始终坚持使用等号。</li></ul><p id="6a16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">DB_CONNECT:“您的mongodburihere”</p><p id="2770" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是我们如何在我们的应用程序中实现和使用dotenv。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="2ddc" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated"><strong class="ak">结论</strong></h2><p id="2f35" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">谢谢你一直关注这篇文章，如果你觉得它有帮助，如果你能和别人分享它，对我来说意义重大。</p><p id="742f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢谢你，祝你写安全代码愉快。</p><h2 id="d86f" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated"><strong class="ak">更多阅读:</strong></h2><div class="nw nx gp gr ny nz"><a rel="noopener  ugc nofollow" target="_blank" href="/top-9-css-frameworks-to-check-out-for-your-next-project-ca0a57d69a58"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">为你的下一个项目检查的前9个CSS框架</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">下一个前端项目的CSS框架。</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oi l"><div class="oj l ok ol om oi on kp nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a rel="noopener  ugc nofollow" target="_blank" href="/5-portfolio-tips-that-will-land-you-an-interview-aef81512328a"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">让你获得面试机会的5个投资技巧</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">建立一个能让你脱颖而出的文件夹。</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oi l"><div class="oo l ok ol om oi on kp nz"/></div></div></a></div><p id="5005" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mx">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mx">plain English . io</em></strong></a></p></div></div>    
</body>
</html>