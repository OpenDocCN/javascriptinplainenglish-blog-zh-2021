<html>
<head>
<title>Introducing Hooks in React (useState)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React (useState)中引入钩子</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/introducing-hooks-in-react-usestate-1de8b69adafc?source=collection_archive---------15-----------------------#2021-06-02">https://javascript.plainenglish.io/introducing-hooks-in-react-usestate-1de8b69adafc?source=collection_archive---------15-----------------------#2021-06-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/53c4ab0451f780f13203cd4ac3f923b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DklmkzDo8X-qM_fBBwMc_Q.jpeg"/></div></div></figure><p id="f378" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">大家好！</p><p id="ea7b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">尽管钩子在React中已经不再是什么新奇的东西了(因为它们是在16.8版本中引入的)，但是仍然有大量的文档通过React组件中的类来展示传统的开发模型。</p><p id="7b70" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我将写一系列介绍性文章来讨论主要的React钩子，其中有<strong class="jx io">使用状态</strong>(这将是我们的第一篇)<strong class="jx io">使用效果、</strong>和<strong class="jx io">使用上下文。</strong>然后，我们将讨论对某些用户来说稍微复杂一点的问题，例如<strong class="jx io"> useRef </strong>、<strong class="jx io"> useCallback </strong>、<strong class="jx io"> useReducer </strong>等等。你也可以创建自己的钩子，这在某些情况下非常有用(我们可以在下一期出版物中看到，留下你的评论)。</p><h1 id="0ba7" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">理论</h1><h2 id="23f0" class="lr ku in bd kv ls lt dn kz lu lv dp ld kg lw lx lh kk ly lz ll ko ma mb lp mc bi translated">什么是钩子？</h2><p id="fbd4" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">概括地说，钩子只不过是一个函数，它可以让你访问React的功能组件的某些特性(是的，功能组件，因为钩子不能在类中工作)，这样你就可以访问你的状态和生命周期。</p><p id="65be" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了在组件中呈现状态和生命周期时具有良好的性能，钩子有一个基本规则，规定它永远不应该在循环、条件规则(例如if，else)或嵌套函数中使用，请注意这个规则！</p><h1 id="0f36" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">亲自动手</h1><h2 id="8118" class="lr ku in bd kv ls lt dn kz lu lv dp ld kg lw lx lh kk ly lz ll ko ma mb lp mc bi translated">使用状态</h2><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/4eb17d39c0be1713d49bd7d6f6d5c739.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PgRiXXm1WbeUuJmkwVL6NQ.png"/></div></div></figure><figure class="mj mk ml mm gt jo"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="22cb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个钩子负责操纵你的应用程序的状态。它返回给我们一个数组，数组中有一个值和一个函数，当这个函数被调用时，它将负责改变这个值的信息。</p><p id="6394" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当组件的初始呈现发生时，我们可以传递一个初始值。该值与useState ( <strong class="jx io"> initialState </strong>)中初始参数内的标志相同。</p><p id="3b3b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这个例子中，当我们想要更新组件中的状态变量时，使用了<strong class="jx io"> setState </strong>。它接收通知的新值，而不是立即更新，它将该值排队，从而将最近的值传递给该变量，这个过程在react by<strong class="jx io">immutanbility</strong>中是众所周知的。</p><p id="5acd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以在几段代码中找到另一种方法，即调用通过回调更新状态的函数，举前面的例子，可以像这样重构它:</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mq"><img src="../Images/2729133fbd6f8f5300f1aaa057870449.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tttZDqsJ2oNjuU82jHlk0w.png"/></div></div></figure><figure class="mj mk ml mm gt jo"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="e63e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这样，基于前一个状态的新状态就会返回。由于不变性，这在一些应用程序中被广泛使用，例如，我们想对屏幕动画的状态变化进行一些比较。</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mr"><img src="../Images/42c6abc08212d2661e78c0077f839123.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b--ZaDxkM51_JKBXjifz2A.png"/></div></div></figure><figure class="mj mk ml mm gt jo"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="9750" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我们使用<em class="mp">类型脚本</em>时，我们已经在上面的例子<code class="fe ms mt mu mv b">useState&lt;string&gt;('value')</code>中推断出了状态类型。然而，值得一提的是，对于主类型(例如字符串、数字、布尔值)，您不需要显式地定义类型，因为typescript解释器可以动态地定义它们，这样，代码就更干净，从而避免了在通知不同的数据类型时出现错误。</p><p id="a056" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是一个关于在useState中使用with TypeScript的更完整的示例:</p><figure class="mj mk ml mm gt jo"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="3db7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面非常简单，展示了如何在useState中传递一组产品。这样，除了测试array(这是useState中允许的另一种类型)的使用，我们还可以验证如何通过typescript进行这种类型化，并在代码中推断执行页面上的视图列表。</p><h2 id="f98d" class="lr ku in bd kv ls lt dn kz lu lv dp ld kg lw lx lh kk ly lz ll ko ma mb lp mc bi translated">使用useState的重要提示</h2><blockquote class="mw mx my"><p id="8d87" class="jv jw mp jx b jy jz ka kb kc kd ke kf mz kh ki kj na kl km kn nb kp kq kr ks ig bi translated"><em class="in">作为一个好的实践，总是试着在组件的开始调用useState钩子。即使你把它放在不同的地方，React也会试图组织你的代码，但是，你会在你的devtools中出现几个警告。</em></p><p id="d2ea" class="jv jw mp jx b jy jz ka kb kc kd ke kf mz kh ki kj na kl km kn nb kp kq kr ks ig bi translated"><em class="in">避免在循环、条件或一些嵌套函数中创建Usestate，这会导致组件呈现中的各种错误，破坏您的项目。</em></p></blockquote><p id="6ae3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">从这一行开始，您可以加深对React和React钩子的了解。探索您在React功能方面的知识和研究，该功能允许您在应用程序中帮助完成各种任务。你可以在<a class="ae nc" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>或<a class="ae nc" href="https://reactjs.org/docs/hooks-reference.html#usestate" rel="noopener ugc nofollow" target="_blank">使用状态</a>的详细参考中找到关于钩子的所有信息。</p></div><div class="ab cl nd ne hr nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ig ih ii ij ik"><p id="90c7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你喜欢这篇文章，一定要分享和评论。如果你想知道更多一点，改变一些想法，你可以留下评论你对这个主题的看法，甚至为即将到来的文章提出一些建议。</p><p id="3604" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">访问网站<a class="ae nc" href="https://www.fsenaweb.me/" rel="noopener ugc nofollow" target="_blank"> www.fsenaweb.me </a>，享受并了解一些我的工作。它有我的作品集，我的社交网络(包括<a class="ae nc" href="https://github.com/fsenaweb/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>，在那里你可以练习一些例子的应用)和联系链接。</p><div class="nk nl gp gr nm nn"><a href="https://github.com/fsenaweb" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd io gy z fp ns fr fs nt fu fw im bi translated">fsenaweb -概述</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">www.fsenaweb.me在我的项目中使用PHP的体验。我使用的工具有Laravel、CodeIgniter、Lumen、Git、Docker等</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">github.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob jt nn"/></div></div></a></div><div class="nk nl gp gr nm nn"><a href="https://reactjs.org/docs/hooks-reference.html#usestate" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd io gy z fp ns fr fs nt fu fw im bi translated">钩子API参考-反应</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">钩子是React 16.8中的新增功能。它们允许您使用状态和其他React特性，而无需编写类。这个…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">reactjs.org</p></div></div><div class="nw l"><div class="oc l ny nz oa nw ob jt nn"/></div></div></a></div><div class="nk nl gp gr nm nn"><a href="https://reactjs.org/docs/hooks-intro.html" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd io gy z fp ns fr fs nt fu fw im bi translated">介绍钩子-反应</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">钩子是React 16.8中的新增功能。它们允许您使用状态和其他React特性，而无需编写类。这个…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">reactjs.org</p></div></div><div class="nw l"><div class="od l ny nz oa nw ob jt nn"/></div></div></a></div></div><div class="ab cl nd ne hr nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ig ih ii ij ik"><p id="8c40" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">就这样，下次见！我的名字是<em class="mp"> Matheus Ricelly </em>，感谢他的关注！</p><p id="1041" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mp">更多内容尽在</em><a class="ae nc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank">T5】plain English . ioT7】</a></p></div></div>    
</body>
</html>