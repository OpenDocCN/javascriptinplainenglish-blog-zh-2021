<html>
<head>
<title>Astro Will Become Your Favorite Static Site Generator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Astro将成为您最喜爱的静态网站生成器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/astro-906b03f63ab8?source=collection_archive---------4-----------------------#2021-08-09">https://javascript.plainenglish.io/astro-906b03f63ab8?source=collection_archive---------4-----------------------#2021-08-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="64c2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用它构建下一个项目的4个理由</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2d59625de928763538db624cf41b340a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9M69JTd6k31rJOZ2Ih8Uuw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image credits: <a class="ae kv" href="https://css-tricks.com/wp-content/uploads/2021/05/astro-homepage.png" rel="noopener ugc nofollow" target="_blank">CSS-tricks.com</a></figcaption></figure><p id="ea40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我研究这篇文章时，我感到震惊。阿童木仍然不为人知。当然，静态站点生成器仍然很年轻——但是它也很有创新性，不应该错过炒作。</p><p id="c231" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你从未听说过Astro，不要担心——几周前，我做了一个<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/astro-cec429f049d">介绍</a>，这篇文章你不需要任何先验知识。</p><p id="b61f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">自从我介绍之后，发生了很多变化Astro已经成为我构建静态页面的首选工具。它甚至接管了Next和Gatsby。<br/>以下是我如此热爱阿童木的原因。</p><h1 id="0b03" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.编写JavaScript，发布时不使用它</h1><p id="1557" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">默认情况下，如果Astro有一个突出的特性，那就是它的零大小客户端JavaScript包。这意味着Astro实际上默认删除了组件中的所有JavaScript代码。</p><p id="5944" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，我们可以使用JS技术编写组件，比如React.js。我们可以在React中写一个表:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="46b4" class="mu lt iq mq b gy mv mw l mx my">const names = ["Max", "Tom", "Carl"]</span><span id="1fec" class="mu lt iq mq b gy mz mw l mx my">export default function App() {<br/>  return (<br/>    &lt;ul&gt;<br/>      {names.map((item, index) =&gt; {<br/>        return &lt;li key={index}&gt;{item}&lt;/li&gt;<br/>      })}<br/>    &lt;/ul&gt;<br/>  );<br/>}</span></pre><p id="df90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Astro会在生成时预渲染这些内容，剩下的HTML结构会被放到最终页面中。JSX代码和许多千字节的框架代码被简单地删除。</p><p id="8cdb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它仍然是一个加载速度很快的静态页面。当然，我们经常需要JavaScript来使页面动态化。但是对于这样的静态组件，多亏了Astro，我们可以节省几千字节的JavaScript。</p><p id="6ab9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于组件的隔离处理，在Astro中，我们可以正常加载一些组件，其他的完全不需要JavaScript——但是，其他的可以延迟加载。</p><h1 id="7855" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">2.更好的性能，使用相同的框架或库</h1><p id="cfb3" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">如果两个不同的静态页面生成器为同一个框架工作，性能应该是一样的，对吗？不，不总是。我<strong class="ky ir">不是</strong>在说生成站点时的性能，而是影响客户端的性能(加载时长，第一次内容绘制等。).</p><p id="f068" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个SSG都有不同的实现方式——就渲染方式和捆绑包大小而言。</p><p id="439e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Astro在性能方面大放异彩。我试了一下，在Gatsby，Next.js，Astro (Next也可以导出静态页面)里搭建了同样的app。结果是:Astro提供了最好的性能和最小的包。</p><p id="b26d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">原因是部分水合和切掉不必要的JavaScript代码。虽然Next.js和其他SSG包含了大量的运行时代码，但Astro只对真正需要的组件进行了最低限度的处理。</p><h1 id="930c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">3.完美组合页面加载方式</h1><p id="57dc" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">惰性加载现在已经出现在许多框架和静态站点生成器中。</p><p id="376b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Next.js提供的，盖茨比也是——当然还有阿童木。Astro甚至为我们提供了两种不同的方法来做到这一点。除了完全不用JavaScript加载组件之外，我们还可以:</p><ol class=""><li id="2192" class="na nb iq ky b kz la lc ld lf nc lj nd ln ne lr nf ng nh ni bi translated">仅当组件出现在客户端的视口中时才加载它。</li><li id="7760" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">一旦浏览器的主线程空闲就加载组件，不要阻塞任何重要的东西。</li><li id="d310" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">一旦浏览器与定义的视口匹配，就加载零部件。</li><li id="8a21" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">加载页面时以“正常”方式加载组件。</li></ol><p id="8215" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Astro不仅在加载组件的可能性方面大放异彩，而且在实现起来也非常容易。虽然React.js或Next.js中的延迟加载稍微复杂一些，但在Astro中，它只是HTML属性:</p><ol class=""><li id="db64" class="na nb iq ky b kz la lc ld lf nc lj nd ln ne lr nf ng nh ni bi translated"><code class="fe no np nq mq b">&lt;MyComponent client:visible/&gt;</code></li><li id="8c2c" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated"><code class="fe no np nq mq b">&lt;MyComponent client:idle /&gt;</code></li><li id="46c4" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated"><code class="fe no np nq mq b">&lt;MyComponent client:&amp;#123;QUERY} /&gt;</code></li><li id="d6be" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated"><code class="fe no np nq mq b">&lt;MyComponent client:load /&gt;</code></li></ol><p id="c3da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，在没有任何JavaScript的情况下加载它:<code class="fe no np nq mq b">&lt;MyComponent /&gt;</code>——没有任何属性。</p><h1 id="f1fa" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">4.不需要局限于一种技术</h1><p id="6005" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">同时使用Vue或React等多种技术构建web应用听起来像是一个糟糕的笑话。然而，Astro使这成为可能——在某种程度上，这是有意义的。Astro基本上是一个SSG，它不仅为一个库或框架工作。反例如Gatsby或VuePress，分别只对React和Vue有效。</p><p id="8083" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Astro只需要安装一个额外的模块，你可以支持任何库/框架。目前支持React，Vue，Svelte，Preact，甚至Solid。理论上，没有什么能阻止你在同一个页面上使用React组件和Vue组件——Astro使这成为可能。</p><p id="c9c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有多大用处值得商榷。然而，如果你已经有了一个来自某个框架的组件，Astro可以很容易地处理它，使工作更加灵活和容易。</p><p id="f8a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读！</p><p id="00cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想了解更多关于Astro的知识，可以看看我的介绍:</p><div class="nr ns gp gr nt nu"><a rel="noopener  ugc nofollow" target="_blank" href="/astro-cec429f049d"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd ir gy z fp nz fr fs oa fu fw ip bi translated">Astro入门——创新的静态站点生成器</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">多框架的SSG，最小化我们发布的JS</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="od l"><div class="oe l of og oh od oi kp nu"/></div></div></a></div><p id="166f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oj">更多内容请看</em><a class="ae kv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oj">plain English . io</em></strong></a></p></div></div>    
</body>
</html>