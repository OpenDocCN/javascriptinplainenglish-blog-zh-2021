<html>
<head>
<title>Add Animation to Our React App with the react-spring Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用react-spring库向我们的React应用程序添加动画</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/add-animation-to-our-react-app-with-the-react-spring-library-ea3d8a54217f?source=collection_archive---------18-----------------------#2021-02-13">https://javascript.plainenglish.io/add-animation-to-our-react-app-with-the-react-spring-library-ea3d8a54217f?source=collection_archive---------18-----------------------#2021-02-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0cfa45c043e3e68b8aa73e637dc8dc8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sjRSqVhbp66k1S0d"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@joelholland?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joel Holland</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b8ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有了react-spring库，我们可以轻松地在react应用程序中渲染动画。</p><p id="dec8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何开始使用react-spring。</p><h1 id="b0bb" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">装置</h1><p id="6f7f" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过运行以下命令来安装react-spring包:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5509" class="mn lc iq mj b gy mo mp l mq mr">npm install react-spring</span></pre><h1 id="a081" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">基础动画</h1><p id="da79" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe ms mt mu mj b">useSpring</code>钩子创建基本的动画。</p><p id="1849" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9a9d" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useSpring, animated } from "react-spring";</span><span id="4d60" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const props = useSpring({ opacity: 1, from: { opacity: 0 } });<br/>  return &lt;animated.div style={props}&gt;hello world&lt;/animated.div&gt;;<br/>}</span></pre><p id="3fff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe ms mt mu mj b">useSpring</code>钩子来设置动画完成后应用的<code class="fe ms mt mu mj b">opacity</code>。</p><p id="5fa7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">from</code>属性具有动画之前的样式。</p><p id="a95a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe ms mt mu mj b">animated.div</code>组件让我们创建一个可以动画显示的div。</p><p id="7a2d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe ms mt mu mj b">props</code>变量传递给<code class="fe ms mt mu mj b">style</code>道具来对其进行样式化。</p><p id="b769" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以制作文本动画:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d6cf" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useSpring, animated } from "react-spring";</span><span id="cee1" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const props = useSpring({ number: 1, from: { number: 0 } });<br/>  return &lt;animated.span&gt;{props.number}&lt;/animated.span&gt;;<br/>}</span></pre><p id="847a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当<code class="fe ms mt mu mj b">props.number</code>从0变为1时，我们制作动画。</p><p id="c1f8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以用<code class="fe ms mt mu mj b">scroll</code>属性滚动一个div。</p><p id="ae62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b5a8" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useSpring, animated } from "react-spring";</span><span id="0f76" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const props = useSpring({ scroll: 300, from: { scroll: 0 } });<br/>  return (<br/>    &lt;animated.div<br/>      scrollTop={props.scroll}<br/>      style={{ overflowY: "scroll", height: 200 }}<br/>    &gt;<br/>      {Array(100)<br/>        .fill()<br/>        .map((_, i) =&gt; (<br/>          &lt;p key={i}&gt;{i}&lt;/p&gt;<br/>        ))}<br/>    &lt;/animated.div&gt;<br/>  );<br/>}</span></pre><p id="53e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们从顶部向下滚动300像素。</p><p id="96c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以将多种效果结合在一起:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="d858" class="mn lc iq mj b gy mo mp l mq mr">import React from "react";<br/>import { useSpring, animated, interpolate } from "react-spring";</span><span id="68a5" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const { o, xyz, color } = useSpring({<br/>    from: { o: 0, xyz: [0, 0, 0], color: "red" },<br/>    o: 1,<br/>    xyz: [10, 20, 5],<br/>    color: "green"<br/>  });</span><span id="3587" class="mn lc iq mj b gy mv mp l mq mr">  return (<br/>    &lt;animated.div<br/>      style={{<br/>        color,<br/>        background: o.interpolate((o) =&gt; `rgba(210, 57, 77, ${o})`),<br/>        transform: xyz.interpolate(<br/>          (x, y, z) =&gt; `translate3d(${x}px, ${y}px, ${z}px)`<br/>        ),<br/>        border: interpolate([o, color], (o, c) =&gt; `${o * 10}px solid ${c}`),<br/>        padding: o<br/>          .interpolate({ range: [0, 0.5, 1], output: [0, 0, 10] })<br/>          .interpolate((o) =&gt; `${o}%`),<br/>        borderColor: o.interpolate({<br/>          range: [0, 1],<br/>          output: ["red", "#ffaabb"]<br/>        }),<br/>        opacity: o.interpolate([0.1, 0.2, 0.6, 1], [1, 0.1, 0.5, 1])<br/>      }}<br/>    &gt;<br/>      {o.interpolate((n) =&gt; n.toFixed(2))}<br/>    &lt;/animated.div&gt;<br/>  );<br/>}</span></pre><p id="b163" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe ms mt mu mj b">useSpring</code>钩子来生成一些值，这些值被传递给<code class="fe ms mt mu mj b">style</code> prop。</p><p id="2554" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe ms mt mu mj b">o</code>、<code class="fe ms mt mu mj b">x</code>、<code class="fe ms mt mu mj b">y</code>和<code class="fe ms mt mu mj b">z</code>插入到不同的值中，以改变div动画的样式。</p><p id="5dbe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以将反作用弹簧钩子创建的值直接传入组件。</p><p id="900f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0175" class="mn lc iq mj b gy mo mp l mq mr">import React, { useState } from "react";<br/>import { useSpring, animated } from "react-spring";</span><span id="bdae" class="mn lc iq mj b gy mv mp l mq mr">export default function App() {<br/>  const [state, setState] = useState(1);<br/>  const props = useSpring({ x: state ? 1 : 0 });<br/>  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={() =&gt; setState((state) =&gt; (state === 1 ? 0 : 1))}&gt;<br/>        toggle<br/>      &lt;/button&gt;<br/>      &lt;animated.div<br/>        style={{<br/>          transform: props.x<br/>            .interpolate({<br/>              range: [0, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 1],<br/>              output: [1, 0.97, 0.9, 1.1, 0.9, 1.1, 1.03, 1]<br/>            })<br/>            .interpolate((x) =&gt; `scale(${x})`),<br/>          backgroundColor: "red",<br/>          height: 100,<br/>          width: 100<br/>        }}<br/>      /&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span></pre><p id="4a42" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加div，然后我们可以通过设置<code class="fe ms mt mu mj b">transform</code>道具来改变缩放比例。</p><p id="30ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将值从<code class="fe ms mt mu mj b">range</code>映射到<code class="fe ms mt mu mj b">output</code>。</p><p id="5319" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且<code class="fe ms mt mu mj b">x</code>是与<code class="fe ms mt mu mj b">range</code>中的值相对应的<code class="fe ms mt mu mj b">output</code>的值。</p><h1 id="fb2e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="6d11" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用react-spring在React应用程序中添加基本动画。</p><p id="cf22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>