# 理解 JavaScript 中的按值调用和按引用调用

> 原文：<https://javascript.plainenglish.io/understanding-call-by-value-and-call-by-reference-in-javascript-3ebac2b6969d?source=collection_archive---------6----------------------->

为什么理解 JavaScript 如何处理参数以及它不仅仅是引用调用或值调用非常重要。

![](img/25209a618c3844b2f844c318dfc5dd47.png)

Photo by [Sincerely Media](https://unsplash.com/@sincerelymedia) on [Unsplash](https://unsplash.com/)

你可能知道像 C 这样的其他语言也在使用指针算法。所以当使用变量时，你可以“指向”内存中变量实际值所在的某个地址(通过引用),或者直接将值放在手边(通过值)。当然，在引擎盖的深处，一切都储存在记忆里。

在 JavaScript 中，有点不同。当然，在幕后有很多神奇的事情发生，但是对于人类 JavaScript 开发人员来说，没有可用的指针算法。

所以你可能会想:“太好了，无论如何，指针算法的东西是超级复杂的，所以让我们只推实际值！”

想法不错，但有缺陷。即使 JavaScript 没有任何实际的指针，像其他语言一样，引用仍然存在。

## 原始类型

所以让我们来看看基本类型是如何工作的:

当您运行上面的代码片段时，您可以看到，对于像`string`、`boolean`和`number`类型这样的原语，当您将`a`赋值给`b`时，实际上正在进行复制，因为您可以更改`a`而不更改`b`的值。

所以我们可以有把握地说，对于原语类型:`let b = a;`=>`a`的**值**正在被复制到变量`b`中。

= >这被称为**“按值调用”**，因为值本身被设置为新变量。

## 非原始类型

但是对于像`Object`和`Array`这样的非原始类型，情况就不同了。

检查上面的例子，你会注意到`a`和`b`将相同的值打印到控制台。这是因为变量`b`实际上并没有被赋予一个实际`Object` / `Array`的副本，而只是一个对它的引用。所以`a`和`b`是“指向”/“引用”同一个对象，而不仅仅是包含相同的值。一个很小但非常重要的区别。

所以我们可以放心的说，对于非原语类型:`let b = a;`=>`a`所指向的**引用**被复制到变量`b`中。

= >这被称为**，**因为你对非原始类型的引用被设置为新变量而不是普通值。

## 功能

既然我们已经研究了如何为不同的类型分配变量，那么让我们更进一步，检查当参数传递给方法时，JavaScript 是使用按值调用还是按引用调用方法。

以下面的代码片段为例，其中一个数字。一个对象被传入:

这里定义了一个数字和一个对象类型变量，传递给一个内联方法，然后打印到控制台。inline 方法的唯一功能是修改传入的参数。因此，让我们运行脚本并检查日志。

正如你可能已经假设的那样，由于之前的解释，`a`的值仍然是我们的初始值，但是`b`的值被方法改变了。那么为什么会这样呢？这是因为将参数传递给方法与将它们赋给另一个变量(在方法参数中声明)没有什么不同，正如我们之前已经看到的，对于原语类型，通过值调用，对于非原语类型，通过引用调用**正在发生。**

因此，每当你将复杂类型如`Object`或`Array`传递给一个方法时，你应该非常小心地修改它，因为这些变化也会反映在方法的范围之外，并可能产生不想要的副作用。

# 结论

我希望我能为您提供一些关于使用 JavaScript 时**按值调用**和**按引用调用**的见解，并帮助您理解为什么会发生某些副作用，如果您曾经想知道为什么在方法内部修改传入的对象也会反映在其外部作用域中的话。

感谢您花时间阅读我的文章。

## 你想联系吗？

如果你想联系我，请在 LinkedIn 上给我打电话。

另外，请随意查看我的书籍推荐📚。

[](https://mr-pascal.medium.com/my-book-recommendations-4b9f73bf961b) [## 我的书籍推荐

### 在接下来的章节中，你可以找到我对所有日常生活话题的书籍推荐，它们对我帮助很大。

mr-pascal.medium.com](https://mr-pascal.medium.com/my-book-recommendations-4b9f73bf961b) [](https://mr-pascal.medium.com/membership) [## 通过我的推荐链接加入 Medium—Pascal Zwikirsch

### 作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…

mr-pascal.medium.com](https://mr-pascal.medium.com/membership)