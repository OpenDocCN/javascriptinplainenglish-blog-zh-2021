<html>
<head>
<title>What is a JavaScript Recursive Function?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是JavaScript递归函数？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-recursion-5f25f620e11b?source=collection_archive---------18-----------------------#2021-08-13">https://javascript.plainenglish.io/javascript-recursion-5f25f620e11b?source=collection_archive---------18-----------------------#2021-08-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="d78e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">阐明递归技术的优势</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/55a3cd5f52c89a59a4152c9af616ba5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8PSttvj5b1JkPk0o2JtSSA.png"/></div></div></figure><p id="cb2b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">作为网站开发人员，我们每天都会遇到递归函数。</p><p id="a801" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">本教程将探索问题的模式，这可以使用递归来解决。</p><h1 id="ef4e" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">基本概念</h1></div><div class="ab cl mc md hr me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ig ih ii ij ik"><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="5911" class="mo ll in mk b gy mp mq l mr ms">function recurse() {<br/>    // 2nd call to itself<br/>    recurse();<br/>}</span><span id="0dda" class="mo ll in mk b gy mt mq l mr ms">// 1st call<br/>recurse();</span></pre><p id="dc9e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">每个递归函数必须有一个基本情况(也称为终止条件)，在这里它停止递归，否则它将无限期地继续调用自己。</p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="4311" class="mo ll in mk b gy mp mq l mr ms">function recurse() {<br/>    if (terminate)<br/>        return; // stop calling recurse();</span><span id="1154" class="mo ll in mk b gy mt mq l mr ms">    // continue recurse() if there is no termination<br/>    recurse();<br/>}</span><span id="5018" class="mo ll in mk b gy mt mq l mr ms">recurse();</span></pre><h1 id="70f4" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">While循环和递归比较</h1></div><div class="ab cl mc md hr me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ig ih ii ij ik"><p id="5ef3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">递归技术看起来类似于<code class="fe mu mv mw mk b">while</code>循环。</p><p id="df5f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">想象一下，你需要将所需的数字乘以X倍。</p><p id="ac3c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">比如:<code class="fe mu mv mw mk b">2 * 2 * 2 = 8</code></p><h1 id="1763" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">While循环</h1><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="5e2a" class="mo ll in mk b gy mp mq l mr ms">function multiply(n, x) {<br/>    let i = 0;<br/>    let res = 1;<br/>    while (i &lt; x) {<br/>      res = res * n;<br/>      i++;<br/>    }<br/>    return res;<br/>}</span></pre><blockquote class="mx my mz"><p id="b837" class="ko kp na kq b kr ks jo kt ku kv jr kw nb ky kz la nc lc ld le nd lg lh li lj ig bi translated">循环是如何工作的？</p></blockquote><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="398e" class="mo ll in mk b gy mp mq l mr ms">multiply(2,3)</span><span id="0348" class="mo ll in mk b gy mt mq l mr ms">1. i = 0, res = (1) * 2       // 0 &lt; 3 continue ...<br/>2. i = 1; res = (2) * 2       // 1 &lt; 3 continue ...<br/>3. i = 2; res = (2 * 2) * 2   // 2 &lt; 3 continue ...<br/>4. i = 3; res = (2 * 2 * 2)   // 3 &lt; 3 (false) break and return 8</span></pre><h1 id="7d5b" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">递归🔁</h1><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="9f06" class="mo ll in mk b gy mp mq l mr ms">function multiply(n, x) {<br/>    return x &gt; 1 ? n * multiply(n, x - 1) : n;<br/>}</span></pre><blockquote class="mx my mz"><p id="867d" class="ko kp na kq b kr ks jo kt ku kv jr kw nb ky kz la nc lc ld le nd lg lh li lj ig bi translated">递归是如何工作的？</p></blockquote><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ne"><img src="../Images/2d13bce72af69797884512f3df9bfba6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Y3HEpV9LH-tf5xW9.jpeg"/></div></div></figure><h1 id="9f02" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">例子</h1></div><div class="ab cl mc md hr me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ig ih ii ij ik"><h1 id="da49" class="lk ll in bd lm ln nf lp lq lr ng lt lu jt nh ju lw jw ni jx ly jz nj ka ma mb bi translated">#1(字符串URL编码)</h1><p id="f9d1" class="pw-post-body-paragraph ko kp in kq b kr nk jo kt ku nl jr kw kx nm kz la lb nn ld le lf no lh li lj ig bi translated">假设我们需要对字符串<code class="fe mu mv mw mk b">&lt;html&gt;</code>进行5次URL编码</p><p id="b9f8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">输出应该是这样的:<code class="fe mu mv mw mk b">%252525253Chtml%252525253E</code></p><h2 id="824a" class="mo ll in bd lm np nq dn lq nr ns dp lu kx nt nu lw lb nv nw ly lf nx ny ma nz bi translated">循环解决方案</h2><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="f57b" class="mo ll in mk b gy mp mq l mr ms">function encode(str, n) {<br/>    let i = 0;<br/>    while (i &lt; n) {<br/>      str = encodeURI(str)<br/>      i++;<br/>    }<br/>    return str;<br/>}</span></pre><h2 id="3f9a" class="mo ll in bd lm np nq dn lq nr ns dp lu kx nt nu lw lb nv nw ly lf nx ny ma nz bi translated">递归解🔁</h2><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="6e99" class="mo ll in mk b gy mp mq l mr ms">function encode(str, n) {<br/>    return n ? encode(encodeURI(str), n - 1) : str;<br/>}</span></pre><h1 id="f446" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">#2(字符串URL解码)</h1><p id="864a" class="pw-post-body-paragraph ko kp in kq b kr nk jo kt ku nl jr kw kx nm kz la lb nn ld le lf no lh li lj ig bi translated">假设我们需要解码一个多次编码的URL</p><p id="e736" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">例如，让我们以先前的URL编码字符串:<code class="fe mu mv mw mk b">%252525253Chtml%252525253E</code></p><p id="26f2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">输出结果将是:<code class="fe mu mv mw mk b">&lt;html&gt;</code></p><h2 id="cdcd" class="mo ll in bd lm np nq dn lq nr ns dp lu kx nt nu lw lb nv nw ly lf nx ny ma nz bi translated">循环解决方案</h2><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="98f6" class="mo ll in mk b gy mp mq l mr ms">function decode(str) {<br/>    while (str !== decodeURI(str)) {<br/>      str = decodeURI(str)<br/>    }<br/>    return str;<br/>}</span></pre><h2 id="10a2" class="mo ll in bd lm np nq dn lq nr ns dp lu kx nt nu lw lb nv nw ly lf nx ny ma nz bi translated">递归解🔁</h2><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="cac5" class="mo ll in mk b gy mp mq l mr ms">function decode(str) {<br/>    return str !== decodeURI(str) ? decode(decodeURI(str)) : str;<br/>}</span></pre><h1 id="fea3" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">#3(字符串替换)</h1><p id="25ff" class="pw-post-body-paragraph ko kp in kq b kr nk jo kt ku nl jr kw kx nm kz la lb nn ld le lf no lh li lj ig bi translated">假设您需要替换HTML代码中的坏标签，比如<code class="fe mu mv mw mk b">&lt;script&gt;</code></p><p id="e6ae" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">第一种情况:<code class="fe mu mv mw mk b">hello&lt;script&gt; world&lt;script&gt;</code></p><p id="fce0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">第二种情况:<code class="fe mu mv mw mk b">hello&lt;sc&lt;script&gt;ript&gt;world</code></p><p id="bf0f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">对于第一种情况，我们可以很容易地这样做:</p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="f676" class="mo ll in mk b gy mp mq l mr ms">let html_code = 'hello&lt;script&gt; world&lt;script&gt;';<br/>let output = html_code.replaceAll('&lt;script&gt;','');<br/>// output: hello world</span></pre><p id="0d65" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但是..第二种情况会失败:</p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="193d" class="mo ll in mk b gy mp mq l mr ms">let html_code = 'hello&lt;sc&lt;script&gt;ript&gt; world';<br/>let output = html_code.replaceAll('&lt;script&gt;','');<br/>// output: hello&lt;script&gt; world</span></pre><p id="e7e9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这就是递归的用处</p><h2 id="1a3c" class="mo ll in bd lm np nq dn lq nr ns dp lu kx nt nu lw lb nv nw ly lf nx ny ma nz bi translated">递归解🔁</h2><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="6e95" class="mo ll in mk b gy mp mq l mr ms">function clean_html(html, bad_tag) {<br/>    let cleaned_html = html.replaceAll(bad_tag, '');<br/>    return html === cleaned_html ? html : clean_html(cleaned_html, bad_tag)<br/>}</span><span id="646f" class="mo ll in mk b gy mt mq l mr ms">clean_html('hello&lt;sc&lt;script&gt;ript&gt; world', '&lt;script&gt;');</span><span id="dcd6" class="mo ll in mk b gy mt mq l mr ms">// output: hello world</span></pre><h1 id="8100" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">#4(查找嵌套元素)</h1><p id="ad9b" class="pw-post-body-paragraph ko kp in kq b kr nk jo kt ku nl jr kw kx nm kz la lb nn ld le lf no lh li lj ig bi translated">在这个例子中，我们需要通过只知道id来找到类别的名称</p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="1d31" class="mo ll in mk b gy mp mq l mr ms">let the_category_list = [<br/>    {"id" : 1, "name" : "fruits", "child_list" : [<br/>        {"id" : 2, "name" : "apple", "child_list" : [<br/>            {"id" : 4, "name" : "red apple", "child_list" : []},<br/>            {"id" : 5, "name" : "green apple", "child_list" : []}<br/>        ]},<br/>        {"id" : 3, "name" : "banana", "child_list" : []}<br/>    ]}<br/>]</span></pre><h2 id="8dbc" class="mo ll in bd lm np nq dn lq nr ns dp lu kx nt nu lw lb nv nw ly lf nx ny ma nz bi translated">递归解🔁</h2><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="b119" class="mo ll in mk b gy mp mq l mr ms">function find_cat_by_id(id, category_list) {<br/>    let found_category = false;</span><span id="37ff" class="mo ll in mk b gy mt mq l mr ms">    category_list.forEach(category =&gt; {<br/>        if (category.id === id)<br/>            found_category = category;</span><span id="2d4c" class="mo ll in mk b gy mt mq l mr ms">        if (found_category === false &amp;&amp; category.child_list.length)<br/>            found_category = find_cat_by_id(id, category.child_list)<br/>    }); </span><span id="436f" class="mo ll in mk b gy mt mq l mr ms">    return (found_category) ? found_category : false;<br/>}</span><span id="93eb" class="mo ll in mk b gy mt mq l mr ms">find_cat_by_id(5, the_category_list)</span><span id="a2b4" class="mo ll in mk b gy mt mq l mr ms">// Output: {id: 5, name: "green apple", child_list: Array(0)}</span></pre><h1 id="78cc" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">#5(使用递归的阶乘)</h1><p id="5ad9" class="pw-post-body-paragraph ko kp in kq b kr nk jo kt ku nl jr kw kx nm kz la lb nn ld le lf no lh li lj ig bi translated">这个例子将向你展示如何使用递归用javascript编写一个阶乘程序</p><p id="11a2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">假设我们需要<strong class="kq io"> 5: </strong> <code class="fe mu mv mw mk b"><strong class="kq io">1 * 2 * 3 * 4 * 5 = 120</strong></code>的阶乘</p><h2 id="21bc" class="mo ll in bd lm np nq dn lq nr ns dp lu kx nt nu lw lb nv nw ly lf nx ny ma nz bi translated">递归解🔁</h2><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="1ae2" class="mo ll in mk b gy mp mq l mr ms">function factorial(x) {<br/>    return x ? x * factorial(x - 1) : 1; <br/>}</span></pre><h1 id="b33a" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">#6(使用递归的斐波那契数列)</h1><p id="b3c0" class="pw-post-body-paragraph ko kp in kq b kr nk jo kt ku nl jr kw kx nm kz la lb nn ld le lf no lh li lj ig bi translated">在这个例子中，你将学习如何编写一个程序来使用递归打印斐波那契数列</p><p id="3036" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">斐波那契数列写成:<code class="fe mu mv mw mk b">0, 1, 1, 2, 3, 5, 8, 13, 21, …</code></p><h2 id="cd86" class="mo ll in bd lm np nq dn lq nr ns dp lu kx nt nu lw lb nv nw ly lf nx ny ma nz bi translated">递归解🔁</h2><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="a3af" class="mo ll in mk b gy mp mq l mr ms">function fibonacci(num) {<br/>    return num &lt; 2 ? num : fibonacci(num - 1) + fibonacci(num - 2);<br/>}</span><span id="91b4" class="mo ll in mk b gy mt mq l mr ms">function fibonacci_printer(numberOfTerms) {<br/>    let out = [];</span><span id="2a5c" class="mo ll in mk b gy mt mq l mr ms">    for(let i = 0; i &lt; numberOfTerms; i++) {<br/>        out.push(fibonacci(i));<br/>    }</span><span id="47b3" class="mo ll in mk b gy mt mq l mr ms">    console.log(out.join(', '));<br/>}</span></pre><p id="18be" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要使用这个程序，您需要调用<code class="fe mu mv mw mk b">fibonacci_printer(5)</code>，输出将是:<code class="fe mu mv mw mk b">0, 1, 1, 2, 3</code></p><blockquote class="mx my mz"><p id="c411" class="ko kp na kq b kr ks jo kt ku kv jr kw nb ky kz la nc lc ld le nd lg lh li lj ig bi translated">感谢阅读！</p><p id="9309" class="ko kp na kq b kr ks jo kt ku kv jr kw nb ky kz la nc lc ld le nd lg lh li lj ig bi translated">稍后将添加更多示例。</p><p id="8d9c" class="ko kp na kq b kr ks jo kt ku kv jr kw nb ky kz la nc lc ld le nd lg lh li lj ig bi translated">在推特上关注我—<a class="ae oa" href="http://twitter.com/therceman" rel="noopener ugc nofollow" target="_blank">twitter.com/therceman</a></p></blockquote><p id="890d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="na">更多内容看</em><a class="ae oa" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="na">plain English . io</em></strong></a></p></div></div>    
</body>
</html>