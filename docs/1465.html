<html>
<head>
<title>How to Authenticate users with Twitter Authentication</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Twitter认证来认证用户</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/twitter-authentication-cb87c0d0fd?source=collection_archive---------16-----------------------#2021-03-28">https://javascript.plainenglish.io/twitter-authentication-cb87c0d0fd?source=collection_archive---------16-----------------------#2021-03-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="cb2d" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用Twitter认证您的用户</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/5c1f355abeb65d4809f8ae8e0dd0efaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VP0DHnU8OeaabCHgGup9Wg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><a class="ae ks" href="http://i-hate-reading-logs.vercel.app/" rel="noopener ugc nofollow" target="_blank">Read the more</a></figcaption></figure><p id="a4a0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">使用谷歌、脸书、Twitter和GitHub认证用户提供了更好的用户登录体验。我已经写过一篇关于Google认证的文章，使用Firebase的GitHub认证。这是文章的链接</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="4af5" class="lu lv in lq b gy lw lx l ly lz">Github Authentication using Firebase =&gt; <a class="ae ks" href="https://shreyvijayvargiya26.medium.com/github-authentication-using-firebase-f08bd9d7e659" rel="noopener">Article</a></span></pre><h1 id="3d76" class="ma lv in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated"><strong class="ak">概述</strong></h1><ol class=""><li id="e7b5" class="mr ms in kv b kw mt kz mu lc mv lg mw lk mx lo my mz na nb bi translated">在developer[dor]twitter[dot]com上创建Twitter开发者应用程序</li><li id="dfab" class="mr ms in kv b kw nc kz nd lc ne lg nf lk ng lo my mz na nb bi translated">你需要填写整个表格，说明你的申请的目的和用途。对不起，对此我无能为力。</li><li id="74b4" class="mr ms in kv b kw nc kz nd lc ne lg nf lk ng lo my mz na nb bi translated">获得仪表板<br/>(<a class="ae ks" href="https://developer.twitter.com/en/portal/dashboard" rel="noopener ugc nofollow" target="_blank">https://developer.twitter.com/en/portal/dashboard</a>)访问权限后，在<strong class="kv io">项目和应用</strong>部分创建应用。</li><li id="6ef7" class="mr ms in kv b kw nc kz nd lc ne lg nf lk ng lo my mz na nb bi translated">保存凭证，如<strong class="kv io"> API key </strong>和<strong class="kv io"> API secret </strong>。</li><li id="92e1" class="mr ms in kv b kw nc kz nd lc ne lg nf lk ng lo my mz na nb bi translated">在Firebase控制台上启用Twitter登录方法。</li><li id="3f7e" class="mr ms in kv b kw nc kz nd lc ne lg nf lk ng lo my mz na nb bi translated">使用回调URL在Firebase控制台项目中添加API凭据。</li><li id="9082" class="mr ms in kv b kw nc kz nd lc ne lg nf lk ng lo my mz na nb bi translated">在前端使用Twitter方法添加登录，并保存访问令牌以供进一步的API调用。</li></ol><p id="2a4f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您可以通过此链接创建您的twitter开发者应用程序:</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="7457" class="lu lv in lq b gy lw lx l ly lz">* <a class="ae ks" href="https://developer.twitter.com/en/portal/dashboard" rel="noopener ugc nofollow" target="_blank">Twitter Developer App Link</a></span></pre><p id="06a3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">之后，从项目和应用程序部分创建一个新的项目，就像我已经创建了。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nh"><img src="../Images/4dff6d7dbdf2f8610b943f215568682d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J3g1IUDuxnLj9lBN25oYgg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">The left sidebar is where you can create your project app</figcaption></figure><p id="75b8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">从特定项目的<strong class="kv io">密钥和令牌</strong>部分访问您的<strong class="kv io">令牌和密钥</strong>。如图所示，我的项目应用程序名为CastTweet，从<strong class="kv io">密钥和令牌</strong>部分，我可以重新生成我的令牌。</p><h1 id="1406" class="ma lv in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated">启用Firebase</h1><p id="7fa7" class="pw-post-body-paragraph kt ku in kv b kw mt jo ky kz mu jr lb lc ni le lf lg nj li lj lk nk lm ln lo ig bi translated">现在在<strong class="kv io"> Firebase项目控制台中，</strong>转到认证- &gt;登录方法，并从方法列表中启用Twitter方法<strong class="kv io">。</strong></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nh"><img src="../Images/e56bf026bd07f58023fca468e12c875e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gEQ8uDhuAt0Cpjf3WntzdA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Sign-in-method List</figcaption></figure><p id="1b1f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">从方法列表中选择Twitter方法。并在启用登录方法后添加您的项目应用凭据，最后复制您的回调URL。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nl"><img src="../Images/c7635d795f1a190774ad16665215e325.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uzbsLE4khkSNxdUwn05vDw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Enable Twitter method and add credentials and save your callback URL</figcaption></figure><p id="8cf7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后一步是将回调URL添加到开发人员Twitter门户中的项目应用程序。</p><h2 id="e6d6" class="lu lv in bd mb nm nn dn mf no np dp mj lc nq nr ml lg ns nt mn lk nu nv mp nw bi translated"><strong class="ak">在Twitter开发者项目应用中添加回调URL</strong></h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nx"><img src="../Images/f013fbe8f6f1c5db8bc26326ec699d97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bSKM6YfniVha7Si5wPBwvw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Click the Edit button to add a callback URL</figcaption></figure><p id="89f4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在项目应用程序中，点击<strong class="kv io">认证设置的编辑按钮</strong>，并添加您从Firebase控制台<strong class="kv io">复制的回调URL。所有额外的工序现在都完成了。</strong></p><h1 id="4d20" class="ma lv in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated">编写代码</h1><p id="c7cf" class="pw-post-body-paragraph kt ku in kv b kw mt jo ky kz mu jr lb lc ni le lf lg nj li lj lk nk lm ln lo ig bi translated">我们将使用与添加GitHub认证相同的存储库</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="4e7a" class="lu lv in lq b gy lw lx l ly lz">* <a class="ae ks" href="https://github.com/shreyvijayvargiya/iHateReadingLogs/tree/main/TechLogs/GithubAuthenticationUsingFirebase" rel="noopener ugc nofollow" target="_blank">Github Authentication Repository</a></span></pre><p id="9fb5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">首先，我们将创建一个firebase提供者，这是Firebase Twitter Auth所需要的。Firebase本身提供了一种方法来创建Twitter身份验证的提供者。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="26df" class="lu lv in lq b gy lw lx l ly lz">const provider = new firebase.auth.TwitterAuthProvider();</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ny"><img src="../Images/e33658a62e14e1f0e85789757249b760.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PPvUrJwrYO4hnl8eQPbkKw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Login with the Twitter method</figcaption></figure><p id="3595" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们的handleTwitterLogin方法只使用我们创建的提供程序。Firebase auth方法给出signInWithPopup方法，该方法接受提供者作为参数，作为响应，它给我们提供访问令牌。<strong class="kv io">访问令牌</strong>是最重要的令牌，因为我们将来需要这个令牌向GitHub应用编程接口发出进一步的应用编程接口请求。此外，如果您的用户使用GitHub登录，请保存此<strong class="kv io">访问令牌</strong>，因为您确实需要一些GitHub用户凭据，这些凭据只能使用此<strong class="kv io">访问令牌</strong>通过GitHub API访问。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nz"><img src="../Images/8669d33a888efaf61d6d6e36e3f0429c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ni4rU52hlVfdCatqu_74bQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Our Access Token in console</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oa"><img src="../Images/e5a1bcad4f2b10aa6d4cb3a6962b6504.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5_TiibXddBIWV2FykAnt3w.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Final Login page</figcaption></figure><h1 id="41ca" class="ma lv in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated">结论</h1><p id="d8b9" class="pw-post-body-paragraph kt ku in kv b kw mt jo ky kz mu jr lb lc ni le lf lg nj li lj lk nk lm ln lo ig bi translated">我们也可以使用推特应用编程接口来认证用户，而不是Firebase，但我个人觉得这很容易。但是，如果你在一家跨国公司工作，我会严格建议只通过推特应用编程接口使用认证。</p><p id="05b8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">直到，下一次，有一个美好的一天，人们。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="792e" class="lu lv in lq b gy lw lx l ly lz">You can find code here =&gt; <a class="ae ks" href="https://github.com/shreyvijayvargiya/iHateReadingLogs/tree/main/TechLogs/TwitterAuthenticationUsingFirebase" rel="noopener ugc nofollow" target="_blank">Repository</a></span></pre><p id="b388" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="ob">更内容于</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="ob">通俗地说就是</em> </strong> </a></p></div></div>    
</body>
</html>