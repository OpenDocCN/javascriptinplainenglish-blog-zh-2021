<html>
<head>
<title>3 Different Ways To Convert HTML Into Plain Text</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">3种将超文本标记语言转换成纯文本的不同方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/3-ways-to-convert-html-text-to-plain-text-strip-off-the-tags-from-the-string-4c947feb8a8c?source=collection_archive---------3-----------------------#2021-02-05">https://javascript.plainenglish.io/3-ways-to-convert-html-text-to-plain-text-strip-off-the-tags-from-the-string-4c947feb8a8c?source=collection_archive---------3-----------------------#2021-02-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="bb2b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">前几天，我和一个富文本编辑器一起工作，需要从字符串中剥离HTML标签，并将其存储在数据库中。在这样做的过程中，我学会了一些不同的方法来达到这个目的。我想和你分享这个信息，因为它对任何试图这样做的人来说都是有用的。</p><p id="b92c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们试图做的是从字符串中移除标签，并使字符串可以作为纯文本打印。让我们潜入水中，看看它是如何工作的。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/a679fded4c08badfe09768e1db6e1015.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bZQdUUMJy0dcGWEeUBNL1w.png"/></div></div></figure><h1 id="912f" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">1.使用。替换(/  ]*&gt;/g ' ')</h1><p id="cb00" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">该方法是从文本中移除标签的一种简单有效的方法。该方法使用字符串方法<code class="fe ma mb mc md b">.replace(old value, new value) </code>，用空字符串替换HTML标记值。<code class="fe ma mb mc md b">/g</code>用于使其全局发生(如果使用/g，则用指定的替换字符串中的每个值)。</p><p id="4b74" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这种方法的缺点是我们不能删除一些HTML实体。不过，它仍然运行良好。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="a0d4" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">2.创建一个临时DOM元素并检索文本</h1><p id="9acc" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">这是完成任务最有效的方法。创建一个虚拟元素并将其分配给一个变量。我们以后可以使用元素对象进行提取。将HTML文本分配给虚拟元素的内部HTML，我们将从文本元素对象中获得纯文本。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="76ca" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">3.html到文本的npm包</h1><p id="cc58" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">这是我最近发现的包裹。这是一个解析HTML并返回优美文本的转换器。它有很多选项可以将其转换为纯文本，如<code class="fe ma mb mc md b">wordwrap</code>、<code class="fe ma mb mc md b">tags</code>、<code class="fe ma mb mc md b">whitespaceCharacters</code>、<code class="fe ma mb mc md b">formatters</code>等。</p><p id="1f0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用包需要Package.json。我们需要先安装软件包，然后在我们的文件中使用它。</p><p id="6e5b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以在这里找到包裹<a class="ae mg" href="https://www.npmjs.com/package/html-to-text" rel="noopener ugc nofollow" target="_blank">的正式文件。我把它用在我的vue项目中，效果很好。</a></p><p id="7bb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">安装:</strong></p><pre class="km kn ko kp gt mh md mi mj aw mk bi"><span id="c8ac" class="ml ky iq md b gy mm mn l mo mp">npm install html-to-text</span></pre><p id="3e57" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">用法:</strong></p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="9510" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h1><p id="5e54" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">这就是全部！您可以在这里找到项目示例<a class="ae mg" href="https://github.com/Sanchithasharma/htmlToText" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="1259" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢你！</p></div></div>    
</body>
</html>