<html>
<head>
<title>How to Create A Real-Time Clock for Web Applications</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何为Web应用程序创建实时时钟</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-real-time-clock-for-web-applications-3cf7a9cf6500?source=collection_archive---------6-----------------------#2021-12-22">https://javascript.plainenglish.io/how-to-create-a-real-time-clock-for-web-applications-3cf7a9cf6500?source=collection_archive---------6-----------------------#2021-12-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="e6c3" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用JavaScript为你所有的网络应用开发一个实时时钟</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/fe1a36e480d93efea80aaa73ecd91dfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YE-sfncoBLy4DpYMtoIt-Q.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@oceanng?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Ocean Ng</a> on <a class="ae ks" href="https://unsplash.com/s/photos/clock?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d3ac" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在本教程中，我将讨论为web应用程序创建一个实时时钟。这基本上是使用<strong class="kv io"> HTML </strong>、<strong class="kv io"> CSS、</strong>和<strong class="kv io"> JavaScript </strong>开发的，因此，即使你是web开发的初学者，这对于你来说也不难理解，并在将来为你的web应用程序添加这个时钟。</p><p id="d463" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我将用一个例子来讨论每一步，这样你就可以在本教程结束时继续和我一起创建一个漂亮的实时时钟。在开始编码之前，请确保选择一个与HTML、CSS和JavaScript配置文件兼容的文本编辑器。</p><p id="6cc7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我更喜欢VS代码，您可以相应地选择任何代码编辑器<em class="lp">【如果您想下载VS代码，请单击下面的链接并将其安装到您的计算机上】</em>。</p><div class="lq lr gp gr ls lt"><a href="https://code.visualstudio.com/download" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab fo"><div class="lv ab lw cl cj lx"><h2 class="bd io gy z fp ly fr fs lz fu fw im bi translated">下载Visual Studio代码- Mac、Linux、Windows</h2><div class="ma l"><h3 class="bd b gy z fp ly fr fs lz fu fw dk translated">Visual Studio代码是免费的，可以在您喜欢的平台上获得——Linux、macOS和Windows。下载Visual Studio…</h3></div><div class="mb l"><p class="bd b dl z fp ly fr fs lz fu fw dk translated">code.visualstudio.com</p></div></div><div class="mc l"><div class="md l me mf mg mc mh km lt"/></div></div></a></div><p id="f19e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们首先创建<strong class="kv io">index.html</strong>文件。这是一个基本的配置文件，其中包含了所有基本的HTML标签。我使用了一个&lt; div &gt;标签来放置我的时钟，这样我可以在以后需要的时候将它移动到其他地方。这是我的<em class="lp">index.html</em>。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="34bf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">接下来，您可以添加<strong class="kv io"> styles.css </strong>文件，并将您的所有样式放入其中。一旦你完成了，你可以把它添加到<em class="lp">index.html</em>文件中，就像上面的代码片段一样。在本教程中，我使用了一个基本的样式，因为我需要把我的时钟放在网页的右上角，我更喜欢蓝色。下面是我的<em class="lp"> styles.css </em>。</p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="066e" class="mp mq in ml b gy mr ms l mt mu">.topcorner{<br/>  position:absolute;<br/>  top:10;<br/>  right:10;<br/>  color: blue;<br/>}</span></pre><p id="8ce0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可以通过这个文件给你的时钟添加任何额外的样式，并且可以随意地在你的网页上定制一个更好的视图。</p><p id="ebc2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">接下来，我们将开发实时时钟。为此，我们可以在JavaScript中使用<strong class="kv io">日期对象</strong>。通过使用new Date()构造函数，我们可以用当前日期和时间创建一个新的Date对象。让我们在JS函数中创建它，如下所示。</p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="5c44" class="mp mq in ml b gy mr ms l mt mu">function showTime(){</span><span id="fb3f" class="mp mq in ml b gy mv ms l mt mu">var d = new Date();<br/>}</span><span id="32e0" class="mp mq in ml b gy mv ms l mt mu">setInterval(showTime,1000);</span></pre><p id="0fd7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们还需要一个JavaScript <code class="fe mw mx my ml b">setInterval()</code>方法，它被设置为1秒钟，以便在每秒钟调用<code class="fe mw mx my ml b">showTime</code>函数。因此，时钟将每秒更新一次，我们将能够看到我们的时钟一直在走。为了获得更多的细节，比如年、月、日、日以及时钟中的时、分、秒，我们可以更新函数如下。</p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="6dfc" class="mp mq in ml b gy mr ms l mt mu">function showTime(){</span><span id="d7e6" class="mp mq in ml b gy mv ms l mt mu">var d = new Date();<br/>var year = d.getFullYear();<br/>var month = d.getMonth();<br/>var date = d.getDate();<br/>var day =d.getDay();<br/>var hour = d.getHours();<br/>var min = d.getMinutes();<br/>var sec = d.getSeconds();</span><span id="c6dc" class="mp mq in ml b gy mv ms l mt mu">}</span><span id="9030" class="mp mq in ml b gy mv ms l mt mu">setInterval(showTime,1000);</span></pre><p id="837d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">上面的代码将给出一个完整的日期和时间，并且由于使用了<code class="fe mw mx my ml b">setInterval()</code>方法，它一直在滴答作响。此时，如果你输入一个<code class="fe mw mx my ml b">console.log()</code>,你会看到一个数字输出，比如一月的数值为1，二月的数值为2，星期一的数值为1，星期二的数值为2，依此类推。此外，您将获得24小时格式的当前时间。</p><p id="6c8d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，下一个任务将是将这个输出配置为一个更舒适的视图。</p><p id="c580" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们将月份的数值改为一个字符串，这样您就可以在日历中看到它了。JavaScript <strong class="kv io"> Switch </strong>语句对于这个任务来说是最方便的，它可以配置如下。</p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="0a84" class="mp mq in ml b gy mr ms l mt mu">switch(month){</span><span id="45d7" class="mp mq in ml b gy mv ms l mt mu">case 1:<br/>month="January";<br/>break;</span><span id="143d" class="mp mq in ml b gy mv ms l mt mu">case 2:<br/>month="February";<br/>break;</span><span id="4603" class="mp mq in ml b gy mv ms l mt mu">case 3:<br/>month="March";<br/>break;</span><span id="f04b" class="mp mq in ml b gy mv ms l mt mu">case 4:<br/>month="April";<br/>break;</span><span id="a811" class="mp mq in ml b gy mv ms l mt mu">case 5:<br/>month="May"<br/>break;</span><span id="10d5" class="mp mq in ml b gy mv ms l mt mu">case 6:<br/>month="June"<br/>break;</span><span id="d30e" class="mp mq in ml b gy mv ms l mt mu">case 7:<br/>month="July"<br/>break;</span><span id="efff" class="mp mq in ml b gy mv ms l mt mu">case 8:<br/>month="August"<br/>break;</span><span id="c8ea" class="mp mq in ml b gy mv ms l mt mu">case 9:<br/>month="September"<br/>break;</span><span id="ce4c" class="mp mq in ml b gy mv ms l mt mu">case 10:<br/>month="October"<br/>break;</span><span id="e822" class="mp mq in ml b gy mv ms l mt mu">case 11:<br/>month="November"<br/>break;</span><span id="92c7" class="mp mq in ml b gy mv ms l mt mu">case 12:<br/>month="December"<br/>break;</span><span id="3f83" class="mp mq in ml b gy mv ms l mt mu">default:</span><span id="774d" class="mp mq in ml b gy mv ms l mt mu">}</span></pre><p id="02e8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们再次使用<strong class="kv io"> Switch </strong>语句将日期转换为字符串值。</p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="0a4d" class="mp mq in ml b gy mr ms l mt mu">switch(day){</span><span id="f314" class="mp mq in ml b gy mv ms l mt mu">case 1:<br/>day="Monday";<br/>break;</span><span id="f4e5" class="mp mq in ml b gy mv ms l mt mu">case 2:<br/>day="Tuesday";<br/>break;</span><span id="c2ce" class="mp mq in ml b gy mv ms l mt mu">case 3:<br/>day="Wednesday";<br/>break;</span><span id="f69b" class="mp mq in ml b gy mv ms l mt mu">case 4:<br/>day="Thursday";<br/>break;</span><span id="f6c9" class="mp mq in ml b gy mv ms l mt mu">case 5:<br/>day="Friday";<br/>break;</span><span id="6480" class="mp mq in ml b gy mv ms l mt mu">case 6:<br/>day="Saturday";<br/>break;</span><span id="b529" class="mp mq in ml b gy mv ms l mt mu">case 7:<br/>day="Sunday";<br/>break;</span><span id="8d1d" class="mp mq in ml b gy mv ms l mt mu">default:</span><span id="10b2" class="mp mq in ml b gy mv ms l mt mu">}</span></pre><p id="6d44" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，您可以获得字符串格式的月份和日期。您可以通过在代码中运行<code class="fe mw mx my ml b">console.log()</code>来检查它。接下来，我想让时钟采用<strong class="kv io"> 12小时</strong>格式，而不是默认的<strong class="kv io"> 24小时</strong>格式<em class="lp">【基本上，当您使用新的</em><strong class="kv io"><em class="lp">Date()</em></strong><em class="lp">object】</em>时，您会得到 <strong class="kv io"> <em class="lp"> 24小时</em> </strong> <em class="lp">格式的时间。</em></p><p id="9e4a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我使用了一个基本的<strong class="kv io"> IF </strong>语句来获取12小时格式的时间，语句末尾有<strong class="kv io">" AM "</strong>&amp;<strong class="kv io">" PM "</strong>字符串。您可以在下面找到我用于这种转换的代码。</p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="e027" class="mp mq in ml b gy mr ms l mt mu">var MV = "AM";<br/>if(hour == 12){<br/>MV = "PM";<br/>}</span><span id="990c" class="mp mq in ml b gy mv ms l mt mu">if(hour &gt; 12){<br/>hour = hour % 12;<br/>MV = "PM";<br/>}</span></pre><p id="40c8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在你已经准备好在浏览器上打开你的时钟了。让我们使用DOM <code class="fe mw mx my ml b">getElementById()</code>方法打开它。让我们配置如下，一旦你完成了，在浏览器上打开你的index.html文件。</p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="37eb" class="mp mq in ml b gy mr ms l mt mu">document.getElementById("clock").innerHTML = "&lt;b&gt;Today is:&lt;/b&gt; "+day+" "+date+"th "+month+" "+year+", "+hour+":"+min+":"+sec+" "+MV;</span></pre><p id="5b9f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，您将获得一个完整的时钟，其中包含当前的日期和时间，它会在您的应用程序中持续运行。</p><p id="9762" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们做一个小小的改变，这将在时钟的<strong class="kv io"> </strong>开头添加一个<strong class="kv io">【0】</strong>来表示小时、分钟和秒钟，而每个部分只有一个数字。</p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="69f6" class="mp mq in ml b gy mr ms l mt mu">hour = ("0" + hour).slice(-2);</span><span id="fdf3" class="mp mq in ml b gy mv ms l mt mu">min = ("0" + min).slice(-2);</span><span id="0689" class="mp mq in ml b gy mv ms l mt mu">sec = ("0" + sec).slice(-2);</span></pre><p id="7b18" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">确保将该部分添加到<code class="fe mw mx my ml b">showTime()</code>功能的末尾，它将检查每个部分并在必要的地方添加一个<strong class="kv io">“0”</strong>。</p><p id="2936" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里 可以找到完整的JavaScript代码<a class="ae ks" href="https://github.com/randiltennakoon/Real-time-clock-for-web-app/blob/master/app.js" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">。</strong></a></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mz"><img src="../Images/af54f3671d84ecf1170960c8a5aeac8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AlG-zFpZTS3dS5lb"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Screenshot by Author</figcaption></figure></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><h1 id="db3b" class="nh mq in bd ni nj nk nl nm nn no np nq jt nr ju ns jw nt jx nu jz nv ka nw nx bi translated">结论</h1><p id="c859" class="pw-post-body-paragraph kt ku in kv b kw ny jo ky kz nz jr lb lc oa le lf lg ob li lj lk oc lm ln lo ig bi translated"><strong class="kv io"> <em class="lp">恭喜</em> </strong>🎉</p><p id="6ad6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您已经成功开发了您的实时时钟，并可以随意将其添加到您的web应用程序中<em class="lp">【您可以通过下面的链接找到该项目的源代码】</em>。</p></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><p id="bb98" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">源代码:</strong> <a class="ae ks" href="https://github.com/randiltennakoon/Real-time-clock-for-web-app" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> GitHub </strong> </a></p><p id="4dce" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">感谢阅读！</p><p id="2a2c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lp">更多内容看</em> <a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lp">说白了就是</em> </strong> </a> <strong class="kv io"> <em class="lp">。</em> </strong> <em class="lp">报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lp">免费每周简讯这里</em> </strong> </a> <strong class="kv io"> <em class="lp">。</em>T29】</strong></p></div></div>    
</body>
</html>