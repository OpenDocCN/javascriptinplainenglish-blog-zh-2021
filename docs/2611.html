<html>
<head>
<title>Physical Computing with JavaScript (7/8) — Using Graphic Display</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript的物理计算(7/8) —使用图形显示</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/physical-computing-with-javascript-7-8-using-graphic-display-fc57580fc37?source=collection_archive---------5-----------------------#2021-05-29">https://javascript.plainenglish.io/physical-computing-with-javascript-7-8-using-graphic-display-fc57580fc37?source=collection_archive---------5-----------------------#2021-05-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/4c135d499066c60fee5562cf52a63ba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ctBs8BuFZ7_UezUMFPyPA.png"/></div></div></figure><p id="eeaa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，我们将通过高速通信方法I2C(内部集成电路)和SPI(串行外设接口)来控制图形显示。</p><blockquote class="kt ku kv"><p id="c0de" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated"><a class="ae la" href="https://niklauslee.medium.com/physical-computing-with-javascript-table-of-contents-69c38fd74e61" rel="noopener">目录</a></p></blockquote><h1 id="b056" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">成分</h1><ul class=""><li id="5fff" class="lz ma in jx b jy mb kc mc kg md kk me ko mf ks mg mh mi mj bi translated">树莓派Pico — 1件。</li><li id="adb0" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">试验板— 1个。</li><li id="0630" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">数字温度和湿度传感器(DHT11) — 1个。</li><li id="bdfb" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">图形显示模块(SSD1306) — 1个。(I2C，1.3英寸，128x64英寸)</li><li id="13b3" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">跳线(M-M型)</li></ul><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/368f51abf14701bd4f356a4c34fd9cd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kY3hcpHAJrfvAOmRDKyX3w.jpeg"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Components for showing temperature and humidity on a graphic display</figcaption></figure><p id="e9e7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，我们将通过SSD1306驱动程序使用单色有机发光二极管显示器。有各种不同尺寸、分辨率(1.3”-128 x64、0.96”-128 x64、1”-128 x32)和通信方法(I2C、SPI)的模块。购买时一定要检查尺寸、分辨率和通讯方式。在上一个教程中，我们已经尝试使用7段显示器(FND)仅显示温度，但这次我将尝试使用Kaluma的图形功能以更好的方式表达温度和湿度。</p><h1 id="e32c" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">如何与外部设备通信？</h1><p id="59c3" class="pw-post-body-paragraph jv jw in jx b jy mb ka kb kc mc ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">Pico提供几十个引脚来连接其他设备。在这里，我们连接并使用各种传感器、电机、led、图形显示器和网络模块。每个引脚只能输出或接收<code class="fe nb nc nd ne b">HIGH</code>或<code class="fe nb nc nd ne b">LOW</code>输入，那么Pico如何与这些不同的设备通信呢？我们可能有如下问题:</p><ul class=""><li id="212e" class="lz ma in jx b jy jz kc kd kg nf kk ng ko nh ks mg mh mi mj bi translated">应该连接多少个引脚？</li><li id="3da1" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">数据的0和1是如何表示的？</li><li id="ba16" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">按顺序将数据发送到单个引脚？还是同时发送到多个引脚？</li><li id="b949" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">数据传输和接收都使用一个引脚？还是分别使用单独的引脚进行发送和接收？</li></ul><p id="4339" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这些问题没有一个统一的答案。有必要根据传感器或组件的特性选择适当的通信方法。哪种方法适用于温度传感器？我们已经简单了解了如何仅通过一个连接与DHT11数字温度和湿度传感器通信(VCC和GND除外)。本传感器选择了上述问题的以下答案。</p><ul class=""><li id="3404" class="lz ma in jx b jy jz kc kd kg nf kk ng ko nh ks mg mh mi mj bi translated">连接单个引脚(电源3V3和GND除外)。温度和湿度是两个数字(40位)，由于数据不多，所以只用一个管脚连接就够了。</li><li id="e6c2" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">如果<code class="fe nb nc nd ne b">HIGH</code>信号长(50us以上)，则为<code class="fe nb nc nd ne b">1</code>，如果短(50us以下)，则为<code class="fe nb nc nd ne b">0</code>。不设置<code class="fe nb nc nd ne b">HIGH</code> = <code class="fe nb nc nd ne b">1</code>和<code class="fe nb nc nd ne b">LOW</code> = <code class="fe nb nc nd ne b">0</code>的原因是为了区分不发送/接收数据的状态(<code class="fe nb nc nd ne b">LOW</code>)和数据的状态<code class="fe nb nc nd ne b">0</code>。</li><li id="5af1" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">按顺序将数据发送到单个引脚。温度和湿度由40位组成，因此即使它们被顺序发送，传输和接收也可以在大约几毫秒内完成。</li><li id="4737" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated">使用一个引脚进行发送和接收。发送请求信号后，接收数据。</li></ul><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/1583b68755e8ab7d2f612bb433da9add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-LVNc81rQExqqeTS9vdiiA.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">An example to send a number 97(In binary: 01100001, In ASCII: ‘a’) with a single connection</figcaption></figure><p id="d795" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那么，我们将在本教程中使用的图形显示呢？与DHT11传感器这样的单线通信是否足够？即使在128x64分辨率下以单色观看，也需要总共8，192位，并且如果以相同的方式进行通信，则在屏幕上发送像素信息几乎需要1秒钟。似乎需要快速发送和接收更多数据。Pico(以及大多数其他微控制器)支持多种协议以实现更快的串行通信。</p><ul class=""><li id="cd11" class="lz ma in jx b jy jz kc kd kg nf kk ng ko nh ks mg mh mi mj bi translated"><strong class="jx io"> I2C(内部集成电路)</strong> —使用2个引脚进行通信。它由一个时钟引脚(SCL——串行时钟)和另一个数据传输引脚(SDA——串行数据)组成，前者用于发送和接收的时序控制。</li><li id="7359" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated"><strong class="jx io"> SPI(串行外设接口)</strong> —它使用3个引脚进行通信。一个用于传输的引脚(MOSI —主机输出从机输入)和一个用于接收的引脚(MISO —主机输入从机输出)与时钟线(SCK —串行时钟)一起使用。</li><li id="a944" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated"><strong class="jx io"> UART(通用异步接收器/发送器)</strong> —使用2个引脚进行通信。没有时钟线，一个引脚用于发射(TX —发射器)，一个引脚用于接收(RX —接收器)。UART的细节将在下一个教程中解释。</li></ul><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nj"><img src="../Images/e53169931adc7e699afaa9420b5c6fa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jEawLJnY-ooqrXrTjT_Eng.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Serial communication protocols</figcaption></figure><h1 id="e620" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">I2C(内部集成电路)</h1><p id="6b60" class="pw-post-body-paragraph jv jw in jx b jy mb ka kb kc mc ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">I2C是一种通过使用两个引脚来提高通信效率的协议。使用一个引脚发送和接收数据与DHT11相同，但不同之处在于使用了一个单独的时钟(SCL)引脚来实现同步。如下图所示，当时钟信号从<code class="fe nb nc nd ne b">LOW</code>变为<code class="fe nb nc nd ne b">HIGH</code>时，0和1分别表示为数据信号是<code class="fe nb nc nd ne b">LOW</code>还是<code class="fe nb nc nd ne b">HIGH</code>。因此，没有必要匹配两个设备的通信速度，如果您想快速发送/接收，您可以提高SCL引脚上的时钟速度(当然，每个I2C设备都有其速度限制)。</p><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/be6268ae820f7515140515e3e7d8a8a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-4kZKNkBAU3LAYP_Mf0M8A.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">An example to send a number 97 (In binary: 01100001, In ASCII: ‘a’ ) via two-wire communication (I2C)</figcaption></figure><p id="c42f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">I2C有一个主人和一个奴隶。通常，微控制器(Pico)成为主机，传感器成为从机。主机通过产生时钟信号来驱动通信。基本上，I2C就像一辆巴士。这意味着多个器件可以共用这两个引脚。如果是，如何区分设备？每个I2C设备都有一个唯一的地址(例如，SSD1306的地址是<code class="fe nb nc nd ne b">0x3C</code>)。因此，在通信时，您必须首先指定一个地址，然后发送/接收数据。</p><p id="4492" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要在Kaluma中使用I2C，请使用如下所示的<code class="fe nb nc nd ne b">i2c</code>模块。创建了一个<code class="fe nb nc nd ne b">I2C</code>类后，用<code class="fe nb nc nd ne b">write()</code>或<code class="fe nb nc nd ne b">read()</code>函数发送/接收数据。由于Pico总共提供了2条总线，<strong class="jx io"> I2C0 </strong>和<strong class="jx io"> I2C1 </strong>，将创建<code class="fe nb nc nd ne b">I2C</code>类时使用的总线号作为参数传递。</p><pre class="mq mr ms mt gt nl ne nm nn aw no bi"><span id="a132" class="np lc in ne b gy nq nr l ns nt">const {I2C} = require('i2c');<br/>let i2c = new I2C(0);<br/>let data1 = new Uint8Array([0x6b, 0x00]);<br/>i2c.write(data, 0x68);<br/>// ...<br/>let data2 = i2c.read(14, 0x68);<br/>// ...<br/>i2c.close();</span></pre><p id="4703" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用I2C设备就足够了。如果您想更多地了解它是如何工作的，我建议您查看文档。</p><ul class=""><li id="6bf3" class="lz ma in jx b jy jz kc kd kg nf kk ng ko nh ks mg mh mi mj bi translated"><a class="ae la" href="https://learn.sparkfun.com/tutorials/i2c/all" rel="noopener ugc nofollow" target="_blank"> Sparkfun I2C教程</a></li><li id="207a" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated"><a class="ae la" href="https://kalumajs.org/docs/api/i2c/" rel="noopener ugc nofollow" target="_blank">卡鲁马·I2C文档</a></li></ul><h1 id="cf32" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">SPI(串行外设接口)</h1><p id="36c7" class="pw-post-body-paragraph jv jw in jx b jy mb ka kb kc mc ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">像I2C一样，SPI使用单独的时钟进行同步。然而，发送和接收使用单独的引脚。当数据传输到从机时，使用MOSI(主机输出从机输入)引脚，当反向接收数据时，使用MISO(主机输入从机输出)引脚。通常，当不需要接收数据时，没有必要连接MISO引脚。</p><p id="b7f5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">由于SPI也充当总线，多个器件可以共享同时使用的三个引脚。然而，与I2C不同的是，地址不用于区分设备，而是连接和使用每个设备的单独CS(片选)引脚。例如，如果用SCK、MISO和MOSI引脚将3个不同的器件连接到SPI总线，则每个器件需要3个单独的CS引脚。要使用的设备的CS应设置为<code class="fe nb nc nd ne b">HIGH</code>，其他设备的CSs应设置为<code class="fe nb nc nd ne b">LOW</code>。</p><p id="46cb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要在Kaluma中使用SPI，请使用如下所示的<code class="fe nb nc nd ne b">spi</code>模块。创建<code class="fe nb nc nd ne b">SPI</code>类后，用<code class="fe nb nc nd ne b">send()</code>或<code class="fe nb nc nd ne b">recv()</code>函数发送/接收数据。因为Pico总共提供了2条总线<strong class="jx io"> SPI0 </strong>和<strong class="jx io"> SPI1 </strong>，所以将创建SPI类时使用的总线号作为参数传递。</p><pre class="mq mr ms mt gt nl ne nm nn aw no bi"><span id="5fca" class="np lc in ne b gy nq nr l ns nt">const {SPI} = require('spi');<br/>let spi0 = new SPI(0);<br/>let data1 = new Uint8Array([0x6b, 0x00]);<br/>spi0.send(data1);<br/>// ...<br/>let data2 = spi0.recv(10);<br/>// ...<br/>spi0.close();</span></pre><p id="5efa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要了解更多细节，建议阅读文档。</p><ul class=""><li id="455e" class="lz ma in jx b jy jz kc kd kg nf kk ng ko nh ks mg mh mi mj bi translated"><a class="ae la" href="https://learn.sparkfun.com/tutorials/serial-peripheral-interface-spi" rel="noopener ugc nofollow" target="_blank"> Sparkfun SPI教程</a></li><li id="7e38" class="lz ma in jx b jy mk kc ml kg mm kk mn ko mo ks mg mh mi mj bi translated"><a class="ae la" href="https://kalumajs.org/docs/api/spi/" rel="noopener ugc nofollow" target="_blank">卡鲁玛SPI文档</a></li></ul><h1 id="09c4" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">SSD1306(单色有机发光二极管)</h1><p id="3319" class="pw-post-body-paragraph jv jw in jx b jy mb ka kb kc mc ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">现在让我们使用图形显示更好地显示温度和湿度。将SSD1306连接到<strong class="jx io"> I2C0 </strong>总线，将DHT11连接到<strong class="jx io"> GPIO15 </strong>，如下图电路图所示。连接比7段简单得多！</p><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nu"><img src="../Images/2caf1298c72c4f5066bf897466fc3a66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qYmsKZcEB5-P3_WriuqlJw.jpeg"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Circuit for DHT11 sensor and SSD1306 graphic display</figcaption></figure><p id="1d70" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要控制显示，需要向<strong class="jx io"> I2C0 </strong>总线发送命令。SSD1306数据手册描述了该命令。但是，完全没有必要经历如此艰难困苦的过程。你所需要做的就是使用一个编写良好的库来调用API。首先，在IDE中创建一个项目(或者重用之前的<code class="fe nb nc nd ne b">dht11-test</code>项目)并添加以下两个库。</p><div class="nv nw gp gr nx ny"><a href="https://github.com/niklauslee/ssd1306" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd io gy z fp od fr fs oe fu fw im bi translated">GitHub - niklauslee/ssd1306:用于ssd1306的Kaluma库(单色有机发光二极管显示器)</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">Kaluma库为SSD1306(单色有机发光二极管显示器)你可以从下面得到单色有机发光二极管显示器:这里是一个布线…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">github.com</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om jt ny"/></div></div></a></div><div class="nv nw gp gr nx ny"><a href="https://github.com/niklauslee/dht" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd io gy z fp od fr fs oe fu fw im bi translated">GitHub - niklauslee/dht:用于dht湿度和温度传感器的Kaluma库</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">用于DHT湿度和温度传感器的Kaluma库这里是DHT11的接线示例。npm安装…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">github.com</p></div></div><div class="oh l"><div class="on l oj ok ol oh om jt ny"/></div></div></a></div><pre class="mq mr ms mt gt nl ne nm nn aw no bi"><span id="e712" class="np lc in ne b gy nq nr l ns nt">$ npm i <a class="ae la" href="https://github.com/niklauslee/ssd1306" rel="noopener ugc nofollow" target="_blank">https://github.com/niklauslee/ssd1306</a><br/>$ npm i <a class="ae la" href="https://github.com/niklauslee/dht" rel="noopener ugc nofollow" target="_blank">https://github.com/niklauslee/dht</a></span></pre><p id="ce95" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以我们上传下面的代码，让温度和湿度显示在图形显示器上。</p><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oo"><img src="../Images/c17d9aee2c2c9a1618d7118ba05d2768.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*toYnLcyWD6H030nUXQ-vGQ.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Show temperature and humidity on SSD1306 display</figcaption></figure><p id="937e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">查看代码，在创建了一个<code class="fe nb nc nd ne b">SSD1306</code>类的实例后，<code class="fe nb nc nd ne b">setup()</code>被调用来初始化显示。初始化完成后，首先调用<code class="fe nb nc nd ne b">getContext()</code>得到一个图形上下文对象。这个图形上下文提供了绘制形状、字符和位图的功能。你必须记住的是，当你调用一个绘制图形的函数时，它被记录在内部缓冲区中，不会出现在屏幕上。不要忘记你必须调用<code class="fe nb nc nd ne b">display()</code>来使绘制的图像缓冲区出现在屏幕上。关于图形上下文的详细功能，请参考参考。</p><div class="nv nw gp gr nx ny"><a href="https://kalumajs.org/docs/api/graphics/" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd io gy z fp od fr fs oe fu fw im bi translated">卡鲁玛</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">图形模块支持图形API。使用require('graphics ')访问该模块。…的一个实例</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">kalumajs.org</p></div></div><div class="oh l"><div class="op l oj ok ol oh om jt ny"/></div></div></a></div><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/b77be2724d1e8b494dd86b7954e9ebe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o1A1EGdJwGlrL-8GCESFDA.jpeg"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Temperature and humidity on graphic display</figcaption></figure><h1 id="12de" class="lb lc in bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">字体和位图</h1><p id="247f" class="pw-post-body-paragraph jv jw in jx b jy mb ka kb kc mc ke kf kg my ki kj kk mz km kn ko na kq kr ks ig bi translated">如果你只是像那样显示数字，就没有必要使用图形显示。让我们改变字体，画一个图像，使它看起来更好。首先让我们安装一个包括几种字体的模块。</p><div class="nv nw gp gr nx ny"><a href="https://github.com/niklauslee/simple-fonts" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd io gy z fp od fr fs oe fu fw im bi translated">GitHub-niklauslee/Simple-fonts:Kaluma的简单位图字体</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">卡卢马简单的位图字体。在GitHub上创建一个帐户，为niklauslee/simple-fonts开发做出贡献。</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">github.com</p></div></div><div class="oh l"><div class="oq l oj ok ol oh om jt ny"/></div></div></a></div><pre class="mq mr ms mt gt nl ne nm nn aw no bi"><span id="c9e8" class="np lc in ne b gy nq nr l ns nt">$ npm i <a class="ae la" href="https://github.com/niklauslee/simple-fonts" rel="noopener ugc nofollow" target="_blank">https://github.com/niklauslee/simple-fonts</a></span></pre><p id="a3dd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们创建一个温度计形状的位图文件<code class="fe nb nc nd ne b">thermo.bmp.json</code>，如下所示。看数据，16x16像素的大小是每像素1位，数据编码是base64。本教程没有详细介绍如何创建位图。</p><pre class="mq mr ms mt gt nl ne nm nn aw no bi"><span id="5aee" class="np lc in ne b gy nq nr l ns nt">{<br/>  "width": 16,<br/>  "height": 16,<br/>  "bpp": 1,<br/>  "data": "AcACLAIgAiACrAKgAqACrAKgAqAF0AXQBdACIAHAAAA="<br/>}</span></pre><p id="2dd1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们把新的字体和位图放到屏幕上。字体放大了三倍，以便更好地看到温度，湿度放大了两倍。由于位图的尺寸(16x16)比屏幕的尺寸(128x64)要小一点，我们把它横向和纵向放大3倍。</p><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oo"><img src="../Images/4452bb723520bc35cade0d0e8873079d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XKduXPb9PK9aeZqxKitrBA.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Displaying temperature and humidity with font and bitmap</figcaption></figure><figure class="mq mr ms mt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/03dd5a67c2993d8309cd38bf7e814e15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gz-YKN6QF-MclD-KnxqoQA.jpeg"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Showing the new font and bitmap</figcaption></figure><p id="ae2a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，我们简要了解了I2C和SPI通信。我们用它连接SSD1306图形显示器来显示温度和湿度。最后，在下一个教程中，让我们通过互联网发送温度和湿度信息，以便您可以在智能手机或网络浏览器上查看这些信息。</p><div class="nv nw gp gr nx ny"><a href="https://niklauslee.medium.com/physical-computing-with-javascript-8-8-connecting-to-internet-151ba3dfce59" rel="noopener follow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd io gy z fp od fr fs oe fu fw im bi translated">使用JavaScript的物理计算— (8/8)连接到互联网</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">在本教程中，让我们通过UART(通用异步…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">niklauslee.medium.com</p></div></div><div class="oh l"><div class="or l oj ok ol oh om jt ny"/></div></div></a></div><p id="ab3f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kw">更多内容看</em><a class="ae la" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="kw">plain English . io</em></a></p></div></div>    
</body>
</html>