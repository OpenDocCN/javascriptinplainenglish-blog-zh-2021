<html>
<head>
<title>Create REST API Using Node.js and MySQL from Scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Node.js和MySQL从头开始创建REST API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-rest-api-using-nodejs-and-mysql-from-scratch-d1844601e21?source=collection_archive---------3-----------------------#2021-01-09">https://javascript.plainenglish.io/create-rest-api-using-nodejs-and-mysql-from-scratch-d1844601e21?source=collection_archive---------3-----------------------#2021-01-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1889" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从头开始使用MySQL的CRUD示例</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/18e7958a73059ce21997544a8f096402.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8xiomMtgtp1aeVAUFYRv1g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">NodeJS REST API</figcaption></figure><p id="0240" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在本教程中，我们将看到如何使用<strong class="kx ir"> Node.js </strong>和<strong class="kx ir"> MySQL </strong>创建一个REST-API。NodeJS旨在构建可伸缩的网络应用程序。有许多语言可以用来创建REST-API。NodeJS在<strong class="kx ir"> JavaScript </strong>开发者中非常受欢迎。网上有很多关于<strong class="kx ir">为什么是Node.js的讨论？</strong>。我不想谈这个。但是我选择NodeJS用于<strong class="kx ir">实时</strong>数据获取。Node.js非常适合Socket IO。因此，首先，我们将了解如何创建API，然后我们将在另一个教程中学习如何获取实时数据。</p><p id="a14c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Node.js是一个JavaScript运行时环境。Node.js在聊天相关的应用程序和实时数据获取活动中表现良好。所以如果想做实时数据抓取，学习Node.js rest api是非常有用的。您可以轻松地将它与任何其他编程(PHP、Java、Python等)集成在一起。).我用<strong class="kx ir"> Angular、PHP和MySQL </strong>开发了一个web应用。为了显示实时数据，我使用了<strong class="kx ir"> Node.js Socket IO </strong>。这减轻了我的工作。为什么因为PHP没有那么多对Socket IO的支持(仅是我的观点)。</p><h1 id="f666" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated"><strong class="ak">联系人列表应用</strong></h1><p id="299a" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">本教程的目标是用<strong class="kx ir"> Node.js </strong>和<strong class="kx ir"> MySQL </strong>制作一个简单的REST-API。对于这个例子，我计划为联系人列表应用程序(移动电话联系人列表)创建一个REST-API。在<strong class="kx ir">联系人列表应用</strong>中，我们将存储联系人的三个信息，例如。</p><ol class=""><li id="6ba2" class="mo mp iq kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">名字</li><li id="507a" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">手机号码</li><li id="757e" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">电子邮件</li></ol><p id="7f7e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你想把它保存在MySQL中，你可以添加任意多的字段/列。我们将在联系人列表应用程序中执行以下操作。</p><ol class=""><li id="d606" class="mo mp iq kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">如何保存联系方式？。</li><li id="1f2b" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">如何更新联系方式？。</li><li id="76d5" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">怎么删除联系方式？。</li><li id="a21b" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">如何获取所有联系人？。</li><li id="484d" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">如何获取个人联系方式？。</li><li id="4707" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">如何搜索联系人列表？。</li></ol><p id="f5ee" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">安装需要的软件:</strong></p><p id="1854" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用下面的链接下载并安装Node.js。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="caf8" class="nh ls iq nd b gy ni nj l nk nl"><a class="ae nm" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">https://nodejs.org/en/download/</a></span></pre><p id="1bff" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用下面的链接下载并安装MySQL服务器。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="e8bc" class="nh ls iq nd b gy ni nj l nk nl"><a class="ae nm" href="https://dev.mysql.com/downloads/mysql/" rel="noopener ugc nofollow" target="_blank">https://dev.mysql.com/downloads/mysql/</a></span></pre><p id="95ff" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">设置项目文件夹:</strong></p><p id="8d4c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在为REST API创建一个文件夹。我们将只在文件夹中存储所有代码。我正在创建一个名为<strong class="kx ir"> contact-api </strong>的<strong class="kx ir">文件夹</strong>。</p><p id="fc4f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后在contact-api文件夹中创建一个<strong class="kx ir"> package.json </strong>文件来存储所有的依赖项。要创建package.json文件，请在终端上使用contact-api文件夹中的命令。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="5305" class="nh ls iq nd b gy ni nj l nk nl">npm init</span></pre><p id="4063" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">安装Express.js: </strong></p><p id="e51b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">接下来，安装<strong class="kx ir"> Express.js </strong>，作为Node.js的web框架。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="c74b" class="nh ls iq nd b gy ni nj l nk nl">npm install express --save</span></pre><p id="52df" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在命令提示符(Windows)或终端(Mac和Linux)的contact-api文件夹中执行上述命令。Express.js用于<strong class="kx ir">创建路线</strong>。我们将使用ExpressJS创建GET和POST方法。</p><p id="c2e6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">项目结构:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/144793f25d3f614aea2d8b808a203265.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1aQHvy22PaZot0QEUsqoZA.png"/></div></div></figure><p id="24e9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">注意:这里我使用nodejs-api作为文件夹名。你可以用任何名字</p><p id="9c8f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">创建一个基本的API: </strong></p><p id="f878" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在contact-api文件夹下创建一个名为<strong class="kx ir"> server.js </strong>的文件。并将下面的代码粘贴到文件中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="c27b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">第1行:</strong>导入Express JS库。</p><p id="509c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">第3行:</strong>使用Express JS创建应用程序。</p><p id="9ef6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">第6行</strong>:定义运行应用程序的端口。</p><p id="46a9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">第8行:</strong>从app调用<strong class="kx ir"> get() </strong>函数，创建路线。这里我使用了被定义为根页面的<strong class="kx ir">“/”</strong>。<strong class="kx ir"> (req，res) </strong>用于处理请求和响应。</p><p id="f3dd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">第10行</strong>:函数<strong class="kx ir"> res.json() </strong>用于返回json格式的数据。</p><p id="b157" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">第15行</strong>:调用<strong class="kx ir"> listen() </strong>函数，通过端口运行应用。</p><p id="e745" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在保存文件并使用下面的命令执行它。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="2196" class="nh ls iq nd b gy ni nj l nk nl">node server.js<br/>or<br/>npm start</span></pre><p id="559f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这将在端口3000上运行服务器。所以你可以使用下面的网址访问它。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="01b3" class="nh ls iq nd b gy ni nj l nk nl"><a class="ae nm" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/</a></span></pre><p id="814c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">获取方法示例:</strong></p><p id="f66b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们总是用两种不同的方法将数据传递给服务器。它们是GET和POST方法。</p><p id="4a60" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">GET方法的示例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="3da3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">发送数据的重要方面是在服务器上捕捉数据。每个开发人员只需要这个。如何捕捉数据？。我们可以使用来自请求的<strong class="kx ir">查询</strong>对象来获取请求数据。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="c3e5" class="nh ls iq nd b gy ni nj l nk nl">const q=req.query;</span></pre><p id="0a9d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用捕获参数</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="936a" class="nh ls iq nd b gy ni nj l nk nl">q.name // Assume name is passed in the URL</span></pre><p id="7cca" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">从<strong class="kx ir"> URL </strong>中捕获<strong class="kx ir">名称</strong>参数的示例。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="c36e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">测试URL。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="c28c" class="nh ls iq nd b gy ni nj l nk nl"><a class="ae nm" href="http://localhost:3000/get-data1?name=raja" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/get-data1?name=raja</a></span></pre><p id="d619" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">发布方法示例:</strong></p><p id="43a5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">大多数时候，我们总是只使用POST方法将数据发送到服务器。要捕捉POST数据，您可以使用请求中的<strong class="kx ir">主体</strong>对象。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="b443" class="nh ls iq nd b gy ni nj l nk nl">const q=req.body</span></pre><p id="67ee" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用下面的代码捕获POST数据。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="1534" class="nh ls iq nd b gy ni nj l nk nl">q.name // Assume name is passed in the URL</span></pre><p id="9252" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">捕捉POST方法中的name参数的示例。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="9497" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你不能在浏览器上测试文章的网址。您可以使用<strong class="kx ir">邮递员</strong>工具来检查POST方法。</p><p id="2776" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">安装节点守护程序:</strong></p><p id="7db2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Nodemon 是一个实用程序，它将监视源代码中的任何变化，并自动重启服务器。非常适合开发。每当我们改变server.js文件中的代码时，我们需要<strong class="kx ir">重启服务器</strong>。Nodemon通过自动重启来缓解这个问题。使用npm安装它。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="198d" class="nh ls iq nd b gy ni nj l nk nl">npm install --save-dev nodemon</span></pre><p id="0f22" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">并在package.json文件中包含<code class="fe nq nr ns nd b"><em class="nt">nodemon server</em></code>进行如下配置。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="eb4b" class="nh ls iq nd b gy ni nj l nk nl">{<br/>  "name": "nodejs-api",<br/>  "version": "1.0.0",<br/>  "description": "",<br/>  "main": "index.js",<br/>  "scripts": {<br/>    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",<br/>    "start": "nodemon server"<br/>  }</span></pre><p id="3a76" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后使用下面的命令启动服务器。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="2f5b" class="nh ls iq nd b gy ni nj l nk nl">npm start</span></pre><p id="1074" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您在server.js文件中做了任何更改，那么它将自动重新加载这些更改。无需反复重启服务器。这种方法仅推荐用于开发。不是为了生产。</p><p id="e8b6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">在MySQL中创建表格:</strong></p><p id="aab3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在我们学习了如何创建一个REST-API。我们的目标是创建联系人列表应用程序。因此，使用下面的SQL查询在MySQL中创建一个表。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="a4cc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">安装MySQL客户端包:</strong></p><p id="1ae9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们需要为NodeJS安装MySQL驱动程序/客户端包，以便与MySQL服务器通信。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="d82a" class="nh ls iq nd b gy ni nj l nk nl">npm install mysql --save</span></pre><p id="2735" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">创建MySQL连接:</strong></p><p id="d728" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在server.js文件中添加以下代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="6421" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">第2行</strong>:导入MySQL库。<br/> <strong class="kx ir">第3行</strong>:用MySQL的用户名、密码、数据库名创建到MySQL的连接。</p><p id="798c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在创建列表页面时，我们总是做以下六项工作。他们是。</p><ol class=""><li id="939b" class="mo mp iq kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">插入数据</li><li id="ca07" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">更新数据</li><li id="a7b4" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">删除数据</li><li id="305e" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">获取所有数据</li><li id="8bfd" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">获取个人数据</li><li id="be46" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">搜索数据</li></ol><p id="622e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它适用于大多数概念/模块。比如说，</p><ol class=""><li id="d443" class="mo mp iq kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">产品列表</li><li id="356a" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">账单列表</li><li id="c135" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">订单</li><li id="b115" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">员工列表</li><li id="6ab9" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">等等。</li></ol><p id="00f9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以我们总是做六个活动。所以让我们一个一个来看。</p><p id="fef6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">插入查询示例:</strong></p><p id="afa1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> query() </strong>函数用于传递SQL查询和数据。</p><p id="65e7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">将以下代码复制粘贴到server.js文件中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="65bd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">第3行</strong>:捕捉get请求参数。</p><p id="5d14" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">第4行:</strong>创建插入查询。这个查询不同于标准的MySQL insert查询。其他查询与MySQL查询相同。这里我们没有使用<strong class="kx ir">值()。</strong>相反，我们使用<strong class="kx ir">设定？。</strong>问号(？)用于传递列名和值。参考<strong class="kx ir">第6行</strong>，我们在这里传递列名和值。</p><p id="ec41" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">第5行:我们不能将MySQL函数作为字符串传递。对于使用其他语言的开发人员来说，这有点困难。为什么，因为在其他语言驱动中，我们可以将完整的SQL查询作为字符串传递。为了传递MySQL函数，我们必须使用<strong class="kx ir"> raw() </strong>函数。</p><p id="b841" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">第7行:</strong>传递SQL查询和<strong class="kx ir"> query() </strong>函数中的值。</p><p id="944d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">第10行:</strong>从结果变量中，我们可以得到受影响的行数和插入的行id。并将值作为JSON返回。</p><p id="e339" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">更新查询示例:</strong></p><p id="f2f8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">将下面的代码复制粘贴到server.js文件中，用于更新查询。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="a517" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里，我们根据姓名更新手机号码。但是总是使用id值更新这些值。出于示例目的，我使用了名称。</p><p id="bfd9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">删除查询示例:</strong></p><p id="7a6d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">将以下代码复制粘贴到用于删除查询的server.js文件中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="3293" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里我们使用名称删除数据。同样，总是使用id值删除这些值。为什么因为名字会重复几次。</p><p id="fd91" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">获取个人数据示例:</strong></p><p id="cbb5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">将下面的代码复制粘贴到server.js文件中，从数据库中获取单个记录。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="0c75" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这里，我使用联系人姓名获取记录。</p><p id="cccd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">获取所有数据示例:</strong></p><p id="ea89" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">将下面的代码复制粘贴到server.js文件中，从数据库中获取所有记录。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="d185" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这里，我从表格中提取所有数据。然而，在实时应用中，总是在第一次请求时使用<strong class="kx ir"> limit </strong>关键字获取少量数据，并为另一次请求获取剩余数据。为什么，因为如果你拉所有的记录，浏览器不能处理所有的记录，如果没有记录是高的。</p><p id="4aef" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">搜索查询示例:</strong></p><p id="ecbe" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">每个人都需要搜索。我们总是在寻找。为什么因为不想一直看到所有的数据。我们总是搜索并选择联系人来打电话或发短信等。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="3c84" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里我使用raw()函数来传递MySQL like查询。无论用户键入什么，该搜索都将在“姓名”和“手机”列中查找匹配项。</p><p id="45b1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">从Github获取完整代码</strong></p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="2042" class="nh ls iq nd b gy ni nj l nk nl"><a class="ae nm" href="https://github.com/bharathirajatut/angular-examples/tree/master/nodejs-rest-api" rel="noopener ugc nofollow" target="_blank">https://github.com/bharathirajatut/angular-examples/tree/master/nodejs-rest-api</a></span></pre><h2 id="1a24" class="nh ls iq bd lt nu nv dn lx nw nx dp mb le ny nz md li oa ob mf lm oc od mh oe bi translated"><strong class="ak">总结</strong></h2><p id="1f0f" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">在本教程中，您学习了如何使用NodeJS和MySQL创建REST API。创建REST API非常简单。NodeJS学习起来非常简单。不需要争论为什么我们需要学习NodeJS？。趋势总是会变的。今天你可以学习一种语言。第二年，你可能会被分配到其他语言。</p><p id="e341" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了在IT行业生存，你必须学习新技术。我在复杂的项目中使用了多种语言。我们总是使用能减轻我们工作负担的语言。在一个项目中融合多种技术将创造出创新的产品。要获取实时数据，NodeJS是首选(纯粹是我的选择)。</p><p id="4601" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">感谢阅读本教程。希望你喜欢这个。</p></div></div>    
</body>
</html>