<html>
<head>
<title>10 JavaScript Tips, Tricks, and Best Practices That I’ve Greatly Benefitted From</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我受益匪浅的10个JavaScript技巧、诀窍和最佳实践</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-tips-and-best-practices-928b2987ccfa?source=collection_archive---------11-----------------------#2021-07-24">https://javascript.plainenglish.io/javascript-tips-and-best-practices-928b2987ccfa?source=collection_archive---------11-----------------------#2021-07-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/cfe1e4a3839319339d62d99bed3af183.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tw9qusqrJCHv2Ke2OFyrcw.jpeg"/></div></div></figure><p id="9923" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我将分享10个JavaScript技巧、诀窍和最佳实践，它们是我遵循并发现有用的。</p><h1 id="0604" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">1.使用数字分隔符</h1><p id="4d41" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">当我必须处理大量数字时，这是最常用的运算符之一。当在数字中使用分隔符(只有一个_)时，它看起来比没有分隔符的数字更好。</p><p id="ec6b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="bd7b" class="mf ku in mb b gy mg mh l mi mj">let number = 98234567</span></pre><p id="385a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">去⬇</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="8d28" class="mf ku in mb b gy mg mh l mi mj">let number = 98_234_567</span></pre><p id="4fa7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它也适用于任何其他数字基数:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="719c" class="mf ku in mb b gy mg mh l mi mj">const binary = 0b1000_0101;<br/>const hex = 0x12_34_56_78;</span></pre><p id="353b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">少数警告</strong>:</p><ul class=""><li id="895c" class="mk ml in jx b jy jz kc kd kg mm kk mn ko mo ks mp mq mr ms bi translated">不允许一行中有多个下划线<code class="fe mt mu mv mb b">let num= 100__00</code></li><li id="d9ba" class="mk ml in jx b jy mw kc mx kg my kk mz ko na ks mp mq mr ms bi translated">前导0 <code class="fe mt mu mv mb b">let num= 0_1</code>后不能使用</li><li id="0664" class="mk ml in jx b jy mw kc mx kg my kk mz ko na ks mp mq mr ms bi translated">不允许出现在数字文字的末尾<code class="fe mt mu mv mb b">let num= 100_</code></li></ul><h1 id="b7d7" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">2.总是使用分号</h1><p id="6f7b" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">使用分号作为行终止符是一个很好的做法。如果您忘记了它，不会得到警告，因为在大多数情况下，它将由JavaScript解析器插入，但是不鼓励依赖自动分号插入(ASI)。</p><p id="53eb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这甚至包括在谷歌的、<a class="ae nb" href="https://github.com/airbnb/javascript#semicolons" rel="noopener ugc nofollow" target="_blank"> Airbnb的</a>和<a class="ae nb" href="https://contribute.jquery.org/style-guide/js/#semicolons" rel="noopener ugc nofollow" target="_blank"> jQuery的</a> Javascript风格指南中。</p><p id="a224" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">想知道如果我们过度依赖ASI会发生什么，看看几个月前我分享的第4期时事通讯。在上一节中，我已经用一个例子解释过了。</p><h1 id="95d7" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">3.不要忘记“var”</h1><p id="425f" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">当你第一次给一个变量赋值时，一定要确保你没有给一个未声明的变量赋值。</p><p id="65e5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对未声明的变量赋值会自动导致创建全局变量。<strong class="jx io">避免全局变量</strong> ❌</p><p id="0930" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">全局变量很容易被其他脚本覆盖。例如，如果一个应用程序的两个独立部分用相同的名称但不同的目的定义了全局变量，它可能导致不可预测的错误，调试这样的问题将是一种可怕的体验。</p><p id="b518" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一般来说，您应该尝试限定代码的范围，以使您在全局范围内需要的东西尽可能少。您在脚本中使用的全局变量越多，您在另一个脚本中使用它的机会就越少。</p><p id="b146" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">正常情况下，函数中的变量应该是局部变量，这样当你退出函数时，它们就会消失。</p><blockquote class="nc nd ne"><p id="6708" class="jv jw nf jx b jy jz ka kb kc kd ke kf ng kh ki kj nh kl km kn ni kp kq kr ks ig bi translated"><em class="in">“通过将你的全球足迹减少到一个名字，你大大减少了与其他应用程序、小工具或库的不良交互的机会。”—道格拉斯·克洛克福特</em></p></blockquote><h1 id="5e10" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">4.删除vs拼接</h1><p id="e7f5" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">使用splice而不是delete从数组中移除项目。使用delete将删除object属性，但不会重新索引数组或更新其长度。这使得它看起来好像是未定义的。</p><h1 id="f3db" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">删除</h1><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="857b" class="mf ku in mb b gy mg mh l mi mj">&gt; myArray = ['a', 'b', 'c', 'd']<br/>  ["a", "b", "c", "d"]<br/>&gt; delete myArray[0]<br/>  true<br/>&gt; myArray[0]<br/>  undefined</span></pre><p id="bbd6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nf">注意，它实际上并没有设置为undefined值，而是从数组中删除了属性，使其看起来没有定义。Chrome dev工具通过在记录数组时打印空来明确这种区别。</em></p><h1 id="9b40" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">接合</h1><p id="2d1e" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">实际上删除元素，重新索引数组，并改变它的长度。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="00bf" class="mf ku in mb b gy mg mh l mi mj">&gt; myArray = ['a', 'b', 'c', 'd']<br/>  ["a", "b", "c", "d"]<br/>&gt; myArray.splice(0, 2)<br/>  ["a", "b"]<br/>&gt; myArray<br/>  ["c", "d"]</span></pre><p id="12c1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nf">应该使用delete方法来删除对象属性。</em></p><h1 id="88e4" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">5.映射vs for循环</h1><p id="3f90" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">使用map()函数方法遍历数组中的项</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="f7c4" class="mf ku in mb b gy mg mh l mi mj">var squares = [1,2,3,4].map(function (val) {  <br/>    return val * val;  <br/>});// squares will be equal to [1, 4, 9, 16]</span></pre><p id="a0ad" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">不变性</strong> —原始数组将不受影响。在其他地方仍然需要原始阵列的情况下，这有潜在的好处。For循环也可以写成不更新原来的数组，但是它需要更多的代码，并且在循环操作中更新我们的新数组。另一方面，map()保持了这种简洁，因为您只需在一个范围内工作，就能保持不变性</p><p id="eb0d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">更简洁的代码</strong> —在做同样的事情时，map几乎总是可以用比for更少的代码编写。有时它可以清楚地写在一行中，而for需要至少两行或一般三行，包括大括号。此外，作用域隔离和所需变量数量的减少以及规模的减小都使得代码客观上更加整洁。</p><h1 id="e34a" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">6.舍入数字</h1><p id="634c" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">toFixed()方法将一个数字舍入到指定的小数位数。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="124a" class="mf ku in mb b gy mg mh l mi mj">var pi =3.1415;<br/>pi = pi.toFixed(2);  // pi will be equal to 3.14</span></pre><p id="dde9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nf">注意:</em> <code class="fe mt mu mv mb b"><em class="nf">toFixed()</em></code> <em class="nf">返回一个字符串而不是一个数字。</em></p><h1 id="fb27" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">7.使用控制台.表格</h1><p id="1f74" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">您可以使用<code class="fe mt mu mv mb b">console.table</code>以表格格式显示对象:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="0fc0" class="mf ku in mb b gy mg mh l mi mj">table=[{state: "Texas"},{state: "New York"},{state: "Chicago"}]<br/>console.table(table)</span></pre><figure class="lw lx ly lz gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/1e7155441291a86072683a55b671ac6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/0*KttAFZZ3E1glLi-h.png"/></div></figure><h1 id="b6aa" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">8.避免在循环中使用try-catch</h1><p id="45e0" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">每次执行catch子句时，try-catch构造都会在运行时在当前范围内创建一个新变量，其中捕获的异常对象被分配给一个变量。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="2334" class="mf ku in mb b gy mg mh l mi mj">var object = ['foo', 'bar'], i;  <br/>for (i = 0, len = object.length; i &lt;len; i++) {  <br/>    try {  <br/>        // do something that throws an exception <br/>    }  <br/>    catch (e) {   <br/>        // handle exception  <br/>    } <br/>}</span></pre><p id="c399" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">去⬇</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="f70c" class="mf ku in mb b gy mg mh l mi mj">var object = ['foo', 'bar'], i;  <br/>try { <br/>    for (i = 0, len = object.length; i &lt;len; i++) {  <br/>        // do something that throws an exception <br/>    } <br/>} <br/>catch (e) {   <br/>    // handle exception  <br/>}</span></pre><p id="1927" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当一个错误发生时，第一个让你继续循环，而第二个退出循环。<strong class="jx io">如果你的代码抛出的异常没有严重到足以暂停你的整个程序，那么第一种方法是合适的</strong>。</p><h1 id="9b34" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">9.多重条件检查</h1><p id="1d5c" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">对于多值匹配，我们可以将所有值放在一个数组中，并使用<code class="fe mt mu mv mb b">indexOf()</code>或<code class="fe mt mu mv mb b">includes()</code>方法。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="c8af" class="mf ku in mb b gy mg mh l mi mj">if (value === 1 || value === 'one' || value === 2 || value === 'two') {}</span></pre><p id="3dbe" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">去⬇</p><h1 id="de5b" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">indexOf():</h1><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="fbff" class="mf ku in mb b gy mg mh l mi mj">if ([1, 'one', 2, 'two'].indexOf(value) &gt;= 0) {}</span></pre><h1 id="1804" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">包括():</h1><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="5078" class="mf ku in mb b gy mg mh l mi mj">if ([1, 'one', 2, 'two'].includes(value)) {}</span></pre><h1 id="e043" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">10.双非按位运算符(~~)</h1><p id="1a69" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">double NOT位运算符是Math.floor()方法的替代。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="b220" class="mf ku in mb b gy mg mh l mi mj">const floor = Math.floor(6.8); // 6</span></pre><p id="99a8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">去⬇</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="8282" class="mf ku in mb b gy mg mh l mi mj">const floor = ~~6.8; // 6</span></pre><p id="f28a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nf">双非按位运算符方法仅适用于32位整数。所以对于任何高于这个数的数，建议使用Math.floor() </em></p><h1 id="3ea0" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">结论</h1><p id="e9ff" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">我知道还有许多其他的技巧、诀窍和最佳实践，所以如果你有任何要补充的，或者如果你对我分享的有任何反馈或纠正，请在下面的评论中随意添加。</p><p id="e52e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">此外，你永远无法从一篇文章中学到什么。尝试Google concepts，阅读多篇文章，通过做项目来玩代码，这是你学习的唯一途径。</p><p id="8032" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是我的最后一条建议——不要使用随意的编码风格。执行标准</p><p id="7c40" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当阅读具有随机编码风格的代码时，你永远不知道会发生什么。整个团队和应用程序代码库需要相同的编码风格。这有助于提高代码的可读性。</p><p id="6199" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">感谢阅读。:))</p><h1 id="039c" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">参考</h1><ul class=""><li id="6aa7" class="mk ml in jx b jy lr kc ls kg nk kk nl ko nm ks mp mq mr ms bi translated">modernweb.com/45-javascript-tips-tricks-pra..<a class="ae nb" href="https://modernweb.com/45-javascript-tips-tricks-practices/" rel="noopener ugc nofollow" target="_blank"/></li><li id="d75c" class="mk ml in jx b jy mw kc mx kg my kk mz ko na ks mp mq mr ms bi translated">【stackoverflow.com/questions/2485423/is-usin.. T4】</li><li id="42fc" class="mk ml in jx b jy mw kc mx kg my kk mz ko na ks mp mq mr ms bi translated"><a class="ae nb" href="https://stackoverflow.com/questions/32844818/why-i-need-to-avoid-using-try-catch-finally-inside-a-loop" rel="noopener ugc nofollow" target="_blank">stackoverflow.com/questions/32844818/why-i-..</a></li><li id="1ccd" class="mk ml in jx b jy mw kc mx kg my kk mz ko na ks mp mq mr ms bi translated"><a class="ae nb" href="http://rocha.la/JavaScript-bitwise-operators-in-practice" rel="noopener ugc nofollow" target="_blank">rocha.la/JavaScript-bitwise-operators-in-pr..</a></li><li id="c2ae" class="mk ml in jx b jy mw kc mx kg my kk mz ko na ks mp mq mr ms bi translated">由<a class="ae nb" href="https://unsplash.com/@juanjodev02" rel="noopener ugc nofollow" target="_blank">胡安乔·哈拉米略</a>在Unsplash上拍摄的封面照片</li></ul><p id="b789" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nf">更多内容请看</em><a class="ae nb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nf">plain English . io</em></strong></a></p></div></div>    
</body>
</html>