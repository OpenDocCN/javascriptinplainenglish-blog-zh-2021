<html>
<head>
<title>Short Circuit Evaluation in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的短路评估</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/short-circuit-evaluation-667d01b54172?source=collection_archive---------17-----------------------#2021-10-15">https://javascript.plainenglish.io/short-circuit-evaluation-667d01b54172?source=collection_archive---------17-----------------------#2021-10-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f764" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">解释编程概念，使用JavaScript进行短路评估</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/239c20cc8ceb2faa285eb54a91369ff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yGXiFy7nd1w4zy6i"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@clemhlrdt?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Clément Hélardot</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="d07a" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">什么是短路评估？</h1><p id="7e73" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">在编程中，许多语言使用所谓的短路评估。短路评估的概念是，当整个语句已经被确定为真或假时，跳过条件语句中布尔表达式的第二部分的评估。</p><p id="2a70" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">因此，检查使语句为真或为假的表达式后面的部分变得没有必要。如果计算结果为真，编译器就跳过它，继续处理语句中的下一行代码，如果计算结果为假，就退出条件语句。</p><h1 id="63d0" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">用JavaScript实现短路评估</h1><p id="3e6e" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">为了实现短路评估，让我们以下面的条件语句为例进行尝试。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="0c6f" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">首先，我们将<code class="fe mo mp mq mr b">isTimeToCode</code>和<code class="fe mo mp mq mr b">needsCoffee</code>变量都设置为真。现在，在表达式中，我们包含了<code class="fe mo mp mq mr b">!</code>(读作逻辑非运算符)，使我们的<code class="fe mo mp mq mr b">isTimeToCode</code>变量指向false而不是true。由于我们的布尔表达式<code class="fe mo mp mq mr b">(!isTimeToCode &amp;&amp; needsCoffee)</code>现在说的是假和真，而不是真和真，表达式的<code class="fe mo mp mq mr b">needsCoffee</code>部分将被跳过，因为没有必要检查它，因为条件无论如何都会评估为假。<em class="ms">所以看起来我们今天不会煮咖啡和编码了！:(</em></p><h1 id="ec5f" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">通过短路评估避免错误</h1><p id="2efe" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">让我们来看一个更复杂的例子，看看短路评估在什么情况下会真正派上用场。</p><p id="e677" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">例如，我们将这个包含一年中四季名称的Javascript对象。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="eaa2" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">现在以下面的条件语句为例，我们在<code class="fe mo mp mq mr b">seasons</code>对象中检查季节和月份。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="c856" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">既然<code class="fe mo mp mq mr b">"Fall"</code>不在我们的<code class="fe mo mp mq mr b">seasons</code>对象中，你认为这里会发生什么？要投个<code class="fe mo mp mq mr b"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError" rel="noopener ugc nofollow" target="_blank">TypeError</a></code>。</p><pre class="kd ke kf kg gt mt mr mu mv aw mw bi"><span id="215b" class="mx ku in mr b gy my mz l na nb">Uncaught TypeError: Cannot read properties of undefined (reading 'isMonth')</span></pre><p id="97ef" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">在这种情况下，我们可以利用短路评估。让我们修改我们的表达式，首先检查<code class="fe mo mp mq mr b">"Fall"</code>是否在我们的<code class="fe mo mp mq mr b">seasons</code>对象中，然后调用它的<code class="fe mo mp mq mr b">isMonth()</code>方法。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="24ec" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">这里我们使用短路求值，所以如果我们的<code class="fe mo mp mq mr b">seasons</code>不包含<code class="fe mo mp mq mr b">"Fall"</code>，我们将忽略条件的后半部分，避免得到<code class="fe mo mp mq mr b">TypeError</code>。</p><h1 id="104f" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">摘要</h1><p id="e57a" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">短路评估是避免在代码中执行额外的或不必要的任务的有用方法。在某些情况下，它也有助于避免错误，例如试图对一些不存在的数据执行操作。</p><p id="9104" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><em class="ms">关于这个话题的更多信息，请查看我在下面提供的资源。</em></p><ul class=""><li id="c08a" class="nc nd in ln b lo mh lr mi lu ne ly nf mc ng mg nh ni nj nk bi translated"><a class="ae ks" href="https://www.interviewcake.com/concept/javascript/short-circuit-evaluation?course=fc1&amp;section=general-programming" rel="noopener ugc nofollow" target="_blank">短路测评(面试蛋糕)</a></li><li id="98f4" class="nc nd in ln b lo nl lr nm lu nn ly no mc np mg nh ni nj nk bi translated"><a class="ae ks" href="https://www.geeksforgeeks.org/short-circuit-evaluation-in-programming/" rel="noopener ugc nofollow" target="_blank">编程中的短路评估(极客对极客)</a></li><li id="9e01" class="nc nd in ln b lo nl lr nm lu nn ly no mc np mg nh ni nj nk bi translated"><a class="ae ks" href="https://en.wikipedia.org/wiki/Short-circuit_evaluation#:~:text=Short%2Dcircuit%20evaluation%2C%20minimal%20evaluation,the%20expression%3A%20when%20the%20first" rel="noopener ugc nofollow" target="_blank">短路评估(维基百科)</a></li></ul><p id="7e14" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><em class="ms">更多内容请看</em><a class="ae ks" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ln io"><em class="ms">plain English . io</em></strong></a></p></div></div>    
</body>
</html>