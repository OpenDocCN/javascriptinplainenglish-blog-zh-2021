<html>
<head>
<title>How to Use JavaScript Array Map Method with Objects Instead of Arrays?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用对象代替数组使用JavaScript数组映射方法？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-javascript-array-map-method-with-objects-instead-of-arrays-fe6392b59bd8?source=collection_archive---------11-----------------------#2021-11-03">https://javascript.plainenglish.io/how-to-use-javascript-array-map-method-with-objects-instead-of-arrays-fe6392b59bd8?source=collection_archive---------11-----------------------#2021-11-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c48c27add190c0e3676e3ef86a10a834.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*g4-ZpwPgBhjf6Izd"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@wizwow?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Donald Giannatti</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4064" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们希望将对象的对象属性值映射到新值，而不是映射数组值。</p><p id="7ff4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用JavaScript array的<code class="fe lb lc ld le b">map</code>方法来处理对象而不是数组。</p><h1 id="7fae" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">对象.键</h1><p id="018e" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">object.keys</code>方法返回一个JavaScript对象的字符串键数组。</p><p id="a66f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们可以遍历这些键，将属性值映射到它们的新值。</p><p id="6b97" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="cad5" class="mq lg iq le b gy mr ms l mt mu">const obj = {<br/>  a: 1,<br/>  b: 2,<br/>  c: 3<br/>};<br/>for (const key of Object.keys(obj)) {<br/>  obj[key] *= 2<br/>}<br/>console.log(obj)</span></pre><p id="c871" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个包含3个属性的<code class="fe lb lc ld le b">obj</code>对象。</p><p id="8936" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe lb lc ld le b">Object.keys</code>和<code class="fe lb lc ld le b">obj</code>来返回密钥。</p><p id="a6f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们使用for-of循环遍历这些键。</p><p id="cdb0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们就可以用它来做我们想做的事情。</p><p id="8d03" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本例中，我们将每个属性值乘以2。</p><p id="7246" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe lb lc ld le b">obj</code>现在是:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="b165" class="mq lg iq le b gy mr ms l mt mu">{a: 2, b: 4, c: 6}</span></pre><h1 id="16d4" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">Object.keys和reduce</h1><p id="45f8" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们还可以将<code class="fe lb lc ld le b">Object.keys</code>方法与<code class="fe lb lc ld le b">reduce</code>方法结合起来，将对象的属性值映射到新值。</p><p id="3d27" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="070d" class="mq lg iq le b gy mr ms l mt mu">const obj = {<br/>  a: 1,<br/>  b: 2,<br/>  c: 3<br/>};</span><span id="db7c" class="mq lg iq le b gy mv ms l mt mu">const newObj = Object.keys(obj).reduce((result, key) =&gt; {<br/>  result[key] = obj[key] * 2<br/>  return result<br/>}, {})<br/>console.log(newObj)</span></pre><p id="d6dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在由<code class="fe lb lc ld le b">Object.keys</code>返回的字符串键数组上调用<code class="fe lb lc ld le b">reduce</code>。</p><p id="61c4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">reduce</code>回调拥有<code class="fe lb lc ld le b">result</code>对象，这是我们目前拥有的对象。</p><p id="03db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">key</code>有字符串键值。</p><p id="0d19" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到<code class="fe lb lc ld le b">result[key]</code>我们想要的值。</p><p id="a60e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到<code class="fe lb lc ld le b">obj[key]</code>值，并将其乘以2。</p><p id="ea94" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们返回<code class="fe lb lc ld le b">result</code>值。</p><p id="bd7b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个参数被设置为一个对象，因此<code class="fe lb lc ld le b">result</code>的初始值是一个对象。</p><p id="19dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们可以将属性值放入其中。</p><p id="01bf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe lb lc ld le b">newObj</code>的值与前面的示例相同。</p><h1 id="0c1f" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><code class="fe lb lc ld le b">Object.fromEntries and Object.entries</code></h1><p id="8a39" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用<code class="fe lb lc ld le b">Object.fromEntries</code>方法从键-值对的数组中创建一个对象。</p><p id="2230" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用<code class="fe lb lc ld le b">Object.entries</code>返回一个对象的键值对数组。</p><p id="d5d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="50db" class="mq lg iq le b gy mr ms l mt mu">const obj = {<br/>  a: 1,<br/>  b: 2,<br/>  c: 3<br/>};</span><span id="9020" class="mq lg iq le b gy mv ms l mt mu">const newObj = Object.fromEntries(<br/>  Object.entries(obj).map(<br/>    ([key, value]) =&gt; ([key, value * 2])<br/>  )<br/>)<br/>console.log(newObj)</span></pre><p id="5649" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe lb lc ld le b">obj</code>调用<code class="fe lb lc ld le b">Object.entries</code>来获取数组中的键值对。</p><p id="69c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用一个回调函数调用<code class="fe lb lc ld le b">map</code>，这个回调函数析构键值对。</p><p id="b24d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们返回一个键值对数组。</p><p id="1cec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过将该值乘以2来改变它。</p><p id="bc06" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们使用<code class="fe lb lc ld le b">Object.fromEntries</code>从新的键值对数组中创建一个对象。</p><p id="4967" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此<code class="fe lb lc ld le b">newObj</code>是:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="8e03" class="mq lg iq le b gy mr ms l mt mu">{a: 2, b: 4, c: 6}</span></pre><p id="289b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就像我们以前一样。</p><h1 id="e4a4" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="5cd6" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以通过使用JavaScript标准库中一些方便的对象方法将对象属性映射到新值。</p><p id="809f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容尽在</em><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>