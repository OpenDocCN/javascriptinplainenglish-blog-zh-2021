<html>
<head>
<title>React + GSAP: The Perfect Combo for Building Award-Winning Websites 🏆</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React + GSAP:建设获奖网站的完美组合🏆</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-gsap-the-perfect-combo-for-an-award-winning-website-3d44bded4420?source=collection_archive---------4-----------------------#2021-09-24">https://javascript.plainenglish.io/react-gsap-the-perfect-combo-for-an-award-winning-website-3d44bded4420?source=collection_archive---------4-----------------------#2021-09-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2834" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用React和GSAP让你的项目看起来惊艳，给你的访客留下深刻印象。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4252b7dee3f27b425345519f6c74bf62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GmIwxCddWmJviMZnEmpC7w.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@roma_kaiuk?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Roma Kaiuk</a> on <a class="ae kv" href="https://unsplash.com/s/photos/motion-capture?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2047" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为一名<em class="ls">前端web开发人员</em>，我每天定期做的一件事就是让<strong class="ky ir">跟上新的潮流</strong>，还有什么地方比<a class="ae kv" href="https://www.awwwards.com/" rel="noopener ugc nofollow" target="_blank"> Awwwards </a>更好，不会错过任何东西呢？</p><p id="12d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你从未去过awwwards.com，我强烈建议你现在就去看看🌍世界将向你敞开大门！</p><p id="9fbd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">话虽如此，但无可争议的是，<strong class="ky ir">复杂的动画绝对是一种趋势</strong>和<a class="ae kv" href="https://greensock.com/gsap/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">绿袜子</strong> </a>(朋友的<em class="ls"> GSAP </em>)是<strong class="ky ir">允许你用解除武装的简单性</strong>创造它们的工具。</p><p id="df0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将通过为一个旅游博客创建一个<em class="ls">主页，带您了解将GSAP集成到React应用程序中的<strong class="ky ir">基础知识。这是我们将要建造的东西的预览图:</strong></em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e98f15f24c5c7e83cd88e23cb627cbf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*smZFNAjc-2hdzbAvHEwiIg.gif"/></div></div></figure><p id="1e83" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们开始吧，好吗？💪🏼</p><h1 id="3d64" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated"><strong class="ak">设置项目</strong></h1><p id="3bc0" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">如果你想跟随，你可以<strong class="ky ir">下载</strong> <a class="ae kv" href="https://www.dropbox.com/s/4dumqmditx8cvo2/gsap_react-starter_files.zip?dl=0" rel="noopener ugc nofollow" target="_blank">启动文件</a>，否则，<em class="ls">可以随意试验你的代码</em>。</p><p id="7024" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我假设你对<a class="ae kv" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank">的<em class="ls">基本知识</em>反应</a>和<a class="ae kv" href="https://greensock.com/gsap/" rel="noopener ugc nofollow" target="_blank"> GSAP </a>有所了解，如果你还没有，以下是一些很棒的入门指南:</p><ul class=""><li id="7759" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated"><a class="ae kv" href="https://reactjs.org/tutorial/tutorial.html" rel="noopener ugc nofollow" target="_blank">React团队简介</a></li><li id="914b" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><a class="ae kv" href="https://greensock.com/learning/" rel="noopener ugc nofollow" target="_blank">GSAP网站上的学习中心</a></li></ul><p id="cef0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦<strong class="ky ir">下载了项目</strong>并且<strong class="ky ir">解压了zip文件</strong>，在代码编辑器中打开项目。首先，通过在终端运行<code class="fe ne nf ng nh b">yarn</code>来安装纱线卷装。</p><p id="d99f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在所有的包都安装好了，在终端中运行<code class="fe ne nf ng nh b">yarn start</code>来启动React开发服务器，在您的浏览器中，您应该会看到:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/eb1807efcbc345e36c961713bd504d39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EOTqh4LEM_qsDvKLepOQ2w.png"/></div></div></figure><p id="4014" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<em class="ls">启动文件</em>中，你会发现一个<strong class="ky ir">基本反应项目</strong>，没什么太花哨的。</p><p id="3bef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们快速浏览一下<strong class="ky ir">文件夹结构</strong>和<strong class="ky ir">主文件的范围是什么</strong>:</p><ul class=""><li id="f45a" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated">我们的布局有些JSX，</li><li id="cdb1" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">在<code class="fe ne nf ng nh b">src/styles/app.scss</code>中包含了所有必要的样式，</li><li id="7a49" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><code class="fe ne nf ng nh b">src/json/articles.js</code>包含一个常量，带有一些虚拟文章的对象数组，导入并渲染在src/App.js中，</li><li id="5e38" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><code class="fe ne nf ng nh b">src/utils/animations.js</code>和<code class="fe ne nf ng nh b">src/utils/helpers.js</code>是空的，我们以后会需要它们。</li></ul><p id="7de3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了，<em class="ls">我们已经准备好继续阅读这篇文章中关于🧃的精彩部分了！</em></p><h1 id="bbfe" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">用useRef钩子将DOM节点保存在常量中</h1><p id="1881" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在主页上，我们将动画制作<em class="ls">标题</em>、<em class="ls">引用</em>、<em class="ls">两个图片、</em>和<em class="ls">文章卡片</em>。</p><p id="9779" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，我们必须首先<strong class="ky ir">将每个元素的DOM节点</strong>保存在一个常量中:这是可能的，因为<code class="fe ne nf ng nh b">useRef</code>钩子返回了一个<strong class="ky ir">可变ref对象</strong>，其<code class="fe ne nf ng nh b">.current</code>属性被初始化为传递的参数(<code class="fe ne nf ng nh b">initialValue</code>)。返回的对象<strong class="ky ir">将持续组件</strong>的整个生命周期。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/50d33195aaae721dc92222535db81641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CxJty22wVSnlAqMBKstR6g.jpeg"/></div></div></figure><h2 id="d706" class="nj lu iq bd lv nk nl dn lz nm nn dp md lf no np mf lj nq nr mh ln ns nt mj nu bi translated">1.导入useRef挂钩</h2><p id="31df" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">打开<code class="fe ne nf ng nh b">App.js</code>并在文件顶部导入<code class="fe ne nf ng nh b">useRef</code>挂钩:</p><pre class="kg kh ki kj gt nv nh nw nx aw ny bi"><span id="4750" class="nj lu iq nh b gy nz oa l ob oc">import { useRef } from 'react';<!-- --> </span></pre><h2 id="bd20" class="nj lu iq bd lv nk nl dn lz nm nn dp md lf no np mf lj nq nr mh ln ns nt mj nu bi translated">2.创建常量</h2><p id="7774" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在App函数中，为每个将被动画化的元素创建一个常量，并将所有元素的值设置为<code class="fe ne nf ng nh b">useRef</code>，并将<code class="fe ne nf ng nh b">initialValue</code>设置为<code class="fe ne nf ng nh b">null</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="a801" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">物品卡片</strong>需要特别注意，因为<strong class="ky ir">属性</strong> <code class="fe ne nf ng nh b">.current</code> <strong class="ky ir">的值必须是一个数组</strong>。</p><p id="e31f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这可以通过<strong class="ky ir">将</strong> <code class="fe ne nf ng nh b">.current</code> <strong class="ky ir">设置为空数组</strong> <code class="fe ne nf ng nh b">[]</code>来轻松实现，接下来我将向您展示如何将DOM节点添加到刚刚创建的数组中。</p><pre class="kg kh ki kj gt nv nh nw nx aw ny bi"><span id="267e" class="nj lu iq nh b gy nz oa l ob oc">const articlesRef = useRef(null);<br/>articlesRef.current = [];<!-- --> </span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><h2 id="db23" class="nj lu iq bd lv nk nl dn lz nm nn dp md lf no np mf lj nq nr mh ln ns nt mj nu bi translated">3.传递ref标签对象以作出反应</h2><p id="1c44" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">要传递ref <strong class="ky ir">标签对象</strong>来作出反应，请使用<code class="fe ne nf ng nh b">&lt;div ref={myRef}&gt;</code>，以便在DOM节点发生变化时，<code class="fe ne nf ng nh b">.current</code>属性将与该节点相对应。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="f84f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于文章列表，<strong class="ky ir">创建一个可重用的函数</strong>，帮助将DOM节点添加到数组中<strong class="ky ir">。打开<code class="fe ne nf ng nh b">helpers.js</code>并通过以下代码:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="de62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe ne nf ng nh b">App.js</code>中，导入您刚刚创建的函数。</p><p id="a7e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它期望作为参数<strong class="ky ir">的DOM节点</strong>和<strong class="ky ir">的ref常量</strong>，并且应该在文章数组的映射中调用<strong class="ky ir">，如下所示:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><h1 id="6b27" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">🕺🏼是时候采取一些行动了</h1><p id="37b0" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">下面的步骤将使<em class="ls">网站变得栩栩如生</em>。🌺</p><h2 id="6566" class="nj lu iq bd lv nk nl dn lz nm nn dp md lf no np mf lj nq nr mh ln ns nt mj nu bi translated">1.创建补间动画</h2><p id="62a2" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在<code class="fe ne nf ng nh b">animations.js</code>中，为每个区块创建一个<a class="ae kv" href="https://greensock.com/docs/v3/GSAP/Tween" rel="noopener ugc nofollow" target="_blank">补间</a>或<a class="ae kv" href="https://greensock.com/docs/v3/GSAP/Timeline" rel="noopener ugc nofollow" target="_blank">时间线</a>，随意定制它们。</p><p id="5b6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">记得<strong class="ky ir">将GSAP导入到文档</strong>中。😉</p><pre class="kg kh ki kj gt nv nh nw nx aw ny bi"><span id="df11" class="nj lu iq nh b gy nz oa l ob oc">import gsap from 'gsap';</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="bb53" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">为我们想要制作动画<strong class="ky ir">的每个元素</strong>创建一个</strong> <code class="fe ne nf ng nh b">ref</code> <strong class="ky ir">会给我们的代码</strong>增加很多噪声，这可以通过使用GSAP的选择器实用程序<code class="fe ne nf ng nh b">gsap.utils.selector</code> <strong class="ky ir">来避免，就像我在<code class="fe ne nf ng nh b">ImageAnimation</code>中所做的那样，轻松地选择后代元素</strong>。</p><p id="48dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的动画已经准备好摇滚了！🎉</p><h2 id="2551" class="nj lu iq bd lv nk nl dn lz nm nn dp md lf no np mf lj nq nr mh ln ns nt mj nu bi translated">2.轮到useEffectLayout了</h2><p id="14b3" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在<code class="fe ne nf ng nh b">App.js</code>中，导入<code class="fe ne nf ng nh b">useEffectLayout</code>钩子，还有你刚刚创建的动画，不要忘记导入GSAP，你将使用它来创建一个最终的时间线来处理所有单个动画的时间。</p><pre class="kg kh ki kj gt nv nh nw nx aw ny bi"><span id="e956" class="nj lu iq nh b gy nz oa l ob oc">import { useRef, useLayoutEffect } from 'react';<br/>import { articlesAnimation, h1Animation, h2Animation, imageAnimation } from './utils/animations';<br/>import gsap from 'gsap';<!-- --> </span></pre><p id="b6a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<strong class="ky ir">初始化动画</strong>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="8fff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">…然后<strong class="ky ir">就这样</strong>！🏆</p><h1 id="598c" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">🎓结论</h1><p id="ac84" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">GSAP和React会让你的项目<strong class="ky ir">看起来惊艳</strong>和<strong class="ky ir">给你的访客留下深刻印象</strong>！✨</p><p id="f0f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我真心希望这篇文章能帮助你开始了解GSAP并做出反应。</p><p id="ba0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这只是一个<strong class="ky ir">初学者指南</strong>，如果你有任何<em class="ls">疑问</em>或<em class="ls">问题</em>，欢迎<strong class="ky ir">留下评论</strong>，让我知道<strong class="ky ir">你是否想阅读关于这两种技术</strong>的更高级的内容。</p><h1 id="b1d5" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">🔗有用的链接</h1><ul class=""><li id="178d" class="mq mr iq ky b kz ml lc mm lf of lj og ln oh lr mv mw mx my bi translated"><strong class="ky ir"> GitHub资源库:</strong><a class="ae kv" href="https://github.com/GiuliaMalaroda/GreenSock-GSAP-in-React" rel="noopener ugc nofollow" target="_blank">https://github.com/GiuliaMalaroda/GreenSock-GSAP-in-React</a></li><li id="73b5" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">现场版:</strong>【https://gsap-in-react.vercel.app/】T2</li></ul><p id="d1a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容尽在</em><a class="ae kv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">plain English . io</em></strong></a></p></div></div>    
</body>
</html>