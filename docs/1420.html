<html>
<head>
<title>Why are there three ways to declare variables in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中为什么有三种声明变量的方法？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/science-behind-var-let-and-const-in-javascript-53a437dacaba?source=collection_archive---------12-----------------------#2021-03-25">https://javascript.plainenglish.io/science-behind-var-let-and-const-in-javascript-53a437dacaba?source=collection_archive---------12-----------------------#2021-03-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="5aab" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">JavaScript中“var”、“let”和“const”背后的科学</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e187a692377e52dd14dd4e8149530c7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ynowz6sUxxS4wQlM6C1mYg.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@grakozy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Greg Rakozy</a> on <a class="ae ks" href="https://unsplash.com/s/photos/javascript?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a> : Edited by Thushal Kulatlake</figcaption></figure><p id="eb32" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在我的第一篇文章中(见这里的<a class="ae ks" href="https://thushaltk.medium.com/javascript-the-demonic-language-part-01-618c53e8b1a0" rel="noopener"/>)，我们讨论了什么是JavaScript，关于JavaScript的著名历史，关于ES5和ES6的一些基本区别，JavaScript的单线程行为和JavaScript异步行为背后的科学。这些是每个JavaScript开发人员在接触JavaScript之前都应该知道的核心概念。因此，在本文中，我们将讨论变量声明在JavaScript中是如何工作的，以及“var”、“let”和“const”之间的一些关键区别和相似之处。在整篇文章中，你会明白这些是什么意思。</p><p id="836b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">所以让我们开始吧😉。</p><h2 id="dd41" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">“变”、“让”、“常”之美</h2><p id="df22" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">和其他编程语言一样，JavaScript也有一种叫做“变量”的东西。变量只是给一个内存位置(内存中的一个小位置)取一个名字，这样我们就可以用它在内存位置存储数据。例如，在Java编程语言中，变量可以通过使用原始数据类型来声明，如“int”、“float”、“double”、“string”等。所以，如果我们声明一个' int '变量，我们只能在内存空间中存储整数值。</p><p id="a6d8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">令人惊讶的是，在JavaScript中，变量是用原始数据类型声明的<strong class="kv io">而不是</strong>。相反，我们使用“var”、“let”和“const”来声明变量。原因是，由于JavaScript是一种动态编程语言，变量的数据类型将取决于我们在运行时(程序执行)赋予它的任何值。举个例子，如果我们声明一个变量为var x，那么如果我们在运行时给它赋一个整数值，变量x的数据类型就变成了' int '。这在Java中是做不到的，因为它不是一种动态编程语言。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mn"><img src="../Images/64bc450fd2fd17a7d18586c600e3781c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5yPWM4lkuSL_ZYWCuAPeHQ.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">VAR = LET + CONST? 🤔 (image source:- <a class="ae ks" href="https://i.redd.it/fryh34q1kmt31.jpg" rel="noopener ugc nofollow" target="_blank">Reddit </a>)</figcaption></figure><p id="a971" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">所以，我们知道，“var”、“let”和“const”可以用于JavaScript中的变量声明。所以现在你可能会有一个问题，如果JavaScript是一种动态语言，为什么我们使用3种类型的变量声明？我们可以只使用一种变量声明类型。有区别吗？嗯，是的，它是。两者是有区别的。接下来让我们逐一详细讨论。</p><h2 id="8aaa" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">VAR —“我们的老朋友！”</h2><p id="c489" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">在我之前的文章中(你可以在这里访问<a class="ae ks" href="https://medium.com/nerd-for-tech/javascript-the-demonic-language-part-01-618c53e8b1a0" rel="noopener"/>)，我们讨论了ECMAScript 5 (ES5)和ES6，它们是JavaScript语言的基础。因此，在ES6 (ES2015)推出之前，开发人员在JavaScript中使用“var”进行变量声明。“let”和“const”这次没有介绍。因此，到那时，“var”是唯一用于声明变量的关键字。</p><p id="ced9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">作为一些例子，</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="e3c6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">根据用法，使用“var”声明的变量可以是全局范围的<strong class="kv io">或函数范围的</strong>。所以现在你可能会想什么是“范围”呢？简单地说，作用域意味着代码中可以使用变量的区域。如果一个变量是全局作用域的，那么这个变量可以在程序的任何部分使用，如果一个变量是功能性(局部)作用域的，那么它只能在代码的特定区域使用。所以，这些“var”变量可以兼而有之。</p><p id="0660" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">举个例子，我们把作用域当做一个函数。如果“var”变量是在函数外部声明的，那么它的作用域就是全局的。这意味着在函数块外用“var”声明的任何变量都可以在整个程序的任何部分使用。如果“var”变量是在函数中声明的，那么它的作用域就变成了函数性的(局部的)。这意味着它是可用的，并且只能在该函数中访问。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mo mp l"/></div></figure><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="154d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">“var”变量也可以重新声明和更新。</p><p id="cdd6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">那么，为什么“var”声明变得越来越不受欢迎。“var”声明存在一些问题。我们用一个例子来理解一下。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="fa11" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，在上面的例子中，由于“times &gt; 3”条件返回true，所以“greeter”变量将被替换或更新(在编程界，我们称之为“重新定义”)。如果您有意想要重新定义“greeter ”,这并不是问题，但是如果您没有意识到变量“greeter”之前已经定义过了，这就成了问题。如果您在代码的其他部分使用了“greeter ”,您可能会对得到的输出感到惊讶。这将导致你的代码中出现许多错误。这就是为什么使用“let”和“const”是更可取的。</p><h2 id="a656" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">让—“新常态”</h2><p id="2e4c" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">“let”声明是随着2015年ES6的发布而引入的。这个“let”变量由开发人员使用，它消除了“var”声明中的问题，这是目前JavaScript中声明变量的首选方式。</p><p id="bb7b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">【让】是<strong class="kv io">块的范围。</strong>块是由两个花括号{}限定的一段代码。花括号内的任何内容都是一个块。因此，在带有“let”in的块中声明的变量只能在该块中使用。让我们看一个例子。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="d400" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，正如您在上面的示例中看到的，if条件内的console.log语句将显示“改为say hello条件外的console.log语句将显示为“hello is not defined”。这是因为“hello”变量不能在if块之外访问，因为它是块范围的。</p><p id="5c1c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">“let”可以更新，但不能重新声明。就像“var”一样，用“let”声明的变量可以在其作用域内更新。与“var”不同，“let”变量不能在其作用域内重新声明。</p><p id="8573" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">所以，下面就行了。</p><pre class="kd ke kf kg gt mq mr ms mt aw mu bi"><span id="046e" class="lp lq in mr b gy mv mw l mx my">let greeting = “say hi”;</span><span id="713e" class="lp lq in mr b gy mz mw l mx my">greeting = “say hello instead”;</span></pre><p id="4966" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">下面将返回一个错误。</p><pre class="kd ke kf kg gt mq mr ms mt aw mu bi"><span id="2d94" class="lp lq in mr b gy mv mw l mx my"><em class="na">let greeting = “say hi”;</em></span><span id="92f8" class="lp lq in mr b gy mz mw l mx my"><em class="na">let greeting = “say hello instead”;</em></span></pre><p id="7ed1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是，如果在不同的作用域中定义了同一个变量，则不会出现错误。这两种情况被视为不同的变量。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mo mp l"/></div></figure><h2 id="f108" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">CONST—“我是不可避免的！”</h2><p id="2981" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">这也是ES6规范和“let”一起引入的。“let”和“const”的区别在于，在“const”中，我们维护常量值(不变的值)。</p><p id="a805" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">“Const”也像“let”一样在<strong class="kv io">块范围</strong>内。但是“const”不能更新或重新声明。如果我们声明一个变量为“const”，下面就做不到了。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="31df" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">所以，每一个“const”声明，都必须在声明的时候初始化。</p><p id="2043" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对于用“const”声明的对象，这种行为有些不同。🤔虽然不能更新“const”对象，但可以更新该对象的属性。这意味着我们不能向对象添加新的属性，但是我们可以更新现有的属性。下面是一个“const”对象。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mo mp l"/></div></figure><h2 id="a853" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated">结论</h2><p id="9459" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">这就是“var”、“let”和“const”背后令人惊叹的科学。一定要练习编码，这会让你势不可挡。感谢您的阅读，我希望您发现这是有用的。请继续关注更多类似的文章。在那之前，</p><p id="f37f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">和平。✌😉</p></div></div>    
</body>
</html>