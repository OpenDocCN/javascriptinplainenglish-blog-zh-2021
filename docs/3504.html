<html>
<head>
<title>How to Use Prop-Types in Your Next React App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在下一个React应用中使用道具类型</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-prop-types-in-your-next-react-app-894d55767ec3?source=collection_archive---------16-----------------------#2021-07-14">https://javascript.plainenglish.io/how-to-use-prop-types-in-your-next-react-app-894d55767ec3?source=collection_archive---------16-----------------------#2021-07-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="b798" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">今天，我们将看看在React应用程序中使用道具类型是多么容易。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/b5eb0fd7aa11080e4530fbe9c8e6e27f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*Utf4Wl19JVXsM7IvR6Nt1w.png"/></div></figure><p id="d531" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Prop-Types是一个有用的包，可以添加到任何不使用TypeScript的普通React应用程序中。他们将为代码库提供的价值将有益于项目，尤其是那些将增长和扩展的项目。像更容易的测试和自动完成这样的事情将会是这个包提供的巨大好处。</p></div><div class="ab cl kq kr hr ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ig ih ii ij ik"><h1 id="22f3" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">我们开始吧</h1><p id="fb83" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">我们将通过几个不同的例子来说明如何在React项目中使用Prop-type。首先，我想说我将展示的只是道具类型的皮毛。关于使用道具类型的不同方法的更多细节，你可以查看下面的链接。</p><div class="ma mb gp gr mc md"><a href="https://www.npmjs.com/package/prop-types" rel="noopener  ugc nofollow" target="_blank"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd io gy z fp mi fr fs mj fu fw im bi translated">道具类型</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">React props和类似对象的运行时类型检查。您可以使用prop-types来记录预期的…类型</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">www.npmjs.com</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr ko md"/></div></div></a></div><p id="04df" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ms">关于所有这些例子，请注意:Prop-Types是一个在运行时检查React组件的属性类型的库，这意味着Prop-Types不会阻止代码编译，并且当您检查页面时，错误消息不会显示在您的代码编辑器(例如VS代码)中，而是显示在浏览器的控制台中。</em></p><p id="62e3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以，事不宜迟，让我们来看看几个常见的用例。</p><h2 id="b6c0" class="mt ky in bd kz mu mv dn ld mw mx dp lh jv my mz ll jz na nb lp kd nc nd lt ne bi translated">示例1:一个组件有两个道具(一个可选，一个必需)</h2><p id="b996" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">这可能是你会遇到的最常见的用例。您需要将一些简单的数据(原始类型)传递给React组件。在下面的代码中，我们将在道具类型中定义几个道具。其中一个将是可选的<em class="ms">布尔</em>道具，而另一个将是必需的<em class="ms">字符串</em>道具。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="d4f4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的代码中有一些需要注意的地方。首先，你会注意到我将<code class="fe nh ni nj nk b">isVisible</code>设置为false，这是因为它是可选的，这意味着我们需要考虑什么时候没有东西被传递。在这种情况下，当没有传递任何内容时，我们只是将值设置为false。其次，您会注意到为React组件定义Prop-type是多么简单。我们需要做的就是在PropType1对象上定义一个名为<code class="fe nh ni nj nk b">propTypes</code>的新属性。</p><h2 id="b24b" class="mt ky in bd kz mu mv dn ld mw mx dp lh jv my mz ll jz na nb lp kd nc nd lt ne bi translated">示例2:采用特定结构的JavaScript对象的组件</h2><p id="10db" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">在这个用例中，我们将有一个将对象作为道具的组件。在本例中，该对象将是一个Todo项。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="1d7f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我们为这个组件定义Prop-Types时，您会注意到我使用了Prop-Types附带的一个方法。这个方法叫做<code class="fe nh ni nj nk b">exact</code>，它允许我们通过将一个对象作为参数传递给<code class="fe nh ni nj nk b">exact</code>方法来定义对象的形状。我们做的和以前非常相似，除了现在PropTypes检查嵌套在我们对象的exact方法中。</p><h2 id="2734" class="mt ky in bd kz mu mv dn ld mw mx dp lh jv my mz ll jz na nb lp kd nc nd lt ne bi translated">示例3:一个将JavaScript函数作为道具的组件</h2><p id="926a" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">设置Prop-Types来期望一个函数作为Prop与任何其他JavaScript原始类型没有什么不同。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="1fb7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">到目前为止，这与我们对Prop-type所做的任何事情的语法是相同的，但是我认为这很重要，因为在React中将函数向下传递给组件是非常常见的。</p></div><div class="ab cl kq kr hr ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ig ih ii ij ik"><h1 id="4ada" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">代码</h1><p id="9e49" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">所有这些例子的完整代码可以在下面的CodeSandbox中找到。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl ng l"/></div></figure></div><div class="ab cl kq kr hr ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ig ih ii ij ik"><h1 id="1c73" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">附加内容</h1><p id="ea20" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">查看下面的文章，它解释了如何使用TypeScript创建类型安全的React组件。</p><div class="ma mb gp gr mc md"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-make-your-react-components-type-safe-with-typescript-63d648d361ef"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd io gy z fp mi fr fs mj fu fw im bi translated">如何使用TypeScript使React组件类型安全</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">您将了解到在React中制作类型安全的组件有多简单，以及这将对编写有多大的帮助…</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mm l"><div class="nm l mo mp mq mm mr ko md"/></div></div></a></div></div><div class="ab cl kq kr hr ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ig ih ii ij ik"><h1 id="b9f3" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">包扎</h1><p id="3a9d" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">prop-type使React中的可测试组件编写得更健壮、更简单。它们可能会增加最初的工作量，但从长远来看是值得的，因为它们有助于制造不容易出错的组件。</p><p id="ea23" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">和往常一样，如果你有任何关于道具类型的问题或顾虑，欢迎留下评论。</p><p id="bd2b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ms">更多内容尽在</em><a class="ae nn" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="ms">plain English . io</em></strong></a></p></div></div>    
</body>
</html>