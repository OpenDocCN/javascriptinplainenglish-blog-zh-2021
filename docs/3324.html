<html>
<head>
<title>How To Build A Slider In React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中构建滑块</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-build-a-slider-in-react-706b08cf9389?source=collection_archive---------15-----------------------#2021-07-06">https://javascript.plainenglish.io/how-to-build-a-slider-in-react-706b08cf9389?source=collection_archive---------15-----------------------#2021-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="6f70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">提高你的反应斩&amp;使用反应斩来斩去。</em></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/8bf491db6afbd191804253aa564f1d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DKLVLo7_SjYsC3ez"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Photo by <a class="ae lc" href="https://unsplash.com/@desertroseco?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Aleisha Kalina</a> on <a class="ae lc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="393b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不，不是上图中的那种滑块，而是一个真正的滑块，你可以从幻灯片0-3中导航。那些看起来确实很好吃。</p><h1 id="99af" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">我们正在建造的东西(你不能吃这些滑块):</h1><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mb"><img src="../Images/7f1080cf05ec7e90ccf13e02b2b7759f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JHSE-Sur2R9_85Jm14OC6w.gif"/></div></div></figure><h1 id="1682" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">让我们来看一下这些步骤:</h1><h2 id="a0a4" class="mc le iq bd lf md me dn lj mf mg dp ln jy mh mi lr kc mj mk lv kg ml mm lz mn bi translated">第一步)</h2><p id="fb11" class="pw-post-body-paragraph jn jo iq jp b jq mo js jt ju mp jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">下载<code class="fe mt mu mv mw b">create-react-app</code>开始新项目。</p><h2 id="616e" class="mc le iq bd lf md me dn lj mf mg dp ln jy mh mi lr kc mj mk lv kg ml mm lz mn bi translated">第二步)</h2><p id="808a" class="pw-post-body-paragraph jn jo iq jp b jq mo js jt ju mp jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">再来看<code class="fe mt mu mv mw b">app.js</code>:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="78f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第1-5行是简单的导入，很容易理解。我们导入我们的CSS样式表，我们的3个滑块组件和1个控件组件，按钮将驻留在其中。</p><p id="2b7a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">转到第9行，我们初始化一个名为<code class="fe mt mu mv mw b">currentComponent</code>的状态变量，我们将使用它来跟踪一个计数变量。我们一会儿就来谈这个。</p><p id="96a7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在第11行，我们看到一个名为<code class="fe mt mu mv mw b">slidesArr</code>的数组，在其中我们转储了3个滑块组件。现在有意义了，是吗？</p><p id="0016" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第13行给了我们一个名为<code class="fe mt mu mv mw b">countTracker</code>的常量，它只是一个回调函数，接受一个计数值并将该值设置为state。</p><p id="b6ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在第17行，我们呈现了一个react-fragment，它为我们保存了一个额外的DOM节点，在这个节点中，我们调用我们的<code class="fe mt mu mv mw b">slidesArr</code>数组，引用我们在第13行设置为state的计数。</p><p id="f713" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在第18行，我们看到一个标记为<code class="fe mt mu mv mw b">Count</code>的道具被传递到我们的<code class="fe mt mu mv mw b">&lt;Controls /&gt;</code>组件中。这个道具的值就是我们在第13行声明的回调函数。我们将在包含两个按钮——上一个和下一个——的控件组件中调用这个回调。</p><p id="5b20" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您不熟悉将数据从react子组件传递回父组件，您可以在本文中深入阅读:</p><div class="mz na gp gr nb nc"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-pass-props-from-child-to-parent-component-in-react-d90752ff4d01"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd ir gy z fp nh fr fs ni fu fw ip bi translated">如何在React中将道具从子组件传递到父组件</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">学习这个简洁的小技巧，将大块的道具传递回组件树！</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nl l"><div class="nm l nn no np nl nq kw nc"/></div></div></a></div><h2 id="fe2b" class="mc le iq bd lf md me dn lj mf mg dp ln jy mh mi lr kc mj mk lv kg ml mm lz mn bi translated">第三步)</h2><p id="e3b5" class="pw-post-body-paragraph jn jo iq jp b jq mo js jt ju mp jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">让我们创建3个滑块组件(它们都有相同的代码):</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mx my l"/></div></figure><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mx my l"/></div></figure><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mx my l"/></div></figure><h2 id="4831" class="mc le iq bd lf md me dn lj mf mg dp ln jy mh mi lr kc mj mk lv kg ml mm lz mn bi translated">第四步)</h2><p id="efbb" class="pw-post-body-paragraph jn jo iq jp b jq mo js jt ju mp jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">创建将容纳我们的两个按钮——上一个和下一个——的控件组件:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="9c5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在第1行，我们为<code class="fe mt mu mv mw b">useEffect</code>和<code class="fe mt mu mv mw b">useState</code>做了标准导入，但是请注意，我们还导入了一个名为<code class="fe mt mu mv mw b">useRef</code>的钩子。这个钩子将允许我们在react中定位DOM节点。由于react使用虚拟DOM，使用<code class="fe mt mu mv mw b">document.getElementsByClassName</code>定位HTML元素有时会有点棘手，而且react文档鼓励使用<code class="fe mt mu mv mw b">refs</code>。</p><p id="a94c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在某些情况下，你可以使用<code class="fe mt mu mv mw b">ReactDOM.findDOMNode(component)</code>，所以你应该好好研究一下。在本文中，我们使用的是<code class="fe mt mu mv mw b">refs</code>,所以我们现在就坚持使用它。继续前进。</p><p id="21a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在第5行，我们为<code class="fe mt mu mv mw b">count</code>设置了初始状态变量，从第6–7行，我们创建了2个refs——一个用于我们的增量，另一个用于我们的减量按钮。</p><p id="c73b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从第9行到第15行，每次组件安装和/或计数更新时，我们都会计算一些逻辑。通过将<code class="fe mt mu mv mw b">count</code>变量传入第15行的依赖数组，我们告诉react在每次<code class="fe mt mu mv mw b">count</code>变量的值改变时重新计算useEffect内部的逻辑。</p><p id="beb2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">我们的逻辑如下:</em> </strong></p><p id="4de6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们的计数大于或等于0 <strong class="jp ir">和</strong>如果我们的计数值小于3:</p><ul class=""><li id="ca86" class="nr ns iq jp b jq jr ju jv jy nt kc nu kg nv kk nw nx ny nz bi translated">第11行——从props调用回调函数并传入<code class="fe mt mu mv mw b">count</code>,以便我们的<code class="fe mt mu mv mw b">App.js</code>可以继承计数值。</li><li id="dfc1" class="nr ns iq jp b jq oa ju ob jy oc kc od kg oe kk nw nx ny nz bi translated">第12行—如果<code class="fe mt mu mv mw b">count</code>大于0，我们启用递减按钮，因为此时计数为1或2。否则，禁用减量按钮。</li><li id="562a" class="nr ns iq jp b jq oa ju ob jy oc kc od kg oe kk nw nx ny nz bi translated">第13行—如果我们的<code class="fe mt mu mv mw b">count</code>变量的值是2，(我们在最后一张幻灯片)，禁用增量按钮，否则启用它。</li></ul><p id="6287" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">转到第17 &amp; 18行，我们看到两个隐式的返回函数，它们或者递减或者递增，并将值设置为state。</p><p id="43ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在第22 &amp; 23行，我们看到两个<code class="fe mt mu mv mw b">onClick</code>处理程序连接到每个元素。<strong class="jp ir">上一个</strong>按钮有来自17号线的功能<code class="fe mt mu mv mw b">handleDecrement</code>与之相连&amp;下一个<strong class="jp ir">按钮有来自18号线的功能<code class="fe mt mu mv mw b">handleIncrement</code>与之相连。</strong></p><p id="e349" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，这里是CSS:</p><p id="275e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lc" href="https://gist.github.com/pjcodesjs/ec954f89fd83468586ec9b17d0d3236e" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/pjcodesjs/EC 954 f 89 FD 83468586 EC 9 b 17d 0d 3236 e</a></p><h2 id="2406" class="mc le iq bd lf md me dn lj mf mg dp ln jy mh mi lr kc mj mk lv kg ml mm lz mn bi translated">现在，当我们递增或递减时，我们会看到以下内容:</h2><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mb"><img src="../Images/7f1080cf05ec7e90ccf13e02b2b7759f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JHSE-Sur2R9_85Jm14OC6w.gif"/></div></div></figure><h2 id="f0e5" class="mc le iq bd lf md me dn lj mf mg dp ln jy mh mi lr kc mj mk lv kg ml mm lz mn bi translated">紫色啊。</h2><p id="1588" class="pw-post-body-paragraph jn jo iq jp b jq mo js jt ju mp jw jx jy mq ka kb kc mr ke kf kg ms ki kj kk ij bi translated">我们甚至可以使用<code class="fe mt mu mv mw b">setInterval</code>自动增加。</p><p id="f082" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望这有助于你更好地理解react，如果你正在为面试而学习，我建议你也看看这个全面的网络开发面试问题列表，这些问题是你在面试中最有可能被问到的:</p><div class="mz na gp gr nb nc"><a rel="noopener  ugc nofollow" target="_blank" href="/web-development-interview-questions-cheatsheet-2021-65eed8bbc1b2"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd ir gy z fp nh fr fs ni fu fw ip bi translated">网络开发面试问题备忘单，2021</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">133个你肯定会被问到的网络开发面试问题。</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nl l"><div class="of l nn no np nl nq kw nc"/></div></div></a></div><p id="189f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，如果你需要帮助练习面试，写简历或求职信，请随时联系我在pjcodesjs@gmail.com。此外，看看这篇文章，我向你展示了我用来获得亚马逊、苹果和许多其他大型科技公司的前端开发人员面试的简历——希望它能帮助你:</p><div class="mz na gp gr nb nc"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-prepare-a-technical-resume-explained-w-examples-for-freshers-experienced-professionals-442d6ab427aa"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd ir gy z fp nh fr fs ni fu fw ip bi translated">我通过这份简历获得了亚马逊、苹果和其他公司的技术面试</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">在一页上向大人物展示经验和技能是……可能的。</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nl l"><div class="og l nn no np nl nq kw nc"/></div></div></a></div><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/7751922943f2adba4babf29b7c9ec5a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*e2qof3Ucx6i5ZALN6wpCLQ.jpeg"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Meme belongs to PJ Codes.</figcaption></figure><p id="2eea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢阅读！</p><p id="68e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">在</strong>——【Pjcodes.com T2】来找我。</p><p id="a66b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">更多内容尽在</em><a class="ae lc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">plain English . io</em></strong></a></p></div></div>    
</body>
</html>