<html>
<head>
<title>Create an Addition Game with React and JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React和JavaScript创建一个加法游戏</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-an-addition-game-with-react-and-javascript-648b693b390b?source=collection_archive---------13-----------------------#2021-05-06">https://javascript.plainenglish.io/create-an-addition-game-with-react-and-javascript-648b693b390b?source=collection_archive---------13-----------------------#2021-05-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f92ff84bc921ee750e0aebb39f21edff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zg0UoQqAyYnzdCtA"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@directormesut?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mesut Kaya</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="32e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">React是一个易于使用的JavaScript框架，让我们可以创建前端应用程序。</p><p id="497b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用React和JavaScript创建一个加法游戏。</p><h1 id="bcb5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建项目</h1><p id="a1b8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用Create React App创建React项目。</p><p id="5322" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="011e" class="mn lc iq mj b gy mo mp l mq mr">npx create-react-app addition-game</span></pre><p id="5666" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和NPM一起创建我们的React项目。</p><h1 id="c534" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建加法游戏</h1><p id="e01d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了创建加法游戏，我们编写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b951" class="mn lc iq mj b gy mo mp l mq mr">import React, { useState } from "react";</span><span id="d4b6" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const [num1, setNum1] = useState(0);<br/>  const [num2, setNum2] = useState(0);<br/>  const [sum, setSum] = useState(0);<br/>  const [score, setScore] = useState(0);</span><span id="435c" class="mn lc iq mj b gy ms mp l mq mr">  const generateQuestion = () =&gt; {<br/>    setNum1(Math.ceil(Math.random() * 10));<br/>    setNum2(Math.ceil(Math.random() * 10));<br/>  };</span><span id="1d7b" class="mn lc iq mj b gy ms mp l mq mr">  const submit = (e) =&gt; {<br/>    e.preventDefault();<br/>    const formValid = +sum &gt;= 0;<br/>    if (!formValid) {<br/>      return;<br/>    }<br/>    if (+num1 + +num2 === +sum) {<br/>      setScore((score) =&gt; score + 1);<br/>    }<br/>    generateQuestion();<br/>  };</span><span id="5621" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;form onSubmit={submit}&gt;<br/>        &lt;div&gt;<br/>          &lt;label&gt;<br/>            {num1} + {num2}<br/>          &lt;/label&gt;<br/>          &lt;input value={sum} onChange={(e) =&gt; setSum(e.target.value)} /&gt;<br/>        &lt;/div&gt;</span><span id="1982" class="mn lc iq mj b gy ms mp l mq mr">        &lt;button type="submit"&gt;check&lt;/button&gt;<br/>      &lt;/form&gt;<br/>      &lt;button type="button" onClick={generateQuestion}&gt;<br/>        start game<br/>      &lt;/button&gt;<br/>      &lt;p&gt;score: {score}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="5079" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe mt mu mv mj b">useState</code>钩子创建了<code class="fe mt mu mv mj b">num1</code>、<code class="fe mt mu mv mj b">num2</code>、<code class="fe mt mu mv mj b">sum</code>和<code class="fe mt mu mv mj b">score</code>状态。</p><p id="7cae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">num1</code>和<code class="fe mt mu mv mj b">num2</code>是加法题的部分。</p><p id="1184" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">sum</code>有我们输入的总和。</p><p id="4277" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">score</code>已得分。</p><p id="77fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在此之下，我们用<code class="fe mt mu mv mj b">generateQuestion</code>函数来生成<code class="fe mt mu mv mj b">num1</code>和<code class="fe mt mu mv mj b">num2</code>值。</p><p id="f4b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们打电话</p><p id="a516" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">setNum1</code>和<code class="fe mt mu mv mj b">setNum2</code>进行设置。</p><p id="cdc5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">Math.random</code>创建一个介于0和1之间的随机数。</p><p id="eec3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">Math.ceil</code>向上舍入到最接近的整数。</p><p id="0f02" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们有了<code class="fe mt mu mv mj b">submit</code>函数，它根据<code class="fe mt mu mv mj b">num1</code>和<code class="fe mt mu mv mj b">num2</code>的和来检查<code class="fe mt mu mv mj b">sum</code>的值。</p><p id="ff05" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们进行检查之前，我们调用<code class="fe mt mu mv mj b">e.preventDefault()</code>，这样我们就可以进行客户端提交。</p><p id="a01d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们检查<code class="fe mt mu mv mj b">sum</code>是否是一个大于或等于0的数字。</p><p id="9da0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果是的话，我们就做检查。</p><p id="24fa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果答案与总和匹配，那么我们用<code class="fe mt mu mv mj b">setScore</code>增加分数。</p><p id="67f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过传递一个返回原始的<code class="fe mt mu mv mj b">score</code>加1的回调来增加它。</p><p id="32ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们再次调用<code class="fe mt mu mv mj b">generateQuestion</code>生成下一个问题。</p><p id="3398" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在那下面，我们有一个带有<code class="fe mt mu mv mj b">onSubmit</code>属性的表单。</p><p id="cdaf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">onSubmit</code>点击检查按钮时运行。</p><p id="a8d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在表单中，我们显示了<code class="fe mt mu mv mj b">num1</code>和<code class="fe mt mu mv mj b">num2</code>。</p><p id="9ed8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个接受<code class="fe mt mu mv mj b">sum</code>值的输入，我们通过在<code class="fe mt mu mv mj b">onChange</code>回调中调用<code class="fe mt mu mv mj b">setSum</code>来设置<code class="fe mt mu mv mj b">sum</code>。</p><p id="1f6a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">e.target.value</code>有输入值。</p><p id="f130" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在那下面，我们有开始游戏按钮，当我们点击它时会调用<code class="fe mt mu mv mj b">generateQuestion</code>。</p><p id="ff3f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们展示下面的<code class="fe mt mu mv mj b">score</code>。</p><h1 id="cbf5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="89fa" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用React和JavaScript轻松创建一个加法游戏。</p><p id="19a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容尽在</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>