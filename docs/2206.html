<html>
<head>
<title>How to Copy a JavaScript Array by its Values</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何通过值复制JavaScript数组</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-copy-a-javascript-array-by-its-values-4c82111afb9?source=collection_archive---------17-----------------------#2021-05-08">https://javascript.plainenglish.io/how-to-copy-a-javascript-array-by-its-values-4c82111afb9?source=collection_archive---------17-----------------------#2021-05-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/aa9c3497e6d0b8b06aada113885b339c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hlvE1FBsEvkxd29x"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jentheodore?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jen Theodore</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0bea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">复制JavaScript数组是我们在应用程序中经常要做的事情。</p><p id="f17c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何通过值来复制JavaScript数组。</p><h1 id="1ccb" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数组.原型.切片</h1><p id="404c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用JavaScript数组实例中可用的<code class="fe me mf mg mh b">slice</code>方法。</p><p id="9922" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="228d" class="mq lc iq mh b gy mr ms l mt mu">const oldArray = [1, 2, 3, 4, 5];<br/>const newArray = oldArray.slice();<br/>console.log(newArray);</span></pre><p id="c1a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果没有参数传入，<code class="fe me mf mg mh b">slice</code>方法返回它所调用的数组的副本。</p><h1 id="7d3b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">传播算子</h1><p id="7197" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">将一个数组的条目复制到另一个数组的另一种方法是使用spread运算符。</p><p id="7abb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是从ES6开始提供的。</p><p id="73b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6a35" class="mq lc iq mh b gy mr ms l mt mu">const oldArray = [1, 2, 3, 4, 5];<br/>const newArray = [...oldArray];<br/>console.log(newArray);</span></pre><p id="832b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用spread操作符将所有项目从<code class="fe me mf mg mh b">oldArray</code>复制到<code class="fe me mf mg mh b">newArray</code>。</p><p id="b234" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以<code class="fe me mf mg mh b">newArray</code>就是<code class="fe me mf mg mh b">oldArray</code>的翻版。</p><h1 id="6793" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数组.原型.串联</h1><p id="6de1" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们也可以使用<code class="fe me mf mg mh b">concat</code>方法将一个数组复制到一个新的数组中。</p><p id="923f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f4e2" class="mq lc iq mh b gy mr ms l mt mu">const oldArray = [1, 2, 3, 4, 5];<br/>const newArray = [].concat(oldArray);<br/>console.log(newArray);</span></pre><p id="9670" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">concat</code>返回它所调用的数组，并将该数组作为参数传递给它。</p><p id="84dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a5fc" class="mq lc iq mh b gy mr ms l mt mu">const oldArray = [1, 2, 3, 4, 5];<br/>const newArray = oldArray.concat();<br/>console.log(newArray);</span></pre><p id="fc63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它也返回一个<code class="fe me mf mg mh b">oldArray</code>的副本。</p><h1 id="2c44" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">JSON.stringify和JSON.parse</h1><p id="3d89" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">JSON.stringify</code>和<code class="fe me mf mg mh b">JSON.parse</code>来复制一个数组。</p><p id="c8b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b0a0" class="mq lc iq mh b gy mr ms l mt mu">const oldArray = [1, 2, 3, 4, 5];<br/>const newArray = JSON.parse(JSON.stringify(oldArray));<br/>console.log(newArray);</span></pre><p id="e885" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">JSON.stringify</code>将<code class="fe me mf mg mh b">oldArray</code>转换成一个JSON字符串。</p><p id="9280" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们使用<code class="fe me mf mg mh b">JSON.parse</code>将JSON字符串转换回数组。</p><p id="7a11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将返回值赋给<code class="fe me mf mg mh b">newArray</code>。</p><h1 id="ca99" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数组. from</h1><p id="d5b9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">另一种复制数组的方法是使用<code class="fe me mf mg mh b">Array.from</code>方法。</p><p id="a2f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">方法让我们从其他数组或类似数组的对象中创建一个数组。</p><p id="81bf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要用它来复制一个数组，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5d64" class="mq lc iq mh b gy mr ms l mt mu">const oldArray = [1, 2, 3, 4, 5];<br/>const newArray = Array.from(oldArray);<br/>console.log(newArray);</span></pre><p id="a316" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只需将想要复制的数组传入方法，它就会被复制。</p><h1 id="57f3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">洛达什</h1><p id="5bb9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Lodash有<code class="fe me mf mg mh b">clone</code>方法来做一个对象的浅层克隆。</p><p id="02e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它也有<code class="fe me mf mg mh b">cloneDeep</code>方法来做一个对象的深度克隆。</p><p id="b5b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用任何一个来复制一个数组。</p><p id="3875" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="025e" class="mq lc iq mh b gy mr ms l mt mu">const oldArray = [1, 2, 3, 4, 5];<br/>const newArray = _.clone(oldArray)<br/>console.log(newArray);</span></pre><p id="6c14" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="cfbb" class="mq lc iq mh b gy mr ms l mt mu">const oldArray = [1, 2, 3, 4, 5];<br/>const newArray = _.cloneDeep(oldArray)<br/>console.log(newArray);</span></pre><p id="1b3f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">复制<code class="fe me mf mg mh b">oldArray</code>并将其分配给<code class="fe me mf mg mh b">newArray</code>。</p><h1 id="e489" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="6697" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">使用JavaScript的标准库，有很多方法可以将一个数组复制到另一个数组中。</p><p id="208f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以用Lodash做同样的事情。</p><p id="35ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>