<html>
<head>
<title>Using HTML5 Local Storage vs. Session Storage</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用HTML5本地存储与会话存储</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/using-html5-local-storage-vs-session-storage-2156514d18ee?source=collection_archive---------11-----------------------#2021-12-28">https://javascript.plainenglish.io/using-html5-local-storage-vs-session-storage-2156514d18ee?source=collection_archive---------11-----------------------#2021-12-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6392b6003932a0e87b942ea815f1ca52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5X9H64953lDqZGx8"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@carsonmasterson?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Carson Masterson</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6627" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于现代浏览器，至少提供了两种用于少量文本数据的客户端存储。</p><p id="ca08" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个是本地存储，另一个是会话存储。</p><p id="3324" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们在我们的JavaScript web应用程序中有不同的用途。</p><p id="6757" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看它们之间的区别。</p><p id="db92" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还会看看如何在JavaScript代码中使用它们。</p><h1 id="18ef" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">本地存储和会话存储之间的差异</h1><p id="afe4" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">本地存储和会话存储服务于不同的目的。</p><p id="cfaf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本地存储允许我们存储数据，直到它们被删除。</p><p id="1a93" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们留在这个领域。</p><p id="2411" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和将来对该站点的所有访问都是可用的。</p><p id="1bd6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">会话存储更改仅适用于每个选项卡。</p><p id="ca16" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所做的更改只有在该选项卡关闭后才可用。</p><p id="5329" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦关闭，存储的数据将被删除。</p><h1 id="ec99" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用本地存储</h1><p id="b7a0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要使用本地存储，我们可以调用<code class="fe me mf mg mh b">localStorage</code>方法中的方法来获取和设置数据。</p><p id="f975" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要添加数据，我们调用<code class="fe me mf mg mh b">localStorage.setItem</code>方法，该方法分别接受一个字符串键和相应的值。</p><p id="1fbe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">键和值都应该是字符串。</p><p id="02e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果它们不是字符串，那么它们将被转换成字符串。</p><p id="490b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了得到数据，我们用这个键调用<code class="fe me mf mg mh b">localStorage.getItem</code>。</p><p id="bec3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回对应于给定键的值。</p><p id="d08b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且为了清除所有本地存储数据，我们调用<code class="fe me mf mg mh b">localStorage.clear</code>。</p><p id="8399" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要用给定的键删除本地存储项，我们调用<code class="fe me mf mg mh b">localStorage.removeItem</code>。</p><p id="7860" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以这样使用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1314" class="mq lc iq mh b gy mr ms l mt mu">localStorage.setItem('foo', 'bar')<br/>console.log(localStorage.getItem('foo'))</span></pre><p id="9792" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">'foo'</code>是键，<code class="fe me mf mg mh b">'bar'</code>是对应的值。</p><p id="c732" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过编写以下内容来删除带有<code class="fe me mf mg mh b">removeItem</code>的项目:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5c29" class="mq lc iq mh b gy mr ms l mt mu">localStorage.setItem('foo', 'bar')<br/>localStorage.removeItem('foo')<br/>console.log(localStorage.getItem('foo'))</span></pre><p id="0a94" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getItem</code>应该返回<code class="fe me mf mg mh b">null</code>，因为我们用键<code class="fe me mf mg mh b">'foo'</code>删除了条目。</p><p id="a611" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以调用<code class="fe me mf mg mh b">clear</code>来清除所有本地存储条目:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a1f7" class="mq lc iq mh b gy mr ms l mt mu">localStorage.setItem('foo', 'bar')<br/>localStorage.clear()</span></pre><h1 id="2349" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用会话存储</h1><p id="d874" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要操作会话存储，我们只需用<code class="fe me mf mg mh b">sessionStorage</code>移除<code class="fe me mf mg mh b">localStorage</code>。</p><p id="18c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="05a7" class="mq lc iq mh b gy mr ms l mt mu">sessionStorage<!-- -->.setItem('foo', 'bar')<br/>console.log(<!-- -->sessionStorage<!-- -->.getItem('foo'))</span></pre><p id="6c7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe me mf mg mh b">setItem</code>将项目添加到会话存储器中</p><p id="eeb4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">'foo'</code>是键，<code class="fe me mf mg mh b">'bar'</code>是相应的值。</p><p id="cf1a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以通过编写以下内容来删除带有<code class="fe me mf mg mh b">removeItem</code>的项目:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9819" class="mq lc iq mh b gy mr ms l mt mu">sessionStorage<!-- -->.setItem('foo', 'bar')<br/>sessionStorage<!-- -->.removeItem('foo')<br/>console.log(<!-- -->sessionStorage<!-- -->.getItem('foo'))</span></pre><p id="2e82" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">getItem</code>应该会返回<code class="fe me mf mg mh b">null</code>，因为我们删除了带有关键字<code class="fe me mf mg mh b">'foo'</code>的条目。</p><p id="56ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以调用<code class="fe me mf mg mh b">clear</code>来清除所有的会话存储条目:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="398a" class="mq lc iq mh b gy mr ms l mt mu">sessionStorage<!-- -->.setItem('foo', 'bar')<br/>sessionStorage<!-- -->.clear()</span></pre><h1 id="f90f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="247b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用本地存储或会话存储来存储少量的文本数据。</p><p id="e123" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本地存储数据在被删除之前会一直保存，并在整个站点中可用。</p><p id="c84e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">会话存储数据仅在当前选项卡中可用，并在选项卡关闭后被删除。</p><p id="f326" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容看</em> <a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mv">说白了. io </em> </a> <em class="mv">。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mv">免费每周简讯</em> </a> <em class="mv">。在我们的</em> <a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="mv">社区</em> </a> <em class="mv">获得独家写作机会和建议。</em></p></div></div>    
</body>
</html>