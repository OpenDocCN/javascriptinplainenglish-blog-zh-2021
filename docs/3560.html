<html>
<head>
<title>JavaScript Date Object: LOCALE Methods to FORMAT the Date String</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript Date对象:格式化日期字符串的区域设置方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-date-object-locale-methods-to-format-the-date-string-5e3be8343db5?source=collection_archive---------2-----------------------#2021-07-17">https://javascript.plainenglish.io/javascript-date-object-locale-methods-to-format-the-date-string-5e3be8343db5?source=collection_archive---------2-----------------------#2021-07-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="ca0a" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">JavaScript中日期对象的基础知识第5部分:如何使用地区格式方法</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/3202364eef51d5d80130c0197bc26535.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fmp-3SPxjPF_cglG1SC0nA.png"/></div></div></figure><p id="e12d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这篇文章是我的免费YouTube系列关于网络开发基础知识的抄本。如果你更喜欢看而不是读，请随时访问我的频道“Dev Newbs”。T3】</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ll lm l"/></div></figure><p id="260b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">开发者朋友们好！这将是我们一起揭开内置Javascript对象日期的深层秘密的最后一次旅行。我将解释最后3种方法，它们允许我们根据客户端浏览器的地区进一步指定日期输出的格式。我们开始吧。</p><p id="13cb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">第一个方法的名称是toLocaleString()，它返回一个带有日期的语言敏感表示的字符串。</p><p id="1ce2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们已经接触到相当新的参数“locale”和“options ”,它们使得为了给定语言的格式约定而指定语言成为可能。</p><p id="9809" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">该方法有两个输入参数。第一个是名为“locale”的字符串，第二个是名为“options”的对象，用于保存个人设置。</p><p id="addf" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">该方法的返回值当然是根据所提供的特定于语言的约定格式化的日期字符串。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="50b8" class="ls lt in lo b gy lu lv l lw lx">// default format of toString() method<br/>console.log(new Date());<br/>// Sat Jul 17 2021 22:10:00 GMT+0200 (stredoeurópsky letný čas)</span><span id="6d7c" class="ls lt in lo b gy ly lv l lw lx">// default locale of my browser, which is Slovak<br/>console.log(new Date().toLocaleString());<br/>// 17. 7. 2021, 22:10:00</span><span id="7db4" class="ls lt in lo b gy ly lv l lw lx">// British English uses day-month-year order and 24-hour time without AM/PM<br/>console.log(new Date().toLocaleString('en-GB', { timeZone: 'UTC' }));<br/>// 17/07/2021, 20:10:00</span><span id="040e" class="ls lt in lo b gy ly lv l lw lx">// US English uses month-day-year order and 12-hour time with AM/PM<br/>console.log(new Date().toLocaleString('en-US', { timeZone: 'UTC' }));<br/>// 7/17/2021, 8:10:00 PM</span></pre><p id="ebff" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果未指定任何区域设置，则使用默认区域设置。对我来说，它是“sk-SK”，这是斯洛伐克语。它有自己的特点，比如日期对象的日期部分的分隔符是点，后跟空格和24小时时间格式。</p><p id="8d6c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我想展示的另外两个地方是美国和英国。它们相似，但同时又不同。美国遵循月-日-年的惯例，而世界上大多数国家遵循日-月-年的顺序。另外，美国似乎喜欢用零填充他们的数字，他们更喜欢12小时AM/PM周期，而不是世界其他地区的24小时周期。</p><p id="3ec6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">下面的代码块展示了多个不同地区的默认格式。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="f02c" class="ls lt in lo b gy lu lv l lw lx">// US English uses month-day-year order and 12-hour time with AM/PM<br/>console.log(new Date().toLocaleString('en-US'));<br/>// 7/17/2021, 10:10:00 PM</span><span id="ec5e" class="ls lt in lo b gy ly lv l lw lx">// British English uses day-month-year order and 24-hour time without AM/PM<br/>console.log(new Date().toLocaleString('en-GB'));<br/>// 17/07/2021, 22:10:00</span><span id="9c26" class="ls lt in lo b gy ly lv l lw lx">// Germans use day.month.year order and 24-hour time without AM/PM<br/>console.log(new Date().toLocaleString('de-DE'));<br/>// 17.7.2021, 22:10:00</span><span id="f147" class="ls lt in lo b gy ly lv l lw lx">// Korean uses year-month-day order and 12-hour time with AM/PM<br/>console.log(new Date().toLocaleString('ko-KR'));<br/>// 2021. 7. 17. 오후 10:10:00</span><span id="986b" class="ls lt in lo b gy ly lv l lw lx">// Arabic in most Arabic speaking countries uses real Arabic digits<br/>console.log(new Date().toLocaleString('ar-EG'));<br/>// ١٧‏/٧‏/٢٠٢١, ١٠:١٠:٠٠ م</span></pre><p id="a279" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我选择了5个不同的地方——美国，因为它明显不同于其他大多数地方，英国、德国、韩国和阿拉伯。正如你所看到的，它们都有自己的特点。区域设置的完整列表非常大，包含几十个区域设置，几乎涵盖了世界上的所有语言。</p><p id="c322" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">除了使用区域设置之外，另一种可能性是指定甚至覆盖使用区域设置定义的格式。选项对象有许多不同的属性，允许我们修改结果格式。我选择了其中的一些，并在下一个代码示例中展示了它们。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="1e58" class="ls lt in lo b gy lu lv l lw lx">let options = <br/>{ <br/>    weekday: 'long', <br/>    year: 'numeric', <br/>    month: 'long', <br/>    day: 'numeric',<br/>    hour: '2-digit',<br/>    minute: '2-digit',<br/>    timeZone: 'UTC',<br/>    timeZoneName: 'long'<br/>};</span><span id="2cee" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date().toLocaleString('en-US', options));<br/>// Saturday, July 17, 2021, 08:10 PM Coordinated Universal Time</span><span id="f8cc" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date().toLocaleString('en-GB', options));<br/>// Saturday, 17 July 2021, 20:10 Coordinated Universal Time</span><span id="cfa8" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date().toLocaleString('de-DE', options));<br/>// Samstag, 17. Juli 2021, 20:10 Koordinierte Weltzeit</span><span id="e178" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date().toLocaleString('sk-SK', options));<br/>// sobota 17. júla 2021, 20:10 koordinovaný svetový čas</span></pre><p id="be8d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">其中一些选项指定是将月份输出为数字还是字符串。其他人可以指定时区及其名称或小时周期。有很多选项和组合，但是从我的经验来看，它们在不同的浏览器上仍然没有得到一致的实现。因此，您必须尝试查看特定的属性，并决定是否值得使用该方法的选项，或者自己解析日期并进行必要的更改。</p><p id="705e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">下一个方法名为toLocaleDateString()，它返回一个字符串，该字符串以语言敏感的方式表示该日期的日期部分。它可以像前面的方法一样利用“区域设置”和“选项”。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="4c00" class="ls lt in lo b gy lu lv l lw lx">let optionsDate = <br/>{ <br/>    weekday: 'long', <br/>    year: 'numeric', <br/>    month: 'long', <br/>    day: 'numeric'<br/>};</span><span id="390e" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date().toLocaleDateString());<br/>// 17. 7. 2021</span><span id="bc8f" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date().toLocaleDateString('en-US'));<br/>// 7/17/2021</span><span id="a85a" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date().toLocaleDateString('en-GB'));<br/>// 17/07/2021</span><span id="03c1" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date().toLocaleDateString(undefined, optionsDate));<br/>// sobota 17. júla 2021</span><span id="1566" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date().toLocaleDateString('en-US', optionsDate));<br/>// Saturday, July 17, 2021</span><span id="36b7" class="ls lt in lo b gy ly lv l lw lx">console.log(new Date().toLocaleDateString('en-GB', optionsDate));<br/>// Saturday, 17 July 2021</span></pre><p id="75d5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在这种情况下，您可以获得与toLocaleString()方法完全相同的属性和可能性。然而，只有使用以某种方式修改所提供的日期对象的日期部分的设置部分才有意义。</p><p id="6bf2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最后一个方法是toLocaleTimeString()，它返回一个字符串，其中包含日期时间部分的语言敏感表示。与前两种方法完全一样，这种方法也有可用于进一步修改结果字符串的语言环境和选项。</p><pre class="kd ke kf kg gt ln lo lp lq aw lr bi"><span id="9cf2" class="ls lt in lo b gy lu lv l lw lx">let myTime = new Date(2021, 6, 8, 23, 15, 47);</span><span id="d4d9" class="ls lt in lo b gy ly lv l lw lx">console.log(myTime.toLocaleTimeString());<br/>// 23:15:47</span><span id="6bbf" class="ls lt in lo b gy ly lv l lw lx">console.log(myTime.toLocaleTimeString('en-US'));<br/>// 11:15:47 PM</span><span id="0b70" class="ls lt in lo b gy ly lv l lw lx">console.log(myTime.toLocaleTimeString('en-GB'));<br/>// 23:15:47</span><span id="f45b" class="ls lt in lo b gy ly lv l lw lx">console.log(myTime.toLocaleTimeString('sk-SK', { timeZone: 'CET', timeZoneName: 'long' }));<br/>// 23:15:47 GMT+02:00</span><span id="6917" class="ls lt in lo b gy ly lv l lw lx">console.log(myTime.toLocaleTimeString('en-US', { hour12: false, timeZone: 'GMT' }));<br/>// 21:15:47</span><span id="459e" class="ls lt in lo b gy ly lv l lw lx">console.log(myTime.toLocaleTimeString('en-GB', { hour: '2-digit', minute: '2-digit' }));<br/>// 23:15</span></pre><p id="f559" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们可以指定输出的特定格式和属性，如12或24小时周期，用于显示时间部分。我们还可以使用options属性完全覆盖locale定义的格式。例如，我们可以强制美国地区使用24小时周期来显示时间。当然，可能性还不止于此。天空是极限，但是要小心，因为就像前面的方法一样，这个方法也允许您添加日期对象中与时间部分不完全匹配的部分。</p><p id="6f8a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">就这样，我们结束了。这些都是一个接一个讨论的日期对象方法。现在，您离成为真正的Javascript专家又近了一步。或者，你知道，有点体面的程序员。绝对是那两个中的一个。</p><p id="d498" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但是玩笑归玩笑，如果你能坚持到最后，谢谢你。我希望你学到了新东西。我希望能在下一期Javascript基础系列文章中见到你。这次也许是关于数字？谁知道呢。</p><p id="79e3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lk">更多内容看</em><a class="ae lz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>