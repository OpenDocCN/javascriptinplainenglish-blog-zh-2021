<html>
<head>
<title>Easy Vanilla JavaScript Hack to Prevent Multiple Form Submission from Users</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">防止用户提交多个表单的简单普通JavaScript攻击</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/easy-vanilla-javascript-hack-to-prevent-multiple-form-submission-from-users-9fb9be397e6d?source=collection_archive---------18-----------------------#2021-05-10">https://javascript.plainenglish.io/easy-vanilla-javascript-hack-to-prevent-multiple-form-submission-from-users-9fb9be397e6d?source=collection_archive---------18-----------------------#2021-05-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a4c15fb28b2a60de4e273375962fbfd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3UT96RiGSerzb0cK"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@szolkin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sergey Zolkin</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e10a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">用户倾向于在网站上多次点击表单提交，因为他们不知道自己是否在第一次点击时提交了表单。</p><p id="ac95" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面，我将展示一个简单的普通JavaScript函数，它可以防止用户提交多个表单，并通知用户他们的表单正在加载到下一个进程(例如，结帐，下一页)。</p><p id="fd9e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">此外，这也将增强您对JavaScript的理解，因为其中使用了各种HTML DOM方法。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="8c14" class="lh li in ld b gy lj lk l ll lm">function "functionname"(){</span><span id="dd79" class="lh li in ld b gy ln lk l ll lm">setTimeout(function(){document.getElementById("submitbuttonID").disabled = true;},"time in miliseconds");</span><span id="af14" class="lh li in ld b gy ln lk l ll lm">document.getElementById("submitbuttonID").innerHTML = "please wait page reloading";</span><span id="1c14" class="lh li in ld b gy ln lk l ll lm">}</span><span id="5414" class="lh li in ld b gy ln lk l ll lm">document.getElementById("submitbuttonID").addEventListener('click', "functionname" );</span></pre><p id="335f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">用户使用<code class="fe lo lp lq ld b">setTimeout</code>方法来禁用提交按钮。请注意，当用户单击提交按钮时，这个方法通过使用<code class="fe lo lp lq ld b">addEventListener</code>方法来启动。</p><p id="aee8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe lo lp lq ld b">innerHTML</code>用于将<strong class="kc io">“发送消息”</strong>文本替换为<strong class="kc io">请等待页面重新加载文本</strong>。这通知用户他们的表单已经提交，他们应该等待页面加载。下面是用户点击提交按钮前后的代码片段。</p><figure class="ky kz la lb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lr"><img src="../Images/621d4e6bbe5b88972167d54404ea5e98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5jt12NCnx4xpt3ygKMP4rg.png"/></div></div></figure></div><div class="ab cl ls lt hr lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ig ih ii ij ik"><figure class="ky kz la lb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lz"><img src="../Images/86045c4f7446092af734970339fba9bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tH2RYkeB49ywVR5hvgsV6A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Figure: Before and after image after the user has clicked the submit button.</figcaption></figure><p id="4c15" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">就是这样。就这么简单，同时，您可以了解JavaScript和HTML DOM元素。希望这对普通JavaScript用户有教育意义。</p><p id="5435" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ma">更多内容请看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ma">plain English . io</em></a></p></div></div>    
</body>
</html>