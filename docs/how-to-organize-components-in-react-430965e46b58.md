# 如何在 React 中组织组件

> 原文：<https://javascript.plainenglish.io/how-to-organize-components-in-react-430965e46b58?source=collection_archive---------9----------------------->

## 一组基于原子设计原则的非常固执己见的规则，确保您的组件保持有序。

![](img/0683e182aa3fd53b326e1a4a9483ea46.png)

这是我在构建 React 应用程序时用来组织组件的规则的快速参考指南。我发现拥有一个定义良好的系统不仅有助于组织，还有助于更好地识别组件如何组合在一起，并最大化代码库的可重用性。

如果你对示例代码、样本库和更多关于原子设计的信息感兴趣，一定要看看这篇文章的扩展版本。

# 内容

*   [应用结构](#2ad7)
*   [原子规则](#257e)
*   [分子规则](#8d21)
*   [生物法则](#e8f5)
*   [模板规则](#e34c)
*   [页面规则](#bc37)
*   [路线规则](#10e3)

# 应用程序结构

当我最初创建 React 应用程序时，我将所有代码放在一个`/src`文件夹中。`/src/components`文件夹包含所有 React 组件，这些组件被分成五个原子设计类别:原子、分子、有机体、模板和页面。方便的是，这些已经按照从最小到最大的概念元素的字母顺序排列了！

我建议将`/routes`文件夹(可能会有不同的命名，比如在 Next.js 中，*也会被命名为`pages`)与`/components/pages`分开，以便将页面 UI 代码与应用程序路由代码分开。*

```
/..
--/node_modules
--/public
--/src
--|-/components
--|-|-/atoms
--|-|-/molecules
--|-|-/organisms
--|-|-/templates
--|-|-/pages
--|-/routes
--|-/styles
--|-/utility
--|-/etc...
```

***事不宜迟，如何决定哪些组件该放在哪里🤔***

# 原子规则

原子是最基本的组件，尽可能的普通。思考按钮、输入或格式化的标题文本:

*   它不应构成其他组件/仅使用[本地元素](https://developer.mozilla.org/en-US/docs/Web/HTML/Element)或类似于本地元素的特定于框架的组件
*   可以有自己的标记和样式
*   可以保持自己的内部状态
*   不应该与特定的 UI 或逻辑区域紧密耦合
*   不应直接访问应用程序(或更高级别的)状态
*   不应该有任何与 ui/布局无关的副作用
*   不应实现任何特定于应用程序的业务逻辑

# 分子规则

**分子**组成原子来创建一个更复杂的组件，将自己的标记和样式添加到混合物中。与 atoms 非常相似，但可以想象类似于带有输入、标签和错误验证消息的可重用表单，或者带有标题、副标题和图像的产品卡:

*   它是由一个或多个原子组成的
*   可以有自己的标记和样式
*   可以保持自己的内部状态
*   不应该与特定的 UI 或逻辑区域紧密耦合
*   不应直接访问应用程序(或更高级别的)状态
*   不应该有任何与 ui/布局无关的副作用
*   不应实现任何特定于应用程序的业务逻辑

# 有机体的规则

**有机体**是应用程序的业务逻辑开始出现的地方。它们可能对应于应用程序的特定功能或部分。它们也可能是通用的，但是与应用程序逻辑紧密耦合。数据提取和对应用程序状态的读/写应该主要发生在这里(或者在页面级别)。这可能是整个表单，或者是购物卡的一部分，或者是用户配置文件:

*   它更复杂，由多个原子和/或分子和/或其他有机体组成
*   可以有自己的标记和样式
*   可以获取特定于应用程序的数据
*   可以实现特定于应用程序的业务逻辑
*   可以连接到应用程序(或更高级别的)状态
*   可以与应用程序的特定区域(UI 和/或逻辑)紧密耦合
*   可以通过逻辑分类(功能、页面等)组织到子文件夹中

# 模板规则

一个**模板**是确保你的应用页面一致的一种方式。他们处理创建布局，并使它很容易知道内容或功能的特定区域需要去哪里。创建模板有多种方法。我更喜欢有一个单独的组件，它接受其他组件作为道具，并将这些道具子组件放入特定于布局的标记中:

*   它有利于多种生物的布局
*   可以有自己的标记和样式。
*   能够根据需要接受和传递道具。
*   不应访问应用程序(或更高级别)状态
*   不应该有任何与 ui/布局无关的副作用
*   不应实现任何特定于应用程序的业务逻辑

# 页面规则

页面**是原子设计拼图的最后一块，每一页都将实现一个特定的模板。我喜欢非常简单的页面组件，但是如果你喜欢简单的路线，它们可以更复杂([见下一节](#10e3))。最基本的是，页面只实现一个模板，将正确的子元素分配给正确的模板属性:**

*   它实现了一个特定的模板
*   可以获取特定于应用程序的数据
*   可以实现特定于应用程序的业务逻辑
*   可以连接到应用程序(或更高级别的)状态
*   不应该有自己的标记和样式

# 路线规则

最后**路线**，虽然不是原子设计本身的一部分，但在反应中仍然很重要。除了为您的网站处理路由之外，路由还可以承担页面*可能选择*不执行的任何责任。页面或路由组件中的一个或另一个应该相对简单，另一个应该处理来自数据获取、业务逻辑、应用程序状态等的任何复杂性。

*   它应该处理不是由页面处理的事情
*   可以获取特定于应用程序的数据(如果未在 Pages 中完成)
*   可以实现特定于应用程序的业务逻辑(如果没有在 Pages 中完成)
*   可以连接到应用程序(或更高级别的)状态(如果未在 Pages 中完成)
*   不应该有任何用户界面特定的组件
*   不应该有自己的标记和样式

# 附加详细信息

我已经[围绕这些相同的规则](https://benjaminwfox.medium.com/better-app-organization-with-atomic-design-for-developers-ce1eb4e82f11)写了一篇较长的文章，所以如果你想更深入地了解它在实践中是如何运作的，请继续阅读！

关注我的推特 [@BenjaminWFox](https://twitter.com/BenjaminWFox) 获取更多科技、领导力和其他内容，并与我交流任何想法或问题！

*原为发表于*[*https://benjaminwfox.com*](https://benjaminwfox.com/blog/tech/how-to-organize-components-in-react)*。*