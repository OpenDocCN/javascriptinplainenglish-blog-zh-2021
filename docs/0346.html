<html>
<head>
<title>Stop giving too many parameters to your functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不要给你的函数太多的参数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/stop-giving-too-many-parameters-to-your-functions-a93f6a4d8d9e?source=collection_archive---------7-----------------------#2021-01-20">https://javascript.plainenglish.io/stop-giving-too-many-parameters-to-your-functions-a93f6a4d8d9e?source=collection_archive---------7-----------------------#2021-01-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="437d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">这是一种清理函数参数的方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/287074c43bd82132317adcd89a9c721c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fxill2oN_KD857woQRTSSg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@curology?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Curology</a> on <a class="ae kv" href="https://unsplash.com/s/photos/clean?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0dc4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">函数并将值传递给函数是我们在软件工程生涯中每天都要做的事情。</p><p id="0eb9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这篇文章试图帮助优化函数的参数传递。</p><h1 id="df35" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">场景</h1><p id="eded" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">考虑下面这个函数。这个函数接受四个参数。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="98ba" class="mu lt iq mq b gy mv mw l mx my">function myFunction(employeeName,jobTitle,yrExp,majorExp){<br/> console.log(`Meet ${employeeName}`);<br/> console.log(`He is working as ${jobTitle}`);<br/> console.log(`He has ${yrExp} year of Experience`);<br/> console.log(`He is an expert in ${majorExp}`);<br/>}</span></pre><p id="c697" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将这样调用这个函数</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="a4f4" class="mu lt iq mq b gy mv mw l mx my">myFunction("John","Project Manager",12,"Project Management");</span></pre><p id="4529" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出是:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="2dc0" class="mu lt iq mq b gy mv mw l mx my">Meet John<br/>He is working as Project Manager<br/>He has 12 year of Experience<br/>He is an expert in Project Management</span></pre></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h1 id="5b08" class="ls lt iq bd lu lv ng lx ly lz nh mb mc jw ni jx me jz nj ka mg kc nk kd mi mj bi translated">问题是</h1><h2 id="46f2" class="mu lt iq bd lu nl nm dn ly nn no dp mc lf np nq me lj nr ns mg ln nt nu mi nv bi translated">违反“干净代码”原则</h2><p id="1036" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">这个原则表明一个函数不应该有超过两个参数<strong class="ky ir">。</strong></p><h2 id="bace" class="mu lt iq bd lu nl nm dn ly nn no dp mc lf np nq me lj nr ns mg ln nt nu mi nv bi translated">参数排序很重要</h2><p id="4082" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">如果我们没有按照正确的顺序传递参数，我们可能会出错。</p><p id="10c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="bf54" class="mu lt iq mq b gy mv mw l mx my">myFunction("John","Project Manager","Project Management"); <br/>// Missing experience params</span></pre><p id="06ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出是:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="629b" class="mu lt iq mq b gy mv mw l mx my">Meet John<br/>He is working as Project Manager<br/>He has <strong class="mq ir">Project Management</strong> year of Experience<br/>He is an expert in <strong class="mq ir">undefined</strong></span></pre><p id="d048" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了避免这种情况，你必须做一些像下面这样看起来不标准也不干净的事情。此外，这段代码容易出错。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="f3c8" class="mu lt iq mq b gy mv mw l mx my">myFunction("John","Project Manager",undefined,"Project Management");<br/>// Undefined as experience</span></pre></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h2 id="da7e" class="mu lt iq bd lu nl nm dn ly nn no dp mc lf np nq me lj nr ns mg ln nt nu mi nv bi translated">未使用的参数</h2><p id="b5d9" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">如果你没有使用函数中的任何参数，你的<strong class="ky ir"> ESLint </strong>就会抱怨。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/84188a47bb8185e4937b64a7a6b44c4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EnSWVdcbHWTorasHN_oAwQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">majorExp is declared but not used</figcaption></figure></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h2 id="910c" class="mu lt iq bd lu nl nm dn ly nn no dp mc lf np nq me lj nr ns mg ln nt nu mi nv bi translated">测试边缘案例</h2><p id="f410" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">你必须用每一个单独的论点来测试大量不同的案例。</p><h1 id="c3e1" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">以下是解决方案</h1><p id="fd9a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><strong class="ky ir">创建一个更高级别的对象作为参数。</strong>创建一个更高级别的对象并使用ES2015/ES6 <strong class="ky ir">析构</strong>语法是克服上述问题的好方法。</p><p id="2bc3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">考虑这个<strong class="ky ir"> mockTechPeople </strong>，它将包含我们的函数可能需要的所有必要值。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="da6f" class="mu lt iq mq b gy mv mw l mx my">const mockTechPeople = {<br/>   employeeName:"John",<br/>   jobTitle:"Project Manager",<br/>   yrExp:12,<br/>   majorExp:"Project Management"<br/>}</span></pre><p id="5240" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在将函数重写为</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="b10c" class="mu lt iq mq b gy mv mw l mx my">function myFunction({employeeName,jobTitle,yrExp,majorExp}){<br/>     <br/>     // destructure what value you need !<br/>     <br/>     console.log(`Meet ${employeeName}`);<br/>     console.log(`He is working as ${jobTitle}`);<br/>     console.log(`He has ${yrExp} year of Experience`);<br/>     console.log(`He is an expert in ${majorExp}`);<br/>}</span></pre><p id="3cae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在就这样打电话吧:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="824d" class="mu lt iq mq b gy mv mw l mx my">myFunction(mockTechPeople); // Only One argument</span></pre></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><p id="02ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就这样，我们解决了我们的问题！</p><p id="2bd5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读，我希望你发现这是有用的！</p></div></div>    
</body>
</html>