<html>
<head>
<title>How To Make Your Site 25x Faster With A Few Lines Of Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用几行代码让你的网站速度提高25倍</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-make-your-site-25x-faster-with-a-few-lines-of-code-e13056faac2a?source=collection_archive---------0-----------------------#2021-10-04">https://javascript.plainenglish.io/how-to-make-your-site-25x-faster-with-a-few-lines-of-code-e13056faac2a?source=collection_archive---------0-----------------------#2021-10-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c621" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">疯狂减少数据加载时间。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e2c14dacb6e4711fe95dd21c639fcf27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xVnHTPohp9b0yXq3JQL7Jg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: Author</figcaption></figure><p id="00c5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有机流量是吸引网站眼球的好方法，谷歌是最受欢迎的搜索引擎，你可以用它来获得有机流量。</p><p id="af93" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">虽然谷歌根据很多指标对你的网站进行排名，但是网站加载的速度是关键因素之一。</p><p id="e754" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">加载速度快的网站不仅有利于排名，也有利于整体用户体验。</p><p id="3a0a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">由于大多数开发人员(尤其是独立开发人员)都在使用JavaScript框架，如React和Angular，它们可能会在客户端呈现数据，因此获取数据的速度是开发过程的一个重要方面。</p><p id="92e3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有一个简单的方法可以让你的网站加载更快，那就是<em class="ls">缓存</em>和CDN(内容交付网络)。</p><p id="5c53" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">结合使用这两种方法可以奇迹般地缩短加载第一个字节的时间。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="ae03" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这篇博客中，我将用一个使用<a class="ae lr" href="https://redis.io/topics/introduction" rel="noopener ugc nofollow" target="_blank"> Redis </a>的例子来演示缓存，并解释什么是CDN。</p><p id="7d94" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">缓存，通俗的说就是把你认为可能会经常用到的数据存储到内存中(称为缓存)。</p><p id="df61" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以下一次你需要这些数据时，你要检查它是否存储在内存中，如果没有，你就调用数据库来获取它，并可能把它存储到缓存中以备将来使用。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ma"><img src="../Images/700e71f2e8ac1a0f2ee0316a40f6aa77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C2GI4Ln3jxvM8oQL4IpplA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: Author</figcaption></figure><p id="3ee6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">从上图中可以看出，缓存只是包含数据源和应用程序之间频繁访问的数据的数据结构层。</p><p id="96e7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">并非所有数据都需要缓存。例如，用户的个人设置或不应该缓存在服务器上。但是，您可以将它们存储在客户端的本地存储中，以便更快地访问。</p><p id="07d8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">数据缓存是减少加载时间的最简单的方法之一，同时，您必须明智地选择如何缓存数据。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="181a" class="mb mc iq bd md me mf dn mg mh mi dp mj le mk ml mm li mn mo mp lm mq mr ms mt bi translated">你应该缓存什么？</h2><p id="15a8" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">如前所述，应该缓存频繁访问的数据，以提供快速响应的体验。</p><p id="3b29" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">不同的开发人员有不同的缓存策略，这取决于他们的偏好和需求。如果你想让我介绍各种常见的缓存策略，那就回复一下这篇博客吧。</p><p id="0e97" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下是您应该缓存的项目的一些示例:</p><ol class=""><li id="cfab" class="mz na iq kx b ky kz lb lc le nb li nc lm nd lq ne nf ng nh bi translated">授权和会话令牌</li><li id="279f" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated">不经常更改的登录页面数据(如投资组合网站中的近期项目)。</li><li id="43d6" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated">博客和帖子草稿可以在缓存中存储一段时间，然后在固定的时间后插入到数据库中。</li><li id="c701" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated">实时评论流和分析。</li></ol></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="5b62" class="mb mc iq bd md me mf dn mg mh mi dp mj le mk ml mm li mn mo mp lm mq mr ms mt bi translated">为什么是Redis？</h2><p id="4915" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">尽管您可以自由地使用任何您喜欢的选项，但我强烈建议您至少检查一下Redis。</p><p id="9f7a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Redis是一个开放源代码的内存数据结构存储，它有我们熟悉的数据类型，如列表、字典、字符串、散列等。</p><p id="89f7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它是一个具有扩展功能的键值数据存储，比如设置到期日期的功能。</p><p id="45c8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">根据Stack Overflow 2021调查，Redis是<a class="ae lr" href="https://insights.stackoverflow.com/survey/2021" rel="noopener ugc nofollow" target="_blank">最受欢迎的数据库。</a></p><p id="8a51" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您需要跨多个可用性区域存储数据的持久事务日志，AWS的MemoryDB for Redis是一个很好的选择。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="e4e8" class="mb mc iq bd md me mf dn mg mh mi dp mj le mk ml mm li mn mo mp lm mq mr ms mt bi translated">装置</h2><p id="2495" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">如果你在Linux上，安装Redis非常简单。</p><p id="f9d4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">前往<a class="ae lr" href="https://redis.io/download" rel="noopener ugc nofollow" target="_blank"> Redis下载页面</a>下载最新的稳定版本，或者您可以在您的终端中运行以下命令:</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="59ca" class="mb mc iq no b gy ns nt l nu nv">sudo apt-get install redis</span></pre><p id="2200" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一旦完成Redis的安装，只需输入<code class="fe nw nx ny no b">redis-server</code>就可以启动Redis服务器。该服务器的默认端口是端口6379。</p><p id="bf52" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是，如果您使用的是Windows，则有两种选择。</p><p id="c052" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你可以按照<a class="ae lr" href="https://redis.com/ebook/appendix-a/a-3-installing-on-windows/a-3-2-installing-redis-on-window/" rel="noopener ugc nofollow" target="_blank">简单指南在你的Windows机器上安装一个过时的Redis </a>或者你可以使用<a class="ae lr" href="https://docs.microsoft.com/en-us/windows/wsl/install" rel="noopener ugc nofollow" target="_blank">Windows Subsystem for Linux(WSL)</a>获得最新的Redis。</p><p id="56ba" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我个人选择了WSL方式，它为我创建了一个Ubuntu 20.04系统来安装Redis和任何其他我将来可能需要的包。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="61d9" class="mb mc iq bd md me mf dn mg mh mi dp mj le mk ml mm li mn mo mp lm mq mr ms mt bi translated">使用</h2><p id="7731" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">网上有很多关于如何开始使用Redis的指南，因此我将提供一个Redis如何加速你的网站的演示。</p><p id="d984" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我将创建一个简单的Node.js服务器，它从web上获取一些数据，然后将它们发送给它的客户端，稍后我们将向它添加缓存，并看到巨大的差异。</p><p id="d178" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是一个服务器，它简单地从数据源获取数据，然后将其传递给客户端。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="9e5f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以在下图中看到响应时间:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/3cd99162201ce4b8f3c08e247de7c8e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7PmOBNt6x9egeuUoPZYyoQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: Author. Time taken is 1301ms.</figcaption></figure><p id="5285" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在我们将使用Redis实现缓存。</p><p id="78b9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">首先，我们需要一个npm包。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="4a41" class="mb mc iq no b gy ns nt l nu nv">npm i --save redis</span></pre><p id="0d14" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一旦安装完毕，我们将把它导入到我们的server.js文件中，并创建一个客户机。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="e85f" class="mb mc iq no b gy ns nt l nu nv">const<em class="ls"> redis </em>=<em class="ls"> require</em>('redis');</span><span id="8129" class="mb mc iq no b gy oc nt l nu nv">const<em class="ls"> cacheClient </em>=<em class="ls"> redis.createClient</em>(); // =&gt; Redis client</span></pre><p id="0002" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们需要编辑我们的<code class="fe nw nx ny no b">app.get()</code>函数，并向它添加缓存逻辑。</p><p id="63be" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">很简单的if-else逻辑。我们首先通过调用Redis客户端并使用<code class="fe nw nx ny no b">.get()</code>获取数据，检查数据是否存在于我们的Redis服务器中。</p><p id="4d6d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果数据不存在，那么我们调用数据源来获取新的数据。我们通过调用Redis客户机上的<code class="fe nw nx ny no b">.setex()</code>函数将这些数据插入Redis存储中。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="c19d" class="mb mc iq no b gy ns nt l nu nv">cacheClient.setex('sample',60,JSON.stringify(json));</span></pre><p id="790c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">第一个参数是我们想要存储的数据的名称(键)，接下来是过期时间，最后实际的数据(值)作为第三个参数。</p><p id="485e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们使用<code class="fe nw nx ny no b">JSON.stringify()</code>方法将JSON数据转换成string数据类型。</p><p id="9b5a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有了存储在Redis存储中的数据，下次调用<code class="fe nw nx ny no b">app.get(‘/’)</code>函数时，客户机将能够从Redis服务器获取数据，而不是从我们的原始数据源获取。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/dbcdf9f00cfa3af6f07f8aa9bfeec14b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2_Xy4w91YO7Isk8uZ3pTDA.jpeg"/></div></div></figure><p id="b9cb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">随着这一点的实现，我们可以立即看到惊人的结果，因为所用的时间只有52毫秒，而以前是1301毫秒。</p><p id="324e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是一个非常简单的缓存观点，Redis的功能远不止缓存，甚至可以用作一个<a class="ae lr" href="https://upstash.com/" rel="noopener ugc nofollow" target="_blank">永久存储选项。</a></p><p id="92d2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们最终的server.js文件将如下所示:</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="823f" class="mb mc iq no b gy ns nt l nu nv">const express = require('express')<br/>const app = express();<br/>const redis = require('redis');</span><span id="c969" class="mb mc iq no b gy oc nt l nu nv">const fetch = require('cross-fetch');</span><span id="cfa6" class="mb mc iq no b gy oc nt l nu nv">const cacheClient = redis.createClient();<br/>app.get('/', async (req, res, next) =&gt; {</span><span id="5012" class="mb mc iq no b gy oc nt l nu nv">await cacheClient.get('sample', async (err, data) =&gt; {<br/>        if (err) console.error(err);<br/>        if (data) {<br/>            console.log('Data was cached before')<br/>            return res.json({ data: JSON.parse(data) });<br/>        }<br/>        else<br/>          await fetch('<a class="ae lr" href="https://jsonplaceholder.typicode.com/photos'" rel="noopener ugc nofollow" target="_blank">https://jsonplaceholder.typicode.com/photos'</a>)<br/>                .then(response =&gt; response.json())<br/>                .then(json =&gt; {<br/>                    console.log('Newly fetched data')<br/>                    cacheClient.setex('sample',<br/>                        60,<br/>                        JSON.stringify(json));<br/>           return res.json({ data: json });<br/>        })<br/>})<br/>});<br/>app.listen(3000, () =&gt; console.log('listening on port 3000'));</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="8473" class="mb mc iq bd md me mf dn mg mh mi dp mj le mk ml mm li mn mo mp lm mq mr ms mt bi translated">内容交付网络(CDN)</h2><p id="9794" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">在服务器上缓存数据当然是一个很大的改进，但是缓存大的HTML、视频和图像文件呢？</p><p id="68e5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">CDN为这个问题提供了一个简单的解决方案。要知道CDN和缓存是不一样的。</p><blockquote class="oe"><p id="3258" class="of og iq bd oh oi oj ok ol om on lq dk translated">虽然CDN确实缓存内容，但并不是所有缓存数据的东西都可以称为CDN。</p></blockquote><p id="73ea" class="pw-post-body-paragraph kv kw iq kx b ky oo jr la lb op ju ld le oq lg lh li or lk ll lm os lo lp lq ij bi translated">CDN指的是地理上分布的一组服务器，它们协同工作，提供网站和其他资产(如图像和视频文件)的快速交付。</p><p id="21c5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi ot translated">像网飞和脸书这样的知名网站利用CDN的优势，使用离你最近的服务器群将内容快速传送给你。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pc"><img src="../Images/0d9f4b84548d24c4b0fab26034f9db41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xefev6OmEVkS_-sw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: <a class="ae lr" href="https://en.wikipedia.org/wiki/Content_delivery_network" rel="noopener ugc nofollow" target="_blank">Wikipedia</a>.</figcaption></figure><p id="e6bd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">CDN在全球多个地方存储您内容的缓存副本。</p><p id="191d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因此，如果有人从澳大利亚访问你的英国托管网站，他们将改为访问最近的澳大利亚可用的CDN服务器，并获得你的英国托管网站的缓存副本。</p><blockquote class="oe"><p id="4f4c" class="of og iq bd oh oi oj ok ol om on lq dk translated">这也节省了带宽成本，增加了可靠性和正常运行时间。</p></blockquote><p id="1528" class="pw-post-body-paragraph kv kw iq kx b ky oo jr la lb op ju ld le oq lg lh li or lk ll lm os lo lp lq ij bi translated">在一些平台和主机上，默认情况下，CDN由您支配，一般来说，使用它就像在HTML文件中添加一个头一样简单。</p><p id="aa36" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">就我个人而言，根据我的经验，我发现<a class="ae lr" href="https://vercel.com/docs/concepts/edge-network/caching" rel="noopener ugc nofollow" target="_blank"> Vercel的CDN </a>是最容易使用的，它有一个很好的详细指南，有一个有用的功能，可以防止你的数据过时。</p><p id="405c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在Vercel中，你只需要添加一个头来通知CDN这个站点需要缓存。下面给出了一个标题示例:</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="f0cd" class="mb mc iq no b gy ns nt l nu nv">Cache-Control: s-maxage=1</span></pre><p id="173e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">值得注意的是，你在客户端加载的任何数据都不会包含在你网站的缓存CDN副本中。这是因为数据是在客户端动态加载的，而不是由服务器呈现的。</p><p id="1502" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是，您总是可以通过Redis、CDN或任何其他选项缓存正在客户端加载的数据，以加快动态加载的速度。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="b1fb" class="mb mc iq bd md me mf dn mg mh mi dp mj le mk ml mm li mn mo mp lm mq mr ms mt bi translated">最后的想法…</h2><p id="2cdd" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">优化和减少加载网站的时间是整个网站开发过程中的关键一步。</p><p id="1f3b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">根据<a class="ae lr" href="https://www.thinkwithgoogle.com/marketing-strategies/app-and-mobile/mobile-page-speed-new-industry-benchmarks-load-time-vs-bounce/" rel="noopener ugc nofollow" target="_blank">谷歌</a>，</p><blockquote class="oe"><p id="f171" class="of og iq bd oh oi oj ok ol om on lq dk translated">当页面加载时间从1秒增加到10秒时，移动站点访问者反弹的概率增加了123%。</p></blockquote><p id="1beb" class="pw-post-body-paragraph kv kw iq kx b ky oo jr la lb op ju ld le oq lg lh li or lk ll lm os lo lp lq ij bi translated">通过实施一些策略来缓存数据和使用离客户端最近的服务器，可以减少页面加载时间。</p><p id="1561" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">缓存数据还具有经济效益，因为您可以节省带宽成本，并减少对数据库的读写操作。</p><p id="4dcc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">CDN与数据缓存策略的结合可以带来惊人的低网页加载时间，从而也增加了你在Google上获得更高排名的机会。</p><p id="9934" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你喜欢读这篇文章，考虑使用<a class="ae lr" href="https://medium.com/@anuragkanoria/membership" rel="noopener">我的推荐链接</a>，这样你就可以通过点击<a class="ae lr" href="https://medium.com/@anuragkanoria/membership" rel="noopener">这里</a>无限制地访问我的博客以及其他作者的博客。</p><p id="9b47" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">CDN和缓存肯定会成为我未来项目中不可或缺的一部分。</p><p id="44ef" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你对阅读单干创始人的决策感兴趣，你可以看看我最近关于AWS的文章</p><div class="pd pe gp gr pf pg"><a href="https://aws.plainenglish.io/why-i-chose-not-to-go-with-aws-for-my-saas-product-b13fb0454859" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd ir gy z fp pl fr fs pm fu fw ip bi translated">为什么我的SaaS产品没有选择AWS</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">我个人使用AWS和其他IAAS的经验</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">aws .平原英语. io</p></div></div><div class="pp l"><div class="pq l pr ps pt pp pu kp pg"/></div></div></a></div></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="18cd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="ls">更多内容请看</em><a class="ae lr" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ls">plain English . io</em></a><em class="ls">。报名参加我们的</em> <a class="ae lr" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ls">免费周报</em> </a> <em class="ls">。在我们的</em> <a class="ae lr" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="ls">社区获得独家写作机会和建议</em> </a> <em class="ls">。</em></p></div></div>    
</body>
</html>