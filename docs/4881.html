<html>
<head>
<title>Use a Custom Cursor to Improve the UX of Your Website</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用自定义光标来提高网站的UX</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/improve-the-ux-of-your-website-with-a-custom-cursor-9f1e684417ef?source=collection_archive---------6-----------------------#2021-10-01">https://javascript.plainenglish.io/improve-the-ux-of-your-website-with-a-custom-cursor-9f1e684417ef?source=collection_archive---------6-----------------------#2021-10-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="767f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">以一种更吸引人的方式给你的用户指明方向。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e5449d96532ab932d5599ff6b8d9ca8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8hNisJ7TNvrLTapsBPNtGg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@poleznova?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">vitamina poleznova</a> on <a class="ae kv" href="https://unsplash.com/s/photos/cursor?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b3da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">鼠标光标在每个网站的用户体验中扮演着</strong> <strong class="ky ir">至关重要的角色</strong>。这就是为什么你知道你<em class="ls">可以点击一个链接</em>，<em class="ls">拖拽</em>一个元素，<em class="ls">放大</em>或者<em class="ls">缩小</em>某个东西，<em class="ls">等等</em>。</p><p id="ad1f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">激发我写这篇文章的是一些<strong class="ky ir">奇妙的网站</strong>，它们把<strong class="ky ir">光标变成了它们设计</strong>不可分割的一部分，把它带到了一个新的高度。</p><p id="04b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些是<em class="ls">的一些最棒的</em><strong class="ky ir"><em class="ls"/></strong><em class="ls">引起了我的注意</em>:</p><ul class=""><li id="5e45" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated"><a class="ae kv" href="https://fanfan.fan/" rel="noopener ugc nofollow" target="_blank">饭饭饭</a></li><li id="248e" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">鲁伯特&amp;罗斯柴尔德</li><li id="0dfc" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><a class="ae kv" href="https://annualreport2020.arup.com/" rel="noopener ugc nofollow" target="_blank">奥雅纳2020年年度报告</a></li></ul><h1 id="9bc9" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">🆗基本光标</h1><p id="5615" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated"><em class="ls">用户代理样式表</em>定义了<strong class="ky ir">光标的基本样式，以向用户提供他们在屏幕</strong>上所做事情的视觉反馈，例如:</p><ul class=""><li id="719b" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated">👆🏼<code class="fe ne nf ng nh b">cursor: pointer</code>表示<em class="ls">一个环节，</em></li><li id="ca5b" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">🚫<code class="fe ne nf ng nh b">cursor: not-allowed</code>暗示<em class="ls">你不能做某个具体动作，</em></li><li id="cf44" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">🔎<code class="fe ne nf ng nh b">cursor: zoom-in</code>让你知道<em class="ls">你可以放大</em>某样东西，</li><li id="d85e" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">如果您想查看<em class="ls">所有可用值</em>，请查看MDN上的<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#values" rel="noopener ugc nofollow" target="_blank">光标文档</a>。</li></ul><p id="0464" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们都同意<em class="ls">的基本光标样式是可以的</em>，但既不是<em class="ls">现代</em>也不是<em class="ls">原始</em>。</p><p id="5998" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不要担心。</p><p id="12f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以把它定制成<strong class="ky ir">让用户体验更吸引人</strong>。</p><h1 id="02dc" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">🆒自定义光标</h1><p id="f13d" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我们将创建<em class="ls">一个随机文章页面</em>来学习如何为<strong class="ky ir">处理不同的样式，为一些鼠标相关事件</strong>定制光标。</p><p id="2778" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此图显示了最终设计的预览图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/116c9c75455182181a9e7103a4be8cd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*dpxqFdIvNF_nlFn4WK-OIA.gif"/></div></div></figure><p id="4228" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">我们开始吧！</strong>💪🏼</p></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h2 id="d264" class="np mi iq bd mj nq nr dn mn ns nt dp mr lf nu nv mt lj nw nx mv ln ny nz mx oa bi translated">1 —设置项目</h2><p id="f2f5" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">你可以下载<a class="ae kv" href="https://www.dropbox.com/s/ct5v0p0hcupcixh/custom-cursor-starter.zip?dl=0" rel="noopener ugc nofollow" target="_blank">启动文件</a>和我一起编码。</p><p id="be16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦你下载了项目文件夹，<strong class="ky ir">readme . MD文件将引导你完成所有的设置</strong>准备开发。</p><p id="8a5c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦您安装了软件包并启动了开发服务器，您将在浏览器中看到的是<strong class="ky ir">布局，我们将在其中为自定义光标</strong>添加必要的代码行。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/01bc633a5f963f800207f3a2db5a8367.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2alXDjIQn-LKWRo3et4e9w.png"/></div></div></figure><p id="1734" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将要使用的所有文件都在<code class="fe ne nf ng nh b">src</code>文件夹中。</p></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h2 id="405b" class="np mi iq bd mj nq nr dn mn ns nt dp mr lf nu nv mt lj nw nx mv ln ny nz mx oa bi translated">2-HTML</h2><p id="9233" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">在<code class="fe ne nf ng nh b">index.html</code>中，紧接着<code class="fe ne nf ng nh b">&lt;body&gt;</code>标签之后，为光标添加一个新标签。</p><pre class="kg kh ki kj gt oc nh od oe aw of bi"><span id="8600" class="np mi iq nh b gy og oh l oi oj">&lt;span class="cursor"&gt;&lt;/span&gt;</span></pre><p id="a4ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我更喜欢使用<code class="fe ne nf ng nh b">&lt;span&gt;</code>标签而不是<code class="fe ne nf ng nh b">&lt;div&gt;</code>，因为<strong class="ky ir">没有语义</strong>，而<strong class="ky ir">对于SEO来说更好</strong>，但是你可以随意使用任何你喜欢的。</p><p id="4912" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这对于HTML来说已经足够了。下一步:<strong class="ky ir"> CSS </strong>。</p></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h2 id="ba7e" class="np mi iq bd mj nq nr dn mn ns nt dp mr lf nu nv mt lj nw nx mv ln ny nz mx oa bi translated">3 — CSS</h2><p id="20d9" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">在<code class="fe ne nf ng nh b">scss/components</code>文件夹中，在<code class="fe ne nf ng nh b">_cursor.scss</code>内部，我们将为光标添加样式。</p><p id="89e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们需要隐藏原来的光标，为此，我们需要将<code class="fe ne nf ng nh b">scss/base/_reset.scss</code>中的<code class="fe ne nf ng nh b">cursor: none !important;</code>添加到<code class="fe ne nf ng nh b">*</code>选择器中。</p><p id="769b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们需要默认光标和指针光标的样式。另外，我们将为用户点击鼠标按钮创建一个类。</p><p id="1d58" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 3.1 —默认光标</strong></p><p id="38c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">我们的默认光标将是一个</strong> <strong class="ky ir">圆</strong> 40px宽，透明背景，2px纯色边框<code class="fe ne nf ng nh b">$secondary</code>。</p><pre class="kg kh ki kj gt oc nh od oe aw of bi"><span id="f2f2" class="np mi iq nh b gy og oh l oi oj">.cursor {<br/>    position: fixed;<br/>    top: -20px;<br/>    left: -20px;<br/>    width: 40px;<br/>    height: 40px;<br/>    border-radius: 100%;<br/>    border: 2px solid $secondary;<br/>    z-index: 1;<br/>    transition: top .2s linear, left .2s linear, width .2s linear, height .2s linear, background-color .2s linear, border-color .2s linear;<br/>}</span></pre><p id="46cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从片段中可以看出，你需要设置<strong class="ky ir">位置来固定</strong>和<strong class="ky ir">顶部<strong class="ky ir">和</strong>左侧<strong class="ky ir">属性为</strong> -20px(圆宽度的一半，40px / 2)。</strong></p><p id="bd60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为什么我不只是使用转换属性来转换对象？</p><p id="b712" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">原因是<em class="ls">我们将在JavaScript </em>中需要transform属性。</p><p id="bafb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您刷新浏览器页面，现在您会在屏幕的左上角看到我们光标的一部分。</p><p id="394b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在继续之前，让我们<strong class="ky ir">添加一个控制器来防止我们新创建的光标出现在用户没有任何指点设备的设备上</strong>。</p><p id="e8b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于有了CSS媒体功能，实现这一点<strong class="ky ir">非常容易</strong>。</p><p id="3a43" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe ne nf ng nh b">scss/abstract/_mixins.scss</code>中，我已经为<code class="fe ne nf ng nh b">any-pointer</code>创建了一个mixin，几秒钟后我们将在<code class="fe ne nf ng nh b">.cursor</code>类中使用它。</p><pre class="kg kh ki kj gt oc nh od oe aw of bi"><span id="0af5" class="np mi iq nh b gy og oh l oi oj">@mixin anyPointer {<br/>    @media (any-pointer: fine) {<br/>        @content;<br/>    }<br/>}</span></pre><p id="4387" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，回到<code class="fe ne nf ng nh b">_cursor.scss</code>，<strong class="ky ir">我们需要做一些调整</strong>:</p><pre class="kg kh ki kj gt oc nh od oe aw of bi"><span id="bfec" class="np mi iq nh b gy og oh l oi oj">.cursor {<br/>    display: none; // to hide the cursor by default<br/>    // ...</span><span id="59ac" class="np mi iq nh b gy ok oh l oi oj">    @include anyPointer {<br/>        display: block; // to show the cursor if a pointing device is available<br/>        pointer-events: none;<br/>    }<br/>}</span></pre><p id="759a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ne nf ng nh b">pointer-events: none;</code>控制<em class="ls">一个图形元素在什么情况下可以成为指针事件</em>的目标。要了解更多信息，请阅读文档。</p><p id="e9a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">到目前为止做得很好！</strong>😊</p><p id="c34c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 3.2 —指针光标</strong></p><p id="625b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用修改器<code class="fe ne nf ng nh b">.cursor--mousedown</code>，让我们优化指针事件上光标<strong class="ky ir">的外观:</strong></p><pre class="kg kh ki kj gt oc nh od oe aw of bi"><span id="90c0" class="np mi iq nh b gy og oh l oi oj">.cursor {<br/>    // ...<br/>    &amp;--mousehover {<br/>        top: -40px;<br/>        left: -40px;<br/>        width: 80px;<br/>        height: 80px;<br/>        border: 2px solid transparent;<br/>        background-color: rgba($secondary,0.3);<br/>    }<br/>}</span></pre><p id="1fa0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你所看到的，我们正在改变<strong class="ky ir">圆的大小，使其为</strong>的两倍大，<strong class="ky ir">设置</strong>顶部<strong class="ky ir">和</strong>左侧<strong class="ky ir">的值为</strong> -40px(新圆大小的一半，80px / 2)，<strong class="ky ir">添加背景色</strong>和<strong class="ky ir">设置为透明边框的颜色</strong>。</p><p id="aa8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 3.3 —鼠标按下光标</strong></p><p id="b395" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是时候使用最后一个修改器了:<code class="fe ne nf ng nh b">.cursor--mousedown</code>。</p><pre class="kg kh ki kj gt oc nh od oe aw of bi"><span id="e9c3" class="np mi iq nh b gy og oh l oi oj">.cursor {<br/>    // ...<br/>    &amp;--mousedown {<br/>        top: -10px;<br/>        left: -10px;<br/>        width: 20px;<br/>        height: 20px;<br/>        background-color: $secondary;<br/>    }<br/>}</span></pre><p id="6de6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这几行代码将使光标<strong class="ky ir">的大小为默认光标</strong>的一半，并为<strong class="ky ir">添加背景颜色</strong>。</p><p id="aeda" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有了这个地方，<strong class="ky ir">造型结束</strong>。</p><p id="874a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">轮到<strong class="ky ir"> JavaScript </strong>了。</p></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h2 id="252e" class="np mi iq bd mj nq nr dn mn ns nt dp mr lf nu nv mt lj nw nx mv ln ny nz mx oa bi translated">4 — JavaScript</h2><p id="78c7" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">在<code class="fe ne nf ng nh b">js</code>文件夹中，有<strong class="ky ir">三个文件</strong>:</p><ul class=""><li id="9c3c" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated"><code class="fe ne nf ng nh b">utils.js</code>:带有<strong class="ky ir">一些小的可重用代码片段</strong>的支持文件</li><li id="1108" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><code class="fe ne nf ng nh b">cursor.js</code>:该文件将包含<strong class="ky ir">类光标</strong>，以及使其按预期工作所需的所有逻辑</li><li id="7c42" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><code class="fe ne nf ng nh b">index.js</code>:包含在<code class="fe ne nf ng nh b">index.html</code>中的<strong class="ky ir">主javascript文件</strong></li></ul><p id="7332" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 4.1 —实用工具</strong></p><p id="5b8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个项目将只有一个util: <code class="fe ne nf ng nh b">getMousePosition</code>。</p><p id="fb23" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ne nf ng nh b">getMousePosition</code>的作用是，给定一个mousemove事件，它<strong class="ky ir">返回一个带有光标在屏幕上位置坐标的对象</strong>。记得导出。</p><pre class="kg kh ki kj gt oc nh od oe aw of bi"><span id="0d0f" class="np mi iq nh b gy og oh l oi oj">const getMousePosition = e =&gt; {<br/>    return {<br/>        x: e.clientX,<br/>        y: e.clientY<br/>    };<br/>};</span><span id="eec0" class="np mi iq nh b gy ok oh l oi oj">export { <br/>    getMousePosition<br/>}</span></pre><p id="ab84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 4.2 —光标</strong></p><p id="8f39" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们进入<strong class="ky ir">好玩的部分</strong>。🎉</p><p id="4d62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，<strong class="ky ir">我们要跟踪鼠标的位置</strong>，借助mousemove事件和getMousePosition可以做到这一点。</p><p id="22dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请记住，应该导入getMousePosition。</p><pre class="kg kh ki kj gt oc nh od oe aw of bi"><span id="681a" class="np mi iq nh b gy og oh l oi oj">import { getMousePosition } from ‘./utils’;</span><span id="d062" class="np mi iq nh b gy ok oh l oi oj">let mouse = { x: 0, y: 0 };<br/>window.addEventListener(<br/>    ‘mousemove’,<br/>    event =&gt; {<br/>        return mouse = getMousePosition(event);<br/>    }<br/>);</span></pre><p id="d330" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在将使用带有关键字<code class="fe ne nf ng nh b">class</code>的<em class="ls"> ES6语法</em>来定义<strong class="ky ir">光标类</strong>:</p><pre class="kg kh ki kj gt oc nh od oe aw of bi"><span id="605d" class="np mi iq nh b gy og oh l oi oj">export default class Cursor {<br/>    // ...<br/>}</span></pre><p id="4d55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用关键字<code class="fe ne nf ng nh b">constructor</code>，我们将为类定义<strong class="ky ir">构造函数</strong>来存储:</p><ul class=""><li id="c263" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated">一个<strong class="ky ir">元素</strong>，其不透明度应设置为0，以防止闪烁，并给浏览器时间根据指针位置查看在哪里显示它；</li><li id="6a2b" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><strong class="ky ir">元素的边界</strong>，借助<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect" rel="noopener ugc nofollow" target="_blank">getBoundingClientRect()</a>；</li><li id="a77a" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">保存用户指针在x轴和y轴<strong class="ky ir">上的前一个和当前位置</strong>的对象；</li><li id="aad3" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">一些事件被称为对一些<code class="fe ne nf ng nh b">addEventListener()</code>的回调。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="129a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">构造函数的基本代码已经就绪。现在我们需要为单个事件编写<strong class="ky ir">代码。🙌🏼</strong></p><p id="fb14" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于<code class="fe ne nf ng nh b">this.onFirstMouseMove</code>，我们需要<a class="ae kv" href="https://greensock.com/gsap/" rel="noopener ugc nofollow" target="_blank"> GSAP </a>的帮助，所以一定要在文件的顶部导入。我们希望这个事件<strong class="ky ir">只在用户第一次移动指针</strong>时运行。为此，我们在函数末尾调用<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener" rel="noopener ugc nofollow" target="_blank"> removeEventListener() </a>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="8045" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当鼠标的<em class="ls">按钮被按下</em>时，<code class="fe ne nf ng nh b">this.onMouseDown</code>和<code class="fe ne nf ng nh b">this.onMouseUp</code>T37处理和<code class="fe ne nf ng nh b">.cursor--mousedown</code>的添加或移除，以获得<em class="ls">视觉反馈</em>。</p><p id="4bf1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe ne nf ng nh b">this.onMouseDown</code>中，我们还需要<strong class="ky ir">检查哪个鼠标按钮被点击了</strong>。我们能做到这一点要感谢存储在which属性中的数字代码。</p><p id="4e29" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为我们不希望当用户点击右键时出现鼠标按下的效果，<strong class="ky ir">我们只对代码<code class="fe ne nf ng nh b">1</code>可以识别的左键点击</strong>感兴趣。</p><p id="3b5e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">而在<code class="fe ne nf ng nh b">this.onMouseUp</code>中，并没有什么奇特的事情发生:我们只是<strong class="ky ir">移除了</strong> <code class="fe ne nf ng nh b">.cursor--mousedown</code>类。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="45cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">构造函数准备好了。现在，我们只需要一些方法:<code class="fe ne nf ng nh b">render()</code>、<code class="fe ne nf ng nh b">onMouseOver()</code>和<code class="fe ne nf ng nh b">onMouseLeave()</code>。</p><p id="6191" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">我们在<code class="fe ne nf ng nh b">this.onFirstMouseMove</code>事件中已经遇到的</strong> <code class="fe ne nf ng nh b">render()</code> <strong class="ky ir">方法</strong>是<strong class="ky ir">负责渲染我们的光标并正确表现</strong>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="b9f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我建议你检查一下<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame" rel="noopener ugc nofollow" target="_blank"> requestAnimationFrame </a>，这个方法<em class="ls">告诉浏览器你希望在下一次重画</em>之前执行一个动画。</p><p id="1c16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ne nf ng nh b">onMouseOver()</code>和<code class="fe ne nf ng nh b">onMouseLeave()</code>方法将<strong class="ky ir">在链接</strong>上悬停时给出视觉反馈。</p><p id="de3e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可能会问<em class="ls">为什么我把后两个当作对象</em>内部的方法而不是事件:原因是这两个不是与光标直接相关的事件，<strong class="ky ir">它们将被用作链接</strong>上鼠标悬停<strong class="ky ir">和</strong>鼠标离开<strong class="ky ir">的回调函数</strong>。</p><pre class="kg kh ki kj gt oc nh od oe aw of bi"><span id="dc72" class="np mi iq nh b gy og oh l oi oj">onMouseOver = () =&gt; this.DOM.el.classList.add("cursor--mousehover");<br/>onMouseLeave = () =&gt; this.DOM.el.classList.remove("cursor--mousehover");</span></pre><p id="0690" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 4.3 —索引</strong></p><p id="b681" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们必须<strong class="ky ir">初始化</strong> <code class="fe ne nf ng nh b">index.js</code>中的光标类，并且<strong class="ky ir">在每个链接</strong>上监听鼠标悬停和鼠标离开<strong class="ky ir">事件。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="5650" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">结束。</strong> 🥳</p><h1 id="a030" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">🎓结论</h1><p id="43f3" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我的例子只是一个<strong class="ky ir">简单的例子</strong>来告诉你创建一个自定义光标并不是一场<em class="ls">血战</em>和<strong class="ky ir">会对你的网站</strong>的整体UX产生意想不到的结果。</p><p id="e026" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另外，<strong class="ky ir">我真的很喜欢自定义光标让网站看起来和感觉起来</strong>。在那里，你可以找到很多很棒的例子，让<em class="ls">得到启发</em>，<em class="ls">从</em>中学习，<em class="ls">用</em>进行实验。</p><p id="99ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">前途无量！</strong> ⭐️</p><h1 id="ee34" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">🔗有用的链接</h1><ul class=""><li id="b149" class="lt lu iq ky b kz mz lc na lf on lj oo ln op lr ly lz ma mb bi translated"><strong class="ky ir"> GitHub资源库:</strong><a class="ae kv" href="https://github.com/GiuliaMalaroda/Custom-Cursor" rel="noopener ugc nofollow" target="_blank">https://github.com/GiuliaMalaroda/Custom-Cursor</a></li><li id="2c39" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><strong class="ky ir">现场版:</strong>T62】https://custom-cursor-omega.vercel.app/</li></ul><p id="ff6f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">plain English . io</em></strong></a></p></div></div>    
</body>
</html>