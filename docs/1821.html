<html>
<head>
<title>How to generate a PDF from a Markdown file — using Node.js and JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Node.js和JavaScript从Markdown文件生成PDF</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-generate-a-pdf-from-a-markdown-file-using-nodejs-and-javascript-224478b30d6b?source=collection_archive---------2-----------------------#2021-04-17">https://javascript.plainenglish.io/lets-generate-a-pdf-from-a-markdown-file-using-nodejs-and-javascript-224478b30d6b?source=collection_archive---------2-----------------------#2021-04-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="fbd7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这个项目中，我们将使用JavaScript基于Markdown中编写的另一个文件生成一个PDF文件。我的动机是这样的:我通常用简单的文字写一份文件，包括我大部分会议的执行摘要。我想要一份PDF格式的。无论如何，这是我的情况——你的情况可能是另外一回事。</p><p id="eb79" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">重要的是我已经在用降价了。Markdown是众所周知的轻量级标记语言，旨在轻松转换为HTML。开发人员知道这一点，但如果您不知道，现在您知道了。因为Markdown可以变成HTML，HTML可以变成PDF，所以我有了把我的报告打包成PDF的想法。</p><h1 id="a2d3" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">让我们看看Markdown中的一个简单文件</h1><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/3ff0d381f590823555b639c787f54c1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vb7X3RBEOCtLNTR82U-nLg.jpeg"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Photo by <a class="ae lw" href="https://unsplash.com/@brucaraujo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Bruna Araujo</a> on <a class="ae lw" href="https://unsplash.com/s/photos/old-monitor-crt-code?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a> — screenshot adapted by Marcio</figcaption></figure><h1 id="0014" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">让我们看看从中生成的PDF</h1><p id="ca07" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">下面的截图可以帮助你更容易地看到整个流程:</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mc"><img src="../Images/16be772f3301c7e4ff4055b786399b9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C_C-v_nXGyLZ-N9numdR2A.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">The screenshot of of the PDF preview in my Mac OS X</figcaption></figure><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi md"><img src="../Images/2b08a5184aac7fe6dadebb45758c4f42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i1cnvaCd35WqzzJbHYqOqA.jpeg"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Example of the PDF sample printed</figcaption></figure><p id="9de7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您也可以下载PDF:</p><p id="2f6f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae lw" href="https://github.com/taboca/lets-markdown-to-pdf/raw/main/db/test.pdf" rel="noopener ugc nofollow" target="_blank">https://github . com/taboca/lets-markdown-to-pdf/raw/main/db/test . pdf</a></p><h1 id="9945" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">介绍Markdown-pdf</h1><p id="5467" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">好消息是，我甚至不必做这两个步骤，尽管我认为强调这一点很重要，因为我使用的库是在幕后进行的。如果你想查，这个库是<a class="ae lw" href="https://www.npmjs.com/package/markdown-pdf" rel="noopener ugc nofollow" target="_blank"> markdown-pdf </a>:</p><div class="me mf gp gr mg mh"><a href="https://www.npmjs.com/package/markdown-pdf" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd io gy z fp mm fr fs mn fu fw im bi translated">降价-pdf</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">将降价文件转换为pdf的节点模块。PDF看起来很棒，因为它是由HTML5样板设计的。什么…</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">www.npmjs.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv lq mh"/></div></div></a></div><p id="adda" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">虽然这个库将帮助您使用命令行进行转换，但下面的示例将展示如何通过JavaScript以编程方式进行转换。</p><h1 id="ee2e" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">示例代码——在JavaScript中使用Node.js</h1><p id="19e6" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">以下是JavaScript中的主文件。这个示例是一个服务器端JavaScript，它将使用输入文件“<em class="mw">”呈现一个PDF。/db/test.md </em>":</p><pre class="lh li lj lk gt mx my mz na aw nb bi"><span id="98a3" class="nc kj in my b gy nd ne l nf ng">const path           = require('path');<br/>const fs             = require('fs');<br/>const markdownpdf    = require("markdown-pdf");</span><span id="af74" class="nc kj in my b gy nh ne l nf ng">let inFile  = path.join(__dirname, 'db', 'test.md');<br/>let outFile = path.join(__dirname, 'db', 'test.pdf');<br/> <br/>fs.createReadStream(inFile)<br/>  .pipe(markdownpdf())<br/>  .pipe(fs.createWriteStream(outFile))</span></pre><p id="714c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我在这里发布了简单的脚本:</p><p id="dc11" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae lw" href="https://github.com/taboca/lets-markdown-to-pdf" rel="noopener ugc nofollow" target="_blank">https://github.com/taboca/lets-markdown-to-pdf</a></p><p id="3ec4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面的结构显示了这个示例在文件系统中的样子:</p><pre class="lh li lj lk gt mx my mz na aw nb bi"><span id="d773" class="nc kj in my b gy nd ne l nf ng">├─ README.md<br/>├─ db<br/>│  ├─ test.md<br/>│  └─ test.pdf<br/>├─ index.js<br/>└─ package.json</span></pre><p id="a5a6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的示例案例将让对所提供的示例文件进行转换。要让它运行起来，您需要克隆这个项目，并且熟悉Node.js和npm(节点包管理器)。</p><h1 id="eed6" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">让我们看看底层的库</h1><p id="fb6c" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">在这篇文章的结尾，我想告诉你我检查了来自<a class="ae lw" href="https://github.com/alanshaw/markdown-pdf" rel="noopener ugc nofollow" target="_blank"> Markdown-pdf </a>的文件<a class="ae lw" href="https://github.com/alanshaw/markdown-pdf/blob/master/package.json" rel="noopener ugc nofollow" target="_blank"> package.json </a>，并且能够得到作者使用的一些关键底层库项目的概述，即:</p><ul class=""><li id="11ea" class="ni nj in jm b jn jo jr js jv nk jz nl kd nm kh nn no np nq bi translated">“非凡”——一个可以将Markdown转换成HTML的项目。</li><li id="da84" class="ni nj in jm b jn nr jr ns jv nt jz nu kd nv kh nn no np nq bi translated">“phantomjs-pre build”——一个浏览器渲染引擎的项目，在后台执行HTML渲染工作。幻想曲也可以生成PDF格式的“页面”。</li></ul><h1 id="fd54" class="ki kj in bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">参考</h1><ul class=""><li id="7218" class="ni nj in jm b jn lx jr ly jv nw jz nx kd ny kh nn no np nq bi translated">示例代码— <a class="ae lw" href="https://github.com/taboca/lets-markdown-to-pdf" rel="noopener ugc nofollow" target="_blank">让我们从降价文件</a>生成一个PDF</li><li id="b3a1" class="ni nj in jm b jn nr jr ns jv nt jz nu kd nv kh nn no np nq bi translated">图书馆展示—【https://www.npmjs.com/package/markdown-pdf T2】</li><li id="e568" class="ni nj in jm b jn nr jr ns jv nt jz nu kd nv kh nn no np nq bi translated">示例代码— <a class="ae lw" href="https://github.com/taboca/lets-markdown-to-pdf-relative-images" rel="noopener ugc nofollow" target="_blank">使用带有图像的Markdown文件生成PDF文件</a></li></ul><p id="82fb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mw">更多内容请看</em><a class="ae lw" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mw">plain English . io</em></a></p></div></div>    
</body>
</html>