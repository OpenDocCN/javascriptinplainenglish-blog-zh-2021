<html>
<head>
<title>17 Life-Saving JavaScript One-Liners ğŸ”¥</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">17ä¸ªæ•‘å‘½çš„JavaScriptä¸€è¡Œç¨‹åºğŸ”¥</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/17-life-saving-javascript-one-liners-part1-b0b0b32c9f61?source=collection_archive---------0-----------------------#2021-10-02">https://javascript.plainenglish.io/17-life-saving-javascript-one-liners-part1-b0b0b32c9f61?source=collection_archive---------0-----------------------#2021-10-02</a></blockquote><div><div class="fc ic id ie if ig"/><div class="ih ii ij ik il"><div class=""/><div class=""><h2 id="a247" class="pw-subtitle-paragraph jl in io bd b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc dk translated">æ‹¯æ•‘ç”Ÿå‘½çš„JavaScriptä¸€è¡Œç¨‹åºç³»åˆ—çš„ç¬¬1éƒ¨åˆ†ã€‚</h2></div><p id="fbf6" class="pw-post-body-paragraph kd ke io kf b kg kh jp ki kj kk js kl km kn ko kp kq kr ks kt ku kv kw kx ky ih bi translated">åœ¨JavaScriptçš„ä¸–ç•Œé‡Œï¼Œä»£ç è¶Šå°‘è¶Šå¥½ã€‚ä»Šå¤©ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤º34ä¸ªæ€æ‰‹çº§JavaScriptä¸€è¡Œç¨‹åº(åˆ†ä¸ºä¸¤éƒ¨åˆ†)ã€‚</p><p id="4ad8" class="pw-post-body-paragraph kd ke io kf b kg kh jp ki kj kk js kl km kn ko kp kq kr ks kt ku kv kw kx ky ih bi translated">åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘å°†æŒ‰é¡ºåºåˆ—å‡ºä¸<strong class="kf ip"> DOMã€æ•°ç»„å’Œå¯¹è±¡</strong>ç›¸å…³çš„ä¸åŒçš„ä¸€è¡Œç¨‹åºã€‚ç¬¬äºŒéƒ¨åˆ†å°†æŒ‰é¡ºåºè®¨è®º<strong class="kf ip">ç´å¼¦ã€æ—¥æœŸå’Œä¸€äº›æ‚ä¸ƒæ‚å…«çš„ä¸œè¥¿</strong>ã€‚</p><p id="36b0" class="pw-post-body-paragraph kd ke io kf b kg kh jp ki kj kk js kl km kn ko kp kq kr ks kt ku kv kw kx ky ih bi translated">çœ‹çœ‹ç¬¬äºŒéƒ¨åˆ†â¬‡</p><div class="kz la gq gs lb lc"><a rel="noopener  ugc nofollow" target="_blank" href="/another-17-life-saving-javascript-one-liners-8c335bf73d2c"><div class="ld ab fp"><div class="le ab lf cl cj lg"><h2 class="bd ip gz z fq lh fs ft li fv fx in bi translated">å¦å¤–17ä¸ªæ•‘å‘½çš„JavaScriptä¸€è¡Œç¨‹åºğŸ”¥</h2><div class="lj l"><h3 class="bd b gz z fq lh fs ft li fv fx dk translated">æ‹¯æ•‘ç”Ÿå‘½çš„JavaScriptä¸€è¡Œç¨‹åºç³»åˆ—çš„ç¬¬2éƒ¨åˆ†ã€‚</h3></div><div class="lk l"><p class="bd b dl z fq lh fs ft li fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq lr lc"/></div></div></a></div><figure class="lt lu lv lw gu lx gi gj paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gi gj ls"><img src="../Images/feb0c8db649490606ef83a6937069ca2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*int2Cu4gDCW6LIGr1cgKqg.jpeg"/></div></div></figure></div><div class="ab cl md me hs mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ih ii ij ik il"><h1 id="bc18" class="mk ml io bd mm mn mo mp mq mr ms mt mu ju mv jv mw jx mx jy my ka mz kb na nb bi translated">æ•°å­—æ­£å°„å½±åƒå›¾</h1><h2 id="e67d" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">æ£€æŸ¥å…ƒç´ æ˜¯å¦è¢«èšç„¦</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="6c75" class="nc ml io np b gz nt nu l nv nw">const hasFocus = (ele) =&gt; ele === document.activeElement;</span></pre><h2 id="7514" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">è·å–ä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰å…„å¼Ÿå…ƒç´ </h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="d7f5" class="nc ml io np b gz nt nu l nv nw">const siblings = (ele) =&gt; [].slice.call(ele.parentNode.children).filter((child) =&gt; child !== ele);</span></pre><h2 id="e68a" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">è·å–é€‰å®šçš„æ–‡æœ¬</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="1479" class="nc ml io np b gz nt nu l nv nw">const getSelectedText = () =&gt; window.getSelection().toString();</span></pre><h2 id="baaf" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">å›åˆ°ä¸Šä¸€é¡µ</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="b34f" class="nc ml io np b gz nt nu l nv nw">history.back();</span><span id="2daa" class="nc ml io np b gz nx nu l nv nw">// Or<br/>history.go(-1);</span></pre><h2 id="934e" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">æ¸…é™¤æ‰€æœ‰cookies</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="f261" class="nc ml io np b gz nt nu l nv nw">const clearCookies = () =&gt; document.cookie<br/>.split(';')<br/>.forEach((c) =&gt;(document.cookie = c.replace(/^ +/, '').replace(/=.*/, `=;expires=${new Date().toUTCString()};path=/`)));</span></pre><h2 id="68b0" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">å°†cookieè½¬æ¢ä¸ºå¯¹è±¡</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="861d" class="nc ml io np b gz nt nu l nv nw">const cookies = document.cookie.split(';').map((item) =&gt; item.split('=')).reduce((acc, [k, v]) =&gt; (acc[k.trim().replace('"', '')] = v) &amp;&amp; acc, {});</span></pre><h1 id="e1c2" class="mk ml io bd mm mn ny mp mq mr nz mt mu ju oa jv mw jx ob jy my ka oc kb na nb bi translated">æ•°ç»„</h1><h2 id="09d5" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="5168" class="nc ml io np b gz nt nu l nv nw">// `a` and `b` are arrays<br/>const isEqual = (a, b) =&gt; JSON.stringify(a) === JSON.stringify(b);</span><span id="583d" class="nc ml io np b gz nx nu l nv nw">// Or<br/>const isEqual = (a, b) =&gt; a.length === b.length &amp;&amp; a.every((v, i) =&gt; v === b[i]);</span><span id="3bfe" class="nc ml io np b gz nx nu l nv nw">// Examples<br/>isEqual([1, 2, 3], [1, 2, 3]); // true<br/>isEqual([1, 2, 3], [1, '2', 3]); // false</span></pre><h2 id="d0d3" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">å°†å¯¹è±¡æ•°ç»„è½¬æ¢ä¸ºå•ä¸ªå¯¹è±¡</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="c86c" class="nc ml io np b gz nt nu l nv nw">const toObject = (arr, key) =&gt; arr.reduce((a, b) =&gt; ({ ...a, [b[key]]: b }), {});</span><span id="2804" class="nc ml io np b gz nx nu l nv nw">// Or<br/>const toObject = (arr, key) =&gt; Object.fromEntries(arr.map((it) =&gt; [it[key], it]));</span><span id="80ad" class="nc ml io np b gz nx nu l nv nw">// Example<br/>toObject([<br/>{ id: '1', name: 'Alpha', gender: 'Male' },<br/>{ id: '2', name: 'Bravo', gender: 'Male' },<br/>{ id: '3', name: 'Charlie', gender: 'Female' }],<br/>'id');</span><span id="d812" class="nc ml io np b gz nx nu l nv nw">/*<br/>{<br/>'1': { id: '1', name: 'Alpha', gender: 'Male' },<br/>'2': { id: '2', name: 'Bravo', gender: 'Male' },<br/>'3': { id: '3', name: 'Charlie', gender: 'Female' }<br/>}<br/>*/</span></pre><h2 id="022c" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">æ ¹æ®å¯¹è±¡æ•°ç»„çš„å±æ€§è¿›è¡Œè®¡æ•°</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="ddd3" class="nc ml io np b gz nt nu l nv nw">const countBy = (arr, prop) =&gt; arr.reduce((prev, curr) =&gt; ((prev[curr[prop]] = ++prev[curr[prop]] || 1), prev), {});</span><span id="6d21" class="nc ml io np b gz nx nu l nv nw">// Example<br/>countBy([<br/>{ branch: 'audi', model: 'q8', year: '2019' },<br/>{ branch: 'audi', model: 'rs7', year: '2020' },<br/>{ branch: 'ford', model: 'mustang', year: '2019' },<br/>{ branch: 'ford', model: 'explorer', year: '2020' },<br/>{ branch: 'bmw', model: 'x7', year: '2020' },<br/>],<br/>'branch');<br/>// { 'audi': 2, 'ford': 2, 'bmw': 1 }</span></pre><h2 id="c951" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">æ£€æŸ¥æ•°ç»„æ˜¯å¦ä¸ä¸ºç©º</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="2276" class="nc ml io np b gz nt nu l nv nw">const isNotEmpty = (arr) =&gt; Array.isArray(arr) &amp;&amp; Object.keys(arr).length &gt; 0;</span><span id="70d6" class="nc ml io np b gz nx nu l nv nw">// Examples<br/>isNotEmpty([]); // false<br/>isNotEmpty([1, 2, 3]); // true</span></pre><h1 id="1fb3" class="mk ml io bd mm mn ny mp mq mr nz mt mu ju oa jv mw jx ob jy my ka oc kb na nb bi translated">ç›®æ ‡</h1><h2 id="6c71" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">æ£€æŸ¥å¤šä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="28d7" class="nc ml io np b gz nt nu l nv nw">const isEqual = (...objects) =&gt; objects.every((obj) =&gt; JSON.stringify(obj) === JSON.stringify(objects[0]));</span><span id="0988" class="nc ml io np b gz nx nu l nv nw">// Examples<br/>isEqual({ foo: 'bar' }, { foo: 'bar' }); // true<br/>isEqual({ foo: 'bar' }, { bar: 'foo' }); // false</span></pre><h2 id="f0e0" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">ä»å¯¹è±¡æ•°ç»„ä¸­æå–å±æ€§å€¼</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="77a4" class="nc ml io np b gz nt nu l nv nw">const pluck = (objs, property) =&gt; objs.map((obj) =&gt; obj[property]);</span><span id="44f8" class="nc ml io np b gz nx nu l nv nw">// Example<br/>pluck([<br/>{ name: 'John', age: 20 },<br/>{ name: 'Smith', age: 25 },<br/>{ name: 'Peter', age: 30 },<br/>],<br/>'name');<br/>// ['John', 'Smith', 'Peter']</span></pre><h2 id="eedb" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">åè½¬å¯¹è±¡çš„é”®å’Œå€¼</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="0c00" class="nc ml io np b gz nt nu l nv nw">const invert = (obj) =&gt; Object.keys(obj).reduce((res, k) =&gt; Object.assign(res, { [obj[k]]: k }), {});</span><span id="a649" class="nc ml io np b gz nx nu l nv nw">// Or<br/>const invert = (obj) =&gt; Object.fromEntries(Object.entries(obj).map(([k, v]) =&gt; [v, k]));</span><span id="5155" class="nc ml io np b gz nx nu l nv nw">// Example<br/>invert({ a: '1', b: '2', c: '3' }); // { 1: 'a', 2: 'b', 3: 'c' }</span></pre><h2 id="aaf1" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">ä»å¯¹è±¡ä¸­åˆ é™¤æ‰€æœ‰ç©ºçš„å’Œæœªå®šä¹‰çš„å±æ€§</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="38f0" class="nc ml io np b gz nt nu l nv nw">const removeNullUndefined = (obj) =&gt; <br/>Object.entries(obj)<br/>.reduce((a, [k, v]) =&gt; (v == null ? a : ((a[k] = v), a)), {});</span><span id="0c74" class="nc ml io np b gz nx nu l nv nw">// Or<br/>const removeNullUndefined = (obj) =&gt;<br/>Object.entries(obj)<br/>.filter(([_, v]) =&gt; v != null)<br/>.reduce((acc, [k, v]) =&gt; ({ ...acc, [k]: v }), {});</span><span id="3148" class="nc ml io np b gz nx nu l nv nw">// Or<br/>const removeNullUndefined = (obj) =&gt; Object.fromEntries(Object.entries(obj).filter(([_, v]) =&gt; v != null));</span><span id="645f" class="nc ml io np b gz nx nu l nv nw">// Example<br/>removeNullUndefined({<br/>foo: null,<br/>bar: undefined,<br/>fuzz: 42}); <br/>// { fuzz: 42 }</span></pre><h2 id="d52e" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">æŒ‰å±æ€§å¯¹å¯¹è±¡è¿›è¡Œæ’åº</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="d0f4" class="nc ml io np b gz nt nu l nv nw">const sort = (obj) =&gt;<br/>Object.keys(obj)<br/>.sort()<br/>.reduce((p, c) =&gt; ((p[c] = obj[c]), p), {});</span><span id="c515" class="nc ml io np b gz nx nu l nv nw">// Example<br/>const colors = {<br/>white: '#ffffff',<br/>black: '#000000',<br/>red: '#ff0000',<br/>green: '#008000',<br/>blue: '#0000ff',<br/>};</span><span id="98cd" class="nc ml io np b gz nx nu l nv nw">sort(colors);</span><span id="83f2" class="nc ml io np b gz nx nu l nv nw">/*<br/>{<br/>black: '#000000',<br/>blue: '#0000ff',<br/>green: '#008000',<br/>red: '#ff0000',<br/>white: '#ffffff',<br/>}<br/>*/</span></pre><h2 id="4b1f" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªæ‰¿è¯º</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="1efc" class="nc ml io np b gz nt nu l nv nw">const isPromise = (obj) =&gt;<br/>!!obj &amp;&amp; (typeof obj === 'object' || typeof obj === 'function') &amp;&amp; typeof obj.then === 'function';</span></pre><h2 id="2646" class="nc ml io bd mm nd ne dn mq nf ng dp mu km nh ni mw kq nj nk my ku nl nm na nn bi translated">æ£€æŸ¥å¯¹è±¡æ˜¯å¦æ˜¯æ•°ç»„</h2><pre class="lt lu lv lw gu no np nq nr aw ns bi"><span id="3d04" class="nc ml io np b gz nt nu l nv nw">const isArray = (obj) =&gt; Array.isArray(obj);</span></pre><blockquote class="od oe of"><p id="b056" class="kd ke og kf b kg kh jp ki kj kk js kl oh kn ko kp oi kr ks kt oj kv kw kx ky ih bi translated">äº²çˆ±çš„è¯»è€…:</p><p id="202f" class="kd ke og kf b kg kh jp ki kj kk js kl oh kn ko kp oi kr ks kt oj kv kw kx ky ih bi translated">è°¢è°¢ä½ çš„æ—¶é—´ã€‚å¦‚æœä½ åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œæˆ‘ä¼šå¾ˆé«˜å…´ã€‚</p></blockquote><blockquote class="ok"><p id="ef2b" class="ol om io bd on oo op oq or os ot ky dk translated">ç¼–ç å¿«ä¹ï¼</p></blockquote><p id="2bd2" class="pw-post-body-paragraph kd ke io kf b kg ou jp ki kj ov js kl km ow ko kp kq ox ks kt ku oy kw kx ky ih bi translated"><em class="og">æ›´å¤šå†…å®¹çœ‹</em> <a class="ae oz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="og">è¯´ç™½äº†ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„</em> </a><a class="ae oz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="og">å…è´¹å‘¨æŠ¥</em> </a> <em class="og">ã€‚åœ¨æˆ‘ä»¬çš„</em> <a class="ae oz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="og">ç¤¾åŒº</em> </a> <em class="og">è·å¾—ç‹¬å®¶å†™ä½œæœºä¼šå’Œå»ºè®®ã€‚</em></p></div></div>    
</body>
</html>