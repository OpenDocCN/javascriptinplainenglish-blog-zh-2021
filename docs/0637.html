<html>
<head>
<title>Safari Has Become The Second Internet Explorer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Safari已经成为第二个互联网浏览器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/safari-has-become-the-second-internet-explorer-e2c2dd114837?source=collection_archive---------2-----------------------#2021-02-09">https://javascript.plainenglish.io/safari-has-become-the-second-internet-explorer-e2c2dd114837?source=collection_archive---------2-----------------------#2021-02-09</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="691f" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">我越用它，它就越让我想起IE</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/815b4eeb80720c30d83766cadd41dbf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*obluMaNgoWxwefRpP__Elg.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Safari sometimes looks like IE</figcaption></figure><p id="fb0f" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">如果你问一个开发者听到IE (Internet Explorer)是什么感觉，最常见的回答是——痛苦。我也不例外。我从事网页开发工作十多年了。在此期间，我有许多不同的项目，我们必须支持IE。当浏览器不支持一些常见的rest浏览器功能时，我知道这种失望。或者当它在错误的位置显示元素时。最糟糕的是，当您需要调试意外行为时。</p><p id="7761" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">幸运的是，在日常生活中，我用MacBook Pro搭配M1。我喜欢用苹果的软件，因为它速度快、节能、美观。Safari是苹果的应用之一。我想喜欢它，但我越是用它工作，它就越让我想起IE。这就是为什么强调触及我们每个人的问题很重要。对于其中的一些，我会提供解决方案。</p></div><div class="ab cl ls lt hv lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ik il im in io"><h1 id="0926" class="lz ma ir bd mb mc md me mf mg mh mi mj jx mk jy ml ka mm kb mn kd mo ke mp mq bi translated">渐进式网络应用支持</h1><p id="8ae9" class="pw-post-body-paragraph kw kx ir ky b kz mr js lb lc ms jv le lf mt lh li lj mu ll lm ln mv lp lq lr ik bi translated">PWA支持，更准确地说是缺乏支持，是当今最关键的阻碍因素之一。你知道什么是PWA吗？这是一个网络应用程序，你可以在浏览器中打开并在本地安装。它将看起来像一个从应用商店安装的普通应用程序，具有离线启动的能力。理论上，你现在就可以做到(在iPhone上)，但苹果不允许你有一个完整的限制列表:</p><ul class=""><li id="05ee" class="mw mx ir ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">您不能存储超过50 Mb的内容</li><li id="e0eb" class="mw mx ir ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">没有蓝牙接入</li><li id="6432" class="mw mx ir ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">用于访问本机共享对话框的Web共享不可用</li><li id="acc0" class="mw mx ir ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">没有后台同步和网络推送通知</li><li id="f6e2" class="mw mx ir ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">没有邀请用户安装应用程序的Web应用程序横幅</li><li id="5e10" class="mw mx ir ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">您不能自定义闪屏</li></ul><p id="2536" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">这些限制使得技术毫无用处。苹果想要控制市场，只允许用户通过App Store安装“真正的”应用。</p><p id="c7a6" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">在Mac上的Safari中，你根本做不到。</p><h1 id="68e5" class="lz ma ir bd mb mc nk me mf mg nl mi mj jx nm jy ml ka nn kb mn kd no ke mp mq bi translated">网络推送通知</h1><p id="ad49" class="pw-post-body-paragraph kw kx ir ky b kz mr js lb lc ms jv le lf mt lh li lj mu ll lm ln mv lp lq lr ik bi translated">这个主题在PWA限制列表中，但值得额外讨论。</p><p id="0d56" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">在Mac上，一些应用的网页版不能提供完整的功能，因为它们不能发送推送通知。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj np"><img src="../Images/fc8fa9b9a36a1d838ef1582457a75080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ekXAvagYefIA-VZ_N_8qQg.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Push notifications browser support</figcaption></figure><p id="195b" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">信使就是最好的例子。如今，telegram或FB messenger只有在网站打开时才能通知用户新消息，并带有标题开关和声音。如果用户用静音最小化他的浏览器，显然他错过了消息。</p><p id="db2d" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">这种限制的唯一好处是，新闻网站没有令人讨厌的订阅通知的提议。但这并不意味着我们不需要通知功能。</p><h1 id="de2f" class="lz ma ir bd mb mc nk me mf mg nl mi mj jx nm jy ml ka nn kb mn kd no ke mp mq bi translated">滚动行为</h1><p id="e0e8" class="pw-post-body-paragraph kw kx ir ky b kz mr js lb lc ms jv le lf mt lh li lj mu ll lm ln mv lp lq lr ik bi translated">苹果对Safari的性能和能效感到非常自豪。而且这也不是没有道理！</p><p id="cea3" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">为了达到如此好的性能，他们实施了大量的优化。其中之一是在动态滚动过程中阻止DOM更新。也许这不是唯一的优化，但在那之后，用户开始体验到一些滚动滞后。最广为人知的问题YouTube视频页面上的评论滚动。在<a class="ae nq" href="https://discussions.apple.com/thread/250853003" rel="noopener ugc nofollow" target="_blank">官方支持论坛</a>和MacRumors上都有讨论。</p><p id="bc5d" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">要解决这个问题，您必须安装UserScripts扩展并添加一些CSS样式。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nr ns l"/></div></figure><p id="c927" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">但这并不是这个问题存在的唯一地方。我在许多不同的网站上看到了一些滚动问题，比如youtube music、脸书、Reddit和其他网站，在这些网站上，on scroll event附加了许多功能。</p><p id="84aa" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">这是对快速滚动的补偿，所以我希望苹果能找到一个更好的平衡。</p><h1 id="798e" class="lz ma ir bd mb mc nk me mf mg nl mi mj jx nm jy ml ka nn kb mn kd no ke mp mq bi translated">油管（国外视频网站）</h1><p id="1393" class="pw-post-body-paragraph kw kx ir ky b kz mr js lb lc ms jv le lf mt lh li lj mu ll lm ln mv lp lq lr ik bi translated">当我们开始谈论YouTube时，你可能看到了一个问题，一些缩略图或头像无法加载。你可以在苹果讨论中找到许多关于这个问题的不同话题(例如<a class="ae nq" href="https://discussions.apple.com/thread/252092264" rel="noopener ugc nofollow" target="_blank">这里</a>和<a class="ae nq" href="https://forums.macrumors.com/threads/youtube-website-scrolling-issue.2272026/" rel="noopener ugc nofollow" target="_blank">这里</a>)。</p><p id="56a8" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">我不知道问题的根源，但缓存中有一个bug。清除缓存可以解决这个问题。但有时它会重复。</p><p id="affa" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">在Safari中有两种清除缓存的方法:</p><ol class=""><li id="060d" class="mw mx ir ky b kz la lc ld lf my lj mz ln na lr nt nc nd ne bi translated">在Safari中点击<strong class="ky is">刷新按钮</strong>的同时，按下键盘上的<strong class="ky is"> Shift </strong>。</li><li id="7409" class="mw mx ir ky b kz nf lc ng lf nh lj ni ln nj lr nt nc nd ne bi translated">按下键盘上的<strong class="ky is">命令(⌘) </strong> + <strong class="ky is">选项(</strong> ⌥ <strong class="ky is"> ) </strong> + <strong class="ky is"> R </strong>。</li></ol><p id="196c" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">想选什么就选什么。</p><h1 id="d018" class="lz ma ir bd mb mc nk me mf mg nl mi mj jx nm jy ml ka nn kb mn kd no ke mp mq bi translated">收藏夹图标</h1><p id="c0ed" class="pw-post-body-paragraph kw kx ir ky b kz mr js lb lc ms jv le lf mt lh li lj mu ll lm ln mv lp lq lr ik bi translated">你见过Mac上Safari里的Instagram favicon吗？出于某种原因，它是黑白的。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nu"><img src="../Images/45380c1008df6d075d20b4277b415f17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GgbMRIpIX_cuz6eCaLSoXA.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Black &amp; White icon in the left corner</figcaption></figure><p id="b524" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">小问题，但很奇怪。你可以自己查一下，真正的图标是有颜色的。我在很多网站上都有这个问题，甚至在我的<a class="ae nq" href="https://methodist.io" rel="noopener ugc nofollow" target="_blank"> methodist.io </a>上也有。如果你知道为什么会出现这个问题以及如何修复，请在评论中分享。</p><h1 id="c1bb" class="lz ma ir bd mb mc nk me mf mg nl mi mj jx nm jy ml ka nn kb mn kd no ke mp mq bi translated">扩展ˌ扩张</h1><p id="5073" class="pw-post-body-paragraph kw kx ir ky b kz mr js lb lc ms jv le lf mt lh li lj mu ll lm ln mv lp lq lr ik bi translated">在2018年之前，Safari已经有了构建浏览器扩展的框架。这也是App Store里扩展少很多的原因。只是到了2018年之后，他们才开始像Chrome一样使用WebExtensions Api。对于扩展开发者来说，这是一个巨大的进步，因为核心API在主流浏览器中是相同的。但是时间已经过去了，与其他浏览器相比，扩展的数量有了很大的不同。</p><h1 id="befa" class="lz ma ir bd mb mc nk me mf mg nl mi mj jx nm jy ml ka nn kb mn kd no ke mp mq bi translated">媒体格式标准化</h1><p id="6e87" class="pw-post-body-paragraph kw kx ir ky b kz mr js lb lc ms jv le lf mt lh li lj mu ll lm ln mv lp lq lr ik bi translated">你们可能都知道jpeg和png图像格式。它们既古老(自1992年以来)又笨重，这就是为什么在2017年，科技巨头们决定设计更高效的媒体格式。苹果发布了HEIC(高效图像编码)，谷歌实现了WebP。但由于某种原因，他们没有就哪一个更好达成一致。Chrome只支持WebP，Safari只尊重HEIC。直到2020年中期，苹果才在Safari中加入了WebP支持。</p><p id="ff51" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">这个故事是关于图像的，但同样是关于视频的。谷歌为视频设计了<strong class="ky is"> WebM </strong>格式，即使是现在(2021年1月)<strong class="ky is"> Safari也不支持</strong>。</p><p id="2f9a" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">2019年，IT巨头合作并开始致力于最现代和免费的视频编解码器— <strong class="ky is"> AV1 </strong>。苹果、谷歌、网飞以及更多公司(名单令人印象深刻)成立了“开放媒体联盟”。这些公司分享他们的技术和专利来创造未来的编解码器。编解码器准备好了。网飞已经在他们的应用中使用它，但是Safari也不支持它。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nv"><img src="../Images/437698cc0e91c92225cd344ad16f3033.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Hu_Vd2eexqGCyRn16_AZg.jpeg"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Alliance for Open Media</figcaption></figure><p id="b653" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated">正如你所看到的，Safari是一个非常保守的浏览器，苹果的兴趣并不总是与用户的愿望一致。</p><h1 id="62cb" class="lz ma ir bd mb mc nk me mf mg nl mi mj jx nm jy ml ka nn kb mn kd no ke mp mq bi translated">结论</h1><p id="af1b" class="pw-post-body-paragraph kw kx ir ky b kz mr js lb lc ms jv le lf mt lh li lj mu ll lm ln mv lp lq lr ik bi translated">Safari速度快，节能，甚至可能是一个安全的浏览器。但是这个浏览器背后的公司有自己的策略。当然，这个策略的主要目标是赚钱。让用户能够避开App Store安装应用程序并不是一个有利可图的想法。也许同样的解释适用于所有流行的媒体格式。但是这些问题阻碍了技术的发展，也给开发者增加了更多的麻烦。</p><p id="8c1c" class="pw-post-body-paragraph kw kx ir ky b kz la js lb lc ld jv le lf lg lh li lj lk ll lm ln lo lp lq lr ik bi translated"><strong class="ky is">感谢阅读！</strong></p></div></div>    
</body>
</html>