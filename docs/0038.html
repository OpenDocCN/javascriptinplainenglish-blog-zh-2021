<html>
<head>
<title>Write Less Redux Boilerplate with Redux Toolkit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Redux工具包编写更少的Redux样板文件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-write-less-redux-boilerplate-with-redux-toolkit-691bc753319d?source=collection_archive---------12-----------------------#2021-01-03">https://javascript.plainenglish.io/how-to-write-less-redux-boilerplate-with-redux-toolkit-691bc753319d?source=collection_archive---------12-----------------------#2021-01-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="94d5" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">任何Redux开发人员的救星</h2></div><p id="9aef" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您是前端开发人员，您可能已经处理了Redux带来的大量膨胀和样板文件。设置动作和缩减器可以产生数百行代码，这些代码相对简单，但却是必要的。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ky"><img src="../Images/720781d416cdcf543c2998acffc1b2de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fnbTojpUYRLirhvI"/></div></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">Photo by <a class="ae lo" href="https://unsplash.com/@goshua13?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joshua Aragon</a> on <a class="ae lo" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9ca8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">由于这些问题，我暂时转而使用<a class="ae lo" href="https://medium.com/weekly-webtips/recoil-js-high-performance-state-management-for-react-simplified-cb520464a667" rel="noopener">反冲</a>，但后来我想起了Redux Toolkit。</p><h1 id="0496" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">什么是Redux工具包</h1><p id="1e34" class="pw-post-body-paragraph kc kd in ke b kf mh jo kh ki mi jr kk kl mj kn ko kp mk kr ks kt ml kv kw kx ig bi translated"><a class="ae lo" href="https://redux-toolkit.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux工具包</a>为:</p><blockquote class="mm mn mo"><p id="351a" class="kc kd mp ke b kf kg jo kh ki kj jr kk mq km kn ko mr kq kr ks ms ku kv kw kx ig bi translated">官方的、固执己见的、包含电池的高效Redux开发工具集</p></blockquote><p id="3de5" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有了各种各样的实用程序和稍微优化的框架，它减少了实现Redux所必须编写的无用代码量。</p><p id="aae9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">更好的是，它得到了Redux团队的正式支持，这意味着它只需要一半的代码就能和Redux一样好地工作。</p><p id="60f7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有了Redux Toolkit，就有了一种创建Redux逻辑的标准化方法，这种方法简单易用。</p><h1 id="a602" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">创建基本应用程序</h1><p id="d562" class="pw-post-body-paragraph kc kd in ke b kf mh jo kh ki mi jr kk kl mj kn ko kp mk kr ks kt ml kv kw kx ig bi translated">我们将使用Redux工具包编写一个示例应用程序，看看它在实际操作中是如何工作的。您可以在这里看到完成的代码<a class="ae lo" href="https://github.com/caelinsutch/redux-toolkit-example" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="3fc5" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们首先设置一个基本的反应应用程序:</p><pre class="kz la lb lc gt mt mu mv mw aw mx bi"><span id="861b" class="my lq in mu b gy mz na l nb nc">npx create-react-app my-app</span></pre><p id="b931" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">接下来，让我们安装redux和redux-toolkit:</p><pre class="kz la lb lc gt mt mu mv mw aw mx bi"><span id="eca5" class="my lq in mu b gy mz na l nb nc">cd my-app<br/>yarn add redux @reduxjs/toolkit</span></pre><p id="edab" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们将把我们的代码组织成单独的<code class="fe nd ne nf mu b">features</code>，并编写一个基本的反功能。</p><p id="4a4c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们运行以下命令来设置我们的功能文件夹:</p><pre class="kz la lb lc gt mt mu mv mw aw mx bi"><span id="40bb" class="my lq in mu b gy mz na l nb nc"># From Root<br/>cd src<br/>mkdir features<br/>mkdir features/counter<br/>touch features/counter/counter.js<br/>touch features/counter/counter.slice.js<br/>touch store.js</span></pre><p id="5ee7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们添加商店代码:</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="d213" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">请注意我们是如何使用由Redux Toolkit提供的<code class="fe nd ne nf mu b">configureStore</code>函数的。</p><h1 id="8ed2" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">配置存储</h1><p id="bb1d" class="pw-post-body-paragraph kc kd in ke b kf mh jo kh ki mi jr kk kl mj kn ko kp mk kr ks kt ml kv kw kx ig bi translated">Redux Toolkit提供了另一个功能<code class="fe nd ne nf mu b">configureStore</code>来设置您的Redux商店。</p><pre class="kz la lb lc gt mt mu mv mw aw mx bi"><span id="0647" class="my lq in mu b gy mz na l nb nc">// Before:</span><span id="9b1c" class="my lq in mu b gy ni na l nb nc">const store = createStore(counter)</span><span id="5f52" class="my lq in mu b gy ni na l nb nc">// After:</span><span id="9332" class="my lq in mu b gy ni na l nb nc">const store = configureStore({<br/>  reducer: counter<br/>})</span></pre><p id="e460" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这样做有几个好处:</p><ul class=""><li id="485e" class="nj nk in ke b kf kg ki kj kl nl kp nm kt nn kx no np nq nr bi translated">商店设立<a class="ae lo" href="https://github.com/zalmoxisus/redux-devtools-extension" rel="noopener ugc nofollow" target="_blank">反应开发工具</a></li><li id="2df1" class="nj nk in ke b kf ns ki nt kl nu kp nv kt nw kx no np nq nr bi translated">默认情况下会包含一些中间件</li></ul><p id="b5fa" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">接下来，我们将修改<code class="fe nd ne nf mu b">index.js</code>以在商店中添加我们的Redux提供程序。</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="cb73" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，让我们看看创造我们的<code class="fe nd ne nf mu b">counter</code>特色。</p><p id="be85" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">首先修改<code class="fe nd ne nf mu b">counter.slice.js</code></p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="b10c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这里，我们使用<code class="fe nd ne nf mu b">createSlice</code>功能来创建我们的减速器。让我们讨论一下它实际上是做什么的。</p><h1 id="373c" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">创建虱子</h1><p id="b2b8" class="pw-post-body-paragraph kc kd in ke b kf mh jo kh ki mi jr kk kl mj kn ko kp mk kr ks kt ml kv kw kx ig bi translated">Redux Toolkit有这些概念，称为切片，用于生成缩减器、动作类型和动作创建器。</p><p id="2511" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">通过<code class="fe nd ne nf mu b">createSlice</code>，我们提供了一个具有reducer函数的对象，它根据reducer函数名生成action类型字符串和creator函数。</p><p id="ae85" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这极大地减少了创建reducer的代码量，使它更简单、更易读。</p><p id="d0a8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里我们创建了两个reducer，一个用于增量，一个用于减量，并导出创建的reducer和动作。</p><p id="d07b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">太棒了，现在让我们创建计数器组件:</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="8e87" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后，让我们更新<code class="fe nd ne nf mu b">store</code>来使用这个减速器，然后在我们的<code class="fe nd ne nf mu b">App</code>中使用<code class="fe nd ne nf mu b">Counter</code>:</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ng nh l"/></div></figure><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="9810" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，我们应该有一个可以工作的计数器了！你也可以在这里看到完成的应用代码<a class="ae lo" href="https://github.com/caelinsutch/redux-toolkit-example" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi nx"><img src="../Images/441df0b6fb8709bd155d4b360b0dc50e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KCPeGkfyW8GhB4TFc6VahA.png"/></div></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">Finished App</figcaption></figure><h1 id="a8ae" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">结论</h1><p id="192a" class="pw-post-body-paragraph kc kd in ke b kf mh jo kh ki mi jr kk kl mj kn ko kp mk kr ks kt ml kv kw kx ig bi translated">干得好！我们已经创建了一个React应用程序，它使用Redux和Redux Toolkit轻松快速地实现了一个计数器。想了解更多？我强烈推荐Redux Toolkit制作的<a class="ae lo" href="https://redux-toolkit.js.org/tutorials/intermediate-tutorial" rel="noopener ugc nofollow" target="_blank">教程</a>，学习Redux Toolkit有多强大！</p><h1 id="788b" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">保持联络</h1><p id="582a" class="pw-post-body-paragraph kc kd in ke b kf mh jo kh ki mi jr kk kl mj kn ko kp mk kr ks kt ml kv kw kx ig bi translated">有很多内容，我很感谢你读我的。我是加州大学伯克利分校<a class="ae lo" href="https://met.berkeley.edu/" rel="noopener ugc nofollow" target="_blank"> MET项目</a>的本科生，也是一名年轻的创业者。我写软件开发、创业和失败(这是我非常擅长的)。你可以在这里注册我的简讯<a class="ae lo" href="https://newsletter.cometcode.io/" rel="noopener ugc nofollow" target="_blank">或者在我的</a><a class="ae lo" href="https://www.caelinsutch.com/" rel="noopener ugc nofollow" target="_blank">网站</a>查看我正在做的事情。</p><p id="6bb9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">请随时联系我，在Linkedin或Twitter上联系我，我喜欢听到阅读我文章的人的声音:)</p></div></div>    
</body>
</html>