<html>
<head>
<title>Design Patterns With TypeScript Examples: Singleton</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有类型脚本示例的设计模式:Singleton</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/design-patterns-with-typescript-examples-singleton-8add6b26d4da?source=collection_archive---------3-----------------------#2021-10-29">https://javascript.plainenglish.io/design-patterns-with-typescript-examples-singleton-8add6b26d4da?source=collection_archive---------3-----------------------#2021-10-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b072" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">单例模式确保一个类只有一个实例。</h2></div><blockquote class="kf kg kh"><p id="1c21" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kl ir">问:</strong>今天我们很高兴给大家带来一个对单身对象的采访。你为什么不先向我们介绍一下你自己呢？</p><p id="9b78" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kl ir">单身:</strong>嗯，我完全是独一无二的；只有一个我！</p><p id="71f3" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><a class="ae lf" href="https://amzn.to/3Q9O6Ch" rel="noopener ugc nofollow" target="_blank">Eric Freeman设计的Head First图案</a></p></blockquote><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/b85c8551da5f05c6378da8539172ed3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FG9ajO1Oigze2sqx7rPbTA.jpeg"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Photo by <a class="ae lf" href="https://www.pexels.com/de-de/@sebastian?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Sebastian Voortman</a> from <a class="ae lf" href="https://www.pexels.com/de-de/foto/schwarze-holzerne-konig-schachfigur-411195/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="42a3" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">创造的单例模式是最流行和最容易使用的软件设计模式之一。在本文中，我们将详细阐述该模式的目的和结构，并通过实例说明如何使用它。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="3f45" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">什么是设计模式？</h1><p id="96b5" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lw na ku kv lx nb ky kz ly nc lc ld le ij bi translated">设计模式是针对不同环境中反复出现的问题的通用的、可重用的解决方案。在软件工程中，他们帮助你更快地写出更好的代码。使用这些通用解决方案可以节省我们的时间和工作，因为我们重用了许多其他开发人员积累的知识和经验。</p><blockquote class="kf kg kh"><p id="6660" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">“[……]对我来说，遇到没有听说过模式运动的开发人员是不常见的”“<em class="iq"> Grady Booch在</em> <a class="ae lf" href="https://amzn.to/3i6iIIk" rel="noopener ugc nofollow" target="_blank">设计模式:可重用面向对象软件的元素</a></p></blockquote><p id="9392" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">也许你做了多年的程序员，却没有应用甚至不知道任何一种模式。我敢打赌，许多开发人员正是这样做的。如果是这样，我强烈推荐你先阅读这篇文章，让你的大脑相信软件设计模式是必不可少的。</p><div class="nd ne gp gr nf ng"><a rel="noopener  ugc nofollow" target="_blank" href="/why-you-must-learn-software-design-patterns-befd77f88713"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">为什么你必须学习软件设计模式</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">设计模式让你更快地写出更好的代码。</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="np l"><div class="nq l nr ns nt np nu lq ng"/></div></div></a></div></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="41ea" class="nv mh iq bd mi nw nx dn mm ny nz dp mq lw oa ob ms lx oc od mu ly oe of mw og bi translated">模式的类别</h2><p id="47e9" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lw na ku kv lx nb ky kz ly nc lc ld le ij bi translated">1994年,《设计模式:可重用面向对象软件的元素》一书由四位作者出版:Erich Gamma、Richard Helm、Ralph Johnson和John Vlissides，也称为“四人组”</p><p id="72cd" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">尽管这本书是在25年前出版的，但它仍然是与软件工程最相关的书籍之一。阅读它可能是丰富您的开发人员工具包的一笔可观的投资。假设你喜欢不会让你睡着的读物。在这种情况下，我推荐Eric Freeman 的<a class="ae lf" href="https://amzn.to/3Q9O6Ch" rel="noopener ugc nofollow" target="_blank"> Head First设计模式。这本书以视觉丰富的形式解释了四人帮(g of)描述的23种设计模式，“为你的大脑工作方式而设计。”</a></p><p id="3302" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">如前所述，<strong class="kl ir">四人帮(GoF) </strong>定义了23种设计模式。为了组织他们，他们把他们分成三类:<strong class="kl ir">创造型</strong>、<strong class="kl ir">结构型</strong>和<strong class="kl ir">行为型</strong>。</p><blockquote class="kf kg kh"><p id="7584" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">创造模式涉及到对象创造的过程。<strong class="kl ir">结构化</strong>模式处理类或对象的组合。<strong class="kl ir">行为</strong>模式描述了类或对象交互和分配责任的方式。— <a class="ae lf" href="https://amzn.to/3i6iIIk" rel="noopener ugc nofollow" target="_blank">设计模式:可重用面向对象软件的元素</a></p></blockquote><p id="405b" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">这里是由GoF定义的所有模式的概述。另外，看看我的其他文章，在表格中有链接。</p><figure class="lh li lj lk gt ll"><div class="bz fp l di"><div class="oh oi l"/></div></figure></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><p id="5433" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">如果你更喜欢通过视频课程学习，我推荐你查看Skillshare上的这个<a class="ae lf" href="https://skillshare.eqcm.net/vnLkyj" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir">打字稿设计模式课程</strong> </a>。它涵盖了所有23种GoF(四人帮)设计模式，并教你如何使用TypeScript实现它们。作为代销商，如果你通过这个链接注册，我会收到一小笔佣金。你的支持帮助我为你创造更多有价值的内容。</p><div class="nd ne gp gr nf ng"><a href="https://skillshare.eqcm.net/vnLkyj" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">TypeScript中的设计模式</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">解锁无限制访问此技能共享课程以及由来自世界各地的创作者讲授的数千门课程…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">skillshare.eqcm.net</p></div></div><div class="np l"><div class="oj l nr ns nt np nu lq ng"/></div></div></a></div></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="f216" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">单一模式</h1><p id="2af0" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lw na ku kv lx nb ky kz ly nc lc ld le ij bi translated">从表中可以看出，单例模式被归入了<strong class="kl ir">创造</strong>模式的范畴。考虑到这一事实，它的目的必然在于对象的创建过程。</p><h2 id="2bfa" class="nv mh iq bd mi nw nx dn mm ny nz dp mq lw oa ob ms lx oc od mu ly oe of mw og bi translated">目的🎯</h2><p id="54ce" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lw na ku kv lx nb ky kz ly nc lc ld le ij bi translated">Singleton模式的目的是确保在任何时候，一个类只有一个实例，并提供一个全局访问点。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="2f23" class="nv mh iq bd mi nw nx dn mm ny nz dp mq lw oa ob ms lx oc od mu ly oe of mw og bi translated">适应性💡</h2><p id="e1ed" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lw na ku kv lx nb ky kz ly nc lc ld le ij bi translated">有时，在一个软件程序中，类需要恰好有一个实例，因为你不希望该对象及其值有多个副本。</p><blockquote class="kf kg kh"><p id="ad19" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">单身者:哦，我对各种事情都很在行。你知道，单身有时也有好处。我经常用来管理资源池，比如连接池或线程池。—<a class="ae lf" href="https://amzn.to/3Q9O6Ch" rel="noopener ugc nofollow" target="_blank">Eric Freeman的Head First设计模式</a></p></blockquote><p id="5225" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">很有可能，你已经使用过一些单例类。也许甚至没有注意到它。例如，在应用程序或全局状态管理存储(如Redux)中共享的数据库。</p><blockquote class="ok"><p id="b4a7" class="ol om iq bd on oo op oq or os ot le dk translated">"单例服务是一个应用程序中只有一个实例的服务. "— <a class="ae lf" href="https://angular.io/guide/singleton-services" rel="noopener ugc nofollow" target="_blank"> angular.io </a></p></blockquote><p id="71d0" class="pw-post-body-paragraph ki kj iq kl b km ou jr ko kp ov ju kr lw ow ku kv lx ox ky kz ly oy lc ld le ij bi translated">如果你和Angular合作过，你可能使用过注射服务。在<code class="fe oz pa pb pc b">root</code>中提供它们使它们遵循使用依赖注入的单例模式。</p><p id="fcda" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">当一个类必须只有一个实例，并且需要严格控制客户端访问它的方式和时间时，使用Singleton模式。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="4c52" class="nv mh iq bd mi nw nx dn mm ny nz dp mq lw oa ob ms lx oc od mu ly oe of mw og bi translated">结构📐</h2><p id="2310" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lw na ku kv lx nb ky kz ly nc lc ld le ij bi translated">您可能很高兴知道，在所有模式中，单例模式的结构是最简单的。</p><p id="498c" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">那么，我们如何确保一个类只有一个容易访问的实例呢？</p><p id="0d39" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">我们可以在全局变量中存储一个实例。这将使它易于访问，但它不能保证只有一个实例。</p><p id="98c1" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">更好的解决方案是让类本身提供访问唯一实例的方法。我们可以通过将类<strong class="kl ir">的构造函数设为私有</strong>来实现这一点。这阻止了其他人创建类实例，但是我们仍然可以在其中创建类的实例。</p><blockquote class="kf kg kh"><p id="5f27" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">问:那么，如果我们可以问，你怎么知道只有一个你？有新运营商的人就不能创造一个“新的你”吗？</p><p id="2f80" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">没有！我确实是独一无二的。</p><p id="3b72" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kl ir">问:</strong>好吧，开发者是不是发过誓不再实例化你一次以上？</p><p id="a633" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">单身者:当然不是。说实话…嗯，这有点私人化，但是…我没有公共构造函数。</p><p id="ea4e" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><a class="ae lf" href="https://amzn.to/3Q9O6Ch" rel="noopener ugc nofollow" target="_blank">埃里克·弗里曼设计的头像图案</a></p></blockquote><p id="6ffa" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">接下来，我们将为该类定义一个私有静态<code class="fe oz pa pb pc b">instance</code>字段来存储singleton实例。此外，我们创建一个静态的<code class="fe oz pa pb pc b">getInstance()</code>方法来获取实例。该方法负责在第一次调用时创建一个新对象，并将其存储在私有的<code class="fe oz pa pb pc b">instance</code>字段中。第二次调用将只返回私有实例，而不是从上的第二次调用创建新的对象。</p><p id="cf2f" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">看看我们的单例类:</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/ca6e734f899c81d0ae616327e00dc00c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*RDoH2SQ9Lj-D2tlmUtrh7Q.png"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Singleton structure</figcaption></figure><p id="d927" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">注意，该类包含了我们的私有静态<code class="fe oz pa pb pc b">instance</code>字段、私有<code class="fe oz pa pb pc b">Singleton()</code>构造函数和公共<code class="fe oz pa pb pc b">getInstance()</code>方法。</p><p id="41a7" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">让我们看看如何使用Typescript实现这个类:</p><figure class="lh li lj lk gt ll"><div class="bz fp l di"><div class="oh oi l"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Singleton structure</figcaption></figure></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="974d" class="nv mh iq bd mi nw nx dn mm ny nz dp mq lw oa ob ms lx oc od mu ly oe of mw og bi translated">参与者🚻</h2><p id="ffe0" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lw na ku kv lx nb ky kz ly nc lc ld le ij bi translated">从结构中，您可以派生出以下两个参与者:</p><ul class=""><li id="01ed" class="pe pf iq kl b km kn kp kq lw pg lx ph ly pi le pj pk pl pm bi translated">Singleton:确保自身唯一实例的类。负责创建自己的实例。</li><li id="9b4c" class="pe pf iq kl b km pn kp po lw pp lx pq ly pr le pj pk pl pm bi translated"><strong class="kl ir">客户端</strong>:可以使用它的公共<code class="fe oz pa pb pc b">getInstance()</code>方法访问单例实例</li></ul></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="8e06" class="nv mh iq bd mi nw nx dn mm ny nz dp mq lw oa ob ms lx oc od mu ly oe of mw og bi translated">代码示例💻</h2><p id="c20d" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lw na ku kv lx nb ky kz ly nc lc ld le ij bi translated">在我们开始使用Typescript实现之前，我想提一下，如果您正在使用Node.js模块，您可能会问:</p><p id="5e43" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated"><strong class="kl ir">反正node.js模块不是单例的吗？</strong></p><p id="4c16" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">这篇<a class="ae lf" href="http://So let's dive into the code." rel="noopener ugc nofollow" target="_blank">文章</a>说Node.js模块可以表现得像单例一样，但是由于Node的缓存机制，不能保证它们就是单例。这里不想赘述。本文更多的是用一个简单的代码例子来解释单例模式。所以让我们深入研究代码。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><p id="aa1a" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">我们将构建一个在应用程序中触发事件的事件服务。如果有事件发生，应该通知我们服务的每个侦听器。我们的服务遵循观察者模式，这是<strong class="kl ir">行为</strong>设计模式的一部分。我将在下面的一篇文章中详细介绍。</p><p id="a1a2" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">目前，我们的事件服务的独特性对于确保每个侦听器订阅接收事件的相同服务至关重要。</p><p id="0a8e" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">看一下代码。你也可以在<a class="ae lf" href="https://www.typescriptlang.org/play?#code/C4TwDgpgBAMglgZ2BAdhATlAvFAFANwEMAbAVwgC4ol04UBzASmwD4p8B7OAEwG4AofqEhQAqigSkARggDGtKdBwBvKKQnS5CynmZY2nHlAC+AwbOKEECKAFF8qYAGUM+OLOjL+UKGFpFkKGJEZDR0BCp4JFQMAG0AXWwoBLMfPw5kWWRuamBCYHcoOiRCFA8qe0cXdDcPVN9-fOhZDglgdFIsjnRcZmVjQTTpYNlc-ML6CGAASTbSj16oLx8fOAAzPABCSpRnV3cIADpivLKIZh29moPjubOktAB3Owdd6tqIXoEVqHQp0nQKBeVX2HluJTO3xMg18w0KEAAtnBgAQSOQqDQ6Ewlt4flBgAALRCHFAZdYgKKhDAIVFkc5Qga4yQyeRwRS4YLRMKREIxdCMKjiZlaNmeXE+QnEzlU8KHMCkBAEjm8sKMKE+P7AAFA5Z49TC1mKKiLfQ4vErAD0FrUGhZ2iga3UWTgrXFeMlCEO0r5NhwHq9KuphzWcGIyB6uAyBIwejYUYwUE2WBw3tV6pWxgANG7TLjGWlGoFSQU1hTA+FaejcrQGH03f7U0G1t1bIRZErlVyY6wguXK+c1Xn+Iz+C02lAIK8rh8kpd3jdJjM7gtB-wLQAqdfedd2dDobpQRSyQgK5qtGidYAHxANOABHTbqAAYXP7UvB44GwsVhsAHI56CEC-kUNh+HeTRQKUOStMQICQbIHjWGyxDQI8yJEkChLNJY1hQNwEDfug4yulA64WqOr6QcW0boAB1weA8EDPHRHxfIIFHjpOVSaKyYAFK0SRcW8gGHAa2i4EJwA9mOCAcChXocPQElTowq6SfOYKIsiuAAEQAGJwOEUmXDpq4sQuUyzBCK6HFpKI6S4Y45CZalTk4PG0HxLooIc+oeaKXxAA" rel="noopener ugc nofollow" target="_blank"> TypeScript Playground </a>里用它来玩。</p><figure class="lh li lj lk gt ll"><div class="bz fp l di"><div class="oh oi l"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Typescript code example</figcaption></figure><p id="7575" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">您可以看到，我们创建了一个私有构造函数和一个私有实例字段。为了获得服务的实例，我们可以调用<code class="fe oz pa pb pc b">getInstance()</code>，我们将接收我们的singleton对象。调用<code class="fe oz pa pb pc b">new EventService()</code>会导致错误，因为Typescript认为我们的构造函数被声明为<code class="fe oz pa pb pc b">private</code>。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="01c5" class="nv mh iq bd mi nw nx dn mm ny nz dp mq lw oa ob ms lx oc od mu ly oe of mw og bi translated">相关设计模式🔗</h2><p id="368c" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lw na ku kv lx nb ky kz ly nc lc ld le ij bi translated">软件设计模式通常显示不同模式之间的关系。许多模式如<strong class="kl ir">抽象工厂</strong>、<strong class="kl ir">构建器</strong>和<strong class="kl ir">原型</strong>可以参考<a class="ae lf" href="https://amzn.to/3n4SSCY" rel="noopener ugc nofollow" target="_blank"> GoF </a>使用单例模式来实现。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="8357" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">最后的想法</h1><p id="d3ec" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lw na ku kv lx nb ky kz ly nc lc ld le ij bi translated">我希望你喜欢阅读这篇文章。我总是乐于回答问题，并乐于接受批评。随时欢迎联系我！通过<strong class="kl ir"/><a class="ae lf" href="https://www.linkedin.com/in/marius-bongarts-6b3638171/" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir">LinkedIn</strong></a><strong class="kl ir">，</strong>关注我<strong class="kl ir"/><a class="ae lf" href="https://twitter.com/MariusBongarts" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir">Twitter</strong></a>或<a class="ae lf" href="https://medium.com/subscribe/@mariusbongarts" rel="noopener"> <strong class="kl ir">订阅</strong> </a>通过电子邮件获取我的故事。</p><p id="7d66" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated"><a class="ae lf" href="https://medium.com/@mariusbongarts/membership" rel="noopener"> <strong class="kl ir">这里是无限制访问介质上每一个内容的链接</strong> </a>。如果你注册使用这个链接，我会赚一小笔钱，不需要你额外付费。</p><div class="nd ne gp gr nf ng"><a href="https://medium.com/@mariusbongarts/membership" rel="noopener follow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">通过我的推荐链接加入Medium-Marius bong arts</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">medium.com</p></div></div><div class="np l"><div class="ps l nr ns nt np nu lq ng"/></div></div></a></div><p id="eeb6" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated">此外，如果你还没有，看看我的在线荧光笔铬扩展。使用<a class="ae lf" href="https://web-highlights.com/" rel="noopener ugc nofollow" target="_blank"> Web Highlights </a>，您可以在任何网页或PDF上高亮显示，创建标签并做笔记。</p><div class="nd ne gp gr nf ng"><a href="https://web-highlights.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">Web亮点— PDF和Web荧光笔</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">最佳网络荧光笔。就像你在书上做的那样，在任何网页或PDF上高亮显示，并做笔记。组织…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">web-highlights.com</p></div></div><div class="np l"><div class="pt l nr ns nt np nu lq ng"/></div></div></a></div><p id="386c" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated"><strong class="kl ir"> <em class="kk">披露</em> </strong> <em class="kk">:本文包含附属链接。如果你通过这些链接之一购买，我可能会收到佣金。我只推荐我认为质量高、对你有益的产品。谢谢你的支持。</em></p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="8736" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated"><strong class="ak">延伸阅读</strong></h1><div class="nd ne gp gr nf ng"><a rel="noopener  ugc nofollow" target="_blank" href="/design-patterns-with-real-life-typescript-examples-adapter-d183af1f1462"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">使用类型脚本的设计模式示例:适配器</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">适配器模式使两个现有的接口协同工作。通过将其应用到现实生活中的例子，它是…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="np l"><div class="pu l nr ns nt np nu lq ng"/></div></div></a></div><div class="nd ne gp gr nf ng"><a rel="noopener  ugc nofollow" target="_blank" href="/why-you-must-learn-software-design-patterns-befd77f88713"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">为什么你必须学习软件设计模式</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">设计模式让你更快地写出更好的代码。</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="np l"><div class="nq l nr ns nt np nu lq ng"/></div></div></a></div><div class="nd ne gp gr nf ng"><a rel="noopener  ugc nofollow" target="_blank" href="/will-web-components-replace-frontend-frameworks-535891d779ba"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">Web组件会取代前端框架吗？</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">它们是为解决不同的问题而构建的。</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="np l"><div class="pv l nr ns nt np nu lq ng"/></div></div></a></div><div class="nd ne gp gr nf ng"><a rel="noopener  ugc nofollow" target="_blank" href="/showcase-your-medium-articles-with-web-components-part-1-basics-d2c6618e9482"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">用Web组件构建自己的博客组合:基础</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">第1部分—定制元素、阴影DOM和HTML模板</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="np l"><div class="pw l nr ns nt np nu lq ng"/></div></div></a></div><div class="nd ne gp gr nf ng"><a rel="noopener  ugc nofollow" target="_blank" href="/5-skills-you-dont-get-around-to-learn-as-a-fullstack-developer-409f13c394c7"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">作为全栈开发人员，你应该马上学会的5项技能</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">现在就学习吧，你会后悔错过的</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="np l"><div class="px l nr ns nt np nu lq ng"/></div></div></a></div><p id="ccc3" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lw kt ku kv lx kx ky kz ly lb lc ld le ij bi translated"><em class="kk">更多内容看</em><a class="ae lf" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir"><em class="kk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>