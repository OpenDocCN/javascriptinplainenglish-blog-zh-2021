<html>
<head>
<title>Javascript LeetCode Algorithm — Running Sum of a 1D Array.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript LeetCode算法—运行1D数组的和。</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-leetcode-algorithm-running-sum-of-a-1d-array-1400674c0bd6?source=collection_archive---------24-----------------------#2021-05-17">https://javascript.plainenglish.io/javascript-leetcode-algorithm-running-sum-of-a-1d-array-1400674c0bd6?source=collection_archive---------24-----------------------#2021-05-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2bac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">给定一个数组，返回输入的运行总和。</em></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/2afafbce5be9b530760120b5aa058221.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XyN5IAoKlwJ09Kqg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Photo by <a class="ae lc" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae lc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="7ab7" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">1.任务:</h1><p id="89c3" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">我们得到了一个名为<code class="fe mg mh mi mj b">nums</code>的数组，其中包含所有的数字。</p><p id="c53a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们以数组<code class="fe mg mh mi mj b">[1,2,3,4]</code>为例。<strong class="jp ir">输出</strong>应该是<code class="fe mg mh mi mj b">[1,3,6,10]</code> …为什么？<em class="kl">堂哥石寒这么说。</em></p><p id="b492" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不，<em class="kl"> </em>真的是因为:<code class="fe mg mh mi mj b">[1, 1+2, 1+2+3, 1+2+3+4]</code>。</p><p id="4951" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">我们来分解一下:</em> </strong></p><ul class=""><li id="9c94" class="mk ml iq jp b jq jr ju jv jy mm kc mn kg mo kk mp mq mr ms bi translated">以第一个元素<code class="fe mg mh mi mj b">1</code>为例，我们可以将它返回为<code class="fe mg mh mi mj b">[1,...]</code>。</li><li id="cc6a" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">我们的第二个元素<code class="fe mg mh mi mj b">2</code>应该加上<em class="kl">本身</em>加上<em class="kl">之前的</em>元素，在这种情况下，之前的元素是<code class="fe mg mh mi mj b">1</code> —所以我们有<code class="fe mg mh mi mj b">[1, 1+2,...]</code>。</li><li id="c97b" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">第三个元素是<code class="fe mg mh mi mj b">3</code>所以，我们需要把<em class="kl">本身</em>加到前面的元素上，像这样:<code class="fe mg mh mi mj b">[1, 1+2, 1+2+3,...]</code>。</li><li id="cd05" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">最后，我们的最后一个元素，在这种情况下，应该将自己添加到数组中所有前面的元素中，就像这样:<code class="fe mg mh mi mj b">[1, 1+2, 1+2+3, 1+2+3+4]</code>。</li></ul><p id="6f47" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">够简单吧？让我们来看看我们的方法:</em> </strong></p><h1 id="6e50" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">2.解决方案是:</h1><p id="c37d" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">我们需要一个变量来记录我们的总和，所以我们声明了一个变量:</p><p id="346d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mg mh mi mj b"><strong class="jp ir">let sum = 0;</strong></code></p><p id="c3d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还需要一个数组来跟踪所有之前的元素，所以我们有:<code class="fe mg mh mi mj b">let prev_elems = [];</code>和另一个数组<code class="fe mg mh mi mj b">let result = [];</code>，因为我们的输出必须是数组形式。</p><p id="a5f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从数字0开始，我们使用一个for循环遍历<code class="fe mg mh mi mj b">nums.length</code>,简单地将每个元素推入我们的跟踪数组，如下所示:</p><p id="15bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mg mh mi mj b"><strong class="jp ir">prev_elems.push(nums[i]);</strong></code></p><p id="9b16" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">最后，我们做如下:</em> </strong></p><p id="ed74" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们推入我们的<code class="fe mg mh mi mj b">results</code>数组，当前元素加上<code class="fe mg mh mi mj b">prev_elems</code>数组— <strong class="jp ir"> <em class="kl">减去</em> </strong>当前元素之和:</p><p id="4db5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mg mh mi mj b"><strong class="jp ir">result.push((nums[i] + prev_elems.reduce((a,b) =&gt; a + b, 0) — nums[i]))</strong></code></p><p id="5bae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">(<em class="kl">加分号就是把它分成两行:/) </em></p><p id="4726" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我们最终只是返回了<code class="fe mg mh mi mj b">result</code>数组。</p><p id="be9f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">下面是完整代码:</em> </strong></p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="1097" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第9行:</strong><code class="fe mg mh mi mj b">reduce</code>方法接受4个参数<em class="kl">(累加器、当前值、当前索引和源数组)</em>……后2个是可选的。</p><p id="ab8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可能会注意到，我们将一个<em class="kl">可选的</em>第二个参数<code class="fe mg mh mi mj b">0</code>传递给了<code class="fe mg mh mi mj b">reduce</code>方法(不是回调)。这只是我们为数组提供的一个初始值，作为我们的<strong class="jp ir">返回值</strong>的基础。请阅读MDN文档，了解更多相关信息。</p><p id="7ad7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望这个解释是全面的，并帮助你将这个看似复杂但实际上非常简单的问题分解成小块。</p><p id="568c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在试着自己解决这个，试着重构到1行……(lol，只是开玩笑)。</p><p id="1e98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">感谢阅读！</em>T24】</strong></p><p id="f760" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">更多内容请看</em><a class="ae lc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="kl">plain English . io</em></a></p></div></div>    
</body>
</html>