# 如何创建聚合填充

> 原文：<https://javascript.plainenglish.io/how-to-create-a-polyfill-3c924fa11417?source=collection_archive---------3----------------------->

![](img/6c540e45bb618a574036f109544a703a.png)

Photo by [Joshua Aragon](https://unsplash.com/@goshua13?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

## 什么是聚合填充，如何创建聚合填充？

让我们先了解一下 polyfill 是什么，以及为什么要费心去了解它。

每个人都遇到过这样的情况，他们期望浏览器本身支持的方法很少，但随着每个新浏览器的出现，缺点也很少。

如果你发现 Chrome 从下一版本开始将不再支持我们用于函数借用的 **bind** 方法，你会怎么做。(不知道功能借出 [**本**](https://d1vyesh.medium.com/let-us-understand-binding-concepts-once-and-for-all-c72c2f74f80a) )。

*polyfill 是一段代码，用于实现您希望浏览器本身支持的功能。*

现在你知道什么是聚合填充，让我们学习如何写一个聚合填充。

在开始编写 polyfill 代码之前，您应该了解该函数实际上是做什么的，它如何接受参数，以及可以将参数传递给函数的可能方式。

举一个例子，我们将采用 **bind** 方法，并为 bind 方法编写一个 polyfill。

让我们通过理解 bind 函数的性质和知道在这个 **bind** 函数中传递一个参数的可能性。

这是一个简单的例子，它使用**这个**来获取参数。输入参数的可能性仍然是

1.  当 bind 方法与 **person 一起使用时，它可以被传递。**
2.  调用 **myfunc** 时可以通过。

让我们从编写简单的绑定函数开始，并在编写过程中随机应变。开始之前，让我们写下我们所知道的关于**绑定**函数的事情。

1.  它返回一个函数。
2.  我们需要访问这个变量来调用给定参数的函数。
3.  每个 JS 函数都应该可以访问我们的绑定函数，因此我们需要使用 Function.prototype。

现在我们有了自己的简单函数，让我们试着将它与本地绑定方法进行比较。

既然这是可行的，我们应该开始寻找一些方法来改进这个方法，因为有很多输入参数的机会。

1.  对于第一个问题，由于我们已经获取了在绑定状态期间传递的所有参数，我们可以通过调用函数来移除已经在使用 **args[0】的第一个元素。**

我们可以使用 splice 来删除第一个参数并保留其余的参数，但这将返回一个数组，因此我们可以不使用**调用**，而只使用 apply，它将一个数组作为它的第二个参数。

既然我们已经解决了这个问题。剩下的唯一问题是调用克隆函数时传递的参数。

因为我们返回的是一个函数，我们不接受返回函数的参数。获取返回的函数参数，并将这些参数连接到我们的原始参数数组，我们就有了完整的解决方案。

欢迎分享反馈并联系我。

以防你不知道函数借用或绑定的概念，看看这里的。