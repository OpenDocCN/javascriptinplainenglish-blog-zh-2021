<html>
<head>
<title>Implementing The Dark Mode Using React and Styled Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React和Styled组件实现黑暗模式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/implementing-the-dark-mode-using-react-and-styled-components-518d2edf1dd2?source=collection_archive---------10-----------------------#2021-07-05">https://javascript.plainenglish.io/implementing-the-dark-mode-using-react-and-styled-components-518d2edf1dd2?source=collection_archive---------10-----------------------#2021-07-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c0e0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">React中的黑暗模式功能变得简单。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0ec5b971d1036e3fc91b5e119ddf879b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xn446t7wdjULVBjD"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@jefflssantos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jefferson Santos</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="50d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在现代网络中，黑暗模式功能是非常有用和重要的。对用户体验也有好处。很多人更喜欢黑暗模式功能，因为它可以在晚上浏览网页时保护他们的眼睛。</p><p id="4b88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将学习使用React和styled-components轻松实现黑暗模式。所以让我们开始吧。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2319" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">项目设置</h1><p id="6ff1" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">因为我们要创建一个非常简单的黑暗模式功能，我们将使用create-react-app工具。因此，您需要做的第一件事是使用该工具建立一个React项目。</p><p id="3f49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，转到项目目录，打开终端，使用下面的命令安装styled-components包:</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="4bac" class="nb ma iq mx b gy nc nd l ne nf">npm install styled-components</span></pre><p id="ab9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您正在使用Yarn，您可以键入以下命令:</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="4042" class="nb ma iq mx b gy nc nd l ne nf">yarn add styled-components</span></pre><p id="4d51" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在软件包安装之后，您将能够毫无问题地在代码中导入样式化的组件。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="afcd" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">项目代码</h1><p id="68ca" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们需要做的第一件事是为我们的主题创建一个文件。黑暗主题和光明主题。我们还将使用样式化组件在该文件中设置一些全局样式。</p><p id="8df1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将该文件称为<code class="fe ng nh ni mx b">theme.js</code>，它将包含两个具有深色主题和浅色主题属性的对象。除此之外，我们还将在样式组件中使用道具，根据我们所处的主题(暗/亮)来改变颜色和背景。</p><p id="aa96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是代码示例:</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="7cf2" class="nb ma iq mx b gy nc nd l ne nf"><em class="nj">//theme.js</em></span><span id="545d" class="nb ma iq mx b gy nk nd l ne nf"><strong class="mx ir">import {createGlobalStyle} from "styled-components"</strong></span><span id="0242" class="nb ma iq mx b gy nk nd l ne nf">export const <strong class="mx ir">darkTheme </strong>= {<br/>  body: "#000",<br/>  textColor: "#fff",<br/>  headingColor: "lightblue"<br/>}</span><span id="cf20" class="nb ma iq mx b gy nk nd l ne nf">export const <strong class="mx ir">lightTheme </strong>= {<br/>  body: "#fff",<br/>  textColor: "#000",<br/>  headingColor: "#d23669"<br/>}</span><span id="e37e" class="nb ma iq mx b gy nk nd l ne nf">export const <strong class="mx ir">GlobalStyles </strong>= createGlobalStyle`<br/> body {<br/>  background: ${<strong class="mx ir">props =&gt; props.theme.body</strong>};<br/>  color: ${<strong class="mx ir">props =&gt; props.theme.textColor</strong>};<br/>  transition: .3s ease;<br/> }<br/> h2{<br/>   color: ${<strong class="mx ir">props =&gt; props.theme.headingColor</strong>};<br/> }<br/>`</span></pre><p id="6209" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是我们的主题。现在，在应用程序组件中，我们将有一个按钮在亮暗主题之间切换。我们将使用状态挂钩来切换主题。</p><p id="45c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们根据状态在黑暗和光明之间切换。</p><p id="4d3b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是代码示例:</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="e148" class="nb ma iq mx b gy nc nd l ne nf">//App.js</span><span id="4939" class="nb ma iq mx b gy nk nd l ne nf">import React, { useState } from "react";<br/>import "./styles.css";<br/>import { <strong class="mx ir">ThemeProvider</strong> } from "styled-components";<br/>import { darkTheme, lightTheme, GlobalStyles } from "./theme";</span><span id="ed3f" class="nb ma iq mx b gy nk nd l ne nf">function App() {<br/>  <strong class="mx ir">const [theme, setTheme] = useState("light");</strong></span><span id="efee" class="nb ma iq mx b gy nk nd l ne nf">const switchTheme = () =&gt; {<br/>    <strong class="mx ir">theme === "light" ? setTheme("dark") : setTheme("light");</strong><br/>  };</span><span id="8325" class="nb ma iq mx b gy nk nd l ne nf">return (<br/>    <strong class="mx ir">&lt;ThemeProvider</strong> theme={theme === "light" ? lightTheme : darkTheme}<strong class="mx ir">&gt;</strong><br/>      <strong class="mx ir">&lt;GlobalStyles /&gt;</strong><br/>      &lt;div className="App"&gt;<br/>        &lt;h1&gt;Hello bro!&lt;/h1&gt;<br/>        &lt;button onClick={<strong class="mx ir">switchTheme</strong>}&gt;Switch Theme&lt;/button&gt;<br/>      &lt;/div&gt;<br/>    <strong class="mx ir">&lt;/ThemeProvider&gt;</strong><br/>  );<br/>}<br/>export default App;</span></pre><p id="f1cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你在上面看到的，我们根据状态在主题之间切换。我们从styled-components导入了主题提供程序，以便根据状态值为我们的应用程序提供正确的主题。现在你可以通过点击按钮在深色和浅色主题之间切换。</p><p id="090b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想看看源代码，这里有<a class="ae kv" href="https://codesandbox.io/s/youthful-brown-3j9yl?file=/src/App.js" rel="noopener ugc nofollow" target="_blank"> CodeSandbox </a>。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="93eb" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="25b2" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如您所见，使用样式化组件非常简单。如果你愿意，你甚至可以创建一个复杂的主题。因此，您可以在页面上为每种模式切换不同颜色的深色和浅色主题。</p><p id="04a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您阅读这篇文章。希望你觉得有用。</p><p id="d7a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">更多阅读:</strong></p><div class="nl nm gp gr nn no"><a rel="noopener  ugc nofollow" target="_blank" href="/the-difference-between-var-let-and-const-in-javascript-630b5a8bb1c5"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">JavaScript中var、let和const的区别</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">用例子解释JavaScript中的变量声明关键字。</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc kp no"/></div></div></a></div><p id="d716" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nj">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nj">plain English . io</em></strong></a></p></div></div>    
</body>
</html>