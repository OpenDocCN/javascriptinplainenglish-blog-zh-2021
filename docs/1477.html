<html>
<head>
<title>How to Convert a React App to Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将React应用转换为Vue.js</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-convert-a-react-app-to-vue-js-f96723951a1a?source=collection_archive---------10-----------------------#2021-03-29">https://javascript.plainenglish.io/how-to-convert-a-react-app-to-vue-js-f96723951a1a?source=collection_archive---------10-----------------------#2021-03-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/551ee33702af930fdbf344e24c1b5746.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yE6DojNwXlch8fXB5sOgYg.png"/></div></div></figure><ol class=""><li id="fa86" class="jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">Vuex概述</li><li id="96a0" class="jv jw in jx b jy kn ka ko kc kp ke kq kg kr ki kj kk kl km bi translated">商店</li><li id="7e59" class="jv jw in jx b jy kn ka ko kc kp ke kq kg kr ki kj kk kl km bi translated">模块</li><li id="460b" class="jv jw in jx b jy kn ka ko kc kp ke kq kg kr ki kj kk kl km bi translated">状态、获取者、动作、突变</li></ol><h1 id="dac8" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">介绍</h1><blockquote class="lq lr ls"><p id="d546" class="lt lu lv jx b jy jz lw lx ka kb ly lz ma mb mc md me mf mg mh mi mj mk ml ki ig bi translated">Vuex是Vue.js应用程序的状态管理模式+库。它充当应用程序中所有组件的集中存储，规则确保状态只能以可预测的方式变化。它还与Vue的官方<a class="ae mm" href="https://github.com/vuejs/vue-devtools" rel="noopener ugc nofollow" target="_blank"> devtools扩展(打开新窗口)</a>集成，以提供高级功能，如零配置时间旅行调试和状态快照导出/导入。— <a class="ae mm" href="https://vuex.vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vuex文档</a></p></blockquote><p id="2a87" class="pw-post-body-paragraph lt lu in jx b jy jz lw lx ka kb ly lz kc mb mc md ke mf mg mh kg mj mk ml ki ig bi translated">我会像本系列的其他部分一样引用你的房东应用程序的一个等级。你可以点击查看回购<a class="ae mm" href="https://github.com/d-otis/rate-your-landlord-vue" rel="noopener ugc nofollow" target="_blank">。不要大惊小怪——有很多截图，但这不是一个疯狂的长期阅读！与Redux devtool不同，Vue devtool不需要疯狂的配置或样板文件来使用它的Vuex特性:它就是工作。</a></p><div class="mn mo gp gr mp mq"><a href="https://github.com/d-otis/rate-your-landlord-vue" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">d-Otis/rate-your-房东-vue</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">github.com</p></div></div></div></a></div><h2 id="1d26" class="mz kt in bd ku na nb dn ky nc nd dp lc kc ne nf lg ke ng nh lk kg ni nj lo nk bi translated">反应/还原</h2><p id="a715" class="pw-post-body-paragraph lt lu in jx b jy nl lw lx ka nm ly lz kc nn mc md ke no mg mh kg np mk ml ki ig bi translated">当然，如果您是老板，您可以在任何环境中以任何方式设置您的文件结构——关于使用Redux作为状态管理工具，React遵循一些约定。例如，人们经常将他们的操作和reducers分离到不同的目录和文件中。下面是我的应用React版本的面向商店的文件结构。</p><pre class="nq nr ns nt gt nu nv nw nx aw ny bi"><span id="0c2d" class="mz kt in nv b gy nz oa l ob oc">// React<br/>src<br/>├── actions<br/>│   ├── landlords.actions.js<br/>│   ├── properties.actions.js<br/>│   └── reviews.actions.js<br/>├── assets<br/>├── components<br/>├── containers<br/>...<br/>├── reducers<br/>│   ├── index.js<br/>│   ├── landlords.reducer.js<br/>│   ├── properties.reducer.js<br/>│   └── reviews.reducer.js<br/>└── utils</span></pre><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi od"><img src="../Images/cdd83426a2af47d42706f8260ff12939.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dfoJ5U70PjcbS9cpxrrVpA.png"/></div></div><figcaption class="oe of gj gh gi og oh bd b be z dk">landlords.actions.js in React app</figcaption></figure><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oi"><img src="../Images/5fe0feea54e2f1e5524c9e624dbbb359.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oe_dYeYZMYrQPbqh0PiBdA.png"/></div></div><figcaption class="oe of gj gh gi og oh bd b be z dk">landlords.reducer.js in React app</figcaption></figure><p id="3c57" class="pw-post-body-paragraph lt lu in jx b jy jz lw lx ka kb ly lz kc mb mc md ke mf mg mh kg mj mk ml ki ig bi translated">React约定让我们将<code class="fe oj ok ol nv b">mutators</code>、<code class="fe oj ok ol nv b">getters</code>和<code class="fe oj ok ol nv b">state</code>都滚动到我们的reducer文件中，通常通过一个<code class="fe oj ok ol nv b">rootReducer</code>(在这种情况下通过我的<code class="fe oj ok ol nv b">/reducers/index.js</code>)连接，同时保持<code class="fe oj ok ol nv b">.actions</code>独立。也许我可以把我的动作和reducers都放在一个名为<code class="fe oj ok ol nv b">store</code>的目录中，但是这是JavaScript开发的狂野西部。</p><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/0dfc2eff6608a00ecd8c63c7bfcca655.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*E9w4PLJhzsxIjNFj.jpg"/></div></div></figure><h2 id="b8d5" class="mz kt in bd ku na nb dn ky nc nd dp lc kc ne nf lg ke ng nh lk kg ni nj lo nk bi translated">Vue/Vuex</h2><p id="1fcb" class="pw-post-body-paragraph lt lu in jx b jy nl lw lx ka nm ly lz kc nn mc md ke no mg mh kg np mk ml ki ig bi translated">让我们来看看Vue/Vuex文件结构。请记住，这是一种潜在的“tom-ay-to”、“tom-ah-to”情况:</p><pre class="nq nr ns nt gt nu nv nw nx aw ny bi"><span id="3381" class="mz kt in nv b gy nz oa l ob oc">// Vue<br/>src/store<br/>├── index.js<br/>└── modules<br/>    ├── landlords.js<br/>    ├── properties.js<br/>    └── reviews.js</span></pre><p id="fa1a" class="pw-post-body-paragraph lt lu in jx b jy jz lw lx ka kb ly lz kc mb mc md ke mf mg mh kg mj mk ml ki ig bi translated">这是同样的资源，地主，在Vuex生态系统中表达:</p><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi om"><img src="../Images/174b92a0605e1c60074ff58160925a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7x_IsPS9n9_yRGzsRxEVDQ.png"/></div></div><figcaption class="oe of gj gh gi og oh bd b be z dk">landlords store module</figcaption></figure><h1 id="cebe" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">Vuex商店模块的元素</h1><h2 id="6d16" class="mz kt in bd ku na nb dn ky nc nd dp lc kc ne nf lg ke ng nh lk kg ni nj lo nk bi translated">状态</h2><p id="248a" class="pw-post-body-paragraph lt lu in jx b jy nl lw lx ka nm ly lz kc nn mc md ke no mg mh kg np mk ml ki ig bi translated">这是不言自明的。它包含了你从API中获取的所有信息，你已经用一个动作和mutator对它进行了设置，见下文。</p><h2 id="d0fd" class="mz kt in bd ku na nb dn ky nc nd dp lc kc ne nf lg ke ng nh lk kg ni nj lo nk bi translated">吸气剂</h2><p id="d472" class="pw-post-body-paragraph lt lu in jx b jy nl lw lx ka nm ly lz kc nn mc md ke no mg mh kg np mk ml ki ig bi translated">这些都是你的前端访问前述状态的方法。在我的例子中，我们可以查询所有房东的状态，并通过id检索某个房东。</p><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi on"><img src="../Images/e0bdf88de7f2bd851383501b38118d91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iVaT-bObKrsGRHDykC8nfw.png"/></div></div></figure><p id="8e18" class="pw-post-body-paragraph lt lu in jx b jy jz lw lx ka kb ly lz kc mb mc md ke mf mg mh kg mj mk ml ki ig bi translated">你可能会问我如何在我们的Vue组件中访问这些getters。下面是我的<code class="fe oj ok ol nv b">Landlords.vue</code>组件的<code class="fe oj ok ol nv b">&lt;script&gt;&lt;/script&gt;</code>部分。首先，我从第2行的<code class="fe oj ok ol nv b">vuex</code> npm模块导入<code class="fe oj ok ol nv b"><a class="ae mm" href="https://vuex.vuejs.org/guide/getters.html#the-mapgetters-helper" rel="noopener ugc nofollow" target="_blank">mapGetters</a></code>(还有<code class="fe oj ok ol nv b"><a class="ae mm" href="https://vuex.vuejs.org/guide/actions.html#dispatching-actions-in-components" rel="noopener ugc nofollow" target="_blank">mapActions</a></code>)。然后使用扩展操作符，我分别在第17行和第22行混合了我的<code class="fe oj ok ol nv b">allLandlords()</code> getter和<code class="fe oj ok ol nv b">deleteLandlord()</code>动作。</p><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oo"><img src="../Images/b492d1f6fd896aadd3807427c1cbbe6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPW6LvzbFO33uVLI-Duv2g.png"/></div></div></figure><p id="0cbc" class="pw-post-body-paragraph lt lu in jx b jy jz lw lx ka kb ly lz kc mb mc md ke mf mg mh kg mj mk ml ki ig bi translated">我可以在这个模板部分的第1、2、3和13行调用我的<code class="fe oj ok ol nv b">allLandlords()</code> getter。我的缩进在这里可能看起来有点不稳定——只是为了减少字符长度！</p><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi op"><img src="../Images/2428b8827f1f34e051ba6a9747c722cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qisOXyHapBJq3OJ78BT32Q.png"/></div></div></figure><h2 id="16d6" class="mz kt in bd ku na nb dn ky nc nd dp lc kc ne nf lg ke ng nh lk kg ni nj lo nk bi translated">行动</h2><p id="d685" class="pw-post-body-paragraph lt lu in jx b jy nl lw lx ka nm ly lz kc nn mc md ke no mg mh kg np mk ml ki ig bi translated">它们负责从API获取数据，或者post、patch、put、delete请求，然后立即触发本地状态的突变。Vuex神奇地将一个<code class="fe oj ok ol nv b">commit</code>函数参数传递给每个动作，这样您就可以启动您的变化(在下一节中概述)。这类似于在Redux操作中返回<code class="fe oj ok ol nv b">dispatch</code>。</p><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oq"><img src="../Images/03dac04aaead38e448314bc691c0bba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n-J_kQX9F1yk5Fx_0Rh5iQ.png"/></div></div><figcaption class="oe of gj gh gi og oh bd b be z dk">Vuex store actions for Landlords</figcaption></figure><p id="f8b0" class="pw-post-body-paragraph lt lu in jx b jy jz lw lx ka kb ly lz kc mb mc md ke mf mg mh kg mj mk ml ki ig bi translated">这是相同的动作，但是在我的React版本的项目中。这有点冗长，因为我在React应用程序中使用的是<code class="fe oj ok ol nv b">fetch</code>而不是<code class="fe oj ok ol nv b">axios</code>。</p><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi od"><img src="../Images/60c6a2231dfb1a1cbe6d7ccae1826bed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vF0SanZKNLabIU54nMDgHw.png"/></div></div><figcaption class="oe of gj gh gi og oh bd b be z dk">Redux store actions for Landlords in React app</figcaption></figure><p id="327a" class="pw-post-body-paragraph lt lu in jx b jy jz lw lx ka kb ly lz kc mb mc md ke mf mg mh kg mj mk ml ki ig bi translated">你可以看到几幅图片之前我是如何将<code class="fe oj ok ol nv b">deleteLandlord</code>放入脚本部分的<code class="fe oj ok ol nv b">Landlords.vue</code>组件文件中的，但这里是我在实际模板中使用它的方式。记住<code class="fe oj ok ol nv b">handleDelete</code>调用<code class="fe oj ok ol nv b">this.deleteLandlord()</code>并传递<code class="fe oj ok ol nv b">id</code>，因为我们可以访问模板中for循环内的<code class="fe oj ok ol nv b">landlord</code>对象。稍后显示完整的Vue组件…</p><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi od"><img src="../Images/7a699dd1ae19429d192e3599d32e4f91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HXSey8OCgPi4AHl6kfIPMg.png"/></div></div></figure><h2 id="87d2" class="mz kt in bd ku na nb dn ky nc nd dp lc kc ne nf lg ke ng nh lk kg ni nj lo nk bi translated">突变</h2><p id="5dce" class="pw-post-body-paragraph lt lu in jx b jy nl lw lx ka nm ly lz kc nn mc md ke no mg mh kg np mk ml ki ig bi translated">这些实际上做，或者说<code class="fe oj ok ol nv b">commit</code>，我们变异状态的脏活。这些不是从我们的Vue组件中访问的，而是由组件中的动作触发的<em class="lv">,这些动作通过每个动作中自动传递的<code class="fe oj ok ol nv b">{ commit }</code>参数来访问。</em></p><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi or"><img src="../Images/ae881995d26b50403db3bd883cd3ff29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C9D6fx9d73ppD6ilQpsvVg.jpeg"/></div></div><figcaption class="oe of gj gh gi og oh bd b be z dk">a human with a mutation</figcaption></figure><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi os"><img src="../Images/1c44f838f11e6ddd40038aa1b8a66761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QmmaKXSntGq3_EgXkxrdag.png"/></div></div></figure><h1 id="24fe" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">模块</h1><p id="c098" class="pw-post-body-paragraph lt lu in jx b jy nl lw lx ka nm ly lz kc nn mc md ke no mg mh kg np mk ml ki ig bi translated">想知道如何整合我们所有的商店吗？在React中，我们使用<code class="fe oj ok ol nv b">combineReducers()</code>。Vuex非常相似:</p><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ot"><img src="../Images/56aa71d600df2fdf67a84de096162587.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a7nkfGGP8QcQYx5fulM1Qw.png"/></div></div></figure><p id="9b1b" class="pw-post-body-paragraph lt lu in jx b jy jz lw lx ka kb ly lz kc mb mc md ke mf mg mh kg mj mk ml ki ig bi translated">然后，我们将最近合并的商店放入我们的<code class="fe oj ok ol nv b">main.js </code>文件中。</p><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ot"><img src="../Images/d018f84a99a89f95f1308f66d31f367d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0rjKysOfrWE8EGfCdo4ZPA.png"/></div></div></figure><h1 id="848a" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">不要有一个复杂的多资源的App？</h1><p id="da1e" class="pw-post-body-paragraph lt lu in jx b jy nl lw lx ka nm ly lz kc nn mc md ke no mg mh kg np mk ml ki ig bi translated">如果你的应用程序不是那么复杂，或者你的组件需要访问一个商店模块中的许多项目，你可以很容易地把所有东西都放在一个商店模块中——写出来会变得非常冗长。改为在Vue组件中导入并使用<code class="fe oj ok ol nv b">mapState</code>助手。</p><pre class="nq nr ns nt gt nu nv nw nx aw ny bi"><span id="a935" class="mz kt in nv b gy nz oa l ob oc">computed: mapState([<br/>  // map this.count to store.state.count<br/>  'count'<br/>])</span></pre><h1 id="c75b" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">完整的地主. vue组件</h1><figure class="nq nr ns nt gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ou"><img src="../Images/c31ab539a5691767cb42d19e12cc46f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a-7LFYVYrPMiep33jIG0Cg.png"/></div></div></figure><h1 id="87cc" class="ks kt in bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">结论</h1><p id="a10e" class="pw-post-body-paragraph lt lu in jx b jy nl lw lx ka nm ly lz kc nn mc md ke no mg mh kg np mk ml ki ig bi translated">我们做到了！在<code class="fe oj ok ol nv b">Redux</code>中，你可以做很多你习惯做的事情，也许在<code class="fe oj ok ol nv b">Vuex</code>中不那么罗嗦。感谢阅读！</p><p id="8c3c" class="pw-post-body-paragraph lt lu in jx b jy jz lw lx ka kb ly lz kc mb mc md ke mf mg mh kg mj mk ml ki ig bi translated">在<a class="ae mm" href="http://www.twitter.com/_dan_foley_" rel="noopener ugc nofollow" target="_blank">推特</a>和<a class="ae mm" href="http://github.com/d-otis" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上关注我</p><h2 id="d350" class="mz kt in bd ku na nb dn ky nc nd dp lc kc ne nf lg ke ng nh lk kg ni nj lo nk bi translated">顺便说一句:树</h2><p id="4259" class="pw-post-body-paragraph lt lu in jx b jy nl lw lx ka nm ly lz kc nn mc md ke no mg mh kg np mk ml ki ig bi translated">查看<a class="ae mm" href="https://formulae.brew.sh/" rel="noopener ugc nofollow" target="_blank">家酿</a>公式，<code class="fe oj ok ol nv b"><a class="ae mm" href="https://formulae.brew.sh/formula/tree" rel="noopener ugc nofollow" target="_blank">tree</a></code>在命令行中可视化或显示目录结构的好方法。许多不同的选项标志可供选择:</p><div class="mn mo gp gr mp mq"><a href="https://formulae.brew.sh/formula/tree" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">树</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">将目录显示为树(可选颜色/HTML输出)http://mama.indstate.edu/users/ice/tree/许可证…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">formulas . brew . sh</p></div></div><div class="ov l"><div class="ow l ox oy oz ov pa jt mq"/></div></div></a></div></div></div>    
</body>
</html>