<html>
<head>
<title>Routing in Vue 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue 3中的路由</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/routing-in-vue-3-6f1e48ecd4b1?source=collection_archive---------9-----------------------#2021-02-02">https://javascript.plainenglish.io/routing-in-vue-3-6f1e48ecd4b1?source=collection_archive---------9-----------------------#2021-02-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c7a1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">举例说明Vue 3中的路由</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/317431df75e940c660872b35ce19a302.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ajK0UQOakT8RdaFI"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@pakata?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pakata Goh</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="cf8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我们将学习如何在Vue 3中处理路由。Vue 3中的路由与我们在Vue 2中的路由略有不同。除此之外，大部分功能和我们处理卷轴、导航卫士等事情的方式保持不变。</p><p id="f23e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将学到什么。</p><ul class=""><li id="929d" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">从头开始设置路由</li><li id="96a4" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">命名路线</li><li id="179f" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">处理错误404(未找到)页面</li><li id="80ab" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">从Vue CLI安装</li></ul><h2 id="6b0f" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated"><strong class="ak">从零开始</strong></h2><p id="8383" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">要安装Vue 3，我们可以根据您的首选软件包管理器来完成</p><h2 id="69eb" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">Npm</h2><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="4ff3" class="mg mh iq nf b gy nj nk l nl nm"><br/>npm i -g @vue/cli<br/></span></pre><h2 id="30f5" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">故事</h2><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="00d5" class="mg mh iq nf b gy nj nk l nl nm"><br/>yarn global add @vue/cli<br/></span></pre><p id="efab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在可以创建我们的Vue 3应用程序了。</p><p id="41bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在终端上运行以下命令</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="6525" class="mg mh iq nf b gy nj nk l nl nm"><br/>vue create vue-routing<br/></span></pre><p id="b90e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请选择默认的Vue 3预览。</p><p id="5277" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将使用文件夹vue-routing创建一个Vue 3应用程序</p><p id="21e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们将目录更改到文件夹中，并使用您最喜欢的文本编辑器打开它。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="2ec8" class="mg mh iq nf b gy nj nk l nl nm"><br/>cd routing-vue<br/></span></pre><p id="c89a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将改变我们的目录到我们的应用程序文件夹</p><p id="6626" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您使用可视代码，请运行命令</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="1046" class="mg mh iq nf b gy nj nk l nl nm"><br/>code .<br/></span></pre><p id="1ea3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该命令将使用visual studio打开应用程序文件夹。</p><h2 id="c8cb" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated"><strong class="ak">安装Vue 3路由器</strong></h2><p id="7290" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">vue有Vue路由器包，处理Vue中的路由。为了将这个包安装到我们的应用程序中，我们运行下面的命令。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="8e25" class="mg mh iq nf b gy nj nk l nl nm"><br/>npm i vue-router@next<br/></span></pre><p id="fdc7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该命令将把vue-router安装到我们的Vue 3应用程序中。</p><h2 id="d5e8" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">设置路由</h2><p id="957f" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">在我们的应用程序文件夹中，我们将创建一个路由器文件，并将其命名为router.js</p><p id="fb4f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个文件中，我们将处理所有的应用程序路由功能。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="bbf5" class="mg mh iq nf b gy nj nk l nl nm"><em class="nn"><br/>import</em> { createWebHistory, createRouter } <em class="nn">from</em> ‘vue-router’;</span><span id="9bbe" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">import</em> Contact <em class="nn">from</em> ‘./components/Contact’;</span><span id="af7f" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">import</em> Home <em class="nn">from</em> ‘./components/Home’;</span><span id="3e56" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">import</em> Notfound <em class="nn">from</em> ‘./components/Notfound’;</span><span id="7ff2" class="mg mh iq nf b gy no nk l nl nm">const routes = [</span><span id="aef4" class="mg mh iq nf b gy no nk l nl nm">{ path: ‘/’, name: “Home”, component: Home },</span><span id="4fcb" class="mg mh iq nf b gy no nk l nl nm">{ path: ‘/contact’, name: “Contact”, component: Contact },</span><span id="024f" class="mg mh iq nf b gy no nk l nl nm">{ path: ‘/:catchAll(.*)’, name: “Notfound”, component: Notfound }</span><span id="5fae" class="mg mh iq nf b gy no nk l nl nm">];</span><span id="5ff0" class="mg mh iq nf b gy no nk l nl nm">const router = createRouter({</span><span id="1906" class="mg mh iq nf b gy no nk l nl nm">history: createWebHistory(),</span><span id="0648" class="mg mh iq nf b gy no nk l nl nm">routes</span><span id="8abf" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">// shorthand routes:routes</em></span><span id="2104" class="mg mh iq nf b gy no nk l nl nm">});</span><span id="fdc5" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">export</em> <em class="nn">default</em> router;<br/></span></pre><p id="483b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从vue-router我们将需要两个重要的功能，即创建网页历史和创建路由器。</p><p id="72ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> createWebHistory </strong> —将路由模式设置为历史。</p><p id="0105" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建路由器 —创建我们的路由器</p><p id="1a67" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们可以创建路由器，它将是一个对象数组。在对象中，我们需要指定可选的路径、组件和名称。</p><p id="a631" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">路径</strong> —将指定我们想要直接到达的路径。例如，'/contact '将指向localhost:8080/contact。</p><p id="fd5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">组件</strong> —当路径中指定的路线匹配时，这将是我们想要呈现的组件。</p><p id="aa87" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">名称</strong> —这是可选的，但是我们可以在组件匹配相同组件的情况下使用它。</p><p id="b717" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">设置路线后，我们可以继续设置路线功能。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="e08d" class="mg mh iq nf b gy nj nk l nl nm"><br/>const router = createRouter({</span><span id="0c29" class="mg mh iq nf b gy no nk l nl nm">history: createWebHistory(),</span><span id="c63d" class="mg mh iq nf b gy no nk l nl nm">routes</span><span id="82f9" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">// shorthand routes:routes</em></span><span id="4cc7" class="mg mh iq nf b gy no nk l nl nm">});<br/></span></pre><p id="c23c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们设置history来创建WebHistory()。之前，我们可以设置模式:历史。</p><p id="57fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在可以设置路线，这是路线的简写:路线</p><h2 id="14fa" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">处理404未找到的路线</h2><p id="1c67" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">要在我们的路由中设置404未找到的页面，我们可以设置路径来捕捉所有未找到的页面。</p><p id="b2e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，我们设置如下所示的路径。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="d001" class="mg mh iq nf b gy nj nk l nl nm"><br/>{ path: ‘/:catchAll(.*)’, name: “Notfound”, component: Notfound }<br/></span></pre><p id="ce4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这也适用于动态创建的页面。</p><p id="f824" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们已经设置了路由功能。记得导出路由器。</p><h2 id="697a" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">让应用程序使用Vue路由器</h2><p id="4f60" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">现在，在main.js文件中，我们将导入路由器文件，并在createApp中使用它。</p><p id="8134" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以将我们的应用程序流划分如下。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="e0c1" class="mg mh iq nf b gy nj nk l nl nm"><em class="nn"><br/>import</em> { createApp } <em class="nn">from</em> ‘vue’</span><span id="2825" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">import</em> App <em class="nn">from</em> ‘./App.vue’</span><span id="9ec1" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">import</em> router <em class="nn">from</em> ‘./routes.js’</span><span id="55f5" class="mg mh iq nf b gy no nk l nl nm">const app = createApp(App)</span><span id="c1e8" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">//tell app to use router file before we mount</em></span><span id="7f54" class="mg mh iq nf b gy no nk l nl nm">app.use(router)</span><span id="feda" class="mg mh iq nf b gy no nk l nl nm">app.mount(‘#app’)</span><span id="1dc0" class="mg mh iq nf b gy no nk l nl nm">const app = createApp(App)</span><span id="96c7" class="mg mh iq nf b gy no nk l nl nm">//tell app to use router file before we mount</span><span id="c6bd" class="mg mh iq nf b gy no nk l nl nm">app.use(router)</span><span id="e367" class="mg mh iq nf b gy no nk l nl nm">app.mount(‘#app’)<br/></span></pre><p id="5831" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以类似地将这些链接在一起，如下所示。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="6d2c" class="mg mh iq nf b gy nj nk l nl nm"><em class="nn"><br/>import</em> { createApp } <em class="nn">from</em> ‘vue’</span><span id="5039" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">import</em> App <em class="nn">from</em> ‘./App.vue’</span><span id="9a2b" class="mg mh iq nf b gy no nk l nl nm"><em class="nn">import</em> router <em class="nn">from</em> ‘./routes.js’</span><span id="c209" class="mg mh iq nf b gy no nk l nl nm">createApp(App).use(router).mount(‘#app’)<br/></span></pre><p id="6c54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，在我们的app.vue文件中，我们可以设置我们希望应用程序在哪里呈现组件。</p><p id="7fa9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我们通常使用的</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="c620" class="mg mh iq nf b gy nj nk l nl nm"><br/>&lt;router-view&gt;&lt;/router-view&gt;<br/></span></pre><p id="3aa2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了提供在应用程序中导航的链接，我们使用。</p><p id="e8c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，我们还提供了一个to，这将指定用户将被定向到的URL。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="5b99" class="mg mh iq nf b gy nj nk l nl nm"><br/>&lt;router-link to=”/contact”&gt;Contact&lt;/router-link&gt;<br/></span></pre><h2 id="c712" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated"><strong class="ak">从Vue CLI安装</strong></h2><p id="5864" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我们也可以在应用程序中启用Vue路由，而无需处理很多事情。</p><p id="8536" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在使用Vue CLI创建应用程序期间，在项目创建期间提供的提示上选择vue-router，Vue将为我们完成所有路由功能。</p><p id="af23" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">几乎和我们做过的差不多。</p><h2 id="b465" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">更多阅读</h2><div class="np nq gp gr nr ns"><a href="https://medium.com/javascript-in-plain-english/a-deep-dive-into-the-vue3-composition-api-dece990fc846" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">深入探究Vue3组合API</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">通过示例深入研究vue组合API。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og kp ns"/></div></div></a></div><h2 id="c0b9" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">结论</h2><p id="b453" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我们所学内容的回顾:</p><ul class=""><li id="3c4d" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">从头开始设置路由</li><li id="cea6" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">命名路线</li><li id="9cc6" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">处理错误404(未找到)页面</li><li id="410e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">从Vue CLI安装</li></ul><p id="b863" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢谢你坚持到现在。我希望你已经了解了一些关于Vue 3中路由的知识。</p><p id="db07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你觉得这篇文章有帮助，请不要犹豫，与他人分享。</p></div></div>    
</body>
</html>