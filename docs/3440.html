<html>
<head>
<title>Use Import Instead of Require in Node App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在节点应用程序中使用导入而不是要求</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-import-instead-of-require-statements-in-a-node-app-short-f3eff5d3a90d?source=collection_archive---------5-----------------------#2021-07-12">https://javascript.plainenglish.io/how-to-use-import-instead-of-require-statements-in-a-node-app-short-f3eff5d3a90d?source=collection_archive---------5-----------------------#2021-07-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="c2ba" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何在节点应用程序中使用Import而不是Require语句</h2></div><p id="3322" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢<strong class="ke io"> Node.js中<strong class="ke io"> ESM </strong>文件的支持，</strong>使用<code class="fe ky kz la lb b">const something = require('something')</code>的日子一去不复返了。让我们了解一下在您的新节点js项目中切换到使用<strong class="ke io"> import语句</strong>是多么容易。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/512f596aed00176ccf903ff1167a577f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*VlhBwviC5RxvE2ghR6Ggew.png"/></div></figure><p id="2dee" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">今天我们将制作一个非常简单的Express API来演示如何在普通的NodeJS应用程序中实现现代导入语法。</p></div><div class="ab cl lk ll hr lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ig ih ii ij ik"><h1 id="aa83" class="lr ls in bd lt lu lv lw lx ly lz ma mb jt mc ju md jw me jx mf jz mg ka mh mi bi translated">先决条件</h1><ul class=""><li id="91b7" class="mj mk in ke b kf ml ki mm kl mn kp mo kt mp kx mq mr ms mt bi translated">对NodeJS的基本理解</li><li id="5ed7" class="mj mk in ke b kf mu ki mv kl mw kp mx kt my kx mq mr ms mt bi translated">Express知识不是必需的，但肯定会有所帮助</li><li id="ca9e" class="mj mk in ke b kf mu ki mv kl mw kp mx kt my kx mq mr ms mt bi translated">初级命令行经验(知道如何创建一个新目录和改变它)</li><li id="5264" class="mj mk in ke b kf mu ki mv kl mw kp mx kt my kx mq mr ms mt bi translated">node的最新版本(在撰写本文时，版本12和14是node的当前LTS版本，支持这个特性)</li></ul></div><div class="ab cl lk ll hr lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ig ih ii ij ik"><h1 id="dc79" class="lr ls in bd lt lu lv lw lx ly lz ma mb jt mc ju md jw me jx mf jz mg ka mh mi bi translated">我们开始吧</h1><p id="1217" class="pw-post-body-paragraph kc kd in ke b kf ml jo kh ki mm jr kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated">我们将构建一个接受一个路由的Express API。该路由将位于<code class="fe ky kz la lb b">/hello</code>，它将返回一个字符串，表示“<strong class="ke io">hello world”</strong>。事不宜迟，让我们开始编码吧。</p><p id="7bea" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们要做的第一件事是打开一个终端/PowerShell(取决于您的操作系统),并导航到您想要放置代码的目录。我在机器的根目录下有一个代码目录，我把所有的项目都放在里面，但是任何旧的目录都可以。在到达您选择的目录后，运行这个命令。</p><pre class="ld le lf lg gt nc lb nd ne aw nf bi"><span id="8ea5" class="ng ls in lb b gy nh ni l nj nk">mkdir esm-modules</span></pre><p id="62ec" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然后在命令行中导航到它。</p><pre class="ld le lf lg gt nc lb nd ne aw nf bi"><span id="bfea" class="ng ls in lb b gy nh ni l nj nk">cd esm-modules</span></pre><p id="b9d0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一旦进入目录，您将需要运行这个命令。</p><pre class="ld le lf lg gt nc lb nd ne aw nf bi"><span id="10a5" class="ng ls in lb b gy nh ni l nj nk">npm init -y</span></pre><p id="4b48" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这将创建一个空节点项目。</p><p id="89f9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在运行这个命令，在节点应用程序中安装Express。</p><pre class="ld le lf lg gt nc lb nd ne aw nf bi"><span id="4524" class="ng ls in lb b gy nh ni l nj nk">npm i express</span></pre><p id="42c6" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">继续打开您的<code class="fe ky kz la lb b">package.json</code>,在JSON对象内部的某个地方添加一行代码。这将允许我们使用导入/导出语句，因此这非常重要。</p><pre class="ld le lf lg gt nc lb nd ne aw nf bi"><span id="062d" class="ng ls in lb b gy nh ni l nj nk">"type": "module"</span></pre><p id="d80b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">编辑后，它应该看起来像这样。</p><p id="e8d0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="nl">请注意，express的版本号可能会因您阅读本文的时间而异。</em></p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="0c5f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有了这些，我们现在可以在NodeJS应用程序中自由地使用导入/导出语句。</p><p id="4d57" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们将在项目路径中创建一个<code class="fe ky kz la lb b">app.js</code>文件，并向其中添加以下代码。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="360f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在添加了这段代码，一切都可以工作了。您可以在命令行中运行下面的命令。</p><pre class="ld le lf lg gt nc lb nd ne aw nf bi"><span id="8e7d" class="ng ls in lb b gy nh ni l nj nk">node app.js</span></pre><p id="c04f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">应用程序编译后，您应该能够进入浏览器并导航到以下URL:</p><p id="b517" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae no" href="http://localhost:3000/hello" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/hello</a></p></div><div class="ab cl lk ll hr lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ig ih ii ij ik"><h1 id="cd91" class="lr ls in bd lt lu lv lw lx ly lz ma mb jt mc ju md jw me jx mf jz mg ka mh mi bi translated">包扎</h1><p id="1739" class="pw-post-body-paragraph kc kd in ke b kf ml jo kh ki mm jr kk kl mz kn ko kp na kr ks kt nb kv kw kx ig bi translated">就这样了。您现在可以开始在您的节点应用程序中使用现代的ES导入/导出语句，而不需要像Babel这样的工具。一如既往，如果你有任何问题，请随时留下评论。</p><p id="00ff" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="nl">更多内容尽在</em><a class="ae no" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="nl">plain English . io</em></a></p></div></div>    
</body>
</html>