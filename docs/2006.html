<html>
<head>
<title>How to Create a Built-In Loading Bar for your React Dialog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何为你的React对话框创建一个内置的加载栏</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-built-in-loading-bar-for-your-react-dialog-4765f5aab383?source=collection_archive---------16-----------------------#2021-04-26">https://javascript.plainenglish.io/how-to-create-a-built-in-loading-bar-for-your-react-dialog-4765f5aab383?source=collection_archive---------16-----------------------#2021-04-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="66b0" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">创建带有加载进度条的可重用材料表单对话框的分步指南。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b8d592ff85f642280ce3d784b1ab70fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ch7u6_WPsBG5w29j.jpg"/></div></div></figure><p id="5e16" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">表单对话框非常常见和有用，尤其是当你不想把用户重定向到一个单独的页面时。一个常见的例子是时事通讯订阅对话框，无论用户是否选择订阅，他们都不应该返回到初始页面。</p><p id="a011" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一个好的做法是，一旦用户向服务器提交请求，就触发一个加载栏。下面是我使用材料线性进展创建的一个示例:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/a56fdf00b8e924979a3527042d80f037.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*rZ4xedoarWpuuMva.gif"/></div></figure><p id="322c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但是如果在一个项目中有其他表单对话框需要以同样的方式运行呢？在本文中，我将一步一步地介绍如何创建一个可重用的自定义对话框，该对话框继承了React Material并扩展了功能以包括一个内置的加载栏。这样，我们在每个对话中都有一致的体验，没有任何冗余。</p><h2 id="aa51" class="ll lm in bd ln lo lp dn lq lr ls dp lt kx lu lv lw lb lx ly lz lf ma mb mc md bi translated">步骤1:设置React项目</h2><p id="8154" class="pw-post-body-paragraph ko kp in kq b kr me jo kt ku mf jr kw kx mg kz la lb mh ld le lf mi lh li lj ig bi translated"><a class="ae mj" href="https://create-react-app.dev/docs/getting-started/" rel="noopener ugc nofollow" target="_blank">创建React App </a>并安装<a class="ae mj" href="https://material-ui.com/getting-started/installation/" rel="noopener ugc nofollow" target="_blank"> React Material </a></p><pre class="kd ke kf kg gt mk ml mm mn aw mo bi"><span id="6b0c" class="ll lm in ml b gy mp mq l mr ms">npx create-react-app react-material-dialog<br/>npm install @material-ui/core</span></pre><h2 id="5969" class="ll lm in bd ln lo lp dn lq lr ls dp lt kx lu lv lw lb lx ly lz lf ma mb mc md bi translated">步骤2:创建自定义对话框</h2><p id="3b5f" class="pw-post-body-paragraph ko kp in kq b kr me jo kt ku mf jr kw kx mg kz la lb mh ld le lf mi lh li lj ig bi translated">让我们创建一个新的<code class="fe mt mu mv ml b">Dialog.js</code>组件，它继承自材质对话框并使用一个<code class="fe mt mu mv ml b">LinearProgress</code>组件。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="efe0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们将LinearProgress作为MatDialog中的第一个元素，后面是最终将由消费者传递的子元素。另外，<code class="fe mt mu mv ml b">...props</code>应该进入MatDialog以访问所有组件的特性(比如open，onClose，aria…)。</p><blockquote class="my mz na"><p id="9a3b" class="ko kp nb kq b kr ks jo kt ku kv jr kw nc ky kz la nd lc ld le ne lg lh li lj ig bi translated"><strong class="kq io">注意:</strong>我之所以将材质对话框作为<code class="fe mt mu mv ml b">MatDialog</code>导入，是为了避免与我们刚刚创建的自定义<code class="fe mt mu mv ml b">dialog.js</code>产生命名冲突。</p></blockquote><h2 id="4576" class="ll lm in bd ln lo lp dn lq lr ls dp lt kx lu lv lw lb lx ly lz lf ma mb mc md bi translated">步骤3:测试加载杆</h2><p id="afd3" class="pw-post-body-paragraph ko kp in kq b kr me jo kt ku mf jr kw kx mg kz la lb mh ld le lf mi lh li lj ig bi translated">在主<code class="fe mt mu mv ml b">App.js</code>组件中，让我们尝试刚刚创建的自定义对话框，并检查加载栏是否显示。我们将使用来自<a class="ae mj" href="https://material-ui.com/components/dialogs/" rel="noopener ugc nofollow" target="_blank"> React Material </a>的一个表单对话框示例，但不是从<code class="fe mt mu mv ml b">@material-ui/core</code>导入对话框，而是导入自定义对话框<code class="fe mt mu mv ml b">./Dialog</code></p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/2fe36e694b7581ac0b6c474e079187a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*-VbB8LhXbizPXBnA.gif"/></div></figure><h2 id="074a" class="ll lm in bd ln lo lp dn lq lr ls dp lt kx lu lv lw lb lx ly lz lf ma mb mc md bi translated">步骤4:创建有条件加载</h2><p id="1930" class="pw-post-body-paragraph ko kp in kq b kr me jo kt ku mf jr kw kx mg kz la lb mh ld le lf mi lh li lj ig bi translated">正如我们在上面看到的，当前组件并没有像加载栏一直显示的那样完整。</p><p id="508b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们可以通过添加一个新的可由消费者传递的<code class="fe mt mu mv ml b">loading</code>道具来轻松调整这一点。它将指示何时触发加载:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="da79" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在我们已经准备好了完整的组件，它接受了一个<code class="fe mt mu mv ml b">loading</code> prop，让我们在提交表单时触发加载栏。我们将包括一个超时功能来模拟API调用，然后关闭对话框:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/e79cc110b57ee269357bef0fbf35117b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*PCh3p2HxA8OahIJV.gif"/></div></figure><p id="fd87" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">你就完事了！现在，任何时候你有一个表单对话框，你需要做的就是使用新的自定义对话框并传递给它<code class="fe mt mu mv ml b">loading</code>属性。</p><p id="b2c7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">你可以在这里访问<a class="ae mj" href="https://github.com/muhimasri/react-material-loading-dialog" rel="noopener ugc nofollow" target="_blank">的全部储存库。我希望你喜欢从这篇文章中学习，如果你有任何问题，请在下面留下评论。</a></p><p id="c9ff" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">再见了。</p></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><p id="daff" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">更多相关文章，你可以<a class="ae mj" href="https://muhimasri.com/" rel="noopener ugc nofollow" target="_blank">访问我的网站</a>或<a class="ae mj" href="https://muhimasri.com/signup/" rel="noopener ugc nofollow" target="_blank">注册获取最新文章和更新</a>。</p><p id="0377" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nb">原载于2021年4月26日https://muhimasri.com</em><em class="nb">的</em> <a class="ae mj" href="https://muhimasri.com/blogs/how-to-create-a-built-in-loading-bar-for-your-react-dialog/" rel="noopener ugc nofollow" target="_blank"> <em class="nb">。</em></a></p><p id="fcb9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae mj" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="nb">更多内容尽在plainenglish.io </em> </a></p></div></div>    
</body>
</html>