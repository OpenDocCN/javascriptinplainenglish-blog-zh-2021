<html>
<head>
<title>How do closures make private variables possible in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">闭包是如何让私有变量在JavaScript中成为可能的？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-do-closures-make-private-variables-possible-in-javascript-e4c0adf3f64b?source=collection_archive---------10-----------------------#2021-03-12">https://javascript.plainenglish.io/how-do-closures-make-private-variables-possible-in-javascript-e4c0adf3f64b?source=collection_archive---------10-----------------------#2021-03-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/2dc6c443a2dacb56de600f37f8c1b168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oVZLqxZLn8iPctiQpavAdQ.png"/></div></div></figure><p id="51d7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">能够实现私有变量和方法对于限制对代码的访问非常有帮助。通过使一个变量私有，它限制了可以改变它的代码的数量。在JavaScript中有几种方法可以实现私有变量和方法。其中一种方法是使用闭包。</p><h1 id="65f5" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">什么是终结？</h1><p id="38b1" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">闭包是一个功能与其周围状态的组合。这意味着我们可以从函数内部访问定义函数的作用域。让我们看一个简单的例子:</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/14ae9948fd065a66141cf482201d77aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EcdB5BP3ILqxXhrB"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">An example of a closure</figcaption></figure><p id="a0a0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里我们有一个外部函数<code class="fe mf mg mh mi b">add</code>和一个内部函数<code class="fe mf mg mh mi b">addFive</code>。将<code class="fe mf mg mh mi b">add</code>赋给变量将返回内部函数<code class="fe mf mg mh mi b">addFive</code>。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/5454fd752f2a1eef7bb70da7d5b0cda1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sLawvsp3Gs3lpkqd"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Executing closure example</figcaption></figure><p id="9b44" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">调用变量并传递一个数字将执行<code class="fe mf mg mh mi b">addFive</code>。起初，访问<code class="fe mf mg mh mi b">x</code>似乎是不可能的，因为<code class="fe mf mg mh mi b">x</code>属于已经执行完毕的外部函数的范围。但是，因为函数<code class="fe mf mg mh mi b">addFive</code>形成了一个闭包，所以它还可以访问声明它的环境或范围(也称为词法环境)。</p><p id="ead8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果一个函数形成了一个闭包，它可以访问父/外部函数中声明的变量和函数，即使是在父/外部函数完成执行之后。这个原则允许我们实现私有变量。</p><h1 id="5b85" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">实现私有变量</h1><p id="1938" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">在JavaScript中，私有变量本身是不可用的。但是知道了闭包是如何工作的，我们可以模仿它们。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mj"><img src="../Images/13f4c5cc952648f534788dc7c44d6cbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NuFsxHM3TkVZ3T4M"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Implementing private variables</figcaption></figure><p id="1c7a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个例子应用了我们在上一节中看到的概念。一个IIFE(立即调用的函数表达式)被分配给常数<code class="fe mf mg mh mi b">Door</code>。IIFE立即执行，并用两个方法返回一个对象。这个返回的对象在其词法环境中有一个函数和一个变量。</p><p id="e3f4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">生命结束执行，所以变量和函数都不能从外部访问。只有返回对象中的两个方法可以访问它们，因为它们形成了闭包。</p></div><div class="ab cl mk ml hr mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ig ih ii ij ik"><p id="819d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mr">原载于</em> <a class="ae ms" href="https://niharraoteblog.netlify.app/javascript-closures" rel="noopener ugc nofollow" target="_blank"> <em class="mr">我的博客</em> </a> <em class="mr">。</em></p></div></div>    
</body>
</html>