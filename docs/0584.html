<html>
<head>
<title>Adding Graphics to a Vue App with D3 — Circle, Ellipse, and Transforms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用D3向Vue应用程序添加图形—圆形、椭圆形和变换</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/adding-graphics-to-a-vue-app-with-d3-circle-ellipse-and-transforms-c0fad058c486?source=collection_archive---------12-----------------------#2021-02-04">https://javascript.plainenglish.io/adding-graphics-to-a-vue-app-with-d3-circle-ellipse-and-transforms-c0fad058c486?source=collection_archive---------12-----------------------#2021-02-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1809b1fc64e7b7d921793f0f753a1e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_dfZfHgtzzSR_MKk"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@yapics?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Leon Seibert</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ccf5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">D3让我们可以轻松地向前端web应用添加图形。</p><p id="461d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue是一个流行的前端web框架。</p><p id="55a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们合作得很好。在本文中，我们将了解如何使用D3为Vue应用添加图形。</p><h1 id="195b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">圆形元素</h1><p id="f98b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在我们的Vue应用程序中添加一个带有D3的圆圈。</p><p id="d8e5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c386" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;div id="svgcontainer"&gt;&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="f0e8" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>import * as d3 from "d3";<br/>import Vue from "vue";</span><span id="e64d" class="mn lc iq mj b gy ms mp l mq mr">export default {<br/>  name: "App",<br/>  mounted() {<br/>    Vue.nextTick(() =&gt; {<br/>      const width = 300;<br/>      const height = 300;<br/>      const svg = d3<br/>        .select("#svgcontainer")<br/>        .append("svg")<br/>        .attr("width", width)<br/>        .attr("height", height);<br/>      svg<br/>        .append("circle")<br/>        .attr("cx", 200)<br/>        .attr("cy", 50)<br/>        .attr("r", 20)<br/>        .attr("fill", "lightgreen");<br/>    });<br/>  },<br/>};<br/>&lt;/script&gt;</span></pre><p id="643a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加圆。</p><p id="aaa1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe mt mu mv mj b">d3.select</code>方法创建了<code class="fe mt mu mv mj b">svg</code>元素。</p><p id="d5a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们选择ID为<code class="fe mt mu mv mj b">svgcontainer</code>的div。</p><p id="6840" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe mt mu mv mj b">attr</code>方法设置<code class="fe mt mu mv mj b">width</code>和<code class="fe mt mu mv mj b">height</code>来设置<code class="fe mt mu mv mj b">svg</code>元素的宽度和高度。</p><p id="1ed5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们通过使用<code class="fe mt mu mv mj b">'circle'</code>参数调用<code class="fe mt mu mv mj b">append</code>来添加这个圆。</p><p id="9738" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe mt mu mv mj b">attr</code>方法设置圆心的x和y坐标。</p><p id="effe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">'cx'</code>设置中心的x坐标。</p><p id="d644" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">'cy'</code>设置中心的y坐标。</p><p id="9d63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">'fill'</code>设置圆的背景颜色。</p><p id="f8e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">'r'</code>设置圆的半径。</p><h1 id="332f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">椭圆元素</h1><p id="392a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要添加一个椭圆，我们可以做一些类似的事情。</p><p id="792d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="96c1" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;div id="svgcontainer"&gt;&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="3e9a" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>import * as d3 from "d3";<br/>import Vue from "vue";</span><span id="04d3" class="mn lc iq mj b gy ms mp l mq mr">export default {<br/>  name: "App",<br/>  mounted() {<br/>    Vue.nextTick(() =&gt; {<br/>      const width = 300;<br/>      const height = 300;<br/>      const svg = d3<br/>        .select("#svgcontainer")<br/>        .append("svg")<br/>        .attr("width", width)<br/>        .attr("height", height);<br/>      svg<br/>        .append("ellipse")<br/>        .attr("cx", 200)<br/>        .attr("cy", 50)<br/>        .attr("rx", 100)<br/>        .attr("ry", 50)<br/>        .attr("fill", "lightgreen");<br/>    });<br/>  },<br/>};<br/>&lt;/script&gt;</span></pre><p id="59d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们把<code class="fe mt mu mv mj b">'circle'</code>改成了<code class="fe mt mu mv mj b">'ellipse'</code>。</p><p id="878d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们添加<code class="fe mt mu mv mj b">'rx'</code>和<code class="fe mt mu mv mj b">'ry'</code>属性代替<code class="fe mt mu mv mj b">'r'</code>。</p><p id="c3da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">'rx'</code>设置水平半径，<code class="fe mt mu mv mj b">'ry'</code>设置垂直半径。</p><h1 id="2b11" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">SVG变换</h1><p id="1057" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用D3来转换SVG。</p><p id="bf91" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c17e" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;div id="svgcontainer"&gt;&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="6351" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>import * as d3 from "d3";<br/>import Vue from "vue";</span><span id="1db5" class="mn lc iq mj b gy ms mp l mq mr">export default {<br/>  name: "App",<br/>  mounted() {<br/>    Vue.nextTick(() =&gt; {<br/>      const width = 300;<br/>      const height = 300;<br/>      const svg = d3<br/>        .select("#svgcontainer")<br/>        .append("svg")<br/>        .attr("width", width)<br/>        .attr("height", height);</span><span id="9ccb" class="mn lc iq mj b gy ms mp l mq mr">      const group = svg<br/>        .append("g")<br/>        .attr("transform", "translate(60, 60) rotate(30)");</span><span id="4348" class="mn lc iq mj b gy ms mp l mq mr">      const rect = group<br/>        .append("rect")<br/>        .attr("x", 20)<br/>        .attr("y", 20)<br/>        .attr("width", 60)<br/>        .attr("height", 30)<br/>        .attr("fill", "green");<br/>    });<br/>  },<br/>};<br/>&lt;/script&gt;</span></pre><p id="79db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们用<code class="fe mt mu mv mj b">'transform'</code>字符串调用<code class="fe mt mu mv mj b">attr</code>来设置<code class="fe mt mu mv mj b">svg</code>元素的<code class="fe mt mu mv mj b">transform</code> CSS属性。</p><p id="417f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">translate(60, 60)</code>将SVG分别向右和向下移动60个像素。</p><p id="4126" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">rotate(30)</code>将SVG旋转30度。</p><p id="a7aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe mt mu mv mj b">append</code>方法调用append rectangle，用<code class="fe mt mu mv mj b">'rect'</code>作为参数，并设置所有属性。</p><h1 id="5b02" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="5d25" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以添加圆形和椭圆形，并在Vue应用程序中使用D3变换形状。</p></div></div>    
</body>
</html>