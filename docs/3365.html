<html>
<head>
<title>JavaScript Operators — What is the Ternary Operator and How Does it Work?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript运算符——什么是三元运算符，它是如何工作的？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-operators-the-ternary-operator-f3755c98d2bf?source=collection_archive---------15-----------------------#2021-07-08">https://javascript.plainenglish.io/javascript-operators-the-ternary-operator-f3755c98d2bf?source=collection_archive---------15-----------------------#2021-07-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="e382" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">JavaScript包括一个具有三个操作数的运算符。这就是所谓的三元运算符。</p><p id="f3a8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这篇文章是JavaScript操作符系列的继续，我们之前已经讨论过了一元操作符<a class="ae ki" href="https://robert-laws.com/blog/javascript-operators-unary" rel="noopener ugc nofollow" target="_blank">和二元操作符</a>。三元运算符有时被称为条件运算符，通常用于<code class="fe kj kk kl km b">if...else</code>语句的简化版本。使用三元运算符有助于压缩代码，尽管它有时被批评为导致<a class="ae ki" href="https://betterprogramming.pub/the-javascript-ternary-operator-1589238d929b" rel="noopener ugc nofollow" target="_blank">比<code class="fe kj kk kl km b">if...else</code>语句更不透明</a>和<a class="ae ki" href="https://jrsinclair.com/articles/2021/rethinking-the-javascript-ternary-operator/" rel="noopener ugc nofollow" target="_blank">可读</a>代码。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/77d8b6feb34a77acb34a2a81e7dfc93e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kha6v2fI7SbSQsj7woQiGg.jpeg"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">JavaScript Operators — Ternary Operators</figcaption></figure><h2 id="16bc" class="ld le in bd lf lg lh dn li lj lk dp ll jv lm ln lo jz lp lq lr kd ls lt lu lv bi translated">构造三元算子</h2><p id="e56d" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated"><a class="ae ki" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator" rel="noopener ugc nofollow" target="_blank">三元运算符</a>顾名思义，需要三个操作数。三元运算符语句包含一个要计算的条件。条件句后面是一个问号。在评估时，如果条件的结果为真，操作符将执行冒号前的代码，如果条件的结果为假，则执行冒号后的代码。</p><pre class="ko kp kq kr gt mb km mc md aw me bi"><span id="fd83" class="ld le in km b gy mf mg l mh mi">condition (truthy or falsy) ? `code to execute if truthy` : `code to execute if falsy`;</span></pre><h2 id="b568" class="ld le in bd lf lg lh dn li lj lk dp ll jv lm ln lo jz lp lq lr kd ls lt lu lv bi translated">三元运算符与if比较...else语句</h2><p id="ebab" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">三元运算符和<code class="fe kj kk kl km b">else...if</code>语句在程序中返回的结果是等价的。主要的区别是三元运算符写起来更简洁。</p><pre class="ko kp kq kr gt mb km mc md aw me bi"><span id="671e" class="ld le in km b gy mf mg l mh mi">let price = 35.75;</span><span id="b14c" class="ld le in km b gy mj mg l mh mi">// using the else...if statement<br/>if (price &gt; 25) {<br/>  console.log('too expensive');<br/>} else {<br/>  console.log('affordable');<br/>}</span><span id="3626" class="ld le in km b gy mj mg l mh mi">// using the ternary operator<br/>price &gt; 25 ? console.log('too expensive') : console.log('affordable');</span><span id="900a" class="ld le in km b gy mj mg l mh mi">// result from both statements 'too expensive'</span></pre><p id="e7ac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">尽管三元运算符通常用于简单条件的评估，但它们也可用于构建更复杂的条件语句，包括镜像复杂<code class="fe kj kk kl km b">if...else</code>语句的语句。</p><p id="d160" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面的代码示例显示了如何创建一个三元语句，该语句包括一个<code class="fe kj kk kl km b">if</code>、<code class="fe kj kk kl km b">elseif</code>和<code class="fe kj kk kl km b">else</code>组合以及作为三元运算符的等效项。</p><pre class="ko kp kq kr gt mb km mc md aw me bi"><span id="abe8" class="ld le in km b gy mf mg l mh mi">let name = 'bob cobb';</span><span id="a383" class="ld le in km b gy mj mg l mh mi">if (name.includes('melvin')) {<br/>  console.log('hello, melvin');<br/>} else if (name.includes('kalvin')) {<br/>  console.log('hello, kalvin');<br/>} else {<br/>  console.log('hello someone else');<br/>}</span><span id="36fe" class="ld le in km b gy mj mg l mh mi">name.includes('melvin')<br/>  ? console.log('hello, melvin')<br/>  : name.includes('kalvin')<br/>  ? console.log('hello, kalvin')<br/>  : console.log('hello someone else');</span></pre><p id="e0a7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">条件语句有时也可以包含嵌套条件。在下面的代码示例中，有一个嵌套的<code class="fe kj kk kl km b">if...else</code>语句和一个三元语句的等效版本。</p><pre class="ko kp kq kr gt mb km mc md aw me bi"><span id="b83f" class="ld le in km b gy mf mg l mh mi">let product = { group: 'electronics', name: 'camera', price: 95 };</span><span id="86a1" class="ld le in km b gy mj mg l mh mi">if (product.group == 'electronics') {<br/>  if (product.name == 'camera') {<br/>    if (product.price &gt; 75) {<br/>      console.log('expensive camera');<br/>    } else {<br/>      console.log('affordable camera');<br/>    }<br/>  } else if (product.name == 'computer') {<br/>    if (product.price &gt; 500) {<br/>      console.log('expensive computer');<br/>    } else {<br/>      console.log('affordable computer');<br/>    }<br/>  } else {<br/>    console.log('other electronic product');<br/>  }<br/>} else {<br/>  console.log('other product group');<br/>}</span><span id="ab17" class="ld le in km b gy mj mg l mh mi">product.group == 'electronics'<br/>  ? product.name == 'camera'<br/>    ? product.price &gt; 75<br/>      ? console.log('expensive camera')<br/>      : console.log('affordable camera')<br/>    : product.name == 'computer'<br/>    ? product.price &gt; 500<br/>      ? console.log('expensive computer')<br/>      : console.log('affordable computer')<br/>    : console.log('other electronic product')<br/>  : console.log('other product group');</span></pre><p id="dada" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的代码表明，尽管三元运算符比<code class="fe kj kk kl km b">if...else</code>语句更简洁，但要理解它的作用还需要更多的努力。</p><p id="e29e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">三元运算符在条件语句不是特别复杂的情况下很有用，因为当三元运算符跨越多行时可能很难阅读，如上例所示。在需要复杂逻辑的情况下，<code class="fe kj kk kl km b">else...if</code>语句更有用，因为它们更容易在多行中阅读，尤其是当它们包含几个或嵌入的条件语句时。</p><h2 id="b2ae" class="ld le in bd lf lg lh dn li lj lk dp ll jv lm ln lo jz lp lq lr kd ls lt lu lv bi translated">变量赋值</h2><p id="e0c5" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">三元运算符的一个很好的用例是根据条件分配变量。</p><pre class="ko kp kq kr gt mb km mc md aw me bi"><span id="6b0e" class="ld le in km b gy mf mg l mh mi">let department = 'Information Technology';<br/>const isManager = true;</span><span id="1043" class="ld le in km b gy mj mg l mh mi">const role = isManager ? `${department} manager` : `${department} staff`;</span></pre><p id="bb33" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里，变量<code class="fe kj kk kl km b">role</code>根据<code class="fe kj kk kl km b">isManager</code>布尔值的计算方式有条件地赋值。</p><h2 id="581f" class="ld le in bd lf lg lh dn li lj lk dp ll jv lm ln lo jz lp lq lr kd ls lt lu lv bi translated">结论</h2><p id="89ed" class="pw-post-body-paragraph jk jl in jm b jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh ig bi translated">三元运算符非常适合不太复杂的计算，在这种情况下，压缩代码有助于提高代码的可读性，在这种情况下，可以编写减少的代码行，而不会影响其他开发人员的可访问性。</p><p id="be18" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mk">更多内容尽在</em><a class="ae ki" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="mk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>