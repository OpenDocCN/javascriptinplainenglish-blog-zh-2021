# 15 个有用的技巧，你可以用来改善你的前端优化

> 原文：<https://javascript.plainenglish.io/15-useful-techniques-you-can-use-to-improve-your-frontend-optimization-8317cb6e54e9?source=collection_archive---------7----------------------->

## 压缩 JavaScript、样式、CSS 等等。

![](img/4febddfab0af187bb7707fc15b7a354d.png)

Photo by [Diggity Marketing](https://diggitymarketing.com/keyword-cannibalization/)

现在一个前端开发人员排版写 JavaScript 代码是不够的。项目在增长，它们的数量和复杂性都在增加。一个重要的部分是优化网站的能力，使它更快更容易。

本文将向您展示一些技巧，并为您提供一些工具，帮助您使之变得更加有趣和愉快。

一般来说，所有的前端优化归结为两种类型的任务。首先是加快网络上的数据传输。它由两个子项组成:减少对服务器的请求数量和减少传输的数据量。二是加快浏览器中的应用程序。

现在，让我们深入了解更多细节。

## 1.粘合 JavaScripts 和 CSS 样式

向服务器发出尽可能少的请求。JS 和 CSS 代码非常适合这个任务。忘掉十年前的把戏吧，当时网站上有 24 个 JS 文件，每个页面上有 5-6 个。理想情况下，您应该有一个 JS 文件和一个 CSS 文件。这就够了。

现在，节省几十千字节不值得发出一个请求而不是 20 个。一次性加载所有代码。只要确保 JavaScripts 的不同部分在不同的页面上执行即可。此外，请记住缓存:下载文件一次后，用户会将它保存到浏览器缓存中，在站点的下一个页面上，静态数据会立即从缓存中加载，而不是从远程服务器上加载。

## 2.压缩 JavaScript、样式和 HTML 代码

尽管我们对每台服务器只提出了一个请求，但是不要忘记数据也很重要。精简代码可以让你减少 40-50%的数据量，这永远不会是多余的。对于移动设备来说尤其如此。有大量的在线缩图服务，例如，[minifycode.com](http://minifycode.com)。但使用 grunt.js、gulp.js 或 webpack.js 等前端构建工具要方便得多。

## 3.优化图像

基本上我们一个网站不需要 10MP 的照片。它们不仅可以降低分辨率，而且还可以以最低的质量损失额外压缩图像。通常，一个高质量的网站是不需要的。另外，如果你不需要透明，可以将图片从 png 转换成 jpg。

像 Photoshop 这样的图形编辑器可以帮助你做到这一点(他们甚至有一个特殊的选项“为网页压缩”)，同样的构建工具，例如 gulp-imagemin 和 image in-pngquant 插件。

## 4.制作图像精灵

图标、按钮背景、复选标记和箭头——所有这些小小的外壳只占用很少的空间，却需要向服务器发出许多请求。要单独给每个图标，把它们粘在精灵上，然后一次性加载。

## 5.应用延迟加载—图像的延迟加载

延迟加载一词既指脚本也指样式，但通常指的是图像。拥有十几个屏幕和数兆图片的巨大登录页面的时尚不起作用。无论我们的互联网有多快，加载这些大量的数据都是一个问题。

惰性加载背后的思想是只在真正需要的时候加载资源。在图像的情况下，只加载那些此时可见的图像。如果用户只滚动登录页面的前几个屏幕，许多图片会隐藏在“下面”,网站不会加载。因此，我们的服务器将摆脱不必要的，恼人的请求，更重要的是，交通和紧张的网站访问者将被保存。

## 6.不要偷懒预览图片

船长的建议，但令人惊讶的是有多少人无视这些简单的规则。你看着网站上一个漂亮的图片库，里面有 ajax 加载的图片，你会想，“多棒的一个人啊。”然后你会注意到滑块上的缩略图都是同样大的图片，只是在 CSS 中缩小了。你会想，“这到底是怎么回事？”

创建缩略图的任务不能称为第一线。如果非要自己动手，我只能同情。这通常是通过专门指派的人来完成的，这些人徒手做这种吃力不讨好的工作，或者借助批量图像处理工具来完成。或者，如果慈善对你来说并不陌生，那就在后端。

当上传图像到服务器或者第一次访问想要的图像时，通常由 CMS/framework 插件调整图像的大小。在任何情况下，作为一个前端开发人员，你应该明白确保网站客户端的最快加载是你的责任。并控制正确的人。

## 7.提供来自不同域/子域的静态内容

如果你有一个小项目，博客，或有小猫的网站，不要打扰——你不会感觉到任何利润。但是，如果你，谁知道，正在开发第二个脸书，那么大量的静态数据和相同的照片，应该分布在不同的子域名，或者，皇家域名。事实上，浏览器对从一个(子)域下载资源的线程数量有限制。所以，如果你有海量的内容，不如分散。

## 8.在页面末尾包含 JavaScript 代码或文件

即在结束 body 标记之前。浏览器必须下载内容，然后才是 JS。当然，如果你有一个单页的应用程序，这个建议不会有任何好处。但是不要气馁。如果你在做 SPA，那你一切都好。

## 9.动态地(但小心地)包含样式

来自“风险自担”类别的建议尝试在呈现裸 HTML 后加载样式。页面加载加速可能可以忽略不计。但是你的 HTML 可能太可怕了，如果没有样式，四分之一秒就足够让用户逃离网站了。总的来说，尝试一下，决定是否需要。

## 10.去掉不必要的 DOM 元素

DOM 操作是浏览器中最难的部分之一。不要在两个浮动 div 足够的地方做桌子。不要为了美观而雕刻额外的跨度。除非 javascript 逻辑要求，否则不要为容器包装器制作包装器。总的来说，保持简单，争取极简。

## 11.使用原生 JavaScript 代替 jQuery

让我们不要假装我们非常需要 jQuery 来操作 dom。我们只是习惯了。写$('# myDiv ')比 document.getElementById ('myDiv ')方便多了。但是支持 IE 的日子已经过去了，如果优化对你来说真的很重要，那就换成 Native 吧——用 DOM 工作的速度会提高几十倍甚至几百倍。

## 12.不要害怕将 id 挂在 DOM 元素上，以便从 JavaScript 代码中快速访问它们

只在教室里布置，把 id 留给 JS。这是访问所需项目的最快方式。此外，您将很快不再对应用样式的优先级感到困惑，并且永远知道:如果一个 id 挂在这个元素上，那么 javascript 想要从它那里得到一些东西。而如果类挂了，那就有东西想要 CSS 了。

## 13.使用 CSS 动画代替 JavaScript

有时候在 JS 中制作一个棘手的动画是非常酷的，但你必须永远记住，这是浏览器的一个大负载。更不用说额外的 js 代码了。CSS3 一直备受推崇，可以随意使用过渡和关键帧。

当然，您应该考虑到所需浏览器对这些属性的支持。动画通常是装饰性的，补充性的。如果用户的浏览器不支持 CSS 过渡，那么他会看到一个静态图片。但是如果动画实现是必要的，那么用 javascript 复制它是值得的。

## 14.在滚动/滚动页面时避免繁重的 DOM 操作，并处理节流和谴责

您最喜欢的客户喜欢看窗口调整大小时屏幕上发生的奇迹:方块改变位置，兔子从显示器边缘跳出。不幸的是，热情的主管和经理听不到处理器上的旧冷却器如何开始咆哮，也看不到浏览器中的内存消耗如何跳跃。但并不是所有网站访问者都有配备酷睿 i7 和 8 GB 内存的 MacBook。

当然，有些转换可以在不干扰 DOM 的情况下完成，只需要样式和媒体查询。但是很多时候，你要用好老 JS 的形式连接重炮。

## 15.研究 AJAX 请求并分析来自服务器的数据传输

另一点你不能自己决定，但是你可以显著地影响它，它与服务器的交互。

与后端同事讨论客户端和服务器之间的数据交换。协商数据格式和 API。一起构建 REST 服务。毕竟，您知道客户端需要什么数据。

例如，如果您需要关于一个网上商店的买家的一般信息，请从请求中丢弃关于他的所有订单的不必要的数据，包括姓名、价格和折扣。在单独的请求中拿出来。您的请求越简单、越轻松，处理它们就越容易，服务器上的负载也就越少。

可能还有很多技巧可以使用，但这些是我在前端优化方面的技巧。

*更多内容看*[***plain English . io***](http://plainenglish.io/)