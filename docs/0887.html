<html>
<head>
<title>Deploy Express App to AWS Lambda with Serverless</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用无服务器将Express应用程序部署到AWS Lambda</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/deploy-express-app-to-aws-lambda-with-serverless-6b65e56c40c7?source=collection_archive---------5-----------------------#2021-02-24">https://javascript.plainenglish.io/deploy-express-app-to-aws-lambda-with-serverless-6b65e56c40c7?source=collection_archive---------5-----------------------#2021-02-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="85f6" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">我们如何在几分钟内将Node Express应用程序部署到AWS lambda功能中</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/1d1ce4b84598a3906d16f509ef1c80df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wAIUxRzNSEagebQSzgd9jg.png"/></div></div></figure><p id="5d4e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">首先，我们需要用AWS凭证配置我们的环境。您可以从<a class="ae lk" href="https://www.serverless.com/framework/docs/providers/aws/guide/credentials/" rel="noopener ugc nofollow" target="_blank">这里的</a>找到配置AWS凭证的方法。</p><p id="02e0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一旦您为您的环境配置了AWS凭证，我们就需要安装AWS无服务器框架。因此，让我们从npm安装它</p><pre class="kd ke kf kg gt ll lm ln lo aw lp bi"><span id="2d8c" class="lq lr in lm b gy ls lt l lu lv">$ <!-- -->npm install -g serverless</span></pre><p id="f571" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们的环境已经设置好了，我们可以开始了。让我们创建一个简单的express应用程序，其中一个端点返回“Hello World”文本。</p><pre class="kd ke kf kg gt ll lm ln lo aw lp bi"><span id="fe76" class="lq lr in lm b gy ls lt l lu lv">$ <!-- -->npm init -f<br/>$ npm install --save express serverless-http</span></pre><p id="3896" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们安装了所需的依赖项，让我们创建<a class="ae lk" href="https://github.com/prahveent/blog/blob/master/express-app-lambda/index.js" rel="noopener ugc nofollow" target="_blank"> index.js </a>，它公开了我们上面讨论过的一个端点。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lw"><img src="../Images/3ebbd0c4349870e3cbf84812364bfc17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YWAqy5Avm-gX3w-7fv-esw.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">index.js</figcaption></figure><p id="2a31" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为了部署这个应用程序，让我们在工作目录中创建一个<a class="ae lk" href="https://github.com/prahveent/blog/blob/master/express-app-lambda/serverless.yml" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="mb">server less . yml</em></strong></a>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mc"><img src="../Images/b273ed689d43efb70e7370fefb6b1155.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qJqKf-m6mfBHN_0bexPUkw.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">serverless.yml</figcaption></figure><p id="2e9a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在让我们部署该功能。</p><pre class="kd ke kf kg gt ll lm ln lo aw lp bi"><span id="3bac" class="lq lr in lm b gy ls lt l lu lv">$ sls deploy</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi md"><img src="../Images/272d7ea73a6ba4127050f69276b45688.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7u4MxJ_dpvIIljnY8GSzKg.png"/></div></div></figure><p id="a165" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">嘣！现在你的函数部署到AWS Lamba函数。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi me"><img src="../Images/810b6c2becdc23ca93442f2783f9dc4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z1SgmGF8NcMNmBCKW27vaw.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">endpoint</figcaption></figure><p id="e628" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们的应用程序部署了AWS lambda，我们可以如何设置本地开发的应用程序。</p><p id="9e0f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">首先，让我们使用无服务器离线插件。这个插件有助于模拟本地开发的API网关环境。</p><pre class="kd ke kf kg gt ll lm ln lo aw lp bi"><span id="7d2d" class="lq lr in lm b gy ls lt l lu lv"># <!-- -->npm install --save-dev serverless-offline</span></pre><p id="747e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">然后将插件添加到您的<a class="ae lk" href="https://github.com/prahveent/blog/blob/master/express-app-lambda/serverless.yml" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="mb">server less . yml</em></strong></a></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/e181575d537772fe226712a8633bc578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*6GpcpgcRxVdjyzkNXTaIcA.png"/></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">serverless.yml with serverless-offline plugin</figcaption></figure><p id="1770" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">然后启动无服务器脱机服务器</p><pre class="kd ke kf kg gt ll lm ln lo aw lp bi"><span id="75d1" class="lq lr in lm b gy ls lt l lu lv">$ <!-- -->sls offline start</span></pre><p id="cc72" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们的离线服务器已经准备好，并在您的浏览器中导航到您在<a class="ae lk" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>的根页面:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/2d72443a7b2b5b16ac4d850cfcef25dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*IOMklDhACJ02aAWaqvJ0aA.png"/></div></figure><h2 id="5e21" class="lq lr in bd mh mi mj dn mk ml mm dp mn kx mo mp mq lb mr ms mt lf mu mv mw mx bi translated">结论</h2><p id="3a48" class="pw-post-body-paragraph ko kp in kq b kr my jo kt ku mz jr kw kx na kz la lb nb ld le lf nc lh li lj ig bi translated">我希望您现在对如何将Express应用程序部署到AWS Lambda以及如何设置本地环境有了更好的了解。如果你有进一步的澄清，留下你的评论，或者通过LinkedIn联系我。</p></div></div>    
</body>
</html>