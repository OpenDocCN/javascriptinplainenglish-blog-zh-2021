<html>
<head>
<title>Marble Diagram Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">大理石图测试</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/marble-diagram-testing-5009c74324db?source=collection_archive---------9-----------------------#2021-11-05">https://javascript.plainenglish.io/marble-diagram-testing-5009c74324db?source=collection_archive---------9-----------------------#2021-11-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="167c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">什么是大理石图，它是如何工作的？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d8786cfe1034eb7d1f431d17a52722f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1vPZog4CL8fwmutpkmNcnA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">By FAM</figcaption></figure><p id="751e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你听说过<strong class="kx ir"><em class="lr"/></strong>大理石图吗，有没有激起你的好奇心？还是在测试你的被观察对象，想了解一下<strong class="kx ir"> <em class="lr">大理石图</em> </strong>？</p><p id="a173" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">欢迎，你来对地方了！</p><h1 id="1592" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">首先，什么是大理石图？</h1><p id="ecde" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">大理石图用于在RxJS <code class="fe mp mq mr ms b">TestShceduler</code>的上下文中测试异步代码。一句话:</p><blockquote class="mt"><p id="a206" class="mu mv iq bd mw mx my mz na nb nc lq dk translated">弹球图是一个具有特殊语法的字符串，用于描述可观察到的事件。</p></blockquote><h2 id="5758" class="nd lt iq bd lu ne nf dn ly ng nh dp mc le ni nj me li nk nl mg lm nm nn mi no bi translated">大理石图特征</h2><ul class=""><li id="8aa3" class="np nq iq kx b ky mk lb ml le nr li ns lm nt lq nu nv nw nx bi translated">它描述可观察的事件(产生值、错误和完成)。</li><li id="0ab6" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated">它代表随着时间的推移可观察到的源。</li><li id="89f2" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated">它从左到右运行--&gt;</li><li id="c773" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated">可观测量随着时间推移产生价值。这些值将被表示为圆圈或框架。</li><li id="70bf" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated">一帧是用来表示<code class="fe mp mq mr ms b">TestScheduler</code>虚拟时间的单位(多亏了这个虚拟时间，我们可以将异步代码转换成同步代码，并对其进行测试)。</li><li id="670b" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated">它反映了执行可观察源后产生的价值。</li></ul><h2 id="3579" class="nd lt iq bd lu ne od dn ly ng oe dp mc le of nj me li og nl mg lm oh nn mi no bi translated">理解语法…</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/685638a56b6a63dd0725d0468ab491f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_kBhpF64fTX3hss6t8xscQ.gif"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">By FAM</figcaption></figure><ul class=""><li id="9737" class="np nq iq kx b ky kz lb lc le oj li ok lm ol lq nu nv nw nx bi translated">每个破折号<code class="fe mp mq mr ms b">-</code>代表时间(1虚拟毫秒)。</li><li id="1521" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated">每一个字母都代表了可观察对象在执行时将产生的价值。</li><li id="58de" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated"><code class="fe mp mq mr ms b">(abdidf)</code>，括号中的几个值表示这些值将在同一帧中同步产生。</li><li id="1dda" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated">一个<code class="fe mp mq mr ms b"><strong class="kx ir">|</strong></code>代表一个可观察的完成。</li><li id="4850" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated">A <code class="fe mp mq mr ms b"><strong class="kx ir">#</strong></code>表示由可观测值产生的误差。</li><li id="8d76" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated">空白被忽略。这是一个好消息，因为它有助于对齐图表，以便您可以轻松地比较和阅读它们(我们将在后面看到一个例子)。</li><li id="4622" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated">如果我们有一个很长的虚时间(写一个无限长的破折号串)呢？).好吧，谢天谢地，我们可以用数字后跟<code class="fe mp mq mr ms b">ms</code>、<code class="fe mp mq mr ms b">s</code>表示秒、<code class="fe mp mq mr ms b">m</code>表示分。例子:<code class="fe mp mq mr ms b">42ms </code>(注意这里的<strong class="kx ir">需要</strong>空格，所以它不会被解释为由可观测值产生的值。</li><li id="ee95" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated"><code class="fe mp mq mr ms b"><strong class="kx ir">^</strong></code>仅适用于热观测值，代表开始订阅<strong class="kx ir">热</strong>观测值的点(这意味着订阅者不会收到在此点之前产生的值)</li></ul><h2 id="cdb9" class="nd lt iq bd lu ne od dn ly ng oe dp mc le of nj me li og nl mg lm oh nn mi no bi translated">测试订阅呢？</h2><p id="d07a" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">这在大理石图中也是可行的，具体做法如下:</p><ul class=""><li id="391b" class="np nq iq kx b ky kz lb lc le oj li ok lm ol lq nu nv nw nx bi translated"><code class="fe mp mq mr ms b">^</code>表示订阅的开始。</li><li id="a09f" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated"><code class="fe mp mq mr ms b">!</code>表示订阅结束。</li><li id="05a9" class="np nq iq kx b ky ny lb nz le oa li ob lm oc lq nu nv nw nx bi translated">这同样适用于演示时间<code class="fe mp mq mr ms b">-</code>、<code class="fe mp mq mr ms b">12ms</code>、……</li></ul></div><div class="ab cl om on hu oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="ij ik il im in"><h1 id="782e" class="ls lt iq bd lu lv ot lx ly lz ou mb mc jw ov jx me jz ow ka mg kc ox kd mi mj bi translated">例子</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d30f404dbf3f9b30cd059f784b063a38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_3hQogynR5gE4OC4SVuC9w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">By FAM</figcaption></figure><p id="65f2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">想要一个完整的带有大理石图的单元测试套件示例吗？这将是下面这篇文章(将于明天发表)使用RxJS <code class="fe mp mq mr ms b">TestScheduler</code>。</p></div><div class="ab cl om on hu oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="ij ik il im in"><blockquote class="mt"><p id="b04f" class="mu mv iq bd mw mx my mz na nb nc lq dk translated">我今天的故事到此结束，希望你喜欢it❤</p></blockquote><p id="d54a" class="pw-post-body-paragraph kv kw iq kx b ky oy jr la lb oz ju ld le pa lg lh li pb lk ll lm pc lo lp lq ij bi translated"><a class="ae pd" href="https://famzil.medium.com/subscribe" rel="noopener">如果你喜欢看我的文章……♥️</a></p><div class="pe pf gp gr pg ph"><a href="https://famzil.medium.com/subscribe" rel="noopener follow" target="_blank"><div class="pi ab fo"><div class="pj ab pk cl cj pl"><h2 class="bd ir gy z fp pm fr fs pn fu fw ip bi translated">如果你喜欢看我的文章… ♥️</h2><div class="po l"><h3 class="bd b gy z fp pm fr fs pn fu fw dk translated">如果你喜欢读我的文章… ♥️，当我的文章发表时，欢迎你第一个得到通知…</h3></div><div class="pp l"><p class="bd b dl z fp pm fr fs pn fu fw dk translated">famzil.medium.com</p></div></div><div class="pq l"><div class="pr l ps pt pu pq pv kp ph"/></div></div></a></div><blockquote class="mt"><p id="f631" class="mu mv iq bd mw mx pw px py pz qa lq dk translated">谢谢你，❤</p></blockquote><p id="4f8e" class="pw-post-body-paragraph kv kw iq kx b ky oy jr la lb oz ju ld le pa lg lh li pb lk ll lm pc lo lp lq ij bi translated">如果你有兴趣成为付费会员，你可以使用我的推荐链接。下次见</p><p id="ba9d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">亲爱的读者，感谢你在我生命中的存在。</p><p id="fc67" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">让我们在</strong> <a class="ae pd" href="https://medium.com/@famzil/" rel="noopener"> <strong class="kx ir">中</strong></a><strong class="kx ir"/><a class="ae pd" href="https://www.linkedin.com/in/fatima-amzil-9031ba95/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir">Linkedin</strong></a><strong class="kx ir"/><a class="ae pd" href="https://www.facebook.com/The-Front-End-World" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir">脸书</strong></a><strong class="kx ir"/><a class="ae pd" href="https://www.instagram.com/the_frontend_world/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir">insta gram</strong></a><strong class="kx ir"/><a class="ae pd" href="https://www.youtube.com/channel/UCaxr-f9r6P1u7Y7SKFHi12g" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir">YouTube</strong></a><strong class="kx ir">或<strong class="kx ir">上取得联系</strong></strong></p><p id="a8f8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">参见我的关于网络要素和一般文化的电子书。</p><p id="d6ef" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="lr">更多内容请看</em><a class="ae pd" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="lr">plain English . io</em></strong></a></p></div></div>    
</body>
</html>