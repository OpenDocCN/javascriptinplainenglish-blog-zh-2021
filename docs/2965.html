<html>
<head>
<title>Creating Invoices in Javascript and Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Javascript和Node.js中创建发票</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/creating-invoices-in-nodejs-eaae01f0d3a4?source=collection_archive---------1-----------------------#2021-06-16">https://javascript.plainenglish.io/creating-invoices-in-nodejs-eaae01f0d3a4?source=collection_archive---------1-----------------------#2021-06-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="2079" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本文中，我们将以最简单的方式在<a class="ae ki" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>中创建发票。我们将使用<a class="ae ki" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> NPM </a>库<a class="ae ki" href="https://www.npmjs.com/package/easyinvoice" rel="noopener ugc nofollow" target="_blank"> EasyInvoice </a>。</p><p id="8372" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="kj">注意:本文基于</em> <a class="ae ki" href="https://www.npmjs.com/package/easyinvoice" rel="noopener ugc nofollow" target="_blank"> <em class="kj">易开发票</em> </a> <em class="kj">版本2.3.0 </em></p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi kk"><img src="../Images/f53a19a757e7f0d6a55e30c51b615348.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mFPkDZmpIpvCa3441KDRfA.png"/></div></div></figure><p id="6f0f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">请注意，EasyInvoice库可用于:<br/> - JavaScript(前端和后端)通过<a class="ae ki" href="https://www.npmjs.com/package/easyinvoice" rel="noopener ugc nofollow" target="_blank"> NPM </a> <br/> - Python通过<a class="ae ki" href="https://pypi.org/project/easyinvoice/" rel="noopener ugc nofollow" target="_blank"> PyPi/PIP </a> <br/> - PHP通过<a class="ae ki" href="https://packagist.org/packages/easyapis.io/easyinvoice" rel="noopener ugc nofollow" target="_blank"> Packagist/Composer </a></p><h1 id="43e9" class="kw kx in bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">1.先决条件</h1><p id="c4b8" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">在准备这个例子时，确保您的操作系统上已经安装了<a class="ae ki" href="https://nodejs.org" rel="noopener ugc nofollow" target="_blank"> Node.js </a>。</p><h1 id="875e" class="kw kx in bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">2.创建新的Node.js项目</h1><p id="0494" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">继续在您喜欢的编辑器中启动一个新的<a class="ae ki" href="https://nodejs.org" rel="noopener ugc nofollow" target="_blank"> Node.js </a>项目。我喜欢让这个过程尽可能精简。我们的示例只需要在一个文件夹中有两个文件，即<strong class="jm io"> index.js </strong>和<strong class="jm io"> package.json </strong>:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/041b7e45356af3a97c15ba42976b21dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*zO10VLIhnox6zaMllfhVrA.png"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">Required files for our demo</figcaption></figure><p id="af10" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我通常会手动创建一个空的<strong class="jm io"> index.js </strong>文件。接下来，我们将创建我们的<strong class="jm io"> package.json </strong>。这个文件将保存我们的应用程序信息和外部库。为此，使用您首选的命令行界面(CLI)在与您的<strong class="jm io"> index.js </strong>文件相同的目录中运行以下命令(从现在开始称为项目根目录):</p><pre class="kl km kn ko gt me mf mg mh aw mi bi"><span id="ff73" class="mj kx in mf b gy mk ml l mm mn">npm init -y</span></pre><p id="5805" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于这个演示，我在上面的命令中使用了'-y '参数，它将使用默认值创建<strong class="jm io"> package.json </strong>。如果您想要更高级别的定制，您可以运行'<strong class="jm io"> npm init </strong>'。</p><p id="325b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们有了两个文件，我们可以继续将<a class="ae ki" href="https://www.npmjs.com/package/easyinvoice" rel="noopener ugc nofollow" target="_blank"> EasyInvoice </a>安装到我们的项目中。</p><h1 id="f1b9" class="kw kx in bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">3.在我们的项目中安装EasyInvoice</h1><p id="4480" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">接下来，我们将在项目根目录下运行以下命令，将<a class="ae ki" href="https://www.npmjs.com/package/easyinvoice" rel="noopener ugc nofollow" target="_blank"> EasyInvoice </a> <a class="ae ki" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> NPM </a>包安装到我们的项目中:</p><pre class="kl km kn ko gt me mf mg mh aw mi bi"><span id="cdec" class="mj kx in mf b gy mk ml l mm mn">npm install easyinvoice --save</span></pre><p id="61ed" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">成功后，您会注意到一个文件夹和一个文件已经添加到您的项目中。文件夹名为<strong class="jm io"> node_modules </strong>，文件名为<strong class="jm io"> package-lock.json </strong>。你可以忽略这些，现在，它们是NPM为了我们的库正常工作所需要的。</p><p id="7ce2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您的项目文件树现在应该如下所示:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/457ce67b81bc8500c804283f8fa17502.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*628TYfb7yz7KOKXGaiTTTQ.png"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">Our project file tree, including <strong class="bd mp">node_modules</strong> and <strong class="bd mp">package-lock.json</strong></figcaption></figure><p id="4b8e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当您打开<strong class="jm io"> package.json </strong>文件时，您应该在依赖项部分看到<a class="ae ki" href="https://www.npmjs.com/package/easyinvoice" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> EasyInvoice </strong> </a>。像这样:</p><figure class="kl km kn ko gt kp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><h1 id="c168" class="kw kx in bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">4.我们来开发票吧！</h1><p id="18cd" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">现在，让我们打开我们的<strong class="jm io"> index.js </strong>文件并添加一些代码:</p><figure class="kl km kn ko gt kp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><blockquote class="ms mt mu"><p id="65fc" class="jk jl kj jm b jn jo jp jq jr js jt ju mv jw jx jy mw ka kb kc mx ke kf kg kh ig bi translated">就我个人而言，我是NPM异步T21库的超级粉丝，因为它让我们的代码更具可读性。幸运的是，<a class="ae ki" href="https://www.npmjs.com/package/easyinvoice" rel="noopener ugc nofollow" target="_blank"> EasyInvoice </a>支持<a class="ae ki" href="https://www.npmjs.com/package/async" rel="noopener ugc nofollow" target="_blank"> Async </a>！请查看<a class="ae ki" href="https://www.npmjs.com/package/easyinvoice" rel="noopener ugc nofollow" target="_blank"> EasyInvoice </a>文档，了解如何使用<a class="ae ki" href="https://www.npmjs.com/package/async" rel="noopener ugc nofollow" target="_blank"> Async </a>的示例。</p></blockquote><p id="92c9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可能已经注意到，在我们的编码示例中，我们将数据对象保持为空。所以运行上面的代码应该为我们提供一个基本的空白发票。让我们首先这样做，通过使用CLI在我们的项目目录的根目录中使用NodeJS运行我们的<strong class="jm io"> index.js </strong>文件:</p><pre class="kl km kn ko gt me mf mg mh aw mi bi"><span id="42f6" class="mj kx in mf b gy mk ml l mm mn">node index.js</span></pre><p id="e338" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，如果一切正常，你会发现你的项目中出现了一个名为<strong class="jm io">invoice.pdf</strong>的文件:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi my"><img src="../Images/2a96adb8f165ba6f13d704c1676f98ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*mwfNTFzyziCcdFeRHJRYVg.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">File tree including our invoice.pdf</figcaption></figure><p id="8e84" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">继续打开文件。看一看！你会注意到我们的发票PDF仍然是空的。发票应该是这样的:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi mz"><img src="../Images/6720e597023f40078bed2cce1e0690bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oNzjHtXaNfMNJvQUX1Z9Zg.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">Sample blank invoice</figcaption></figure><p id="1fce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们继续用一些数据填充它。</p><h1 id="0f7f" class="kw kx in bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">5.向我们的发票添加数据</h1><p id="1c20" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">现在，让我们回到我们的数据对象，我们在前面的例子中保持为空。是时候用我们希望在发票上看到的数据填充它了:</p><figure class="kl km kn ko gt kp"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="d10d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们运行我们用于第一张发票的代码，包括我们在上面创建的数据对象。这将为我们提供一张填得很好的发票，看起来应该是这样的:</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi mz"><img src="../Images/64eca3137d2e3eb8efae94cd021e1d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dFFMJvIXaQXP7VLYI6QI0g.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">Sample invoice filled with data</figcaption></figure><p id="5da9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就是这样！你用最少的努力创造了一张漂亮的发票。</p><h1 id="8145" class="kw kx in bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">最终注释</h1><p id="3b6a" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv lw jx jy jz lx kb kc kd ly kf kg kh ig bi translated">让上面的例子工作起来有困难吗？别担心！我们上传了完整的工作样本代码到Github。<a class="ae ki" href="https://github.com/dveldhoen/easyinvoice-nodejs-demo" rel="noopener ugc nofollow" target="_blank">点击此处</a>进入我们的回购样本。请确保遵循README.md文件中的说明。</p><p id="5d8b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果这篇文章对你有所帮助，请给Github 上的<a class="ae ki" href="https://github.com/dveldhoen/easyinvoice" rel="noopener ugc nofollow" target="_blank">简易发票一颗星，因为你做得很好。</a></p><h2 id="69c7" class="mj kx in bd ky na nb dn lc nc nd dp lg jv ne nf lk jz ng nh lo kd ni nj ls nk bi translated">进一步阅读</h2><div class="nl nm gp gr nn no"><a href="https://plainenglish.io/blog/why-you-should-use-taggun-instead-of-general-purpose-ocr" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd io gy z fp nt fr fs nu fu fw im bi translated">为什么应该使用TAGGUN而不是通用OCR</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">亚马逊的Textract、开源的tesseract或现成的PDF阅读器中的OCR非常适合数字化随机…</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">简明英语. io</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc ku no"/></div></div></a></div></div><div class="ab cl od oe hr of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="ig ih ii ij ik"><p id="393f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="kj">更多内容看</em> <a class="ae ki" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kj">说白了就是</em> </strong> </a> <em class="kj">。报名参加我们的</em> <a class="ae ki" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kj">免费周报</em> </strong> </a> <em class="kj">。关注我们关于</em> <a class="ae ki" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kj">推特</em> </strong> </a>，<a class="ae ki" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kj">领英</em> </strong> </a> <em class="kj">，</em><a class="ae ki" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kj">YouTube</em></strong></a><em class="kj">，以及</em> <a class="ae ki" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kj">不和</em> </strong> </a> <em class="kj">。对增长黑客感兴趣？检查</em> <a class="ae ki" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kj">电路</em> </strong> </a> <em class="kj">。</em></p></div></div>    
</body>
</html>