<html>
<head>
<title>Stop Using Excess If-Statements</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">停止使用过多的If语句</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/stop-using-excess-conditional-statements-in-javascript-b3867345e993?source=collection_archive---------1-----------------------#2021-02-26">https://javascript.plainenglish.io/stop-using-excess-conditional-statements-in-javascript-b3867345e993?source=collection_archive---------1-----------------------#2021-02-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f919" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何创建可读和可维护的条件</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9f349b58cd79fa0abba669d7d3b0c65f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ow9S4yHuyDhr-Ltu4tutbQ.png"/></div></div></figure><p id="b53e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">假设您有一个功能，它意味着根据用户的类型采取不同的行动。我们可以写一个这样的函数:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ln"><img src="../Images/c7f9aa0b6f9456851d545c833441e158.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9U27UUg0R5FkFaIIgRlPzQ.png"/></div></div></figure><p id="6e70" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这种方法有很多问题:</p><ol class=""><li id="01af" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">不是很整齐。</li><li id="e2fd" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">随着每个用户类型条件下功能的增长，主功能也在增长</li><li id="4957" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">测试每种用户类型的功能更加困难。</li><li id="21ff" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">if语句的数量随着用户类型的增加而增加</li></ol><p id="9e55" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们通过将每个条件功能重构到单独的函数中来进行改进:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mc"><img src="../Images/dab735b43fa4188caa78f35bb82e84f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S9pm_hN1mv8vgfarPPWmxg.png"/></div></div></figure><p id="03f1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在好一点了，我们现在可以单独测试条件，它阻止了主函数(<strong class="kt ir"> userConditional </strong>)的增长。</p><p id="b7de" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以通过将if语句重构为switch-case语句来做得更好:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mc"><img src="../Images/d467eb34cd71988a78181bcad18c2502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pMrFIi8LPFZGAK47u1AOhA.png"/></div></div></figure><p id="1cc1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在事情看起来很简单，但是我们可以通过使用一个对象来做得更好:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi md"><img src="../Images/79a8235f69521dd5e50ace48ebff9607.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2yLYt-s4vmJtZLcnQFRW0g.png"/></div></div></figure><p id="f379" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">根据您对JavaScript的熟悉程度，这可能有点难以解析。让我简化一下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi me"><img src="../Images/1f5a9aae65ca6c94734bce2f699d70cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hsqDq0hBRxr67grtrxtXgg.png"/></div></div></figure><p id="e8ef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这一行:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi me"><img src="../Images/2fabdb8c78ed61f21305a08c0abe6b9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pZZ5pSLLrC0znfT8RRzA-w.png"/></div></div></figure><p id="9abd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果在conditionals对象中找不到基于用户类型的函数，它默认为<strong class="kt ir">条件。通过使用<a class="ae mf" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator" rel="noopener ugc nofollow" target="_blank">无效合并</a>操作符(？？)</strong></p><p id="ada6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是没有使用这些相对较新的运算符的等效代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mg"><img src="../Images/cbef1737edc84bedb9ab2d77f55e88d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a9oS9ZKowZtKMyCtSvG3Ow.png"/></div></div></figure><p id="b37c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这种“对象条件句”风格有以下好处:</p><ol class=""><li id="4a8c" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">您已经消除了对if语句的任何需求。</li><li id="4f17" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">所有的条件都来自一个真实的来源:条件句对象。</li><li id="8b76" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated"><strong class="kt ir"> conditionals </strong>对象现在可以使用Typescript进行类型化:</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mh"><img src="../Images/01b3d5b3ddb6ba2332fdb1b19805d687.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kYRmdtsPTgjTjun3mvS2mA.png"/></div></div></figure><p id="0495" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">4.条件甚至可以从主函数中分离出来，作为参数传递:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mi"><img src="../Images/560c4dc49e41c5c8579038212549e36a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CY1NRilsSIfrkfwHTW4lDg.png"/></div></div></figure><p id="3ded" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是函数式编程的一个梦想，保持了一切的整洁和可测试性。</p></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><p id="df2b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢阅读！</p></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><p id="d59c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="mq">获取更多详情请点击</em><a class="ae mf" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mq">plain English . io</em></strong></a></p></div></div>    
</body>
</html>