<html>
<head>
<title>Make A Simple Password Toggle Form With JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript制作一个简单的密码切换表单</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/tutorial-make-a-simple-vanilla-js-show-password-toggle-d4fc13d9293?source=collection_archive---------4-----------------------#2021-02-07">https://javascript.plainenglish.io/tutorial-make-a-simple-vanilla-js-show-password-toggle-d4fc13d9293?source=collection_archive---------4-----------------------#2021-02-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/748ff35b70feec49dbb16554221f1dae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aNx8d5JxTTgulb7USqnxIg.png"/></div></div></figure><p id="f3da" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在前端开发中，有时当您创建一个登录或注册表单时，您想让用户选择显示他们的密码，以便他们可以确保他们输入的所有内容都是正确的，而不是隐藏在点或星号后面。对于普通的JavaScript，这是一个非常容易实现的设计元素，它有助于增加用户界面传达的整体体验。</p><p id="7c38" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们看看如何使用普通的JavaScript和HTML/CSS，在不使用任何库的情况下实现密码可见性。</p><h2 id="8cab" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">首先，让我们来处理HTML &amp; CSS </h2><p id="ffcc" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">在我们开始这个项目有趣的部分——JavaScript——之前，我们必须首先创建我们的HTML文档，并向其中添加我们需要的元素。如果你知道HTML和CSS，这是非常简单的。你可以继续创建你自己的登录表单，并按照你想要的方式设计，或者——如果你喜欢复制我的登录表单——你可以<a class="ae lr" href="https://github.com/pjmcdermott92/javascript-password-toggler" rel="noopener ugc nofollow" target="_blank">从我的GitHub账户</a>下载。</p><p id="546e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">准备好HTML后，表单应该是这样的:</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/047e9a4d1ace143dee7a16b0e080669b.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*8r8gT2IUfy2KIETtCWM_Pw.png"/></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">Unstyled, ugly Login Form</figcaption></figure><p id="74bf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">HTML完成后，我们可以继续创建一个style.css文件，并将我们的HTML文档链接到它，然后我们可以设置表单的样式。下面是我的登录表单的CSS外观(<a class="ae lr" href="https://github.com/pjmcdermott92/javascript-password-toggler" rel="noopener ugc nofollow" target="_blank">从GitHub这里得到</a>):</p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="e995" class="kt ku in mc b gy mg mh l mi mj">*, *::before, *::after { box-sizing: border-box; }</span><span id="5bc4" class="kt ku in mc b gy mk mh l mi mj">body {<br/>    margin: 0;<br/>    padding: 0;<br/>    display: flex;<br/>    align-items: center;<br/>    justify-content: center;<br/>    min-height: 100vh;<br/>    background-color: hsl(207, 100%, 40%);<br/>    color: #666;<br/>    font-family: Verdana, Geneva, Tahoma, sans-serif;<br/>}</span><span id="167c" class="kt ku in mc b gy mk mh l mi mj">.container {<br/>    width: 100%;<br/>    max-width: 400px;<br/>    min-height: 30vh;<br/>    padding: 1rem 2rem;<br/>    background-color: #FFF;<br/>    border-radius: .3rem;<br/>}</span><span id="65f7" class="kt ku in mc b gy mk mh l mi mj">h2, p { text-align: center; }<br/>h2 { font-size: 2.5rem; }</span><span id="c763" class="kt ku in mc b gy mk mh l mi mj">a {<br/>    color: hsl(207, 100%, 50%);<br/>    text-decoration: none;<br/>}</span><span id="be33" class="kt ku in mc b gy mk mh l mi mj">a:hover { color: hsl(207, 100%, 30%); }</span><span id="d571" class="kt ku in mc b gy mk mh l mi mj">.form-control {<br/>    width: 100%;<br/>    margin: 1rem 0;<br/>    position: relative;<br/>}</span><span id="6f65" class="kt ku in mc b gy mk mh l mi mj">.form-control &gt; label { display: block; }</span><span id="9fe5" class="kt ku in mc b gy mk mh l mi mj">.form-control &gt; input {<br/>    display: block;<br/>    width: 100%;<br/>    margin: .5rem 0;<br/>    padding: .5rem .3rem;<br/>    background-color: #EFEFEF;<br/>    border: 2px solid transparent;<br/>    outline: none;<br/>    font-family: inherit;<br/>    font-size: inherit;<br/>}</span><span id="9532" class="kt ku in mc b gy mk mh l mi mj">.form-control &gt; input:focus { border-color: #999; }</span><span id="b2af" class="kt ku in mc b gy mk mh l mi mj">.form-control &gt; input[type="submit"] {<br/>    border: 2px solid transparent;<br/>    background-color: hsl(207, 100%, 35%);<br/>    color: #FFF;<br/>    text-transform: uppercase;<br/>    font-weight: bold;<br/>    letter-spacing: .1rem;<br/>    cursor: pointer;<br/>}</span><span id="c075" class="kt ku in mc b gy mk mh l mi mj">.form-control &gt; input[type="submit"]:hover,<br/>.form-control &gt; input[type="submit"]:focus {<br/>    background-color: hsl(207, 100%, 40%);<br/>}</span><span id="c42d" class="kt ku in mc b gy mk mh l mi mj">.form-control &gt; input[type="submit"]:focus {<br/>    border-color: #999;<br/>}</span></pre><p id="cc94" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我的表单现在看起来像这样:</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ml"><img src="../Images/98f8802f8c8d8b9e2fa9fcfbe8355b62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jQ2zFSTlYeWTNW31dDT_Ow.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">Much better! Now it looks good! (ish)</figcaption></figure><p id="907c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是一个非常简单直接的登录表单，没有太多花哨的元素和样式，因为本教程的主要目的是演示如何添加登录表单的功能。</p><h2 id="9597" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated"><strong class="ak">让我们添加切换图标</strong></h2><p id="0acd" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">您可以选择多种方式来允许用户切换其密码的可见性，包括用户可以选中或取消选中的标记为“显示密码”的复选框，以及可以单击来切换密码可见性的图标。出于这个项目的目的，我选择使用一个可以点击的图标来切换密码的可见性。</p><p id="ffb5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本例中，我使用FontAwesome通过内容交付网络显示图标，因为这是一个相对简单的解决方案，不需要我在项目中托管图标文件。要获得FontAwesome CDN，请前往<a class="ae lr" href="http://www.fontawesome.com/start" rel="noopener ugc nofollow" target="_blank">www.fontawesome.com/start</a>，免费登录或注册创建一个新的webkit。</p><p id="a280" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，简单地复制并粘贴你的FontAwesome工具包的Code <script>标签到你的HTML文件的&lt;head&gt;部分，就在你的样式表&lt;link&gt;标签下面。就是这样！你已经准备好了！接下来，只需搜索你要找的图标类型，FontAwesome会给出几个选项供你选择，包括免费和付费，如果你有付费账户的话。&lt;/root&gt;</script></p><p id="33cb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我的例子中，我搜索了“眼睛”并选择了这些图标:</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/f7b689693b3bd55deb903ae01931fe6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*xey9CEiELMeLW7W34kRoMQ.png"/></div></figure><p id="d7d2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我需要两个不同的图标——一个只有眼睛，另一个有斜线——来指示密码可见性是打开还是关闭。你可以使用我选择的相同图标，或者你可以选择你自己的图标。由你来决定。</p><p id="d58a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了在右侧正确显示和定位我们的切换按钮，在我们的密码字段内，我们需要用一个带有类名的<span>标记将它包装起来(在本例中，我使用了‘toggle-Password’)并放在我的密码字段form-control div内，如下所示:</span></p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/ef2229e084886c608e753554d070b119.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*Djym3eByzVM8RaNJ6TQ-HA.png"/></div></figure><p id="8585" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们需要进入CSS并为切换按钮元素添加一个样式:</p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="88e5" class="kt ku in mc b gy mg mh l mi mj">.toggle-password {<br/>    position: absolute;<br/>    top: 40%;<br/>    right: .5rem;<br/>    cursor: pointer;<br/>    user-select: none;<br/>}</span></pre><p id="c83c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">通过使用position: absolute并设置切换按钮的顶部和右侧位置，我们能够将它放置在我们想要的位置，这样它看起来就像在密码字段内。但是，如果您让代码保持原样，您会注意到图标将从页面上消失。这是因为我们还需要将我们的表单控件元素设置为position: relative，以便图标相对于它所在的表单控件来定位自己:</p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="1f1d" class="kt ku in mc b gy mg mh l mi mj">.form-control {<br/>    width: 100%;<br/>    margin: 1rem 0;<br/>    position: relative;<br/>}</span></pre><p id="d54a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可能需要稍微调整一下图标的顶部和右侧位置，直到它看起来和你想要的一样。对我来说，我指定的值似乎把图标放在了我想要的地方。</p><h2 id="8900" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated"><strong class="ak">暂时隐藏切换图标！</strong></h2><p id="3ee9" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">既然图标已经准确地定位到我们想要的位置，我们现在可以继续隐藏它了。这是可选的，但我选择在密码字段为空时隐藏图标，只是因为我觉得这样看起来更好。你不用隐藏你的，但这是我选择做的。</p><p id="a79a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了隐藏图标，在我们的CSS中，我们需要获取“toggle-password”范围内的<i>元素。我们可以使用CSS子组合符符号&gt;来选择直接嵌套在类名为“toggle-password”的元素中的<i>标记。我们需要做的就是将这个元素的display属性设置为none:</i></i></p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="29be" class="kt ku in mc b gy mg mh l mi mj">.toggle-password &gt; i { display: none; }</span></pre><h2 id="2d32" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">娱乐时间到了！让我们继续看JavaScript吧！</h2><p id="398c" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">我们现在已经完成了这个项目的HTML和CSS部分，并最终准备好使用JavaScript添加功能！首先，让我们在项目的根目录下创建一个新的JavaScript文件，并将其命名为scripts.js。我们可以通过将<script>标签放在文档的&lt;head&gt;部分，就在FontAwesome CDN的&lt;script&gt;标签下面，将新文件链接到我们的HTML文档:&lt;/root&gt;</script></p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mo"><img src="../Images/050077e49f10f3eea4aee2b4315f8200.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uIOkJVi-8gfC-_ARSB_01w.png"/></div></div></figure><blockquote class="mp mq mr"><p id="99a2" class="jv jw ms jx b jy jz ka kb kc kd ke kf mt kh ki kj mu kl km kn mv kp kq kr ks ig bi translated"><strong class="jx io">重要提示:</strong>将JavaScript文件放入HTML文档的&lt; head &gt;部分时，包含defer属性是非常重要的。通过告诉浏览器推迟脚本标签的加载，浏览器将跳过JavaScript文件的加载，直到文档对象模型加载完毕。这是为了确保我们的JavaScript代码中引用的所有元素都将被加载到DOM中，以便可以找到它们。如果我们不推迟文档的加载，我们的JavaScript将无法工作，并且我们会在浏览器的控制台中发现一个错误，因为加载脚本文件时元素并不存在。</p></blockquote><p id="dd85" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">除了在脚本标记中包含defer属性之外，还有其他选择。第一种方法是简单地将<script>标签添加到HTML文档的&lt;body&gt;部分，在所有其他元素的下面。这是因为浏览器从上到下以层叠的方式呈现HTML文件，所以在解析和加载脚本标签时，整个DOM都已经呈现出来了。&lt;/root&gt;</script></p><p id="0c62" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您还可以在带有defer属性的部分中包含<script>标记，并将您的JavaScript代码包装在一个事件监听器函数中，该函数在DOM CONTENT LOADED事件发生时被调用，如下所示:&lt;/root&gt;</script></p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="9beb" class="kt ku in mc b gy mg mh l mi mj">window.addEventListener('DOMContentLoaded', (event) =&gt; {<br/>    // Your Code Here....<br/>});</span></pre><p id="76d7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是一种确保DOM中的所有内容都在脚本执行之前呈现的老方法，虽然它工作得很好，但它使代码看起来更混乱，因为您马上就有了嵌套逻辑。</p><p id="e1ce" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">出于这个项目的目的，我们将坚持使用defer属性，并在head部分保留<script>标记。这是我组织文件的首选方式，因为它帮助我将脚本标签和链接标签整齐地组织在HTML的&lt;head&gt;部分，我不必担心页面的&lt;body&gt;部分有额外的标签，它可以严格处理页面结构。&lt;/root&gt;</script></p><p id="57ed" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们已经设置好了JavaScript文件，我们可以进行测试，以确保所有的东西都链接起来，并按照我们期望的那样运行。要测试脚本文件，请将以下代码行添加到JavaScript文件中，保存它，然后在浏览器中重新加载页面:</p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="c4c1" class="kt ku in mc b gy mg mh l mi mj">alert('THIS WILL POP UP IF EVERYTHING WORKS!!')</span></pre><p id="ed40" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您应该会看到一个弹出的警告框，如下所示:</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/726bce15f1e6edef406772ee0ce0a7eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*4ynrBsgnANQ-I0a1Hnhd4w.png"/></div></figure><p id="35c5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果弹出警告框，一切正常，你就安全了！如果没有，返回并检查<script>源代码以确保它指向正确的文件和目录，并确保您的scripts.js文件位于正确的目录中。&lt;/root&gt;</script></p><p id="2f78" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一旦一切都正确连接起来，我们需要一种方法来选择我们想要在JavaScript中添加功能的元素。在我们的例子中，我们需要访问密码输入字段和密码切换图标。使用JavaScript方法选择HTML元素有几种方式，但是如果您已经阅读了我关于使用自定义数据属性选择HTML元素的文章，您将会意识到这是我选择DOM元素的首选方式，所以这是我们将使用的方法。</p><p id="cba0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们为需要选择的每个元素添加一个自定义数据属性:</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mx"><img src="../Images/96bc4e8b03a019ef8f4d936ddc850fa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*LvJ-k6SP3uq67h3i49nUhQ.png"/></div></div></figure><p id="9c10" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，在我们的JavaScript文件中，我们可以使用<em class="ms"> querySelector() </em>方法从DOM中获取这些元素，并将它们存储在一个变量中，供我们的JavaScript使用:</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi my"><img src="../Images/8ae0f7cd3be670d128e5a459e98e8ea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*tFKSI2X4mWIMjgp5_-XX8g.png"/></div></figure><p id="1e80" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，让我们的项目做点什么吧！首先，让我们向密码输入字段添加一个事件侦听器，它“侦听”字段中的输入，并调用一个函数来显示我们的切换按钮:</p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="59b7" class="kt ku in mc b gy mg mh l mi mj">passInput.addEventListener('input', showToggleButton)</span></pre><p id="ebbd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们可以继续创建<em class="ms"> showToggleButton() </em>函数，并使用条件if…else语句告诉它要做什么:</p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="a98b" class="kt ku in mc b gy mg mh l mi mj">function showToggleButton() {<br/>   if (passInput.value.length &gt; 0) toggleBtn.style.display = 'block'<br/>   else toggleBtn.style.display = ''<br/>}</span></pre><p id="0278" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该函数查看密码字段值的长度，如果确实有一个值(大于零个字符)，它将切换按钮图标的显示样式设置为“阻止”，这允许它显示在屏幕上。否则，它将删除显示样式属性，元素将默认回到<em class="ms">显示:无</em>。</p><p id="94e4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们继续向密码输入字段添加一个事件监听器。当密码输入字段被聚焦时(或者当用户选择它来输入时)，这个事件监听器将被调用。此事件侦听器将检查密码是否可见，以及密码的长度是否小于1。如果是，它将再次调用<em class="ms">togglepasswordsvisible()</em>函数并隐藏切换图标，因为密码字段为空:</p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="93b6" class="kt ku in mc b gy mg mh l mi mj">passInput.addEventListener('input', showToggleButton)<br/>passInput.addEventListener('focus', () =&gt; {<br/>  if (showPassword &amp;&amp; passInput.value.length &lt; 1) {<br/>     togglePasswordVisible()<br/>  }<br/>})</span></pre><p id="eb98" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了实现这一点，我们需要声明变量‘password visible ’,因为我们在函数中引用了它。我们可以把它放在文件的顶部(就在输入和切换按钮选择器变量的下面)，使它可以全局访问:</p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="a1db" class="kt ku in mc b gy mg mh l mi mj">let showPassword = false</span></pre><p id="b477" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该变量使用let关键字而不是const，以便可以重新分配该值。这将在显示和隐藏密码以及确定显示哪个图标方面发挥作用。我们还为变量定义了一个默认值‘false ’,因为我们不希望我们的密码可见，除非用户单击切换按钮来显示它。</p><p id="3fe0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">添加一个事件监听器到切换按钮</strong></p><p id="7446" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们需要向切换按钮添加一个事件侦听器，以便当用户单击它时，它将调用一个函数并执行一个操作。在我们的例子中，我们首先要调用一个名为<em class="ms">到</em>的函数，然后我们要关注密码输入字段:</p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="b697" class="kt ku in mc b gy mg mh l mi mj">toggleBtn.addEventListener('click', () =&gt; {<br/>    togglePasswordVisible()<br/>    passInput.focus()<br/>})</span></pre><p id="9bc1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们创建<em class="ms">toggle passwordpvisible()</em>函数，该函数将在显示用户键入的密码或隐藏密码与显示“点”之间切换:</p><pre class="lt lu lv lw gt mb mc md me aw mf bi"><span id="b403" class="kt ku in mc b gy mg mh l mi mj">function togglePasswordVisible() {<br/>    showPassword = !showPassword<br/>    if (showPassword) {<br/>        toggleBtn.classList = 'fas fa-eye-slash'<br/>        passInput.setAttribute('type', 'text')<br/>    } else {<br/>        toggleBtn.classList = 'fas fa-eye'<br/>        passInput.setAttribute('type', 'password')<br/>    }<br/>}</span></pre><p id="911d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个函数非常简单，它所做的就是获取我们之前定义的<em class="ms"> showPassword </em>变量的当前布尔值，并将其设置为当前值的反义词(如果为真，则设置为false，反之亦然)。</p><p id="d15b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，该函数查看showPassword的新值，并将图标的类属性设置为f-eye-斜杠(表示隐藏密码)或f-eye(表示显示密码)。它还将文本框的类型属性设置为文本(如果密码可见)或密码(如果密码隐藏)。</p><p id="439b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们保存我们的工作，测试我们的项目！首次加载页面时，密码字段应为空，图标应隐藏。一旦在密码输入中键入了一个值，图标应该不带斜线显示，密码应该用点隐藏:</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mz"><img src="../Images/29a952ffcb6636145a6f462fee3a5881.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WgA4wQZ8UVvowHQonDlJhQ.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">On first load, password field is blank and icon is hidden. Once user inputs a value, the icon is visibile.</figcaption></figure><p id="820d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果点击了眼睛图标，它将变成一个带有斜线的图标，密码将显示为文本:</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi na"><img src="../Images/8566b1dbd80ff40821791252942621bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*Za5CokXUflXWjNcduifW8Q.png"/></div></figure><h2 id="0ee8" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">结论</h2><p id="92fc" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">你的托格勒管用吗？如果是这样，太棒了！希望你喜欢这个教程，并且能够在现实项目中使用这个概念！</p><p id="907f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你喜欢这个教程，我将创建更多类似的教程，在不久的将来，我将重新启动我的博客和文件夹网站，我计划在那里发布更多的教程。关于该网站发布的信息将很快发布！请随意订阅我的订阅源，以便您会收到此次发布的通知，并且您永远不会错过新文章的发布！</p><p id="c57a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">感谢您的阅读和快乐编码！</p></div></div>    
</body>
</html>