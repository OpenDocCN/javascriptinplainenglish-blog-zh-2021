<html>
<head>
<title>Create a GraphQL API Wrapper for your REST API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä¸ºæ‚¨çš„REST APIåˆ›å»ºä¸€ä¸ªGraphQL APIåŒ…è£…å™¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/create-a-graphql-api-wrapper-for-your-rest-api-7873c63fcce2?source=collection_archive---------10-----------------------#2021-01-08">https://javascript.plainenglish.io/create-a-graphql-api-wrapper-for-your-rest-api-7873c63fcce2?source=collection_archive---------10-----------------------#2021-01-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="c18e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">ä½¿ç”¨ç°æœ‰çš„REST APIï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•å›´ç»•ç°æœ‰çš„æœåŠ¡åˆ›å»ºGraphQL APIï¼Œè€Œä¸æ˜¯å®Œå…¨é‡å†™</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/1b58c433894a6ee8dd300d1de1dcb991.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6UDn-S4VF_dDSZWM.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">GraphQL Consuming REST Services</figcaption></figure><h1 id="5c0e" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">ä»‹ç»</h1><p id="e310" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">GraphQLæ˜¯ä¸€ä¸ªåœ¨å®¢æˆ·ç«¯ä½¿ç”¨çš„æœ‰è¶£çš„æœåŠ¡ã€‚å‡­å€Ÿå…¶æ–‡æ¡£ã€æ¸¸ä¹åœºå’ŒçŠ¶æ€ç®¡ç†é€‰é¡¹ï¼Œå¦‚<a class="ae mg" href="https://relay.dev/" rel="noopener ugc nofollow" target="_blank"> relay </a>æˆ–<a class="ae mg" href="https://www.apollographql.com/" rel="noopener ugc nofollow" target="_blank"> apollo </a>ï¼Œå¼€å‘äººå‘˜ä½“éªŒå¯¹æˆ‘å’Œæˆ‘çš„åŒäº‹æ¥è¯´æ˜¯ä¸€æ¬¡çˆ†ç‚¸ã€‚æœ‰ä¸€ç§å¸¸è§çš„è¯¯è§£ï¼Œè®¤ä¸ºå¯ä»¥ä½¿ç”¨RESTæˆ–GraphQLï¼Œä½†ä¸èƒ½ä¸¤è€…éƒ½ç”¨ã€‚ä½ å¯ä»¥ä¸¤è€…å…¼å¾—ï¼å½“æˆ‘å­¦ä¹ çš„æ—¶å€™ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯GraphQLæˆ–è€…RESTçš„å…¨éƒ¨ã€‚è¦äº†è§£è¿™äº›è§„èŒƒä¹‹é—´çš„å·®å¼‚ï¼Œè¯·è®¿é—®<a class="ae mg" href="https://johnfay.dev/blog/understanding-graphql/" rel="noopener ugc nofollow" target="_blank">é€šè¿‡RESTäº†è§£GraphQLã€‘ã€‚æˆ‘ä»¬ä¸­çš„è®¸å¤šäººéƒ½æœ‰è¿™æ ·çš„æƒ…å†µï¼Œæˆ‘ä»¬ä¸æƒ³å®Œå…¨æ”¾å¼ƒç°æœ‰çš„REST APIæ¥å¼€å§‹å°è¯•GraphQLã€‚</a></p><p id="1176" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls lt mj lv lw lx mk lz ma mb ml md me mf ig bi translated">æœ€åï¼Œæ‚¨å°†æ‹¥æœ‰ä¸€ä¸ªGraphQL APIï¼Œå®ƒåˆ©ç”¨äº†æ‚¨åœ¨JavaScriptä¸­é€‰æ‹©çš„REST APIã€‚ä¸ºäº†å¿«é€Ÿèµ·è§ï¼Œæˆ‘å°†ä½¿ç”¨<a class="ae mg" href="https://apidocs.covidactnow.org/" rel="noopener ugc nofollow" target="_blank"> Covid Act Now API </a>ï¼Œä½†æ˜¯æ‚¨å¯ä»¥éšæ„æ›¿æ¢æ‚¨è‡ªå·±çš„REST APIå’Œæ¨¡å‹ã€‚å¦‚æœæ‚¨å°†ä½¿ç”¨ç›¸åŒçš„APIï¼Œæˆ‘å»ºè®®<a class="ae mg" href="https://apidocs.covidactnow.org/access" rel="noopener ugc nofollow" target="_blank">ç°åœ¨è·å–æ‚¨çš„APIå¯†é’¥</a>ã€‚è¿™æ˜¯å³æ—¶çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦ç­‰å¾…æ—¶é—´ï¼è®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/5f7add5650924d7d83c5a9f16df29382.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/0*tnhIMGzR4i3iYaEP.gif"/></div></figure><h1 id="5c6d" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">æ„å»ºæ‚¨çš„API</h1><p id="6b30" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">æˆ‘ä»¬å°†ä½¿ç”¨hello worldè„šæœ¬è®¾ç½®JavaScriptï¼Œå°†å…¶è½¬æ¢ä¸ºGraphQL hello worldç«¯ç‚¹ï¼Œæ·»åŠ RESTæ•°æ®æºï¼Œå¹¶å»ºç«‹å…³ç³»ä»¥ç»„åˆAPIè°ƒç”¨ã€‚</p><h1 id="5b1e" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">é¡¹ç›®è®¾ç½®</h1><p id="3f70" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">é¡¹ç›®è®¾ç½®æœ‰ä¸€äº›å¯é€‰æ­¥éª¤ï¼Œä¾‹å¦‚ä½¿ç”¨<a class="ae mg" href="https://nodemon.io/" rel="noopener ugc nofollow" target="_blank"> nodemon </a>ä¸ºæˆ‘ä»¬é‡æ–°åŠ è½½åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨<a class="ae mg" href="https://github.com/motdotla/dotenv" rel="noopener ugc nofollow" target="_blank"> dotenv </a>åŠ è½½ç¯å¢ƒå˜é‡ã€‚è¿™å°†æ˜¯æ‚¨åœ¨JavaScriptä¸­æ·»åŠ æ‚¨å–œæ¬¢ä½¿ç”¨çš„å·¥å…·çš„åœ°æ–¹ã€‚</p><h1 id="22e9" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">åˆ›å»ºé¡¹ç›®</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="aaba" class="ms kt in mo b gy mt mu l mv mw">mkdir covid-graphql</span></pre><h1 id="a790" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">åˆå§‹åŒ–npmåŒ…</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="5aea" class="ms kt in mo b gy mt mu l mv mw">npm init -y</span></pre><h1 id="dfa1" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">åˆ›å»ºä¸€ä¸ªæºç›®å½•å’Œä¸€ä¸ª<code class="fe mx my mz mo b">index.js</code>æ–‡ä»¶</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="4574" class="ms kt in mo b gy mt mu l mv mw">touch src/index.js</span></pre><h1 id="28ba" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">ç»™<code class="fe mx my mz mo b">index.js</code>æ·»åŠ ä¸€ä¸ª<code class="fe mx my mz mo b">hello world</code>æ—¥å¿—</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="5741" class="ms kt in mo b gy mt mu l mv mw">console.log("hello world")</span></pre><h1 id="bbb0" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">æ‰“å¼€<code class="fe mx my mz mo b">package.json</code>ï¼Œæ·»åŠ <code class="fe mx my mz mo b">dev</code>å’Œ<code class="fe mx my mz mo b">start</code>è„šæœ¬</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="1c5c" class="ms kt in mo b gy mt mu l mv mw">"dev": "nodemon src/index.js --watch src/",<br/> "start": "node src/index.js"</span></pre><ul class=""><li id="0015" class="na nb in lm b ln mh lq mi lt nc lx nd mb ne mf nf ng nh ni bi translated"><code class="fe mx my mz mo b">dev</code>åˆ©ç”¨nodemonæ¥ç›‘è§†<code class="fe mx my mz mo b">src</code>ç›®å½•ä¸­çš„ä»»ä½•å˜åŒ–ã€‚</li><li id="7004" class="na nb in lm b ln nj lq nk lt nl lx nm mb nn mf nf ng nh ni bi translated"><code class="fe mx my mz mo b">start</code>ä½¿ç”¨node(æ¯”ç”Ÿäº§ä¸­çš„nodemonè½»)ã€‚</li></ul><h1 id="b11a" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">åœ¨ç»ˆç«¯è¿è¡Œ<code class="fe mx my mz mo b">npm run dev</code></h1><p id="db81" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">ç¡®ä¿æˆ‘ä»¬æ­£å¸¸è¿è¡Œï¼Œä¸éœ€è¦ä¸ºæœªæ¥çš„æ¯ä¸€é¡¹å˜åŒ–é‡å¯æˆ‘ä»¬çš„åº”ç”¨ã€‚</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="0356" class="ms kt in mo b gy mt mu l mv mw">hello world</span></pre><p id="e5be" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls lt mj lv lw lx mk lz ma mb ml md me mf ig bi translated">å¦‚æœä½ è®¤ä¸ºè¿™æ¯«æ— æ„ä¹‰ï¼Œè¯·å¯¹æˆ‘å®½å®¹äº›ã€‚å®ƒä¼šå¸®åŠ©æŸäººã€‚</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi no"><img src="../Images/430b93146ccea11900c29b6d9c9d13d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*TRUedMLuD7t28UnF.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Be nice</figcaption></figure><h1 id="28e1" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">å®‰è£…ä¾èµ–é¡¹</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="64bf" class="ms kt in mo b gy mt mu l mv mw">npm install apollo-server apollo-datasource-rest dotenv</span></pre><h2 id="315b" class="ms kt in bd ku np nq dn ky nr ns dp lc lt nt nu le lx nv nw lg mb nx ny li nz bi translated">é˜¿æ³¢ç½—æœåŠ¡å™¨</h2><p id="0355" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">ç”¨äºå¯åŠ¨expressæœåŠ¡å™¨ã€‚</p><h2 id="d7d2" class="ms kt in bd ku np nq dn ky nr ns dp lc lt nt nu le lx nv nw lg mb nx ny li nz bi translated">é˜¿æ³¢ç½—-æ•°æ®æº-ä¼‘æ¯</h2><p id="5c5c" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">ç”¨äºåˆ©ç”¨RESTæºå‘¨å›´çš„ç¼“å­˜å’Œå…¶ä»–åŸºäºç±»çš„ç»§æ‰¿ã€‚</p><h2 id="c012" class="ms kt in bd ku np nq dn ky nr ns dp lc lt nt nu le lx nv nw lg mb nx ny li nz bi translated">dotenv</h2><p id="4af1" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">ç”¨äºä¼ å…¥ç¯å¢ƒå˜é‡ã€‚</p><h2 id="aada" class="ms kt in bd ku np nq dn ky nr ns dp lc lt nt nu le lx nv nw lg mb nx ny li nz bi translated">nodemon</h2><p id="7b58" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">åœ¨å¼€å‘æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œå› æ­¤æ‚¨ä¸éœ€è¦åœ¨æ¯æ¬¡æ–‡ä»¶æ›´æ”¹æ—¶é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºã€‚</p><h1 id="6560" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">åˆ›å»ºHello Worldæ¨¡å¼</h1><p id="5e87" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">è¿™ä¸ªæ¨¡å¼æ–‡ä»¶å°†æ˜¯æˆ‘ä»¬å®šä¹‰GraphQL APIçš„åœ°æ–¹ã€‚</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="83c2" class="ms kt in mo b gy mt mu l mv mw">touch src/schema.js</span><span id="aea6" class="ms kt in mo b gy oa mu l mv mw">// schema.js<br/>const { gql } = require("apollo-server")</span><span id="3797" class="ms kt in mo b gy oa mu l mv mw">const typeDefs = gql`<br/>  type Query {<br/>    hello: String<br/>  }<br/>`</span><span id="5e77" class="ms kt in mo b gy oa mu l mv mw">module.exports = typeDefs</span></pre><p id="96d1" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls lt mj lv lw lx mk lz ma mb ml md me mf ig bi translated">æˆ‘ä»¬åœ¨<code class="fe mx my mz mo b">typeDefs</code>å¯¹è±¡ä¸­æ‰€è¯´çš„æ˜¯ï¼Œå½“æˆ‘ä»¬åœ¨graphQL APIä¸­è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œæˆ‘ä»¬åªèƒ½æŸ¥è¯¢<code class="fe mx my mz mo b">hello</code>å¹¶ä¸”æˆ‘ä»¬æœŸæœ›ä¸€ä¸ªå¯ç©ºçš„<code class="fe mx my mz mo b">String</code>è¿”å›ç±»å‹ã€‚ä¸ºäº†ä½¿å“åº”ä¸å¯ä¸ºç©ºï¼Œæˆ‘ä»¬å°†åœ¨æœ«å°¾æ·»åŠ ä¸€ä¸ªæ„Ÿå¹å·ï¼Œå°±åƒè¿™æ ·<code class="fe mx my mz mo b">hello: String!</code>ã€‚</p><h1 id="007e" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">æ„å»ºApolloæœåŠ¡å™¨</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="1218" class="ms kt in mo b gy mt mu l mv mw">// src/index.js<br/>require("dotenv").config()<br/>const { ApolloServer } = require("apollo-server")<br/>const typeDefs = require("./schema")</span><span id="e1d3" class="ms kt in mo b gy oa mu l mv mw">const server = new ApolloServer({ typeDefs })<br/>const port = process.env.port || 9000</span><span id="983d" class="ms kt in mo b gy oa mu l mv mw">server.listen(port).then(() =&gt; {<br/>  console.log(`server running ğŸš€ http://localhost:${port}`)<br/>})</span></pre><p id="9e75" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls lt mj lv lw lx mk lz ma mb ml md me mf ig bi translated">åœ¨<a class="ae mg" href="http://localhost:9000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:9000 </a>æŸ¥çœ‹æ‚¨çš„æ¨¡å¼å®šä¹‰ã€‚å¦‚æœæ‚¨ç¢°å·§å°è¯•æŸ¥è¯¢<code class="fe mx my mz mo b">hello</code>ï¼Œæ‚¨å°†ä¼šå‘ç°å“åº”ä¸ºç©ºã€‚æˆ‘ä»¬ä»ç„¶éœ€è¦å®šä¹‰è§£æå™¨å“åº”ã€‚</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi no"><img src="../Images/4ff28358e67b9e5ed9f8d01dc30f8002.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*bz-Pvj-ky4GdeEww.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Youâ€™re not losing itâ€¦expected</figcaption></figure><h1 id="e8b9" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">ä¸º<code class="fe mx my mz mo b">hello</code>åˆ›å»ºè§£æå™¨</h1><p id="b316" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">è§£æå™¨æ˜¯å®Œæˆå®é™…å·¥ä½œçš„åœ°æ–¹ã€‚è¯¥æ¨¡å¼æ ¹æ®å®¢æˆ·ç«¯å¯ä»¥åšä»€ä¹ˆæ¥è®¾ç½®APIçš„é™åˆ¶ã€‚å®é™…ä¸Šåšè¿™äº›å·¥ä½œæ˜¯è§£æå™¨çš„å·¥ä½œã€‚ç±»ä¼¼äºæˆ‘ä»¥å‰å¸–å­ä¸­çš„æŸ¥è¯¢å’Œçªå˜è§£é‡Šï¼Œå¦‚æœéœ€è¦ï¼Œæˆ‘ä»¬å°†è¿”å›<code class="fe mx my mz mo b">Query</code>å’Œ<code class="fe mx my mz mo b">Mutation</code>ã€‚åœ¨queryä¸‹ï¼Œæˆ‘ä»¬ç°åœ¨æ·»åŠ æˆ‘ä»¬çš„<code class="fe mx my mz mo b">hello</code>è§£æå™¨æ¥è¿”å›<code class="fe mx my mz mo b">hello world</code>ã€‚</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="c49d" class="ms kt in mo b gy mt mu l mv mw">touch src/resolvers.js</span><span id="51b6" class="ms kt in mo b gy oa mu l mv mw">module.exports = {<br/>  Query: {<br/>    hello: () =&gt; {<br/>      return "hello world"<br/>    }<br/>  }<br/>}</span></pre><h1 id="b0da" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">å°†è§£æå™¨æ·»åŠ åˆ°<code class="fe mx my mz mo b">src/index.js</code> apollo-serverå£°æ˜</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="a0d9" class="ms kt in mo b gy mt mu l mv mw">const resolvers = require("./resolvers")</span><span id="87b6" class="ms kt in mo b gy oa mu l mv mw">const server = new ApolloServer({ typeDefs, resolvers })</span></pre><p id="4233" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls lt mj lv lw lx mk lz ma mb ml md me mf ig bi translated">æ­¤æ—¶ï¼Œå½“æ‚¨æŸ¥è¯¢<code class="fe mx my mz mo b">hello</code>æ—¶ï¼Œæ‚¨åº”è¯¥ä¼šå¾—åˆ°é¢„æœŸçš„å“åº”ã€‚</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ob"><img src="../Images/11d1594131ee5f81d2d290c449d5d23f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5ksBJJUSZOSNIy_a.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Hello world resolver</figcaption></figure><h1 id="42e7" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">è¿æ¥RESTæº</h1><p id="09ea" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªRESTæ•°æ®æºç±»ï¼Œå®ƒå°†èƒ½å¤Ÿåœ¨æˆ‘ä»¬çš„è§£æå™¨ä¸­ä½¿ç”¨ï¼Œä»¥åˆ©ç”¨ä¸€äº›å®é™…çš„ç»“æœã€‚</p><h1 id="6fd2" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">åˆ›å»ºRESTæ•°æ®æº</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="eb10" class="ms kt in mo b gy mt mu l mv mw">mkdir src/datasources<br/>touch src/datasources/CovidActNowAPI.js</span><span id="bf72" class="ms kt in mo b gy oa mu l mv mw">const { RESTDataSource } = require("apollo-datasource-rest")</span><span id="b453" class="ms kt in mo b gy oa mu l mv mw">class CovidActNowAPI extends RESTDataSource {<br/>  constructor() {<br/>    super()<br/>    this.baseURL = "https://api.covidactnow.org/v2/"<br/>  }<br/>}</span><span id="cd2b" class="ms kt in mo b gy oa mu l mv mw">module.exports = CovidActNowAPI</span></pre><p id="12a9" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls lt mj lv lw lx mk lz ma mb ml md me mf ig bi translated">è¿™é‡Œæˆ‘ä»¬çœŸæ­£éœ€è¦åšçš„æ˜¯æ‰©å±•<code class="fe mx my mz mo b">RESTDataSource</code>æ¥è®¿é—®å†…å­˜ç¼“å­˜ã€HTTPåŠ©æ‰‹å‡½æ•°å’Œåˆ†é¡µã€‚è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®<a class="ae mg" href="https://github.com/apollographql/apollo-server/tree/main/packages/apollo-datasource-rest" rel="noopener ugc nofollow" target="_blank"> apollo-datasource-rest </a>ã€‚</p><h1 id="52e2" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">åˆ›é€ ã€‚ç®€ä»‹ä¸­çš„envæ–‡ä»¶å’Œæ’ä»¶APIå¯†é’¥</h1><p id="d1b1" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">å¸Œæœ›æ‚¨åœ¨<a class="ae mg" href="https://apidocs.covidactnow.org/access" rel="noopener ugc nofollow" target="_blank">ä»Covid Act Now apiè·å¾—æ‚¨çš„APIå¯†é’¥</a>åï¼Œå·²ç»å°†å¯†é’¥å­˜æ”¾å¥½äº†ã€‚</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/1d5948e54618720e45230a0d239e6f4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/0*Tgm44kyA1l8cCFeV.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">What is this amateur hour?</figcaption></figure><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="9530" class="ms kt in mo b gy mt mu l mv mw">touch .env</span><span id="de42" class="ms kt in mo b gy oa mu l mv mw">COVID_ACT_NOW=YOUR_KEY_HERE</span></pre><h1 id="e85f" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">æ·»åŠ ä¸€äº›æ–¹æ³•æ¥è·å–CovidActNowAPIç±»ä¸­çš„å·å’Œå¿</h1><p id="e657" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">çœ‹ä¸€ä¸‹<a class="ae mg" href="https://apidocs.covidactnow.org/api#tag/State-Data" rel="noopener ugc nofollow" target="_blank"> Covid Act Now APIæ–‡æ¡£</a>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒJSONå“åº”å¯ä»¥åœ¨æˆ‘ä»¬çš„base URL(<a class="ae mg" href="https://api.covidactnow.org/v2/" rel="noopener ugc nofollow" target="_blank">https://api.covidactnow.org/v2/</a>)åŠ ä¸Š<code class="fe mx my mz mo b">states</code>ä¸­æ‰¾åˆ°ï¼Œé’ˆå¯¹ç¾å›½æ‰€æœ‰å·ï¼Œ<code class="fe mx my mz mo b">state/OH</code>é’ˆå¯¹ç¾å›½ä¸ªåˆ«å·ï¼Œå¦‚ä¿„äº¥ä¿„å·ï¼Œ<code class="fe mx my mz mo b">counties</code>é’ˆå¯¹ç¾å›½æ‰€æœ‰å¿ï¼Œ<code class="fe mx my mz mo b">county/39001</code>é’ˆå¯¹ä¸ªåˆ«å¿ï¼Œé€šè¿‡<a class="ae mg" href="https://www.nrcs.usda.gov/wps/portal/nrcs/detail/national/home/?cid=nrcs143_013697" rel="noopener ugc nofollow" target="_blank"> fips </a>åŠ ä¸Šæˆ‘ä»¬çš„APIé”®ä½œä¸ºå‚æ•°ã€‚è¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„<code class="fe mx my mz mo b">.timeseries</code>,æˆ‘ä»¬å¯ä»¥æ·»åŠ è¿›æ¥ï¼Œä»¥åŒ…å«åº¦é‡å’Œå®é™…æ•°å­—ä¹‹ç±»çš„ä¸€ç»„å€¼ã€‚å¯¹äºè·å–å·æˆ–å¿çš„åˆ—è¡¨ï¼Œæˆ‘é€‰æ‹©é¿å…è¿™æ ·åšï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªå¤§å¾—å¤šçš„æœ‰æ•ˆè´Ÿè½½ï¼Œä½†æˆ‘å¯ç”¨äº†ç¾å›½å„ä¸ªå·å’Œå¿çš„æ—¶é—´åºåˆ—ã€‚ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åˆ›å»ºä¸RESTæœåŠ¡äº¤äº’çš„å‡½æ•°ã€‚</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="957a" class="ms kt in mo b gy mt mu l mv mw">async getAllStates() {<br/>    const response = await this.get(`states.json?apiKey=${process.env.COVID_ACT_NOW}`);<br/>    return response || [];<br/>}</span><span id="0ed2" class="ms kt in mo b gy oa mu l mv mw">async getState(stateCode) {<br/>    const response = await this.get(<br/>    `state/${stateCode}.timeseries.json?apiKey=${process.env.COVID_ACT_NOW}`<br/>    );<br/>    return response;<br/>}</span><span id="3a61" class="ms kt in mo b gy oa mu l mv mw">async getAllCounties() {<br/>    const response = await this.get(`counties.json?apiKey=${process.env.COVID_ACT_NOW}`);<br/>    return response || [];<br/>}</span><span id="de3d" class="ms kt in mo b gy oa mu l mv mw">async getCounty(fips) {<br/>    const response = await this.get(<br/>    `county/${fips}.timeseries.json?apiKey=${process.env.COVID_ACT_NOW}`<br/>    );<br/>    return response;<br/>}</span></pre><h1 id="1cf0" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">å°†æ•°æ®æºæ·»åŠ åˆ°apollo-graphqlæœåŠ¡å™¨</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="d741" class="ms kt in mo b gy mt mu l mv mw">// index.js<br/>const CovidActNowAPI = require("./datasources/CovidActNowAPI")</span><span id="bfeb" class="ms kt in mo b gy oa mu l mv mw">const server = new ApolloServer({<br/>  dataSources: () =&gt; ({<br/>    covidApi: new CovidActNowAPI()<br/>  }),<br/>  typeDefs,<br/>  resolvers<br/>})</span></pre><h1 id="a29c" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">æ›´æ–°æ¨¡å¼ä»¥å°†å·å’Œå¿åæ˜ ä¸ºæŸ¥è¯¢</h1><p id="c089" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">è¿™åº”è¯¥æ˜¯ä½ æœ€è´¹æ—¶é—´çš„éƒ¨åˆ†ã€‚ç›¸å¯¹äºCovid Act Now APIï¼Œä»–ä»¬æœ‰ä¸€ä¸ªæ–¹ä¾¿çš„<a class="ae mg" href="https://apidocs.covidactnow.org/api#tag/Actuals" rel="noopener ugc nofollow" target="_blank">æ¨¡å‹</a>éƒ¨åˆ†ï¼Œå°†å‘æ‚¨æ˜¾ç¤ºä¸€äº›æ‚¨éœ€è¦é‡æ–°åˆ›å»ºçš„å­ç±»åˆ«ç±»å‹ï¼Œä»¥å‘Šè¯‰è¯¥APIçš„æ¶ˆè´¹è€…ä»€ä¹ˆæ˜¯å¯èƒ½çš„ã€‚å¯¹äºä»»ä½•APIï¼Œæˆ‘åœ¨è¿™é‡Œçš„è¿‡ç¨‹éƒ½åªæ˜¯æµè§ˆJSONå“åº”ï¼Œå¹¶ç¡®ä¿æˆ‘æƒ³è¦çš„æ‰€æœ‰å¯ç”¨æ•°æ®éƒ½åŒ…å«åœ¨å†…ã€‚æ¯ä¸ªåµŒå¥—å¯¹è±¡éƒ½éœ€è¦æ¨¡å¼ä¸­çš„ç±»å‹æ‰èƒ½è¢«è¯†åˆ«ã€‚å¦‚æœä½ ä¸éœ€è¦å®ƒï¼Œä¸è¦ä¸ºå®ƒåˆ›å»ºç±»å‹ï¼Œå®ƒä¼šè¢«å¿½ç•¥ğŸ˜Šæ‚¨è¿˜å¯ä»¥å‚è€ƒ<a class="ae mg" href="https://www.apollographql.com/docs/tutorial/schema/" rel="noopener ugc nofollow" target="_blank"> apolloæ–‡æ¡£â€”æ„å»ºä¸€ä¸ªæ¨¡å¼</a>æ¥æŸ¥çœ‹è¿™é‡Œçš„ä»»ä½•è¯­æ³•ï¼Œæ¯”å¦‚ä¸å¯ç©ºçš„(ï¼)ã€æŸ¥è¯¢æˆ–å˜å¼‚çš„è¾“å…¥å‚æ•°(<code class="fe mx my mz mo b">county(fips: String!): County</code>)æˆ–æ•°ç»„å“åº”(<code class="fe mx my mz mo b">[County]</code>)ã€‚</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="0d5a" class="ms kt in mo b gy mt mu l mv mw">const typeDefs = gql`<br/>  type Query {<br/>    counties: [County!]!<br/>    county(fips: String!): County<br/>    states: [State!]!<br/>    state(stateCode: String!): State<br/>  }</span><span id="542f" class="ms kt in mo b gy oa mu l mv mw">type County {<br/>    fips: String!<br/>    country: String!<br/>    state: String!<br/>    county: String!<br/>    population: Int!<br/>    metrics: Metric!<br/>    riskLevels: RiskLevel!<br/>    actuals: Actual!<br/>    lastUpdatedDate: String<br/>    url: String<br/>    metricsTimeseries: [Metric!]<br/>    actualsTimeseries: [Actual!]<br/>    riskLevelsTimeseries: [RiskLevel!]<br/>  }</span><span id="2a51" class="ms kt in mo b gy oa mu l mv mw">type State {<br/>    fips: String!<br/>    country: String!<br/>    state: String!<br/>    population: Int!<br/>    metrics: Metric!<br/>    riskLevels: RiskLevel!<br/>    actuals: Actual!<br/>    lastUpdatedDate: String<br/>    url: String<br/>    metricsTimeseries: [Metric!]<br/>    actualsTimeseries: [Actual!]<br/>  }</span><span id="37d9" class="ms kt in mo b gy oa mu l mv mw">type Metric {<br/>    testPositivityRatio: Float<br/>    caseDensity: Float<br/>    contactTracerCapacityRatio: Float<br/>    infectionRate: Float<br/>    infectionRateCI90: Float<br/>    icuHeadroomRatio: Float<br/>    icuHeadroomDetails: ICUHeadroomDetails<br/>    icuCapacityRatio: Float<br/>    date: String<br/>  }</span><span id="c68f" class="ms kt in mo b gy oa mu l mv mw">type ICUHeadroomDetails {<br/>    currentIcuCovid: Int<br/>    currentIcuCovidMethod: String<br/>    currentIcuNonCovid: Int<br/>    currentIcuNonCovidMethod: String<br/>    icuCapacityRatio: Float<br/>  }</span><span id="a0d4" class="ms kt in mo b gy oa mu l mv mw">type RiskLevel {<br/>    overall: Int<br/>    testPositivityRatio: Float<br/>    caseDensity: Float<br/>    contactTracerCapacityRatio: Float<br/>    infectionRate: Float<br/>    icuHeadroomRatio: Float<br/>    icuCapacityRatio: Float<br/>    date: String<br/>  }</span><span id="5e61" class="ms kt in mo b gy oa mu l mv mw">type Actual {<br/>    cases: Int<br/>    deaths: Int<br/>    positiveTests: Int<br/>    negativeTests: Int<br/>    contactTracers: Float<br/>    hospitalBeds: HospitalBed<br/>    icuBeds: ICUBed<br/>    newCases: Int<br/>    date: String<br/>  }</span><span id="ece5" class="ms kt in mo b gy oa mu l mv mw">type HospitalBed {<br/>    capacity: Int<br/>    currentUsageTotal: Int<br/>    currentUsageCovid: Int<br/>    typicalUsageRate: Float<br/>  }</span><span id="c41c" class="ms kt in mo b gy oa mu l mv mw">type ICUBed {<br/>    capacity: Int<br/>    currentUsageTotal: Int<br/>    currentUsageCovid: Int<br/>    typicalUsageRate: Float<br/>  }<br/>`</span></pre><p id="b61b" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls lt mj lv lw lx mk lz ma mb ml md me mf ig bi translated">æˆ‘å…¨åŠ›ä»¥èµ´åšæ¨¡ç‰¹ã€‚æˆ‘åªç•™ä¸‹äº†å¾ˆå°‘çš„å‡ ä¸ªé”®ï¼Œåœ¨è¿™é‡Œæˆ‘å¾—åˆ°äº†å¾ˆå¤šæœ‰ç”¨çš„ä¿¡æ¯ã€‚å¦‚æœè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é‡ï¼Œå¼€å§‹å°çš„å’Œé€’å¢çš„æ’ä»¶ç±»å‹ã€‚æˆ–è€…ä¸€æ¬¡æ€§å®Œæˆã€‚</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi od"><img src="../Images/713e0b5679003a986adc7df33e3d1ed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*ust_IlZkC3hSatZ8.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Iâ€™m kind of a big dealâ€¦</figcaption></figure><h1 id="f5d3" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">æ›´æ–°è§£æç¨‹åºä»¥æ­£ç¡®è§£æ</h1><p id="af86" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">ä½œä¸ºä»»ä½•æŸ¥è¯¢å‡½æ•°çš„ä¸€éƒ¨åˆ†ï¼Œæ¯ä¸ªæŸ¥è¯¢éƒ½æœ‰ä¸€ä¸ªè¾“å…¥åˆ—è¡¨ã€‚</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="3e11" class="ms kt in mo b gy mt mu l mv mw">fieldName: (parent, args, context, info) =&gt; data</span></pre><p id="c2d5" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls lt mj lv lw lx mk lz ma mb ml md me mf ig bi translated">æˆ‘ä»¬çš„å‡½æ•°ä¸éœ€è¦<code class="fe mx my mz mo b">parent</code>æˆ–<code class="fe mx my mz mo b">info</code>ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦çš„æ˜¯è®¿é—®è¾“å…¥<code class="fe mx my mz mo b">args</code>æˆ–å‚æ•°å’Œ<code class="fe mx my mz mo b">context</code>ï¼Œå› ä¸ºè¿™åŒ…æ‹¬åµŒå¥—åœ¨æˆ‘ä»¬å®šä¹‰çš„Apollo GraphQLæœåŠ¡å™¨ä¸­çš„<code class="fe mx my mz mo b">dataSources</code>ã€‚</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="3542" class="ms kt in mo b gy mt mu l mv mw">// resolvers.js<br/>Query: {<br/>    counties: (_, __, { dataSources }) =&gt; dataSources.covidApi.getAllCounties(),<br/>    county: (_, { fips }, { dataSources }) =&gt; dataSources.covidApi.getCounty(fips),<br/>    states: (_, __, { dataSources }) =&gt; dataSources.covidApi.getAllStates(),<br/>    state: (_, { stateCode }, { dataSources }) =&gt; dataSources.covidApi.getState(stateCode),<br/>},</span></pre><h1 id="116a" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">ä½¿ç”Ÿæ•ˆ</h1><p id="3db5" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">ä¸€æ—¦æ‚¨å°†æ–°åˆ›å»ºçš„RESTæ•°æ®æºè¿æ¥åˆ°è§£æå™¨ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨æ“åœºä¸Šè¿›è¡Œæµ‹è¯•ã€‚</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ob"><img src="../Images/d7e7e942f84306a36bec75846f5730d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dlormR4KrJMLoZBo.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Sample Counties response in GraphQL</figcaption></figure><h1 id="4a55" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">é€šè¿‡APIè°ƒç”¨ä¼ªé€ å…³ç³»</h1><p id="66f6" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">å‡è®¾æ­¤APIçš„æ¶ˆè´¹è€…æ­£åœ¨æ„å»ºä¸€ä¸ªç¾å›½åœ°å›¾ï¼Œå±•ç¤ºæ–°å† è‚ºç‚çš„ä¸€ä¸ªå·åŠå…¶å¿çš„å½±å“ã€‚ä»–ä»¬å¸Œæœ›ç¾å›½çš„ä¸€ä¸ªå·å’Œæ‰€æœ‰çš„å¿éƒ½èƒ½å‘ˆç°ä»–ä»¬çš„UIã€‚å¦‚æœè¿™è¿˜ä¸æ˜¯ä¸€ä¸ªRESTç«¯ç‚¹ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸¤ä¸ªç«¯ç‚¹:<code class="fe mx my mz mo b">/state/OH</code>å’Œ<code class="fe mx my mz mo b">/counties</code>ç«¯ç‚¹ã€‚è®©æˆ‘ä»¬æŠŠè¿™äº›ç»“åˆèµ·æ¥ï¼ŒæŠŠGraphQLæ¨ç¦»å®¢æˆ·ç«¯ã€‚</p><h1 id="05dc" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">å°†å¿æ•°ç»„æ·»åŠ åˆ°å·</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="5403" class="ms kt in mo b gy mt mu l mv mw">// schema.js<br/>const typeDefs = gql`<br/>  type State {<br/>    counties: [County!] // highlight-line<br/>    fips: String!<br/>    country: String!<br/>    state: String!<br/>    population: Int!<br/>    metrics: Metric!<br/>    riskLevels: RiskLevel!<br/>    actuals: Actual!<br/>    lastUpdatedDate: String<br/>    url: String<br/>    metricsTimeseries: [Metric!]<br/>    actualsTimeseries: [Actual!]<br/>  }</span></pre><h1 id="b039" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">è·å–<code class="fe mx my mz mo b">getState</code>ä¸­çš„å¿</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="41e5" class="ms kt in mo b gy mt mu l mv mw">// CovidActNowAPi.js</span><span id="850d" class="ms kt in mo b gy oa mu l mv mw">async getState(stateCode) {<br/>    const state = await this.get(<br/>      `state/${stateCode}.timeseries.json?apiKey=${process.env.COVID_ACT_NOW}`<br/>    );<br/>    const counties = await this.get(`counties.json?apiKey=${process.env.COVID_ACT_NOW}`);</span><span id="a9d1" class="ms kt in mo b gy oa mu l mv mw">return {<br/>      ...state,<br/>      counties: counties.filter(({ state: stateCode }) =&gt; stateCode === state.state),<br/>    };<br/>  }</span></pre><p id="bacb" class="pw-post-body-paragraph lk ll in lm b ln mh jo lp lq mi jr ls lt mj lv lw lx mk lz ma mb ml md me mf ig bi translated">å¦‚æœä½ æ„¿æ„ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨æ­¤æ—¶å°†å¿æ·»åŠ åˆ°<code class="fe mx my mz mo b">getAllStates</code>å‡½æ•°ä¸­ã€‚è™½ç„¶å®ƒçš„æ€§èƒ½ä¸ä¼šå¾ˆå¥½ï¼Œä½†åœ¨è¿™é‡Œæ¯”åœ¨å®¢æˆ·ç«¯è¦å¥½ã€‚</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/f708eb4d1a975321b5cb3687c7fd650f.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/0*lzG_KL6O9SdqzE9f.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">We are laughingâ€¦ Anchorman</figcaption></figure><h1 id="84f3" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">éªŒè¯å·å†…çš„å¿</h1><p id="ae1d" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">æµ‹è¯•ä»¥ç¡®ä¿æ‚¨å¯ä»¥æŸ¥è¯¢æ‚¨æœŸæœ›çš„å†…å®¹ã€‚</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="4868" class="ms kt in mo b gy mt mu l mv mw">{<br/>  state(stateCode:"OH"){<br/>    state<br/>    counties{<br/>      fips<br/>      county<br/>      population<br/>      metrics{<br/>        testPositivityRatio<br/>      }<br/>      actuals{<br/>        cases<br/>        deaths<br/>      }<br/>    }<br/>  }<br/>}</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ob"><img src="../Images/06ede4e21e0751ae4574afbed8a14fb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Cbi6HH_Q3Tek82jT.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Counties nested under a State in GraphQL</figcaption></figure><h1 id="01a4" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">æ¥ä¸‹æ¥:æ¨¡å¼ä¼˜å…ˆä¸ä»£ç ä¼˜å…ˆ</h1><p id="6c56" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">å¦‚æœæ‚¨æœ‰å…´è¶£äº†è§£è¿™ä¸¤ç§GraphQLæ–¹æ³•èƒŒåçš„åˆ©ä¸å¼Šï¼Œè¯·ç»§ç»­å…³æ³¨æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æœ¬æ•™ç¨‹ä¸­ç¼–å†™çš„APIï¼Œå¹¶é€šè¿‡ä»æ¨¡å¼ä¼˜å…ˆåˆ‡æ¢åˆ°ä»£ç ä¼˜å…ˆä»¥åŠä½¿ç”¨æ›´å¥½çš„å¼€å‘äººå‘˜å·¥å…·è¿›è¡Œæ‰©å±•æ¥æ›´è¿›ä¸€æ­¥ã€‚æˆ‘åœ¨æƒ³ä¸‹ä¸€æ­¥è¯¥å»å“ªé‡Œã€‚å¦‚æœä½ æƒ³çœ‹å…·ä½“çš„ä¸œè¥¿ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi of"><img src="../Images/1b3f2ded1dbdd3739bff648552697aef.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*hz3ZceZxaDMcg1wm.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Immediately regret this decision â€” Anchorman</figcaption></figure><h1 id="2bee" class="ks kt in bd ku kv kw kx ky kz la lb lc jt ld ju le jw lf jx lg jz lh ka li lj bi translated">æ‘˜è¦</h1><p id="a780" class="pw-post-body-paragraph lk ll in lm b ln lo jo lp lq lr jr ls lt lu lv lw lx ly lz ma mb mc md me mf ig bi translated">æˆ‘ä»¬å·²ç»ä»å¤´å¼€å§‹åˆ›å»ºäº†ä¸€ä¸ªGraphQL APIï¼Œæ„å»ºäº†ä¸€ä¸ªRESTæœåŠ¡æ•°æ®æºæ¥åˆ©ç”¨æˆ‘ä»¬ç°æœ‰çš„æœåŠ¡ï¼Œå¹¶å¼€å§‹åˆ©ç”¨è¿™ä¸ªå¹³å°æ¥çœ‹åˆ°ä¸€äº›GraphQLçš„å¥½å¤„ã€‚å¦‚æœæ‚¨åœ¨ä»»ä½•æ—¶å€™è¿·å¤±äº†æ–¹å‘ï¼Œè¿™é‡Œçš„<a class="ae mg" href="https://github.com/keonik/covid-graphql" rel="noopener ugc nofollow" target="_blank">æ˜¯<code class="fe mx my mz mo b">part1</code>åˆ†æ”¯ä¸Šçš„å­˜å‚¨åº“ä»£ç ã€‚ä½ ä¹Ÿå¯ä»¥å‚è€ƒHerokuä¸Šçš„</a><a class="ae mg" href="https://covid-act-now-graphql.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">æ¸¸ä¹åœº</a>æ¥å°è¯•ä¸€äº›æŸ¥è¯¢ã€‚</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi of"><img src="../Images/d6a64c9974c56108ffa00eaf207f20ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*AyblZ7dgqZUI1DA0.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Hooray!</figcaption></figure></div></div>    
</body>
</html>