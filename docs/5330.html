<html>
<head>
<title>How to Use the Dialog Component with Headless UI and Tailwind CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在无头UI和顺风CSS中使用对话框组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-the-dialog-component-with-headless-ui-and-tailwind-css-f8f11edcaf06?source=collection_archive---------4-----------------------#2021-11-02">https://javascript.plainenglish.io/how-to-use-the-dialog-component-with-headless-ui-and-tailwind-css-f8f11edcaf06?source=collection_archive---------4-----------------------#2021-11-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9e1e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Tailwind CSS轻松创建对话框组件</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8aa9d5c1174c0324bf4474c8d2f06c55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_K6p4onB2hJlhvM7"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@mikepetrucci?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mike Petrucci</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8d4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在设计React应用程序时，Tailwind CSS是最受欢迎的选项之一。您可以使用实用程序类轻松地向组件添加样式，而不是创建外部CSS文件。</p><p id="85cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您是Tailwind CSS的新手，请查看下面的文章开始学习。</p><div class="ls lt gp gr lu lv"><a rel="noopener  ugc nofollow" target="_blank" href="/introduction-to-using-tailwind-css-with-next-js-d609be5b6e91"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">将Tailwind CSS用于Next.js的介绍</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">为什么应该在Next.js应用程序中使用Tailwind CSS</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><p id="4c94" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Tailwind有助于基本的样式，但是有时你需要创建更复杂的组件，比如对话框。Tailwind的团队没有从头开始创建新的组件，而是发布了<a class="ae kv" href="https://headlessui.dev/" rel="noopener ugc nofollow" target="_blank"> Headless UI </a>。</p><p id="d39c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Headless UI是一个包含以下内容的库:</p><blockquote class="mk ml mm"><p id="4088" class="kw kx mn ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated">"完全非风格化的，完全可访问的UI组件，设计成完美地与Tailwind CSS集成."</p></blockquote><p id="d576" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">他们目前支持React和Vue项目的以下9个组件:</p><ul class=""><li id="8f1b" class="mr ms iq ky b kz la lc ld lf mt lj mu ln mv lr mw mx my mz bi translated">菜单(下拉菜单)</li><li id="af74" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated">列表(选择)</li><li id="7d5d" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated">开关(切换)</li><li id="55a5" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated">公开</li><li id="2283" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated">对话框(模态)</li><li id="05c2" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated">波普沃</li><li id="15aa" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated">无线电组</li><li id="0a11" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated">过渡</li><li id="9b77" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated">制表符</li></ul><p id="e700" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将看看对话框(模态)组件，并学习如何在React项目中使用它。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="7e23" class="nm nn iq bd no np nq nr ns nt nu nv nw jw nx jx ny jz nz ka oa kc ob kd oc od bi translated">建立</h1><p id="aad3" class="pw-post-body-paragraph kw kx iq ky b kz oe jr lb lc of ju le lf og lh li lj oh ll lm ln oi lp lq lr ij bi translated">对于这个例子，我将从<code class="fe oj ok ol om b">create-react-app</code>开始在一个基本的React应用程序中工作。</p><p id="edd7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不要忘记将<a class="ae kv" href="https://www.npmjs.com/package/@headlessui/react" rel="noopener ugc nofollow" target="_blank">无头UI </a>也安装到您的项目中。</p><pre class="kg kh ki kj gt on om oo op aw oq bi"><span id="33ff" class="or nn iq om b gy os ot l ou ov"># npm<br/>npm install @headlessui/react<br/><br/># Yarn<br/>yarn add @headlessui/react</span></pre><p id="99bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe oj ok ol om b">App.js</code>文件中，我将创建一个名为<code class="fe oj ok ol om b">isOpen</code>的状态值。该值将控制对话框是打开还是关闭。</p><pre class="kg kh ki kj gt on om oo op aw oq bi"><span id="c7d6" class="or nn iq om b gy os ot l ou ov">const [isOpen, setIsOpen] = useState(false);</span></pre><p id="b33c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个组件中，我将呈现一个按钮。这个按钮将有一个<code class="fe oj ok ol om b">onClick</code>处理程序，当点击时，它将设置<code class="fe oj ok ol om b">isOpen</code>值为真。</p><pre class="kg kh ki kj gt on om oo op aw oq bi"><span id="dc73" class="or nn iq om b gy os ot l ou ov">&lt;button onClick={() =&gt; setIsOpen(true)}&gt;Open Dialog&lt;/button&gt;</span></pre><p id="33ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我将渲染另一个名为<code class="fe oj ok ol om b">ModalDialog</code>的组件。<em class="mn">别担心，我们还没有创建这个组件，所以现在你会看到一个错误。</em>我们将传递两个道具给这个组件:<code class="fe oj ok ol om b">open</code>和<code class="fe oj ok ol om b">setIsOpen</code>。</p><p id="7e35" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的<code class="fe oj ok ol om b">App</code>组件目前应该看起来像这样。</p><pre class="kg kh ki kj gt on om oo op aw oq bi"><span id="348e" class="or nn iq om b gy os ot l ou ov">const App = () =&gt; {<br/>  <strong class="om ir">const [isOpen, setIsOpen] = useState(false);</strong></span><span id="ad38" class="or nn iq om b gy ow ot l ou ov">return (<br/>    &lt;div className="flex flex-col h-screen justify-center items-center"&gt;<br/>      <strong class="om ir">&lt;ModalDialog isOpen={isOpen} setIsOpen={setIsOpen} /&gt;<br/>      &lt;button onClick={() =&gt; setIsOpen(true)}&gt;Open Dialog&lt;/button&gt;</strong><br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><h1 id="d55f" class="nm nn iq bd no np ox nr ns nt oy nv nw jw oz jx ny jz pa ka oa kc pb kd oc od bi translated">什么是对话框组件？</h1><blockquote class="pc"><p id="dd28" class="pd pe iq bd pf pg ph pi pj pk pl lr dk translated">一个完全管理的、无渲染的对话框组件，具有辅助功能和键盘功能，非常适合为您的下一个应用程序构建完全自定义的模式和对话框窗口</p></blockquote><p id="6116" class="pw-post-body-paragraph kw kx iq ky b kz pm jr lb lc pn ju le lf po lh li lj pp ll lm ln pq lp lq lr ij bi translated">让我们来看看<a class="ae kv" href="https://headlessui.dev/react/dialog" rel="noopener ugc nofollow" target="_blank">对话框</a>组件。它由4个组件构成:</p><ul class=""><li id="a786" class="mr ms iq ky b kz la lc ld lf mt lj mu ln mv lr mw mx my mz bi translated"><code class="fe oj ok ol om b">Dialog</code> —可以设置<code class="fe oj ok ol om b">open</code>状态和操作<code class="fe oj ok ol om b">onClose</code>功能的主要部件。</li><li id="ea92" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated"><code class="fe oj ok ol om b">Dialog.Overlay</code> —用于创建对话框的覆盖图。点击覆盖将关闭对话框。</li><li id="bf95" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated"><code class="fe oj ok ol om b">Dialog.Title</code> —对话框的标题。它将设置对话框上的<code class="fe oj ok ol om b">aria-labelledby</code>。默认元素是一个<code class="fe oj ok ol om b">&lt;h2&gt;</code>。</li><li id="d6cc" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated"><code class="fe oj ok ol om b">Dialog.Description</code> —对话框的描述。它将设置对话框上的<code class="fe oj ok ol om b">aria-describedby</code>。默认元素是一个<code class="fe oj ok ol om b">&lt;p&gt;</code>。</li></ul><h1 id="bd71" class="nm nn iq bd no np ox nr ns nt oy nv nw jw oz jx ny jz pa ka oa kc pb kd oc od bi translated">如何使用对话框组件？</h1><p id="a58c" class="pw-post-body-paragraph kw kx iq ky b kz oe jr lb lc of ju le lf og lh li lj oh ll lm ln oi lp lq lr ij bi translated">我将创建一个名为<code class="fe oj ok ol om b">ModalDialog.js</code>的新文件。在这个文件中，我将创建我们之前添加到<code class="fe oj ok ol om b">App.js</code>文件中的<code class="fe oj ok ol om b">ModalDialog</code>组件。</p><p id="ce08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个文件中，我将首先从Headless UI导入<code class="fe oj ok ol om b">Dialog</code>组件。</p><pre class="kg kh ki kj gt on om oo op aw oq bi"><span id="d958" class="or nn iq om b gy os ot l ou ov">import { Dialog } from '@headlessui/react';</span></pre><p id="5b6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我将创建<code class="fe oj ok ol om b">ModalDialog</code>组件。记住，这个组件带了两个道具，<code class="fe oj ok ol om b">isOpen</code>和<code class="fe oj ok ol om b">setIsOpen</code>。我将渲染基本的<code class="fe oj ok ol om b">Dialog</code>组件，并将以下两个道具传递给<code class="fe oj ok ol om b">Dialog</code>组件:</p><ul class=""><li id="2c56" class="mr ms iq ky b kz la lc ld lf mt lj mu ln mv lr mw mx my mz bi translated"><code class="fe oj ok ol om b">open</code> —控制对话框是否打开的布尔值。</li><li id="7767" class="mr ms iq ky b kz na lc nb lf nc lj nd ln ne lr mw mx my mz bi translated"><code class="fe oj ok ol om b">onClose</code> —对话框关闭时调用的功能。</li></ul><pre class="kg kh ki kj gt on om oo op aw oq bi"><span id="3c4b" class="or nn iq om b gy os ot l ou ov">const ModalDialog = ({ isOpen, setIsOpen }) =&gt; {<br/>  return (<br/>    <strong class="om ir">&lt;Dialog open={isOpen} onClose={() =&gt; setIsOpen(false)}&gt;</strong><br/>      ...dialog contents<br/>    <strong class="om ir">&lt;/Dialog&gt;</strong><br/>  );<br/>};</span></pre><p id="452c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我将在主<code class="fe oj ok ol om b">Dialog</code>组件中添加<code class="fe oj ok ol om b">Dialog.Overlay</code>、<code class="fe oj ok ol om b">Dialog.Title</code>、<code class="fe oj ok ol om b">Dialog.Description</code>和两个按钮。</p><pre class="kg kh ki kj gt on om oo op aw oq bi"><span id="1543" class="or nn iq om b gy os ot l ou ov">const ModalDialog = ({ isOpen, setIsOpen }) =&gt; {<br/>  return (<br/>    &lt;Dialog open={isOpen} onClose={() =&gt; setIsOpen(false)}&gt;<br/>      <strong class="om ir">&lt;Dialog.Overlay /&gt;<br/>      &lt;Dialog.Title&gt;Title of dialog&lt;/Dialog.Title&gt;<br/>      &lt;Dialog.Description&gt;<br/>        Description of dialog contents.<br/>      &lt;/Dialog.Description&gt;<br/>      &lt;button onClick={() =&gt; setIsOpen(false)}&gt;Cancel&lt;/button&gt;<br/>      &lt;button onClick={() =&gt; setIsOpen(false)}&gt;Confirm&lt;/button&gt;</strong><br/>    &lt;/Dialog&gt;<br/>  );<br/>};</span></pre><h1 id="302d" class="nm nn iq bd no np ox nr ns nt oy nv nw jw oz jx ny jz pa ka oa kc pb kd oc od bi translated">样式化对话框组件</h1><p id="36ee" class="pw-post-body-paragraph kw kx iq ky b kz oe jr lb lc of ju le lf og lh li lj oh ll lm ln oi lp lq lr ij bi translated">如果我们启动项目并打开对话框，我们将会看到类似这样的内容。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pr"><img src="../Images/ecb21a6611a272e51e96ec7de3d10219.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mgHTmtAQHXpKft8c10RlcA.png"/></div></div></figure><p id="12a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对话框内容将显示在屏幕的左下角。我们可以通过使用Tailwind CSS添加一些实用程序类来轻松解决这个问题。</p><p id="8a8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们可以添加一个透明的深色背景，这在模式对话框中很常见。</p><pre class="kg kh ki kj gt on om oo op aw oq bi"><span id="6342" class="or nn iq om b gy os ot l ou ov">&lt;Dialog.Overlay <strong class="om ir">className="fixed inset-0 bg-black opacity-30"</strong> /&gt;</span></pre><p id="0545" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们可以给对话框内容添加样式。要设置对话框内容的样式，您可以像其他组件一样操作。在下面的例子中，我添加了一个包装器<code class="fe oj ok ol om b">&lt;div&gt;</code>来居中显示对话框的内容。我还在标题和按钮上添加了一些基本的样式。</p><pre class="kg kh ki kj gt on om oo op aw oq bi"><span id="4941" class="or nn iq om b gy os ot l ou ov">&lt;div <strong class="om ir">className="flex items-center justify-center min-h-screen"</strong>&gt;<br/>  &lt;Dialog.Overlay className="fixed inset-0 bg-black opacity-30" /&gt;<br/>  &lt;div <strong class="om ir">className="relative bg-white rounded max-w-sm mx-auto p-8"</strong>&gt;<br/>    &lt;Dialog.Title <strong class="om ir">className="text-xl"</strong>&gt;<br/>      Title of dialog<br/>    &lt;/Dialog.Title&gt;<br/>    &lt;Dialog.Description&gt;<br/>      Description of dialog contents.<br/>    &lt;/Dialog.Description&gt;<br/>    &lt;button<br/>      <strong class="om ir">className="border-black border-solid border rounded mx-2 mt-8 py-1 px-2"</strong><br/>      onClick={() =&gt; setIsOpen(false)}<br/>    &gt;<br/>      Cancel<br/>    &lt;/button&gt;<br/>    &lt;button<br/>      <strong class="om ir">className="border-black border-solid border rounded mx-2 mt-8 py-1 px-2"</strong><br/>      onClick={() =&gt; setIsOpen(false)}<br/>    &gt;<br/>      Confirm<br/>    &lt;/button&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="6e0d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果我们打开对话框，我们可以看到内容在屏幕上居中，并且有一个透明的背景。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ps"><img src="../Images/b8fb8ad8fa711ccc6df26f272dd3bc10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wJIuAFyuAN59t9rR0_c27w.png"/></div></div></figure><p id="63ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你点击对话框的叠加时，它会为我们调用<code class="fe oj ok ol om b">onClose</code>函数。无头UI也解决了可访问性问题。这些是使用这些组件而不是试图从头构建它们的一些好处。</p><p id="0ccb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以在下面查看该组件的完整源代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pt pu l"/></div></figure></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="b681" class="nm nn iq bd no np nq nr ns nt nu nv nw jw nx jx ny jz nz ka oa kc ob kd oc od bi translated">结论</h1><p id="feee" class="pw-post-body-paragraph kw kx iq ky b kz oe jr lb lc of ju le lf og lh li lj oh ll lm ln oi lp lq lr ij bi translated">感谢阅读！我希望这篇文章对你在无头UI中使用对话框组件有所帮助。我一直喜欢用Tailwind CSS设计我的应用程序，但是创建一些更复杂的组件可能会很困难。这就是无头UI组件可以使事情变得容易得多的地方。</p><p id="8cd7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我计划在以后的文章中研究更多的无头UI组件，敬请关注！</p><p id="295b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想学习如何使用顺风将黑暗模式添加到项目中，请查看下面的文章。</p><div class="ls lt gp gr lu lv"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-add-dark-mode-to-your-next-js-project-using-tailwind-css-3d460a768d1c"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">如何使用Tailwind CSS将黑暗模式添加到Next.js项目中</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">修复“文档未定义”错误的简单技巧。</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="me l"><div class="pv l mg mh mi me mj kp lv"/></div></div></a></div><p id="332d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mn">更多内容尽在</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mn">plain English . io</em></strong></a></p></div></div>    
</body>
</html>