<html>
<head>
<title>How To Add Elements To The Page With Vanilla JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用普通的JavaScript向页面添加元素</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-add-elements-to-the-page-with-vanilla-js-12f7d5f809ad?source=collection_archive---------14-----------------------#2021-11-01">https://javascript.plainenglish.io/how-to-add-elements-to-the-page-with-vanilla-js-12f7d5f809ad?source=collection_archive---------14-----------------------#2021-11-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dbf0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">您需要的所有方法都在一个地方！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f87e6821e973415b3c1da611c6ad7314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*48_ArvZUlHbiRe6nixi7yA.png"/></div></div></figure><p id="d381" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里有谁因为记不住确切的语法而每六个月就厌倦了谷歌“如何用JS向page添加元素”和“如何通过X找到元素”？这篇文章基本上只是试图通过把我们需要的所有东西放在一个方便的地方来节省未来你(和我)的时间。</p><h1 id="bec9" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">助手功能</h1><p id="91b5" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">下面是用一个方便的函数向页面添加内容的完整过程:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="8d82" class="mp lo iq ml b gy mq mr l ms mt"><strong class="ml ir"><em class="mu">const</em></strong> <strong class="ml ir">makeTag</strong> = (<strong class="ml ir">tagName</strong>, <strong class="ml ir">parentOrSelector</strong>, <strong class="ml ir">id</strong>, <strong class="ml ir">className</strong>, <strong class="ml ir">text</strong>) =&gt; {<br/>  <strong class="ml ir"><em class="mu">const</em></strong> <strong class="ml ir">tag</strong> = document.createElement(<strong class="ml ir">tagName</strong>);<br/>  if (<strong class="ml ir">id</strong>) <strong class="ml ir">tag</strong>.id = <strong class="ml ir">id</strong>;<br/>  if (<strong class="ml ir">className</strong>) <strong class="ml ir">tag</strong>.classList.add(<strong class="ml ir">className</strong>);<br/>  if (<strong class="ml ir">text</strong>) <strong class="ml ir">tag</strong>.append(<strong class="ml ir">text</strong>);<br/>  const <strong class="ml ir">parentElement</strong> = (typeof <strong class="ml ir">parentOrSelector</strong> === '<em class="mu">object</em>')<br/>    ? <strong class="ml ir">parentOrSelector</strong><br/>    : <strong class="ml ir">document</strong>.querySelector(<strong class="ml ir">parentOrSelector</strong>);<br/>  <strong class="ml ir">parentElement</strong>.append(<strong class="ml ir">tag</strong>);<br/>  <strong class="ml ir"><em class="mu">return</em></strong> <strong class="ml ir">tag</strong>;<br/>}</span><span id="80fb" class="mp lo iq ml b gy mv mr l ms mt">const <strong class="ml ir">addDataset</strong> = (<strong class="ml ir">tag</strong>, <strong class="ml ir">dataAttrs</strong>) =&gt; {<br/><em class="mu">  // remember camelCase: val -&gt; data-camel-case="val"</em><br/>  <strong class="ml ir"><em class="mu">for</em></strong> (<strong class="ml ir">key</strong> in <strong class="ml ir">dataAttrs</strong>) {<br/>    <strong class="ml ir">tag</strong>.dataset[<strong class="ml ir">key</strong>] = <strong class="ml ir">dataAttrs</strong>[<strong class="ml ir">key</strong>];<br/>  }<br/>}</span></pre><p id="49da" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们走吧！一个方便的助手方法，也是另一个用于数据集的方法，因为我也经常忘记这些。此外，这里甚至还有针对最常见元素的<em class="mu">更多</em>便捷方法。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="c432" class="mp lo iq ml b gy mq mr l ms mt">const <strong class="ml ir">makeDiv</strong> = (<strong class="ml ir">parentOrSelector</strong>, <strong class="ml ir">id</strong>, <strong class="ml ir">className</strong>) =&gt; (<br/>  makeTag('<em class="mu">div</em>', <strong class="ml ir">parentOrSelector</strong>, <strong class="ml ir">id</strong>, <strong class="ml ir">className</strong>)<br/>);</span><span id="2a7d" class="mp lo iq ml b gy mv mr l ms mt">const <strong class="ml ir">makeP</strong> = (text, parentOrSelector, id, className) =&gt; (<br/>  <strong class="ml ir">makeTag</strong>('<em class="mu">p</em>', <strong class="ml ir">parentOrSelector</strong>, <strong class="ml ir">id</strong>, <strong class="ml ir">className</strong>, <strong class="ml ir">text</strong>)<br/>);</span><span id="47b6" class="mp lo iq ml b gy mv mr l ms mt">const <strong class="ml ir">makeH1</strong> = (text, parentOrSelector, id, className) =&gt; (<br/>  <strong class="ml ir">makeTag</strong>('<em class="mu">h1</em>', <strong class="ml ir">parentOrSelector</strong>, <strong class="ml ir">id</strong>, <strong class="ml ir">className</strong>, <strong class="ml ir">text</strong>)<br/>);</span></pre><p id="61d7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这样做的主要目的是节省更多的击键次数，并在实际需要时将<code class="fe mw mx my ml b">text</code>参数上移。</p><h1 id="34dd" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">分解它们</h1><p id="43ad" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">添加元素的大致模式当然是:</p><ol class=""><li id="4373" class="mz na iq kt b ku kv kx ky la nb le nc li nd lm ne nf ng nh bi translated">创建元素</li><li id="dd25" class="mz na iq kt b ku ni kx nj la nk le nl li nm lm ne nf ng nh bi translated">修改它</li><li id="15ff" class="mz na iq kt b ku ni kx nj la nk le nl li nm lm ne nf ng nh bi translated">将其附加到父级</li></ol><p id="8018" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里添加的唯一“漂亮”的东西是main helper可以确定您是传入一个选择器(<code class="fe mw mx my ml b">#my-div</code>)还是一个实际元素。它还返回刚刚创建的元素；我发现这对创造孩子很有帮助:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="6567" class="mp lo iq ml b gy mq mr l ms mt">const <strong class="ml ir">myDiv</strong> = <strong class="ml ir">makeDiv</strong>('<em class="mu">body</em>', '<em class="mu">newer</em>', '<em class="mu">wow</em>');<br/><strong class="ml ir">makeH1</strong>('<em class="mu">Test</em>!!!', <strong class="ml ir">myDiv</strong>, '', '<em class="mu">well-ok</em>');<br/><strong class="ml ir">makeP</strong>('<em class="mu">Test</em>', <strong class="ml ir">myDiv</strong>);<br/><strong class="ml ir">addDataset</strong>(<strong class="ml ir">myDiv</strong>, {test: '<em class="mu">neat</em>', anotherOne: '<em class="mu">cool</em>'});</span></pre><h1 id="42c3" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">随意使用和修改！</h1><p id="b3af" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">这正是我想用的，但请合并或复制任何对你有用的东西。例如，我使用了位置参数，但是也许你会喜欢传入一个具有<code class="fe mw mx my ml b">id, className</code>和<code class="fe mw mx my ml b">text</code>属性的对象。就像我之前说的，这篇文章只是把几个谷歌搜索压缩到一个书签里。</p><h1 id="a786" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">一些方便的查询</h1><p id="9ef3" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">因为我在创建元素后谷歌的下一件事似乎是<em class="mu">寻找</em>元素，这里是最常见的方法:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="f66a" class="mp lo iq ml b gy mq mr l ms mt"><strong class="ml ir"><em class="mu">/* Get a single HTML Element */</em></strong><br/>document.<strong class="ml ir">getElementById</strong>('example')<br/>returns an HTML Element</span><span id="06ac" class="mp lo iq ml b gy mv mr l ms mt">document.<strong class="ml ir">querySelector</strong>('#example')<br/>Returns an HTML Element</span><span id="7206" class="mp lo iq ml b gy mv mr l ms mt"><strong class="ml ir"><em class="mu">/* Get Multiple HTML Elements */</em></strong><br/>document.<strong class="ml ir">getElementsByClassName</strong>('<em class="mu">more</em>')<br/>Returns an HTMLCollection of Elements</span><span id="8c6a" class="mp lo iq ml b gy mv mr l ms mt">document.<strong class="ml ir">querySelectorAll</strong>('.<em class="mu">more</em>') <br/>Returns a NodeList of Elements</span><span id="9f69" class="mp lo iq ml b gy mv mr l ms mt">element<strong class="ml ir">.children</strong>()<br/>Returns HTMLCollection of elements</span><span id="98df" class="mp lo iq ml b gy mv mr l ms mt">element.<strong class="ml ir">childNodes</strong>()<br/>Returns NodeList of all child nodes</span><span id="4b0d" class="mp lo iq ml b gy mv mr l ms mt"><strong class="ml ir"><em class="mu">/* Get all elements by data attribute */</em></strong><br/>.<strong class="ml ir">querySelectorAll</strong>('<em class="mu">[data-foo]</em>');<br/>.<strong class="ml ir">querySelectorAll</strong>("<em class="mu">[data-foo='1']</em>");</span><span id="763b" class="mp lo iq ml b gy mv mr l ms mt"><strong class="ml ir"><em class="mu">/* special properties */</em></strong><br/>document.<strong class="ml ir">body</strong> <br/>Returns the body element</span><span id="18b7" class="mp lo iq ml b gy mv mr l ms mt">document.<strong class="ml ir">title</strong><br/>Returns the title string</span><span id="59d0" class="mp lo iq ml b gy mv mr l ms mt"><strong class="ml ir"><em class="mu">/* Special properties that return HTMLCollections */</em></strong><br/>document.<strong class="ml ir">embeds </strong><br/>document.<strong class="ml ir">images </strong><br/>document.<strong class="ml ir">head</strong><br/>document.<strong class="ml ir">links</strong><br/>document.<strong class="ml ir">scripts</strong><br/>document.<strong class="ml ir">anchors</strong><br/>document.<strong class="ml ir">forms</strong> </span><span id="1c94" class="mp lo iq ml b gy mv mr l ms mt"><strong class="ml ir"><em class="mu">/* Access via indexes or ids */</em></strong><br/>document.<strong class="ml ir">forms</strong>[0]<br/>document.<strong class="ml ir">forms</strong>['some-id']</span><span id="4688" class="mp lo iq ml b gy mv mr l ms mt"><strong class="ml ir"><em class="mu">/* SPECIAL: Access a form's inputs via `elements` */</em></strong><br/>document.<strong class="ml ir">forms</strong>[0].<strong class="ml ir">elements</strong><br/>document.<strong class="ml ir">forms</strong>[0].<strong class="ml ir">elements</strong>[0]<br/>document.<strong class="ml ir">forms</strong>[0].<strong class="ml ir">elements</strong>['another-id']</span></pre><p id="cafa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您对HTMLCollections和NodeLists之间的区别感到困惑，那么<em class="mu">TL；dr: </em> HTMLCollections只是HTML元素，NodeLists也有这些元素，但也包括像文本和注释节点这样的东西。有一个很棒的<a class="ae nn" href="https://www.youtube.com/watch?v=rhvec8cXLlo&amp;t=2s" rel="noopener ugc nofollow" target="_blank"> Web Dev简化视频解释了两种类型的列表</a>。</p><p id="3481" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不管怎样，给你！希望这个列表和函数能加快您下一个普通JavaScript项目的进度。</p><p id="f366" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">大家编码快乐，</p><p id="d838" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">麦克风</p><p id="1424" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="mu">更多内容请看</em><a class="ae nn" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mu">plain English . io</em></strong></a></p></div></div>    
</body>
</html>