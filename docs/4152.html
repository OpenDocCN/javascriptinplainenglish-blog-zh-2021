<html>
<head>
<title>Avoid the 1 Unnecessary Mistake Many Coders Make in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">避免许多程序员在JavaScript中犯的1个不必要的错误</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/avoid-the-1-unnecessary-mistake-many-coders-make-in-javascript-3ad957fcd9a5?source=collection_archive---------5-----------------------#2021-08-18">https://javascript.plainenglish.io/avoid-the-1-unnecessary-mistake-many-coders-make-in-javascript-3ad957fcd9a5?source=collection_archive---------5-----------------------#2021-08-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c388" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">检查如何以无点样式使用处理函数</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/052fb43f43e92ee405f18b424794c4a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*A2JptTQSvpZl1rOv"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@nxvision?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nigel Tadyanehondo</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c6e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每当您使用承诺并将响应链接到函数调用时:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="f5ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="lu">本代码多余。但是为什么呢？</em></p><p id="88c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">共同点是您从远程URL获取数据，当这个地址返回数据时，会调用另一个函数。在这种情况下<code class="fe lv lw lx ly b">res</code>是数据，<code class="fe lv lw lx ly b">processResponse(...)</code>是函数调用。</p><blockquote class="lz ma mb"><p id="f3f5" class="kw kx lu ky b kz la jr lb lc ld ju le mc lg lh li md lk ll lm me lo lp lq lr ij bi translated">到目前为止似乎是合法的，也很常见，对吧？</p></blockquote><p id="4fd3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">事实上，这段代码中有一个错误。再次检查执行顺序。</p><ol class=""><li id="3f97" class="mf mg iq ky b kz la lc ld lf mh lj mi ln mj lr mk ml mm mn bi translated">您可以访问远程网址。</li><li id="a903" class="mf mg iq ky b kz mo lc mp lf mq lj mr ln ms lr mk ml mm mn bi translated">你等待回应。</li><li id="b07f" class="mf mg iq ky b kz mo lc mp lf mq lj mr ln ms lr mk ml mm mn bi translated">您处理响应。</li><li id="27f0" class="mf mg iq ky b kz mo lc mp lf mq lj mr ln ms lr mk ml mm mn bi translated"><em class="lu">调用另一个函数来处理响应。</em></li></ol><p id="b59f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第四点就是问题所在。这是多余的。您已经处理了回复。</p><h1 id="c2cb" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">让它变得更好</h1><p id="5efc" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">只需使用隐含的参数来调用处理函数，并通过这样做来转换代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="5927" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你会得到和以前一样的答案，但是更快更简单。</p><p id="2dca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这样的工作方式被称为<em class="lu">无点</em>或<em class="lu">默契。</em>它的主要特点是从不为每个函数应用程序指定参数。</p><p id="4561" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，作为开发人员，它帮助您思考函数本身及其含义。也是代码的未来读者。</p><p id="bfe8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以省略低级别的工作，传递数据并使用它。</p><p id="6df9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在代码的较短版本中没有无关或不相关的细节:如果你理解被调用的函数的作用，你就理解了完整代码的含义。</p><h1 id="c42e" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">使用方法时要注意</h1><p id="d90f" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">当你调用一个对象的方法时，你应该处于警报模式。如果您的原始代码类似于此:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="516b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您不能只将代码转换为以下内容并期望它能够工作:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="56eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">原因很简单。调用方法的原始代码绑定到一个对象。在这种情况下，交给<code class="fe lv lw lx ly b">anObject</code>。当你现在把代码转换成缩小版本时，它只是一个自由的函数。</p><p id="42f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是您可以通过<code class="fe lv lw lx ly b">bind()</code>很简单地解决这个问题:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="d0e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个普遍的解决方案。当你处理一个方法时，你不能简单地分配它；你必须使用<code class="fe lv lw lx ly b">bind</code>。只有到那时，正确的上下文才可用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="73a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">必须更改为:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="084e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这看起来相当笨拙，也不太优雅，但这是必需的，这样方法才能与正确的对象相关联。</p><p id="1385" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">即使这段代码看起来不太好，每当你必须处理对象的时候(记住，我们并没有说我们会尝试完全用FP代码，如果其他的构造让事情更简单的话，我们会接受)，你必须记住在把它们作为一级对象传递之前，以无点的方式绑定方法。</p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><p id="68ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">获取26份备忘单，只研究你真正需要的东西，以获得你的第一份网络开发工作！T3】</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/227a060a3bfa55f41fa795d5990e6032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Nqyiu4c6K-mCxE9e.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://arnoldcodeacademy.ck.page/26-web-dev-cheat-sheets" rel="noopener ugc nofollow" target="_blank">Arnold Code Academy 26 Web Developer Cheatsheets</a></figcaption></figure><p id="54c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="lu">更多内容尽在</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="lu">plain English . io</em></strong></a></p></div></div>    
</body>
</html>