<html>
<head>
<title>The Web Storage API in JavaScript Explained With Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">举例说明JavaScript中的Web存储API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-web-storage-api-in-javascript-explained-with-examples-85a5fac65155?source=collection_archive---------6-----------------------#2021-01-24">https://javascript.plainenglish.io/the-web-storage-api-in-javascript-explained-with-examples-85a5fac65155?source=collection_archive---------6-----------------------#2021-01-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1bd3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过示例了解JavaScript中的web存储API。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e81f9887c4933afc55bdf28537db9e0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BwqJ7zQdzMg40wV_"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@thisisengineering?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">ThisisEngineering RAEng</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="25e0" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="750c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">JavaScript中的web存储API用于在用户的浏览器中存储数据。数据保存为键-值对，这使得处理数据更加容易。Web存储API还提供了一些机制，通过这些机制，浏览器可以以比使用cookies更直观的方式存储键值对。</p><p id="0412" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在本文中，我们将通过一些实例来了解JavaScript中的web存储API。让我们开始吧。</p><h1 id="fdfd" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">局部存储器</h1><p id="d895" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Web存储API的存储接口提供对永久保存数据的本地存储的访问。</p><p id="125f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">JavaScript中的LocalStorage是一个属性，它允许我们保存要存储在浏览器中的数据，即使是在用户刷新或关闭页面时。localStorage中存储的数据没有到期时间，这有点类似于cookies。它受到所有主流网络浏览器的支持，我们可以通过浏览器开发工具访问它。</p><p id="6861" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">以下是我们如何在控制台中访问本地存储的示例:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="489a" class="mu kx iq mq b gy mv mw l mx my"><strong class="mq ir">console.log(window.localStorage);</strong></span></pre><p id="f514" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="mz">输出:</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/95c7330e4b28e7f39465647633ab3c89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*Y6smxNG8jZEKvVs5guJ_0g.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The output from the console.</figcaption></figure><p id="7187" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">正如您在输出中看到的，本地存储对象有许多属性和方法，我们可以使用它们来存储、添加和删除存储在浏览器中的数据。</p><p id="44e9" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">正如我所说的，我们可以在开发工具中访问本地存储。</p><p id="4274" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这里有一个例子:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/72e050309cd79d2108f2801807b2ff30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*UqK7iFe5xMXfP7WnlwwpKw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The output from the dev tools.</figcaption></figure><p id="ea0c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如您所见，数据存储为键值对。因此，现在我们可以使用本地存储的属性和方法来添加、获取或删除数据。</p><p id="ee6e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">下面是我们如何使用方法<code class="fe nc nd ne mq b">setItem</code>在本地存储中添加一些数据:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="72fe" class="mu kx iq mq b gy mv mw l mx my"><strong class="mq ir">window.localStorage.setItem("name", "Mehdi");</strong></span></pre><p id="7663" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">添加其他数据:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="f63d" class="mu kx iq mq b gy mv mw l mx my"><strong class="mq ir">window.localStorage.setItem("action", "Mehdi is writting an article");</strong></span></pre><p id="5587" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如您所见，方法<code class="fe nc nd ne mq b">setItem</code>有两个参数:数据的名称和我们想要添加的数据。你可以给它起任何你想要的名字，我在这里用了<code class="fe nc nd ne mq b">name</code>,因为数据是一个名字。</p><p id="d086" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在，所有这些数据都将添加到用户浏览器的本地存储中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/4f7db453ee56d083fb9c4b63f4b1e96a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*vEOJepnGRO5HdkVmm6BxAQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The output from the dev tools.</figcaption></figure><p id="8c67" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们可以通过使用<code class="fe nc nd ne mq b">getItem</code>方法获取这些数据，并将其显示在网页或控制台上:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="3f51" class="mu kx iq mq b gy mv mw l mx my">console.log(window.localStorage.<strong class="mq ir">getItem("name")</strong>); <br/>//Mehdi</span><span id="3cf8" class="mu kx iq mq b gy ng mw l mx my">console.log(window.localStorage.<strong class="mq ir">getItem("action")</strong>);<br/>//Mehdi is writting an article</span></pre><p id="7608" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">您还可以从本地存储中移除一个项目或清除所有项目。下面的例子删除了项目<code class="fe nc nd ne mq b">name</code>:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="988f" class="mu kx iq mq b gy mv mw l mx my">window.localStorage.<strong class="mq ir">removeItem("name")</strong>;</span></pre><p id="a812" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="mz">输出:</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/63ad5211b77d3b0e1423f9fc8baf54db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*NpI8y2wN2zI0VtcEv-6s6A.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The output from the dev tools.</figcaption></figure><p id="6b79" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">或者，您可以使用<code class="fe nc nd ne mq b">clear()</code>方法从存储中移除所有物品:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="5d16" class="mu kx iq mq b gy mv mw l mx my"><strong class="mq ir">localStorage.clear();</strong></span></pre><h1 id="9315" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">会话存储</h1><p id="d9dd" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Web存储API的存储接口还提供对会话存储对象的访问，该对象存储当前页面会话的数据，而不是永久作为本地存储。一旦用户关闭页面，保存的数据将会丢失，不会传输到服务器。会话存储提供5MB的存储限制，优于cookies。它与本地存储做同样的事情，唯一的区别是当用户关闭浏览器时，数据将会丢失。</p><p id="6939" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">会话存储也有一些方法和属性，通过它们可以设置、检索和移除数据项。</p><p id="6646" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们还可以在开发人员工具中访问会话存储:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/4d8ee05ebdc4d789a6f086565cad5fc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*XQFO19z-I0Zfu3J-C6d5sg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Session storage.</figcaption></figure><p id="f45d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">下面是我们如何使用方法<code class="fe nc nd ne mq b">setItem</code>在会话存储中添加一些数据:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="96f4" class="mu kx iq mq b gy mv mw l mx my">window.sessionStorage.<strong class="mq ir">setItem("name" , "John Doe")</strong>;</span></pre><p id="fa6a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在控制台中使用获取项目，例如:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="a725" class="mu kx iq mq b gy mv mw l mx my">console.log(sessionStorage.<strong class="mq ir">getItem("name")</strong>);<br/>//John Doe</span></pre><p id="e02f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">移除项目:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="b02c" class="mu kx iq mq b gy mv mw l mx my">sessionStorage.<strong class="mq ir">removeItem("name")</strong>;</span></pre><p id="a6be" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">本地存储的所有其他方法和属性都可以应用于会话存储。</p><h1 id="780f" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="24ff" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">web存储API是一个非常棒的特性，因为它比使用Cookies简单得多，而且可以保存更多的数据。所有的浏览器都支持这个API，你不必为此烦恼。</p><p id="9457" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">感谢您阅读本文，希望您觉得有用。</p><h1 id="77e4" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">更多阅读</h1><p id="886b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><em class="mz">如果你对JavaScript和web开发相关的更有用的内容感兴趣，也可以</em> <a class="ae kv" href="https://mehdiouss.ck.page/" rel="noopener ugc nofollow" target="_blank"> <em class="mz">订阅</em> </a> <em class="mz">我的快讯。</em></p><p id="ba31" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="mz">下面是另一篇有用的文章，请点击链接查看:</em></p><div class="nj nk gp gr nl nm"><a href="https://medium.com/javascript-in-plain-english/factory-functions-in-javascript-explained-with-examples-8b93e98de117" rel="noopener follow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd ir gy z fp nr fr fs ns fu fw ip bi translated">用例子解释JavaScript中的工厂函数</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">通过示例了解JavaScript中的工厂函数。</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">medium.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa kp nm"/></div></div></a></div></div></div>    
</body>
</html>