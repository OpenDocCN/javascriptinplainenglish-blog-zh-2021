<html>
<head>
<title>How to Sort JavaScript Arrays: A Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何对JavaScript数组进行排序:指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-sort-javascript-arrays-a-guide-16f2e9b18079?source=collection_archive---------10-----------------------#2021-09-21">https://javascript.plainenglish.io/how-to-sort-javascript-arrays-a-guide-16f2e9b18079?source=collection_archive---------10-----------------------#2021-09-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/f8df6673ac5c509fdd03c574f759f004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NH0JU8paGtnSPSMx"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@rocinante_11?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mick Haupt</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4472" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对数组排序应该很简单，对吗？如果我有一个字符串数组，我想按字母顺序排序['苹果'，'香蕉'，'黄瓜'…]。如果我有一个数字数组，我希望它是1，2，3…等等。虽然对数组中的字符串进行排序很简单，但之后会变得更加混乱。让我们先按字母顺序对数组进行排序，然后再按数字顺序进行排序，并找出一些你可能遇到的问题。</p><h1 id="0a70" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">按字母顺序排序</h1><p id="a9c4" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">假设我们有一个包含一些产品名称的数组。要按字母顺序对数组进行排序，非常简单。只要加上sort()，数组就会神奇地更新。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="5105" class="mk kz in mg b gy ml mm l mn mo">let myArray = ['banana', 'cucumber', 'apple']<br/>myArray.sort();<br/>console.log(myArray); // ['apple', 'banana', 'cucumber']</span></pre><p id="b83d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果我们想按<strong class="kc io">降序</strong>对数组排序呢？我不认为这是最漂亮的代码，但这是JavaScript提供给我们的</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="beea" class="mk kz in mg b gy ml mm l mn mo">myArray.sort().reverse();<br/>console.log(myArray); // ['cucumber', 'banana', 'apple']</span></pre><p id="f9f0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">哇，现在你是一个分类大师了！我为什么要写这篇文章？等等，这是最简单的排序用例。让我们深入一点，但不要<em class="mp">太</em>复杂；数字</p><h1 id="ca90" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">数字排序</h1><p id="9e9a" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">所以在我们的第一个例子中，我们能够调用不带参数的sort方法，因为我们正在比较字符串。为了比较数字，我们需要传入一个<strong class="kc io">回调函数</strong>，它将允许我们操作一些排序逻辑。</p><h2 id="9da4" class="mk kz in bd la mq mr dn le ms mt dp li kl mu mv lm kp mw mx lq kt my mz lu na bi translated">错误的方式</h2><p id="fb16" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">为了说明为什么我们需要一个回调函数，让我们先试着不用它来排序。</p><p id="961f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">回到代码，让我们创建另一个数组，但是是一个充满数字的数组。让我们使用上一个例子中使用的sort()来看看会发生什么。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="604c" class="mk kz in mg b gy ml mm l mn mo">let myNumberArray = [2,3,1];<br/>myNumberArray.sort() // (WRONG WAY)<br/>console.log(myNumberArray) // [1,2,3] (WE GOT LUCKY)</span></pre><p id="8755" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">等等，我想我们应该做些不同的事情？？看起来它们被分类了？？在这种情况下，他们是(我们很幸运)。欢迎来到JavaScript的怪癖。为什么这些分类正确？让我给你一个更好的例子，并解释为什么这并不总是工作</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="5fc8" class="mk kz in mg b gy ml mm l mn mo">let myNumberArray = [200,23,12];<br/>myNumberArray.sort(); (STILL WRONG WAY)<br/>console.log(myNumberArray) // [12, 200, 23] (WRONG)</span></pre><p id="4786" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">看出区别了吗？这一次，我们有200个<em class="mp">和23个错点</em>。当然23小于200，但是它在我们数组的末尾！这是因为<strong class="kc io"> JavaScript将数字视为字符串。</strong>它比较两个数字的第一个数字“2”，因为它们相同，所以移动到下一个数字。因为“0”小于“3”，所以它将200放在23的前面，并忽略200的第三个数字。</p><h2 id="c972" class="mk kz in bd la mq mr dn le ms mt dp li kl mu mv lm kp mw mx lq kt my mz lu na bi translated">正确的方式</h2><p id="cf4d" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">让我们再试一次，但是这一次我们将传递一个<strong class="kc io">回调函数给排序函数</strong>来得到正确排序的数字。现在我们将传入我之前提到的回调函数。首先，我将以冗长的方式来做，然后我将向您展示一种将它压缩成一行代码的方法。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="8cb2" class="mk kz in mg b gy ml mm l mn mo">function sortNumbers(number1, number2){<br/>   return number1 - number2;<br/>}</span><span id="5cd6" class="mk kz in mg b gy nb mm l mn mo">let myNumberArray = [200,23,12];<br/>myNumberArray.sort(sortNumbers);<br/>console.log(myNumberArray) // [12, 23, 200] (CORRECT)</span></pre><p id="bc66" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">好吧，这到底是怎么回事？让我解释一下。所以这次我们创建了一个叫做sortNumbers的<strong class="kc io">回调函数</strong>。这个函数有两个参数，数字1和数字2。如果数字1比数字2的<em class="mp">少</em>，它将返回一个<strong class="kc io">负值</strong>。如果它们<strong class="kc io">相等，你会得到0 </strong>。如果数字1大于T9，你将得到一个正值T11。</p><p id="38bb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当sort函数得到一个<strong class="kc io">正值时，</strong>它将交换这两个元素，将较大的值推向数组的末尾。所以在这种情况下，排序函数将执行200-23，结果是-177。<strong class="kc io">由于数值为负，200将上移一个索引，23将下移</strong>。sort函数中有一些优化，但是您可以假设sort方法将比较所有必要的元素，以便在数组中向上或向下移动它们，直到它被排序。多酷啊！</p><p id="4b83" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">回到代码，你可能在StackOverflow甚至官方文档上看到的是这个。虽然许多人可能知道ES6的箭头函数，但这段代码可能会让新程序员感到有点害怕。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="aa75" class="mk kz in mg b gy ml mm l mn mo">myNumberArray<!-- -->.sort((a, b) =&gt; a - b)</span></pre><p id="d8c7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这段代码和我们写的没什么不同，但是它使用了ES6箭头函数和<em class="mp"> a和b </em>来代替数字1和数字2。要翻译，让我们一步一步地转换我们的原始代码。首先，我们将转换我们的函数来获取它们的参数。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="18b0" class="mk kz in mg b gy ml mm l mn mo">function sortNumbers(a, b){<br/>   return a - b;<br/>}</span><span id="c903" class="mk kz in mg b gy nb mm l mn mo">myNumberArray.sort(sortNumbers);</span></pre><p id="2394" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">看，同样的事情，但是我们在这里使用了简化的变量名。数字1现在是a，数字2现在是b。接下来，让我们转换成箭头语法</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="2da9" class="mk kz in mg b gy ml mm l mn mo">const sortNumbers = (a,b) =&gt; {<br/>   return a - b<br/>}</span><span id="40ed" class="mk kz in mg b gy nb mm l mn mo">myNumberArray.sort(sortNumbers);</span></pre><p id="a6d4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">快到了。现在我们使用一个arrow函数，并将其存储在一个<em class="mp"> const sortNumbers </em>中，然后像以前一样将它传递给sort函数。最后一步是删除const，然后一次性声明并传入回调函数</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="b4a3" class="mk kz in mg b gy ml mm l mn mo">myNumberArray.sort((a,b) =&gt; a - b)); // This uses the implicit return.</span></pre><p id="4a3b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">瞧啊。我们成功了。我们终于能够用一行代码对一组数字进行排序，<em class="mp">并且我们实际上理解了正在发生的事情</em></p><h1 id="4dbd" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">结论</h1><p id="71e3" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">对于JavaScript排序，我可以深入研究一百万种更复杂的情况(比如先按一个字段再按另一个字段排序，即先按姓氏再按名字排序)，或者按嵌套的对象属性排序，但是这篇文章已经够长了。我鼓励您四处看看，并使用这些代码示例作为模板来创建更复杂的排序函数。</p><p id="bd00" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我希望你喜欢这篇文章。如果你想看到更多这样的帖子，请跟我来，留下一些掌声。如有任何问题，请随时联系我们，祝您编码周愉快！</p><p id="b3f8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mp">更多内容请看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="mp">plain English . io</em></strong></a></p></div></div>    
</body>
</html>