<html>
<head>
<title>How to Debug a TypeScript Node.js App in Visual Studio Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Visual Studio代码中调试TypeScript Node.js应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-debug-a-typescript-node-js-app-in-visual-studio-code-13f507db28bd?source=collection_archive---------5-----------------------#2021-06-27">https://javascript.plainenglish.io/how-to-debug-a-typescript-node-js-app-in-visual-studio-code-13f507db28bd?source=collection_archive---------5-----------------------#2021-06-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d635" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">TypeScript项目调试</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/83c830eebc9118e97fb708fd9705bd27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_hefqiMDR8--TD_j"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@almosbech?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Almos Bechtold</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f444" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JavaScript和TypeScript调试可能看起来像相似的过程，但是为了正确地完成它们，您需要知道如何处理差异。作为我的Node.js应用程序调试系列的一部分，我将重点介绍用Visual Studio代码调试TypeScript代码。</p><h1 id="7edc" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">静态打字风扇的类型脚本调试</h1><p id="cfd0" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在写代码的时候，你迟早会产生一个bug。只有在质量保证走进项目并发现令人讨厌的事情，或者集成测试通知您之后，您才会意识到它的存在。</p><p id="9bc5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你想调试一个用JavaScript编写的项目时，你只需要稍微修改一下默认的配置文件<code class="fe mp mq mr ms b">launch.json</code>，你就可以开始你的bug搜索了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/2c2f8a8a421973edf936ea2c2cef23d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/0*YfaE7UEFmAKFeqsX.png"/></div></figure><p id="7fa8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是，如果您是静态类型的爱好者，并且您的项目是用TypeScript (❤️)编写的，您将需要在调试过程中投入更多的工作。不过不要担心，今天我将向您展示一个优秀的Visual Studio代码类型脚本调试需要什么。</p><blockquote class="mu mv mw"><p id="1444" class="kw kx mx ky b kz la jr lb lc ld ju le my lg lh li mz lk ll lm na lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/b-dabrowski/debugging-ts-app" rel="noopener ugc nofollow" target="_blank"> <em class="iq">在这里您可以找到我们将一起检查错误的项目</em> </a> <em class="iq">。或者说，只有一个错误……</em></p></blockquote><p id="107d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了能够在您的本地环境中运行这个项目，您需要以下东西:</p><ul class=""><li id="4b4b" class="nb nc iq ky b kz la lc ld lf nd lj ne ln nf lr ng nh ni nj bi translated">从Github下载的应用程序代码，</li><li id="33cf" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">已安装Node.js(至少12.0.0版本)，</li><li id="84c9" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">安装了Docker 20.10.6版本(至少这是我目前在用的)。</li></ul><h1 id="1547" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">关于调试TypeScript应用程序项目</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/da7145ece34423b40ce822947a17d4af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lp7g_IGXiqG6AmrO"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@hishahadat?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Shahadat Rahman</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7034" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该项目是一个用TypeScript编写的简单API，使用Express.js框架和使用TypeORM的Postgres数据库。所有使用过的库都可以在<code class="fe mp mq mr ms b">package.json</code>文件中找到。</p><p id="d65e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">想知道反射元数据库在这个文件中做什么？您将需要它来正确操作在具有TypeORM的模型中使用的decorators。该API旨在提供一个简单的CRUD来处理书籍并将它们保存在数据库中。</p><p id="ebea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本系列第一部分中的API是用JavaScript编写的，所以当您启动调试器时，您会仔细检查我们编写的代码。这里情况发生了变化，因为代码是用转换成JavaScript的TypeScript编写的。转换后的代码失去了可读性，并且很难检查错误，所以我打赌您更喜欢检查TypeScript代码。<code class="fe mp mq mr ms b">tsconfig.json</code>文件的一个特性对我们很有帮助:</p><pre class="kg kh ki kj gt np ms nq nr aw ns bi"><span id="b56a" class="nt lt iq ms b gy nu nv l nw nx">{ “compilerOptions”: { “lib”: [“es2020”], “target”: “es2020”, “outDir”: “build”, “module”: “CommonJS”, “esModuleInterop”: true, “emitDecoratorMetadata”: true, “experimentalDecorators”: true, “sourceMap”: true }}</span></pre><p id="5490" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">得益于<code class="fe mp mq mr ms b">sourceMap: true</code>属性，TypeScript将生成<code class="fe mp mq mr ms b">.js.map</code>文件，调试器将使用这些文件将JavaScript中的代码映射到TypeScript中的代码。</p><h1 id="a86c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">TypeScript项目的结构</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/a3a3e02d815895064ad02e8945d64d3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/format:webp/0*LjTsJ7aaxdusUT3P.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><em class="nz">The structure</em></figcaption></figure><p id="2d60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面，您可以看到一个简单的项目结构和主要目录的简要描述:</p><ul class=""><li id="e2ce" class="nb nc iq ky b kz la lc ld lf nd lj ne ln nf lr ng nh ni nj bi translated">app -用Express.js写的应用程序代码，</li><li id="fa77" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">用TypeORM编写的数据库实体代码，</li><li id="dbe9" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">docker-compose.yml -在容器中快速启动数据库的配置文件，</li><li id="e010" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">ormconfig.js -在TypeORM和数据库之间建立连接所需的配置文件。</li></ul><h1 id="164c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">如何启动TypeScript项目？</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/9a5555ecf2b2c922ff5029aeeac73f59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*S10NP0oFlkPP7O5Z"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@vincefleming?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Vince Fleming</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ca69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">步骤1:在本地下载项目</p><pre class="kg kh ki kj gt np ms nq nr aw ns bi"><span id="a547" class="nt lt iq ms b gy nu nv l nw nx">git clone git@github.com:b-dabrowski/debugging-ts-app.git</span></pre><p id="6087" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">步骤2:进入项目目录后，安装API依赖项</p><pre class="kg kh ki kj gt np ms nq nr aw ns bi"><span id="37c5" class="nt lt iq ms b gy nu nv l nw nx">npm i</span></pre><p id="2fdb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">步骤3:API将信息保存在数据库中，因此在运行API之前，您还需要运行数据库:</p><pre class="kg kh ki kj gt np ms nq nr aw ns bi"><span id="3413" class="nt lt iq ms b gy nu nv l nw nx">docker compose up</span></pre><p id="ec6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">步骤4:使用npm脚本运行应用程序:</p><pre class="kg kh ki kj gt np ms nq nr aw ns bi"><span id="9574" class="nt lt iq ms b gy nu nv l nw nx">npm start</span></pre><p id="2f99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成最后一步，你应该从这里的API得到答案:<a class="ae kv" href="http://localhost:3000/books" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/books</a></p><p id="3f6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">目前，您的数据库是空的，API没有返回任何内容。让我们添加一本书来检查是否一切正常。要添加一本新书，您需要向API发出请求:</p><pre class="kg kh ki kj gt np ms nq nr aw ns bi"><span id="437e" class="nt lt iq ms b gy nu nv l nw nx">curl — request POST \ — url <a class="ae kv" href="http://localhost:3000/books" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/books</a> \ — header ‘Content-Type: application/json’ \ — data ‘{ “title”: “Lorem”, “authors”: “Ipsum”, “isbn”: “123456789”, “description”: “Lorem ipsum dolor sit amet.”}’</span></pre><p id="eff0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">来自API的响应应该如下所示:</p><pre class="kg kh ki kj gt np ms nq nr aw ns bi"><span id="c2f0" class="nt lt iq ms b gy nu nv l nw nx">{ “authors”: “Ipsum”, “description”: “Lorem ipsum dolor sit amet.”, “isbn”: “123456789”, “title”: “Lorem”, “id”: “cc4d2288–8083–4197-b068–7c37a5b24a35”}</span></pre><p id="7c92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过在浏览器中输入以下地址:<a class="ae kv" href="http://localhost:3000/books" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/books</a>您应该会看到所有的书籍。或者，您可以使用您最喜欢的HTTP客户端向相同的地址发出GET请求，并获得数据库中所有书籍的响应。</p><p id="8eb3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您添加了几本书，并想全部显示出来，那么您现在可能已经注意到，您总是只得到一个book对象作为响应。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/17014110b3d4321a0fc796c434070127.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ft20STRwGME7CwKJ.png"/></div></div></figure><p id="bc89" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我认为是时候运行调试器并检查代码了。</p><h1 id="f7c9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">让Typescript调试开始！</h1><p id="d39c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">首先，您需要添加一个项目配置文件。在此基础上，调试器将运行:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/4280291b557e9559cf08cf61f1a6fa05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/0*GuToCltQBsJoUHxl.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><em class="nz">Run and Debug</em></figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/9dfbb14da494eeb975e5832d644355bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/0*GILmpSCRoYOzP2JX.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><em class="nz">Pick Node.js</em></figcaption></figure><p id="3795" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选择环境后，应该使用默认设置创建一个<code class="fe mp mq mr ms b">launch.json</code>文件:</p><pre class="kg kh ki kj gt np ms nq nr aw ns bi"><span id="2e5a" class="nt lt iq ms b gy nu nv l nw nx">{    // Use IntelliSense to learn about possible attributes.    // Hover to view descriptions of existing attributes.    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387    "version": "0.2.0",    <br/>"configurations": [        {            <br/>"type": "pwa-node",            <br/>"request": "launch",            <br/>"name": "Launch Program",            <br/>"skipFiles": [                <br/>"&lt;node_internals&gt;/**"            ],            <br/>"program": "${workspaceFolder}/build/index.js"        <br/>}    <br/>]}</span></pre><p id="35b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不幸的是，默认设置不足以进行TypeScript调试，因此您需要添加一些附加设置:</p><pre class="kg kh ki kj gt np ms nq nr aw ns bi"><span id="96f9" class="nt lt iq ms b gy nu nv l nw nx">{  "version": "0.2.0",  "configurations": [    {      "type": "pwa-node",      "request": "launch",      "name": "Launch Program",      "skipFiles": ["&lt;node_internals&gt;/**"],      "program": "${workspaceFolder}/build/index.js",      "outFiles": ["${workspaceFolder}/build/**/*.js"],      "env": { "NODE_ENV": "development" },      "resolveSourceMapLocations": [        "${workspaceFolder}/**",        "!**/node_modules/**"      ],      "preLaunchTask": "prepare app to debug",      "postDebugTask": "clean app after debug"    }  ]}</span></pre><p id="27ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些属性中的大部分在上一篇文章中已经讨论过了，所以我在这里不再赘述。我将只描述新的属性:</p><ul class=""><li id="68a7" class="nb nc iq ky b kz la lc ld lf nd lj ne ln nf lr ng nh ni nj bi translated">outFiles——一个值，指定扩展名为<code class="fe mp mq mr ms b">.js</code>的文件将被放置的路径模式，以便调试器可以将它们与扩展名为<code class="fe mp mq mr ms b">.js.map</code>的映射文件相关联。</li><li id="63d9" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">resolveSourceMapLocations —指定调试器可以在哪些目录中使用映射文件的值。在本例中，我们已经阻止它们在node_modules中使用，以加快映射速度。</li><li id="17e7" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">preLaunchTask —指定在调试会话之前必须执行的任务的值。众所周知，TypeScript代码必须转换成JavaScript代码(一个任务)。API使用数据库，因此下一个任务将是运行数据库。</li><li id="cb7b" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">postDebugTask —指定调试会话后必须执行的任务的值。在我们的例子中，它将用JavaScript代码删除生成的文件并关闭数据库。</li></ul><h1 id="658f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">调试会话前后应该执行的任务在哪里？</h1><p id="02ee" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在<code class="fe mp mq mr ms b"> launch.json</code>文件的位置，您需要添加一个新文件(<code class="fe mp mq mr ms b">tasks.json</code>，其中将包含上述任务。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/66a733bced0200c5bedd5934afc1f44b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/0*WbTUlgwsU5NQvzvP.png"/></div></figure><p id="37d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将任务配置放在这个新创建的文件中:</p><pre class="kg kh ki kj gt np ms nq nr aw ns bi"><span id="845f" class="nt lt iq ms b gy nu nv l nw nx">{  "version": "2.0.0",  "tasks": [    {      "type": "npm",      "script": "build",      "group": "build",      "label": "npm: build - app",      "detail": "NODE_ENV=development tsc -p ."    },    {      "label": "start db",      "type": "shell",      "command": "docker compose up -d"    },    {      "label": "stop db",      "type": "shell",      "command": "docker compose down"    },    {      "type": "shell",      "label": "clean app",      "command": "rm -rf ./build"    },    {      "label": "prepare app to debug",      "type": "shell",      "command": "echo prepare app to debug",      "dependsOrder": "sequence",      "dependsOn": ["start db", "npm: build - app"]    },    {      "label": "clean app after debug",      "type": "shell",      "command": "echo clean app after debug",      "dependsOrder": "sequence",      "dependsOn": ["stop db", "clean app"]    }  ]}</span></pre><p id="369d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，包含任务的文件并不复杂。您可以设置任务的类型，是npm脚本还是shell。创建由几个相互依赖的子任务组成的任务是非常有帮助的。在这种情况下:</p><ul class=""><li id="f2c9" class="nb nc iq ky b kz la lc ld lf nd lj ne ln nf lr ng nh ni nj bi translated">准备要调试的应用程序，</li><li id="9405" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">调试后清理app。</li></ul><p id="55b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在一切都设置好了，是时候检查API中的bug藏在哪里了。</p><h1 id="24bf" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Visual Studio代码和发现API中的错误</h1><p id="ed31" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">问题出现在与列出所有书籍相关的代码中，所以您应该在负责返回所有书籍的控制器函数<code class="fe mp mq mr ms b">book-controller.ts</code>中开始搜索。所以我们把断点放在控制器代码的第42行的<code class="fe mp mq mr ms b">list</code>函数上。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/c5454aefa388b4bc75b74579f56c0815.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/0*PaK9xjkPoXtJp2-j.png"/></div></figure><p id="bb92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">设置断点后，可以启动调试器并跟踪代码的执行。</p><p id="03cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在Visual Studio代码中，转到“运行和调试”视图(Cmd ⌘ Shift ⇧ D ),然后单击“启动程序”旁边的绿色箭头。</p><p id="dba4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">启动调试器后，您应该看到以下视图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/4fac3a878d0fe3b8e45a981b88434231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/0*39Pe8TOnzsPZxrQV.png"/></div></figure><p id="ee24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在你可以在浏览器里转到这个地址:<a class="ae kv" href="http://localhost:3000/books" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/books</a>然后你就会被转到调试会话。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/8feb130c3e7cea8da804e8dbbf349400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/0*S7DN5DVqu_qo8FFa.png"/></div></figure><p id="bf84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在更深入地进入控制器调用的服务函数之后，您可以看到错误隐藏在哪里:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/a8fc6bcc70d70713f04e0c866137ca11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/0*9NyEmEZfPN_xsDpT.png"/></div></figure><p id="e5b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我没有去找所有的书，而是用了错误的方法，把找到的第一本书退回去。</p><h1 id="5b18" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Visual Studio代码-类型脚本调试摘要</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/2e5db50ec435410b8f193d6b5572e919.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/0*g9zU8x3ESKynJbL3.png"/></div></figure><p id="0b58" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望我说服您在代码中查找错误时使用调试器。当然，没有什么比过去的<code class="fe mp mq mr ms b">console.log ("YOU ARE HERE !!!!!")</code>更好的了，但有时你只需要更彻底地分析我们的代码流，然后调试器就会来救你了！</p><p id="b40b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的系列将涵盖Javascript中的调试集成测试。敬请期待更多内容！</p><p id="4c0d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mx">更多内容请看</em><a class="ae kv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mx">plain English . io</em></strong></a></p></div></div>    
</body>
</html>