<html>
<head>
<title>How to Build Radiobutton and Checkbox Forms with React &amp; Formik</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用React &amp; Formik构建单选按钮和复选框表单</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-js-forms-using-formiks-field-component-68a3bf5513d7?source=collection_archive---------17-----------------------#2021-07-14">https://javascript.plainenglish.io/react-js-forms-using-formiks-field-component-68a3bf5513d7?source=collection_archive---------17-----------------------#2021-07-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a0794fdc6b2983aec3c7ceea4585f942.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Hou0VTpCDK-D9or7"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@mjessier?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Myriam Jessier</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="029a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">网站表单很少只包含简单的文本字段和文本区域字段。它们通常包含更复杂的输入类型。这些包括下拉选择框、单选按钮和复选框输入。事实证明，在React中实现这些类型的输入对一些开发人员来说是一个挑战。</p><p id="776a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">本文将向您展示一些复杂输入的逐步实现。这些是<em class="ky">下拉选择框</em>、<em class="ky">单选按钮、</em>和<em class="ky">复选框</em>输入。我们将在Formik中使用<strong class="kc io"> <em class="ky"> &lt;字段/ &gt; </em> </strong>组件。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="2600" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第一步。</strong>打造新鲜的React app。称之为复杂表单应用程序。<a class="ae jz" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank">在此阅读React安装步骤</a></p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="c0ff" class="lp lq in ll b gy lr ls l lt lu">npx create-react-app complex-form-app</span></pre><p id="23aa" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第二步:</strong>然后把Formik库安装到app上。<a class="ae jz" href="https://formik.org/docs/overview" rel="noopener ugc nofollow" target="_blank">在此阅读Formik文档</a>。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="457c" class="lp lq in ll b gy lr ls l lt lu">cd complex-form-app<br/>npm install formik --save</span></pre><p id="09ac" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第三步:</strong>接下来把<em class="ky">的</em>库安装到app上。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="8d19" class="lp lq in ll b gy lr ls l lt lu">npm install yup --save</span></pre><p id="27a5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第四步:</strong>在app项目的<em class="ky"> /src </em>文件夹中创建一个名为components的文件夹。在components文件夹中，创建一个名为Complexform.js的文件。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="6983" class="lp lq in ll b gy lr ls l lt lu">import React from 'react'<br/>import { Formik, Form, Field, ErrorMessage } from 'formik'<br/>import * as Yup from 'yup'</span></pre><p id="6901" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第五步:</strong>创建一个名为<em class="ky"> complexForm </em>的功能组件。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="af43" class="lp lq in ll b gy lr ls l lt lu">import React from 'react'<br/>import { Formik, Form, Field, ErrorMessage } from 'formik'<br/>import * as Yup from 'yup'<br/>const complexForm = () =&gt; {}</span></pre><p id="5c47" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第六步:</strong>向<em class="ky"> initialValues </em>对象添加城市、宗教和职业属性。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="6969" class="lp lq in ll b gy lr ls l lt lu"><em class="ky">const</em> initialValues = {<br/>   city: '',<br/>   religion: '',<br/>   occupation: []<br/>}</span></pre><p id="5d34" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">步骤7: </strong>向validationSchema添加城市、宗教和职业字段的验证语句。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="1d8a" class="lp lq in ll b gy lr ls l lt lu"><em class="ky">const</em> validationSchema = Yup.object({<br/>     <br/>      city: Yup.string().required('Required'),<br/>      religion: Yup.string().required('Required'),<br/>      occupation: Yup.array().required('Required')</span><span id="2789" class="lp lq in ll b gy lv ls l lt lu">})</span></pre><p id="75fb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">步骤8: </strong>向Formik组件添加initialValues、validationSchema和onSubmit属性。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="9166" class="lp lq in ll b gy lr ls l lt lu">&lt;Formik<br/>    <em class="ky">initialValues</em>={initialValues}<br/>    <em class="ky">validationSchema</em>={validationSchema}<br/>    <em class="ky">onSubmit</em>={onSubmit}<br/>&gt;</span><span id="27eb" class="lp lq in ll b gy lv ls l lt lu">&lt;/Formik&gt;</span></pre><p id="350c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第九步:</strong>在<strong class="kc io"><em class="ky">&lt;Formik/&gt;</em></strong>组件中，为城市、宗教、职业这三个字段分别添加带有JSX的渲染道具。使用Formik中的<strong class="kc io"> <em class="ky"> &lt;字段/ &gt; </em> </strong>和<strong class="kc io"> <em class="ky"> &lt;错误消息/ &gt; </em> </strong>组件。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="dbe0" class="lp lq in ll b gy lr ls l lt lu">&lt;Formik<br/>    <em class="ky">initialValues</em>={initialValues}<br/>    <em class="ky">validationSchema</em>={validationSchema}<br/>    <em class="ky">onSubmit</em>={onSubmit}<br/>&gt;</span><span id="0096" class="lp lq in ll b gy lv ls l lt lu">{<em class="ky">formik</em> =&gt; {</span><span id="5b4d" class="lp lq in ll b gy lv ls l lt lu">&lt;Form&gt;</span><span id="ddf7" class="lp lq in ll b gy lv ls l lt lu">&lt;Field <em class="ky">component</em>='select' <em class="ky">name</em>='city' <em class="ky">placeholder</em>='select    options'&gt;<br/>  &lt;option <em class="ky">value</em>="Los Angeles"&gt;Los Angeles&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="Philadelphia"&gt;Philadelphia&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="Chicago"&gt;Chicago&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="Washington DC"&gt;Washington DC&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="New York"&gt;New York&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="San Diego"&gt;San Diego&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="Fort Worth"&gt;Fort Worth&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="Houston"&gt;Houston&lt;/option&gt;<br/>&lt;/Field&gt;<br/>&lt;ErrorMessage <em class="ky">name</em>="city" /&gt;</span><span id="e15b" class="lp lq in ll b gy lv ls l lt lu">&lt;Field <em class="ky">type</em>='radio' <em class="ky">name</em>="religion" <em class="ky">value</em>="christianity" /&gt;<br/>&lt;Field <em class="ky">type</em>='radio' <em class="ky">name</em>="religion" <em class="ky">value</em>="muslim" /&gt;<br/>&lt;Field <em class="ky">type</em>='radio' <em class="ky">name</em>="religion" <em class="ky">value</em>="jew" /&gt;<br/>&lt;Field <em class="ky">type</em>='radio' <em class="ky">name</em>="religion" <em class="ky">value</em>="hindu" /&gt;<br/>&lt;ErrorMessage <em class="ky">name</em>="religion" /&gt;</span><span id="2da4" class="lp lq in ll b gy lv ls l lt lu">&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="lawyer" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="teacher" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="footballer" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="preacher" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="doctor" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="economist" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="businessman" <em class="ky">name</em>="occupation" /&gt;&lt;ErrorMessage <em class="ky">name</em>="occupation" /&gt;</span><span id="4bb7" class="lp lq in ll b gy lv ls l lt lu">&lt;button<br/>  <em class="ky">type</em>="submit"<br/>&gt;<br/>&lt;/button&gt;</span><span id="b13f" class="lp lq in ll b gy lv ls l lt lu">&lt;/Form&gt;</span><span id="6c53" class="lp lq in ll b gy lv ls l lt lu">}}</span><span id="febb" class="lp lq in ll b gy lv ls l lt lu">&lt;/Formik&gt;</span></pre><p id="7d88" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最终的<strong class="kc io"><em class="ky">complex form . js</em></strong>文件必须如下图所示。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="9422" class="lp lq in ll b gy lr ls l lt lu">import React from 'react'<br/>import { Formik, Form, Field, ErrorMessage } from 'formik'<br/>import * as Yup from 'yup'<br/></span><span id="7bf3" class="lp lq in ll b gy lv ls l lt lu">const complexForm = () =&gt; {</span><span id="54da" class="lp lq in ll b gy lv ls l lt lu"><em class="ky">const</em> initialValues = {<br/>   city: '',<br/>   religion: '',<br/>   occupation: []<br/>}</span><span id="a21f" class="lp lq in ll b gy lv ls l lt lu"><em class="ky">const</em> validationSchema = Yup.object({<br/>     <br/>      city: Yup.string().required('Required'),<br/>      religion: Yup.string().required('Required'),<br/>      occupation: Yup.array().required('Required')</span><span id="361d" class="lp lq in ll b gy lv ls l lt lu">})</span><span id="d8fd" class="lp lq in ll b gy lv ls l lt lu"><em class="ky">const</em> onSubmit = <em class="ky">values</em> =&gt; console.log('Form data', values)</span><span id="015d" class="lp lq in ll b gy lv ls l lt lu">return (</span><span id="170a" class="lp lq in ll b gy lv ls l lt lu">&lt;Formik<br/>    <em class="ky">initialValues</em>={initialValues}<br/>    <em class="ky">validationSchema</em>={validationSchema}<br/>    <em class="ky">onSubmit</em>={onSubmit}<br/>&gt;</span><span id="50f5" class="lp lq in ll b gy lv ls l lt lu"> {<em class="ky">formik</em> =&gt; {</span><span id="c1d6" class="lp lq in ll b gy lv ls l lt lu">&lt;Form&gt;</span><span id="5fcb" class="lp lq in ll b gy lv ls l lt lu">&lt;Field <em class="ky">component</em>='select' <em class="ky">name</em>='city' <em class="ky">placeholder</em>='select    options'&gt;<br/>  &lt;option <em class="ky">value</em>="Los Angeles"&gt;Los Angeles&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="Philadelphia"&gt;Philadelphia&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="Chicago"&gt;Chicago&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="Washington DC"&gt;Washington DC&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="New York"&gt;New York&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="San Diego"&gt;San Diego&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="Fort Worth"&gt;Fort Worth&lt;/option&gt;<br/>  &lt;option <em class="ky">value</em>="Houston"&gt;Houston&lt;/option&gt;<br/>&lt;/Field&gt;<br/>&lt;ErrorMessage <em class="ky">name</em>="city" /&gt;</span><span id="cdcf" class="lp lq in ll b gy lv ls l lt lu">&lt;Field <em class="ky">type</em>='radio' <em class="ky">name</em>="religion" <em class="ky">value</em>="christianity" /&gt;<br/>&lt;Field <em class="ky">type</em>='radio' <em class="ky">name</em>="religion" <em class="ky">value</em>="muslim" /&gt;<br/>&lt;Field <em class="ky">type</em>='radio' <em class="ky">name</em>="religion" <em class="ky">value</em>="jew" /&gt;<br/>&lt;Field <em class="ky">type</em>='radio' <em class="ky">name</em>="religion" <em class="ky">value</em>="hindu" /&gt;<br/>&lt;ErrorMessage <em class="ky">name</em>="religion" /&gt;</span><span id="8f82" class="lp lq in ll b gy lv ls l lt lu">&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="lawyer" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="teacher" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="footballer" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="preacher" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="doctor" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="economist" <em class="ky">name</em>="occupation" /&gt;<br/>&lt;Field <em class="ky">type</em>="checkbox" <em class="ky">value</em>="businessman" <em class="ky">name</em>="occupation" /&gt;&lt;ErrorMessage <em class="ky">name</em>="occupation" /&gt;</span><span id="1d8e" class="lp lq in ll b gy lv ls l lt lu">&lt;button<br/>  <em class="ky">type</em>="submit"<br/>&gt;<br/>&lt;/button&gt;</span><span id="8458" class="lp lq in ll b gy lv ls l lt lu">&lt;/Form&gt;</span><span id="7d92" class="lp lq in ll b gy lv ls l lt lu">}}</span><span id="2a4e" class="lp lq in ll b gy lv ls l lt lu">&lt;/Formik&gt;</span><span id="d3e7" class="lp lq in ll b gy lv ls l lt lu">}</span><span id="9746" class="lp lq in ll b gy lv ls l lt lu">export default complexForm</span></pre><p id="1f45" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">第十步:</strong>将<strong class="kc io"> <em class="ky"> complexForm </em> </strong>组件导入到<strong class="kc io"> <em class="ky"> app.js </em> </strong>文件中，并添加到返回语句JSX中，如下所示。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="b1eb" class="lp lq in ll b gy lr ls l lt lu">import React from 'react'<br/>import './App.css'<br/>import ComplexForm from './components/complexForm'</span><span id="a83a" class="lp lq in ll b gy lv ls l lt lu"><em class="ky">function</em> App() {<br/>  return (<br/>     &lt;div <em class="ky">classname</em>='App'&gt;<br/>       &lt;ComplexForm/&gt;<br/>     &lt;/div&gt;<br/>)}</span><span id="5f00" class="lp lq in ll b gy lv ls l lt lu">export default App</span></pre><p id="5a42" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">运行应用程序。</p></div><div class="ab cl kz la hr lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="ig ih ii ij ik"><p id="9b02" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在我们有了。我希望你已经发现这是有用的。我会带着更多有趣的文章回来。感谢您的阅读。</p><p id="8356" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">更多内容看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ky">plain English . io</em></strong></a></p></div></div>    
</body>
</html>