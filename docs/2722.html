<html>
<head>
<title>Building A Full Stack React App Tutorial (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建完整的堆栈React应用教程(第1部分)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-a-full-stack-react-app-tutorial-821120e014a2?source=collection_archive---------5-----------------------#2021-06-04">https://javascript.plainenglish.io/building-a-full-stack-react-app-tutorial-821120e014a2?source=collection_archive---------5-----------------------#2021-06-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="1378" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们学习如何从头开始创建一个全栈React应用程序</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/543dc485423fbe85923b62a2a5bd1cd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MAsDM7izWmxJTQfg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kelly Sikkema</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="91d2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现代web应用程序已经变得更加强大和复杂。不仅仅是从后端服务器渲染HTML和CSS文件。有了React这样的框架，构建前端繁重的项目变得容易多了。</p><p id="fe9f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">React使用基于组件的架构来创建单页面应用程序。本教程让你学习如何从头开始创建一个单页web应用程序。</p><h2 id="3ca8" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">全功能React应用程序的要素:</h2><ol class=""><li id="e9bb" class="ls lt in jm b jn lu jr lv jv lw jz lx kd ly kh lz ma mb mc bi translated">创建可重用组件</li><li id="9370" class="ls lt in jm b jn md jr me jv mf jz mg kd mh kh lz ma mb mc bi translated">将代码分成小的组件</li><li id="5f95" class="ls lt in jm b jn md jr me jv mf jz mg kd mh kh lz ma mb mc bi translated">反应路由器</li><li id="fe93" class="ls lt in jm b jn md jr me jv mf jz mg kd mh kh lz ma mb mc bi translated">状态管理—上下文API</li><li id="54b1" class="ls lt in jm b jn md jr me jv mf jz mg kd mh kh lz ma mb mc bi translated">后端:REST API</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/b1e7c8ee5ed47dcca24d486c1aba7cfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*l0TL9BZryScD99BO"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@dylandgillis?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Dylan Gillis</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="60f2" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">了解应用程序—考试助手</h2><p id="4673" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv mj jx jy jz mk kb kc kd ml kf kg kh ig bi translated">考试助手是一个为学生提供的帮助他们考试的网络应用程序，它包含一个科目列表，每个科目都有不同主题的音频笔记。对于本教程，我们将只构建应用程序的前端部分。后端API会将音频文件存储在一个由教师上传的数据库中。</p><p id="6a02" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">该应用程序的设计类似于Spotify应用程序，为学生提供音频文件播放列表。</p><h2 id="7b5e" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">创建React应用程序</h2><pre class="kj kk kl km gt mm mn mo mp aw mq bi"><span id="4ac0" class="kz la in mn b gy mr ms l mt mu">npx create-react-app exam-assistant</span></pre><p id="b20a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">通过在终端中键入上述命令来创建React应用程序。设计应用程序的前两步是理解所需的组件和路线。对于路由，我们使用一个名为react-router-dom的库。</p><pre class="kj kk kl km gt mm mn mo mp aw mq bi"><span id="76d1" class="kz la in mn b gy mr ms l mt mu">import {<br/>  BrowserRouter as Router,<br/>  Switch,<br/>  Route,<br/>  Link<br/>} from "react-router-dom";</span></pre><p id="a837" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我们的项目中，有两条路线供学生上传笔记，一条是主仪表板，另一条是教师上传笔记。</p><p id="45e3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们将使用react-router中的交换机组件。确保路线与指定的路径完全匹配。</p><pre class="kj kk kl km gt mm mn mo mp aw mq bi"><span id="740e" class="kz la in mn b gy mr ms l mt mu">function App() </span><span id="a931" class="kz la in mn b gy my ms l mt mu">return (<br/>     &lt;Router basename={window.location.pathname || ''}&gt;</span><span id="d184" class="kz la in mn b gy my ms l mt mu">     &lt;Switch&gt;<br/>          &lt;Route path="/teacher"&gt;<br/>            &lt;Teacher /&gt;<br/>          &lt;/Route&gt;<br/>          &lt;Route path="/"&gt;<br/>            &lt;Home /&gt;<br/>          &lt;/Route&gt;<br/>      &lt;/Switch&gt;</span><span id="8173" class="kz la in mn b gy my ms l mt mu">     &lt;/Router&gt;<br/>  );<br/>}</span></pre><h2 id="9c55" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">构建主要组件</h2><p id="de8b" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv mj jx jy jz mk kb kc kd ml kf kg kh ig bi translated">仪表板组件将有一个侧栏、主体和页脚。</p><p id="a129" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">侧边栏组件将显示主题列表。body组件将显示从侧边栏中选择的主题的音频注释列表。页脚组件将显示从正文中选择的音频文件。</p><p id="b846" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是我们遇到状态管理和适当钻探问题的地方。请注意同一层次结构中的组件是如何依赖于彼此的状态的。为了解决这个问题，我们必须从父组件传递道具，以便它到达所有子组件。</p><p id="f293" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是上下文API的用武之地，它为我们提供了一个全局状态对象，就像这些组件之上的数据层，这样就可以从这个数据层中包装的任何组件访问上下文中的数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/4cbb6ad8b14ba5935ca1f07563eab1bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YWPE0Jt3ZBUB5FeN"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@edvardr?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Edvard Alexander Rølvaag</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="4224" class="kz la in bd lb lc ld dn le lf lg dp lh jv li lj lk jz ll lm ln kd lo lp lq lr bi translated">使用上下文API</h2><p id="fce7" class="pw-post-body-paragraph jk jl in jm b jn lu jp jq jr lv jt ju jv mj jx jy jz mk kb kc kd ml kf kg kh ig bi translated">创建上下文对象。</p><pre class="kj kk kl km gt mm mn mo mp aw mq bi"><span id="006f" class="kz la in mn b gy mr ms l mt mu">export const StateContext = createContext();</span><span id="df08" class="kz la in mn b gy my ms l mt mu">export const useStateValue = () =&gt; useContext(StateContext);</span></pre><p id="8ec4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">每个上下文对象都带有一个提供者React组件，该组件允许消费组件订阅上下文更改。</p><pre class="kj kk kl km gt mm mn mo mp aw mq bi"><span id="19bc" class="kz la in mn b gy mr ms l mt mu">export const StateProvider = ({ reducer, initialState, children }) =&gt; (<br/>  &lt;StateContext.Provider value={useReducer(reducer, initialState)}&gt;<br/>    {children}<br/>  &lt;/StateContext.Provider&gt;<br/>);</span></pre><p id="7988" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">创建一个初始状态对象和reducer，然后将应用程序组件包装在状态提供程序中。这样，所有组件都可以访问初始状态和还原状态。</p><pre class="kj kk kl km gt mm mn mo mp aw mq bi"><span id="d81c" class="kz la in mn b gy mr ms l mt mu">&lt;StateProvider initialState={initialState} reducer={reducer}&gt;<br/>      &lt;App /&gt;<br/> &lt;/StateProvider&gt;</span></pre><p id="b37c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">减速器和分配器</p><pre class="kj kk kl km gt mm mn mo mp aw mq bi"><span id="52be" class="kz la in mn b gy mr ms l mt mu">const reducer = (state, action) =&gt; {<br/>  <br/>  switch (action.type) {<br/>    case "SET_TOKEN":<br/>      return {<br/>        ...state,<br/>        token: action.token<br/>      };<br/>    case "SET_ITEM":<br/>      return {<br/>        ...state,<br/>        item: action.item<br/>      }<br/>    case "SET_SONG":<br/>      return {<br/>        ...state,<br/>        curr_song: action.song<br/>      }<br/>    case "SET_PLAYING":<br/>      return {<br/>        ...state,<br/>        playing: action.playing<br/>      }<br/>    case "SET_AUDIO":<br/>    let newplaylist = state.subject_audio<br/>    newplaylist[action.name].push({'title':action.title,'teacher':'ajay'})<br/>    return{<br/>      ...state,<br/>      subject_audio: newplaylist<br/>    }<br/>    default:<br/>        return state;</span><span id="fd8f" class="kz la in mn b gy my ms l mt mu">};<br/>}</span><span id="a2af" class="kz la in mn b gy my ms l mt mu">export default reducer;</span></pre><p id="6875" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">减速器有两个参数，当前状态和动作。动作是通过onclick事件等组件来调度的。还原器创建更改并为状态提供者返回新的状态。</p><p id="5b17" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">派单示例:</strong></p><pre class="kj kk kl km gt mm mn mo mp aw mq bi"><span id="d535" class="kz la in mn b gy mr ms l mt mu">const [{ item,subject_audio }, dispatch] = useStateValue();</span><span id="070c" class="kz la in mn b gy my ms l mt mu">const onHandleClick = (id)=&gt;{<br/>    dispatch({<br/>      type: "SET_SONG",<br/>      song: id<br/>    });<br/>  }</span></pre><p id="0b16" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">至此，我们应用程序的前端部分就完成了。完整的回购代码可以在下面的链接中找到。在下一篇文章中，我将展示如何为应用程序创建后端。</p><div class="na nb gp gr nc nd"><a href="https://github.com/Ash-D23/Exam-Assistant-v2" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd io gy z fp ni fr fs nj fu fw im bi translated">ash-D23/考试助手-v2</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">这个项目是用Create React App引导的。在项目目录中，您可以运行:在…中运行应用程序</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">github.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr ks nd"/></div></div></a></div><p id="919e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">谢谢你把文章看完。希望这是有帮助的！</p><p id="4e8f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">参考文献:</strong></p><div class="na nb gp gr nc nd"><a href="https://reactjs.org/docs/getting-started.html" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd io gy z fp ni fr fs nj fu fw im bi translated">开始行动-做出反应</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">用于构建用户界面的JavaScript库</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">reactjs.org</p></div></div><div class="nm l"><div class="ns l no np nq nm nr ks nd"/></div></div></a></div><p id="1c12" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="nt">更多内容尽在</em><a class="ae ky" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="nt">plain English . io</em></a></p></div></div>    
</body>
</html>