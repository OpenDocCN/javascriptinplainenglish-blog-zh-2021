<html>
<head>
<title>Newly introduced JavaScript Features to upgrade your knowledge</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新引入的JavaScript特性可以提升您的知识</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/latest-javascript-features-you-should-know-in-2021-7712232c00ae?source=collection_archive---------10-----------------------#2021-06-09">https://javascript.plainenglish.io/latest-javascript-features-you-should-know-in-2021-7712232c00ae?source=collection_archive---------10-----------------------#2021-06-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="4c24" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">JavaScript备忘单2021</h2><div class=""/><div class=""><h2 id="a6bd" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">利用ES2021的新功能优化您的JavaScript代码。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/06a45a9be00ec6d94eed5b30fbf4aa2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G6TaAFNaBbZB4hR2"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Photo by <a class="ae le" href="https://unsplash.com/@hishahadat?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Shahadat Rahman</a> on <a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="58ef" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">你可能会看到大量标题相同的文章，比如“在2021年知道这个特性”或者“如果你是开发者，你必须知道这个”。</p><p id="6d10" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">老实说，我的意图不是制作一个clickbaity标题，而是提供有用的内容。</p><p id="99d5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">由于JavaScript每天都在发展，最好让自己跟上变化和特性，让生活变得更轻松。</p><blockquote class="mb mc md"><p id="fc71" class="lf lg me lh b li lj ka lk ll lm kd ln mf lp lq lr mg lt lu lv mh lx ly lz ma ij bi translated">让我们用例子来了解这些<strong class="lh ja"> ES2021 </strong>的特性。</p></blockquote><h2 id="0f1d" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">1.全部替换</h2><p id="f6ad" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">此方法可用于替换整个字符串中的特定单词或字母，并返回新字符串。</p><p id="aa5b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">模式可以是<strong class="lh ja">字符串</strong>或<strong class="lh ja">正则表达式</strong>。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="51dd" class="mi mj iq ng b gy nk nl l nm nn">const test = 'my name is atit';<br/>const regex = /atit/gi;<br/>console.log(test.replaceAll(regex, 'patel'));<br/>// expected output: my name is patel</span><span id="93f2" class="mi mj iq ng b gy no nl l nm nn">console.log(test.replaceAll('atit', 'patel'));<br/>// expected output: my name is patel</span></pre><h2 id="b6e5" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">2.Promise.any()</h2><p id="7070" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">如果一个承诺实现了，当你想展示一些东西时，这个方法会很有帮助。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="4b6a" class="mi mj iq ng b gy nk nl l nm nn">const promise1 = Promise.reject(0);<br/>const promise2 = new Promise(resolve =&gt;<br/>    setTimeout(resolve, 50, 'I will come first')<br/>);<br/>const promise3 = new Promise(resolve =&gt; setTimeout(resolve, 100, 'I am last'));</span><span id="3356" class="mi mj iq ng b gy no nl l nm nn">const promises = [promise1, promise2, promise3];</span><span id="6b3a" class="mi mj iq ng b gy no nl l nm nn">Promise.any(promises).then(el =&gt; console.log(el));<br/> //I will come first</span></pre><p id="f0ad" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果要等待所有承诺或者等待所有服务响应怎么办？如果您不想移动到下一行代码，直到所有服务响应都来自服务，该怎么办？</p><p id="2a7a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们可以用户<strong class="lh ja"> Promise.all() </strong></p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="9dae" class="mi mj iq ng b gy nk nl l nm nn">const promise1 = new Promise(resolve =&gt;<br/>    setTimeout(resolve, 50, 'I will come first')<br/>);<br/>const promise2 = new Promise(resolve =&gt;<br/>    setTimeout(resolve, 100, 'I will come second')<br/>);<br/>const promise3 = new Promise(resolve =&gt; setTimeout(resolve, 1000, 'I am last'));<br/>const promises = [promise1, promise2, promise3];</span><span id="6b90" class="mi mj iq ng b gy no nl l nm nn">Promise.all(promises).then(el =&gt; console.log(el));<br/>//["I will come first", "I will come second", "I am last"]</span></pre><p id="17a3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">(注意:根据您正在使用的框架，您可以使用async/await或rxjs)</p><h2 id="80c9" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">3.Weakref</h2><p id="5875" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">"这个对象持有对另一个对象的弱引用，而不会阻止该对象被垃圾回收."</p><div class="np nq gp gr nr ns"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakRef" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ja gy z fp nx fr fs ny fu fw iz bi translated">WeakRef - JavaScript | MDN</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">WeakRef对象允许您持有对另一个对象的弱引用，而不会阻止该对象获取…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">developer.mozilla.org</p></div></div><div class="ob l"><div class="oc l od oe of ob og ky ns"/></div></div></a></div><h2 id="025b" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">4.终结注册表</h2><p id="c6c8" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">"当一个对象被垃圾回收时，你可以请求回调."</p><div class="np nq gp gr nr ns"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/FinalizationRegistry" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ja gy z fp nx fr fs ny fu fw iz bi translated">finalization registry-JavaScript | MDN</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">FinalizationRegistry对象允许您在对象被垃圾回收时请求回调。终结注册表…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">developer.mozilla.org</p></div></div><div class="ob l"><div class="oh l od oe of ob og ky ns"/></div></div></a></div><h2 id="ac47" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">5.逻辑运算符</h2><p id="d0e7" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">逻辑OR赋值(a ||= b)运算符仅在a为false时赋值。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="8659" class="mi mj iq ng b gy nk nl l nm nn">const test = {<br/>    val: 100,<br/>    title: ''<br/>};</span><span id="6765" class="mi mj iq ng b gy no nl l nm nn">test.val || = 10;<br/>console.log(test.val);<br/>// expected output: 100</span><span id="a8a5" class="mi mj iq ng b gy no nl l nm nn">test.title || = 'nothing inside';<br/>console.log(test.title);<br/>// expected output: "nothing inside"</span></pre><p id="d109" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">逻辑AND赋值(a &amp;&amp;= b)运算符仅在a为真时赋值。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="6f91" class="mi mj iq ng b gy nk nl l nm nn">let val1 = 10;<br/>let val2 = 0;</span><span id="04c2" class="mi mj iq ng b gy no nl l nm nn">val1 &amp;&amp; = 20;<br/>console.log(val1);<br/>// expected output: 20</span><span id="0977" class="mi mj iq ng b gy no nl l nm nn">val2 &amp;&amp; = 40;<br/>console.log(val2);<br/>// expected output: 0</span></pre><h2 id="a8c3" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">6.数字分隔符</h2><p id="c951" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">这有助于提高数字的可读性。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="f3b0" class="mi mj iq ng b gy nk nl l nm nn">const data = 1000000000000;</span><span id="0768" class="mi mj iq ng b gy no nl l nm nn">const data = 1_000_000_000_000;</span></pre><p id="b535" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">它对二进制、八进制和十六进制数字也很有用。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="7866" class="mi mj iq ng b gy nk nl l nm nn">const data1 = 0b1010_0101; // binary<br/>const data2 = 0o2_3_5_4; // octal<br/>const data3 = 0xA_B_C_D_F; // hex</span></pre><h2 id="7b80" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">7.国际机场。列表格式</h2><p id="3850" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">此方法可用于特定于语言的格式设置。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="5794" class="mi mj iq ng b gy nk nl l nm nn">const data = ['test1', 'test', 'test3'];<br/>const formattest1 = new Intl.ListFormat('en', {<br/>    style: 'long',<br/>    type: 'conjunction'<br/>});</span><span id="de3c" class="mi mj iq ng b gy no nl l nm nn">console.log(formattest1.format(data));<br/>// expected output: "test1, test, and test3"</span><span id="0bc1" class="mi mj iq ng b gy no nl l nm nn"><br/>const formattest2 = new Intl.ListFormat('en', {<br/>    style: 'narrow',<br/>    type: 'unit'<br/>});</span><span id="25c2" class="mi mj iq ng b gy no nl l nm nn">console.log(formattest2.format(data));<br/>// expected output: "test1 test test3"</span></pre><h2 id="6bcf" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">8.国际机场。日期时间格式</h2><p id="6767" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">这对于特定语言的日期格式很有帮助。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="6941" class="mi mj iq ng b gy nk nl l nm nn">const date = new Date("6/9/2021");<br/>console.log(new Intl.DateTimeFormat('en-US').format(date));<br/>// expected output: "6/9/2021"</span><span id="98e4" class="mi mj iq ng b gy no nl l nm nn">// can specify date and time format<br/>console.log(new Intl.DateTimeFormat('en-GB', {<br/>    dateStyle: 'full',<br/>    timeStyle: 'long'<br/>}).format(date));</span><span id="a0f7" class="mi mj iq ng b gy no nl l nm nn">// "Wednesday, 9 June 2021 at 00:00:00 GMT-4"</span></pre><h1 id="25a4" class="oi mj iq bd mk oj ok ol mn om on oo mq kf op kg mt ki oq kj mw kl or km mz os bi translated">延伸阅读:</h1><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ot ou l"/></div></figure><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ot ou l"/></div></figure><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="ot ou l"/></div></figure><p id="c3a1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="me">更多内容请看</em><a class="ae le" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="me">plain English . io</em></a></p></div></div>    
</body>
</html>