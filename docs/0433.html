<html>
<head>
<title>How to Count Page Views With The Count API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Count API计算页面浏览量</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-count-page-views-with-the-count-api-afc9369c1f8f?source=collection_archive---------2-----------------------#2021-01-26">https://javascript.plainenglish.io/how-to-count-page-views-with-the-count-api-afc9369c1f8f?source=collection_archive---------2-----------------------#2021-01-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="252b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用JavaScript计算页面浏览量的简单方法。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fb5832d545882cb575a090f9cc3c4601.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NPfD57QKiOP5fgDRPU8ibg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image created with ❤️️ By <a class="ae kv" href="https://mehdiouss315.medium.com/" rel="noopener">author.</a></figcaption></figure><h1 id="0771" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="2664" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">你可能需要在你的网站上有一个有用的功能，那就是计算你的网页浏览量的计数器。最简单的方法是通过CountAPI，它给了你这个惊人的功能。</p><p id="b092" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在这篇文章中，我们将学习如何使用JavaScript中的CountAPI来计算页面浏览量。让我们开始吧。</p><h1 id="31c9" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">CountAPI</h1><p id="7de5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这个API允许你制作数字计数器。这是一个非常有用的API来跟踪一个页面的点击数。例如，它还允许您知道点击按钮的用户数量。所以它也计算事件。</p><p id="882d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">每次调用<a class="ae kv" href="https://countapi.xyz/" rel="noopener ugc nofollow" target="_blank"> CountAPI </a>提供一个命中端点，计数器就会加1。</p><p id="b1d2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">请点击以下链接查看:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="d2e1" class="mu kx iq mq b gy mv mw l mx my"><a class="ae kv" href="https://api.countapi.xyz/hit/namespace/key" rel="noopener ugc nofollow" target="_blank">https://api.countapi.xyz/hit/</a><a class="ae kv" href="https://api.countapi.xyz/hit/namespace/key" rel="noopener ugc nofollow" target="_blank"><strong class="mq ir">namespace</strong></a><a class="ae kv" href="https://api.countapi.xyz/hit/namespace/key" rel="noopener ugc nofollow" target="_blank">/</a><a class="ae kv" href="https://api.countapi.xyz/hit/namespace/key" rel="noopener ugc nofollow" target="_blank"><strong class="mq ir">key</strong></a></span></pre><p id="df7f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">您应该知道，每个计数器都是用一个<em class="mz">键</em>在一个<em class="mz">名称空间</em>中标识的。<em class="mz">名称空间</em>应该是唯一的，所以您需要用您的网站域来替换它。</p><h1 id="43ad" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">例子</h1><p id="c22f" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">假设您想要统计和显示您的网页浏览量，CountAPI允许您通过使用他们的NPM包、JSONP、XHR或jQuery来做到这一点。</p><p id="644e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在下面的例子中，我们将使用JSONP。你可以稍后在他们的<a class="ae kv" href="https://countapi.xyz/" rel="noopener ugc nofollow" target="_blank">网站</a>上查看其他方式。</p><p id="f1ab" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们要做的第一件事是创建我们的HTML:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="9c52" class="mu kx iq mq b gy mv mw l mx my">&lt;body&gt;<br/>   <br/>  &lt;h1&gt;This page got &lt;span id="<strong class="mq ir">visits</strong>"&gt;&lt;/span&gt; views.&lt;/h1&gt;</span><span id="1bf0" class="mu kx iq mq b gy na mw l mx my">&lt;/body&gt;</span></pre><p id="72a4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在head标签中，您必须为CountAPI添加一个脚本CDN。它将如下所示:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="8910" class="mu kx iq mq b gy mv mw l mx my">&lt;head&gt;</span><span id="5046" class="mu kx iq mq b gy na mw l mx my">&lt;script async src="https://api.countapi.xyz/hit/<strong class="mq ir">mysite.com</strong>/visits?  callback=<strong class="mq ir">callbackName</strong>"&gt;&lt;/script&gt;</span><span id="28f1" class="mu kx iq mq b gy na mw l mx my">&lt;/head&gt;</span></pre><p id="5a18" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">你必须用你自己的域名替换<code class="fe nb nc nd mq b">mysite.com</code>。此外，用我们将在下面的JavaScript中创建的任何回调名称替换<code class="fe nb nc nd mq b">callbackName</code>。</p><p id="92a7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在我们将使用JavaScript来创建一个回调函数，该函数将获取访问量，并将其替换到ID为<code class="fe nb nc nd mq b">visits</code>的元素中。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="4802" class="mu kx iq mq b gy mv mw l mx my">function <strong class="mq ir">callbackName</strong>(response) {<br/>    document.getElementById('visits').innerText = response.value;<br/>}</span></pre><p id="9115" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们不会调用这个函数，因为它已经在上面的CDN中被调用过了。</p><p id="7274" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果您想了解一下，下面是Codepen示例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The CountAPI.</figcaption></figure><p id="cc34" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">正如你所看到的，这是统计你的网页访问量的最简单的方法。</p><h1 id="0081" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="e078" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">CountAPI使得统计页面浏览量并在页面上显示它们变得更加容易。这个API也有更多的功能，我鼓励你去他们的网站上查看。</p><p id="bbba" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">感谢您阅读本文，希望您觉得有用。</p><h1 id="80fe" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">更多阅读</h1><p id="b236" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><em class="mz">如果你也对JavaScript和web开发相关的更有用的内容感兴趣，也可以</em> <a class="ae kv" href="https://mehdiouss.ck.page/" rel="noopener ugc nofollow" target="_blank"> <em class="mz">订阅</em> </a> <em class="mz">我的快讯。</em></p><p id="c97f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="mz">下面是另一篇有用的文章，请点击下面的链接查看:</em></p><div class="ng nh gp gr ni nj"><a href="https://medium.com/javascript-in-plain-english/fetching-data-with-useeffect-in-react-604ed53edffe" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">在React中使用UseEffect提取数据</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">通过真实的例子了解React UseEffect。</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx kp nj"/></div></div></a></div></div></div>    
</body>
</html>