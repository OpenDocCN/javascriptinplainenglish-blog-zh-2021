<html>
<head>
<title>How to Develop an Unsplash Clone Using React and Firebase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用React和Firebase开发Unsplash克隆</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/developing-unsplash-clone-using-react-and-firebase-2c232f487142?source=collection_archive---------12-----------------------#2021-06-11">https://javascript.plainenglish.io/developing-unsplash-clone-using-react-and-firebase-2c232f487142?source=collection_archive---------12-----------------------#2021-06-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e374" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Firestore入门，上传图像，并在React中以画廊模式预览</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/dbb6307a7980d5f4ce8d6ea521c344f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-JZqbJCRn-j89MMl"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@thevoncomplex?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mike Von</a> on <a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="993a" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在后台</h2><p id="fe3e" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">这个故事开始于我们为我们的网站iHateReading创建管理内容管理的时候。我们希望为我们的设计师和创作者创建一个界面，将他们的作品直接上传到数据库中。这是一种自动管理数据库的过程，无需手动操作。</p><pre class="km kn ko kp gt ma mb mc md aw me bi"><span id="0638" class="lc ld iq mb b gy mf mg l mh mi"><a class="ae lb" href="https://github.com/shreyvijayvargiya/iHateReadingLogs/tree/main/TechLogs/unsplash-clone" rel="noopener ugc nofollow" target="_blank">Complete code repository can be downloaded from here</a></span></pre></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><h2 id="c2b7" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">概观</h2><p id="c9de" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在今天的故事中，我们将创建一个Unsplash类型的克隆项目，通过开发一个单一的接口来上传我们的图像和数据库中的标题。接下来是从数据库中获取所有图像，并在我们的前端显示它们，就像Unsplash或dribble所做的那样。</p><p id="5878" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将使用的数据库是Firebase firestore，上传图像，我们将开发一个界面，接受图像，标题和日期来添加我们的图像。</p></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><h2 id="61b7" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">入门指南</h2><p id="7915" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">这些是我们将遵循的步骤—</p><ul class=""><li id="8ef4" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated">在Firebase中创建一个帐户</li><li id="16ab" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">将Firebase连接到React项目</li><li id="dffb" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">开发一个管理界面来上传Firebase firestore中的数据</li><li id="8568" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">开发主页或登陆来抓取所有的图片，并使用相应的标题、图片和日期进行预览。</li></ul></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><h2 id="7d88" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在React项目中安装Firebase</h2><p id="c28f" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我已经在这个专题上发表了大量的文章。所以，我就不多说细节了。我只是添加了这个故事的链接，你可以直接阅读，并参考安装过程。另外，我使用的存储库是Next.js，可以从链接中下载。</p><pre class="km kn ko kp gt ma mb mc md aw me bi"><span id="7a55" class="lc ld iq mb b gy mf mg l mh mi">Download ready-to-use-repository-from-here</span></pre></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><h2 id="9807" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">开发管理界面</h2><p id="e1ce" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">管理界面是所有数据可以上传到我们的数据库的地方。在我们的例子中，我们的数据库需要一个横幅图像、一个标题和一个日期。</p><p id="5a60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它将是一个简单的形式，由使用输入和文件上传添加的键值对组成。一旦用户点击提交按钮，只有这样我们才会在Firebase的实时数据库中添加数据。此外，由于我们正在处理图像，所以，我们需要firestore来处理我们的大文件。</p><p id="b8b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个过程是这样的</p><ul class=""><li id="3d86" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated">点击提交按钮时在Firestore中上传图像</li><li id="b3d8" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">检索图像云URL链接</li><li id="ab8b" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">将标题、日期和图像云URL链接保存在Firebase实时数据库中。</li></ul><p id="ae6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">管理界面将有一个名为<code class="fe ne nf ng mb b">admin/Unsplash</code>的路由。该路径将提供一个上传图像、添加标题和日期的表单。点击提交按钮后，我们将在Firebase存储桶中上传图像，并抓取图像URL，以将图像云URL和标题以及日期存储在实时数据库中。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nh"><img src="../Images/d84f7c143bd1db915ee25f2a85276b40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KyL9dHiBl9hcqqWfaGx0Kw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">The Admin interface for uploading data</figcaption></figure><p id="3b77" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一步如下—</p><ul class=""><li id="e750" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated">在Firebase存储中上传图像</li><li id="7dce" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">抓取上传的图像云网址</li><li id="c359" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">在实时数据库中添加图像云URL、标题和日期</li></ul><p id="1d05" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦用户点击提交按钮，这些步骤将被触发。</p><pre class="km kn ko kp gt ma mb mc md aw me bi"><span id="ae01" class="lc ld iq mb b gy mf mg l mh mi">async function handleSubmit(e){<br/>        e.preventDefault();<br/>        setLoader(true);<br/>        const dbRef = app.database().ref("unplash-clone");<br/>        let storageRef = <br/>            app<br/>             .storage()<br/>             .ref("unsplash-clone")<br/>             .child(values.imageName);<br/>        const imagePutUpdate = await <br/>             storageRef.put(values.imageFile);<br/>        if(imagePutUpdate){<br/>            const uploadedImageUrl = await <br/>                   app.<br/>                    storage()<br/>                    .ref( "unsplash-clone")<br/>                    .child(values.imageName)<br/>                    .getDownloadURL();<br/>            dbRef.push({<br/>                title: values.title,<br/>                imageName: values.imageName,<br/>                imageUrl: uploadedImageUrl,<br/>                date: values.date<br/>            })<br/>            setValues({ <br/>                  title: "", <br/>                  date: "", <br/>                  imageData: "", <br/>                  imageFile: "", <br/>                  imageName: ""<br/>             });<br/>            setLoader(false)<br/> };</span></pre><p id="415e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上述功能是将图像上传到Firebase存储中，然后将完整的数据(如图像云URL、标题和日期)上传到实时数据库中。</p><p id="43c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是管理界面的最终代码。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><h2 id="727f" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在图库模式下预览数据</h2><p id="7878" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">最后一步是获取我们的数据或图像及其相应的数据，并在我们的主页上像画廊模式一样预览它们。由于我们将所有内容都存储在实时数据库中，因此，我们只需使用Firebase方法从Firebase实时数据库中获取数据。</p><pre class="km kn ko kp gt ma mb mc md aw me bi"><span id="7608" class="lc ld iq mb b gy mf mg l mh mi">const dbRef = firebase.database().ref("images")<br/>dbRef.on("value",  snap =&gt; console.log(snap.val());</span><span id="36e8" class="lc ld iq mb b gy nk mg l mh mi">// This will return all the images stored in "images" real-time database object.</span></pre><p id="7981" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">获取所有图像后，我们将它们存储在我们的全局存储或本地组件状态中，然后使用<code class="fe ne nf ng mb b">map</code>函数，我们将呈现每张图像及其相应的数据。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><h2 id="916c" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">最终产品</h2><p id="19fa" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">下面两张图片显示了两个界面——一个是管理员或用户可以上传数据库中的图片，另一个是用户可以预览上传的图片。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nl"><img src="../Images/5ff1b612572b24ab6e74eb569504ec77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qP438sQg3pz8YenAIQnKeg.png"/></div></div></figure></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><h2 id="3bf5" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">结论</h2><p id="4eb7" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">开发这些类型的内容管理系统是非常有用和强大的。他们不仅自动化了这个过程，加快了开发速度，而且通过在上传图片的管理界面中添加更多的检查，你可以对数据库进行自动检查。我们确实为我们的网站<a class="ae lb" href="http://www.ihatereading.in" rel="noopener ugc nofollow" target="_blank"> iHateReading </a>使用了内容管理系统。</p><pre class="km kn ko kp gt ma mb mc md aw me bi"><span id="2ac6" class="lc ld iq mb b gy mf mg l mh mi">For more such stories, visit our wesbite 💻<a class="ae lb" href="http://www.ihatereading.in" rel="noopener ugc nofollow" target="_blank"><strong class="mb ir">iHateReading</strong></a></span></pre></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><h2 id="23a4" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">更多阅读</h2><div class="nm nn gp gr no np"><a rel="noopener  ugc nofollow" target="_blank" href="/developing-a-full-stack-repository-52dc58c4820"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">开发全栈存储库</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">Next.js中带顺风CSS的Firebase。</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od kv np"/></div></div></a></div><div class="nm nn gp gr no np"><a href="https://medium.com/nerd-for-tech/basic-imperative-underrated-node-js-packages-c02deb8c3ecc" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">基本、必要和被低估的节点JS包。</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">在专业开发中广泛使用的API开发有用包。</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">medium.com</p></div></div><div class="ny l"><div class="oe l oa ob oc ny od kv np"/></div></div></a></div><div class="nm nn gp gr no np"><a href="https://shreyvijayvargiya26.medium.com/5-minutes-read-to-add-github-authentication-via-express-servers-6dd764818124" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">5分钟阅读通过Express服务器添加Github认证</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">不能从浏览器访问Github API，下面是在前端添加Github认证的方法。</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">shreyvijayvargiya26.medium.com</p></div></div><div class="ny l"><div class="of l oa ob oc ny od kv np"/></div></div></a></div><p id="5b57" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="og">更多内容尽在</em><a class="ae lb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="og">plain English . io</em></a></p></div></div>    
</body>
</html>