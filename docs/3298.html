<html>
<head>
<title>JavaScript: Filtering Arrays with the Filter() Method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript:用Filter()方法过滤数组</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-filtering-arrays-filter-method-ac582e4594e2?source=collection_archive---------15-----------------------#2021-07-05">https://javascript.plainenglish.io/javascript-filtering-arrays-filter-method-ac582e4594e2?source=collection_archive---------15-----------------------#2021-07-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="97f3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这一系列文章中，我想谈谈JavaScript中的数组迭代器方法，更具体地说是过滤arras或<strong class="jm io"> Filter () </strong>方法。在一个给定的数组中，我们可能希望通过多种方式与元素进行交互。我甚至可以说，访问数组中的元素并与之交互是日常编程中非常常见的需求。实际上，这种情况非常普遍，几乎所有的编程语言都有内置的方法来迭代数组。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a62f66250c3e252961b0a6831c45be4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CJhsIQRw85fQ1AOG"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@helloimnik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Hello I'm Nik</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="23b1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">那些内置方法减少了我们需要编写的代码行数；具有表达性(易于阅读和理解),这样一旦其他开发人员看到这些方法被调用，他们就知道会发生什么；自动化底层编码的一些部分，例如，一个新的数组被自动创建并作为那些方法的一部分返回，等等。总的来说，这些方法使程序员的生活更加方便，并使我们能够专注于更重要的事情。</p><p id="1bb6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所有这些数组迭代器方法都有一些共同点:在所有情况下，我们传入一个数组，然后使用一些循环遍历该数组，最后，编写一些代码以期望的方式与给定数组的每个元素进行交互/操作。</p><p id="6fdb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">今天我要讲的是<strong class="jm io"> Array.prototype.filter() </strong>内置方法。和往常一样，在<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank"> MDN Web Docs </a>页面上查看该方法的官方定义是一个很好的做法:</p><blockquote class="kz la lb"><p id="d9ec" class="jk jl lc jm b jn jo jp jq jr js jt ju ld jw jx jy le ka kb kc lf ke kf kg kh ig bi translated">" filter()方法创建一个新数组，其中所有元素都通过了由提供的函数实现的测试。"</p></blockquote><p id="8600" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们来分解一下这个定义吧！</p><ul class=""><li id="fd51" class="lg lh in jm b jn jo jr js jv li jz lj kd lk kh ll lm ln lo bi translated">它创建了一个新数组</li><li id="44e6" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated">它遍历原始数组的每个元素</li><li id="77af" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated">它检查数组的每个元素是否满足某个条件</li><li id="bf71" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated">如果满足特定条件，元素将被推入新数组</li><li id="c97e" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated">它返回用满足条件的元素填充的新数组</li></ul><p id="4fab" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">简单来说，这个方法查找并返回满足特定条件的元素列表。</p><p id="5f9b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们在<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank"> MDN Web Docs网站</a>上再看一遍这个例子。给你一个字符串数组，你需要返回一个新的字符串数组，其中每个元素/或字符串多于6个字母。</p><p id="2144" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">方法<strong class="jm io"> Filter () </strong>在array / <em class="lc"> words </em>上被调用，并返回元素的新数组，每个元素多于6个。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="a2d1" class="lz ma in lv b gy mb mc l md me">const words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present'];</span><span id="50a1" class="lz ma in lv b gy mf mc l md me">const result = words.filter(word =&gt; word.length &gt; 6);</span><span id="a1a2" class="lz ma in lv b gy mf mc l md me">console.log(result);<br/>// expected output: Array ["exuberant", "destruction", "present"]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/67d67095312407cae2f2381ee963ce98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/1*3hvxare4UeKMpD6efRgo4Q.png"/></div></figure><p id="2459" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它是如何工作的？<strong class="jm io"> Filter () </strong>方法接受一个参数，一个回调函数，它将调用数组中的每个元素(提醒一下，我们可以使用箭头函数表达式或内联回调函数)。对于传递给回调函数的每个元素，如果回调的返回值为true，则该元素被推入一个新数组。如果回调的返回值为false，则该元素被过滤掉。在检查完初始数组中的每个元素后，<strong class="jm io"> Filter () </strong>返回新数组。</p><p id="0037" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是根据<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank"> MDN网络文档</a>的这个方法的语法:</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="188d" class="lz ma in lv b gy mb mc l md me">// Arrow function<br/>filter((element) =&gt; { ... } )<br/>filter((element, index) =&gt; { ... } )<br/>filter((element, index, array) =&gt; { ... } )<br/><br/>// Callback function<br/>filter(callbackFn)<br/>filter(callbackFn, thisArg)<br/><br/>// Inline callback function<br/>filter(function callbackFn(element) { ... })<br/>filter(function callbackFn(element, index) { ... })<br/>filter(function callbackFn(element, index, array){ ... })<br/>filter(function callbackFn(element, index, array) { ... }, thisArg)</span></pre><p id="c50a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们用一个回调函数重写上面的例子来演示回调函数的语法。将以下代码复制并粘贴到您的控制台中，并检查输出。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="9cb4" class="lz ma in lv b gy mb mc l md me">// Array of words <br/>const words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present'];</span><span id="cd34" class="lz ma in lv b gy mf mc l md me">// Call back function <br/>function callBackFunc (words) {<br/>return words.length &gt; 6;}</span><span id="6d61" class="lz ma in lv b gy mf mc l md me">const result = words.filter(callBackFunc);<br/>console.log(result); <br/>// output-&gt; [ 'exuberant', 'destruction', 'present' ]</span></pre><p id="7f83" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">输出与之前使用箭头函数表达式的输出相同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/d647a4ec0b4d4f263093afae7761d593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JT1QOH5FLYwGzik2XcD8bg.png"/></div></div></figure><p id="16f8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，有了这些知识，让我们构建我们自己版本的<strong class="jm io"> Filter () </strong>方法，以便更好地理解它是如何工作的！为了简单起见，我们将使用上面相同的例子，但是这一次，我们将苹果香草JavaScript来解决这个过滤问题。</p><p id="b61c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里有一个伪代码和代码本身的问题。请阅读，然后复制并粘贴到您的控制台。</p><pre class="kj kk kl km gt lu lv lw lx aw ly bi"><span id="436e" class="lz ma in lv b gy mb mc l md me">function filterMyArray(array) {</span><span id="4f7b" class="lz ma in lv b gy mf mc l md me">// create a new empty array<br/>let newArray = [];</span><span id="6d74" class="lz ma in lv b gy mf mc l md me">// iterate over the original array<br/>for (var i = 0; i &lt; array.length; i++) {</span><span id="d995" class="lz ma in lv b gy mf mc l md me">// if the current element of the original array is more than 6, then add this element into the new array<br/>if (array[i].length &gt; 6) {</span><span id="48a3" class="lz ma in lv b gy mf mc l md me">// push the current element that is more than 6 into the new array<br/>newArray.push(array[i]);<br/>   }<br/>}</span><span id="7cf5" class="lz ma in lv b gy mf mc l md me">// return the new array<br/>return newArray;<br/>}</span><span id="b54d" class="lz ma in lv b gy mf mc l md me">const words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present'];</span><span id="b50e" class="lz ma in lv b gy mf mc l md me">const result = filterMyArray(words);<br/>console.log(result);</span></pre><p id="4475" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当我们使用作为箭头函数表达式或回调函数编写的<strong class="jm io"> Filter () </strong>方法时，输出与之前相同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/864d6ddd3f001695cd840c94e2855470.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_X40Ia9op8QVnOv5-UU97A.png"/></div></div></figure><p id="54e3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的代码演示了如何用普通的JavaScript解决这个过滤问题，尽管它仍然是一个有效的解决方案；JavaScript有自己的内置数组迭代器方法— <strong class="jm io"> Filter () </strong>，它有以下好处:</p><ul class=""><li id="fb9e" class="lg lh in jm b jn jo jr js jv li jz lj kd lk kh ll lm ln lo bi translated">我们不需要为循环创建一个<em class="lc">来迭代/或使用任何其他循环</em></li><li id="a33e" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated">在每次迭代中，当前元素存储在一个变量中，因此我们不需要使用元素的索引值来访问元素</li><li id="bf5e" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated">所有迭代结束后，一个新的数组会自动创建并返回，所以我们不需要在开始时创建一个空数组并将元素放入其中</li><li id="d4dd" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated">仅仅几行代码就比较了普通的JavaScript方法</li><li id="c771" class="lg lh in jm b jn lp jr lq jv lr jz ls kd lt kh ll lm ln lo bi translated">易于阅读和理解/适合所有用户</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/1c35d631b65dce2e1224cafc96c2a016.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*smd_lGwU7oQbKf2O"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@pawel_czerwinski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pawel Czerwinski</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d317" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您觉得这些信息有用，请随时关注我。希望您喜欢这篇关于JavaScript中Filter()方法的简短指南，请保持关注！</p><p id="48d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lc">更多内容请看</em><a class="ae ky" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="lc">plain English . io</em></strong></a></p></div></div>    
</body>
</html>