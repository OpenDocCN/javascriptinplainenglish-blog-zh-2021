<html>
<head>
<title>What’s a Ref Anyway?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">裁判到底是什么？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/whats-a-ref-anyway-2a6979ad173f?source=collection_archive---------11-----------------------#2021-08-09">https://javascript.plainenglish.io/whats-a-ref-anyway-2a6979ad173f?source=collection_archive---------11-----------------------#2021-08-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><h2 id="3df9" class="il im in bd b dl io ip iq ir is it dk iu translated" aria-label="kicker paragraph">学习反应JS</h2><div class=""/><div class=""><h2 id="3ddc" class="pw-subtitle-paragraph jt iw in bd b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk dk translated">反应引用-强制修改子节点</h2></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/2bf23771dad5ea51edc173e48da06f66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w_amYlV6i4IHMVm9jyCvBw.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@ryunosuke_kikuno?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Ryunosuke Kikuno</a> on <a class="ae lb" href="https://unsplash.com/s/photos/library?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7e87" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated">在普通JavaScript中，<code class="fe ly lz ma mb b">DOM</code>的强制性修改相对简单。您通过<code class="fe ly lz ma mb b">document.querySelector()</code>或<code class="fe ly lz ma mb b">document.getElementById()</code>获取一个<code class="fe ly lz ma mb b">DOM</code>节点，要么立即修改它，要么将它存储在一个变量中以备后用。然而，React排除了这些方法，因为它使用了一个<a class="ae lb" href="https://reactjs.org/docs/faq-internals.html" rel="noopener ugc nofollow" target="_blank">虚拟DOM </a>。但是有一些用例需要直接访问一个节点，而不是通过状态和/或属性来控制它。</p><h1 id="7124" class="mc md in bd me mf mg mh mi mj mk ml mm kc mn kd mo kf mp kg mq ki mr kj ms mt bi translated">输入反应参考</h1><blockquote class="mu"><p id="838f" class="mv mw in bd mx my mz na nb nc nd lx dk translated">" Refs提供了一种访问DOM节点或React元素的方法，这些元素是在render方法中创建的."—参考文献和DOM</p></blockquote><p id="59ca" class="pw-post-body-paragraph lc ld in le b lf ne jx lh li nf ka lk ll ng ln lo lp nh lr ls lt ni lv lw lx ig bi translated">一个<code class="fe ly lz ma mb b">ref</code>是一个普通的老式JavaScript对象，只有一个属性<code class="fe ly lz ma mb b">current</code>。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="4337" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated">好极了。那么一个<code class="fe ly lz ma mb b">ref</code>是用来做什么的呢？从React文档中:</p><blockquote class="mu"><p id="0c00" class="mv mw in bd mx my mz na nb nc nd lx dk translated">有几个很好的参考用例:</p><p id="90a5" class="mv mw in bd mx my mz na nb nc nd lx dk translated">-管理焦点、文本选择或媒体播放。</p><p id="b666" class="mv mw in bd mx my mz na nb nc nd lx dk translated">-触发命令式动画。</p><p id="66d6" class="mv mw in bd mx my mz na nb nc nd lx dk translated">-与第三方DOM库集成。</p></blockquote><h1 id="3cc2" class="mc md in bd me mf mg mh mi mj mk ml mm kc nl kd mo kf nm kg mq ki nn kj ms mt bi translated">一个例子:管理焦点</h1><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="591a" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated">上面的例子存储了一个对input元素的引用，作为对<code class="fe ly lz ma mb b">this.inputRef.current</code>的值，允许对节点进行强制性修改。</p><h1 id="5e1a" class="mc md in bd me mf mg mh mi mj mk ml mm kc mn kd mo kf mp kg mq ki mr kj ms mt bi translated">createRef vs useRef</h1><p id="fde5" class="pw-post-body-paragraph lc ld in le b lf no jx lh li np ka lk ll nq ln lo lp nr lr ls lt ns lv lw lx ig bi translated">那么createRef和useRef有什么区别呢？这两个功能的正确用例是什么？答案在于<code class="fe ly lz ma mb b">useRef</code>是React的<a class="ae lb" href="https://reactjs.org/docs/hooks-reference.html" rel="noopener ugc nofollow" target="_blank">钩子API </a>的一部分。</p><p id="262d" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated">所有前面的例子都利用了类组件，将<code class="fe ly lz ma mb b">ref</code>存储为类的属性。功能组件缺少属性，因此策略不起作用。<code class="fe ly lz ma mb b">useRef</code>记忆<code class="fe ly lz ma mb b">ref</code>允许它在渲染之间持续。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="c636" class="pw-post-body-paragraph lc ld in le b lf lg jx lh li lj ka lk ll lm ln lo lp lq lr ls lt lu lv lw lx ig bi translated"><em class="nt">更多内容请看</em><a class="ae lb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="le ix"><em class="nt">plain English . io</em></strong></a></p></div></div>    
</body>
</html>