<html>
<head>
<title>Let’s Build a YouTube Clone with React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们用React构建一个YouTube克隆</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-a-youtube-clone-using-react-part-3-d86db83d3b33?source=collection_archive---------1-----------------------#2021-01-15">https://javascript.plainenglish.io/building-a-youtube-clone-using-react-part-3-d86db83d3b33?source=collection_archive---------1-----------------------#2021-01-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="755b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第3部分:在本教程中，我们将通过构建允许我们按关键字搜索的搜索页面来继续构建YouTube克隆</h2></div><p id="0920" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在第1部分和<a class="ae lb" href="https://medium.com/swlh/building-a-youtube-clone-using-react-part-2-a23a9dded270" rel="noopener"> 2 </a>中，我们从从Youtube数据API v3获取API密钥开始，并构建了推荐视频页面，根据您的国家代码显示最受欢迎的视频。在这一部分中，我们将构建Youtube克隆的搜索页面，它包含通过关键字搜索视频的功能。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/60c39eadc920d4b02808ff679f063568.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IRcjqmAoWr2gUZByJDrVqg.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Search Page that we are going to build</figcaption></figure><p id="3b48" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是构建这个YouTube克隆的部分列表:</p><ul class=""><li id="8938" class="ls lt iq kh b ki kj kl km ko lu ks lv kw lw la lx ly lz ma bi translated">第1部分—获取API键并构建侧栏和标题(<a class="ae lb" href="/@nouman10/building-a-youtube-clone-using-react-part-1-40fb09ae2837" rel="noopener ugc nofollow" target="_blank">这里是</a>)</li><li id="1763" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la lx ly lz ma bi translated">第2部分—建立推荐视频页面(<a class="ae lb" href="https://medium.com/swlh/building-a-youtube-clone-using-react-part-2-a23a9dded270" rel="noopener">此处为</a>)</li><li id="2028" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la lx ly lz ma bi translated">第3部分—构建搜索页面(这一部分)</li><li id="22bf" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la lx ly lz ma bi translated">第4部分—构建视频播放器页面(<a class="ae lb" href="https://nouman10.medium.com/lets-build-a-youtube-clone-with-react-part-4-48dd9e9d8cef" rel="noopener">此处为</a>)</li></ul><p id="6bd5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你不喜欢阅读，对源代码感兴趣，可以滚动到故事的结尾。</p><blockquote class="mg mh mi"><p id="b8a8" class="kf kg mj kh b ki kj jr kk kl km ju kn mk kp kq kr ml kt ku kv mm kx ky kz la ij bi translated"><strong class="kh ir">注意:</strong>本教程假设您对JavaScript和React有基本的了解。</p><p id="27ad" class="kf kg mj kh b ki kj jr kk kl km ju kn mk kp kq kr ml kt ku kv mm kx ky kz la ij bi translated"><strong class="kh ir">注意:</strong>本教程不包含所有的代码，尤其是样式，而是解释了项目的主要部分</p></blockquote></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h1 id="e7b3" class="mu mv iq bd mw mx my mz na nb nc nd ne jw nf jx ng jz nh ka ni kc nj kd nk nl bi translated"><strong class="ak">配置路线</strong></h1><p id="c38c" class="pw-post-body-paragraph kf kg iq kh b ki nm jr kk kl nn ju kn ko no kq kr ks np ku kv kw nq ky kz la ij bi translated">让我们首先为我们的网站配置路由。我们将在<code class="fe nr ns nt nu b">App.js</code>中进行这些更改</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="aa45" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的主页是我们构建的<code class="fe nr ns nt nu b">RecommendedVideos</code>组件。而<code class="fe nr ns nt nu b">SearchPage</code>组件就是我们在本文中要构建的。</p></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h1 id="0c1d" class="mu mv iq bd mw mx my mz na nb nc nd ne jw nf jx ng jz nh ka ni kc nj kd nk nl bi translated">重定向到搜索页面</h1><p id="7306" class="pw-post-body-paragraph kf kg iq kh b ki nm jr kk kl nn ju kn ko no kq kr ks np ku kv kw nq ky kz la ij bi translated">让我们首先添加重定向到搜索路径的功能，以防用户在搜索栏中输入内容。</p><p id="f7c4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们将更新我们的<code class="fe nr ns nt nu b">Header</code>组件，将搜索作为它的状态。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="222a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，单击搜索图标将使用输入栏中的搜索关键字重定向到搜索页面</p></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h1 id="66b5" class="mu mv iq bd mw mx my mz na nb nc nd ne jw nf jx ng jz nh ka ni kc nj kd nk nl bi translated">通道行组件</h1><p id="08ab" class="pw-post-body-paragraph kf kg iq kh b ki nm jr kk kl nn ju kn ko no kq kr ks np ku kv kw nq ky kz la ij bi translated">让我们首先创建一个根据搜索关键字显示<code class="fe nr ns nt nu b">ChannelRow</code>的组件。这将是一个虚拟组件，也就是说，它不会被重定向到实际频道的页面</p><p id="ee29" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">遵循我们在前面部分中使用的相同模式，在<code class="fe nr ns nt nu b">components/</code>文件夹中创建一个ChannelRow文件夹，分别包含两个文件<code class="fe nr ns nt nu b">ChannelRow.js</code>和<code class="fe nr ns nt nu b">ChannelRow.css</code>。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="9ca7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们给组件添加一些样式</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nv nw l"/></div></figure></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h1 id="a4a7" class="mu mv iq bd mw mx my mz na nb nc nd ne jw nf jx ng jz nh ka ni kc nj kd nk nl bi translated">视频行组件</h1><p id="c96b" class="pw-post-body-paragraph kf kg iq kh b ki nm jr kk kl nn ju kn ko no kq kr ks np ku kv kw nq ky kz la ij bi translated">现在，我们将在react中利用可重用组件的力量。我们将构建一个组件，接受视频的细节并呈现它。然后，我们将简单地像使用HTML标签一样使用该组件，并将属性传递给它。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="b9be" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将样式添加到<code class="fe nr ns nt nu b">VideoRow.css</code></p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nv nw l"/></div></figure></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h1 id="10c5" class="mu mv iq bd mw mx my mz na nb nc nd ne jw nf jx ng jz nh ka ni kc nj kd nk nl bi translated">访问API</h1><p id="9e0d" class="pw-post-body-paragraph kf kg iq kh b ki nm jr kk kl nn ju kn ko no kq kr ks np ku kv kw nq ky kz la ij bi translated">让我们现在开始构建<code class="fe nr ns nt nu b">SearchPage</code>组件，但首先我们需要访问API来获取频道和基于搜索关键字的视频。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="3255" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意，这里有两个独立的API调用。一个用于频道，另一个用于视频。收到的输出如下所示:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nx"><img src="../Images/fa37810f3a43defcb8737a30ee44546e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5q8pz7q9REID7UYzBkdyDQ.png"/></div></div></figure><p id="3208" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我已经扩展了频道的结果和视频列表中的一个视频，以便更好地查看我们得到的数据。以下是我们感兴趣的渠道信息:</p><ol class=""><li id="71cb" class="ls lt iq kh b ki kj kl km ko lu ks lv kw lw la ny ly lz ma bi translated">频道Id</li><li id="7aff" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">标题</li><li id="31fa" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">描述</li><li id="af82" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">缩略图中的图像</li></ol><p id="a639" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从视频来看:</p><ol class=""><li id="6fa9" class="ls lt iq kh b ki kj kl km ko lu ks lv kw lw la ny ly lz ma bi translated">视频Id</li><li id="5c8c" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">标题</li><li id="0418" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">缩略图中的图像</li><li id="906a" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">描述</li><li id="5521" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">频道标题</li><li id="1ba6" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">时间戳</li></ol></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h1 id="ae39" class="mu mv iq bd mw mx my mz na nb nc nd ne jw nf jx ng jz nh ka ni kc nj kd nk nl bi translated">助手功能</h1><p id="d332" class="pw-post-body-paragraph kf kg iq kh b ki nm jr kk kl nn ju kn ko no kq kr ks np ku kv kw nq ky kz la ij bi translated">让我们创建两个独立的助手函数，以便从响应中提取所需的数据</p><p id="3407" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将不得不提出一些额外的要求，以及获得有关渠道和视频的统计数据。YouTube API不允许我们基于关键字搜索统计数据，这就是为什么需要使用id发送单独的请求。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nv nw l"/></div></figure></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h1 id="053f" class="mu mv iq bd mw mx my mz na nb nc nd ne jw nf jx ng jz nh ka ni kc nj kd nk nl bi translated">将一切结合在一起</h1><p id="8d34" class="pw-post-body-paragraph kf kg iq kh b ki nm jr kk kl nn ju kn ko no kq kr ks np ku kv kw nq ky kz la ij bi translated">让我们将到目前为止我们已经构建的所有东西合并到<code class="fe nr ns nt nu b">SearchPage</code>组件中。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="3fa4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你注意到我们如何在地图函数中使用<code class="fe nr ns nt nu b">VideoRow</code>来渲染所有的视频了吗？这就是React通过构建我们可以随时重用的组件为我们提供的强大功能。</p><p id="e005" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，让我们给组件添加一些样式</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="nv nw l"/></div></figure></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h1 id="6309" class="mu mv iq bd mw mx my mz na nb nc nd ne jw nf jx ng jz nh ka ni kc nj kd nk nl bi translated">结论</h1><p id="a9b7" class="pw-post-body-paragraph kf kg iq kh b ki nm jr kk kl nn ju kn ko no kq kr ks np ku kv kw nq ky kz la ij bi translated">这部分到此为止。让我们总结一下我们在本教程中所做的工作:</p><ol class=""><li id="d7a2" class="ls lt iq kh b ki kj kl km ko lu ks lv kw lw la ny ly lz ma bi translated">使用<code class="fe nr ns nt nu b">react-router-dom</code>设置到适当组件的路线</li><li id="0efa" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">创建了<code class="fe nr ns nt nu b">ChannelRow</code>和<code class="fe nr ns nt nu b">VideoRow</code>组件来分别渲染频道和视频</li><li id="95d6" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">使用<code class="fe nr ns nt nu b">axios</code>通过搜索关键字访问Youtube API获取数据</li><li id="5eea" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">编写了两个助手函数来清理来自API的响应</li><li id="ad7b" class="ls lt iq kh b ki mb kl mc ko md ks me kw mf la ny ly lz ma bi translated">将所有内容组合到<code class="fe nr ns nt nu b">SearchPage </code>组件中以呈现所有内容。</li></ol><p id="6004" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在下一讲中，我们将创建<code class="fe nr ns nt nu b">VideoPlayer</code>组件，它将呈现和播放您想要的任何特定视频。</p><p id="a2ef" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在我的GitHub上查看完整的源代码</p></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><p id="4b9c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您觉得以上内容对您有用，请分享并随时支持我--&gt;</p><ul class=""><li id="86c7" class="ls lt iq kh b ki kj kl km ko lu ks lv kw lw la lx ly lz ma bi translated">https://www.buymeacoffee.com/nouman10<a class="ae lb" href="https://www.buymeacoffee.com/nouman10" rel="noopener ugc nofollow" target="_blank"/></li></ul></div></div>    
</body>
</html>