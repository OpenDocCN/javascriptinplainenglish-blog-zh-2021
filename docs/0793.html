<html>
<head>
<title>How to add ESLint and Prettier to a React TypeScript Project (2022)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何向React TypeScript项目添加ESLint和appearlier(2022)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/setting-eslint-and-prettier-on-a-react-typescript-project-2021-22993565edf9?source=collection_archive---------0-----------------------#2021-02-19">https://javascript.plainenglish.io/setting-eslint-and-prettier-on-a-react-typescript-project-2021-22993565edf9?source=collection_archive---------0-----------------------#2021-02-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><h1 id="8c62" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">介绍</h1><p id="f358" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">本教程旨在成为设置ESLint和Prettier在React Typescript项目上协同工作的权威指南。</p><p id="5ff1" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">在阅读了大量教程，并努力投入其中后，我决定创建这个权威指南，让任何需要的人生活更轻松。</p><h1 id="be8b" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">为什么要用ESLint和beauty？</h1><p id="1146" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">ESLint是最流行的代码质量规则检查和代码格式化工具之一。</p><p id="592f" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">漂亮是一个代码格式化工具。</p><p id="2b4e" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">那么，如果我也可以只用ESLint来格式化我的代码，为什么还要用更漂亮的呢？简而言之，因为because比ESLint在代码格式化方面做得更好。</p><p id="f77d" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">因此，正如<a class="ae ll" href="https://prettier.io/docs/en/comparison.html" rel="noopener ugc nofollow" target="_blank">beautiful文档</a>所说，<em class="lm">使用beautiful进行格式化，使用linters捕捉bug！</em></p><h1 id="5652" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">开始吧！</h1><p id="a811" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">本文将分为四个部分:</p><ul class=""><li id="1e25" class="ln lo in kk b kl lg kp lh kt lp kx lq lb lr lf ls lt lu lv bi translated">设置ESLint</li><li id="bf17" class="ln lo in kk b kl lw kp lx kt ly kx lz lb ma lf ls lt lu lv bi translated">布置得更漂亮</li><li id="98b5" class="ln lo in kk b kl lw kp lx kt ly kx lz lb ma lf ls lt lu lv bi translated">检查文件内容</li><li id="7833" class="ln lo in kk b kl lw kp lx kt ly kx lz lb ma lf ls lt lu lv bi translated">让ESLint和Prettier一起工作</li></ul><h1 id="4f92" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">设置ESLint</h1><p id="2f80" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">如果您没有在React Typescript项目中设置ESLint，请在继续之前通读下面的这篇文章说明。</p><div class="mb mc gp gr md me"><a href="https://andrebnassis.medium.com/setting-eslint-on-a-react-typescript-project-2021-1190a43ffba" rel="noopener follow" target="_blank"><div class="mf ab fo"><div class="mg ab mh cl cj mi"><h2 class="bd io gy z fp mj fr fs mk fu fw im bi translated">在React Typescript项目上设置ESLint(2021)</h2><div class="ml l"><h3 class="bd b gy z fp mj fr fs mk fu fw dk translated">在React Typescript项目上设置ESLint的权威指南</h3></div><div class="mm l"><p class="bd b dl z fp mj fr fs mk fu fw dk translated">andrebnassis.medium.com</p></div></div><div class="mn l"><div class="mo l mp mq mr mn ms mt me"/></div></div></a></div><h1 id="59f8" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">布置得更漂亮</h1><p id="cdc9" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">同样，如果您的React Typescript项目中没有更漂亮的设置，请在继续之前通读下面的这篇文章说明。</p><div class="mb mc gp gr md me"><a href="https://andrebnassis.medium.com/setting-prettier-on-a-react-typescript-project-2021-f9f0d5a1d6b0" rel="noopener follow" target="_blank"><div class="mf ab fo"><div class="mg ab mh cl cj mi"><h2 class="bd io gy z fp mj fr fs mk fu fw im bi translated">在React Typescript项目中设置更漂亮的效果(2021)</h2><div class="ml l"><h3 class="bd b gy z fp mj fr fs mk fu fw dk translated">在React Typescript项目中设置更漂亮元素的权威指南</h3></div><div class="mm l"><p class="bd b dl z fp mj fr fs mk fu fw dk translated">andrebnassis.medium.com</p></div></div><div class="mn l"><div class="mu l mp mq mr mn ms mt me"/></div></div></a></div><h1 id="c5ba" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">检查文件内容</h1><p id="a7ab" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">为了确保ESLint和Prettier设置正确，让我们快速检查一下您的项目文件。</p><h2 id="fbb2" class="mv jl in bd jm mw mx dn jq my mz dp ju kt na nb jy kx nc nd kc lb ne nf kg ng bi translated">package.json</h2><p id="9ec8" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">它应该包含“<em class="lm"> devDependencies </em>”上的以下包:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="fbaf" class="mv jl in nm b gy nq nr l ns nt">"devDependencies": {<br/>"@typescript-eslint/eslint-plugin": "^4.15.1",<br/>"@typescript-eslint/parser": "^4.15.1",<br/>"eslint": "^7.20.0",<br/>"eslint-config-airbnb": "^18.2.1",<br/>"eslint-import-resolver-typescript": "^2.4.0",<br/>"eslint-plugin-import": "^2.22.1",<br/>"eslint-plugin-jsx-a11y": "^6.4.1",<br/>"eslint-plugin-react": "^7.22.0",<br/>"eslint-plugin-react-hooks": "^4.2.0",<br/>"prettier": "2.2.1"<br/>}</span></pre><p id="303f" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated"><em class="lm"> PS:如果在上面的例子中不匹配，你可以忽略版本号。</em></p><h2 id="a529" class="mv jl in bd jm mw mx dn jq my mz dp ju kt na nb jy kx nc nd kc lb ne nf kg ng bi translated">. prettierrc.json</h2><p id="7b59" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">它应该包含更漂亮的格式规则配置。</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="d2d7" class="mv jl in nm b gy nq nr l ns nt">{<br/>"trailingComma": "es5",<br/>"tabWidth": 4,<br/>"semi": false,<br/>"singleQuote": true<br/>}</span></pre><p id="367c" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated"><em class="lm"> PS:你可以随意修改规则。</em></p><h2 id="d91a" class="mv jl in bd jm mw mx dn jq my mz dp ju kt na nb jy kx nc nd kc lb ne nf kg ng bi translated">. eslintrc.json</h2><p id="416f" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">它应该包含ESLint规则配置。</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="8ff1" class="mv jl in nm b gy nq nr l ns nt">{<br/>   "env":{<br/>      "browser":true,<br/>      "es2021":true<br/>   },<br/>   "extends":[<br/>      "plugin:react/recommended",<br/>      "airbnb",<br/>      "plugin:<a class="ae ll" href="http://twitter.com/typescript" rel="noopener ugc nofollow" target="_blank">@typescript</a>-eslint/recommended"<br/>   ],<br/>   "parser":"<a class="ae ll" href="http://twitter.com/typescript" rel="noopener ugc nofollow" target="_blank">@typescript</a>-eslint/parser",<br/>   "parserOptions":{<br/>      "ecmaFeatures":{<br/>         "jsx":true<br/>      },<br/>      "ecmaVersion":12,<br/>      "sourceType":"module"<br/>   },<br/>   "plugins":[<br/>      "react",<br/>      "<a class="ae ll" href="http://twitter.com/typescript" rel="noopener ugc nofollow" target="_blank">@typescript</a>-eslint",<br/>      "react-hooks"<br/>   ],<br/>   "rules":{<br/>      "no-use-before-define":"off",<br/>      "<a class="ae ll" href="http://twitter.com/typescript" rel="noopener ugc nofollow" target="_blank">@typescript</a>-eslint/no-use-before-define":[<br/>         "error"<br/>      ],<br/>      "react/jsx-filename-extension":[<br/>         "warn",<br/>         {<br/>            "extensions":[<br/>               ".tsx"<br/>            ]<br/>         }<br/>      ],<br/>      "import/extensions":[<br/>         "error",<br/>         "ignorePackages",<br/>         {<br/>            "ts":"never",<br/>            "tsx":"never"<br/>         }<br/>      ],<br/>      "no-shadow":"off",<br/>      "<a class="ae ll" href="http://twitter.com/typescript" rel="noopener ugc nofollow" target="_blank">@typescript</a>-eslint/no-shadow":[<br/>         "error"<br/>      ],<br/>      "<a class="ae ll" href="http://twitter.com/typescript" rel="noopener ugc nofollow" target="_blank">@typescript</a>-eslint/explicit-function-return-type":[<br/>         "error",<br/>         {<br/>            "allowExpressions":true<br/>         }<br/>      ],<br/>      "max-len":[<br/>         "warn",<br/>         {<br/>            "code":80<br/>         }<br/>      ],<br/>      "react-hooks/rules-of-hooks":"error",<br/>      "react-hooks/exhaustive-deps":"warn",<br/>      "import/prefer-default-export":"off",<br/>      "react/prop-types":"off"<br/>   },<br/>   "settings":{<br/>      "import/resolver":{<br/>         "typescript":{<br/>            <br/>         }<br/>      }<br/>   }<br/>}</span></pre><p id="b691" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated"><em class="lm"> PS:你可以随意修改规则。</em></p><h2 id="0998" class="mv jl in bd jm mw mx dn jq my mz dp ju kt na nb jy kx nc nd kc lb ne nf kg ng bi translated">。埃斯林提尼奥勒</h2><p id="8d9e" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">它应该包含ESLint在执行时将忽略的文件。</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="9cf9" class="mv jl in nm b gy nq nr l ns nt">*.css<br/>*.svg</span></pre><p id="778f" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated"><em class="lm"> PS:你可以随意修改这个文件。</em></p><h2 id="251e" class="mv jl in bd jm mw mx dn jq my mz dp ju kt na nb jy kx nc nd kc lb ne nf kg ng bi translated">。忽略不计</h2><p id="f7ec" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">它应该包含执行时Prettier将忽略的文件。</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="2be1" class="mv jl in nm b gy nq nr l ns nt">node_modules</span><span id="3b54" class="mv jl in nm b gy nu nr l ns nt"># Ignore artifacts:<br/>build<br/>coverage</span></pre><p id="dfad" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated"><em class="lm"> PS:你可以随意修改这个文件。</em></p><p id="8f54" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">一切都安排好了吗？酷！让我们继续前进！</p><h1 id="d46a" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">让ESLint和Prettier一起工作</h1><p id="9537" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">在设置了Prettier和ESLint之后，您将会看到，如果您同时执行这两个命令，它们将会在格式规则方面发生冲突。</p><p id="dd57" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">在终端上，执行漂亮和ESLint命令来自动修复我们的'<em class="lm"> App.tsx </em>'文件上的代码:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="c7cf" class="mv jl in nm b gy nq nr l ns nt">npx eslint src/App.tsx --quiet --fix<br/>npx prettier --write src/App.tsx</span></pre><p id="7ad8" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">ESLint和更漂亮地覆盖应用的格式规则:</p><figure class="nh ni nj nk gt nw gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi nv"><img src="../Images/96fc454f4de38b16d22be451760aa9c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*2U8xPStWanlWfz6S8mlSVg.gif"/></div></div><figcaption class="oc od gj gh gi oe of bd b be z dk">Prettier and ESLint outputs for App.tsx file</figcaption></figure><p id="0aba" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">为了解决这个问题，我们可以将ESLint设置为只使用更漂亮的格式规则，并避免那些相互冲突的规则。所以，我们开始吧！</p><h2 id="2138" class="mv jl in bd jm mw mx dn jq my mz dp ju kt na nb jy kx nc nd kc lb ne nf kg ng bi translated">第一步。禁用ESLint格式规则</h2><p id="d157" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">首先要做的是禁用所有ESLint格式规则。</p><ul class=""><li id="ffd5" class="ln lo in kk b kl lg kp lh kt lp kx lq lb lr lf ls lt lu lv bi translated">安装软件包<em class="lm"/></li></ul><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="2706" class="mv jl in nm b gy nq nr l ns nt">npm install --save-dev eslint-config-prettier</span></pre><ul class=""><li id="2a97" class="ln lo in kk b kl lg kp lh kt lp kx lq lb lr lf ls lt lu lv bi translated">在'<em class="lm"> .eslintrc.json </em>'文件上配置<em class="lm">eslint-config-prettle</em></li></ul><p id="237b" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">在“<em class="lm"> .eslintrc.json </em>”文件中，在“<em class="lm">扩展</em>”上添加以下内容:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="a765" class="mv jl in nm b gy nq nr l ns nt">"extends":[<br/>...<br/>"prettier",<br/>"prettier/prettier",<br/>"prettier/react",<br/>"prettier/@typescript-eslint"<br/>]</span></pre><p id="bca3" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">因此，再次运行ESLint和更漂亮的命令:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="0709" class="mv jl in nm b gy nq nr l ns nt">npx eslint src/App.tsx --quiet --fix<br/>npx prettier --write src/App.tsx</span></pre><p id="1dca" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">看到了吗？！ESLint停止使用格式化规则。</p><h2 id="1ec2" class="mv jl in bd jm mw mx dn jq my mz dp ju kt na nb jy kx nc nd kc lb ne nf kg ng bi translated">第二步。让ESLint使用更漂亮的规则</h2><p id="4145" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">现在，让我们让ESLint使用更漂亮的规则作为格式化规则。</p><ul class=""><li id="3c9f" class="ln lo in kk b kl lg kp lh kt lp kx lq lb lr lf ls lt lu lv bi translated">安装包<em class="lm">eslint-plugin-beauty</em></li></ul><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="d40a" class="mv jl in nm b gy nq nr l ns nt">npm install --save-dev eslint-plugin-prettier</span></pre><ul class=""><li id="13eb" class="ln lo in kk b kl lg kp lh kt lp kx lq lb lr lf ls lt lu lv bi translated">在'<em class="lm"> .eslintrc.json </em>'文件上配置<em class="lm">eslint-plugin-beauty</em></li></ul><p id="b44b" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">在'<em class="lm"> .eslintrc.json </em>'文件中，添加以下内容:</p><p id="1e5a" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">—在<em class="lm">“延伸”</em>段上，<strong class="kk io">增加最后一个延伸</strong>:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="d779" class="mv jl in nm b gy nq nr l ns nt">"extends":[<br/>...<br/>"plugin:prettier/recommended"<br/>]</span></pre><p id="d665" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated"><em class="lm">注1:这打开了由</em>eslint-plugin-beauty<em class="lm">插件提供的规则，它在ESLint中运行得更漂亮。</em></p><p id="cacc" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated"><em class="lm">注2:你也可以从</em>扩展<em class="lm">中去掉</em>更漂亮<em class="lm">，既然“</em>插件:更漂亮/推荐<em class="lm">”已经做到了</em> <a class="ae ll" href="https://github.com/prettier/eslint-plugin-prettier#recommended-configuration" rel="noopener ugc nofollow" target="_blank"> <em class="lm">幕后</em> </a> <em class="lm">。</em></p><p id="3e43" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">现在只运行ESLint命令:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="0786" class="mv jl in nm b gy nq nr l ns nt">npx eslint src/App.tsx --quiet --fix</span></pre><p id="1a97" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">看到了吗？！ESLint使用了更漂亮的配置作为格式化规则！耶！</p><h1 id="ba42" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">结论</h1><p id="69d9" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">埃斯林特和漂亮停止战斗，成为最好的朋友，和谐运行！</p><p id="badc" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">还要注意，如果你的代码没有遵循一些更漂亮的格式规则，ESLint也会指出这是一个“更漂亮/更漂亮”的规则错误。</p><p id="5fe1" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">例如，如果我们将导入“react”更改为“react ”,并运行ESLint命令来检查是否应用了规则(没有自动修复):</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="92f1" class="mv jl in nm b gy nq nr l ns nt">npx eslint src/App.tsx --quiet</span></pre><p id="2682" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">我们将得到以下错误:</p><figure class="nh ni nj nk gt nw gh gi paragraph-image"><div class="gh gi og"><img src="../Images/f6ce1ab79eb41b2a489800d37ce66a9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*Vv6q3NMp4bd838qgnwYRiQ.png"/></div></figure><p id="a3b2" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">很酷，对吧？希望你喜欢！</p><h1 id="b799" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">VS代码:执行ESLint +漂亮的自动修复文件时保存</h1><p id="a2eb" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">另外，我将向您展示如何在VS代码上配置auto-fix，但这是一个可选步骤，如果您想在每次保存代码时使用auto-fix运行ESLint+beautiful。</p><ul class=""><li id="73a6" class="ln lo in kk b kl lg kp lh kt lp kx lq lb lr lf ls lt lu lv bi translated">创建一个'<em class="lm">。项目根目录上的vscode' </em>文件夹</li><li id="d556" class="ln lo in kk b kl lw kp lx kt ly kx lz lb ma lf ls lt lu lv bi translated">在<em class="lm">里面创建一个“<em class="lm"> settings.json </em>文件。vscode/ </em>文件夹，并在其中插入以下代码:</li></ul><figure class="nh ni nj nk gt nw gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/3ae8a233aa3ab3b544384f1709b0c0cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:252/format:webp/0*aQqCmmu84pCz9WM5.png"/></div><figcaption class="oc od gj gh gi oe of bd b be z dk">.vscode/settings.json</figcaption></figure><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="89ab" class="mv jl in nm b gy nq nr l ns nt">{<br/>"editor.defaultFormatter": "dbaeumer.vscode-eslint",<br/>"editor.formatOnSave": true,<br/>"eslint.alwaysShowStatus": true,<br/>"editor.codeActionsOnSave": {<br/>"source.fixAll.eslint": true<br/>}<br/>}</span></pre><ul class=""><li id="633a" class="ln lo in kk b kl lg kp lh kt lp kx lq lb lr lf ls lt lu lv bi translated">安装VS代码ESLint扩展</li></ul><p id="9b70" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">您可以转到VS代码“扩展”部分并手动安装它:</p><figure class="nh ni nj nk gt nw gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/22fc80a24f8a294d6f12ae3ab9f6901d.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/0*hMVLfCuIgbr0chQj.png"/></div><figcaption class="oc od gj gh gi oe of bd b be z dk">ESLint Extension for VSCode</figcaption></figure><p id="3c71" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">或者启动VS代码快速打开(Ctrl+P)并运行以下命令:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="eca9" class="mv jl in nm b gy nq nr l ns nt">ext install dbaeumer.vscode-eslint</span></pre><ul class=""><li id="d3e0" class="ln lo in kk b kl lg kp lh kt lp kx lq lb lr lf ls lt lu lv bi translated">允许在VS代码上使用ESLint扩展:</li></ul><p id="bb78" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">第一次使用时，ESLint扩展将被阻止。然后，您应该通过以下方式允许它:</p><p id="3caa" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">1.单击状态栏图标。</p><figure class="nh ni nj nk gt nw gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/f5fc38d033fe344d07dae9b882fe61cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:136/format:webp/0*C1UuTN7C1jMI0m0m.png"/></div><figcaption class="oc od gj gh gi oe of bd b be z dk">ESLint status bar icon on VSCode</figcaption></figure><p id="5326" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">2.将出现一个弹出窗口。选择'<em class="lm">允许</em>选项。</p><figure class="nh ni nj nk gt nw gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/c999c0222917c2a7a4d717856ee4bcd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/0*pBdCcs09a1RHvY-f.png"/></div><figcaption class="oc od gj gh gi oe of bd b be z dk">ESLint extension popup content on first use.</figcaption></figure><p id="d20d" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">搞定了。现在，每个保存的文件都将修复代码，并使用ESLint+prettle规则进行格式化，这些规则可以自动修复。</p><h2 id="3bf5" class="mv jl in bd jm mw mx dn jq my mz dp ju kt na nb jy kx nc nd kc lb ne nf kg ng bi translated">错误:保存时没有格式化JSON文件</h2><p id="3d90" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">如果ESLint扩展在尝试格式化JSON文件时可能有bug。</p><figure class="nh ni nj nk gt nw gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/2b5a2d3cab4dba1639a9cef9cb7206c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*6Fvc3oZbo_JaL_RFstlR7g.png"/></div><figcaption class="oc od gj gh gi oe of bd b be z dk">VSCode ESLint extension bug message</figcaption></figure><p id="5efa" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">幸运的是，我们可以通过在'【T2]上设置另一个扩展名来解决这个问题。vscode/settings.json' 仅用于<em class="lm">。json的文件。</em></p><p id="0c2a" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">扩展选项:</p><ul class=""><li id="b951" class="ln lo in kk b kl lg kp lh kt lp kx lq lb lr lf ls lt lu lv bi translated">更漂亮的扩展(需要安装):</li></ul><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="af69" class="mv jl in nm b gy nq nr l ns nt">"esbenp.prettier-vscode"</span></pre><ul class=""><li id="d231" class="ln lo in kk b kl lg kp lh kt lp kx lq lb lr lf ls lt lu lv bi translated">VSCode JSON内置扩展(无需安装):</li></ul><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="d4e6" class="mv jl in nm b gy nq nr l ns nt">"vscode.json-language-features"</span></pre><p id="2d61" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">使用更漂亮扩展的示例:</p><pre class="nh ni nj nk gt nl nm nn no aw np bi"><span id="7288" class="mv jl in nm b gy nq nr l ns nt">{<br/>"editor.defaultFormatter": "dbaeumer.vscode-eslint",<br/>"editor.formatOnSave": true,<br/>"eslint.alwaysShowStatus": true,<br/>"editor.codeActionsOnSave": {<br/>  "source.fixAll.eslint": true<br/>},<br/>"[json]": {<br/>  "editor.defaultFormatter": "esbenp.prettier-vscode",<br/>  "editor.formatOnSave": true<br/> }<br/>}</span></pre><p id="d75e" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated">PS:我强烈推荐使用prettle扩展，因为如果你为JSON格式设置了一个自定义的prettle设置，那么当通过命令行运行时，它将具有与保存文件相同的格式化行为。</p><h2 id="1891" class="mv jl in bd jm mw mx dn jq my mz dp ju kt na nb jy kx nc nd kc lb ne nf kg ng bi translated">参考</h2><div class="mb mc gp gr md me"><a href="https://prettier.io/docs/en/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="mf ab fo"><div class="mg ab mh cl cj mi"><h2 class="bd io gy z fp mj fr fs mk fu fw im bi translated">什么更漂亮？较美丽</h2><div class="ml l"><h3 class="bd b gy z fp mj fr fs mk fu fw dk translated">漂亮是一个固执己见的代码格式化程序，支持:它删除所有原始样式，并确保所有…</h3></div><div class="mm l"><p class="bd b dl z fp mj fr fs mk fu fw dk translated">更漂亮. io</p></div></div><div class="mn l"><div class="om l mp mq mr mn ms mt me"/></div></div></a></div><div class="mb mc gp gr md me"><a href="https://github.com/prettier/eslint-config-prettier" rel="noopener  ugc nofollow" target="_blank"><div class="mf ab fo"><div class="mg ab mh cl cj mi"><h2 class="bd io gy z fp mj fr fs mk fu fw im bi translated">更漂亮/eslint-config-更漂亮</h2><div class="ml l"><h3 class="bd b gy z fp mj fr fs mk fu fw dk translated">关闭所有不必要的或可能与“更漂亮”相冲突的规则。这让你可以使用你最喜欢的共享…</h3></div><div class="mm l"><p class="bd b dl z fp mj fr fs mk fu fw dk translated">github.com</p></div></div><div class="mn l"><div class="on l mp mq mr mn ms mt me"/></div></div></a></div><div class="mb mc gp gr md me"><a href="https://github.com/prettier/eslint-plugin-prettier" rel="noopener  ugc nofollow" target="_blank"><div class="mf ab fo"><div class="mg ab mh cl cj mi"><h2 class="bd io gy z fp mj fr fs mk fu fw im bi translated">更漂亮/eslint-plugin-更漂亮</h2><div class="ml l"><h3 class="bd b gy z fp mj fr fs mk fu fw dk translated">作为ESLint规则运行起来更漂亮，并将差异报告为单个ESLint问题。如果你想要的格式…</h3></div><div class="mm l"><p class="bd b dl z fp mj fr fs mk fu fw dk translated">github.com</p></div></div><div class="mn l"><div class="oo l mp mq mr mn ms mt me"/></div></div></a></div><div class="mb mc gp gr md me"><a href="https://glebbahmutov.com/blog/configure-prettier-in-vscode/" rel="noopener  ugc nofollow" target="_blank"><div class="mf ab fo"><div class="mg ab mh cl cj mi"><h2 class="bd io gy z fp mj fr fs mk fu fw im bi translated">如何配置更漂亮和VSCode</h2><div class="ml l"><h3 class="bd b gy z fp mj fr fs mk fu fw dk translated">如何为每个项目设置更漂亮的，ESLint和VSCode，并让你的JavaScript自动格式化，而不用拉你的…</h3></div><div class="mm l"><p class="bd b dl z fp mj fr fs mk fu fw dk translated">glebbahmutov.com</p></div></div><div class="mn l"><div class="op l mp mq mr mn ms mt me"/></div></div></a></div></div><div class="ab cl oq or hr os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ig ih ii ij ik"><h2 id="b5e2" class="mv jl in bd jm mw mx dn jq my mz dp ju kt na nb jy kx nc nd kc lb ne nf kg ng bi translated">进一步阅读</h2><div class="mb mc gp gr md me"><a href="https://bit.cloud/blog/sharing-types-between-your-frontend-and-backend-applications-l5qih48g" rel="noopener  ugc nofollow" target="_blank"><div class="mf ab fo"><div class="mg ab mh cl cj mi"><h2 class="bd io gy z fp mj fr fs mk fu fw im bi translated">在前端和后端应用程序之间共享类型</h2><div class="ml l"><h3 class="bd b gy z fp mj fr fs mk fu fw dk translated">您的后端API已经更新，可以返回新类型的数据。必须通知前端团队进行更新…</h3></div><div class="mm l"><p class="bd b dl z fp mj fr fs mk fu fw dk translated">比特云</p></div></div><div class="mn l"><div class="ox l mp mq mr mn ms mt me"/></div></div></a></div></div><div class="ab cl oq or hr os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ig ih ii ij ik"><p id="2076" class="pw-post-body-paragraph ki kj in kk b kl lg kn ko kp lh kr ks kt li kv kw kx lj kz la lb lk ld le lf ig bi translated"><em class="lm">更多内容请看</em><a class="ae ll" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kk io"><em class="lm">plain English . io</em></strong></a><em class="lm">。报名参加我们的</em> <a class="ae ll" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk io"> <em class="lm">免费周报</em> </strong> </a> <em class="lm">。关注我们关于</em><a class="ae ll" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kk io"><em class="lm">Twitter</em></strong></a><a class="ae ll" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kk io"><em class="lm">LinkedIn</em></strong></a><em class="lm"/><a class="ae ll" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kk io"><em class="lm">YouTube</em></strong></a><em class="lm"/><a class="ae ll" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kk io"><em class="lm">不和</em> </strong> </a> <em class="lm">。对增长黑客感兴趣？检查</em> <a class="ae ll" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk io"> <em class="lm">电路</em> </strong> </a> <em class="lm">。</em></p></div></div>    
</body>
</html>