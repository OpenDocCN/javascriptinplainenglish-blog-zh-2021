<html>
<head>
<title>Exploring Reduce in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索JavaScript中的Reduce</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/exploring-reduce-in-javascript-6a622a22d4f8?source=collection_archive---------10-----------------------#2021-05-14">https://javascript.plainenglish.io/exploring-reduce-in-javascript-6a622a22d4f8?source=collection_archive---------10-----------------------#2021-05-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/77346050dff0d408eb8447fd119eec33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lg6aMlhtbHjGcxQ1"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@oskaryil?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Oskar Yildiz</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0222" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本教程中，我们将探索JavaScript最臭名昭著的数组方法之一:<em class="ky"> reduce </em>。希望我们能够将其归结为基础，并学习使用这种强大方法的新方法。</p><p id="7a26" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">大多数时候，当考虑<em class="ky">减少</em>时，我们会想到一种简便的方法来对数组中的值求和:</p><figure class="kz la lb lc gt jo"><div class="bz fp l di"><div class="ld le l"/></div></figure><p id="29de" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">虽然这很有用，但还有另一种方法可以使用<em class="ky"> reduce </em>来展示它的强大和多功能性。我们将学习如何使用这个方法来计算数组中唯一的元素。我们将把一个数组转换成一个对象，其中包含每个元素的单独总和。我们要如何表演这样的魔术？很高兴你问了！</p><p id="d24f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">首先，让我们实际探索一下<em class="ky"> reduce </em>是如何工作的。这需要两个参数。第一个是执行归约操作的函数，其任务是将两个值合并或归约为一个值，然后返回归约后的值。第二个可选参数是传递给函数的初始值。</p><p id="a5ac" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">传递给<em class="ky"> reduce </em>方法的函数最多可以包含四个参数，但主要只使用前两个，这也是我们在本教程中要关注的。关于<em class="ky">如何减少</em>工作的完整文档可以在<a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="0ede" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第一个参数是函数到目前为止的累积结果。在第一次调用时，它是我们作为第二个参数传递给<em class="ky"> reduce </em>的初始值。在随后的调用中，它是上一次调用该函数时返回的值。如果我们在没有初始值的情况下调用<em class="ky"> reduce </em>，它将使用数组的第一个元素作为初始值。</p><p id="df19" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第二个参数是当前值。它是每次调用函数时数组中正在处理的当前元素。</p><p id="6328" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因此，通过利用这些规则，我们可以实现一种将数组转换为对象的方法。让我们探索下面的代码。</p><figure class="kz la lb lc gt jo"><div class="bz fp l di"><div class="ld le l"/></div></figure><p id="ef56" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">毫不奇怪，我们的动物园变量是一组动物。它们没有特定的顺序，有些是重复的。我们想把这个数组变成一个对象，它的键是动物本身，值是数组中动物的数量。</p><p id="11fd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> animalCount </strong>变量被赋予了由<em class="ky"> reduce </em>方法修改的<strong class="kc io">动物园</strong>数组。我们在方法内部使用了一个arrow函数，带有参数<strong class="kc io"> acc </strong>(累加器)和<strong class="kc io"> animal </strong>(每次调用时的数组元素)。注意，我们传递给<em class="ky"> reduce </em>的初始值(在第10行)是一个空对象{}。接下来是真正的工作。</p><p id="e6b4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们的<em class="ky"> if…else </em>语句的第一行检查当前<strong class="kc io"> acc </strong>对象是否已经包含了<strong class="kc io">animal<em class="ky"/></strong>element<strong class="kc io"><em class="ky"/></strong>作为属性。如果该属性不存在，则返回一个值<strong class="kc io"> undefined </strong>，该值为<em class="ky"> falsy </em>，因此计算为false。在这种情况下，执行<em class="ky"> else </em>子句(在第7行)，创建一个新的属性并给它赋值1。</p><p id="d525" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果<strong class="kc io"> acc </strong>对象包含<strong class="kc io"> animal </strong>元素作为属性，则执行第5行，将现有属性递增1。</p><p id="1b89" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后，在第9行，<strong class="kc io"> acc </strong>对象被返回，从而继续通过<strong class="kc io"> zoo </strong>数组，直到所有元素都被寻址。最后，数组被完全转换成一个对象，现在叫做<strong class="kc io"> animalCount </strong>。</p><p id="37b7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">另外，您可以使用<em class="ky">三元运算符</em>将<em class="ky"> if…else </em>语句转换成一行:</p><figure class="kz la lb lc gt jo"><div class="bz fp l di"><div class="ld le l"/></div></figure><p id="153a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这只是暗示了这个惊人的JavaScript数组方法的能力和潜力。希望我们已经对它的用法有了更好的理解和欣赏，我鼓励每个人去探索这些新知识带来的机会。</p><p id="e26c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢跟随和快乐编码！</p><p id="f574" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">更多内容请看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ky">plain English . io</em></a></p></div></div>    
</body>
</html>