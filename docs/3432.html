<html>
<head>
<title>I Never Truly Understood How to Make API Requests Till I Learned About Axios</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">直到我了解了Axios，我才真正理解了如何发出API请求</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/understanding-axios-to-send-api-requests-in-react-very-basic-ef8b953a5828?source=collection_archive---------14-----------------------#2021-07-11">https://javascript.plainenglish.io/understanding-axios-to-send-api-requests-in-react-very-basic-ef8b953a5828?source=collection_archive---------14-----------------------#2021-07-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="c279" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解Axios在React中发送API请求的基础知识</h2></div><p id="cd4a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我学习编码的大部分时间里，除了拥有一个db.json文件和运行一个json服务器之外，我从未真正理解如何向API发送请求。直到我了解了Axios，事情才开始明朗起来。因此，如果您想使用Yelp Fusion API或Unsplash，这可能是一个很好的参考。</p><p id="2d3e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第一，<code class="fe ky kz la lb b">npm install axios</code>。</p><p id="74d4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">二、<code class="fe ky kz la lb b">import axios from 'axios'</code>在你的App.js文件里。</p><p id="d730" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">(我将以简单的搜索提交的形式进行演示。)</p><p id="e144" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是一个简单的搜索组件:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/3b496a8ecd6c6733627f1c99217435d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HEFlW3PF8IKS_zCznpXuGg.png"/></div></div></figure><p id="d9f0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是App.js文件:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lo"><img src="../Images/6de91aa32061f29a7237d9427b2e6a2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wZBF-cza87yUgNhKhfV3iw.png"/></div></div></figure><p id="4a0d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">假设你了解<code class="fe ky kz la lb b">state</code>、<code class="fe ky kz la lb b">setState()</code>、<code class="fe ky kz la lb b">props</code>和事件是如何运作的，理解第一个图像是相当容易的。</p><p id="8579" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在是时候解释一下这意味着什么了。但是首先，重要的是要注意这些是基于类的组件。因此，由于它们是基于类的语法，由于关键字<code class="fe ky kz la lb b">this</code>的复杂性，安全措施最好使用箭头函数。</p><p id="f2ee" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了简单起见，<code class="fe ky kz la lb b">onSearchSubmit</code>函数接受一个参数<code class="fe ky kz la lb b">term</code>，并使用一个名为<code class="fe ky kz la lb b">onSubmit</code>的自定义属性传递给<code class="fe ky kz la lb b">&lt;SearchBar /&gt;</code>组件。从那里，我们从SearchBar组件的状态中获取术语。</p><p id="6daf" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在选择你一直渴望使用的API。为此，我使用Unsplash，但你可以使用任何。假设您已经选择了一个API并创建了一个帐户。如果你要执行一个<code class="fe ky kz la lb b">GET</code>请求，那么使用给你的链接来实现你的目标。目前，它将以“搜索”结束。这个链接作为字符串形式的第一个参数放在<code class="fe ky kz la lb b">axios.get()</code>中。</p><p id="9bb2" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您在Unsplashed上创建了一个帐户，或者如果您正在使用Postman，您将会在与您的搜索相关的地方看到单词<code class="fe ky kz la lb b">params</code>。让我们以邮递员为例。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lp"><img src="../Images/e01e67d5bdd8129e03e233a96f1e6a59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ogsRnCD6kPhXGVuddemogQ.png"/></div></div></figure><p id="84f9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">请注意URL、“params”选项卡和“query params”表。当我们在上面这个图像的代码中使用<code class="fe ky kz la lb b">params: {query: term}</code>时，这实际上就是我们在请求中所寻找的。</p><p id="830d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是在您进行任何搜索之前，您需要包含一个标题，其中包含帐户完成时给您的访问密钥的授权。该令牌放在第二个图像的红色标记区域。瞧啊。您提出了第一个API请求。从那时起，如何使用这些数据就取决于你了。</p><p id="dee0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lq">更多内容看</em><a class="ae lr" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="lq">plain English . io</em></strong></a></p></div></div>    
</body>
</html>