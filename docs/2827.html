<html>
<head>
<title>Higher-Order Functions in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的高阶函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/higher-order-functions-in-javascript-12116b5b0bb1?source=collection_archive---------5-----------------------#2021-06-09">https://javascript.plainenglish.io/higher-order-functions-in-javascript-12116b5b0bb1?source=collection_archive---------5-----------------------#2021-06-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/f7c76b5d08ac794b00c2aa2037d40a95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6pt8UhEhtIQDouEhgDNPIA.png"/></div></div></figure><p id="81ba" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">作为一名JavaScript开发人员，您会经常使用高阶函数。因此，对这些功能有一个适当的理解是至关重要的。</p><p id="d1e5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">目前我看到人们在发现<code class="fe kt ku kv kw b">reduce()</code>技术时经常感到困惑，然而我已经详细地阐明了一切，所以试着一点一点地理解它，我确信你将能够理解一切。</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><h1 id="0aca" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">什么是高阶函数？</h1><p id="4611" class="pw-post-body-paragraph jv jw in jx b jy mc ka kb kc md ke kf kg me ki kj kk mf km kn ko mg kq kr ks ig bi translated">简单来说，高阶函数就是那些以其他函数为自变量或者返回其他函数的函数。在高阶函数中作为参数传递的函数称为回调函数。</p><p id="58a1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为什么要用高阶函数？</p><ul class=""><li id="d467" class="mh mi in jx b jy jz kc kd kg mj kk mk ko ml ks mm mn mo mp bi translated">它们帮助我们编写干净简单的代码</li><li id="7895" class="mh mi in jx b jy mq kc mr kg ms kk mt ko mu ks mm mn mo mp bi translated">因为代码是干净的，所以调试起来会更容易</li></ul><p id="3a1e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在JavaScript有了一些内置的高阶函数。你可能已经使用过它们，甚至没有意识到这一点。这些都是类似<code class="fe kt ku kv kw b">(filter(), reduce(), sort(), forEach())</code>的功能。</p></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><h1 id="2324" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">过滤器()</h1><p id="ce9a" class="pw-post-body-paragraph jv jw in jx b jy mc ka kb kc md ke kf kg me ki kj kk mf km kn ko mg kq kr ks ig bi translated">filter方法返回一个新的元素数组，该数组通过了回调函数提供的特定测试。由于<code class="fe kt ku kv kw b">filter</code>采用回调函数，因此<code class="fe kt ku kv kw b">filter()</code>被称为高阶函数。现在传入<code class="fe kt ku kv kw b">filter()</code>的回调函数被称为高阶函数。</p><ul class=""><li id="b4d0" class="mh mi in jx b jy jz kc kd kg mj kk mk ko ml ks mm mn mo mp bi translated"><code class="fe kt ku kv kw b">value of the element</code>(必选)</li><li id="326f" class="mh mi in jx b jy mq kc mr kg ms kk mt ko mu ks mm mn mo mp bi translated"><code class="fe kt ku kv kw b">index of the element</code>(可选)</li><li id="c474" class="mh mi in jx b jy mq kc mr kg ms kk mt ko mu ks mm mn mo mp bi translated"><code class="fe kt ku kv kw b">the array object</code>(可选)</li></ul><pre class="mv mw mx my gt mz kw na nb aw nc bi"><span id="cd50" class="nd lf in kw b gy ne nf l ng nh">let arr [1,2,3,4,5]; </span><span id="7d51" class="nd lf in kw b gy ni nf l ng nh">const resultant Array = arr.filter((element ) =&gt; {<br/>    return element &gt; 3; <br/>})</span><span id="8933" class="nd lf in kw b gy ni nf l ng nh">console.log(resultantArray); // [4, 5]</span></pre><p id="24cf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在上面的例子中，所发生的是<code class="fe kt ku kv kw b">arr</code>数组的元素被一个接一个地传递到<code class="fe kt ku kv kw b">filter()</code>回调方法中，并且它们被测试用于特定的测试<code class="fe kt ku kv kw b">element &gt; 3</code>，那些通过测试的元素被推入<code class="fe kt ku kv kw b">resultantArray</code>，这就是为什么输出是[4，5]，因为4和5是唯一通过测试的元素。</p><p id="5271" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b">element argument</code>正在逐个获取<code class="fe kt ku kv kw b">arr</code>数组中元素的值，它将首先变为1，然后它将测试<code class="fe kt ku kv kw b">1&gt;3</code>如果为真，1将被推入结果数组，如果为假，它将被跳过到下一个元素。</p><p id="246e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">示例:-</p><pre class="mv mw mx my gt mz kw na nb aw nc bi"><span id="1d42" class="nd lf in kw b gy ne nf l ng nh">// filter age that is less than 18</span><span id="7734" class="nd lf in kw b gy ni nf l ng nh">const ageArray = [10, 12, 35, 55, 40, 32, 15]; </span><span id="cb0e" class="nd lf in kw b gy ni nf l ng nh">const filterAgeArray = ageArray.filter((age)=&gt; {<br/>    return age &lt; 18; &gt;<br/>}); </span><span id="419b" class="nd lf in kw b gy ni nf l ng nh">console.log(filterAgeArray); <br/>// [10, 12, 15]</span><span id="ecb6" class="nd lf in kw b gy ni nf l ng nh">------------</span><span id="9bfd" class="nd lf in kw b gy ni nf l ng nh">// /filter positive numbers</span><span id="e797" class="nd lf in kw b gy ni nf l ng nh">const numArray = [-2, 1, 50, 20, -47, -40]; </span><span id="c4be" class="nd lf in kw b gy ni nf l ng nh">const positiveArray = numArray.filter((num) =&gt; {<br/>    return num &gt; 0; <br/>}); </span><span id="1014" class="nd lf in kw b gy ni nf l ng nh">console.log(positiveArray);<br/>// [1, 50, 20]</span><span id="c507" class="nd lf in kw b gy ni nf l ng nh">------------</span><span id="7dff" class="nd lf in kw b gy ni nf l ng nh">// filter names that contains `sh` in it</span><span id="c2d7" class="nd lf in kw b gy ni nf l ng nh">const namesArray = ["samuel", "rahul", "harsh", "hitesh"]; </span><span id="662c" class="nd lf in kw b gy ni nf l ng nh">const filterNameArray = namesArray.filter((name) =&gt;{<br/>    return name.includes("sh"); <br/>}); </span><span id="6f8a" class="nd lf in kw b gy ni nf l ng nh">console.log(filterNameArray); <br/>// ["harsh", "hitesh"]</span></pre></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><h1 id="f65e" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">地图()</h1><p id="8ee2" class="pw-post-body-paragraph jv jw in jx b jy mc ka kb kc md ke kf kg me ki kj kk mf km kn ko mg kq kr ks ig bi translated">顾名思义，<code class="fe kt ku kv kw b">map()</code>方法用于将现有数组的值映射到新值，并将新值推送到新数组，然后返回新数组。现在，<code class="fe kt ku kv kw b">map()</code>也采用回调函数，因此它被称为高阶函数。</p><p id="c08f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">传递给<code class="fe kt ku kv kw b">map()</code>方法的回调函数有三个参数:-</p><ul class=""><li id="cc5d" class="mh mi in jx b jy jz kc kd kg mj kk mk ko ml ks mm mn mo mp bi translated"><code class="fe kt ku kv kw b">values of the element</code>(必需)</li><li id="cd82" class="mh mi in jx b jy mq kc mr kg ms kk mt ko mu ks mm mn mo mp bi translated"><code class="fe kt ku kv kw b">index of the element</code>(可选)</li><li id="97da" class="mh mi in jx b jy mq kc mr kg ms kk mt ko mu ks mm mn mo mp bi translated"><code class="fe kt ku kv kw b">the array object</code>(可选)</li></ul><pre class="mv mw mx my gt mz kw na nb aw nc bi"><span id="c209" class="nd lf in kw b gy ne nf l ng nh">const numArray = [1, 5, 3, 6, 4, 7]; </span><span id="5136" class="nd lf in kw b gy ni nf l ng nh">const increasedArray = numArray.map((element) =&gt; {<br/>    return element + 1; <br/>}); </span><span id="1f03" class="nd lf in kw b gy ni nf l ng nh">console.log(increasedArray);<br/>[2, 6, 4, 7, 5, 8]</span></pre><p id="ca17" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">就像在<code class="fe kt ku kv kw b">filter()</code>中一样，numArray的元素将被一个接一个地传递给<code class="fe kt ku kv kw b">map()</code>回调函数(作为元素参数),它们将被映射到一个新的值<code class="fe kt ku kv kw b">element + 1</code>,然后它们将被推入<code class="fe kt ku kv kw b">increasedArray</code>。</p><p id="24a2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，1将获得一个作为元素参数的传递，它将获得到新值<code class="fe kt ku kv kw b">element + 1</code>的映射，这样1 + 1(因为这里元素是1)和2将被推入<code class="fe kt ku kv kw b">increasedArray</code>中，以此类推，得到5、3、6、4、7。</p><p id="c4cc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">示例:-</p><pre class="mv mw mx my gt mz kw na nb aw nc bi"><span id="6d97" class="nd lf in kw b gy ne nf l ng nh">// exponentiate every number on an array</span><span id="5c48" class="nd lf in kw b gy ni nf l ng nh">const numArray = [2, 3, 4, 5, 15]; </span><span id="668b" class="nd lf in kw b gy ni nf l ng nh">const poweredArray = numArray.map((number) =&gt; {<br/>    return number * number; <br/>}); </span><span id="6db5" class="nd lf in kw b gy ni nf l ng nh">console.log(poweredArray); <br/>// [4, 9 ,16, 25, 144, 225]</span><span id="c7d5" class="nd lf in kw b gy ni nf l ng nh">// extract the marks of student</span><span id="c752" class="nd lf in kw b gy ni nf l ng nh">const studentsArray = [<br/>    {<br/>        name: "Rahul", <br/>        marks: 45, <br/>    }, <br/>    {<br/>        name: "Samuel", <br/>        marks: 85, <br/>    }, <br/>    {<br/>        name: "Chris", <br/>        marks: 25, <br/>    },<br/>]; </span><span id="0dbc" class="nd lf in kw b gy ni nf l ng nh">const ScoreArray = studentsArray.map((student) =&gt; {<br/>    return student.marks; <br/>}); </span><span id="4e99" class="nd lf in kw b gy ni nf l ng nh">console.log(scoreArray); <br/>// [45, 85, 25]</span></pre><h1 id="91cc" class="le lf in bd lg lh nj lj lk ll nk ln lo lp nl lr ls lt nm lv lw lx nn lz ma mb bi translated">减少()</h1><p id="10f3" class="pw-post-body-paragraph jv jw in jx b jy mc ka kb kc md ke kf kg me ki kj kk mf km kn ko mg kq kr ks ig bi translated"><code class="fe kt ku kv kw b">reduce()</code>方法用于将数组简化为单个值，就像<code class="fe kt ku kv kw b">filter()</code>和<code class="fe kt ku kv kw b">map()</code>一样，<code class="fe kt ku kv kw b">reduce()</code>也将回调函数作为参数，因此它被称为高阶函数。酪<code class="fe kt ku kv kw b">reduce()</code>除了回调函数之外还多了一个参数，那就是<code class="fe kt ku kv kw b">initialValue</code>。同样，像<code class="fe kt ku kv kw b">filter()</code>和<code class="fe kt ku kv kw b">map()</code>一样，传入<code class="fe kt ku kv kw b">reduce()</code>的回调函数接受一些参数，但传入reduce的回调函数接受4个参数，而不是3个。</p><ul class=""><li id="363d" class="mh mi in jx b jy jz kc kd kg mj kk mk ko ml ks mm mn mo mp bi translated"><code class="fe kt ku kv kw b">total</code>(必填)</li><li id="0888" class="mh mi in jx b jy mq kc mr kg ms kk mt ko mu ks mm mn mo mp bi translated"><code class="fe kt ku kv kw b">value of the elements</code>(必需)</li><li id="376f" class="mh mi in jx b jy mq kc mr kg ms kk mt ko mu ks mm mn mo mp bi translated"><code class="fe kt ku kv kw b">index of the element</code>(可选)</li><li id="f083" class="mh mi in jx b jy mq kc mr kg ms kk mt ko mu ks mm mn mo mp bi translated"><code class="fe kt ku kv kw b">the array object</code>(可选)</li></ul><pre class="mv mw mx my gt mz kw na nb aw nc bi"><span id="011a" class="nd lf in kw b gy ne nf l ng nh">// A basic example reduce()</span><span id="b5c3" class="nd lf in kw b gy ni nf l ng nh">const numArray = [1, 2, 3, 4, 5]; </span><span id="9684" class="nd lf in kw b gy ni nf l ng nh">const sum = numArray.reduce((total, num) =&gt; {<br/>    return total + num; <br/>}); </span><span id="c538" class="nd lf in kw b gy ni nf l ng nh">console.log(sum);</span></pre><p id="5143" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们首先理解什么是total参数:- Total参数是由<code class="fe kt ku kv kw b">reduce()</code>函数返回的前一个值，现在当<code class="fe kt ku kv kw b">reduce()</code>第一次运行时，将没有前一个返回值，因此<code class="fe kt ku kv kw b">total argument</code>第一次等于initialValue(还记得我们传递给<code class="fe kt ku kv kw b">reduce()</code>的第二个参数)。</p><p id="577d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们的例子中，我们还没有使用initialValue，所以当我们不传递initialValue时，reduce()方法跳过numArray的第一个元素，成为total参数的值。</p><p id="60c8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们的例子中，我们没有传递initialValue，所以numArray的第一个元素使得<code class="fe kt ku kv kw b">1</code>将成为total参数的值，<code class="fe kt ku kv kw b">numArray</code>的第二个元素将作为num参数传递，reduce将返回<code class="fe kt ku kv kw b">total + num</code>，使得<code class="fe kt ku kv kw b">1+2 = 3</code>，3将成为total的新值，现在来自<code class="fe kt ku kv kw b">numArray</code>的第三个元素将作为num参数传递到<code class="fe kt ku kv kw b">reduce()</code>回调中，reduce将再次返回total + num，即3 + 3 = 6，6将成为total的新值，依此类推。</p><p id="3451" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">(这个解释有点强硬和混乱。如果你试着循序渐进地学习，你会掌握的。</p><h2 id="d4aa" class="nd lf in bd lg no np dn lk nq nr dp lo kg ns nt ls kk nu nv lw ko nw nx ma ny bi translated">初始值参数</h2><p id="0694" class="pw-post-body-paragraph jv jw in jx b jy mc ka kb kc md ke kf kg me ki kj kk mf km kn ko mg kq kr ks ig bi translated"><strong class="jx io"> initialValue </strong>顾名思义，是total参数的初始值，因为我们知道当<code class="fe kt ku kv kw b">reduce()</code>第一次运行时，没有先前的返回值，因此来自现有数组的第一个元素(在我们的例子中是numArray)成为total参数的值。所以不那么做，我们可以给total参数一个初值(记住initial value会是total参数的初值，total参数后面会变成reduce()之前的返回值)。</p><p id="1f25" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">注意:- </strong>当您使用<strong class="jx io"> initialValue </strong>参数时，<strong class="jx io"> numArray </strong>不会跳过它的第一个元素，因此每个元素都会被传递到<code class="fe kt ku kv kw b">reduce()</code>回调中。</p><p id="8dbb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">具有初始值的reduce()的语法:-</p><pre class="mv mw mx my gt mz kw na nb aw nc bi"><span id="ac61" class="nd lf in kw b gy ne nf l ng nh">const resultantArray = existingArray.reduce((total,element,index.array)=&gt; {<br/>    // return something<br/>}, initialValue);</span></pre></div><div class="ab cl kx ky hr kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ig ih ii ij ik"><p id="57e7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">感谢您的阅读！⚡</p><p id="d0ce" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nz">更多内容请看</em><a class="ae oa" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="nz">plain English . io</em></a></p></div></div>    
</body>
</html>