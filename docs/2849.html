<html>
<head>
<title>Working with Mouse Actions in Cypress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Cypress中使用鼠标动作</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/working-with-mouse-actions-in-cypress-e7ef22aa4b89?source=collection_archive---------8-----------------------#2021-06-10">https://javascript.plainenglish.io/working-with-mouse-actions-in-cypress-e7ef22aa4b89?source=collection_archive---------8-----------------------#2021-06-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="4e37" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们都知道，随着自动化的发展，软件测试已经走了很长的路，因为它有很多好处，比如节省时间，早期的错误捕获等等。随着时间的推移，各种测试框架已经被引入不同的平台。其中一个就是Cypress，它用于web应用程序测试用例的自动化。</p><p id="1398" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Cypress帮助QA工程师以更快、更可靠的方式编写测试用例，并且它的设置也非常简单快捷。Cypress在许多方面让自动化变得更加容易。几乎所有传统框架要求用户自己编写的任务都有一个插件。</p><p id="701a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">其中一个被Cypress简化的领域是鼠标功能，比如拖放。Cypress自带一个名为trigger的内置函数。Trigger帮助用户轻松地执行鼠标操作。为此，它使用了一些属性:</p><ul class=""><li id="d6c8" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">事件名称</li><li id="ea7d" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">x坐标</li><li id="c4df" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">y坐标</li><li id="f2cf" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">其他选项</li></ul><p id="e184" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们讨论其中的几个。</p><p id="ded2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">鼠标悬停&amp;鼠标抬起</strong></p><p id="051b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Mouseover和Mouseup的组合用于模拟许多不同的动作。</p><p id="0d24" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如，用户可以执行长按或点击特定的持续时间。</p><blockquote class="kw kx ky"><p id="8fa4" class="jk jl kz jm b jn jo jp jq jr js jt ju la jw jx jy lb ka kb kc lc ke kf kg kh ig bi translated">cy.get(定位器)。触发器(“鼠标按下”)</p><p id="3c7e" class="jk jl kz jm b jn jo jp jq jr js jt ju la jw jx jy lb ka kb kc lc ke kf kg kh ig bi translated">cy.wait('3000 ')</p><p id="591a" class="jk jl kz jm b jn jo jp jq jr js jt ju la jw jx jy lb ka kb kc lc ke kf kg kh ig bi translated">cy.get(定位器)。触发器(“鼠标抬起”)</p></blockquote><p id="7a47" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面三种方法所做的是，首先，用户使用mousedown单击特定的元素。接下来，用户等待3000毫秒或3秒，保持点击，或者在这种情况下按下。然后最后用mouseup释放。</p><p id="f07f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">元素位置</strong></p><p id="f52d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">用户还可以通过指定元素的位置来指定需要执行操作的确切位置。举个例子，</p><blockquote class="kw kx ky"><p id="098b" class="jk jl kz jm b jn jo jp jq jr js jt ju la jw jx jy lb ka kb kc lc ke kf kg kh ig bi translated">cy.get(定位器)。触发器(“鼠标按下”、“顶部”)</p></blockquote><p id="6d3c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">位置可以作为第二个参数。本例中有效的九个位置是:</p><ul class=""><li id="a2c1" class="ki kj in jm b jn jo jr js jv kk jz kl kd km kh kn ko kp kq bi translated">顶端</li><li id="4191" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">右上</li><li id="cbc1" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">左上</li><li id="ca99" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">中心</li><li id="078c" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">左边的</li><li id="40dd" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">正确</li><li id="1187" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">底部</li><li id="f02f" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">左下角</li><li id="c448" class="ki kj in jm b jn kr jr ks jv kt jz ku kd kv kh kn ko kp kq bi translated">右下角</li></ul><figure class="le lf lg lh gt li gh gi paragraph-image"><div class="gh gi ld"><img src="../Images/a8291fea469f9141e9325ac6964f7f22.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/0*c-3qRlhVqoQClvFv"/></div></figure><p id="b578" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">位置坐标</strong></p><p id="1373" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">与指定位置类似，用户也可以指定精确的坐标来执行操作。这通过提供x和y坐标来完成。例如:</p><blockquote class="kw kx ky"><p id="a0a2" class="jk jl kz jm b jn jo jp jq jr js jt ju la jw jx jy lb ka kb kc lc ke kf kg kh ig bi translated">cy.get(定位器)。触发器(“鼠标按下”，100，200)</p></blockquote><p id="ebc5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第二个参数是x坐标，第三个参数是y坐标。</p><p id="122f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">拖拽</strong></p><p id="961e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用这些功能有许多不同的方法，如何根据用户的需要利用它们取决于用户的创造力。使用这两个基本功能，用户也可以使用鼠标执行拖放操作。</p><p id="a0cd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">与mouseover和mousedown类似，mousemove也存在，顾名思义，它移动鼠标。</p><p id="ba7f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如，取两个具有定位器loc1和loc2的元素。用户需要将位置为loc1的元素拖动到位置为loc2的区域。这可以通过以下方式来实现。</p><blockquote class="kw kx ky"><p id="faf6" class="jk jl kz jm b jn jo jp jq jr js jt ju la jw jx jy lb ka kb kc lc ke kf kg kh ig bi translated">cy.get(loc1)。触发器(“鼠标按下”)</p><p id="30ec" class="jk jl kz jm b jn jo jp jq jr js jt ju la jw jx jy lb ka kb kc lc ke kf kg kh ig bi translated">cy.get(loc2)。触发器(' mousemove ')。触发器(“鼠标抬起”)</p></blockquote><p id="9f96" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里我们用参数鼠标移动和鼠标抬起链接了两个触发函数。它点击loc1，移动到loc2，然后提升。以一种我们称之为拖放的方式。</p><p id="17b1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">使用插件拖放</strong></p><p id="ded8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为此，用户可以使用Cypress的插件进行拖放操作。它可以在官方文档网站的插件下找到。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi ll"><img src="../Images/e4c208a36f2dde9503c7d2499fdb72c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ITJDrsbFIgsolX5b"/></div></div></figure><p id="69ce" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用起来很简单。首先，通过输入以下命令使用终端安装插件。</p><blockquote class="kw kx ky"><p id="a01b" class="jk jl kz jm b jn jo jp jq jr js jt ju la jw jx jy lb ka kb kc lc ke kf kg kh ig bi translated">npm安装—save-dev @ 4tw/cypress-drop</p></blockquote><p id="7e5e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将其导入到command.js文件中。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/9a97a32a813985727c29d3f271210f98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/0*59P43ORqIdDJQQr9"/></div></figure><p id="ccea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就这样，你可以开始使用这个插件了。例如:</p><blockquote class="kw kx ky"><p id="8f74" class="jk jl kz jm b jn jo jp jq jr js jt ju la jw jx jy lb ka kb kc lc ke kf kg kh ig bi translated">cy.get(loc1)。拖('。'，{ clientX: 250，clientY: 100，force: true })</p></blockquote><p id="fb57" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里，我们基本上是获取具有local 1的元素，并将其拖到具有class className的位置。clientX指定x坐标，clientY指定y坐标。Force true是一个检查，我们需要使用这个插件在元素上强制触发事件。</p><p id="84bf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这和用trigger()拖拽基本一样；唯一的区别是它用一个命令而不是两个命令来执行操作。</p><p id="82b2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">剩下的取决于用户，他或她希望如何利用这些动作来执行他们的任务。</p><h2 id="f013" class="lr ls in bd lt lu lv dn lw lx ly dp lz jv ma mb mc jz md me mf kd mg mh mi mj bi translated">更多内容请访问<a class="ae mk" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> PlainEnglish.io </a>。</h2><p id="3aa9" class="pw-post-body-paragraph jk jl in jm b jn ml jp jq jr mm jt ju jv mn jx jy jz mo kb kc kd mp kf kg kh ig bi translated"><em class="kz">报名参加我们的</em> <a class="ae mk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kz">免费每周简讯</em> </strong> </a> <em class="kz">。关注我们关于</em><a class="ae mk" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kz">Twitter</em></strong></a>，<a class="ae mk" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kz">LinkedIn</em></strong></a><strong class="jm io"><em class="kz">，</em></strong><a class="ae mk" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kz">YouTube</em></strong></a><strong class="jm io"><em class="kz">，以及</em></strong><em class="kz"/><a class="ae mk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kz">不和</em> </strong> </a>T51】</p><h2 id="a759" class="lr ls in bd lt lu lv dn lw lx ly dp lz jv ma mb mc jz md me mf kd mg mh mi mj bi translated">希望扩大你的科技创业公司的知名度和采用率吗？检查<a class="ae mk" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank">电路</a>。</h2></div></div>    
</body>
</html>