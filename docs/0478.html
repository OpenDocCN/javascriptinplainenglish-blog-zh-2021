<html>
<head>
<title>4 Essential React Native Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">4种必需的反应原生钩子</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/4-essential-react-native-hooks-9325322eabca?source=collection_archive---------10-----------------------#2021-01-28">https://javascript.plainenglish.io/4-essential-react-native-hooks-9325322eabca?source=collection_archive---------10-----------------------#2021-01-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b0a1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用钩子对本机代码进行反应时，代码更清晰</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b6952a67bb5a1e13851e20d37ec7c2e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oF-Da6Vs5lKirpN0wG_Rqw.png"/></div></div></figure><h2 id="6c3b" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><a class="ae ln" href="https://snack.expo.io/@mohit199thd/usekeyboard-hook" rel="noopener ugc nofollow" target="_blank"> 1。使用键盘</a></h2><p id="f3f7" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw la lx ly lz le ma mb mc li md me mf mg ij bi translated">一个很好的处理键盘事件的React Native钩子，使用这个钩子我们可以定制我们的<strong class="lq ir"> TextInput </strong>组件如何用几行代码处理键盘事件。</p><p id="f6a3" class="pw-post-body-paragraph lo lp iq lq b lr mh jr lt lu mi ju lw la mj ly lz le mk mb mc li ml me mf mg ij bi translated"><strong class="lq ir">例如:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mm"><img src="../Images/8b787041e03e8796d3cd3d6395ff675e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K-A3QiaDCSwML5D8a-98-g.png"/></div></div></figure><ul class=""><li id="13e8" class="mn mo iq lq b lr mh lu mi la mp le mq li mr mg ms mt mu mv bi translated">我们有一个函数组件，在其中，我们使用一个片段来呈现多个组件。</li><li id="66f7" class="mn mo iq lq b lr mw lu mx la my le mz li na mg ms mt mu mv bi translated">在那个片段里面，我们有一个<strong class="lq ir"> TextInput </strong> &amp;多个<strong class="lq ir"> Text </strong>组件。</li></ul><p id="bf60" class="pw-post-body-paragraph lo lp iq lq b lr mh jr lt lu mi ju lw la mj ly lz le mk mb mc li ml me mf mg ij bi translated">使用useKeyboard钩子，我们可以访问许多键盘事件&amp;在演示中，我们将使用<strong class="lq ir">keyboard show</strong>属性，这简单地意味着，每当我们在<strong class="lq ir"> TextInput </strong>组件中提供文本时(或者当我们点击TextInput组件时键盘被抬起时)，我们就可以访问这些事件。</p><p id="fc62" class="pw-post-body-paragraph lo lp iq lq b lr mh jr lt lu mi ju lw la mj ly lz le mk mb mc li ml me mf mg ij bi translated">要实现此功能:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/8b96dc2dcb6335c65a92c0e5288854b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O1XsWRuLOnCz61WzyqA-0g.png"/></div></div></figure><ul class=""><li id="23e5" class="mn mo iq lq b lr mh lu mi la mp le mq li mr mg ms mt mu mv bi translated">导入<strong class="lq ir">使用键盘</strong>挂钩。</li><li id="a585" class="mn mo iq lq b lr mw lu mx la my le mz li na mg ms mt mu mv bi translated">现在使用函数组件中的钩子声明一个<strong class="lq ir">常量</strong>(<em class="nc">与我们在React.js中使用钩子的方法相同)。</em></li><li id="c9a9" class="mn mo iq lq b lr mw lu mx la my le mz li na mg ms mt mu mv bi translated">现在，我们必须对我们的<strong class="lq ir">文本</strong>组件应用条件渲染，这将让我们知道幕后发生了什么。</li><li id="aab5" class="mn mo iq lq b lr mw lu mx la my le mz li na mg ms mt mu mv bi translated">使用<strong class="lq ir"> const </strong>变量(在演示中命名为<strong class="lq ir">键盘</strong>)我们可以访问所有的事件，当键盘被抬起时，keyboardShown属性也处理事件。</li><li id="37e5" class="mn mo iq lq b lr mw lu mx la my le mz li na mg ms mt mu mv bi translated">使用条件渲染，我们现在可以简单地在我们的文本组件中渲染不同的文本，现在当我们抬起键盘的时候，我们可以看到在我们的文本组件中<em class="nc">显示键盘</em>。但是当键盘没有抬起时，它会在文本组件中显示<em class="nc">键盘隐藏</em>。</li></ul><p id="8623" class="pw-post-body-paragraph lo lp iq lq b lr mh jr lt lu mi ju lw la mj ly lz le mk mb mc li ml me mf mg ij bi translated"><em class="nc">请注意</em> <strong class="lq ir"> <em class="nc">在</em> </strong> <em class="nc">道具提交后用于解散键盘。</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b7facdbb5890f50bbc1de35637f70e36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2GtlK1BS8BQrjL98izq1sg.png"/></div></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk"><strong class="bd nh">useKeyboard</strong></figcaption></figure><h2 id="24f2" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">2.useWindowDimensions</h2><p id="6d94" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw la lx ly lz le ma mb mc li md me mf mg ij bi translated">这个钩子可以让我们接触到设备的<strong class="lq ir">高度</strong>、<strong class="lq ir">宽度</strong>、<strong class="lq ir">刻度、</strong>和<strong class="lq ir"> fontScale、</strong>在某些情况下，当设备有不同的方向时，我们需要改变React Native中某个特定组件的外观，而<strong class="lq ir"> useWindowDimensions </strong>在这种情况下就派上了用场。</p><p id="c599" class="pw-post-body-paragraph lo lp iq lq b lr mh jr lt lu mi ju lw la mj ly lz le mk mb mc li ml me mf mg ij bi translated">要使用这个钩子，您可以从<strong class="lq ir">“react-native”</strong>导入它:</p><p id="a307" class="pw-post-body-paragraph lo lp iq lq b lr mh jr lt lu mi ju lw la mj ly lz le mk mb mc li ml me mf mg ij bi translated"><strong class="lq ir">例如:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/37cd7215e1b5b08ddda2564611d67957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-6fCgLjp5U_zhw5HZdUN7w.png"/></div></div></figure><ul class=""><li id="182a" class="mn mo iq lq b lr mh lu mi la mp le mq li mr mg ms mt mu mv bi translated">我们可以使用窗口对象访问设备的<strong class="lq ir">高度</strong>和<strong class="lq ir">宽度</strong>，并使用<strong class="lq ir"> <em class="nc">美元符号</em> </strong>符号显示当前方向模式下设备的实际高度和宽度。</li><li id="ff7a" class="mn mo iq lq b lr mw lu mx la my le mz li na mg ms mt mu mv bi translated">请注意，您可能需要通过配置React原生项目中的<strong class="lq ir"> app.json </strong>文件来更改设备方向，因为在我的例子中，我无法手动切换设备方向。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ff704a31be6fd41659610e5d389eee0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RCcrh7Hn4YAP0Ndp2qz7Bg.png"/></div></div></figure><blockquote class="nj nk nl"><p id="0dc0" class="lo lp nc lq b lr mh jr lt lu mi ju lw nm mj ly lz nn mk mb mc no ml me mf mg ij bi translated">注意:我们可以简单地记录<strong class="lq ir">窗口的</strong>对象，你可以看到你的设备的所有4个属性</p></blockquote><h2 id="df06" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><a class="ae ln" href="https://snack.expo.io/@mohit199thd/useclipboard" rel="noopener ugc nofollow" target="_blank"> 3。使用剪贴板</a></h2><p id="8be9" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw la lx ly lz le ma mb mc li md me mf mg ij bi translated">useClipboard钩子给了我们改变剪贴板状态的能力，例如，当我们想要在剪贴板中为特定的用户交互提供默认数据时，我们可以使用这个钩子并且非常容易地更新剪贴板的状态。</p><p id="45a0" class="pw-post-body-paragraph lo lp iq lq b lr mh jr lt lu mi ju lw la mj ly lz le mk mb mc li ml me mf mg ij bi translated"><strong class="lq ir">例如:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/657e1fac0613f3438a1ae14733f8d055.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O9rStyL2z1wD9w-8Zxoxww.png"/></div></div></figure><ul class=""><li id="80dd" class="mn mo iq lq b lr mh lu mi la mp le mq li mr mg ms mt mu mv bi translated">这与我们如何使用<strong class="lq ir"> useState </strong>钩子非常相似，因为数组中的第一个索引保存修改后的值，数组中的第二个索引是负责改变该值的函数。类似地，在<strong class="lq ir">使用剪贴板</strong>钩子中，我们定义了一个const，并且<strong class="lq ir">数据</strong>保存稍后将被改变的字符串值，并且<strong class="lq ir">设置字符串</strong>是当我们按下按钮时改变其值的函数。</li></ul><h2 id="498f" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">4.使用设备定位</h2><p id="74e4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw la lx ly lz le ma mb mc li md me mf mg ij bi translated">允许您确定设备的方向，无论何时方向变为纵向或横向，挂钩都会更新值，我们再也不用担心事件侦听器了。</p><p id="213e" class="pw-post-body-paragraph lo lp iq lq b lr mh jr lt lu mi ju lw la mj ly lz le mk mb mc li ml me mf mg ij bi translated"><strong class="lq ir">例如:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/214948aa4b854b4fc661cc0ea579cb32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XAR4Pv4N7m8pcUA9fEEdow.png"/></div></div></figure></div></div>    
</body>
</html>