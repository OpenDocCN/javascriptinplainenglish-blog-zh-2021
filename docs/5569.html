<html>
<head>
<title>Build a Dark Mode Toggle with JavaScript and localStorage</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript和localStorage构建黑暗模式切换</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-dark-mode-toggle-with-javascript-and-localstorage-8022b492fb9e?source=collection_archive---------4-----------------------#2021-11-19">https://javascript.plainenglish.io/build-a-dark-mode-toggle-with-javascript-and-localstorage-8022b492fb9e?source=collection_archive---------4-----------------------#2021-11-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="c752" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一篇简短的文章解释了如何使用JavaScript和localStorage构建黑暗模式切换开关。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ff3f8513a42425201f1e2101b470c175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FWQqYc67jd3j2RDV"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@ry4nolson?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ryan Olson</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c90a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你浏览网页足够长的时间，你可能会遇到一个整洁的小功能，称为黑暗模式切换开关。你通常可以在应用程序或网站的右上角找到它，如<a class="ae ky" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a>文档或<a class="ae ky" href="https://www.w3schools.com/" rel="noopener ugc nofollow" target="_blank"> W3Schools </a>文档。在我可能会做大量阅读的网站上看到这个功能总是让我很高兴，因为我的眼睛对强光非常敏感，所以今天我们要建立自己的功能！</p><h1 id="df42" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">用JavaScript和localStorage构建黑暗模式切换</h1><p id="6457" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">在本文中，我们将主要关注用于构建黑暗模式切换的JavaScript代码，但是为了向您展示我们将在HTML端处理的内容，请查看以下代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="37b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在CSS方面，我们将使用一些基本的样式和类来保持简单，我们将使用这些样式和类来帮助在默认和黑暗模式主题之间切换。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="1f3b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">到目前为止，我们的项目看起来如下。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/bc75ff910a0d26402fa0e3e914dcb0a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t_zv2MYR5EhoZKvs9zRxzA.png"/></div></div></figure><p id="c665" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了配置我们的切换，我们将添加JavaScript来监听用户切换到黑暗模式主题或回到默认模式时的<code class="fe me mf mg mh b">click</code>事件。为了保存用户切换到的主题设置，我们将使用localStorage来存储黑暗模式当前是启用还是禁用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mc md l"/></div></figure><p id="09f5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的代码中，我们首先从dom中获取我们需要的元素，并从localStorage中获取黑暗模式的当前状态。然后我们有两个函数<code class="fe me mf mg mh b">enableDarkMode()</code>和<code class="fe me mf mg mh b">disableDarkMode()</code>。为了启用黑暗模式，我们添加了名为<code class="fe me mf mg mh b">dark-mode-theme</code>的类，并删除了<code class="fe me mf mg mh b">dark-mode-toggle</code>，然后在localStorage中将黑暗模式的值设置为enabled。要禁用黑暗模式，我们做完全相反的事情，删除类别<code class="fe me mf mg mh b">dark-mode-theme</code>并添加类别<code class="fe me mf mg mh b">dark-mode-toggle</code>，然后将黑暗模式设置为禁用。</p><p id="ea77" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在第17行，我们检查了页面加载时黑暗模式的当前状态，并设置它是否启用，这使我们能够保存我们上次选择的主题。在事件监听器中，我们重置了我们的<code class="fe me mf mg mh b">darkMode</code>变量，以反映它的当前状态，在检查它并根据它的值采取行动启用或禁用黑暗模式之前，是启用还是禁用。</p><p id="0ff4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，当我们启用黑暗模式的主题，我们会得到以下。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/9e37c2a9862259f0bbf45ee123cf7e4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pZpSBHBm1nbpK9r4QIrCFg.png"/></div></div></figure><h1 id="109b" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">摘要</h1><p id="0971" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">这是在你的网站或应用程序上建立一个启用黑暗模式的切换开关的一种快速简单的方法。还有许多其他方法可以做到这一点，查看指南了解更多关于它们的信息<a class="ae ky" href="https://css-tricks.com/a-complete-guide-to-dark-mode-on-the-web/#using-separate-stylesheets" rel="noopener ugc nofollow" target="_blank">这里</a>！</p><p id="1389" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你想与我们新的黑暗模式切换开关互动，请点击这里的<a class="ae ky" href="https://codepen.io/coderjay06/pen/WNEPVBv" rel="noopener ugc nofollow" target="_blank">代码笔查看完成的产品。</a></p><p id="9bf9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mk">更多内容尽在</em><a class="ae ky" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="mk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>