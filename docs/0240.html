<html>
<head>
<title>A Beginner’s Introduction to NPM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NPM入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/npm-basics-f30f5620c0b2?source=collection_archive---------22-----------------------#2021-01-13">https://javascript.plainenglish.io/npm-basics-f30f5620c0b2?source=collection_archive---------22-----------------------#2021-01-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/5f8e1dbcfae2ea6dbc823392f1c45f41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*smObvu4S4jboBJ-m8uSLCQ.jpeg"/></div></div></figure><p id="4278" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您使用Node进行开发，那么您确实使用了Node Package Manager (NPM)来安装、升级、配置和删除软件包。但是当你只是说npm的时候，它意味着很多事情。它可以指，</p><ul class=""><li id="5517" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">默认的<a class="ae lc" href="http://nodejs.org/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>包管理器，允许开发者共享模块。</li><li id="88b6" class="kt ku in jx b jy ld kc le kg lf kk lg ko lh ks ky kz la lb bi translated">一个NPM注册表，一个公共和私有包的在线数据库，开发者可以在那里下载/上传包。</li><li id="66f6" class="kt ku in jx b jy ld kc le kg lf kk lg ko lh ks ky kz la lb bi translated">一个命令行客户端，让开发人员与NPM注册表互动。</li><li id="fb83" class="kt ku in jx b jy ld kc le kg lf kk lg ko lh ks ky kz la lb bi translated">公司npm，Inc .托管和维护上述所有内容。</li></ul><p id="a71d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是一个快速介绍，</p><figure class="li lj lk ll gt jo"><div class="bz fp l di"><div class="lm ln l"/></div></figure><h2 id="08ce" class="lo lp in bd lq lr ls dn lt lu lv dp lw kg lx ly lz kk ma mb mc ko md me mf mg bi translated">NPM知识库</h2><p id="be12" class="pw-post-body-paragraph jv jw in jx b jy mh ka kb kc mi ke kf kg mj ki kj kk mk km kn ko ml kq kr ks ig bi translated">http://npmjs.org<a class="ae lc" href="http://npmjs.org/" rel="noopener ugc nofollow" target="_blank">是一个存储库，在这里维护节点包。在这里可以搜索到<strong class="jx io"> moment </strong>等节点包，使用NPM CLI安装。</a></p><p id="ec20" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你也可以免费添加你的定制包。但是任何人都可以使用它。如果你需要保持你的包是私人的，那么也有一个付费的计划。</p><h2 id="0304" class="lo lp in bd lq lr ls dn lt lu lv dp lw kg lx ly lz kk ma mb mc ko md me mf mg bi translated">NPM CLI</h2><p id="005a" class="pw-post-body-paragraph jv jw in jx b jy mh ka kb kc mi ke kf kg mj ki kj kk mk km kn ko ml kq kr ks ig bi translated">没有必要单独安装NPM，因为它现在与节点捆绑在一起。您可以通过运行以下命令来验证npm版本</p><pre class="li lj lk ll gt mm mn mo mp aw mq bi"><span id="0f47" class="lo lp in mn b gy mr ms l mt mu">npm -v</span></pre><p id="e65c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">或者使用NPM升级最新的NPM。</p><pre class="li lj lk ll gt mm mn mo mp aw mq bi"><span id="ab8c" class="lo lp in mn b gy mr ms l mt mu">npm install npm@latest -g</span></pre><p id="7614" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以使用相同的命令来安装特定的模块/包，如moment。</p><pre class="li lj lk ll gt mm mn mo mp aw mq bi"><span id="c781" class="lo lp in mn b gy mr ms l mt mu">npm install moment</span></pre><p id="c479" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该模块将安装在当前目录的node_modules文件夹中。您也可以通过传递-g来全局安装该模块</p><pre class="li lj lk ll gt mm mn mo mp aw mq bi"><span id="96ad" class="lo lp in mn b gy mr ms l mt mu">npm install moment -g</span></pre><p id="2307" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该模块将被全局安装，symlink将被添加到文件夹/usr/local/bin/中。</p><p id="80bc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您也可以通过运行“卸载”命令来删除该软件包。</p><pre class="li lj lk ll gt mm mn mo mp aw mq bi"><span id="d894" class="lo lp in mn b gy mr ms l mt mu">npm uninstall moment</span></pre><p id="9100" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">💡在计算中，符号链接或符号链接是一个术语，指的是以绝对或相对路径的形式包含对另一个文件或目录的引用并影响路径名解析的任何文件。<em class="mv"> —来自维基百科</em></p></div><div class="ab cl mw mx hr my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ig ih ii ij ik"><h2 id="33d9" class="lo lp in bd lq lr ls dn lt lu lv dp lw kg lx ly lz kk ma mb mc ko md me mf mg bi translated">package.json文件的用途是什么？</h2><p id="2624" class="pw-post-body-paragraph jv jw in jx b jy mh ka kb kc mi ke kf kg mj ki kj kk mk km kn ko ml kq kr ks ig bi translated">package.json是一个保存项目元数据(如名称、描述)的文件。它必须在项目的根目录中可用。节点程序包管理器使用此文件来管理依赖性。</p><p id="3552" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">可以通过运行下面的命令来创建package.json文件</p><pre class="li lj lk ll gt mm mn mo mp aw mq bi"><span id="9175" class="lo lp in mn b gy mr ms l mt mu">npm init</span></pre><figure class="li lj lk ll gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nd"><img src="../Images/e6660eef3a717e05174b559badabd312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fmHPo64r7_411sRmDpy1uQ.png"/></div></div></figure><p id="9f5c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是package.json的重要属性</p><ul class=""><li id="6ac0" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated"><strong class="jx io">名称:</strong>正在开发的模块的名称。</li><li id="666e" class="kt ku in jx b jy ld kc le kg lf kk lg ko lh ks ky kz la lb bi translated"><strong class="jx io">版本:</strong>模块的版本。它必须遵循<a class="ae lc" href="https://docs.npmjs.com/misc/semver" rel="noopener ugc nofollow" target="_blank">永远</a>的模式。</li><li id="bfb9" class="kt ku in jx b jy ld kc le kg lf kk lg ko lh ks ky kz la lb bi translated"><strong class="jx io">依赖关系:</strong>包含当前项目所需模块的列表。</li><li id="233a" class="kt ku in jx b jy ld kc le kg lf kk lg ko lh ks ky kz la lb bi translated">包含当前项目所需模块的列表。依赖项的不同之处在于，本节中列出的模块将被排除在生产版本之外。例如，仅用于开发的模块(例如，Typescript、mocha、chai、eslint)。</li><li id="93c8" class="kt ku in jx b jy ld kc le kg lf kk lg ko lh ks ky kz la lb bi translated"><strong class="jx io">脚本:</strong>包含在包的生命周期中的不同时间运行的命令列表。</li></ul><p id="5d47" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">没有必要将全局安装的模块保存在package.json文件中。</p><p id="fd4f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以在这里查看package.json <a class="ae lc" href="https://docs.npmjs.com/files/package.json" rel="noopener ugc nofollow" target="_blank">的完整属性。</a></p><p id="ba0a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">可以使用“install”命令安装dependencies和devDependencies中列出的模块</p><pre class="li lj lk ll gt mm mn mo mp aw mq bi"><span id="07bc" class="lo lp in mn b gy mr ms l mt mu">npm install</span></pre><p id="a677" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">运行上述命令时，NPM CLI将与NPM注册表交互，下载dependencies/dev dependencies中列出的所有软件包，并安装在Node_Modules文件夹中。</p><p id="ded6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">💡如果您只需要安装依赖项部分中的包，那么下面的标志需要和install命令一起传递</p><pre class="li lj lk ll gt mm mn mo mp aw mq bi"><span id="7b12" class="lo lp in mn b gy mr ms l mt mu">npm install --only=prod</span></pre><p id="ee80" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">或者</p><pre class="li lj lk ll gt mm mn mo mp aw mq bi"><span id="a5a3" class="lo lp in mn b gy mr ms l mt mu">npm install --only=production</span></pre><h2 id="ee52" class="lo lp in bd lq lr ls dn lt lu lv dp lw kg lx ly lz kk ma mb mc ko md me mf mg bi translated"><strong class="ak">package . lock . JSON的作用</strong></h2><p id="92a3" class="pw-post-body-paragraph jv jw in jx b jy mh ka kb kc mi ke kf kg mj ki kj kk mk km kn ko ml kq kr ks ig bi translated">修改node_modules树或package.json时，Package.lock.json是自动生成的文件。这保证了在开发期间使用的完全相同的版本被安装在所有的环境中。因此，这个文件必须被推送到源代码控制中，并在源代码部署期间包含在内。</p><p id="d620" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以在这里查看package.lock.json <a class="ae lc" href="https://docs.npmjs.com/files/package-lock.json" rel="noopener ugc nofollow" target="_blank">的完整属性。</a></p><h2 id="32b1" class="lo lp in bd lq lr ls dn lt lu lv dp lw kg lx ly lz kk ma mb mc ko md me mf mg bi translated">审计包</h2><p id="2326" class="pw-post-body-paragraph jv jw in jx b jy mh ka kb kc mi ke kf kg mj ki kj kk mk km kn ko ml kq kr ks ig bi translated">当你开发一个应用程序时，需要很多包，并且在内部他们使用更多的包作为依赖。所以我们需要确保没有安全漏洞。npm提供了一种方法来评估package.json文件的dependencies、devDependencies、bundledDependencies和optionalDependencies中提到的包。</p><p id="6353" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">可以通过运行以下命令来执行审核。</p><pre class="li lj lk ll gt mm mn mo mp aw mq bi"><span id="9ac9" class="lo lp in mn b gy mr ms l mt mu">npm audit</span></pre><p id="68ca" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一旦命令被执行，你可以看到安全漏洞报告，包括软件包名称，严重性，路径等。此外，如果可用，它还显示了应用修补程序来解决这些漏洞的命令。</p><p id="00ba" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该审计有助于发现可能导致数据丢失、服务中断等的漏洞。当我们运行<strong class="jx io"> npm install </strong>时，上面的命令也会自动执行</p></div></div>    
</body>
</html>