<html>
<head>
<title>Counting Sort Algorithm Explained with Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">计数排序算法举例说明</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/counting-sort-algorithm-a-brief-explanation-with-an-example-72cee2d49670?source=collection_archive---------8-----------------------#2021-04-16">https://javascript.plainenglish.io/counting-sort-algorithm-a-brief-explanation-with-an-example-72cee2d49670?source=collection_archive---------8-----------------------#2021-04-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b7f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在<a class="ae kl" href="https://himnickson.medium.com/sorting-algorithms-b1d0ef09c72e" rel="noopener">上一篇文章</a>中已经看到了排序算法。在本文中，我们将讨论<strong class="jp ir">计数排序算法</strong>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi gj"><img src="../Images/4989ab40e757205a5c74b3423bb29c4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0JYJ6059HHwgVdX1.png"/></div></div></figure><p id="bd8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在比较元素时，没有任何排序算法可以在小于<strong class="jp ir"> <em class="kx"> O(n log n) </em> </strong>的时间内对n个元素进行排序。幸运的是，如果我们提前知道元素的一些信息，我们可以用其他方法对它们进行排序。假设我们被要求对<strong class="jp ir"> <em class="kx"> n </em> </strong>个元素进行排序，但被告知每个元素都在范围<strong class="jp ir"> <em class="kx"> 0-k </em> </strong>内，其中<strong class="jp ir"> <em class="kx"> k </em> </strong>比<strong class="jp ir"> <em class="kx"> n </em> </strong>小得多。我们可以利用这种情况创建一个线性的<strong class="jp ir"><em class="kx">【n】</em></strong>排序算法。那是计数型的。</p><h2 id="eadb" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated">什么是计数排序算法？</h2><p id="84c6" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">计数排序(ultra sort或math sort)是一种排序算法，它通过计算每个不同数组元素出现的次数来对数组元素进行排序。计数存储在辅助数组中，排序是通过将计数映射到辅助数组中的索引来完成的。</p><p id="818d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">计数排序使用数组<strong class="jp ir"> <em class="kx"> arr </em> </strong>中数字的范围<strong class="jp ir"> <em class="kx"> (k) </em> </strong>进行排序。它使用这个范围生成这个长度的数组。数组<strong class="jp ir"><em class="kx"/></strong>中的每个索引<strong class="jp ir"> <em class="kx"> i </em> </strong>然后用于计算arr中有多少元素具有值<strong class="jp ir"><em class="kx">I</em></strong><em class="kx">存储在<strong class="jp ir"> <em class="kx">桶</em> </strong>中的计数然后可用于将<strong class="jp ir"> <em class="kx"> arr </em> </strong>中的元素以正确的顺序放入最终排序的数组中。哈罗德·h·苏厄德在1954年发明了这个算法。</em></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/9acfcc04e0aa27ba97f353ed15a5893a.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/0*RCtA33t5w_dhZrCt.jpg"/></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk"><strong class="bd mb">Harold H. Seward</strong></figcaption></figure><h2 id="a9ee" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated">它是如何工作的？</h2><p id="7af7" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">这个算法有三个阶段。</p><ol class=""><li id="6ac8" class="mc md iq jp b jq jr ju jv jy me kc mf kg mg kk mh mi mj mk bi translated">计算元素</li><li id="5bb2" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">聚集直方图</li><li id="a357" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">写回已排序的对象</li></ol><h2 id="2407" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated">计算元素</h2><p id="fe49" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">下面的数组必须排序。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mq"><img src="../Images/9f1d7dbdc80c69a63cbe2e27d70ea5c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*q8kkgWdw2Q3gkv55.png"/></div></div></figure><p id="7f79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">找到给定数组中最大的元素(假设是<strong class="jp ir"> <em class="kx"> max </em> </strong>)。创建一个长度为<strong class="jp ir"> <em class="kx"> max+1 </em> </strong>的数组，所有元素设置为0(当我们初始化一个数组时，它的所有元素默认取0)。该数组用于跟踪数组的元素计数。这里，<strong class="jp ir"> <em class="kx"> max=9 </em> </strong>，因此创建的数组大小为10。数组索引显示在图表中线的下方。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mr"><img src="../Images/2a7c8f0a86b1b3dbb8543b5d451cd9e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Q9LLZXPuQ5f0NJDe.png"/></div></div></figure><p id="faa2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们现在遍历要排序的数组。因为第一个元素是3，所以我们将辅助数组中位置3处的值增加1。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ms"><img src="../Images/937bdead8bc37b15c4ccd939dce48532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*J1GcTdV61CqpVzT6.png"/></div></div></figure><p id="7ef5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第二个分量是7。在辅助数组中，我们在位置7递增字段。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ms"><img src="../Images/43f3998faaa834ae0f6e2955bdd56f6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cFvNH-aArXMpcGMy.png"/></div></div></figure><p id="e76c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来是元素4和6，所以我们将位置4和6的值增加1。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ms"><img src="../Images/dbb38162caa65f7115e0d17e2e9cb2f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vsR0t-vG9HgVjKH6.png"/></div></div></figure><p id="f4dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来的元素6和3已经出现。因此，辅助阵列的相应字段从1增加到2。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mq"><img src="../Images/7e4ab34377b8416e28ac4c80707ac6be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CpWVSHMwhLWviKo2.png"/></div></div></figure><p id="32d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个概念应该是清楚的。在增加了剩余元素的辅助数组值之后，辅助数组终于有了这样的感觉。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ms"><img src="../Images/dc0fcf3bbb63321a194de909e6a6db78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mcgjJbDqDq0Sq89g.png"/></div></div></figure><p id="1481" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些信息将被传递到第二阶段。</p><h2 id="1965" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated">聚集直方图</h2><p id="8adb" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">我们现在确切地理解了键为0的元素只出现一次，但是我们不能仅仅将0放入数组进行排序，我们真的需要一个键为0的对象！</p><p id="f3ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了快速找到这一点，我们首先聚合直方图中的值。为了实现这一点，我们从索引1开始遍历辅助数组，并将左侧邻近字段的值添加到每个字段中。</p><p id="96bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在位置1，我们将字段0的值加到0。总数是一。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/724f5c48ab06df52dfa58e6049a517a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZpYql9Ayh2U1iD8e.png"/></div></div></figure><p id="53e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在位置2，我们将字段1中的1附加到1上，得到2。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/bbe137969a0b44b7f2fc1a71851f3864.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uCu6G4wHXTGv3mO8.png"/></div></div></figure><p id="107c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以此类推，直到我们最终将字段8中的14与字段9中的1相加，得到15。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/cc0abd511ed4562986322f750c6bd439.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GEYBc2LoOrfn7Wiq.png"/></div></div></figure><p id="3923" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个合并的直方图目前不仅告诉我们具有特定关键字的对象出现的频率，还告诉我们具有相应关键字的最后一个组件属于哪里。位置不是从0开始，而是从1开始。</p><p id="df6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，键为0的对象属于位置1(数组索引0)，键为2的对象属于位置2，键为3的三个对象属于位置3、4和5。(数组索引2，3，4)。</p><h2 id="6145" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated">写回已排序的对象</h2><p id="2fb2" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">我们需要一个长度为输入数组(<strong class="jp ir"> <em class="kx">、大小为</em> </strong>)的附加数组来对对象进行排序。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mu"><img src="../Images/15fd476d92aed19a9bccbb78e0eb5329.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2sMwWeaxSyTbXniF.png"/></div></div></figure><p id="a4dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们现在向后遍历要排序的数组，将每个对象写入目标数组中辅助数组所指示的位置。为了将具有相同关键字的下一个元素向左移动一个字段，我们将辅助数组中的相应值减1。</p><p id="457a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们从输入数组的最顶端开始，从键为8的对象开始。辅助数组中位置8的值为14。我们将值递减到13，并将键为8的对象复制到目标数组中的位置13(记住:辅助数组中的位置信息是从1开始的，所以我们写在位置13，而不是14)。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/23552c2656876ce34338e214c3b647d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cSGnaOWBVS2so3RD.png"/></div></div></figure><p id="b213" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">键2位于右边第二个对象上。辅助数组中位置2的值为2。我们将辅助数组中的值减为1，并将对象复制到目标数组中的适当位置。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mw"><img src="../Images/cedcbb856abf81eb036367d6e511ade8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HjRP2_VeJbQ_sWBC.png"/></div></div></figure><p id="4e4c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们对每个元素重复上述步骤，直到我们到达键为3的对象。辅助数组的字段3现在有一个3。我们将这个值减为2，并将对象复制到位置2，即目标数组中的最后一个空闲位置。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mx"><img src="../Images/d3c41cde704d85f7fbc8b82b88e55168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dJ10RxXOI1j1QkM9.png"/></div></div></figure><h2 id="7f2c" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated">结论</h2><p id="6a92" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated"><strong class="jp ir">完成后，我们对给定的数组进行了排序。</strong></p><p id="61a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们在下一篇文章中讨论这个算法的<strong class="jp ir">实现和分析</strong>。</p><p id="25fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">希望能有帮助。也分享你的想法。</p><p id="718d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kx">更多内容尽在</em><a class="ae kl" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kx">plain English . io</em></strong></a></p></div></div>    
</body>
</html>