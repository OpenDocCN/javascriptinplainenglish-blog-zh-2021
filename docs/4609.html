<html>
<head>
<title>How to Develop a Web AR Facefilter with React and ThreeJS / React Three Fiber in 2021</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2021å¹´å¦‚ä½•ç”¨Reactå’ŒThreeJS / Reactä¸‰çº¤å¼€å‘Web AR Facefilter</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/how-to-develop-a-web-ar-facefilter-with-react-and-threejs-react-three-fiber-in-2021-4c723b91294b?source=collection_archive---------9-----------------------#2021-09-14">https://javascript.plainenglish.io/how-to-develop-a-web-ar-facefilter-with-react-and-threejs-react-three-fiber-in-2021-4c723b91294b?source=collection_archive---------9-----------------------#2021-09-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="922f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä¸ºäº†ğŸ§™çš„ä¸‰å‘¨å¹´çºªå¿µğŸ¼â€â™‚ï¸30çº§å·«å¸ˆæˆ‘ä»¬å¸Œæœ›å»ºç«‹ä¸€äº›ä¸æˆ‘ä»¬çš„å·¥ä½œã€å“ç‰Œå’Œå…´è¶£ç›¸å…³çš„ä¸œè¥¿ã€‚æˆ‘ä»¬æœ€ç»ˆä¸ºWeb ARæˆ–Web XRåˆ›å»ºäº†ä¸€ä¸ªç±»ä¼¼facefilterçš„Snapchatã€‚</p><p id="811a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ä½ å¯ä»¥åœ¨è¿™é‡Œè¯•ç”¨æœ€ç»ˆäº§å“:<a class="ae ki" href="https://level30wizards.com/experiments/facefilter/" rel="noopener ugc nofollow" target="_blank"> Facefilteræ¼”ç¤º</a></p><h1 id="844a" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">æ— è€»çš„æ’å¤´</h1><blockquote class="lh li lj"><p id="3dd4" class="jk jl lk jm b jn jo jp jq jr js jt ju ll jw jx jy lm ka kb kc ln ke kf kg kh ig bi translated"><em class="in">å˜¿ï¼Œä½ æ­£åœ¨ä¸ºä¸€ä¸ªå®¢æˆ·æˆ–é¡¹ç›®å»ºç«‹ä¸€ä¸ªFacefilterå—ï¼Ÿæˆ‘ä»¬å¾ˆä¹æ„å¸®å¿™ã€‚</em></p></blockquote><p id="4ce9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ki" href="mailto:merlin@level30wizards.com" rel="noopener ugc nofollow" target="_blank">å‘é€é‚®ä»¶ï¼</a></p><h1 id="85cc" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">ä»‹ç»</h1><p id="dc53" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">ç§»åŠ¨ç½‘ç»œæµè§ˆå‘å±•è¿…é€Ÿã€‚æˆ‘ä»¬èƒ½å¤Ÿä»NFCè¯»å¡å™¨ã€å­˜å‚¨å™¨å’Œæ‘„åƒå¤´è·å–æ•°æ®ã€‚é—æ†¾çš„æ˜¯ï¼Œæˆªè‡³ç›®å‰ï¼Œæˆ‘ä»¬ä¸å…è®¸åœ¨iPhonesæˆ–iPadsä¸Šä½¿ç”¨ARKitã€‚</p><p id="11f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æœ‰å¾ˆå¤šå¾ˆæ£’çš„å›¾ä¹¦é¦†ï¼Œæ¯”å¦‚ç¬¬å…«å¢™æˆ–Zapparï¼Œä½†å®ƒä»¬é€šå¸¸ä»·æ ¼ä¸è²ã€‚å¹¸è¿çš„æ˜¯ï¼Œè®¸å¤šèªæ˜äººå»ºç«‹äº†èƒ½å¤Ÿä»2Då±å¹•ä¸Šè¯†åˆ«äººè„¸çš„ç¥ç»ç½‘ç»œã€‚</p><p id="ba13" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">WebARå…è®¸æ‚¨åˆ©ç”¨è®¡ç®—æœºæˆ–æ•°æ®å¯è§†åŒ–ï¼Œé™¤äº†é»˜è®¤çš„webæµè§ˆå™¨ä¹‹å¤–ï¼Œæ— éœ€ä¸‹è½½åº”ç”¨ç¨‹åºã€‚Web ARå¯ä»¥ä½¿ç”¨SLAM(åŒæ­¥å®šä½å’Œç»˜å›¾)å’Œå›¾åƒè¯†åˆ«æŠ€æœ¯æ¥æ•°å­—åŒ–åœ°å¯è§†åŒ–æ‚¨çš„å†…å®¹ã€‚ç”±äºå®ƒä»ç„¶æ˜¯ä¸€ä¸ªç½‘é¡µï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ARä½“éªŒä¸­æ·»åŠ å„ç§webç‰¹æ€§å’ŒåŠŸèƒ½ã€‚è¿™åœ¨ç½‘ç»œä¸Šæ‰“å¼€äº†å¤§é‡çš„æœºä¼šã€‚</p><p id="e053" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¢å¼ºç°å®å°†æ˜¯å¯¹è®¸å¤šç°æœ‰ç½‘é¡µçš„æœ‰ä»·å€¼çš„è¡¥å……ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥å¸®åŠ©äººä»¬åœ¨æ•™è‚²ç½‘ç«™ä¸Šå­¦ä¹ ï¼Œæˆ–è€…å…è®¸æ½œåœ¨ä¹°å®¶åœ¨è´­ç‰©æ—¶å¯è§†åŒ–å®¶ä¸­çš„ç‰©å“ã€‚</p><h1 id="c8c0" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">ç›®æ ‡</h1><p id="860d" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">ç›®æ ‡æ˜¯åœ¨æˆ‘ä»¬çš„è„¸ä¸ŠæŠ•å°„ä¸€ä¸ª3Dæ¨¡å‹ã€‚</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi lt"><img src="../Images/e2f9a200f78867725e4fea80072141e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RVq7ovmaAVQzn98t.jpg"/></div></div></figure><h1 id="2b26" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">å·¥å…·</h1><ul class=""><li id="501f" class="mf mg in jm b jn lo jr lp jv mh jz mi kd mj kh mk ml mm mn bi translated"><a class="ae ki" href="https://greensock.com/?ref=68708" rel="noopener ugc nofollow" target="_blank"> GSAP </a></li><li id="6f7c" class="mf mg in jm b jn mo jr mp jv mq jz mr kd ms kh mk ml mm mn bi translated"><a class="ae ki" href="https://threejs.org/" rel="noopener ugc nofollow" target="_blank"> Three.js </a></li><li id="f9bd" class="mf mg in jm b jn mo jr mp jv mq jz mr kd ms kh mk ml mm mn bi translated"><a class="ae ki" href="https://docs.pmnd.rs/react-three-fiber/getting-started/introduction" rel="noopener ugc nofollow" target="_blank">ååº”ä¸‰çº¤ç»´</a></li><li id="9b3e" class="mf mg in jm b jn mo jr mp jv mq jz mr kd ms kh mk ml mm mn bi translated"><a class="ae ki" href="https://jeeliz.com/" rel="noopener ugc nofollow" target="_blank">å‰è‰å…¹</a></li></ul><h1 id="d7ed" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">åŸå‹å…è´£å£°æ˜</h1><p id="7ce1" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">æˆ‘ä»¬åšçš„è¿™ä¸ªå®éªŒæ˜¯ä¸€ä¸ªå®Œæ•´çš„åŸå‹ã€‚æˆ‘ä»¬ä¸å»ºè®®æ‚¨åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒã€‚è¿™ä¸ªä¾‹å­éœ€è¦å¤§é‡çš„è°ƒæ•´æ‰èƒ½åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ã€‚</p><h1 id="b66c" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">ä»£ç :ç®€ä»‹</h1><p id="0411" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">åœ¨æˆ‘ä»¬å±•ç¤ºç›¸æœºä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›æ—¶é—´æ¥åŠ è½½3Dæ¨¡å‹å¹¶è®¡ç®—ä¸€äº›ä½ç½®ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªä»‹ç»å±å¹•æ¥å¢åŠ ä¸€äº›æ‚¬å¿µã€‚</p><blockquote class="lh li lj"><p id="f327" class="jk jl lk jm b jn jo jp jq jr js jt ju ll jw jx jy lm ka kb kc ln ke kf kg kh ig bi translated"><em class="in">æ¼‚äº®çš„æ³¢æµªæ–‡å­—æ¥è‡ªä»¥å‰çš„æ•™ç¨‹ï¼</em> <a class="ae ki" href="https://webanimation.blog/blog/wavy-text-animation-using-react-hooks-with-gsap-v3/" rel="noopener ugc nofollow" target="_blank"> <em class="in">æ³¢æµªå½¢æ–‡æœ¬åŠ¨ç”»ä½¿ç”¨Reacté’©å­ä¸GSAP v3 </em> </a></p></blockquote><pre class="lu lv lw lx gt mt mu mv mw aw mx bi"><span id="8321" class="my kk in mu b gy mz na l nb nc">import gsap from 'gsap';<br/>import React, { useEffect } from 'react';</span><span id="6a88" class="my kk in mu b gy nd na l nb nc">export const Intro = () =&gt; {<br/>  useEffect(() =&gt; {<br/>    gsap.set('.wavy', { perspective: 400 });</span><span id="24ad" class="my kk in mu b gy nd na l nb nc">const sequence = (id, reverse) =&gt; {<br/>      const tl = gsap.timeline({ delay: 0.5 });</span><span id="6bbd" class="my kk in mu b gy nd na l nb nc">tl.from(`.wavy[data-id="${id}"]`, {<br/>        duration: 0.5,<br/>        autoAlpha: 0,<br/>        ease: 'back',<br/>        stagger: 1,<br/>      })<br/>        .from(`.wavy[data-id="${id}"] [data-letter]`, {<br/>          duration: 0.5,<br/>          autoAlpha: 0,<br/>          scale: 1,<br/>          y: -30,<br/>          rotationX: -90,<br/>          transformOrigin: '0% 50% -50',<br/>          ease: 'back',<br/>          stagger: 0.025,<br/>        })<br/>        .to(`.wavy[data-id="${id}"] [data-letter]`, {<br/>          duration: 0.5,<br/>          delay: 1.25,<br/>          autoAlpha: 0,<br/>          scale: 1,<br/>          y: -30,<br/>          rotationX: -90,<br/>          transformOrigin: '0% 50% -50',<br/>          ease: 'back',<br/>          stagger: 0.025,<br/>        })<br/>        .to(`.wavy[data-id="${id}"]`, {<br/>          duration: 0.25,<br/>          autoAlpha: 0,<br/>          ease: 'back',<br/>          stagger: 1,<br/>        });</span><span id="3a70" class="my kk in mu b gy nd na l nb nc">return tl;<br/>    };</span><span id="a863" class="my kk in mu b gy nd na l nb nc">const tl = gsap.timeline();</span><span id="ad79" class="my kk in mu b gy nd na l nb nc">tl.add(sequence('one'))<br/>      .add(sequence('two'))<br/>      .add(sequence('three'))<br/>      .to('.intro', {<br/>        duration: 1,<br/>        autoAlpha: 0,<br/>      });</span><span id="f934" class="my kk in mu b gy nd na l nb nc">tl.timeScale(1.2);</span><span id="10bc" class="my kk in mu b gy nd na l nb nc">tl.play();<br/>    return () =&gt; {<br/>      tl.kill();<br/>    };<br/>  }, []);</span><span id="94ca" class="my kk in mu b gy nd na l nb nc">return (<br/>    &lt;div className="intro"&gt;<br/>      &lt;AnimatedText id="one" text={'Level30Wizards Presents...'} /&gt;<br/>      &lt;AnimatedText id="two" text={'Are you a true wizard?'} /&gt;<br/>      &lt;AnimatedText id="three" text={"Let's find out!"} /&gt;<br/>      &lt;img<br/>        src="<a class="ae ki" href="https://level30wizards.com/images/branded/brand-image-6.png" rel="noopener ugc nofollow" target="_blank">https://level30wizards.com/images/branded/brand-image-6.png</a>"<br/>        alt="Dragon"<br/>        className="dragon"<br/>      /&gt;<br/>      &lt;a href="<a class="ae ki" href="https://level30wizards.com" rel="noopener ugc nofollow" target="_blank">https://level30wizards.com</a>" aria-label="level30wizards"&gt;<br/>        &lt;img<br/>          src="<a class="ae ki" href="https://level30wizards.com/images/svg/logo.svg" rel="noopener ugc nofollow" target="_blank">https://level30wizards.com/images/svg/logo.svg</a>"<br/>          alt="Level30Wizards"<br/>          className="logo"<br/>        /&gt;<br/>      &lt;/a&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><h1 id="6c77" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">å·«å¸ˆå¸½</h1><p id="a25e" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">ä¸ºäº†åŠ è½½3Dæ¨¡å‹ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<a class="ae ki" href="https://www.npmjs.com/package/gltfjsx" rel="noopener ugc nofollow" target="_blank"> GLTFJSX </a>ã€‚</p><pre class="lu lv lw lx gt mt mu mv mw aw mx bi"><span id="1ebe" class="my kk in mu b gy mz na l nb nc">npx gltfjsx model.gltf -t</span></pre><p id="5dc5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">è¿™å¯¼è‡´äº†ä»¥ä¸‹ç»“æœ:</p><pre class="lu lv lw lx gt mt mu mv mw aw mx bi"><span id="b5da" class="my kk in mu b gy mz na l nb nc">// <a class="ae ki" href="http://twitter.com/ts" rel="noopener ugc nofollow" target="_blank">@ts</a>-nocheck<br/>/*<br/>Auto-generated by: <a class="ae ki" href="https://github.com/pmndrs/gltfjsx" rel="noopener ugc nofollow" target="_blank">https://github.com/pmndrs/gltfjsx</a><br/>author: Paulina (<a class="ae ki" href="https://sketchfab.com/Byakko" rel="noopener ugc nofollow" target="_blank">https://sketchfab.com/Byakko</a>)<br/>license: CC-BY-NC-4.0 (<a class="ae ki" href="http://creativecommons.org/licenses/by-nc/4.0/" rel="noopener ugc nofollow" target="_blank">http://creativecommons.org/licenses/by-nc/4.0/</a>)<br/>source: <a class="ae ki" href="https://sketchfab.com/3d-models/wizards-hat-68a9fb2dbd8442a5bacf9c0141320308" rel="noopener ugc nofollow" target="_blank">https://sketchfab.com/3d-models/wizards-hat-68a9fb2dbd8442a5bacf9c0141320308</a><br/>title: Wizard's hat<br/>*/</span><span id="1b74" class="my kk in mu b gy nd na l nb nc">import { useGLTF } from '<a class="ae ki" href="http://twitter.com/react" rel="noopener ugc nofollow" target="_blank">@react</a>-three/drei';<br/>import React, { useRef } from 'react';</span><span id="b3bc" class="my kk in mu b gy nd na l nb nc">export default function Model(props) {<br/>  const group = useRef();<br/>  const { nodes, materials } = useGLTF('/models/wizards_hat/scene.gltf');<br/>  return (<br/>    &lt;group ref={group} {...props} dispose={null}&gt;<br/>      &lt;group rotation={[-Math.PI / 2, 0, 0]}&gt;<br/>        &lt;group rotation={[Math.PI / 2, 0, 0]}&gt;<br/>          &lt;mesh<br/>            geometry={nodes.defaultMaterial.geometry}<br/>            material={nodes.defaultMaterial.material}<br/>          /&gt;<br/>          &lt;mesh<br/>            geometry={nodes.defaultMaterial_1.geometry}<br/>            material={nodes.defaultMaterial_1.material}<br/>          /&gt;<br/>          &lt;mesh<br/>            geometry={nodes.defaultMaterial_2.geometry}<br/>            material={nodes.defaultMaterial_2.material}<br/>          /&gt;<br/>          &lt;mesh<br/>            geometry={nodes.defaultMaterial_3.geometry}<br/>            material={nodes.defaultMaterial_3.material}<br/>          /&gt;<br/>          &lt;mesh<br/>            geometry={nodes.defaultMaterial_4.geometry}<br/>            material={nodes.defaultMaterial_4.material}<br/>          /&gt;<br/>          &lt;mesh<br/>            geometry={nodes.defaultMaterial_5.geometry}<br/>            material={nodes.defaultMaterial_5.material}<br/>          /&gt;<br/>        &lt;/group&gt;<br/>      &lt;/group&gt;<br/>    &lt;/group&gt;<br/>  );<br/>}</span><span id="b2fc" class="my kk in mu b gy nd na l nb nc">useGLTF.preload('/models/wizards_hat/scene.gltf');</span></pre><h1 id="38e4" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">Web ARåº“</h1><p id="4077" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">æˆ‘ä»¬ä½¿ç”¨äº†<a class="ae ki" href="https://github.com/jeeliz/jeelizFaceFilter/tree/master/reactThreeFiberDemo" rel="noopener ugc nofollow" target="_blank"> Jeeliz R3Fæ¼”ç¤º</a>ï¼Œå¹¶å°†å…¶ä¸æ¥è‡ªä»–ä»¬<a class="ae ki" href="https://github.com/jeeliz/jeelizFaceFilter/tree/master/demos/threejs/matrix" rel="noopener ugc nofollow" target="_blank"> Matrixæ¼”ç¤º</a>çš„ä¸€äº›é€»è¾‘ç›¸ç»“åˆã€‚å¦‚æœä½ æƒ³ï¼Œæ¯«æ— ç¾è€»åœ°å¤åˆ¶ç²˜è´´è¿™ç¯‡åšå®¢æ¥åˆ›é€ ä¸€ä¸ªå·¥ä½œäº§å“â€¦ä½ è¿æ°”ä¸å¥½ã€‚å‚è€ƒæ¼”ç¤ºå¹¶è‡ªå·±åŠ¨æ‰‹ä¿®æ”¹ï¼Œä½ å¯èƒ½ä¼šå­¦åˆ°æ›´å¤šã€‚</p><p id="390f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å®Œæˆå¤§éƒ¨åˆ†å·¥ä½œçš„ç»“æœä»£ç çœ‹èµ·æ¥æœ‰ç‚¹åƒè¿™æ ·:</p><pre class="lu lv lw lx gt mt mu mv mw aw mx bi"><span id="f338" class="my kk in mu b gy mz na l nb nc">const FaceFollower = props =&gt; {<br/>  const objRef = useRef();<br/>  useEffect(() =&gt; {<br/>    const threeObject3D = objRef.current;<br/>    _faceFollowers[props.faceIndex] = threeObject3D;<br/>  });</span><span id="c547" class="my kk in mu b gy nd na l nb nc">return (<br/>    &lt;object3D ref={objRef}&gt;<br/>      &lt;Suspense fallback={null}&gt;<br/>        &lt;WizardsHat<br/>          rotation={[0, -Math.PI, 0]}<br/>          position={[0, 1.825, 0]}<br/>          scale={[1.5, 1.5, 1.5]}<br/>          renderOrder={2}<br/>        /&gt;<br/>        &lt;Head position={[0, -0.1435, 0]} scale={[1.125, 1, 1.125]} /&gt;<br/>      &lt;/Suspense&gt;<br/>    &lt;/object3D&gt;<br/>  );<br/>};</span></pre><p id="b077" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªäººç±»å¤´éƒ¨çš„æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨äº†ä¸€ä¸ªå¸¦æœ‰<code class="fe ne nf ng mu b">colorWrite</code>å’Œ<code class="fe ne nf ng mu b">renderOrder</code>çš„æŠ€å·§ã€‚æˆ‘ä»¬åˆšç”¨äº†ä¸€äº›SketchFabçš„äººå¤´ï¼Œä½èšçš„ä¹Ÿå¯ä»¥ã€‚</p><pre class="lu lv lw lx gt mt mu mv mw aw mx bi"><span id="867d" class="my kk in mu b gy mz na l nb nc">const hiderMat = new THREE.MeshPhongMaterial({<br/>  attach: 'material',<br/>  color: 'hotpink',<br/>  colorWrite: false,<br/>  renderOrder: 1,<br/>});</span></pre><p id="696d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¦‚æœæˆ‘ä»¬ä¸è¿™æ ·åšï¼Œå½“ä½ å¤§ç¬‘æ—¶ï¼Œå¸½å­ä¼šå¤¹ä½ä½ çš„è„¸ï¼Œå› ä¸ºweb arä½“éªŒå¤ªæ£’äº†ã€‚</p><h1 id="77fc" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">å¿«ç…§ï¼</h1><p id="cc86" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">å¦‚æœä½ åœ¨åšå’Œå¹³æ‰‹åŠ¿å’Œåƒé¸­å­ä¸€æ ·èˆ”å˜´å”‡çš„æ—¶å€™ä¸èƒ½æ‹ç…§ï¼Œé‚£å°±ä¸æ˜¯é¢éƒ¨è¿‡æ»¤å™¨äº†ã€‚</p><p id="99f1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å¯¹äºæˆ‘ä»¬çš„ä¸‹ä¸€ä¸ªæŠ€å·§ï¼Œæˆ‘ä½¿ç”¨äº†3ä¸ªç”»å¸ƒå…ƒç´ ã€‚æ˜¯çš„ï¼Œæˆ‘ä»¬çŸ¥é“ã€‚</p><p id="508c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">æˆ‘ä»¬å°†ç›¸æœºç”»å¸ƒã€åŒ…å«â€œå¸½å­â€å’Œâ€œå¤´â€çš„ç”»å¸ƒä»¥åŠæˆ‘ä»¬æŠ•å½±å¾½æ ‡çš„ç”»å¸ƒç»“åˆåœ¨ä¸€èµ·ã€‚</p><pre class="lu lv lw lx gt mt mu mv mw aw mx bi"><span id="f3c4" class="my kk in mu b gy mz na l nb nc">const faceFilterCanvasRef = useRef(null);<br/>const canvasRef = useRef(null);<br/>const pictureCanvasRef = useRef(null);<br/>const logoCanvasRef = useRef(null);</span><span id="8dcb" class="my kk in mu b gy nd na l nb nc">const snapshot = useCallback(() =&gt; {<br/>  const canvas = pictureCanvasRef.current;<br/>  canvas.getContext('2d').drawImage(faceFilterCanvasRef.current, 0, 0);</span><span id="5af8" class="my kk in mu b gy nd na l nb nc">const img = new Image();<br/>  img.src = '/images/logo.png';</span><span id="1b87" class="my kk in mu b gy nd na l nb nc">img.addEventListener('error', e =&gt; {<br/>    console.error(e);<br/>  });<br/>  img.addEventListener('load', e =&gt; {<br/>    logoCanvasRef.current<br/>      .getContext('2d')<br/>      .drawImage(<br/>        img,<br/>        sizing.width - (144 + 24),<br/>        sizing.height - (42.38 + 24),<br/>        144,<br/>        42.38<br/>      );</span><span id="94bf" class="my kk in mu b gy nd na l nb nc">mergeImages([<br/>      canvas.toDataURL('image/png'),<br/>      canvasRef.current.toDataURL('image/png'),<br/>      logoCanvasRef.current.toDataURL('image/png'),<br/>    ]).then(b64 =&gt; {<br/>      setDownloadUrl(b64);<br/>      setShareData(b64);<br/>    });<br/>  });<br/>}, []);</span></pre><h1 id="fa0b" class="kj kk in bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">æ˜¾ç¤ºæœ€ç»ˆå›¾åƒ</h1><p id="cda5" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">ä¸ºäº†ä¸‹è½½å’Œåˆ†äº«ä½ çš„ç…§ç‰‡ï¼Œæˆ‘ä»¬å°è¯•å®ç°æœ¬åœ°å…±äº«APIã€‚ä½†æ˜¯ï¼Œè¯¥APIè¦æ±‚æˆ‘ä»¬ä¿å­˜å›¾åƒï¼Œæˆ‘ä»¬ä¸å–œæ¬¢è¿™æ ·ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªéšç§é—®é¢˜ã€‚è¯·è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œå¦‚æœä½ è‡ªå·±å»ºç«‹è¿™ä¸ªã€‚ä½¿ç”¨ä»¤ç‰Œæˆ–æŸç§æ–¹å¼æ¥éªŒè¯æŸ¥çœ‹å›¾åƒçš„ç”¨æˆ·æ˜¯æ¥è‡ªå…±äº«é“¾æ¥è¿˜æ˜¯å½“å‰ç”¨æˆ·ã€‚</p><pre class="lu lv lw lx gt mt mu mv mw aw mx bi"><span id="4fa0" class="my kk in mu b gy mz na l nb nc">&lt;div<br/>  style={{<br/>    display: shareData ? 'block' : 'none',<br/>    position: 'fixed',<br/>    zIndex: 3,<br/>    borderRadius: '50%',<br/>    overflow: 'hidden',<br/>  }}<br/>&gt;<br/>  &lt;img<br/>    style={{<br/>      position: 'fixed',<br/>      zIndex: 4,<br/>      width: 'auto',<br/>      height: '100%',<br/>      top: '50%',<br/>      left: '50%',<br/>      transform: 'translate(-50%,-50%)',<br/>    }}<br/>    src={shareData}<br/>    alt="generated"<br/>  /&gt;<br/>&lt;/div&gt;</span></pre><p id="f99a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">å°±è¿™äº›äº†ï¼Œè°¢è°¢ã€‚</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nh"><img src="../Images/51f0d88fea5463f39712c4264f019776.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1xBvgZA5GhTB-oIW.jpg"/></div></div></figure><h2 id="5572" class="my kk in bd kl ni nj dn kp nk nl dp kt jv nm nn kx jz no np lb kd nq nr lf ns bi translated">PSã€‚</h2><p id="d3f4" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated"><a class="ae ki" href="https://level30wizards.com/experiments/facefilter" rel="noopener ugc nofollow" target="_blank">æŸ¥çœ‹å®é™…ä¾‹å­ï¼æˆ‘ä»¬æ­£åœ¨ğŸ§™ç ”ç©¶ä¸€äº›ç¥å¥‡çš„ä¸œè¥¿ğŸ¼â€â™‚ï¸30çº§å·«å¸ˆ</a>ï¼Œä¸€å®šè¦å…³æ³¨æˆ‘ä»¬çš„ç¤¾äº¤æ´»åŠ¨ï¼Œç•™æ„æ–°ç‰ˆæœ¬ã€‚</p><h2 id="453f" class="my kk in bd kl ni nj dn kp nk nl dp kt jv nm nn kx jz no np lb kd nq nr lf ns bi translated">æ„Ÿè°¢é˜…è¯»ï¼</h2><p id="337d" class="pw-post-body-paragraph jk jl in jm b jn lo jp jq jr lp jt ju jv lq jx jy jz lr kb kc kd ls kf kg kh ig bi translated">æˆ‘ä»¬å¸Œæœ›æ‚¨ä»è¿™ç¯‡æ–‡ç« ä¸­å­¦åˆ°äº†ä¸€äº›å…³äºwebæµè§ˆå™¨ä¸­å¢å¼ºç°å®çš„çŸ¥è¯†ã€‚å¦‚æœä½ ä½¿ç”¨è¿™é¡¹æŠ€æœ¯ï¼Œè¯·è´Ÿè´£ä»»åœ°è¿™æ ·åšã€‚</p></div><div class="ab cl nt nu hr nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ig ih ii ij ik"><p id="38f8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lk">åŸè½½äº</em><a class="ae ki" href="https://webanimation.blog/blog/how-to-develop-web-ar-facefilter-react-threejs/" rel="noopener ugc nofollow" target="_blank"><em class="lk">https://web animation . blog</em></a><em class="lk">ã€‚</em></p></div></div>    
</body>
</html>