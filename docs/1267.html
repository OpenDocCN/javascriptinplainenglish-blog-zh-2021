<html>
<head>
<title>You might not need a Provider in your React app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您可能不需要React应用程序中的提供者</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/you-might-not-need-a-provider-338d31358435?source=collection_archive---------20-----------------------#2021-03-16">https://javascript.plainenglish.io/you-might-not-need-a-provider-338d31358435?source=collection_archive---------20-----------------------#2021-03-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="55a2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">很多时候我们使用React上下文API来共享自顶向下的状态。然而，可以采用一种简单的方法来代替。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6774f5b25fcbc58c1ee4c2d7ce26002d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UJHitggseKeIlSw-da84ww.gif"/></div></div></figure><p id="0422" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一个常见的场景是当我们想要从其子组件控制一个组件状态时。不知道我在说什么？坚持下去，你会得到它，我保证。</p><p id="bdc7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们直入主题吧。你在下面看到的就是我们所说的菜单触发器。所以当用户点击用户图标时，菜单内容就会出现。</p><p id="010e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们希望以这样一种方式构建这个组件，即我们可以传递菜单的任何内容，并且能够在用户单击菜单的任何项目时关闭它。</p><h1 id="c0b9" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">设计组件</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mf"><img src="../Images/b43ac954549bfc72c44f78f142879460.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fxpfw6XFdZpCxp_6rusljg.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">A children component ‘pressing’ onClose on its parent</figcaption></figure><p id="b44a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里的关键是使用儿童道具来实现我们想要的。如果非要举例说明我在这篇文章中所写的全部内容，那就是下面这个片段:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/85dac658f2fea10b033dda183fe8b71f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fd42MCpWbGi8Neq7C-OaZg.png"/></div></div></figure><p id="98b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在上面的代码中，我只保留了重要的部分。基本上你所看到的是一个组件，它带有一个“儿童”道具，如果它是一个函数，我们将在其中注入<code class="fe ml mm mn mo b">onClose</code>函数。否则，它只是作为组件的内容呈现。</p><p id="6314" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个简单的技术允许许多可能性。当我有一个组件不需要在应用程序的很多地方公开它的状态，而是只需要一两个可以从子组件访问的回调时，我经常使用这个方法。</p><p id="cc68" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以这样使用它:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/bebd580391900b6bd153e0b9fe93caf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xG_aEnH2JjFegmVV0PofiA.png"/></div></div></figure><h1 id="80a3" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">我想要更多</h1><p id="a3a9" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">没问题。我创建了一个代码沙箱，你可以在里面玩代码，我还使用了<code class="fe ml mm mn mo b">react-transition-group</code>来创建一个更好的感觉，当组件在屏幕上出现或消失的时候。这是:</p><p id="97a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">【https://codesandbox.io/s/interesting-forest-nj1yz? T2】fontsize = 14&amp;hide navigation = 1&amp;theme = dark</p><h1 id="1307" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">结论</h1><p id="4e6d" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">我绝对不是在这里重新发明轮子。这种技术遍布React社区，它通常不仅用于传递回调，还用于传递数据给子组件。反应消费者就是一个很好的例子。可以查一下React官方文档看看。</p><p id="d177" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我希望这篇文章能帮助你避免使用Context API或Redux创建复杂的状态管理结构，因为你可以调整你的代码，这样孩子就有能力了😄。</p><p id="a692" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你有任何问题或建议，请在下面的评论中告诉我。</p></div><div class="ab cl mw mx hu my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ij ik il im in"><p id="5089" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nd">👉在我的媒体上关注我，支持我，直接获得最新文章:</em><a class="ae mv" href="https://medium.com/@fernandoabolafio" rel="noopener"><em class="nd">@ fernandoabolafio</em></a><em class="nd">🛎</em></p><p id="2734" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nd">👉在Twitter上关注我</em><a class="ae mv" href="https://twitter.com/oxfernando" rel="noopener ugc nofollow" target="_blank"><em class="nd">@ ox Fernando</em></a><em class="nd">我们聊聊天吧。我发布关于React、NextJs、Remix.run和其他很酷的WebDev技术的文章。🐤</em></p></div></div>    
</body>
</html>