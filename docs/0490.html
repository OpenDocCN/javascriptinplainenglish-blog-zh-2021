<html>
<head>
<title>React Native — Dimensions and Web Views</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React Native —维度和Web视图</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-native-dimensions-and-web-views-19dd25da2f5f?source=collection_archive---------10-----------------------#2021-01-29">https://javascript.plainenglish.io/react-native-dimensions-and-web-views-19dd25da2f5f?source=collection_archive---------10-----------------------#2021-01-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bafbd96305ef54f2aea156021df56af7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ajqn7-DSjAiqRzAD"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@adityachinchure?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Aditya Chinchure</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3c72" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">React Native是基于React的移动开发，我们可以用它来进行移动开发。</p><p id="67a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何使用它来创建一个带有React Native的应用程序。</p><h1 id="94fd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">规模</h1><p id="9579" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">Dimensions</code>对象来获取窗口的尺寸。</p><p id="078f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4266" class="mq lc iq mh b gy mr ms l mt mu">import React, { useEffect, useState } from 'react';<br/>import { View, StyleSheet, Text, Dimensions } from "react-native";</span><span id="458f" class="mq lc iq mh b gy mv ms l mt mu">const window = Dimensions.get("window");<br/>const screen = Dimensions.get("screen");</span><span id="fa05" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const [dimensions, setDimensions] = useState({ window, screen });</span><span id="cfd8" class="mq lc iq mh b gy mv ms l mt mu">  const onChange = ({ window, screen }) =&gt; {<br/>    setDimensions({ window, screen });<br/>  };</span><span id="4a32" class="mq lc iq mh b gy mv ms l mt mu">  useEffect(() =&gt; {<br/>    Dimensions.addEventListener("change", onChange);<br/>    return () =&gt; {<br/>      Dimensions.removeEventListener("change", onChange);<br/>    };<br/>  });</span><span id="01db" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;View style={styles.container}&gt;<br/>      &lt;Text&gt;{`Window Dimensions: height - ${dimensions.window.height}, width - ${dimensions.window.width}`}&lt;/Text&gt;<br/>      &lt;Text&gt;{`Screen Dimensions: height - ${dimensions.screen.height}, width - ${dimensions.screen.width}`}&lt;/Text&gt;<br/>    &lt;/View&gt;<br/>  );<br/>}</span><span id="77a6" class="mq lc iq mh b gy mv ms l mt mu">const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1,<br/>    justifyContent: "center",<br/>    alignItems: "center"<br/>  }<br/>});</span></pre><p id="e033" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们通过监听<code class="fe me mf mg mh b">change</code>事件来获得窗口和屏幕的尺寸。</p><p id="7767" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe me mf mg mh b">Dimensions.addEventListener</code>为事件添加一个监听器。</p><p id="90a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用带有不同参数的<code class="fe me mf mg mh b">Dimensions.get</code>方法来获得窗口和屏幕尺寸。</p><h1 id="139b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">键盘回避视图</h1><p id="a6bf" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">KeyboardAvoidingView</code>组件来添加一个容器，当关键字出现时，它就会离开关键字。</p><p id="afd1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8780" class="mq lc iq mh b gy mr ms l mt mu">import React from 'react';<br/>import { View, KeyboardAvoidingView, TextInput, StyleSheet, Text, Platform, TouchableWithoutFeedback, Button, Keyboard } from 'react-native';</span><span id="d603" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;KeyboardAvoidingView<br/>      behavior={Platform.OS == "ios" ? "padding" : "height"}<br/>      style={styles.container}<br/>    &gt;<br/>      &lt;TouchableWithoutFeedback onPress={Keyboard.dismiss}&gt;<br/>        &lt;View style={styles.inner}&gt;<br/>          &lt;Text style={styles.header}&gt;Header&lt;/Text&gt;<br/>          &lt;TextInput placeholder="Username" style={styles.textInput} /&gt;<br/>          &lt;View style={styles.btnContainer}&gt;<br/>            &lt;Button title="Submit" onPress={() =&gt; null} /&gt;<br/>          &lt;/View&gt;<br/>        &lt;/View&gt;<br/>      &lt;/TouchableWithoutFeedback&gt;<br/>    &lt;/KeyboardAvoidingView&gt;<br/>  );<br/>}</span><span id="20b7" class="mq lc iq mh b gy mv ms l mt mu">const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1<br/>  },<br/>  inner: {<br/>    padding: 24,<br/>    flex: 1,<br/>    justifyContent: "space-around"<br/>  },<br/>  header: {<br/>    fontSize: 36,<br/>    marginBottom: 48<br/>  },<br/>  textInput: {<br/>    height: 40,<br/>    borderColor: "black",<br/>    borderBottomWidth: 1,<br/>    marginBottom: 36<br/>  },<br/>  btnContainer: {<br/>    backgroundColor: "white",<br/>    marginTop: 12<br/>  }<br/>});</span></pre><p id="c730" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了带有<code class="fe me mf mg mh b">onPress</code>支柱的<code class="fe me mf mg mh b">TouchableWithoutFeedback</code>组件的<code class="fe me mf mg mh b">KeyboardAvoidingView</code>。</p><p id="e1f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe me mf mg mh b">Keyboard.dismiss</code>方法传递给它，让我们将键盘从屏幕上移除。</p><p id="facb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，当我们点击<code class="fe me mf mg mh b">TextInput</code>时，键盘会显示出来，视图会缩小以适应键盘。</p><h1 id="8825" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">链接</h1><p id="c2ce" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们调用<code class="fe me mf mg mh b">Linking.openURL</code>方法来打开一个带有我们想要的URL的web视图。</p><p id="daf1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e822" class="mq lc iq mh b gy mr ms l mt mu">import React from 'react';<br/>import { View, StyleSheet, Text, Linking } from 'react-native';</span><span id="6daf" class="mq lc iq mh b gy mv ms l mt mu">export default function App() {<br/>  const handlePress = () =&gt; {<br/>    Linking.openURL('https://google.com');<br/>  };</span><span id="8847" class="mq lc iq mh b gy mv ms l mt mu">  return (<br/>    &lt;View<br/>      style={styles.container}<br/>    &gt;<br/>      &lt;Text onPress={handlePress}&gt;Google&lt;/Text&gt;<br/>    &lt;/View&gt;<br/>  );<br/>}</span><span id="67a8" class="mq lc iq mh b gy mv ms l mt mu">const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1,<br/>    alignItems: 'center',<br/>    justifyContent: 'center',<br/>  },<br/>});</span></pre><p id="6e5a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加一段文字，当我们点击它的时候，它就会出现在谷歌上。</p><h1 id="e2b3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="779e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用React Native得到窗口和屏幕的尺寸。</p><p id="8256" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用<code class="fe me mf mg mh b">Linking.openURL</code>方法打开web视图来加载网页。</p><p id="8e2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>