<html>
<head>
<title>8 Web Application Architecture Principles Every Software Engineer Must Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个软件工程师都必须知道的8个Web应用程序架构原则</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/8-web-application-architecture-principles-every-software-engineer-must-know-57eb1d8d8028?source=collection_archive---------5-----------------------#2021-06-24">https://javascript.plainenglish.io/8-web-application-architecture-principles-every-software-engineer-must-know-57eb1d8d8028?source=collection_archive---------5-----------------------#2021-06-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c2a1e71265adc8d894f34e8778263abd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sYrH_81DaSDPr3QyEbmnKA.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@2mduffel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Mark Duffel</a> on <a class="ae kc" href="https://unsplash.com/s/photos/rules?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7ac6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">周一，我与RVU大学的一名高级工程师进行了一次颇有见地的一对一谈话，我们讨论了系统架构，谈话的目的是试图让他在谈论系统架构时更加自如。当我们谈论架构时，我们谈到了我们可以采用的不同方法，以及每种方法的优缺点。</p><p id="d1c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这次谈话让我对正确设计web应用程序的原则做了一些思考，所以我想我应该写下我认为在构建web应用程序时应该考虑的8个最重要的原则。</p><h1 id="1045" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">1.可维护性原则</h1><p id="642d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我想说的第一个原则是可维护性原则。这个原则表明，我们应该努力以一种允许代码在未来迭代和维护的方式来构建我们的应用程序。</p><p id="d4b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为一名软件工程师，重要的是要记住，向代码库添加新特性的最快方法并不总是最易维护的。我们可能被要求实现的一个例子是允许用户在网站上发送反馈的功能。这可以非常容易地实现为类似功能的现有部分的扩展；然而，这可能会导致网站的两个功能合二为一。正确的方法是将可重用的部分提取到一个可重用的库中，然后分别保存这两个特性。</p><p id="2f26" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时由于截止日期的原因，可能需要以一种不太容易维护的方式实现一个特性；然而，我总是建议你让你的产品负责人和技术负责人知道你在截止日期前必须做出的权衡。这将有助于他们理解，我们将需要投入一些时间来偿还技术债务。</p><h1 id="2653" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">2.可伸缩性原则</h1><p id="1ee9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我想说的第二个原则是可扩展性原则；这就是我们的应用程序应该能够扩展到我们的web应用程序所拥有的用户数量甚至更多的原则。</p><p id="9efc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要想被认为是可伸缩的，web应用程序不应该需要重新构建或重新设计来随着用户需求的增加而保持有效的性能。为了测试系统的可伸缩性，您可以使用负载测试，它将测试在系统开始失败之前有多少用户可以访问您的系统。了解它的失败之处将有助于您规划未来的容量，以及支持容量所需的任何更改。</p><p id="6615" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">关于这一原则，需要注意的一点是，过度设计应用程序来处理它永远不会收到的负载是非常容易的。我在一家定期这样做的公司工作，我们在电视上运行一个小型社交网络，每当电视上提到它时，该公司就会扩大其所有系统，以应对预期的流量激增，但往往不会到来。</p><p id="2ec5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我的建议是构建能够支持您当前使用量再增加50%的系统。这种级别的扩展为您提供了增长空间，然后进一步扩展就成了一个很好的问题。请注意，如果你已经是网飞或迪斯尼+了，这条规则就不适用，因为这不可能在短时间内增长50%，我更现实的目标是增长20%。</p><h1 id="c8a0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">3.简单性原则</h1><p id="0537" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">简单性原则表明，我们应该尽可能简单易懂地设计我们的应用程序。</p><p id="f072" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我对简单性原则的态度是这样的，我希望我的团队设计的任何应用程序都能够被新加入团队的工程师充分理解，他们可以在第一周内交付一个功能(并提供支持)。</p><p id="af36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">衡量一个应用程序简单程度的最容易使用的方法是实现一个新特性的容易程度。如果以一种可维护的方式添加一个新的特性是相对快速和简单的，那么你的系统可能是相当简单的，但是如果它是复杂的，并且每次都需要重新架构，那么应用程序可能太复杂了。</p><h1 id="6a30" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">4.性能原则</h1><p id="2479" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">性能原则指出，我们应该确保我们构建的应用程序能够及时响应请求。这句话很重要，我们不能期望每个应用程序在1毫秒内完成每个请求，但是我们应该构建我们的系统，以便性能满足我们用户的要求。</p><p id="2f14" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们来看几个谷歌朋友的应用例子。首先让我们考虑他们的网站Google.com，作为一个用户访问他们的网站，我的期望是它应该加载很快。当我随后输入我的搜索查询时，作为一个用户，我的期望是结果应该在不到一秒的时间内被加载。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi me"><img src="../Images/bda306bf3453b501bf90f4f64917586c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wSfZhXANo9DQt6vwAwudHg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Screenshot of the results count and time it took for google.com</figcaption></figure><p id="1acf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的截图中，我们可以看到，当搜索“乔纳森菲尔丁”时，结果在0.53秒内返回。</p><p id="1dea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">相比之下，如果我们以谷歌的BigQuery应用程序为例，它是一个可以使用SQL跨大型数据集运行查询的服务。作为一个用户，你不会期望它能够瞬间完成对万亿字节数据的搜索，但是你仍然不会期望等待几个小时才能得到结果。</p><p id="b28d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从这两个例子中可以看出，两个应用程序都提供了一种搜索数据的方式，一个是世界上的网站，一个是大型私有数据集。然而，对这两个应用程序的期望是非常不同的，所以如果是Google.com，那么被归类为对BigQuery有性能的应用程序就不会被视为有性能的。</p><p id="8b62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这对于您自己的应用程序来说是非常重要的，您需要了解您的用户需求，以便能够了解您的系统的预期性能特征。</p><h1 id="63be" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">5.可靠性原则</h1><p id="b58a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">可靠性原则是系统承受故障的能力。这意味着应用程序的架构应该能够在出现问题时进行处理。</p><p id="7179" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">也就是说，重要的是要意识到，没有一个应用程序是没有缺点的，因此我建议优化迭代你的应用程序，这样随着时间的推移，你就能够减少缺点，提高可靠性。</p><p id="2d42" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使我能够实现这个迭代，我将经常使用以下三种技术:</p><ul class=""><li id="f04e" class="mj mk iq kf b kg kh kk kl ko ml ks mm kw mn la mo mp mq mr bi translated">错误处理—所有已知的<strong class="kf ir">错误都应该被捕获并得到适当的处理</strong></li><li id="5c10" class="mj mk iq kf b kg ms kk mt ko mu ks mv kw mw la mo mp mq mr bi translated">异常捕获——当我们的应用程序抛出我们以前没有处理过的异常时，它应该将错误捕获到日志中。为此，我经常使用<a class="ae kc" href="https://sentry.io/welcome/" rel="noopener ugc nofollow" target="_blank">哨兵</a>，因为它会自动捕获我的应用程序中的错误，并提供一个很好的界面，提供调试问题的详细信息。</li><li id="0719" class="mj mk iq kf b kg ms kk mt ko mu ks mv kw mw la mo mp mq mr bi translated">监控—为了确保我们知道生产中何时发生事故，我们使用正常运行时间监控工具来监控我们网站的问题。如果任何页面停止返回200个状态代码，我们就会被通知调查这个问题。</li></ul><p id="2618" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过利用这三个方面，您可以继续迭代应用程序的可靠性。</p><h1 id="7c6d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">6.可测试性原则</h1><p id="a1fc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">可测试性原则表明，您应该设计我们的应用程序，以便它可以很容易地被测试。我喜欢用测试金字塔来思考我的系统的可测试性，如下所示。</p><figure class="mf mg mh mi gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/3d4e984116d6987995b9f82fc5c295f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s9uU_dE2nKTPsUL1dcaWmQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk"><a class="ae kc" href="https://www.ministryoftesting.com/dojo/lessons/the-mobile-test-pyramid" rel="noopener ugc nofollow" target="_blank">https://www.ministryoftesting.com/dojo/lessons/the-mobile-test-pyramid</a></figcaption></figure><p id="ecdc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">测试金字塔的结构是这样的，运行速度更快/更便宜的测试在底部，运行时间更长的测试在顶部。为了使我们能够得到应用程序中某个地方出了问题的最快反馈，我们希望单元测试能够在整个站点上广泛运行。</p><p id="fdad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当考虑如何使我们的应用程序架构可测试时，我们应该考虑这个测试金字塔。我们希望确保在代码中提供入口点，这样我们就可以确保单元测试测试了应用程序逻辑的所有关键部分。然后，我们希望有适当的基础设施，以便在每次代码更改时，我们都可以运行单元、集成和端到端测试。</p><h1 id="bd94" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">7.可重用性原则</h1><p id="b35e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我要讲的下一个原则是复用性原则。可重用性的原则集中在我们如何构建我们的系统，允许它重用它自身的部分，以避免代码库中的重复。</p><p id="3f0f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可重用性的一个很好的例子是在用户界面中，我们可能有几个不同的输入字段。这些输入字段可能共享功能，因此如果我们将它们实现为具有可应用属性的可重用组件，我们可以使用单个输入元素来呈现所有的输入字段。这允许我们减少代码中的重复，并且，如果我们在这个元素中发现了一个bug，我们可以在一个位置修复它。</p><p id="5ca2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">编程语言通常鼓励这种可重用性，比如类的特性，允许你描述什么是东西，它有什么属性和它的方法。然后，当你创建一个“类”的实例时，你可以重用它内置的所有行为。</p><p id="7a50" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将可重用性原则应用到可靠性原则的一个有趣的方式是让我的团队每小时对网站进行一次端到端测试，这样他们还可以对网站进行额外的监控。</p><p id="bb51" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我真的很喜欢<a class="my mz ep" href="https://medium.com/u/84c68c506e0b?source=post_page-----57eb1d8d8028--------------------------------" rel="noopener" target="_blank">汤姆·兰登</a>关于这个话题的帖子“<a class="ae kc" href="https://medium.com/oli-tom/why-you-arent-writing-enough-reusable-code-and-5-ways-to-fix-it-7f579e9f9473" rel="noopener">为什么你没有写足够多的可重用代码和5种方法来修复它</a>”。他很好地解释了可重用代码的好处，以及如何提高代码的可重用性。</p><h1 id="0d58" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">8.安全原则</h1><p id="7974" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">安全原则规定，我们构建的应用程序要尽可能安全，考虑到用户只能访问他们被授权访问的应用程序部分。</p><p id="1678" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当将安全性作为架构的一部分时，您应该考虑系统的性质。如果你正在建立一个提供新闻的网站，你可能要考虑向用户展示的数据的完整性，以确保它不会受到损害，因为这可能会影响网站的声誉。如果你在建立一个社交网络(像脸书或推特)，你会希望确保帖子只被用户授权的人分享。</p><p id="6c36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个额外的考虑应该是你如何处理你的用户数据和安全的任何法律义务。如果您的用户居住在欧盟，您可能会受到GDPR的影响。<a class="my mz ep" href="https://medium.com/u/ba4c55e4aa3d?source=post_page-----57eb1d8d8028--------------------------------" rel="noopener" target="_blank"> Adam Geitgey </a>写了一篇名为<a class="ae kc" href="https://medium.com/@ageitgey/understand-the-gdpr-in-10-minutes-407f4b54111f" rel="noopener">“10分钟了解GDPR”</a>的文章，我发现这篇文章很好地介绍了GDPR。</p><h1 id="fc89" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="696c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在本文中，我介绍了所有软件都需要了解的8个Web应用程序架构原则。当我们构建新特性时，我们应该考虑这些原则。</p><p id="19ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">值得注意的是，这些只是一组架构原则，应该在构建我们的新功能时指导您。它们不是硬性的规则，它们的目的是帮助您理解在构建您的web应用程序时需要考虑什么。</p><p id="e67f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有开发人员都将为各种用例开发许多web应用程序。每个web应用程序都是独一无二的，都有不同的需求。因此，每个web应用程序架构都必须从实际系统的需求出发。</p><p id="500e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="na">更多内容看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="na">plain English . io</em></strong></a></p></div></div>    
</body>
</html>