<html>
<head>
<title>How to Build a Photo-Share App (Instagram Clone) with React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用React Native构建照片分享应用程序(Instagram克隆)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-build-a-photo-share-app-with-react-native-instagram-clone-8cc81c5612af?source=collection_archive---------8-----------------------#2021-11-19">https://javascript.plainenglish.io/how-to-build-a-photo-share-app-with-react-native-instagram-clone-8cc81c5612af?source=collection_archive---------8-----------------------#2021-11-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/3618f8b9e1f09b8b2b68d87d524731f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sy2K2pjF6OpQTjwoluaijw.jpeg"/></div></div></figure><p id="e7d7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你将要建造的东西。<a class="ae kt" href="https://instagram-clone-c3afa.web.app/" rel="noopener ugc nofollow" target="_blank">演示</a>，Git回购<a class="ae kt" href="https://github.com/Daltonic/instagram-clone" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/8109fff2d3db1b59b95fb711e1d6f1e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/0*GG4XcQDOdaiTMDIb.gif"/></div></figure><h1 id="79fa" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">介绍</h1><p id="b426" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">是时候让你的web开发更上一层楼了。你需要开始开发移动应用程序，如果你还没有，开始构建吧。React Native让所有JavaScript开发人员的生活变得更加轻松，尤其是来自React社区的开发人员。最重要的是，谷歌决定通过提供名为Firebase的免费入门后端服务来为社区做贡献。Firebase将让你立刻开发出令人兴奋的网络或移动应用程序。你不需要一台顶尖的机器就可以开始开发React原生app(初步来说)。你必须做的就是开始。</p><h1 id="926b" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">先决条件</h1><p id="7a4a" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">要继续学习本教程，您需要了解如何使用下面的堆栈。</p><ul class=""><li id="4118" class="mc md in jx b jy jz kc kd kg me kk mf ko mg ks mh mi mj mk bi translated"><a class="ae kt" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank">反应</a></li><li id="a274" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated"><a class="ae kt" href="https://css-tricks.com/" rel="noopener ugc nofollow" target="_blank"> CSS </a></li><li id="0f21" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated"><a class="ae kt" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank">燃烧基地</a></li><li id="bdd7" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated"><a class="ae kt" href="https://expo.dev/" rel="noopener ugc nofollow" target="_blank">世博会</a></li></ul><h1 id="ce41" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">安装应用程序平台</h1><p id="3b9b" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">首先，你需要在你的机器上安装<a class="ae kt" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank">node . js</a>；你可以去他们的网站看看。其次，您需要使用下面的命令在您的计算机上安装<a class="ae kt" href="https://docs.expo.dev/get-started/installation/" rel="noopener ugc nofollow" target="_blank"> Expo-CLI </a>。</p><p id="74e2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu"># Install Expo-CLI</em></code></p><p id="2c42" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu">npm install --global expo-cli</em></code></p><h1 id="b87e" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">正在初始化项目</h1><p id="6fc4" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">接下来，在终端上创建一个名为<strong class="jx io">"<em class="mu">insta gram-clone "</em></strong>的新expo项目，并在出现提示时创建空白模板。要知道expo-CLI默认使用<a class="ae kt" href="https://classic.yarnpkg.com/lang/en/docs/install/" rel="noopener ugc nofollow" target="_blank">纱</a>。</p><p id="01a4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu"># Create a project named my-app</em></code></p><p id="fc25" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu"># Select the "blank" template when prompted.</em></code></p><p id="914a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu">expo init instagram-clone</em></code></p><p id="f946" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu"># Navigate to the directory.</em></code></p><p id="e3ed" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu">cd instagram-clone</em></code></p><p id="59fd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu"># Start the newly created expo project.</em></code></p><p id="7f4e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu">yarn start // or yarn web to spin up the web interface.</em></code></p><p id="cca2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">执行上述命令将创建一个新的react-native项目，并在浏览器上运行它。现在，您可以选择启动IOS、Android或Web界面，只需点击您想要的界面。为了和我一起编码的新手，我们将使用web界面。要在移动设备上运行开发服务器，您需要一个模拟器。查看这里的说明，使用一个<a class="ae kt" href="https://docs.expo.dev/workflow/ios-simulator/" rel="noopener ugc nofollow" target="_blank"> IOS </a>或<a class="ae kt" href="https://docs.expo.dev/workflow/android-studio-emulator/" rel="noopener ugc nofollow" target="_blank"> Android </a>模拟器，否则，使用网络界面并遵循教程。最后，在<a class="ae kt" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> VScode </a>中打开项目，开始编码。</p><p id="40ab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">太好了，您已经成功地创建了项目，接下来让我们安装项目依赖项。</p><h1 id="edf9" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">安装项目依赖项</h1><p id="f244" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">仅仅是React Native的核心包不会让我们得到一个<em class="mu"> instagram克隆</em>，我们将添加更多的包来完成这个项目。</p><p id="6be5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu"># Required Packages</em></code></p><p id="a972" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu">expo install firebase</em></code></p><p id="c4bf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b">yarn add <em class="mu">@react-navigation/native</em></code></p><p id="34e7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b">yarn add <em class="mu">@react-navigation/stack</em></code></p><p id="4da6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b">yarn add <em class="mu">email-validator</em></code></p><p id="904c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b">yarn add <em class="mu">formik</em></code></p><p id="e526" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b">yarn add <em class="mu">valid-url</em></code></p><p id="f0a7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b">yarn add <em class="mu">yup</em></code></p><p id="f712" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Epic，您已经完成了我们的应用程序依赖项的安装，现在让我们继续为这个项目设置Firebase配置。</p><h1 id="8c1a" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">设置Firebase</h1><p id="3f32" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">这个应用程序使用Firebase的所有后端活动。要将Firebase配置到此应用程序中，请使用Firebase进行所有后端活动。要将Firebase配置到您的项目中，请遵循以下步骤。</p><p id="a49b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">第一步，我们将前往<a class="ae kt" href="https://console.firebase.google.com" rel="noopener ugc nofollow" target="_blank"> Firebase控制台</a>并创建一个帐户，为此您将需要一个<a class="ae kt" href="https://mail.google.com" rel="noopener ugc nofollow" target="_blank"> Gmail </a>帐户。你可以登录，如果你已经有一个帐户，你应该看到这个项目界面，一旦你在。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mv"><img src="../Images/015a7b0771910ef6ff1b884a5f1ce585.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IzS4ylJnBwYWKCih.png"/></div></div></figure><p id="1290" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">进入该页面后，点击<strong class="jx io"> <em class="mu">【添加项目】</em> </strong>按钮，您将进入项目创建流程。您将从输入项目名称开始。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mw"><img src="../Images/c3179d782d4094929f854c134154c2b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hX5XK0U1042UW3Hp.png"/></div></div></figure><p id="c2d9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">输入项目名称后，单击继续，直到项目创建完成，您将看到下图所示的项目概述页面。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mx"><img src="../Images/f2caf5c6b55565d9080f74b8a6591bb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*l8qTdui9r6Rdo9f9.png"/></div></div></figure><p id="76e8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我们想要激活Firebase上的两个服务，它们将帮助我们构建这个应用程序。一个是认证服务，另一个是Firestore服务。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mv"><img src="../Images/d860f3665ae2608d9dcf46615bfcf920.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9842_UHfCL5z5DU3.png"/></div></div></figure><p id="3aea" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，单击<strong class="jx io">电子邮件/密码</strong>提供者上的编辑图标，并启用它，如下图所示。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mv"><img src="../Images/a29f35fdf9157bdb3623f5b0374d16bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1JaVY-EV65VOyF8C.png"/></div></div></figure><p id="b9de" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，转到Firestore数据库，通过单击get started按钮激活它，启用Firestore服务后，页面应该是这样的。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi my"><img src="../Images/c99a54f99c57b3700e0c58d3a82e8c82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*exyar_7E0Axs3qFC.png"/></div></div></figure><p id="96c5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在是时候为我们的应用程序创建一个配置设置了。进入项目概述页面，点击<strong class="jx io"> <em class="mu">【添加应用】</em> </strong>按钮，选择web选项。</p><p id="c97d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以从项目设置页面获得所有这些信息，如下图所示。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mz"><img src="../Images/c149d8de5971652f211d158ffe57a606.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3d4CljchuY_iX0YL.png"/></div></div></figure><p id="4f2e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">向下滚动，您将看到配置设置。在项目的根目录下创建一个名为<strong class="jx io"> <em class="mu"> firebase.js </em> </strong>的新文件，并将这些配置复制到其中。这个文件稍后将用于开发我们的应用程序，它应该是这样的。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="2587" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">太棒了，我们已经完成了基本的Firebase设置，让我们继续构建这个应用程序。</p><h1 id="6ed6" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">项目结构</h1><p id="d9d3" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">您的项目结构应该是这样的。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/e0d1c4539ba1dce29f135bee7a873c7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*slRQMJrbHIGyw-I-.png"/></div></div></figure><p id="9afd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您应该将此作为编码时的参考指南。和我一起开始创建我们的项目目录和文件。</p><h1 id="fa1f" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">组件目录</h1><p id="dfaa" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">这个项目中有几个目录，让我们从components文件夹开始。在这个项目的根目录下创建一个名为<strong class="jx io"> components </strong>的文件夹，并创建下面讨论的文件。</p><p id="b154" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> FormikPostUploader.js组件</strong></p><p id="94f1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该组件负责定义每个帖子将包含的内容。该组件使用<strong class="jx io"> <em class="mu"> Formik </em> </strong>和<strong class="jx io"> <em class="mu"> Yup </em> </strong>来构建帮助创建新帖子的界面。它还确保了你上传到数据库的每一篇文章都被很好地捕捉到，并且用正确的数据进行了验证。请参见下面的代码片段。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="bfe9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">超级，现在我们就在<strong class="jx io"> <em class="mu"> AddNewPost </em> </strong>组件中使用它。</p><p id="df69" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">添加新的Post组件</strong></p><p id="7a46" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该组件结合了<strong class="jx io"><em class="mu">FormikPostUploader</em></strong>组件来改善用户界面。它还添加了一个Header组件，该组件将导航“<strong class="jx io"><em class="mu">new postscreen</em></strong>”返回到“<strong class="jx io"> <em class="mu">主屏幕</em> </strong>”。下面的代码片段更好地描述了这一点。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="dbb5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">很好，我们稍后将把这个组件与<strong class="jx io"><em class="mu">new post screen</em></strong>连接起来。</p><p id="a249" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">割台组件</strong></p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/c7f57ae59d417ffb1d8eeecdb2bb7c87.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/0*IyNYHidv9-fl4cuL.png"/></div></figure><p id="ea96" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该组件带有三个图标和品牌名称，它也用作注销按钮。这三个图标包括加号、心形和聊天图标。加号图标将您导航到<strong class="jx io"> <em class="mu">新发布屏幕</em> </strong>。下面的代码片段详细展示了这一点。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="ef3b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Epic，我们稍后将在<strong class="jx io"> <em class="mu">主屏幕</em> </strong>上使用这个组件。让我们继续编写<strong class="jx io"> <em class="mu">故事</em> </strong>组件。</p><p id="2980" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">故事组件</strong></p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/3a22898689f7c81e30e0729427ac93ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/0*ocyazCjXb3Wk-HZW.png"/></div></figure><p id="6afa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">stories组件呈现一个故事列表及其各自的用户名，并显示在垂直滚动视图中。代码片段说明了一切。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="ab52" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该组件和标题组件将在稍后的<strong class="jx io"> <em class="mu">主屏幕</em> </strong>上使用。是时候继续处理<strong class="jx io"> <em class="mu">底部标签</em> </strong>组件了。</p><p id="fb04" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> BottomTabs组件</strong></p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/22df5e6ae2e44c8cb78a71e98b57b53d.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/0*n5T1Ewiea0WsLPqZ.png"/></div></figure><p id="802b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个组件负责在我们应用程序的底部显示粘性底部图标。它也可以用于导航。参见下面的代码来理解它是如何工作的。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="5355" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您已经做得很好了，接下来让我们构建post组件。</p><p id="d1b3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">岗位组件</strong></p><p id="d2b5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个组件由许多较小的组件堆叠在一个文件中组成，我们最好用可视化和代码化的方式来描述它。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nf"><img src="../Images/190a02333a32fa4b38c74415a9b083da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BK-MHts7zrwiURC5.png"/></div></div></figure><p id="fcef" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是一个庞大的组件，不如把代码吐出来给你看看。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="283c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">很好，你做得很好，继续努力，你将成功完成这个应用程序。现在让我们添加身份验证组件。</p><p id="fd02" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> LoginForm和SignupForm组件</strong></p><p id="d7d3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这些身份验证组件旨在提供干净的身份验证用户界面。该组件还使用Formik和Yup来执行表单验证。由于它们在代码方面是相似的，我们不妨立刻讨论它们。创建下面的代码，并将其复制到components文件夹的下列组件中。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="2ffe" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">万岁，你刚刚完成了我们将在本教程中使用的所有组件的创建。现在让我们开始创建一些屏幕。</p><h1 id="4876" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">屏幕目录</h1><p id="80b7" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">整个项目包含四个屏幕，包括<strong class="jx io"> <em class="mu">登录、注册、主页、</em> </strong> <em class="mu">和</em><strong class="jx io"><em class="mu">NewPos</em></strong>t屏幕。让我们继续对<strong class="jx io"> <em class="mu">登录屏幕</em> </strong>进行编码。</p><p id="6cbf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">登录屏幕</strong></p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ng"><img src="../Images/9e4f2fb1044414d23a7df7b5a59ffc9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*x_YhSSC50-vbQ52x.png"/></div></div></figure><p id="c2dd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个屏幕将验证一个用户，如果他以前在我们的应用程序注册。有了正确的详细信息，用户将被允许进入，否则，firebase将警告用户无效的凭证。下面是负责此行为的代码。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="c89f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在让我们转到注册屏幕。</p><p id="316c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">注册屏幕</strong></p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nh"><img src="../Images/edf677de304a22649474ae030adff4a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kQwfaiIaLaRhlBgb.png"/></div></div></figure><p id="0a09" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">登录屏幕验证已经存在的用户，而注册屏幕将新用户注册到我们的应用程序中。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="7d96" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">很好，让我们从NewPost屏幕开始添加最后两个屏幕。</p><p id="00ab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">新帖子屏幕</strong></p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ni"><img src="../Images/61e7b9a0a957fb044eb58ae5feaa578f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TOX5TnfPE9OAcGtZ.png"/></div></div></figure><p id="e9e9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个组件允许我们在用<strong class="jx io"><em class="mu">FormikPostUploader</em></strong>组件验证后向firebase发送一个新帖子。代码附后。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="8efe" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">聪明，让我们结束<strong class="jx io"> <em class="mu">主屏幕</em> </strong>。</p><p id="67cd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">主屏幕</strong></p><p id="1dfc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是这个项目的核心。主屏幕使用<strong class="jx io"> <em class="mu">文章</em> </strong>、<strong class="jx io"> <em class="mu">标题</em> </strong>和<strong class="jx io"> <em class="mu">底部标签</em> </strong>组件来填充视图。这是通过从<strong class="jx io"> <em class="mu"> Firestore </em> </strong>中检索帖子并递归呈现所有带有帖子组件的帖子来实现的。代码片段详细展示了这一点。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="f58e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">好了，这个过程差不多完成了，让我们用一些静态数据来支持这个应用程序。</p><h1 id="37cb" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">数据目录</h1><p id="69ec" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">此文件夹包含支持此项目所需的所有静态文件，这对于支持组件数据至关重要。在这个项目的根目录下创建一个名为“data”的文件夹，并在其中创建以下文件。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="c75b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">太棒了，让我们保护我们的应用程序路由，这样未经授权的用户就不能访问它们。</p><h1 id="f365" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">路线守卫和保护</h1><p id="ad83" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">使用Firebase身份验证服务和<strong class="jx io"> <em class="mu"> authState </em> </strong>函数，我们将控制对我们应用程序的访问。在这个项目的根目录下创建两个名为“<strong class="jx io"><em class="mu">auth navigation . js</em></strong>”和“<strong class="jx io"><em class="mu">navigation . js</em></strong>”的文件。接下来，将以下代码粘贴到其中。</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="3991" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">好，让我们通过用下面的代码块替换<strong class="jx io"> <em class="mu"> App.js </em> </strong>代码来完成交易。</p><p id="62c9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu">import</em> React <em class="mu">from</em> 'react'</code></p><p id="6a90" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu">import</em> AuthNavigation <em class="mu">from</em> './AuthNavigation'</code></p><p id="1eee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu">export</em> <em class="mu">default</em> function App() {</code></p><p id="5ef2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b"><em class="mu">return</em> &lt;AuthNavigation /&gt;</code></p><p id="90f2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mq mr ms mt b">}</code></p><p id="e1a2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">太好了，你一直这么耐心地编码，你应该喝杯咖啡。</p><p id="2419" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在你走之前，从下面的链接下载图像，并将它们添加到这个项目的assets文件夹中。</p><p id="ab83" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://github.com/Daltonic/instagram-clone/blob/main/assets/header-logo.png?raw=true" rel="noopener ugc nofollow" target="_blank">https://github . com/Daltonic/insta gram-clone/blob/main/assets/header-logo . png？raw=true </a></p><p id="4662" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://raw.githubusercontent.com/Daltonic/instagram-clone/main/assets/instagram_logo.png" rel="noopener ugc nofollow" target="_blank">https://raw . githubusercontent . com/Daltonic/insta gram-clone/main/assets/insta gram _ logo . png</a></p><p id="4fe0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">恭喜你，你刚刚粉碎了这个项目。</p><h1 id="d237" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">结论</h1><p id="940e" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">学习如何用react和react-native开发应用程序，你不需要掌握火箭科学。你可以从小处着手，但永远不要变小。在谷歌Firebase的支持下，学习如何使用react和react native创建令人惊叹的应用程序将不断提高你在软件开发方面的技能，你可以获得梦想中的工作或提升你的开发技能。你必须学会如何构建一个react原生Instagram克隆，是时候开始构建了。</p><h1 id="d8c6" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">关于作者</h1><p id="1f50" class="pw-post-body-paragraph jv jw in jx b jy lx ka kb kc ly ke kf kg lz ki kj kk ma km kn ko mb kq kr ks ig bi translated">福音书达林顿是一个远程<strong class="jx io"> fullstack </strong>开发者，多产有<strong class="jx io"> Vue.js </strong>、<strong class="jx io"> Angular </strong>、<strong class="jx io"> React </strong>、<strong class="jx io"> React Native </strong>和<strong class="jx io"> API开发</strong>等技术。</p><p id="a638" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">他对开发高级的、响应迅速的web应用程序非常感兴趣。</p><p id="6ec8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">福音书达林顿目前是一名自由职业者，开发应用程序和编写教程，教其他开发者如何将软件产品集成到他们的项目中。</p><p id="b0d1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">他利用空闲时间指导年轻人如何在生活中获得成功。他的爱好包括发明新食谱、写书、写歌和唱歌。你可以在<a class="ae kt" href="https://daltonic.github.io/" rel="noopener ugc nofollow" target="_blank">网站</a>、<a class="ae kt" href="https://www.linkedin.com/in/darlington-gospel-aa626b125/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae kt" href="https://twitter.com/idaltonic" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae kt" href="https://www.facebook.com/darlington.gospel01" rel="noopener ugc nofollow" target="_blank">脸书</a>或<a class="ae kt" href="https://github.com/Daltonic" rel="noopener ugc nofollow" target="_blank"> GitHub </a>联系我进行任何讨论。</p><p id="f8c9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mu">更多内容请看</em><a class="ae kt" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mu">plain English . io</em></a><em class="mu">。在这里注册我们的</em> <a class="ae kt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mu">免费周报</em> </a> <em class="mu">。</em></p></div></div>    
</body>
</html>