<html>
<head>
<title>What is Symbol.for in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的Symbol.for是什么？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-is-symbol-for-in-javascript-e91b93f9d9ad?source=collection_archive---------16-----------------------#2021-11-02">https://javascript.plainenglish.io/what-is-symbol-for-in-javascript-e91b93f9d9ad?source=collection_archive---------16-----------------------#2021-11-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/f4d3fd0bcf80f702b6f01a4e9fd4c3b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8zjf1ZTyPoMT2C05"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@pankajpatel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pankaj Patel</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6591" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe ky kz la lb b">Symbol.for</code>是JavaScript中<code class="fe ky kz la lb b">Symbol</code>的内置方法。是为了什么，<code class="fe ky kz la lb b">Symbol</code>和<code class="fe ky kz la lb b">Symbol.for</code>有什么区别？</p><h1 id="b3e4" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">符号. for</h1><p id="682c" class="pw-post-body-paragraph ka kb in kc b kd ma kf kg kh mb kj kk kl mc kn ko kp md kr ks kt me kv kw kx ig bi translated">像Symbol一样，<code class="fe ky kz la lb b">Symbol.for</code>也总是为给定的键返回一个<code class="fe ky kz la lb b">Symbol</code>。与<code class="fe ky kz la lb b">Symbol</code>不同的是<code class="fe ky kz la lb b">Symbol.for</code>将返回相同的<code class="fe ky kz la lb b">Symbol</code>,如果密钥被注册一次的话。当第一次调用<code class="fe ky kz la lb b">Symbol.for(key)</code>时，一个带有给定键的<code class="fe ky kz la lb b">Symbol</code>将被生成并存储在全局符号注册表中。它变成了全球性的<code class="fe ky kz la lb b">Symbol</code>。</p><p id="6862" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是两者的区别。</p><p id="5d68" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">用<code class="fe ky kz la lb b">Symbol</code></p><pre class="mf mg mh mi gt mj lb mk ml aw mm bi"><span id="d240" class="mn ld in lb b gy mo mp l mq mr">let symbol1 = Symbol('foo');<br/>let symbol2 = Symbol('foo');</span><span id="a57f" class="mn ld in lb b gy ms mp l mq mr">symbol1 === symbol2   // false</span></pre><p id="fb73" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是用<code class="fe ky kz la lb b">Symbol.for</code></p><pre class="mf mg mh mi gt mj lb mk ml aw mm bi"><span id="88bc" class="mn ld in lb b gy mo mp l mq mr">let symbol1 = Symbol.for('foo');<br/>let symbol2 = Symbol.for('foo');</span><span id="bb9e" class="mn ld in lb b gy ms mp l mq mr">symbol1 === symbol2   // true</span></pre><p id="33fb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是解释。</p><pre class="mf mg mh mi gt mj lb mk ml aw mm bi"><span id="efe2" class="mn ld in lb b gy mo mp l mq mr">// the symbol `foo` doesn't exist, a symbol is created.<br/>let symbol1 = Symbol.for('foo');</span><span id="d50f" class="mn ld in lb b gy ms mp l mq mr">// the symbol `foo` has been created and registered, so return it.<br/>let symbol2 = Symbol.for('foo');</span><span id="c8cf" class="mn ld in lb b gy ms mp l mq mr">// both are the same symbol<br/>symbol1 === symbol2 // true</span></pre><h1 id="37a7" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">Symbol.keyFor</h1><p id="a8f1" class="pw-post-body-paragraph ka kb in kc b kd ma kf kg kh mb kj kk kl mc kn ko kp md kr ks kt me kv kw kx ig bi translated">这是<code class="fe ky kz la lb b">Symbol.for</code>的反向调用。当<code class="fe ky kz la lb b">Symbol.for(key)</code>创建一个全局符号时，<code class="fe ky kz la lb b">Symbol.keyFor(key)</code>返回该符号的键名。</p><pre class="mf mg mh mi gt mj lb mk ml aw mm bi"><span id="ce61" class="mn ld in lb b gy mo mp l mq mr">let symbol1 = Symbol.for('foo');</span><span id="3a8c" class="mn ld in lb b gy ms mp l mq mr">Symbol.keyFor(symbol1);  // 'foo'</span></pre><p id="8a9d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe ky kz la lb b">Symbol.keyFor</code>不要返回本地符号的名称。而是返回<code class="fe ky kz la lb b">undefined</code>。</p><pre class="mf mg mh mi gt mj lb mk ml aw mm bi"><span id="ae54" class="mn ld in lb b gy mo mp l mq mr">let globalSymbol = Symbol.for('foo');<br/>let localSymbol = Symbol('foo');</span><span id="32c0" class="mn ld in lb b gy ms mp l mq mr">Symbol.keyFor(globalSymbol);  // 'foo'<br/>Symbol.keyFor(localSymbol);  // undefined</span></pre><h1 id="c71b" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">最后</h1><p id="e94c" class="pw-post-body-paragraph ka kb in kc b kd ma kf kg kh mb kj kk kl mc kn ko kp md kr ks kt me kv kw kx ig bi translated">符号保证是唯一的。它通常用作对象的属性键，这样属性就不会互相破坏。在现代的库/框架中，比如<code class="fe ky kz la lb b">React</code>、<code class="fe ky kz la lb b">node-Redis</code>等等，符号被大量使用来标识不同的属性和类型。大多数浏览器都支持它，除了IE。如果你想知道你的浏览器上是否有，你可以在<a class="ae jz" href="https://caniuse.com/?search=symbol" rel="noopener ugc nofollow" target="_blank">的网站上查看。</a></p><p id="a471" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢您的阅读。</p><p id="7038" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mt">更多内容请看</em><a class="ae jz" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="mt">plain English . io</em></strong></a></p></div></div>    
</body>
</html>