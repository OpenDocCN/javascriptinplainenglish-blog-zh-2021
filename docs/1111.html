<html>
<head>
<title>Create a Contact Form with Vue 3 and JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Vue 3和JavaScript创建一个联系表单</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-contact-form-with-vue-3-and-javascript-8487b565f21f?source=collection_archive---------8-----------------------#2021-03-08">https://javascript.plainenglish.io/create-a-contact-form-with-vue-3-and-javascript-8487b565f21f?source=collection_archive---------8-----------------------#2021-03-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2e9078b792e4a1218a8481767ebd3ba6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NB_ecL-_vjlUi3iP"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@milesb?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Miles Burke</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fffe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue 3是易于使用的Vue JavaScript框架的最新版本，让我们可以创建前端应用程序。</p><p id="497b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用Vue 3和JavaScript创建一个联系人表单应用程序。</p><h1 id="bcb5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建项目</h1><p id="a1b8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用Vue CLI创建Vue项目。</p><p id="5322" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="011e" class="mn lc iq mj b gy mo mp l mq mr">npm install -g @vue/cli</span></pre><p id="5666" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">与NPM或:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="80a4" class="mn lc iq mj b gy mo mp l mq mr">yarn global add @vue/cli</span></pre><p id="82da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用纱线。</p><p id="a246" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="02d9" class="mn lc iq mj b gy mo mp l mq mr">vue create contact-form</span></pre><p id="1553" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并选择所有默认选项来创建项目。</p><h1 id="07d9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建联系人表单</h1><p id="807a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了创建联系人表单应用程序，我们编写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ddb1" class="mn lc iq mj b gy mo mp l mq mr">&lt;template&gt;<br/>  &lt;form @submit.prevent="submit" @reset="onReset"&gt;<br/>    &lt;div&gt;<br/>      &lt;label&gt;name&lt;/label&gt;<br/>      &lt;input v-model="name" /&gt;<br/>    &lt;/div&gt;</span><span id="c75c" class="mn lc iq mj b gy ms mp l mq mr">    &lt;div&gt;<br/>      &lt;label&gt;email&lt;/label&gt;<br/>      &lt;input v-model="email" /&gt;<br/>    &lt;/div&gt;</span><span id="1f64" class="mn lc iq mj b gy ms mp l mq mr">    &lt;div&gt;<br/>      &lt;label&gt;message&lt;/label&gt;<br/>      &lt;textarea v-model="message"&gt;&lt;/textarea&gt;<br/>    &lt;/div&gt;</span><span id="b074" class="mn lc iq mj b gy ms mp l mq mr">    &lt;button type="submit"&gt;submit&lt;/button&gt;<br/>    &lt;button type="reset"&gt;reset&lt;/button&gt;<br/>  &lt;/form&gt;<br/>&lt;/template&gt;</span><span id="e0a7" class="mn lc iq mj b gy ms mp l mq mr">&lt;script&gt;<br/>export default {<br/>  name: "App",<br/>  data() {<br/>    return {<br/>      name: "",<br/>      email: "",<br/>      message: "",<br/>    };<br/>  },<br/>  computed: {<br/>    formValid() {<br/>      const { name, email, message } = this;<br/>      return (<br/>        name.length &gt; 0 &amp;&amp;<br/>        /(.+)@(.+){2,}\.(.+){2,}/.test(email) &amp;&amp;<br/>        message.length &gt; 0<br/>      );<br/>    },<br/>  },<br/>  methods: {<br/>    onReset() {<br/>      this.name = "";<br/>      this.email = "";<br/>      this.message = "";<br/>    },<br/>    submit() {<br/>      if (!this.formValid) {<br/>        return;<br/>      }<br/>      if (!localStorage.getItem("messages")) {<br/>        localStorage.setItem("messages", JSON.stringify([]));<br/>      }<br/>      const messages = JSON.parse(localStorage.getItem("messages"));<br/>      const { name, email, message } = this;<br/>      messages.push({<br/>        name,<br/>        email,<br/>        message,<br/>      });<br/>      localStorage.setItem("messages", JSON.stringify(messages));<br/>    },<br/>  },<br/>};<br/>&lt;/script&gt;</span></pre><p id="f9ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe mt mu mv mj b">form</code>元素创建一个表单。</p><p id="7826" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加了带有<code class="fe mt mu mv mj b">@submit</code>指令的<code class="fe mt mu mv mj b">submit</code>事件处理程序。</p><p id="12d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">prevent</code>修饰符让我们可以在客户端而不是服务器端提交表单。</p><p id="76da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">@reset</code>指令监听当我们点击一个<code class="fe mt mu mv mj b">type</code>属性设置为<code class="fe mt mu mv mj b">reset</code>的按钮时发出的重置事件。</p><p id="9d35" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，当我们单击reset按钮时，就会发出<code class="fe mt mu mv mj b">reset</code>事件。</p><p id="271d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将输入与<code class="fe mt mu mv mj b">v-model</code>相加，将输入值绑定到无功属性。</p><p id="6ec1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">反应属性在我们在<code class="fe mt mu mv mj b">data</code>方法中返回的对象中定义。</p><p id="9fa4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们单击属性设置为<code class="fe mt mu mv mj b">submit</code>的按钮时，它会运行提交事件处理程序。</p><p id="05f4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe mt mu mv mj b">formValid</code>强制属性来检查每个值是否有效。</p><p id="4d2c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们检查<code class="fe mt mu mv mj b">name</code>和<code class="fe mt mu mv mj b">message</code>的长度是否大于0。</p><p id="f724" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而那个<code class="fe mt mu mv mj b">email</code>是邮件。</p><p id="1707" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">onReset</code>方法将反应属性重置为空字符串。</p><p id="8bce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">submit</code>方法使用<code class="fe mt mu mv mj b">formValid</code>计算属性检查所有值是否有效。</p><p id="4b90" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们将输入的表单值存储在本地存储中。</p><p id="0663" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们检查带有关键字<code class="fe mt mu mv mj b">messages</code>的本地存储条目是否存在。</p><p id="f9c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们用空数组的初始值来创建它。</p><p id="0124" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，在用<code class="fe mt mu mv mj b">localStorage.getItem</code>获取值并用<code class="fe mt mu mv mj b">JSON.parse</code>将它解析成一个对象之后，我们将一个新的条目推入其中。</p><p id="c9e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们存储<code class="fe mt mu mv mj b">messages</code>数组，用<code class="fe mt mu mv mj b">localStorate.setItem</code>将消息条目推入本地存储。</p><h1 id="3b2b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="bbd2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用Vue 3和JavaScript轻松创建联系人表单。</p><p id="0fa5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p><p id="608a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>