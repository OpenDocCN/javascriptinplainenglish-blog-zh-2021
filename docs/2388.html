<html>
<head>
<title>How to Format Numbers as a Currency String in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中将数字格式化为货币字符串？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-format-numbers-as-a-currency-string-in-javascript-d5f03ad8081c?source=collection_archive---------25-----------------------#2021-05-17">https://javascript.plainenglish.io/how-to-format-numbers-as-a-currency-string-in-javascript-d5f03ad8081c?source=collection_archive---------25-----------------------#2021-05-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8d4e31677e167481e9864646484efe04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*moN6WlcCXomt4tGm"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@macauphotoagency?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Macau Photo Agency</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="da24" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将数字格式化为货币字符串是我们在JavaScript应用程序中有时不得不做的事情。</p><p id="8f6b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何用JavaScript将数字格式化为货币字符串。</p><h1 id="fd77" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">国际机场。数字格式构造函数</h1><p id="2950" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用大多数浏览器自带的<code class="fe me mf mg mh b">Intl.NumberFormat</code>构造函数将数字格式化为货币字符串。</p><p id="c3c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0785" class="mq lc iq mh b gy mr ms l mt mu">const formatter = new Intl.NumberFormat('en-US', {<br/>  style: 'currency',<br/>  currency: 'USD',<br/>});<br/>const str = formatter.format(1500);<br/>console.log(str)</span></pre><p id="6336" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们传入locale和一个带有构造函数的格式化选项参数的对象。</p><p id="4fab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">style</code>设置为<code class="fe me mf mg mh b">'currency'</code>，将数字格式化为货币字符串。</p><p id="aa18" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">currency</code>设置为<code class="fe me mf mg mh b">'USD'</code>，让我们把它的数字格式化成美元格式。</p><p id="3a0d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们就用金额调用<code class="fe me mf mg mh b">format</code>，把结果赋给<code class="fe me mf mg mh b">str</code>。</p><p id="892e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以<code class="fe me mf mg mh b">str</code>就是<code class="fe me mf mg mh b">‘$1,500.00’</code>。</p><p id="9dde" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以设置对象中的<code class="fe me mf mg mh b">minimumFractionDigits</code>和<code class="fe me mf mg mh b">maximumFractionDigits</code>属性来设置要返回的最小和最大小数位数。</p><h1 id="64de" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe me mf mg mh b">toLocaleString</code></h1><p id="c2eb" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">JavaScript字符串带有<code class="fe me mf mg mh b">toLocaleString</code>方法，该方法允许我们将数字格式化为货币字符串。</p><p id="6c5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b744" class="mq lc iq mh b gy mr ms l mt mu">const str = (1500).toLocaleString('en-US', {<br/>  style: 'currency',<br/>  currency: 'USD',<br/>});<br/>console.log(str)</span></pre><p id="a273" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">参数与<code class="fe me mf mg mh b">format</code>方法相同。</p><p id="43aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而且我们得到的结果和<code class="fe me mf mg mh b">Intl.NumberFormat</code>一样。</p><p id="b264" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们需要格式化大量数字，那么<code class="fe me mf mg mh b">Intl.NumberFormat</code>比<code class="fe me mf mg mh b">toLocaleString</code>快70倍，所以如果我们需要格式化大量数字，最好使用<code class="fe me mf mg mh b">Intl.NumberFormat</code>。</p><h1 id="f11e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">正则表达式替换</h1><p id="935a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">toFixed</code>方法返回一个有两位小数的字符串。</p><p id="799c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以使用<code class="fe me mf mg mh b">replace</code>给返回的字符串添加千位分隔符。</p><p id="db8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8856" class="mq lc iq mh b gy mr ms l mt mu">const str = (123.45).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&amp;,');</span></pre><p id="9516" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">?=</code>是一个前瞻断言，让我们在一个数字后面的字符串中获得3个数字的组。</p><p id="cc74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，如果它看到一组3个数字在另一个数字后面，那么它会在数字之间添加一个逗号。</p><p id="5d44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">$&amp;</code>表示我们希望在现有字符串中进行替换，而不是替换字符。</p><p id="7576" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，<code class="fe me mf mg mh b">str</code>应该是<code class="fe me mf mg mh b">'123.45'</code>。</p><h1 id="966f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="1509" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过使用内置方法用JavaScript将数字格式化成货币字符串。</p><p id="f910" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以使用<code class="fe me mf mg mh b">replace</code>方法在3位数的组之间添加逗号。</p><p id="1824" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>