<html>
<head>
<title>How to Get a React Site with a Custom Domain Up and Running Within Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在几分钟内建立并运行一个带有自定义域的React站点</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-a-react-site-with-custom-domain-up-and-running-within-minutes-8c8164b70fb4?source=collection_archive---------3-----------------------#2021-04-26">https://javascript.plainenglish.io/getting-a-react-site-with-custom-domain-up-and-running-within-minutes-8c8164b70fb4?source=collection_archive---------3-----------------------#2021-04-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b07c9da156bac849097641475b095990.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9FfCC6Qu9OUru3Iu"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@flowforfrank?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ferenc Almasi</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7a44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我和朋友在外面讨论汉堡，并和他们分享了我在这个城市最确定的五大汉堡店。其中一个建议我把我的排名变成一个网站。出于好奇，我意识到我可以使用React和Github页面在几分钟内建立并运行它(当然还有一个关于汉堡的自定义域)。<em class="lb">接受挑战</em>。</p><p id="c654" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一个关于使用react-gh-pages在几分钟内建立一个应用程序站点的教程。厉害的是，<strong class="kf ir"> <em class="lb"> </em>如果你不介意你的资源库可以公开查看<em class="lb">，</em> </strong>这是完全<strong class="kf ir">免费的</strong>。因此，除了购买域名(每年花费不到一个汉堡)，我在几分钟内免费部署了一个应用程序。</p><p id="1759" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> <em class="lb">配料清单:</em> </strong></p><ul class=""><li id="2475" class="lc ld iq kf b kg kh kk kl ko le ks lf kw lg la lh li lj lk bi translated">自定义域(可选)</li><li id="144f" class="lc ld iq kf b kg ll kk lm ko ln ks lo kw lp la lh li lj lk bi translated">Github帐户/完全空的Github存储库</li><li id="c401" class="lc ld iq kf b kg ll kk lm ko ln ks lo kw lp la lh li lj lk bi translated">安装了足够版本的Node.js、npm和<code class="fe lq lr ls lt b"><a class="ae kc" href="https://github.com/facebookincubator/create-react-app" rel="noopener ugc nofollow" target="_blank">create-react-app</a></code>。</li></ul><ol class=""><li id="07e7" class="lc ld iq kf b kg kh kk kl ko le ks lf kw lg la lu li lj lk bi translated"><strong class="kf ir">获取自定义域(2分钟)。我去了Godaddy.com，找到了bangkokburgerlist.com，并全力以赴。这代表了我在这里要做的事情。</strong></li><li id="150a" class="lc ld iq kf b kg ll kk lm ko ln ks lo kw lp la lu li lj lk bi translated"><strong class="kf ir">检查先决条件(1分钟)。我遵循了react-gh-pages的教程，在这里可以找到:【https://github.com/gitname/react-gh-pages】T21，其中涉及到检查先决条件，我通过运行指定的命令来做到这一点。一切都好。</strong></li><li id="ca0d" class="lc ld iq kf b kg ll kk lm ko ln ks lo kw lp la lu li lj lk bi translated">在Github上创建一个空的存储库。导航到您的Github帐户的“您的存储库”部分。点击绿色的“新建”按钮，键入一个存储库名称。确保下面没有被选中(所以没有README.md，。gitignore，或者license file added)，最重要的是确保你的库设置为public 。当你完成这个过程后，将它设置为“private”会得到一个令人沮丧的404页面。</li><li id="24ba" class="lc ld iq kf b kg ll kk lm ko ln ks lo kw lp la lu li lj lk bi translated">创建应用程序。(30秒)。运行:</li></ol><pre class="lv lw lx ly gt lz lt ma mb aw mc bi"><span id="086c" class="md me iq lt b gy mf mg l mh mi">npx create-react-app whatever-your-app-name-is</span></pre><p id="a517" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后去那个文件夹</p><pre class="lv lw lx ly gt lz lt ma mb aw mc bi"><span id="3c5c" class="md me iq lt b gy mf mg l mh mi">cd whatever-your-app-name-is</span></pre><p id="f0f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，在我的例子中，我写了<code class="fe lq lr ls lt b">npx create-react-app bangkok-burger-list</code>，然后是<code class="fe lq lr ls lt b">cd bangkok-burger-list.</code></p><p id="abcd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">5.<strong class="kf ir">将Github pages包作为开发依赖项安装(30秒)。</strong></p><pre class="lv lw lx ly gt lz lt ma mb aw mc bi"><span id="dea5" class="md me iq lt b gy mf mg l mh mi">npm install gh-pages --save-dev</span></pre><p id="2369" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.<strong class="kf ir">打开项目文件夹，配置package.json文件(1分钟)。</strong></p><p id="1758" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在顶层添加这一行。</p><pre class="lv lw lx ly gt lz lt ma mb aw mc bi"><span id="93be" class="md me iq lt b gy mf mg l mh mi">"homepage": "http://your-github-username.github.io/whatever-your-app-name-is"</span></pre><p id="8cd2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在scripts属性中，添加这两行。</p><pre class="lv lw lx ly gt lz lt ma mb aw mc bi"><span id="8af4" class="md me iq lt b gy mf mg l mh mi">"scripts": {<br/>  //...<br/>  "predeploy": "npm run build",<br/>  "deploy": "gh-pages -d build"<br/>}</span></pre><p id="da1c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，您的配置应该如下所示</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/2ded28df07083910cc2f3c17f626bddd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qMOiKUN8eCI4NQQTIAJhHw.png"/></div></div></figure><p id="d06f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">7.<strong class="kf ir">在你的应用程序文件夹</strong> (30秒)<strong class="kf ir">中创建一个git库。</strong></p><pre class="lv lw lx ly gt lz lt ma mb aw mc bi"><span id="866c" class="md me iq lt b gy mf mg l mh mi">git init</span></pre><p id="bbda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它应该返回<code class="fe lq lr ls lt b">Initialized empty Git repository in C:/path/to/whatever-your-app-name-is/.git/</code></p><p id="0eff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">8.<strong class="kf ir">将您在步骤1中创建的存储库作为“远程”添加到您的本地git存储库中</strong> (30秒)</p><pre class="lv lw lx ly gt lz lt ma mb aw mc bi"><span id="e1ad" class="md me iq lt b gy mf mg l mh mi">git remote add origin https://github.com/your-user-name/whatever-your-app-name-is.git</span></pre><p id="1508" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您的<code class="fe lq lr ls lt b">-pages</code>包知道了您希望它在哪里部署您的应用程序，以及在哪里推送您的源代码。</p><p id="6612" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">9.<strong class="kf ir">生成生产构建(1-10分钟)。</strong>在这里它变得非常令人兴奋！</p><pre class="lv lw lx ly gt lz lt ma mb aw mc bi"><span id="f100" class="md me iq lt b gy mf mg l mh mi">npm run deploy</span></pre><p id="fbdc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">给它一两分钟(但不要太长)。您的页面将很快在<a class="ae kc" href="http://your-username.github.io/whatever-your-app-name-is" rel="noopener ugc nofollow" target="_blank">http://your-username.github.io/whatever-your-app-name-is</a>显示</p><p id="a87c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一些文档说这个过程需要10分钟，但我认为平均下来不到3分钟。</p><p id="8418" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您没有选择自定义域选项，恭喜您，您已经完成了！你现在可以开始开发这个非常酷的应用了。如果您这样做了，继续这个过程，将其连接到您的Github页面。</p><p id="ba85" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">10.<strong class="kf ir">指向您的域名。</strong>需要增加4条ANAME记录，编辑您的CNAME记录。您的CNAME记录应该指向您的用户名github.io，A记录将指向:</p><ul class=""><li id="5e99" class="lc ld iq kf b kg kh kk kl ko le ks lf kw lg la lh li lj lk bi">185.199.108.153</li><li id="e062" class="lc ld iq kf b kg ll kk lm ko ln ks lo kw lp la lh li lj lk bi">185.199.109.153</li><li id="114c" class="lc ld iq kf b kg ll kk lm ko ln ks lo kw lp la lh li lj lk bi">185.199.110.153</li><li id="74b5" class="lc ld iq kf b kg ll kk lm ko ln ks lo kw lp la lh li lj lk bi">185.199.111.153</li></ul><p id="3ff3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您的设置应该如下所示:</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/2ec2fbc7ae46c01099447b5282a34d21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z6fyFn76qeTnvCE0maWpWw.png"/></div></div></figure><p id="f773" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">11.<strong class="kf ir">在Github页面设置中添加自定义域(1-30分钟)。</strong>在您的Github帐户中，导航到您的存储库设置→页面并滚动到“自定义域”部分。您可以在这里输入您的自定义域并保存。我将我的TTL设置为半小时，因此这一变化最多需要一小时来传播<em class="lb">(至少我认为这是这个意思)。</em>一旦该功能生效，您应该可以选择“强制HTTPS”，您应该这样做，因为这是一个免费的SSL证书。您的屏幕应该如下所示:</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/11eb5de0e7fa41648550d701c137358d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gmRqhut9XBN7pbSzpFRb4A.png"/></div></div></figure><p id="c785" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">12.<strong class="kf ir">完成！</strong>等等——不。所以大多数教程都是这样的，但是一个我们遗忘的非常重要的设置是我们的<strong class="kf ir">包。所以进入你的项目的<strong class="kf ir">包。json </strong>在你的本地并且改变“主页”设置从:</strong></p><pre class="lv lw lx ly gt lz lt ma mb aw mc bi"><span id="26da" class="md me iq lt b gy mf mg l mh mi">"homepage": "http://your-github-username.github.io/whatever-your-app-name-is"</span></pre><p id="d468" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">到</p><pre class="lv lw lx ly gt lz lt ma mb aw mc bi"><span id="e1a8" class="md me iq lt b gy mf mg l mh mi">"homepage": "https://whatever-your-custom-domain-is.com"</span></pre><p id="5720" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">没有这最后的改变，去我的域名不断打开一个悲伤的空白页。有很多有用的教程可以帮助你达到这个阶段，但是他们都没有提到这一点，至少对我来说是这样。有些人甚至把我送进了一个兔子洞，检查StackOverflow，并进行各种其他更改。这解决了空白页的问题(至少对我来说)，几乎和将存储库设置为“公共”一样“没有废话”。</p><p id="f7b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">13.<strong class="kf ir">好了，现在我们真的结束了！该使用您的应用程序了！</strong></p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/e58e5586af4e593a02e5fa14bfe43095.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*-qdapecrlZq9fwG8J1k4aA.gif"/></div></figure><p id="3754" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">后记</strong>:有时在部署之后，您需要在您的存储库的设置→页面和自定义域下继续添加域。只需重复第11步，只需几秒钟。</p><p id="2400" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="lb">更多内容看plainenglish.io </em> </a></p></div></div>    
</body>
</html>