<html>
<head>
<title>Build a LinkedIn Clone</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建领英克隆</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-a-linkedin-clone-302206776137?source=collection_archive---------5-----------------------#2021-03-23">https://javascript.plainenglish.io/building-a-linkedin-clone-302206776137?source=collection_archive---------5-----------------------#2021-03-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5b43" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第4部分:Redux设置，构建登录页面，并部署到Firebase。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/876b96e1063b064b23a559ef66d1694a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ffesBp0lJH6zXAI7r7fnA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@inlytics?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">inlytics | LinkedIn Analytics Tool</a> on <a class="ae kv" href="https://unsplash.com/s/photos/linkedin?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1fc9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你想让你的开发技能更上一层楼还是想给你未来的雇主留下深刻印象？那就建立这个<a class="ae kv" href="https://linkedin-clone-5ebs.web.app/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">领英克隆体</strong> </a> <strong class="ky ir">！</strong></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="988c" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">第4部分</h1><p id="40b4" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在本系列的<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/building-a-linkedin-clone-1d44652f162e">第3部分</a>中，我们构建了Feed&amp;Widgets组件，并将Feed组件连接到了Firestore。</p><p id="407e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在最后一篇文章中，我们将设置Redux来管理用户状态，构建登录页面，最后部署到Firebase！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="39e6" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">1.—设置Redux</h1><p id="434a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Redux是一个用于管理应用程序状态的JavaScript库。在第一集里，我们用<strong class="ky ir"/><a class="ae kv" href="https://redux-toolkit.js.org/introduction/quick-start" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">Redux Toolkit</strong></a><strong class="ky ir">创建了一个<strong class="ky ir"> React </strong>应用启动器。</strong>这创建了一个模板来使用Redux with reaction。在继续之前，我们必须重新组织由模板创建的文件夹。</p><ul class=""><li id="44d6" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">从<code class="fe nf ng nh ni b">counter</code>文件夹中删除<code class="fe nf ng nh ni b">Counter.module.css</code>和<code class="fe nf ng nh ni b">Counter.js</code>文件。</li><li id="548c" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr nb nc nd ne bi translated">将<code class="fe nf ng nh ni b">counterSlice.js</code>文件移到<code class="fe nf ng nh ni b">features</code>文件夹。</li><li id="cd7c" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr nb nc nd ne bi translated">删除<code class="fe nf ng nh ni b">counter</code>文件夹，将<code class="fe nf ng nh ni b">counterSlice.js</code>文件重命名为<code class="fe nf ng nh ni b">userSlice.js</code>。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/32a656296ed597e88034156d1644615d.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/1*MaAMWXP8W_cn86pR-7yL0g.png"/></div></figure><ul class=""><li id="af2e" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">将<code class="fe nf ng nh ni b">userSlice.js</code>中的代码替换为:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><ul class=""><li id="cb9f" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">用以下内容替换<code class="fe nf ng nh ni b">store.js</code>文件中的内容:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="8f99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Redux创建了一个数据层，通过该层我们可以将用户的信息传递给其他组件，从而避免了正确钻孔的问题。登录页面将收集来自用户的信息(如姓名、电子邮件、个人资料图片)，这些信息可以被从Redux创建的数据层中提取数据的其他组件使用。此外，我们还可以控制用户的状态，管理<code class="fe nf ng nh ni b">login</code>、<code class="fe nf ng nh ni b">logout</code>动作。</p><p id="69f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当用户注销时，用户的状态将等于<code class="fe nf ng nh ni b">null</code>，而当用户登录时，状态将等于<code class="fe nf ng nh ni b">action.payload</code>，一个包含用户信息的对象。</p><ul class=""><li id="ee4e" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">现在转到<code class="fe nf ng nh ni b">App.js</code>并添加以下代码:</li></ul><pre class="kg kh ki kj gt nr ni ns nt aw nu bi"><span id="07d0" class="nv ma iq ni b gy nw nx l ny nz">const user = useSelector(selectUser)</span></pre><p id="88ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将从数据存储中提取数据。</p><ul class=""><li id="2d42" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">在<code class="fe nf ng nh ni b">App.js</code>中，如果用户已登录，使用三元运算符显示主应用程序，或者如果用户已注销或没有个人资料，则显示登录页面。</li></ul><p id="f538" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您的<code class="fe nf ng nh ni b">App.js</code>文件现在应该看起来像这样:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="b469" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在必须创建登录页面。</p><h1 id="14d2" class="lz ma iq bd mb mc oa me mf mg ob mi mj jw oc jx ml jz od ka mn kc oe kd mp mq bi translated"><strong class="ak"> 2。—创建登录页面</strong></h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/51d9344ef9ceba6faaceb6679522c815.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*68tutnwk5bNPn9xFYLEB-A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The login page.</figcaption></figure><ul class=""><li id="25d0" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">在<strong class="ky ir"> </strong> <code class="fe nf ng nh ni b">Login</code> <strong class="ky ir"> </strong>文件夹中，创建一个名为<code class="fe nf ng nh ni b">Login.js</code>的文件。</li><li id="b912" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr nb nc nd ne bi translated">一旦你在文件中，输入<code class="fe nf ng nh ni b">rfce</code> <strong class="ky ir"> </strong>来使用来自ES7片段<em class="og">的<strong class="ky ir"> </strong>片段。</em></li><li id="679a" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr nb nc nd ne bi translated">还是在<code class="fe nf ng nh ni b">Login</code> <strong class="ky ir"> </strong>文件夹中，做一个<code class="fe nf ng nh ni b">Login.css</code>文件，导入到你的<code class="fe nf ng nh ni b">Login.js</code>组件中。</li><li id="950a" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr nb nc nd ne bi translated">最终的<code class="fe nf ng nh ni b">Login</code> <strong class="ky ir"> </strong>组件将是这样的:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="5dc1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">登录页面由徽标、一个带有四个不同<code class="fe nf ng nh ni b">&lt;input&gt;</code>的<code class="fe nf ng nh ni b">&lt;form&gt;</code>、一个按钮和一个<code class="fe nf ng nh ni b">&lt;span&gt;</code>组成。<br/>为了跟踪用户的电子邮件、姓名和密码，我们使用React钩子<code class="fe nf ng nh ni b">useState</code>。这些状态的初始值将是一个空字符串。添加一个<code class="fe nf ng nh ni b">onChange</code>事件，我们可以将这些状态的值设置为用户输入的值。</p><p id="e653" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<a class="ae kv" href="https://firebase.google.com/docs/auth/web/password-auth" rel="noopener ugc nofollow" target="_blank"> Firebase认证</a>和<code class="fe nf ng nh ni b">createUserWithEmailAndPassword</code>通过箭头功能<code class="fe nf ng nh ni b">register</code>管理注册。</p><p id="de1c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<a class="ae kv" href="https://firebase.google.com/docs/auth/web/password-auth" rel="noopener ugc nofollow" target="_blank"> Firebase认证</a>和<code class="fe nf ng nh ni b">signInWithEmailAndPassword</code>通过箭头功能<code class="fe nf ng nh ni b">loginToApp</code>管理认证。</p><p id="c388" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用<code class="fe nf ng nh ni b">UseDispatch()</code>钩子将从用户那里收集的信息推送到redux store中。</p><ul class=""><li id="3cf2" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">为了给我们的<code class="fe nf ng nh ni b">Login.js</code>组件添加一些样式，打开<code class="fe nf ng nh ni b">Login.css</code>并添加以下代码:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/6107c26544d49fdde9b8f323fc7ae9cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*lI9gvZwXgiZze76SxJTufw.gif"/></div></figure><p id="bd53" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">登录组件现在可以工作了！</p><p id="9e84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了完成我们的应用程序，我们现在必须添加注销功能，在用户登录后保持登录，并在来自<strong class="ky ir"/><strong class="ky ir">Firestore数据库的提要组件中显示数据。</strong></p><ul class=""><li id="05d4" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">回到<code class="fe nf ng nh ni b">App.js</code>组件，添加以下代码:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="938c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nf ng nh ni b">onAuthStateChanged</code>监听器监视用户是否登录。</p><ul class=""><li id="1fbf" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">现在转到<code class="fe nf ng nh ni b">HeaderOption.js</code>并将<code class="fe nf ng nh ni b">onClick</code>事件添加到<code class="fe nf ng nh ni b">HeaderOption</code>函数中。</li><li id="d268" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr nb nc nd ne bi translated">转到<code class="fe nf ng nh ni b">Header.js</code>并添加以下代码:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="a056" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将为“注销”按钮添加注销功能。</p><ul class=""><li id="e64c" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">现在转到<code class="fe nf ng nh ni b">Sidebar.js</code>文件，将内容改为如下:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><ul class=""><li id="d647" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">转到<code class="fe nf ng nh ni b">Feed.js</code>文件，将内容更改如下:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="b438" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nf ng nh ni b">useSelector()</code>钩子允许我们使用选择器函数从Redux存储状态中提取用户的数据。这样，数据不再是硬编码的，而是从<strong class="ky ir"> Firestore数据库中获得的。</strong></p><p id="5689" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">恭喜你！您刚刚构建了一个LinkedIn克隆版！！</p><h1 id="4172" class="lz ma iq bd mb mc oa me mf mg ob mi mj jw oc jx ml jz od ka mn kc oe kd mp mq bi translated">3.—部署到Firebase</h1><p id="ab83" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">部署前，确保安装<a class="ae kv" href="https://firebase.google.com/docs/cli#install_the_firebase_cli" rel="noopener ugc nofollow" target="_blank"> Firebase工具。</a></p><ul class=""><li id="4dde" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">要部署我们的项目，请转到控制台并键入命令<strong class="ky ir">“firebase init”</strong></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/b32941f143485f420512733c81ba319e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ng4I0TlF7iMXVtDw4QtRFw.png"/></div></div></figure><ul class=""><li id="9e95" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">选择使用现有项目</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/1d20ab36ebda4012156a22a4c48534ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*lA5keo79ygJvMTnBH2WSVg.png"/></div></figure><ul class=""><li id="9fed" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">在公共目录中键入“<strong class="ky ir"> build </strong>”</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/9e46755fff4fd05e2138057661037258.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*LnkX45jhrXgcsgnyaGqlzg.png"/></div></figure><ul class=""><li id="fe8c" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">配置为单页应用程序</li><li id="d3a1" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr nb nc nd ne bi translated">现在在控制台中运行命令"<strong class="ky ir"> npm run build </strong>"</li></ul><p id="c11a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将创建应用程序的优化版本，以便在线托管。</p><p id="780e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">构建完成后，在控制台中键入“<strong class="ky ir"> firebase deploy </strong>”。</p><p id="4c0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成后，你应该会得到一个在线托管你的应用的URL。在这里看看我的:https://linkedin-clone-5ebs.web.app/<a class="ae kv" href="https://linkedin-clone-5ebs.web.app/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="db33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">恭喜你！！！您刚刚在Firebase主机上部署了您的Google克隆！！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/7f5a2821b18f85fe977d74363d8e6e91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*RZVw2HTMzBdiPjPOFr2fCA.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Your LinkedIn clone is done!</figcaption></figure><h1 id="5018" class="lz ma iq bd mb mc oa me mf mg ob mi mj jw oc jx ml jz od ka mn kc oe kd mp mq bi translated">结论</h1><p id="514c" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">太神奇了！你刚刚实现了一个LinkedIn克隆！我希望你有乐趣建设这个项目，你达到了最终的结果！</p><p id="f0d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你一路上迷路了，这里有链接到<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/how-to-build-a-linkedin-clone-683e392ee406">第一部分</a>、<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/build-a-linkedin-clone-9d22d863805b">第二部分</a>、&amp; <a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/building-a-linkedin-clone-1d44652f162e">第三部分</a>以及我的GitHub上的<a class="ae kv" href="https://github.com/5ebs/LinkedIn-Clone" rel="noopener ugc nofollow" target="_blank">完整源代码！</a></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="38f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="og">考虑</em> <a class="ae kv" href="https://ebelinggianmarco.medium.com/membership" rel="noopener"> <strong class="ky ir"> <em class="og">成为中等成员</em></strong></a><strong class="ky ir"><em class="og"/></strong><em class="og">如果你喜欢看这样的故事，并且想帮助我这个作家。每月5美元，你可以无限制地访问媒体内容。如果你通过</em> <a class="ae kv" href="https://ebelinggianmarco.medium.com/membership" rel="noopener"> <strong class="ky ir"> <em class="og">我的链接注册，我会得到一点佣金。</em> </strong> </a></p></div></div>    
</body>
</html>