<html>
<head>
<title>How to Check if a JavaScript String has a Number?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何检查一个JavaScript字符串是否有数字？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-check-if-a-javascript-string-has-a-number-f111e818a82b?source=collection_archive---------12-----------------------#2021-10-25">https://javascript.plainenglish.io/how-to-check-if-a-javascript-string-has-a-number-f111e818a82b?source=collection_archive---------12-----------------------#2021-10-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/bafb5dbd0dde310e65cb4c2c5cb2f11f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PJOGOWAdApo5e8Be"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@geist?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sarra Marzguioui</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1405" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">检查一个JavaScript字符串是否是一个数字是我们经常要做的事情。</p><p id="acda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何检查一个JavaScript字符串是否是一个有效的数字。</p><h1 id="4407" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">编写我们自己的函数</h1><p id="c4d2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以编写自己的函数来检查一个字符串是否是数字字符串。</p><p id="f54d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="f3d0" class="mn lc iq mj b gy mo mp l mq mr">const isNumeric = (str) =&gt; {<br/>  if (typeof str !== "string") return false<br/>  return !isNaN(str) &amp;&amp;<br/>    !isNaN(parseFloat(str))<br/>}</span><span id="2b90" class="mn lc iq mj b gy ms mp l mq mr">console.log(isNumeric('123'))<br/>console.log(isNumeric('abc'))</span></pre><p id="68d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们用<code class="fe mt mu mv mj b">typeof</code>操作符检查<code class="fe mt mu mv mj b">str</code>是否是一个字符串。</p><p id="8329" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这确保了我们检查的是一个字符串，而不是其他东西。</p><p id="42d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe mt mu mv mj b">isNaN</code>,看看我们是否能把它转换成一个数字，然后检查转换后的值是否是一个数字。</p><p id="0d25" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe mt mu mv mj b">isNaN</code>返回<code class="fe mt mu mv mj b">false</code>，那么我们知道它很有可能是一个数字。</p><p id="a241" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，如果字符串以数字开头，它也可以只取字符串的数字部分，然后将其转换为数字。</p><p id="74d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们还需要调用<code class="fe mt mu mv mj b">parseFloat</code>将字符串解析成数字，以确保整个字符串都是数字。</p><p id="21e5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以对<code class="fe mt mu mv mj b">isNaN</code>进行同样的检查，以确保<code class="fe mt mu mv mj b">parseFloat</code>不会返回<code class="fe mt mu mv mj b">NaN</code>。</p><p id="3312" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，第一个控制台日志应该记录<code class="fe mt mu mv mj b">true</code>。</p><p id="cd22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个控制台日志应该记录<code class="fe mt mu mv mj b">false</code>。</p><h1 id="25f2" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">一元加运算符</h1><p id="bf72" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们还可以使用一元加号运算符将字符串转换为数字。</p><p id="1878" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2753" class="mn lc iq mj b gy mo mp l mq mr">console.log(+'123')<br/>console.log(+'123abc')</span></pre><p id="0007" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第一个控制台日志日志123</p><p id="598a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二控制台日志记录<code class="fe mt mu mv mj b">NaN</code>。</p><p id="66e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">唯一的问题是空字符串用一元加号运算符转换为0。</p><h1 id="2004" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe mt mu mv mj b">parseInt</code></h1><p id="fb40" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe mt mu mv mj b">parseInt</code>把整数串转换成整数。</p><p id="3faa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="96d4" class="mn lc iq mj b gy mo mp l mq mr">console.log(parseInt('123'))<br/>console.log(parseInt('123abc'))</span></pre><p id="a6f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们都记录123，因为如果字符串以一个数字开始，那么<code class="fe mt mu mv mj b">parseInt</code>将获取该字符串的数字部分，并将其转换为一个数字。</p><p id="8b20" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是字符串不是以数字开头，那么它返回<code class="fe mt mu mv mj b">NaN</code>。</p><h1 id="270c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe mt mu mv mj b">parseFloat</code></h1><p id="e44b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe mt mu mv mj b">parseFloat</code>方法将带有十进制数字的字符串转换成数字。</p><p id="6461" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="9e15" class="mn lc iq mj b gy mo mp l mq mr">console.log(parseFloat('123.45'))<br/>console.log(parseFloat('123.45abc'))</span></pre><p id="1776" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它们都记录123.45，因为它也接受字符串的数字部分，如果字符串以数字开头，则尝试将其转换为数字。</p><p id="9650" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是字符串不是以数字开头，那么它也返回<code class="fe mt mu mv mj b">NaN</code>。</p><h1 id="fa51" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">正则表达式检查</h1><p id="6796" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">因为我们处理的是字符串，所以我们也可以使用正则表达式来检查数字是否是数字字符串。</p><p id="fc2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8392" class="mn lc iq mj b gy mo mp l mq mr">const isNumeric = (value) =&gt; {<br/>  return /^-?\d+$/.test(value);<br/>}</span><span id="5fee" class="mn lc iq mj b gy ms mp l mq mr">console.log(isNumeric('123'))<br/>console.log(isNumeric('123abc'))</span></pre><p id="1e8c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">/^-?\d+$/</code> regex让我们检查一个字符串是否以一个负号开始，后面有数字。</p><p id="0229" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，第一个控制台日志记录<code class="fe mt mu mv mj b">true</code>和第二个日志记录<code class="fe mt mu mv mj b">false</code>。</p><h1 id="b43e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="0e4a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用regex或者各种内置的函数和运算符来检查一个字符串在JavaScript中是否是数字。</p><p id="d85c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容尽在</em><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>