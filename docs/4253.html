<html>
<head>
<title>How to Use Callback in the useState() Hook?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在useState()钩子中使用回调？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-callback-in-usestate-hook-afe4113d9ac0?source=collection_archive---------3-----------------------#2021-08-24">https://javascript.plainenglish.io/how-to-use-callback-in-usestate-hook-afe4113d9ac0?source=collection_archive---------3-----------------------#2021-08-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="7376" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">在React的useState()中使用回调函数</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/238345f5daefa7fe5b7539416c541f93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rP0BffxgBneSokj2amV5kw.jpeg"/></div></div></figure><p id="2213" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您正在React中使用类组件，那么您可能熟悉setState()中的回调函数。</p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="2946" class="kz la in kv b gy lb lc l ld le">setState(updateState, callbackFunction)</span><span id="8e5e" class="kz la in kv b gy lf lc l ld le">this.setState({name: “Azeem Aleem”},()=&gt;{<br/>console.log(“State Response”,this.state.name);<br/>})</span></pre><p id="1bc7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个回调函数总是在状态更新后调用。但是在功能组件中，情况略有不同。</p><p id="aa21" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">我们不能在useState钩子中直接使用回调。要在useState钩子中使用callback，我们需要使用在状态更新后触发的useEffect钩子，并在此之后调用函数。</strong></p><pre class="kj kk kl km gt ku kv kw kx aw ky bi"><span id="3ffa" class="kz la in kv b gy lb lc l ld le">const [state, setState] = useState();<br/>useEffect(() =&gt; {callbackFunction()}, [state])</span></pre><p id="40e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们需要在useEffect依赖数组中传递状态。状态更新时触发useEffect，然后立即调用内部函数。</p><p id="f719" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">关注我</strong> <a class="ae lg" href="https://www.linkedin.com/in/azeem-aleem-560345148/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> LinkedIn </strong> </a></p><p id="9598" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有什么问题吗？请评论<br/>谢谢<br/>问候:Azeem Aleem </p><p id="8d78" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lh">更多内容看</em> <a class="ae lg" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="lh">说白了. io </em> </strong> </a></p></div></div>    
</body>
</html>