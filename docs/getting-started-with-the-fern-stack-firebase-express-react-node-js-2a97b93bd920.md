# è•¨ç±»æ¤ç‰©ç¾¤è½ç®€ä»‹

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/getting-started-with-the-fern-stack-firebase-express-react-node-js-2a97b93bd920?source=collection_archive---------3----------------------->

## Firebaseï¼ŒExpressï¼Œreactionï¼ŒNode.js .ä¸–ç•Œä¸Šæœ€ç®€å•çš„ç½‘ç»œå †æ ˆï¼äº†è§£å¦‚ä½•åˆ›å»ºæ‚¨æ¢¦æƒ³çš„åº”ç”¨ç¨‹åº

![](img/8af0c6b067ff74388cb0076bd360cca1.png)

# ä»€ä¹ˆæ˜¯ FERNï¼Ÿ

å¾ˆç®€å•:ä¸€ä¸ªå¸®åŠ©ä½ æ„å»ºç½‘ç»œåº”ç”¨çš„æŠ€æœ¯é›†åˆã€‚å®ƒç”± 4 ä¸ªéƒ¨åˆ†ç»„æˆ:

**F** irebase:ä¸€ä¸ªè°·æ­Œå¹³å°ï¼Œè®©æ‚¨å¯ä»¥è®¿é—®å¤§é‡å¼€å‘å·¥å…·ï¼Œæœ€è‘—åçš„æ˜¯ä»–ä»¬çš„**å®æ—¶ NoSQL** æ•°æ®åº“ï¼Œå…è®¸æ‚¨é€šè¿‡ä»–ä»¬çš„ç½‘ç«™ä¿®æ”¹æ•°æ®åº“ã€‚

**E** xpress:ä¸€ä¸ªç”¨äºæ„å»º API çš„å¿«é€Ÿä¸”æç®€çš„ç½‘ç»œæ¡†æ¶ã€‚

**R** eact:ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„å¼€æºå‰ç«¯ JavaScript åº“ã€‚

**N**code . js:ä¸€ä¸ªå…è®¸æ‚¨ä½¿ç”¨ JavaScript ç¼–å†™åç«¯ä»£ç çš„ç¯å¢ƒã€‚

æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œè¿™ä¸ªç½‘ç»œå †æ ˆéå¸¸é€‚åˆæ–°å¼€å‘äººå‘˜ï¼Œå°¤å…¶æ˜¯é‚£äº›ç†Ÿæ‚‰ JavaScript çš„å¼€å‘äººå‘˜ã€‚æ­¤å¤–ï¼Œ **FERN** ä½¿å¾—æ›´æ–°ä»£ç åº“å’Œè°ƒè¯•é”™è¯¯å˜å¾—éå¸¸å®¹æ˜“ã€‚æˆ‘ä»¬çš„å †æ ˆæ˜¯è¿™æ ·çš„:

![](img/2d54e4a1f33c1804058cb135c1fdff87.png)

The arrows indicate communication between two technologies

# æˆ‘ä¼šæ•™ä½ ä»€ä¹ˆ

ä»Šå¤©ï¼Œæˆ‘å°†æ•™ä½ å¦‚ä½•å»ºç«‹ä¸€ä¸ª **FERN é¡¹ç›®**ã€‚å¼€å§‹ä¹‹å‰ï¼Œæ‚¨éœ€è¦æ»¡è¶³ä»¥ä¸‹**å…ˆå†³æ¡ä»¶**:

*   [Node.js](https://nodejs.org/en/)
*   [NPM](https://www.npmjs.com/)
*   [NPX](https://www.npmjs.com/package/npx)
*   [Visual Studio ä»£ç ](https://www.google.com/search?q=visual+studio+code&oq=visual+stu&aqs=chrome.2.69i57j0i433l3j0j0i433l2j69i65.2286j0j4&sourceid=chrome&ie=UTF-8)æˆ–å…¶ä»– IDE/æ–‡æœ¬ç¼–è¾‘å™¨
*   è°·æ­Œè´¦æˆ·
*   è®¿é—®å‘½ä»¤è¡Œ

# **ç¬¬ 1 æ­¥ã€‚è®¾ç½®ååº”é¡¹ç›®**

æ‚¨å¯ä»¥ä»åˆ›å»ºä¸€ä¸ªåä¸º**â€œFERN appâ€**çš„ç©ºæ–‡ä»¶å¤¹å¼€å§‹ï¼Œè¯¥æ–‡ä»¶å¤¹æœ‰ä¸¤ä¸ªå­ç›®å½•:**â€œå‰ç«¯â€**å’Œ**â€œåç«¯â€ã€‚**

![](img/0b438b9b5fdde3393fa83ff9a5d31a0f.png)

æ¥ä¸‹æ¥ï¼Œæ‚¨å¯ä»¥æ‰“å¼€å‘½ä»¤è¡Œå¹¶ä½¿ç”¨ cd å‘½ä»¤å¯¼èˆªåˆ°**â€œâ€¦â€¦/Fern app/front**â€ã€‚ç„¶åï¼Œè¿è¡Œä¸‹é¢çš„è¡Œ:

```
npx create-react-app .
```

è¿™å°†åˆ›å»ºä¸€ä¸ªèµ·å§‹**ååº”**æ¨¡æ¿ã€‚ç„¶åï¼Œæ‚¨å¿…é¡»å®‰è£…æˆ‘ä»¬éœ€è¦çš„è½¯ä»¶åŒ…ã€‚åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œä»¥ä¸‹è¡Œ:

```
npm install firebase react-bootstrap react-router-dom --save
```

å‘½ä»¤å®Œæˆåï¼Œæ‚¨å¯ä»¥åˆ é™¤ä¸å¿…è¦çš„æ–‡ä»¶ã€‚æ‚¨çš„ç›®å½•åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:

![](img/3362d90de164890b2df710b55aedd292.png)

# ç¬¬äºŒæ­¥ã€‚åˆ›å»º Firebase é¡¹ç›®

è¦æ·»åŠ  Firebaseï¼Œæ‚¨å¿…é¡»è®¿é—®[http://firebase.google.com/](http://firebase.google.com/)ã€‚ä½¿ç”¨æ‚¨çš„è°·æ­Œå¸æˆ·ç™»å½•åï¼Œæ‚¨ä¼šå‘ç°åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®çš„é€‰é¡¹ã€‚

![](img/1655495623b57927eaf0c2d0a6b57fd1.png)

Creating a new project

åˆ›å»ºé¡¹ç›®åï¼Œæ‰“å¼€å®ƒå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„**å®æ—¶æ•°æ®åº“**ã€‚é€‰æ‹©å®‰å…¨è§„åˆ™æ—¶ï¼Œç¡®ä¿å°†å…¶ä¿æŒåœ¨**é”å®šæ¨¡å¼ã€‚**

![](img/47da329ff3a4a89a966cdce647648af6.png)

Adding a realtime database

æ¥ä¸‹æ¥ï¼Œè®¾ç½® **Firebase è®¤è¯**ã€‚æ‚¨å¯ä»¥å…è®¸ç”¨æˆ·ä½¿ç”¨ä»–ä»¬çš„ Google å¸æˆ·ç™»å½•ã€‚

![](img/44c89f412e1ca7e0908369481ae43c8a.png)

Setting up user authentication

ç„¶åï¼Œåœ¨é¡¹ç›®æ¦‚è¿°é¡µé¢ä¸Šï¼Œæ‚¨å¿…é¡»é€‰æ‹©å°†**â€œFirebaseâ€æ·»åŠ åˆ°æ‚¨çš„ Web åº”ç”¨ç¨‹åºçš„é€‰é¡¹**

![](img/4db20ceb4b558069c81d4a840da42ed4.png)

After registering the app, you are all done with Step 2.

# ç¬¬ä¸‰æ­¥ã€‚è®¾ç½® Node.js + Express

ç°åœ¨ï¼Œæ‚¨å°†å¼€å§‹åˆ›å»ºåç«¯ã€‚åç«¯å°†æ˜¯ä¸€ä¸ª **REST API** ï¼Œå®ƒå°†ä¸æˆ‘ä»¬çš„ React å‰ç«¯è¿›è¡Œé€šä¿¡ã€‚å®ƒçš„ç›®çš„æ˜¯å‘æˆ‘ä»¬çš„ **Firebase å®æ—¶æ•°æ®åº“**è¯»å–/å†™å…¥æ•°æ®ï¼Œå¢åŠ ä¸€ä¸ªé¢å¤–çš„å®‰å…¨å±‚ï¼Œå¹¶å¯¹ç”¨æˆ·éšè—ä»£ç é€»è¾‘ã€‚

æ¥ä¸‹æ¥ï¼Œæ‚¨å¯ä»¥æ‰“å¼€å‘½ä»¤è¡Œå¹¶ä½¿ç”¨ cd å‘½ä»¤å¯¼èˆªåˆ°**â€œâ€¦/Fern app/back end**â€ã€‚ç„¶åï¼Œè¿è¡Œä»¥ä¸‹ä»£ç è¡Œ:

```
npm init
npm install firebase-admin express --save
```

ç¬¬ä¸‰ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º **index.js** çš„æ–‡ä»¶ã€‚æ‚¨çš„åç«¯ç›®å½•åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:

![](img/73ba16dc447b9c346cace7fb34826d95.png)

åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæ‚¨å¯ä»¥æ·»åŠ ä»¥ä¸‹ä»£ç æ¥è®¾ç½®ä¸€ä¸ªåŸºæœ¬çš„ **REST APIã€‚**

![](img/9eba64b8b0dbaf7ae85e8c3af6805aea.png)

# å°†ä¸€åˆ‡è”ç³»åœ¨ä¸€èµ·

è®©æˆ‘ä»¬é¦–å…ˆå°†æˆ‘ä»¬çš„ **Firebase** é¡¹ç›®è¿æ¥åˆ° **React** å‰ç«¯ã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨æ‚¨çš„**"â€¦/frontend/src/index . js "**æ–‡ä»¶çš„é¡¶éƒ¨æ·»åŠ ä»¥ä¸‹å‡ è¡Œæ¥å®ç°è¿™ä¸€ç‚¹ã€‚

![](img/61dd66ba5f73297208058edef11303b7.png)

ä½ å¯ä»¥ç”¨ä½ çš„åº”ç”¨çš„é”®å’Œæ ‡è¯†ç¬¦æ¥æ›¿æ¢å¼•å·ï¼Œè¿™äº›å¯ä»¥åœ¨ **Firebase** ç½‘ç«™çš„**é¡¹ç›®è®¾ç½®**é¡µé¢çš„**å¸¸è§„**é€‰é¡¹å¡ä¸‹æ‰¾åˆ°ã€‚

æ¥ä¸‹æ¥ï¼Œæ·»åŠ ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºä»æ‚¨çš„ **React** å‰ç«¯å‘æ‚¨çš„**node . js**+**Express**åç«¯å‘é€è¯·æ±‚ã€‚æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡½æ•°æ¥å®ç°è¿™ä¸€ç‚¹:

![](img/cfa541f59f282ee039a9f6f1c4949d30.png)

æœ€åï¼Œè¦å°† **Firebase å®æ—¶æ•°æ®åº“**è¿æ¥åˆ°æ‚¨çš„**node . js**+**Express**åç«¯ï¼Œæ‚¨å¯ä»¥åœ¨ **Firebase** ç½‘ç«™çš„**é¡¹ç›®è®¾ç½®**é¡µé¢ä¸­çš„**æœåŠ¡å¸æˆ·**é€‰é¡¹å¡ä¸‹æ‰¾åˆ° Admin SDK é…ç½®ç‰‡æ®µï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª**æ–°ç§é’¥ã€‚**ä¸‹è½½å¯†é’¥åï¼Œå°†å…¶ç§»åŠ¨åˆ°**åç«¯**æ–‡ä»¶å¤¹ï¼Œå¹¶å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°æ‚¨çš„ **"â€¦/backend/index.js"** æ–‡ä»¶ä¸­:

![](img/06053268758193fafb47c503f89c4939.png)

æ­å–œä½ ï¼Œä½ ç»ˆäºè¿ä¸Šäº†ä½ çš„**è•¨** appï¼

# èµ°å‘

ä½¿ç”¨æˆ‘æä¾›çš„æ¨¡æ¿ï¼Œæ‚¨æœ‰å¯èƒ½æ·»åŠ å¤§é‡çš„åŠŸèƒ½ã€é¢å¤–çš„å®‰å…¨æ€§å’Œæ›´å¤šçš„æŠ€æœ¯ã€‚ä¸‹é¢æ˜¯ä¸€äº›ä½ å¯ä»¥åœ¨ç»§ç»­æ”¹è¿›ä½ çš„ç¬¬ä¸€ä¸ª **FERN** åº”ç”¨æ—¶æ·»åŠ çš„ä¸œè¥¿:

*   [React å‰ç«¯çš„è°·æ­Œè´¦æˆ·ç™»å½•](https://firebase.google.com/docs/auth/web/google-signin)
*   [ä½¿ç”¨ React è·¯ç”±å™¨å’Œ Firebase è®¤è¯ä¿æŠ¤è·¯ç”±](/client-side-routing-with-firebase-a6e630f299f2)
*   Node.js + Express **ä¸­é—´ä»¶**ä½¿ç”¨ JWT ä»¤ç‰Œæ‰§è¡Œæˆæƒçš„å‡½æ•°(è§ä¸‹æ–‡)

![](img/07d5e4f4b53013c8a1a846aad2607d75.png)

React frontend request code with Firebase ID token (JWT)

![](img/eab0f0cb07619f4c179f821a36ceb677.png)

Verifying Firebase ID tokens on the Node.js + Express backend

*   [è¯»å–/å†™å…¥åç«¯ Firebase å®æ—¶æ•°æ®åº“çš„æ•°æ®](https://firebase.google.com/docs/database/admin/start)

## ç»“è®º

æ„Ÿè°¢ä½ æŠŠè¿™ç¯‡æ–‡ç« çœ‹å®Œï¼æˆ‘çœŸçš„å¾ˆé«˜å…´æ‰¾åˆ°åƒæˆ‘ä¸€æ ·å¯¹è®¡ç®—æœºç§‘å­¦å……æ»¡çƒ­æƒ…çš„äººã€‚ä½ å°è¿‡ç¾Šé½¿å †å—ï¼Ÿå¦‚æœæ˜¯è¿™æ ·ï¼Œä¸€å®šè¦åœ¨è¯„è®ºä¸­è®©æˆ‘ä»¬çŸ¥é“ä½ çš„æƒ³æ³•ã€‚

æˆ‘å°†ä¼šå‘å¸ƒæ›´å¤šå…³äºä¸Šè¿°ä¸»é¢˜çš„æ•™ç¨‹ï¼Œæ‰€ä»¥è¯·ç»§ç»­å…³æ³¨ğŸ‘€