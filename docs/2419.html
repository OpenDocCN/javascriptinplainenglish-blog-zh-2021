<html>
<head>
<title>How To Handle Routing With Express</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Express处理路由</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-handle-routing-with-express-7c1870a2ff89?source=collection_archive---------22-----------------------#2021-05-18">https://javascript.plainenglish.io/how-to-handle-routing-with-express-7c1870a2ff89?source=collection_archive---------22-----------------------#2021-05-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="a9ba" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解快速路由</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/852a4bf6b78fbabbff2b301421f72582.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M37Lmf-HgrlV0sqb"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@thisisengineering?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">ThisisEngineering RAEng</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b69e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在本教程中，我们将研究在express.js中使用POST HTTP方法处理数据的各种方法</p><p id="3db1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">本教程是后续express教程的一部分。如果您不熟悉express，并且想了解一下，请随时通过下面的链接查看。</p><div class="lp lq gp gr lr ls"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-handle-routing-with-express-67c0648c52f9"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">如何使用Express处理路由</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">了解如何使用Node.js框架Express处理路由。</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mb l"><div class="mc l md me mf mb mg km ls"/></div></div></a></div><h2 id="07bf" class="mh mi in bd mj mk ml dn mm mn mo dp mp lc mq mr ms lg mt mu mv lk mw mx my mz bi translated"><strong class="ak">搬运岗位</strong></h2><p id="636d" class="pw-post-body-paragraph kt ku in kv b kw na jo ky kz nb jr lb lc nc le lf lg nd li lj lk ne lm ln lo ig bi translated">先决条件</p><ul class=""><li id="f310" class="nf ng in kv b kw kx kz la lc nh lg ni lk nj lo nk nl nm nn bi translated">Postman——Postman使我们能够测试各种端点，以确定我们的API工作正常。</li></ul><p id="e2be" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当我们想要创建一些数据并通过各种端点发送时，使用名为POST的HTTP方法。</p><pre class="kd ke kf kg gt no np nq nr aw ns bi"><span id="c9ab" class="mh mi in np b gy nt nu l nv nw"><br/>router.post(‘/user’, routeHandler);<br/></span></pre><p id="4837" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">上面的代码将通过“/user”端点发送和创建一些数据。</p><p id="1356" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们看一个例子。</p><p id="ad42" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在项目根目录下，创建一个文件夹，将其命名为<strong class="kv io"> <em class="nx">路线</em> </strong>。在创建的“routes”文件夹中，创建一个文件并将其命名为<strong class="kv io"> <em class="nx"> routes.js </em> </strong>。</p><p id="4851" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在<strong class="kv io"> <em class="nx"> routes.js </em> </strong>文件里面</p><p id="a1dc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们将有下面的代码。</p><pre class="kd ke kf kg gt no np nq nr aw ns bi"><span id="0f5f" class="mh mi in np b gy nt nu l nv nw"><br/>const express = require('express');</span><span id="a023" class="mh mi in np b gy ny nu l nv nw">const router = express.Router();</span><span id="068f" class="mh mi in np b gy ny nu l nv nw"><em class="nx">// route handler</em></span><span id="9027" class="mh mi in np b gy ny nu l nv nw">const routeHandler = (req, res) =&gt; {</span><span id="0ef3" class="mh mi in np b gy ny nu l nv nw">res.json({</span><span id="f745" class="mh mi in np b gy ny nu l nv nw">status: 'success',</span><span id="107c" class="mh mi in np b gy ny nu l nv nw">data: req.body</span><span id="3d2a" class="mh mi in np b gy ny nu l nv nw">});</span><span id="2800" class="mh mi in np b gy ny nu l nv nw">};</span><span id="40bd" class="mh mi in np b gy ny nu l nv nw">router.post('/user', routeHandler);</span><span id="8024" class="mh mi in np b gy ny nu l nv nw">module.exports = router;<br/></span></pre><p id="21df" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">从上面的代码片段中，您可以注意到我们已经配置了端点<strong class="kv io"> <em class="nx"> /user </em> </strong>并将其附加到POST的HTTP方法。类似地，我们传递了一个<strong class="kv io"> routehandler </strong>函数给它。</p><p id="896d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">上面代码片段中的<strong class="kv io"> routeHandler </strong>函数将负责返回一个成功的响应，并将发布的信息赋给数据变量。</p><p id="61af" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">每当post请求到达用户的端点时，express将启动<strong class="kv io"> routeHandler </strong>函数并返回一个响应。</p><h2 id="e67e" class="mh mi in bd mj mk ml dn mm mn mo dp mp lc mq mr ms lg mt mu mv lk mw mx my mz bi translated"><strong class="ak">测试终点</strong></h2><p id="5c0f" class="pw-post-body-paragraph kt ku in kv b kw na jo ky kz nb jr lb lc nc le lf lg nd li lj lk ne lm ln lo ig bi translated">让我们用Postman测试端点。</p><p id="b881" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果您不熟悉postman，请打开Postman应用程序并按照步骤操作。</p><ul class=""><li id="895a" class="nf ng in kv b kw kx kz la lc nh lg ni lk nj lo nk nl nm nn bi translated">创建新请求</li><li id="cfe4" class="nf ng in kv b kw nz kz oa lc ob lg oc lk od lo nk nl nm nn bi translated">将方法更改为POST(默认情况下，它是get)</li><li id="5024" class="nf ng in kv b kw nz kz oa lc ob lg oc lk od lo nk nl nm nn bi translated">在URL栏上，输入您用express配置的路线；在我们的例子中，它是'/user '</li><li id="819a" class="nf ng in kv b kw nz kz oa lc ob lg oc lk od lo nk nl nm nn bi translated">所以，在网址栏上，你应该有:<a class="ae ks" href="http://localhost:5000/user" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/user</a></li><li id="09d6" class="nf ng in kv b kw nz kz oa lc ob lg oc lk od lo nk nl nm nn bi translated">单击body选项卡，将其更改为raw(默认情况下，它是表单数据或无)</li><li id="7690" class="nf ng in kv b kw nz kz oa lc ob lg oc lk od lo nk nl nm nn bi translated">因此，将格式改为application/JSON(默认情况下，它是文本格式)</li></ul><p id="ff70" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在我们已经配置了Postman，现在可以测试我们的POST API端点了</p><p id="4a7f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在邮递员正文中输入以下数据，然后单击发送。您可以输入自己选择的数据。</p><p id="64f9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi">{</p><p id="f691" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">“名字”:“约翰”，</p><p id="6893" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">“姓氏”:“菲利普”，</p><p id="d3f5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">“角色”:“开发人员”，</p><p id="609d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi">}</p><p id="c798" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果成功，你会在你的邮差上看到一条成功消息；检查下面相似的一个。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oe"><img src="../Images/1ecfd1b40da797b58df2e2bf864ea93f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JdZssBbejwq5WHjyCzir3A.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Postman endpoint</figcaption></figure><p id="c11f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您将会收到类似上面的示例响应。</p><pre class="kd ke kf kg gt no np nq nr aw ns bi"><span id="ccd5" class="mh mi in np b gy nt nu l nv nw">{</span><span id="f5da" class="mh mi in np b gy ny nu l nv nw">"status": "success",</span><span id="e18a" class="mh mi in np b gy ny nu l nv nw">"data": {</span><span id="2bff" class="mh mi in np b gy ny nu l nv nw">"firstname": "John",</span><span id="36f9" class="mh mi in np b gy ny nu l nv nw">"lastname": "Philip",</span><span id="b557" class="mh mi in np b gy ny nu l nv nw">"role": "Developer"</span><span id="18ca" class="mh mi in np b gy ny nu l nv nw">}</span><span id="8be9" class="mh mi in np b gy ny nu l nv nw">}</span></pre><p id="3409" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在收到成功消息后，我们确信我们的应用程序正在按预期成功运行。</p><p id="cb78" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">此外，需要注意的是，我们可以实现数据验证，以确保我们不会存储我们不想要的数据。</p><p id="7085" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在接下来的系列文章中，我们将研究如何在express中执行数据验证规则。</p><h2 id="e2e2" class="mh mi in bd mj mk ml dn mm mn mo dp mp lc mq mr ms lg mt mu mv lk mw mx my mz bi translated"><strong class="ak">结论</strong></h2><p id="bb28" class="pw-post-body-paragraph kt ku in kv b kw na jo ky kz nb jr lb lc nc le lf lg nd li lj lk ne lm ln lo ig bi translated">感谢您阅读本文到目前为止。如果你觉得它令人兴奋，不要犹豫，让我知道在评论区和分享。</p><div class="lp lq gp gr lr ls"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-improve-your-skills-as-a-developer-ccff0d676ff5"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">如何提高开发人员的技能</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">用这些技巧提高你的技能。</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mb l"><div class="of l md me mf mb mg km ls"/></div></div></a></div><p id="e9bc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nx">更多内容尽在</em><a class="ae ks" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nx">plain English . io</em></strong></a></p></div></div>    
</body>
</html>