<html>
<head>
<title>GraphQL for Beginners: Introduction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初学者GraphQL:简介</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/graphql-for-beginners-introduction-90c78a56a96e?source=collection_archive---------11-----------------------#2021-09-04">https://javascript.plainenglish.io/graphql-for-beginners-introduction-90c78a56a96e?source=collection_archive---------11-----------------------#2021-09-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b4e9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">让我们用GraphQL，React，Apollo来搭建一个实时聊天app吧！初学者的循序渐进教程🔰</h2></div><h1 id="3821" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">第1部分:GraphQL简介</h1><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi kx"><img src="../Images/b294b65a957d2d5677033702eb70b15d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-JlwZTSH7ON-qO8G5p_EqA.jpeg"/></div></div></figure><p id="8da1" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">欢迎来到<a class="ae mf" href="https://lo-victoria.com/series/graphql" rel="noopener ugc nofollow" target="_blank"> GraphQL初级版</a>！本系列的主要目标是介绍GraphQL的基本概念，以及如何使用Apollo将其连接到React这样的前端框架。在本系列结束时，您将拥有一个用GraphQL、React和Apollo构建的简单聊天应用程序。</p><p id="f5bf" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated"><em class="mg">先睹为快:</em></p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi mh"><img src="../Images/74094480d2e98f7b6a4d65abc9e63f8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nVM1U_vYR8sf7GdFmbJzWg.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk">Github repo at: <a class="ae mf" href="https://github.com/victoria-lo/devthoughts" rel="noopener ugc nofollow" target="_blank">https://github.com/victoria-lo/devthoughts</a></figcaption></figure><h1 id="67eb" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">先决条件</h1><ul class=""><li id="5c3c" class="mm mn iq ll b lm mo lp mp ls mq lw mr ma ms me mt mu mv mw bi translated">不需要预先了解GraphQL和Apollo</li><li id="9403" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated">任何代码编辑器</li><li id="354b" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated">React、JavaScript的中级初学者体验</li><li id="7885" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated">对于Windows:安装了Git和Git Bash</li><li id="fa82" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated">可选:在VS代码扩展中获取GraphQL以突出显示语法</li></ul><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nc"><img src="../Images/22fe714c2bf3b84b88d6de8487ba9b8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W7k1qYAFY3x-aDTD"/></div></div></figure><p id="2457" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated"><em class="mg">点击图片下载扩展。</em></p><h1 id="2434" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">GraphQL简介</h1><p id="7a4b" class="pw-post-body-paragraph lj lk iq ll b lm mo jr lo lp mp ju lr ls nd lu lv lw ne ly lz ma nf mc md me ij bi translated">在我们开始构建应用程序之前，我们需要了解我们将使用的技术。特别是GraphQL。</p><h1 id="10c2" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">GraphQL是什么？</h1><p id="78f0" class="pw-post-body-paragraph lj lk iq ll b lm mo jr lo lp mp ju lr ls nd lu lv lw ne ly lz ma nf mc md me ij bi translated">GraphQL是一种用于API的查询语言。它是由脸书开发的，作为一种更有效地获取数据的解决方案。</p><h1 id="a1e5" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">为什么是graph QL:REST的问题</h1><p id="8527" class="pw-post-body-paragraph lj lk iq ll b lm mo jr lo lp mp ju lr ls nd lu lv lw ne ly lz ma nf mc md me ij bi translated">在REST APIs中，每个端点将返回特定的JSON数据负载。即使我们只需要某些字段，它也会根据每个请求返回所有内容。</p><p id="4c20" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">看看PokeAPI(Pokemon的RESTful API)中的端点(<a class="ae mf" href="https://pokeapi.co/api/v2/pokemon/ditto" rel="noopener ugc nofollow" target="_blank">pokeapi.co/api/v2/pokemon/ditto</a>):</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/5167bc5cfbacf0bbac0404eb4254ea6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/0*DvRb_AmYoJ03okHY"/></div></figure><p id="fca1" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">返回的数据块非常大，大多数时候，一个app可能不需要所有这些数据。</p><p id="76c4" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">此外，REST APIs的设计可能需要一个应用程序发出许多不必要的请求，因为一些数据可能来自不同的端点。回到PokeAPI，我们可以看到在<code class="fe nh ni nj nk b">abilities</code>下面，有URL来获得关于每个能力的更具体的数据。</p><p id="e51c" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">这意味着，为了检索单个口袋妖怪能力的数据，你需要发出3个HTTP请求:</p><ol class=""><li id="04ac" class="mm mn iq ll b lm ln lp lq ls nl lw nm ma nn me no mu mv mw bi translated"><code class="fe nh ni nj nk b">https://pokeapi.co/api/v2/pokemon/ditto</code>获得它的能力</li><li id="6106" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me no mu mv mw bi translated"><code class="fe nh ni nj nk b">https://pokeapi.co/api/v2/ability/7/</code>获取能力1的信息</li><li id="d9f0" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me no mu mv mw bi translated"><code class="fe nh ni nj nk b">https://pokeapi.co/api/v2/ability/150/</code>获取能力2的信息</li></ol><p id="328f" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">随着用户对更快、更高效应用的需求增加，脸书意识到了REST APIs中的这些问题。2012年，它开始在内部开发GraphQL，然后在2015年向公众发布。</p><p id="8e8b" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">让我们看看GraphQL是如何解决REST APIs等问题的。</p><h1 id="29f9" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">GraphQL如何工作</h1><p id="b820" class="pw-post-body-paragraph lj lk iq ll b lm mo jr lo lp mp ju lr ls nd lu lv lw ne ly lz ma nf mc md me ij bi translated">如前所述，它是一种查询语言，这意味着它只获取您使用查询需要的数据。使用GraphQL，有:</p><ul class=""><li id="d174" class="mm mn iq ll b lm ln lp lq ls nl lw nm ma nn me mt mu mv mw bi translated">没有过度蚀刻或蚀刻不足</li><li id="a474" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated">需要管理的终端更少(即只有<code class="fe nh ni nj nk b">/graphql</code>)</li><li id="5ae0" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated">与数据库、REST API、云服务和JSON文件的灵活集成</li></ul><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi np"><img src="../Images/089572335df74816959347c150326ae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CJuJt5DyzIgQQpwu"/></div></div></figure><p id="6eca" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">典型的GraphQL操作是这样的:</p><ol class=""><li id="c7da" class="mm mn iq ll b lm ln lp lq ls nl lw nm ma nn me no mu mv mw bi translated">通过查询从GraphQL服务器请求数据。</li><li id="5492" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me no mu mv mw bi translated">在GraphQL服务器上调用一个函数从适当的源获取数据。</li><li id="c721" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me no mu mv mw bi translated">GraphQL服务器向客户端返回一个响应。</li></ol><p id="deda" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">GraphQL附带了一个名为graph QL的IDE，它有助于开发人员测试API。第一个<a class="ae mf" href="https://graphql.org/swapi-graphql" rel="noopener ugc nofollow" target="_blank"> GraphQL API (SWAPI) </a>使用GraphQL。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nq"><img src="../Images/b85ee75386d17ce50f1b6e02ee4342c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*L3Svdez72DgbCeDH"/></div></div></figure><p id="4a94" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">诸如GraphQL Playground 之类的替代ide由Prisma开发和维护。这是Hashnode API当前正在使用的。</p><h1 id="a026" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">问题</h1><p id="94d8" class="pw-post-body-paragraph lj lk iq ll b lm mo jr lo lp mp ju lr ls nd lu lv lw ne ly lz ma nf mc md me ij bi translated">现在我们知道了GraphQL是如何工作的，让我们以Hashnode的API为例来学习如何构造一个查询。</p><blockquote class="nr ns nt"><p id="66eb" class="lj lk mg ll b lm ln jr lo lp lq ju lr nu lt lu lv nv lx ly lz nw mb mc md me ij bi translated">API游乐场可以在<a class="ae mf" href="https://api.hashnode.com/" rel="noopener ugc nofollow" target="_blank">api.hashnode.com</a>找到。</p></blockquote><p id="1058" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">每个GraphQL IDE都可以访问文档面板。这是在构建GraphQL API时生成的API文档。这是一个有用的面板，因此任何开发人员，甚至那些从未使用过API的人，都可以立即理解API可以做什么。</p><p id="3a24" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">在Hashnode API中，我们可以点击右边的“Docs”按钮来打开面板。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nq"><img src="../Images/d9297776f564d1a415aa374c8270b8e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1iH10ka7S_9s_KJG"/></div></div></figure><p id="7c1b" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我们可以在查询下看到几行，比如<code class="fe nh ni nj nk b">user(...)</code>、<code class="fe nh ni nj nk b">storiesFeed(...)</code>等。这些是这个API可以执行的可用查询命令。</p><p id="fe83" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">让我们试着为<code class="fe nh ni nj nk b">user(...)</code>写一个查询。单击它以了解有关该查询的更多信息。您将看到类似下图的内容。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/ce851f61eac54505d2df8df2f2a727e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/0*GRpMimzJa9i9g8SV"/></div></figure><p id="6efb" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我们可以看到这个查询接受了一个<code class="fe nh ni nj nk b">username</code>作为必需的(不可为空的)参数。它是必需的，因为旁边有一个感叹号。如果没有感叹号，它就是可空的(可选)。</p><p id="e567" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">接下来，这个查询将根据提供的<code class="fe nh ni nj nk b">username</code>返回一个用户类型。以下是您可以选择返回的用户属性。与REST APIs不同，返回的用户类型不需要包含它的所有属性。你可以只查询你想要的。</p><p id="4d47" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">假设我们想获取我的博客的名字、加入日期和关注人数。我的用户名是<code class="fe nh ni nj nk b">victoria</code>。对此的查询将是:</p><pre class="ky kz la lb gt ny nk nz oa aw ob bi"><span id="33af" class="oc kg iq nk b gy od oe l of og">//any query must start with the query keyword<br/>query{ <br/>  //write the query according to the format in the docs<br/>  user(username:"victoria"){ //supply the username arg as a String<br/>    //include the properties you want to get<br/>    name<br/>    dateJoined<br/>    numFollowers<br/>  }<br/>}</span></pre><p id="dcd9" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">现在让我们在操场上执行这个查询:</p><p id="4591" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">还有哒哒！API返回一个JSON，其中包含我们想要的确切数据。不多不少。这确实是GraphQL的美妙之处。</p><h1 id="0c46" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">标量与对象类型</h1><p id="891c" class="pw-post-body-paragraph lj lk iq ll b lm mo jr lo lp mp ju lr ls nd lu lv lw ne ly lz ma nf mc md me ij bi translated">在上面的例子中，我们返回的数据是一个用户类型。用户是一种对象类型，因为它具有可以进一步查询的属性。</p><p id="3ad2" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我们之前查询的属性(name、dateJoined和numFollowers)也有类型，比如String和Int。这些是标量类型。标量类型包括6个类别:</p><ul class=""><li id="e458" class="mm mn iq ll b lm ln lp lq ls nl lw nm ma nn me mt mu mv mw bi translated">身份证明</li><li id="09d5" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated">浮动</li><li id="bff3" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated">（同Internationalorganizations）国际组织</li><li id="8f02" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated">线</li><li id="dccf" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated">布尔代数学体系的</li></ul><p id="f5c1" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">像User这样的对象类型可以有标量类型属性和/或对象类型属性。回到文档中，我们可以看到User有两个对象类型属性:SocialMedia和Publication。如果我们单击SocialMedia，我们可以看到对象的属性，并可以进一步查询。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/8932d1a50432fa4a9cf3e4e924435295.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/0*GRUOBni_eNuJGemf"/></div></figure><p id="0b90" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">让我们尝试查询一个用户的SocialMedia的twitter、github和网站属性。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi oi"><img src="../Images/1b306a7ca258b3813ec95d61ee88b00c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ns53KXmUk9SsEjCC"/></div></div></figure><p id="fe32" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">该查询运行良好。这一次，我们有一个更深的嵌套查询，因为我们首先要查询User，然后是socialMedia，最后是我们想要的属性。</p><p id="55f5" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">这就是查询的要点。当然，关于查询的更多细节超出了本系列的范围，所以请随意浏览本文末尾的“阅读更多”部分。如果你想自己了解更多，我已经包括了一些非常令人惊讶的书面资源。</p><h1 id="eb2b" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">突变</h1><p id="e3b8" class="pw-post-body-paragraph lj lk iq ll b lm mo jr lo lp mp ju lr ls nd lu lv lw ne ly lz ma nf mc md me ij bi translated">关于GraphQL的下一个重要概念是突变。如果查询相当于REST中的GET请求，那么变异就像是POST请求。</p><p id="3e14" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">本质上，它们像查询一样编写。唯一的区别是它用于对后端数据进行更改。</p><p id="991f" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">为了说明突变，让我们使用另一个名为<a class="ae mf" href="https://snowtooth.moonhighway.com/" rel="noopener ugc nofollow" target="_blank"> Snowtooth(滑雪场)</a> API的GraphQL API。</p><p id="479c" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">在文档中，我们可以在“突变”下看到这个API的可用突变。让我们点击<code class="fe nh ni nj nk b">setLiftStatus(...)</code>看看它能做什么。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi oj"><img src="../Images/974855bc75dfe789d1000d1fb7b6802e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Fht8_5D1M6-o9_as"/></div></div></figure><p id="08cc" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">如上图所示，这种变异允许我们通过提供其<code class="fe nh ni nj nk b">id</code>和<code class="fe nh ni nj nk b">LiftStatus</code>属性作为参数来更改Lift对象类型的<code class="fe nh ni nj nk b">LiftStatus</code>属性。</p><p id="ed69" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">注意<code class="fe nh ni nj nk b">LiftStatus</code>不是标量类型。如果我们点击它，我们可以看到它是一个只有一个值的枚举:<code class="fe nh ni nj nk b">OPEN</code>、<code class="fe nh ni nj nk b">CLOSED</code>或<code class="fe nh ni nj nk b">HOLD</code>。这一点很重要，这样我们就不会提供一个随机的字符串作为它的值，否则它会返回一个错误。</p><p id="b8a6" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">因此，为了执行这种变异，让我们查询<code class="fe nh ni nj nk b">allLifts</code>以获得随机提升的<code class="fe nh ni nj nk b">id</code>。如下所示，<code class="fe nh ni nj nk b">allLifts</code>带有一个可选的<code class="fe nh ni nj nk b">LiftStatus</code>参数(因为没有感叹号)。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi ok"><img src="../Images/112a2196474ae659f93fc9f74ffaa26e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9jGW7agdZ1sxo0WP"/></div></div></figure><p id="1096" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我们做了一个简单的查询来获取带有<code class="fe nh ni nj nk b">OPEN</code>的<code class="fe nh ni nj nk b">LiftStatus</code>的所有电梯，并获取它们的<code class="fe nh ni nj nk b">id</code>属性。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi ol"><img src="../Images/6dc66f56d1c8c615e8e0e4f858847f66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ncfvSqbPtpN_hIsI"/></div></div></figure><p id="12b6" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">然后，让我们从返回的列表中随机选择一个<code class="fe nh ni nj nk b">id</code>作为我们的突变。对于这个例子，我选择<code class="fe nh ni nj nk b">astra-express</code>。</p><p id="d11a" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">现在，我们有了所有需要的参数来编写突变，将<code class="fe nh ni nj nk b">astra-express</code>的状态从<code class="fe nh ni nj nk b">OPEN</code>更改为<code class="fe nh ni nj nk b">CLOSED</code>，如下所示:</p><pre class="ky kz la lb gt ny nk nz oa aw ob bi"><span id="a5f1" class="oc kg iq nk b gy od oe l of og">//every mutation must start with the mutaion keyword<br/>mutation{<br/>  //supply the appropriate arguments<br/>  setLiftStatus(id:"astra-express", status:CLOSED){<br/>    //return the following properties after the mutation<br/>    id<br/>    name<br/>    status<br/>  }<br/></span></pre><p id="0445" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">突变的结果将显示<code class="fe nh ni nj nk b">astra-express</code>电梯现在的状态为<code class="fe nh ni nj nk b">CLOSED</code>。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi om"><img src="../Images/7a19b308bba652b11593eadc4df1dc10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tO7pJ0ww5_VUBWVw"/></div></div></figure><p id="1f1d" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">这就是我们如何进行突变。像查询一样简单明了，不是吗？</p><h1 id="c09d" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">待续</h1><p id="e36f" class="pw-post-body-paragraph lj lk iq ll b lm mo jr lo lp mp ju lr ls nd lu lv lw ne ly lz ma nf mc md me ij bi translated">感谢阅读这篇文章。希望到目前为止有所帮助。这已经很长了，所以让我们在下一部分继续，我们将学习GraphQL模式、订阅和服务器。</p><p id="5cfd" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">点击这里阅读<a class="ae mf" href="https://victoria2666.medium.com/graphql-for-beginners-subscriptions-schemas-and-servers-c4b440e3b2aa?sk=0141fe163f173af76e407e8688c3fa8f" rel="noopener">第2部分:模式、订阅和服务器</a>！</p><p id="1e2c" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">同时，如果您想更深入地探索本文中的概念，请查看下面的阅读更多部分。干杯！</p></div><div class="ab cl on oo hu op" role="separator"><span class="oq bw bk or os ot"/><span class="oq bw bk or os ot"/><span class="oq bw bk or os"/></div><div class="ij ik il im in"><h1 id="51f1" class="kf kg iq bd kh ki ou kk kl km ov ko kp jw ow jx kr jz ox ka kt kc oy kd kv kw bi translated">阅读更多</h1><ul class=""><li id="1d52" class="mm mn iq ll b lm mo lp mp ls mq lw mr ma ms me mt mu mv mw bi translated"><a class="ae mf" href="https://victoria2666.medium.com/graphql-for-beginners-subscriptions-schemas-and-servers-c4b440e3b2aa?sk=0141fe163f173af76e407e8688c3fa8f" rel="noopener">第2部分:模式、订阅和服务器</a></li><li id="3c45" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated"><a class="ae mf" href="https://victoria2666.medium.com/graphql-for-beginners-setting-up-graphql-server-ba48a3cbc184?sk=330d2a07f119d5734ae2424a417eecd1" rel="noopener">第3部分:设置GraphQL服务器</a></li><li id="6b36" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated"><a class="ae mf" href="https://lo-victoria.com/graphql-for-beginners-build-real-time-chat-app-with-apollo-client-and-react" rel="noopener ugc nofollow" target="_blank">第4部分:用GraphQL和Apollo React构建一个实时聊天应用</a></li><li id="f7df" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated"><a class="ae mf" href="https://www.apollographql.com/blog/the-anatomy-of-a-graphql-query-6dffa9e9e747/" rel="noopener ugc nofollow" target="_blank">解剖GraphQL查询</a></li><li id="584c" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated"><a class="ae mf" href="https://www.robinwieruch.de/why-graphql-advantages-disadvantages-alternatives" rel="noopener ugc nofollow" target="_blank"> GraphQL的利弊</a></li><li id="68ce" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated"><a class="ae mf" href="https://blog.logrocket.com/graphql-queries-in-simple-terms/" rel="noopener ugc nofollow" target="_blank">用简单的术语解释GraphQL查询</a></li></ul><h1 id="b06b" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">链接</h1><ul class=""><li id="2cb5" class="mm mn iq ll b lm mo lp mp ls mq lw mr ma ms me mt mu mv mw bi translated">GitHub回购项目:<a class="ae mf" href="https://github.com/victoria-lo/devthoughts" rel="noopener ugc nofollow" target="_blank">https://github.com/victoria-lo/devthoughts</a></li><li id="ab82" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated"><a class="ae mf" href="https://snowtooth.moonhighway.com/" rel="noopener ugc nofollow" target="_blank">雪齿API </a></li><li id="f4b5" class="mm mn iq ll b lm mx lp my ls mz lw na ma nb me mt mu mv mw bi translated"><a class="ae mf" href="https://api.hashnode.com/" rel="noopener ugc nofollow" target="_blank">哈希节点API </a></li></ul></div></div>    
</body>
</html>