<html>
<head>
<title>How to Count the same property values in Array of Objects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何计算对象数组中相同的属性值</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-count-the-same-property-values-in-array-of-objects-cc4719c5fc6d?source=collection_archive---------2-----------------------#2021-07-24">https://javascript.plainenglish.io/how-to-count-the-same-property-values-in-array-of-objects-cc4719c5fc6d?source=collection_archive---------2-----------------------#2021-07-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="15fe" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">日常JavaScript技巧、窍门和最佳实践</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bd2097931a830cc55b69ea517b479741.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yhI_yNVGoE3IvGCb"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@towfiqu999999?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Towfiqu barbhuiya</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d4d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我总是喜欢像报纸这样能在较短时间内提供足够信息的东西。在这里，我为日常前端开发创建了一些技巧。</p><p id="785f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里，我将带来一篇新文章，介绍一些基于属性值对数组进行排序的方法。这些技巧可以成为你2021年JavaScript编码面试中的一块小石头。</p><blockquote class="ls lt lu"><p id="7c96" class="kw kx lv ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">我知道小石头没什么区别，但如果我们有成千上万的石头，就有区别了..为此我明天会带来新的石头。敬请期待</p></blockquote><blockquote class="lz"><p id="1f9a" class="ma mb iq bd mc md me mf mg mh mi lr dk translated"><em class="mj">让我们开始今天的话题</em></p></blockquote><p id="46d6" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">让我们检查一下当我们想要添加带有一些属性名的对象并想要获得新的对象数组时的场景。</p><p id="b468" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个例子中，name是惟一的属性，如果在对象数组中有多个name属性可用，我们希望合并这些顺序。</p><h2 id="bfe0" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated"><strong class="ak"> <em class="mj">我们在这里能想到什么逻辑？</em> </strong></h2><p id="499d" class="pw-post-body-paragraph kw kx iq ky b kz ni jr lb lc nj ju le lf nk lh li lj nl ll lm ln nm lp lq lr ij bi translated">简单的方法是迭代对象数组，检查是否出现相同的名称，以及是否出现修改数组的情况。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="6a64" class="mp mq iq no b gy ns nt l nu nv">const users = [</span><span id="a61c" class="mp mq iq no b gy nw nt l nu nv">{ name: "test1", orders: 20 },</span><span id="0d49" class="mp mq iq no b gy nw nt l nu nv">{ name: "test2", orders: 8 },</span><span id="6641" class="mp mq iq no b gy nw nt l nu nv">{ name: "test1", orders: 8 },</span><span id="2b87" class="mp mq iq no b gy nw nt l nu nv">{ name: "test4", orders: 10 },</span><span id="aa29" class="mp mq iq no b gy nw nt l nu nv">{ name: "test3", orders: 30 }</span><span id="cf17" class="mp mq iq no b gy nw nt l nu nv">];</span></pre><h2 id="397b" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated"><strong class="ak"> 1。使用forEach方法</strong></h2><p id="d422" class="pw-post-body-paragraph kw kx iq ky b kz ni jr lb lc nj ju le lf nk lh li lj nl ll lm ln nm lp lq lr ij bi translated">在这里，我们创建一个空数组，迭代后，我们将值。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="1a50" class="mp mq iq no b gy ns nt l nu nv">let result = [];</span><span id="bf81" class="mp mq iq no b gy nw nt l nu nv">users.forEach(function(a) {<br/>    if (!this[a.name]) {<br/>        this[a.name] = {<br/>            name: a.name,<br/>            orders: 0<br/>        };<br/>        result.push(this[a.name]);<br/>    }<br/>    this[a.name].orders += a.orders;<br/>}, Object.create(null));</span><span id="4731" class="mp mq iq no b gy nw nt l nu nv">let val = JSON.stringify(result);<br/>console.log(val);<br/>//[{"name":"test1","orders":28},{"name":"test2","orders":8},{"name":"test4","orders":10},{"name":"test3","orders":30}]</span></pre><h2 id="ce63" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated"><strong class="ak"> 2。使用reduce </strong></h2><p id="c86f" class="pw-post-body-paragraph kw kx iq ky b kz ni jr lb lc nj ju le lf nk lh li lj nl ll lm ln nm lp lq lr ij bi translated">这里我们对迭代使用reduce。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="1e70" class="mp mq iq no b gy ns nt l nu nv">let result2 = Object.values(<br/>    users.reduce((r, {<br/>        name,<br/>        orders<br/>    }) =&gt; {<br/>        r[name] ?? = {<br/>            name,<br/>            count: 0,<br/>            orders: 0<br/>        };<br/>        r[name].count++;<br/>        r[name].orders += orders;<br/>        return r;<br/>    }, {})<br/>);</span><span id="b8ac" class="mp mq iq no b gy nw nt l nu nv">console.log(JSON.stringify(result2));</span><span id="0e5e" class="mp mq iq no b gy nw nt l nu nv">//[{"name":"test1","orders":28},{"name":"test2","orders":8},{"name":"test4","orders":10},{"name":"test3","orders":30}] </span></pre><h2 id="2fa7" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lf my mz na lj nb nc nd ln ne nf ng nh bi translated">进一步阅读</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="a265" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="lv">更多内容请看</em><a class="ae kv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="lv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>