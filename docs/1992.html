<html>
<head>
<title>LeetCode Algorithm Challenge: Needle in a Haystack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">LeetCode算法挑战:大海捞针</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/leetcode-needle-in-a-haystack-challenge-38a2f67bdeee?source=collection_archive---------2-----------------------#2021-04-26">https://javascript.plainenglish.io/leetcode-needle-in-a-haystack-challenge-38a2f67bdeee?source=collection_archive---------2-----------------------#2021-04-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/518c8529dbf93f472ed679e68d42a2a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W7p78tsNeZcm_sQdhoVO4w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Find the needle</figcaption></figure><h1 id="9c2d" class="jz ka in bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">问题</h1><p id="2e52" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><em class="lv">实现</em> <a class="ae lw" href="http://www.cplusplus.com/reference/cstring/strstr/" rel="noopener ugc nofollow" target="_blank"> <em class="lv"> strStr() </em> </a> <em class="lv">。</em></p><p id="f9f4" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq mb ls lt lu ig bi translated"><em class="lv">返回针在草堆中第一次出现的索引，如果针不是草堆的一部分，则返回-1。</em></p><h2 id="f607" class="mc ka in bd kb md me dn kf mf mg dp kj li mh mi kn lm mj mk kr lq ml mm kv mn bi translated"><strong class="ak">澄清</strong></h2><p id="95a9" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><em class="lv">当针为空字符串时，我们应该返回什么？这是在面试中问的一个很好的问题。</em></p><p id="38e4" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq mb ls lt lu ig bi translated"><em class="lv">对于这个问题，当针为空字符串时，我们将返回0。这与C的</em><a class="ae lw" href="http://www.cplusplus.com/reference/cstring/strstr/" rel="noopener ugc nofollow" target="_blank"><em class="lv">strstr()</em></a><em class="lv">和Java的</em><a class="ae lw" href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(java.lang.String)" rel="noopener ugc nofollow" target="_blank"><em class="lv">index of()</em></a><em class="lv">是一致的。</em></p><h2 id="f182" class="mc ka in bd kb md me dn kf mf mg dp kj li mh mi kn lm mj mk kr lq ml mm kv mn bi translated"><strong class="ak">例1: </strong></h2><p id="9e3e" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="kz io">输入:</strong> haystack = "hello "，needle = "ll "</p><p id="632d" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq mb ls lt lu ig bi translated"><strong class="kz io">输出:</strong> 2</p><h2 id="222f" class="mc ka in bd kb md me dn kf mf mg dp kj li mh mi kn lm mj mk kr lq ml mm kv mn bi translated"><strong class="ak">例2: </strong></h2><p id="2f69" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="kz io">输入:</strong> haystack = "aaaaa "，needle = "bba "</p><p id="7d43" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq mb ls lt lu ig bi translated"><strong class="kz io">输出:</strong> -1</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><h1 id="fbe1" class="jz ka in bd kb kc mv ke kf kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw bi translated">挑战</h1><ol class=""><li id="2282" class="na nb in kz b la lb le lf li nc lm nd lq ne lu nf ng nh ni bi translated">检查指针是否存在—当指针为空字符串时，返回0。</li><li id="0860" class="na nb in kz b la nj le nk li nl lm nm lq nn lu nf ng nh ni bi translated">将干草堆分解成可比较的部分</li><li id="5c5a" class="na nb in kz b la nj le nk li nl lm nm lq nn lu nf ng nh ni bi translated">找针——为了找到一根针，我们将把干草堆的一部分与一根针进行比较</li><li id="281d" class="na nb in kz b la nj le nk li nl lm nm lq nn lu nf ng nh ni bi translated">返回针的起始位置。</li></ol></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><h1 id="2876" class="jz ka in bd kb kc mv ke kf kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw bi translated">让我们编码</h1><p id="2739" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="kz io">检查针是否存在——当针为空字符串时返回0。这是一个非常简单的if语句。</strong></p><pre class="no np nq nr gt ns nt nu nv aw nw bi"><span id="c83a" class="mc ka in nt b gy nx ny l nz oa">if (needle === "") {</span><span id="a8f1" class="mc ka in nt b gy ob ny l nz oa">     return 0;</span><span id="a686" class="mc ka in nt b gy ob ny l nz oa">}</span></pre><p id="4abd" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq mb ls lt lu ig bi translated">但是，如果针存在，我们将进一步进行。</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><h2 id="2487" class="mc ka in bd kb md me dn kf mf mg dp kj li mh mi kn lm mj mk kr lq ml mm kv mn bi translated"><strong class="ak">把干草堆分解成可比较的部分</strong></h2><p id="241b" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">要将干草堆分解成可比较的部分，我们需要确定针的长度，然后我们可以使用<a class="ae lw" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/slice" rel="noopener ugc nofollow" target="_blank"> slice()方法</a>来分离干草堆的一部分。</p><p id="3eb3" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq mb ls lt lu ig bi translated">我们将为起始位置创建一个变量，从这个位置开始，我们将切割干草堆，直到到达一个等于起始位置加上针的长度的位置。</p><figure class="no np nq nr gt jo gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/3f7222ca0ff14580b4ca142bdcc9bd29.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*xYu9dmpx3yL5APfSGLhYIQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">First slice</figcaption></figure><pre class="no np nq nr gt ns nt nu nv aw nw bi"><span id="32eb" class="mc ka in nt b gy nx ny l nz oa">let pos = 0;</span><span id="d2da" class="mc ka in nt b gy ob ny l nz oa">haystack.slice(pos,pos+needle.length)</span></pre></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><h2 id="c340" class="mc ka in bd kb md me dn kf mf mg dp kj li mh mi kn lm mj mk kr lq ml mm kv mn bi translated"><strong class="ak">找针——为了找到一根针，我们将把干草堆的一部分与一根针进行比较</strong></h2><p id="337d" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">现在我们有了可比较的部分，我们将从头开始，从头开始。如果可比部分等于针，我们将为结果变量分配起始位置，否则，我们将移动到下一个切片。但是如果我们到达了干草堆的尽头呢？我们将检查我们的位置是否小于或等于干草堆大小减1。</p><pre class="no np nq nr gt ns nt nu nv aw nw bi"><span id="f7e0" class="mc ka in nt b gy nx ny l nz oa">if (pos&lt;=haystack.length-1)</span></pre><p id="e007" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq mb ls lt lu ig bi translated">如果我们还在堆栈中，我们将使用递归函数find。</p><pre class="no np nq nr gt ns nt nu nv aw nw bi"><span id="1aa7" class="mc ka in nt b gy nx ny l nz oa">function find(haystack, needle, pos) {</span><span id="4a66" class="mc ka in nt b gy ob ny l nz oa">      if (haystack.slice(pos,pos+needle.length)===needle) {</span><span id="9e73" class="mc ka in nt b gy ob ny l nz oa">            result = pos;</span><span id="57be" class="mc ka in nt b gy ob ny l nz oa">     } else {</span><span id="e6af" class="mc ka in nt b gy ob ny l nz oa">           pos++;</span><span id="4dca" class="mc ka in nt b gy ob ny l nz oa">           if (pos&lt;=haystack.length-1) {</span><span id="03c4" class="mc ka in nt b gy ob ny l nz oa">               find(haystack, needle, pos)</span><span id="7088" class="mc ka in nt b gy ob ny l nz oa">           }</span><span id="cb89" class="mc ka in nt b gy ob ny l nz oa">      }</span><span id="5fb6" class="mc ka in nt b gy ob ny l nz oa">}</span></pre></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><h2 id="4444" class="mc ka in bd kb md me dn kf mf mg dp kj li mh mi kn lm mj mk kr lq ml mm kv mn bi translated"><strong class="ak">返回注射针的起始位置。</strong></h2><p id="04bb" class="pw-post-body-paragraph kx ky in kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">我已经声明了一个变量结果，它将在函数结束时返回，除非我们找到指针，否则它将返回-1。</p><figure class="no np nq nr gt jo"><div class="bz fp l di"><div class="od oe l"/></div></figure></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><p id="de04" class="pw-post-body-paragraph kx ky in kz b la lx lc ld le ly lg lh li lz lk ll lm ma lo lp lq mb ls lt lu ig bi translated"><em class="lv">也请在以下社交网络上关注我，我很想听到你的消息！—</em><a class="ae lw" href="https://www.linkedin.com/in/nick-solonyy/" rel="noopener ugc nofollow" target="_blank"><em class="lv">LinkedIn</em></a><em class="lv"/><a class="ae lw" href="https://github.com/nicksolony" rel="noopener ugc nofollow" target="_blank"><em class="lv">git hub</em></a>，以及<a class="ae lw" href="https://www.facebook.com/nick.solony" rel="noopener ugc nofollow" target="_blank"> <em class="lv">脸书</em> </a> <em class="lv">。</em></p></div></div>    
</body>
</html>