# 代码注释的最佳实践

> 原文：<https://javascript.plainenglish.io/the-best-practices-for-code-comments-eec2bb111124?source=collection_archive---------5----------------------->

## 像专家一样改进代码注释的 10 个最佳实践

![](img/aadc1c39b290aabdfc9a49dbc062ca7f.png)

Photo by [Markus Spiske](https://unsplash.com/@markusspiske?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

记录代码是编程最重要的部分之一，今天，我想谈谈代码注释方法。

许多初学编程的人可能会对这样的代码印象深刻:在每一行的末尾都有一个注释，在选定的程序片段之前有块注释，当然，在代码中还有文件、类和方法的 doc 块。

为了使我们的代码优雅、干净、易于维护，我们可以遵循下面的提示。

# **1。使用描述性名称**

虽然和评论没有直接关系，但却是一个对评论影响很大的基本规则。我们的变量、类和方法必须有一个描述性的名称。

正常的情况是，类名是代表一个实体的名词。方法代表一个动作，所以它们的名字通常包含一个动词。此外，我们必须努力确保变量、属性和参数有一个描述它们所包含的值的名称(客户总数、总预算等)。).

通过使用描述性名称，代码不需要额外的注释。任何审查代码的程序员都能够了解代码的作用。

# **2。评论必须有用**

显而易见的事情不需要解释。98%情况下的源代码会被另一个程序员阅读。或者至少是有编程技能的人。

# **3。在添加评论之前，考虑一下评论是否有必要。**

如果非要加个评论的话，还是想好了再做吧。为什么我要加上这个评论？必不可少？我可以重构我的代码来避免它吗？也许我们写的代码太复杂了，因此需要解释一下。在这种情况下，我们可以把它分成更简单的方法。始终遵循使用描述性名称的规则。有了这个简单的想法，我们也可以识别潜在的设计错误。

# **4。避免方法或函数中的注释**

在声明一个方法之前对它的作用进行注释是很有用的。我们甚至可以评论它的参数。但是请永远记住，我们必须评论“是什么”而不是“如何”也就是说，我们必须解释我们的方法做什么。代码中已经解释了“如何”实现其功能的方法。

# **5。不要评论删除的代码**

有时我们被迫删除部分代码。有时，在“以防万一”的启动中，我们对删除的代码进行注释以免丢失。这在 21 世纪是没有意义的。我们应该已经有了这些东西的源代码控制系统。而如果我们没有它，我们就有比评论更严重的问题。

# **6。认为评论也要保留**

一个评论必须清晰，并很好地解释事情。但是评论也必须保留。如果我们描述了一个方法做什么，并且功能发生了变化，我们也需要更新注释。所以，不如评论简洁明了。

# 7 .**。谨防误导性评论**

这通常不是故意的，但这会让我们更加头疼。这和前面的一点以及不保留评论的问题有关。有时因为我们留下了一些事情要做，或者因为规范已经改变，我们的注释变得过时了。或者更糟的是，评论表达了与实际正在做的事情不同的东西。如果我们相信注释，我们可能会产生意外的错误。

# **8。始终遵循相同的风格**

建议总是以同样的方式对代码进行注释。定义好的风格有助于读者理解代码。例如，如果我们总是用介绍和参数描述来注释一个方法，我们将不得不保持不变，并且在所有方法中都这样做。否则，读它的人可能会因为标准的差异而感到困惑。

# **9。不要把评论留到最后**

总的来说，我们这些做开发的不喜欢评论。这是我们通常留到以后做的无聊的事情。但是出于某种原因，拖延代码注释是一个坏主意。首先，最终，我们将被迫一次对大量代码进行注释。那就更没意思了，我们的评论会更差。第二是随着时间的推移，想法会失去新鲜感。最后，编写代码注释，我们不只是做更复杂和耗时。

最好在编程时进行注释。或者更好，编程前先注释。通过写下你要做的事情，你会对这个问题有更好的理解。

# 10。礼貌一点比较好

这取决于源代码的范围。在工作环境中，我们必须严肃和正确。如果代码是给客户的，则更多。如果我们是为自己做代码，注释可能会有更轻松的语气。但是，当然，最好避免不良语言，因为你永远不知道谁能看到评论。

## 以下是一些需要使用注释的情况。

1.  项目中可能有标准要求对文件/类/方法进行注释——我们不讨论这样的需求并应用注释，记住在更改代码时它们也需要注意；
2.  乍一看不明显的代码解释。例如，给定的 regexp 匹配什么模式；
3.  阐明难以编码的意图。比如，为什么我们在实现 compareTo 方法时，会考虑第一个对象大于第二个对象；
4.  使用给定功能的后果警告。例如，在可能清理数据库或花费很长时间的测试中；
5.  解释程序实现的业务流程的细微差别；
6.  TODO 注释—如果目前由于任何原因无法实现全部功能；

# 结论

在对代码进行注释时，我们一定要注意注释放在哪里——越靠近与注释相关的代码片段越好。另外，在代码开发过程中，要注意代码中变更后的注释是否不需要重构。

如果你的代码不需要注释，这可能是因为你做得很好，代码质量很好。但是，如果您认为所选的片段需要注释，这是考虑重构代码的第一个信号—不要忽略它，并借此机会重构和提高您的编程技能。

*更多内容看*[***plain English . io***](http://plainenglish.io)