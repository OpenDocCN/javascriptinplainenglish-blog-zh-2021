<html>
<head>
<title>How to Convert a React App to Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将React应用转换为Vue.js</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-convert-a-react-app-to-vue-js-39030c37a11c?source=collection_archive---------8-----------------------#2021-03-22">https://javascript.plainenglish.io/how-to-convert-a-react-app-to-vue-js-39030c37a11c?source=collection_archive---------8-----------------------#2021-03-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="ffd1" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">第2部分:Vue指令</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/9cb896f6e0e75415a588ec4d579dfb59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PZFgl07EszCbrzWAMwUShw.png"/></div></div></figure><h1 id="891a" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">介绍</h1><p id="3055" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">上周我画了一张…的鸟瞰图。<a class="ae mc" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue </a>以及它与<a class="ae mc" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank">相比可能如何反应</a>。要赶上进度，请点击第1部分的<a class="ae mc" rel="noopener ugc nofollow" target="_blank" href="/convert-a-react-app-to-vue-js-4b69ea503fed"/>。本周我想直接进入Vue指令，这样你就可以一瞥<code class="fe md me mf mg b">.vue</code>组件和React的<code class="fe md me mf mg b">.jsx</code>之间的渲染语法差异</p><h1 id="0371" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">Vue指令</h1><blockquote class="mh mi mj"><p id="b309" class="lg lh mk li b lj ml jo ll lm mm jr lo mn mo lr ls mp mq lv lw mr ms lz ma mb ig bi translated">指令是带有<code class="fe md me mf mg b">v-</code>前缀的特殊属性。指令属性值应该是一个单独的JavaScript表达式(除了<code class="fe md me mf mg b">v-for</code>，这将在后面讨论)。指令的工作是当它的表达式的值改变时，对DOM反应性地应用副作用。— <a class="ae mc" href="https://vuejs.org/v2/guide/syntax.html#Directives" rel="noopener ugc nofollow" target="_blank"> Vue文档</a></p></blockquote><h2 id="1939" class="mt kp in bd kq mu mv dn ku mw mx dp ky lp my mz la lt na nb lc lx nc nd le ne bi translated">模板中指令的常见用法</h2><ol class=""><li id="64e6" class="nf ng in li b lj lk lm ln lp nh lt ni lx nj mb nk nl nm nn bi translated">If语句</li><li id="afa7" class="nf ng in li b lj no lm np lp nq lt nr lx ns mb nk nl nm nn bi translated">For循环</li><li id="9952" class="nf ng in li b lj no lm np lp nq lt nr lx ns mb nk nl nm nn bi translated">基于布尔值的元素可见性</li><li id="2afc" class="nf ng in li b lj no lm np lp nq lt nr lx ns mb nk nl nm nn bi translated">将值绑定到本地状态的项目(类似于React中受控表单的行为)</li><li id="7f93" class="nf ng in li b lj no lm np lp nq lt nr lx ns mb nk nl nm nn bi translated">用户事件处理程序</li></ol><h2 id="7985" class="mt kp in bd kq mu mv dn ku mw mx dp ky lp my mz la lt na nb lc lx nc nd le ne bi translated">If语句</h2><p id="9216" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">它们的一个常见用途是显示模板元素和加载微调器。</p><pre class="kd ke kf kg gt nt mg nu nv aw nw bi"><span id="84d3" class="mt kp in mg b gy nx ny l nz oa">&lt;LoadingSpinner v-if="!allProperties.length" /&gt;</span></pre><p id="a45b" class="pw-post-body-paragraph lg lh in li b lj ml jo ll lm mm jr lo lp mo lr ls lt mq lv lw lx ms lz ma mb ig bi translated">这里我告诉Vue，只有当我的<code class="fe md me mf mg b">allProperties</code>数组长度等于一个falsy值(又名<code class="fe md me mf mg b">0</code>)时，才显示要渲染的<code class="fe md me mf mg b">LoadingSpinner</code>组件。幸运的是，有一种更加语义化的方式来表达这一点:</p><pre class="kd ke kf kg gt nt mg nu nv aw nw bi"><span id="1428" class="mt kp in mg b gy nx ny l nz oa">&lt;LoadingSpinner v-show="!allProperties.length" /&gt;</span></pre><p id="cdc4" class="pw-post-body-paragraph lg lh in li b lj ml jo ll lm mm jr lo lp mo lr ls lt mq lv lw lx ms lz ma mb ig bi translated">那不是更好吗？</p><h2 id="3a4a" class="mt kp in bd kq mu mv dn ku mw mx dp ky lp my mz la lt na nb lc lx nc nd le ne bi translated">对于循环</h2><p id="45da" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">呈现项目列表非常简单，有几种方法可以做到。第一个看起来非常熟悉，你可能习惯于任何语言和使用JSX。这非常相似，但是在引号内编写JS相关的东西可能看起来有点奇怪，并且肯定需要一些时间来适应。正是因为这个原因，我强烈建议确保你有一些像样的语法高亮。在VSCode扩展市场中查看<a class="ae mc" href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" rel="noopener ugc nofollow" target="_blank"> Vetur </a>和<a class="ae mc" href="https://marketplace.visualstudio.com/items?itemName=jcbuisson.vue" rel="noopener ugc nofollow" target="_blank"> vue </a>扩展。</p><pre class="kd ke kf kg gt nt mg nu nv aw nw bi"><span id="45d6" class="mt kp in mg b gy nx ny l nz oa">// JSX Syntax<br/>&lt;ul&gt;<br/>  {properties.map(property =&gt; &lt;li key={property.id}&gt;{property.address} - {property.landlord}&lt;/li&gt;)}<br/>&lt;/ul&gt;</span><span id="2bd4" class="mt kp in mg b gy ob ny l nz oa">// Vue Syntax<br/>&lt;ul&gt;<br/>  &lt;li v-for="property in allProperties" <br/>    :key="property.id" <br/>    :property="property"    :landlord="getLandlordById(property.landlordId)"&gt;<br/>&lt;/ul&gt;</span><span id="6725" class="mt kp in mg b gy ob ny l nz oa">// An even cooooooler way to render items in a collection via Vue is calling the v-for directive on a component itself that is destined to be an instance component =&gt;</span><span id="1348" class="mt kp in mg b gy ob ny l nz oa">&lt;Property<br/>  v-for="property in allProperties"<br/>  :key="property.id"<br/>  :property="property"<br/>  :landlord="getLandlordById(property.landlordId)"<br/>/&gt;</span></pre><p id="f131" class="pw-post-body-paragraph lg lh in li b lj ml jo ll lm mm jr lo lp mo lr ls lt mq lv lw lx ms lz ma mb ig bi translated">这很好，因为您避免了传统for循环中的旧式“三明治代码”。你能相信吗？</p><h2 id="95af" class="mt kp in bd kq mu mv dn ku mw mx dp ky lp my mz la lt na nb lc lx nc nd le ne bi translated">模型绑定</h2><p id="37ca" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">假设您正在Vue中构建一个组件(React称之为“受控表单”)，您通过<code class="fe md me mf mg b">onChanges</code>将表单值存储在本地状态中。在React中，您必须为每个字段设置<code class="fe md me mf mg b">onChange</code>事件处理程序，除非您能够创建一个动态处理程序。在Vue中，所有的<code class="fe md me mf mg b">onChange</code>业务都在幕后处理，并被轻松地抽象出来，用于您想要的双向数据绑定。您甚至可以访问<code class="fe md me mf mg b">.preventDefault</code>方法，而不必用<code class="fe md me mf mg b">@submit.prevent=”handleSubmit”</code>在提交处理程序中调用它</p><pre class="kd ke kf kg gt nt mg nu nv aw nw bi"><span id="9fa3" class="mt kp in mg b gy nx ny l nz oa">&lt;template&gt;<br/>  // can also be written, more verbosely, as <br/>  // &lt;form v-on:submit.prevent="handleSubmit" &gt;</span><span id="a280" class="mt kp in mg b gy ob ny l nz oa">  &lt;form @submit.prevent="handleSubmit"&gt;<br/>    &lt;input<br/>      type="text"<br/>      id="name"<br/>      v-model="firstName"<br/>    /&gt;</span><span id="a02b" class="mt kp in mg b gy ob ny l nz oa">    &lt;input<br/>      type="email"<br/>      id="email"<br/>      v-model="emailAddress"<br/>    /&gt;<br/>   <br/>    &lt;input type="submit" /&gt;<br/>  &lt;/form&gt;<br/>&lt;/template&gt;</span><span id="d1f9" class="mt kp in mg b gy ob ny l nz oa">&lt;script&gt;<br/>import { mapActions } from 'vuex'</span><span id="2d5d" class="mt kp in mg b gy ob ny l nz oa">export default {<br/>  name: "Form",<br/>  data() {<br/>    return {<br/>      firstName: "",<br/>      emailAddress: ""<br/>  },<br/>  methods: {<br/>    handleSubmit() {<br/>      this.createUser({<br/>        firstName,<br/>        emailAddress<br/>      })<br/>    },<br/>    ...mapActions("createUser")<br/>  }<br/>}<br/>&lt;/script&gt;</span></pre><p id="825b" class="pw-post-body-paragraph lg lh in li b lj ml jo ll lm mm jr lo lp mo lr ls lt mq lv lw lx ms lz ma mb ig bi translated">其他事件处理程序包括所有常见的类型:</p><pre class="kd ke kf kg gt nt mg nu nv aw nw bi"><span id="8b15" class="mt kp in mg b gy nx ny l nz oa">&lt;button @click="coolMethodHere" /&gt;</span><span id="889f" class="mt kp in mg b gy ob ny l nz oa">&lt;button @mouseover="coolMethodHere" /&gt;</span><span id="c594" class="mt kp in mg b gy ob ny l nz oa">// when user releases the enter key<br/>&lt;button @keyup.enter="coolMethodHere" /&gt;</span><span id="5a77" class="mt kp in mg b gy ob ny l nz oa">// when user attempts to copy via CTRL+C<br/>&lt;button @keyup.ctrl.c="coolMethodHere" /&gt;</span></pre><h1 id="51e6" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">例子</h1><h2 id="461f" class="mt kp in bd kq mu mv dn ku mw mx dp ky lp my mz la lt na nb lc lx nc nd le ne bi translated">属性组件(索引)</h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oc"><img src="../Images/b51ea12c86461741c47371c8a747b061.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MpknBSev-zQbwr9Bk-Jhog.png"/></div></div><figcaption class="od oe gj gh gi of og bd b be z dk">Properties.vue</figcaption></figure><h2 id="2299" class="mt kp in bd kq mu mv dn ku mw mx dp ky lp my mz la lt na nb lc lx nc nd le ne bi translated">属性输入表单</h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oc"><img src="../Images/a142caebe8fa00653a9b6ac781202585.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Bdi7kRJLHfX8qBE6yehIA.png"/></div></div><figcaption class="od oe gj gh gi of og bd b be z dk">PropertyInput.vue</figcaption></figure><h1 id="31eb" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">结论</h1><p id="ecce" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">现在，您可以看到通过指令和事件来控制Vue模板的呈现是多么容易。在某些情况下，样板代码被精简或完全抽象。</p><p id="8287" class="pw-post-body-paragraph lg lh in li b lj ml jo ll lm mm jr lo lp mo lr ls lt mq lv lw lx ms lz ma mb ig bi translated">在<a class="ae mc" href="http://www.twitter.com/_dan_foley_" rel="noopener ugc nofollow" target="_blank"> Twitter </a>和<a class="ae mc" href="http://www.github.com/d-otis" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上关注我！</p></div></div>    
</body>
</html>