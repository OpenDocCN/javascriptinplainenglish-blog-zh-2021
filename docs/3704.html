<html>
<head>
<title>On Building Your Own React Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于建立你自己的反应钩子</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/on-building-your-own-react-hooks-5d5c2aa429ba?source=collection_archive---------14-----------------------#2021-07-24">https://javascript.plainenglish.io/on-building-your-own-react-hooks-5d5c2aa429ba?source=collection_archive---------14-----------------------#2021-07-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/52b11e9b327c3815411f155cddcbf27b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JCtXX_UNO3PTAr0foaeMfg.jpeg"/></div></div></figure><p id="476d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在React v16.8.0之前，在组件之间传递有状态逻辑的两种流行方式是<strong class="jx io">渲染道具</strong>和<strong class="jx io">高阶组件</strong>。随后出现了钩子，它被设计成允许在功能组件中使用类似状态和生命周期方法的功能。关于这个话题的更多信息，请查看我下面的帖子:</p><div class="kt ku gp gr kv kw"><a href="https://denalibalser.medium.com/intro-to-react-hooks-usestate-useeffect-what-why-when-179996b37cc1" rel="noopener follow" target="_blank"><div class="kx ab fo"><div class="ky ab kz cl cj la"><h2 class="bd io gy z fp lb fr fs lc fu fw im bi translated">介绍React挂钩、使用状态和使用效果:什么、为什么和何时</h2><div class="ld l"><h3 class="bd b gy z fp lb fr fs lc fu fw dk translated">React Hooks于2019年2月与React v16.8.0一起发布。Hooks背后的想法是允许开发人员编写…</h3></div><div class="le l"><p class="bd b dl z fp lb fr fs lc fu fw dk translated">denalibalser.medium.com</p></div></div><div class="lf l"><div class="lg l lh li lj lf lk jt kw"/></div></div></a></div><p id="65e4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这篇文章将关注如何创建你自己的定制钩子，它的价值在于共享和重用小块代码的容易程度，而不必向树中添加更多的类组件。</p><h2 id="e342" class="ll lm in bd ln lo lp dn lq lr ls dp lt kg lu lv lw kk lx ly lz ko ma mb mc md bi translated">挂钩背景</h2><p id="929f" class="pw-post-body-paragraph jv jw in jx b jy me ka kb kc mf ke kf kg mg ki kj kk mh km kn ko mi kq kr ks ig bi translated">钩子是在组件之间共享有状态和副作用功能的一种方式。它们不应该在任何情况下都使用。回到React废弃的文档中，钩子可以很容易地与过去的<strong class="jx io">mixins</strong>——(ES6中不再接受)进行比较，一旦接受了包含应用于某个类的方法/属性的对象数组，就允许将附加功能的<em class="mj">混合到React组件的</em>中。</p><p id="c8f5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">理解钩子和mixins之间的关系有助于确定钩子的使用在功能上是否合适。例如，组件混合不能用来创建一个类似Redux的存储来保存应用程序的整个状态——钩子也不能。</p><p id="0efb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">另一个非常重要的概念是钩子应该<strong class="jx io">而不是</strong>被用来代替状态管理器，因为它们被绑定到组件上，通常你会需要不绑定到组件上的状态(例如从服务器或API接收的数据的高速缓存)。钩子是本地的，但是有些状态是全局的——这意味着状态管理器(至少在ES6中)总是必要的。</p><h2 id="2777" class="ll lm in bd ln lo lp dn lq lr ls dp lt kg lu lv lw kk lx ly lz ko ma mb mc md bi translated">介绍…定制挂钩**人群疯狂* *</h2><figure class="mk ml mm mn gt jo"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="c0f4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">定制钩子的设计自然遵循钩子的设计，而不是反应特性。您可以从组件中提取通用的功能/逻辑，并将其放入可重用的定制钩子中，以减少重复代码。这有助于简化钩子在功能上扩展的功能组件。在命名自定义钩子时，应该总是以'<em class="mj"> use，'【T11开头，就像非自定义React钩子一样。</em></p><p id="54cd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">共享同一个钩子<em class="mj">的两个组件不共享同一个状态。定制钩子允许你重用有状态逻辑，但是，每次使用定制钩子时，所有的状态和副作用都是完全隔离的。这意味着对钩子的每个<em class="mj">调用</em>都得到一个隔离状态，即每个对钩子的调用都是独立的。</em></p><p id="9cf9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将复杂的逻辑隐藏在简化的接口后面，或者将复杂的组件分开，这就是钩子的设计目的。然而，特别是如果你是钩子的新手，为了优化功能和减少代码中的重复，最好在重构空间中使用它们。</p><p id="65d8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mj">更多内容看</em><a class="ae mq" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mj">plain English . io</em></strong></a></p></div></div>    
</body>
</html>