<html>
<head>
<title>Axios vs Fetch: Which is better?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Axios与Fetch:哪个更好？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/axios-vs-fetch-aeaec89023b3?source=collection_archive---------12-----------------------#2021-07-15">https://javascript.plainenglish.io/axios-vs-fetch-aeaec89023b3?source=collection_archive---------12-----------------------#2021-07-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="6b78" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">哪个是你的首选？</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/f7916802dc2889afb445094c93ffe186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GZ9mFC-nm0o81RMEgLLBSw.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://www.pexels.com/@padrinan?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Miguel Á. Padriñán</a> from <a class="ae ks" href="https://www.pexels.com/photo/web-text-1591060/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><pre class="kd ke kf kg gt la lb lc ld aw le bi"><span id="f59b" class="lf lg in lb b gy lh li l lj lk">Contents<br/>· <a class="ae ks" href="#a760" rel="noopener ugc nofollow">Axios</a><br/>· <a class="ae ks" href="#06f2" rel="noopener ugc nofollow">Fetch</a><br/>· <a class="ae ks" href="#0571" rel="noopener ugc nofollow">Backward Compatability</a><br/>· <a class="ae ks" href="#300d" rel="noopener ugc nofollow">Response Timeout</a><br/>· <a class="ae ks" href="#5982" rel="noopener ugc nofollow">Interceptors</a><br/>· <a class="ae ks" href="#e099" rel="noopener ugc nofollow">JSON Data</a><br/>· <a class="ae ks" href="#59e5" rel="noopener ugc nofollow">Conclusion</a></span></pre><h1 id="a760" class="ll lg in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">Axios</h1><p id="8703" class="pw-post-body-paragraph mc md in me b mf mg jo mh mi mj jr mk ml mm mn mo mp mq mr ms mt mu mv mw mx ig bi translated">对于那些不确定Axios是什么的人来说，它是一个基于承诺的用于浏览器和Node.js的HTTP客户端。在客户端(浏览器)，它将使用XMLHttpRequests，而在服务器端，它将使用本机Node.js模块。您只需要调用<code class="fe my mz na lb b">axios()</code>并把选项作为对象传入来创建一个API请求。</p><p id="62ea" class="pw-post-body-paragraph mc md in me b mf nb jo mh mi nc jr mk ml nd mn mo mp ne mr ms mt nf mv mw mx ig bi translated">一种更简短、技术性更低的解释方式是，Axios是一种工具，可以在对后端服务进行API调用时帮助简化数据检索。</p><p id="a9a7" class="pw-post-body-paragraph mc md in me b mf nb jo mh mi nc jr mk ml nd mn mo mp ne mr ms mt nf mv mw mx ig bi translated">下面是一个使用Axios的示例:</p><pre class="kd ke kf kg gt la lb lc ld aw le bi"><span id="faaa" class="lf lg in lb b gy lh li l lj lk">const axios = require('axios');<br/>// We need to import the package into to our workspace</span><span id="443b" class="lf lg in lb b gy ng li l lj lk">axios({<br/>  url: 'https://webapp/api/auth/sign-in',<br/>  method: 'POST',<br/>  headers: {<br/>    'Accept': 'application/json',<br/>    'Content-Type': 'application/json',<br/>  },<br/>  data: {<br/>    email: 'admin@admin.com',<br/>    password: '12345678',<br/>  },<br/>})<br/>.then(respsonse =&gt; {<br/>  console.log(response.message);<br/>});</span></pre><h1 id="06f2" class="ll lg in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">取得</h1><p id="d725" class="pw-post-body-paragraph mc md in me b mf mg jo mh mi mj jr mk ml mm mn mo mp mq mr ms mt mu mv mw mx ig bi translated">Fetch API是一个简单的接口，它也允许开发人员向后端服务或API发出HTTP请求。它提供了在浏览器窗口对象上定义的方法<code class="fe my mz na lb b">fetch()</code>。该方法只有一个必须传递的参数，即用户想要检索的资源的URL，您可以也很可能将options对象作为第二个参数传递。</p><p id="9efd" class="pw-post-body-paragraph mc md in me b mf nb jo mh mi nc jr mk ml nd mn mo mp ne mr ms mt nf mv mw mx ig bi translated">下面是一个使用Fetch API的示例:</p><pre class="kd ke kf kg gt la lb lc ld aw le bi"><span id="2080" class="lf lg in lb b gy lh li l lj lk">fetch('https://webapp/api/auth/sign-in', {<br/>  method: 'POST',<br/>  headers: {<br/>    'Accept': 'application/json',<br/>    'Content-Type': 'application/json',<br/>  },<br/>  body: JSON.stringify({<br/>    email: 'admin@admin.com',<br/>    password: '12345678',<br/>  }),<br/>})<br/>.then(respsonse =&gt; {<br/>  console.log(response.message);<br/>});</span></pre><ul class=""><li id="f2bf" class="nh ni in me b mf nb mi nc ml nj mp nk mt nl mx nm nn no np bi translated">Axios需要一个options对象，并且URL是在对象内部定义的。</li><li id="e7c0" class="nh ni in me b mf nq mi nr ml ns mp nt mt nu mx nm nn no np bi translated">URL作为参数传递到<code class="fe my mz na lb b">fetch()</code>中，而不是在options对象中设置。</li><li id="23fb" class="nh ni in me b mf nq mi nr ml ns mp nt mt nu mx nm nn no np bi translated">Axios使用data属性，Fetch使用body属性。</li><li id="072b" class="nh ni in me b mf nq mi nr ml ns mp nt mt nu mx nm nn no np bi translated">在使用Fetch发送数据之前，我们需要对数据进行字符串化</li><li id="c219" class="nh ni in me b mf nq mi nr ml ns mp nt mt nu mx nm nn no np bi translated">这两种实现也有相似的语法。</li></ul></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><h1 id="0571" class="ll lg in bd lm ln nv lp lq lr nw lt lu jt nx ju lw jw ny jx ly jz nz ka ma mb bi translated">向后兼容性</h1><p id="5181" class="pw-post-body-paragraph mc md in me b mf mg jo mh mi mj jr mk ml mm mn mo mp mq mr ms mt mu mv mw mx ig bi translated">Axios之所以获得如此庞大的追随者，是因为其广泛的浏览器支持。另一方面，Fetch并没有得到广泛支持，你可以在这里查看哪些浏览器<code class="fe my mz na lb b">fetch()</code>不支持<a class="ae ks" href="https://caniuse.com/?search=Fetch" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="300d" class="ll lg in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">响应超时</h1><p id="ae09" class="pw-post-body-paragraph mc md in me b mf mg jo mh mi mj jr mk ml mm mn mo mp mq mr ms mt mu mv mw mx ig bi translated">使用Axios，开发人员可以通过在options对象上设置超时(以毫秒为单位)属性，轻松地为他们的请求设置响应超时。</p><p id="be70" class="pw-post-body-paragraph mc md in me b mf nb jo mh mi nc jr mk ml nd mn mo mp ne mr ms mt nf mv mw mx ig bi translated">虽然可以使用Fetch实现类似的功能，但它肯定不像Axios采用的方法那么简单。这里有一个简短的<a class="ae ks" href="https://dmitripavlutin.com/timeout-fetch-request/" rel="noopener ugc nofollow" target="_blank">教程</a>，你可以从中学习如何使用<code class="fe my mz na lb b">fetch()</code>创建响应超时。</p><h1 id="5982" class="ll lg in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">截击机</h1><p id="74fa" class="pw-post-body-paragraph mc md in me b mf mg jo mh mi mj jr mk ml mm mn mo mp mq mr ms mt mu mv mw mx ig bi translated">Axios受devs欢迎的另一个原因是Axios有一个内置的功能来拦截HTTP请求。例如，您可以在每次发送HTTP请求之前记录一条消息或执行一些逻辑。</p><p id="6e18" class="pw-post-body-paragraph mc md in me b mf nb jo mh mi nc jr mk ml nd mn mo mp ne mr ms mt nf mv mw mx ig bi translated">Fetch不提供任何默认的方法来拦截请求。但这并不意味着没有办法克服这个小问题。您可以轻松地覆盖Fetch方法并定义一个定制的拦截器。</p><h1 id="e099" class="ll lg in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">JSON数据</h1><p id="3d30" class="pw-post-body-paragraph mc md in me b mf mg jo mh mi mj jr mk ml mm mn mo mp mq mr ms mt mu mv mw mx ig bi translated">还记得我们在前面的例子中对options对象设置的<code class="fe my mz na lb b">data</code>吗？Axios会在发送HTTP请求之前自动将该数据字符串化。</p><p id="265f" class="pw-post-body-paragraph mc md in me b mf nb jo mh mi nc jr mk ml nd mn mo mp ne mr ms mt nf mv mw mx ig bi translated">然而，这是Fetch在默认情况下不能提供的另一个特性，但同样，它肯定是可以用一些额外的时间来完成的。</p><h1 id="59e5" class="ll lg in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">结论</h1><p id="ee80" class="pw-post-body-paragraph mc md in me b mf mg jo mh mi mj jr mk ml mm mn mo mp mq mr ms mt mu mv mw mx ig bi translated">到了这一步，你可能已经意识到或者还没有意识到Axios有一些默认提供给我们的便利特性，而Fetch没有。记住这一点，两人做同样的事情，而且都做得很好。</p><p id="1bc8" class="pw-post-body-paragraph mc md in me b mf nb jo mh mi nc jr mk ml nd mn mo mp ne mr ms mt nf mv mw mx ig bi translated">Axios拥有的大多数功能也可以使用Fetch来重现。那么应该用哪一个呢？</p><p id="102b" class="pw-post-body-paragraph mc md in me b mf nb jo mh mi nc jr mk ml nd mn mo mp ne mr ms mt nf mv mw mx ig bi translated">Axios提供了一个很好的一体化包供您轻松使用，但您需要所有这些功能吗？就一两个？您当前的项目使用Fetch可能会做得很好，如果您真的需要一些额外的功能，您所要做的就是花一点时间来创建一个工作区。有大量的资源供你学习如何做到这一点。</p><p id="319f" class="pw-post-body-paragraph mc md in me b mf nb jo mh mi nc jr mk ml nd mn mo mp ne mr ms mt nf mv mw mx ig bi translated">所以也许你可以问自己，“我需要这些特性中的任何一个吗？或者我的项目可以少一个需要担心的依赖吗？”。</p><ul class=""><li id="3e9d" class="nh ni in me b mf nb mi nc ml nj mp nk mt nl mx nm nn no np bi translated">axios—<a class="ae ks" href="https://axios-http.com/docs/intro" rel="noopener ugc nofollow" target="_blank">https://axios-http.com/docs/intro</a></li><li id="2fdd" class="nh ni in me b mf nq mi nr ml ns mp nt mt nu mx nm nn no np bi translated">https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API</li></ul></div><div class="ab cl kt ku hr kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ig ih ii ij ik"><div class="kd ke kf kg gt oa"><a href="https://jrpotatodev.medium.com/how-to-create-a-simple-web-server-using-node-js-2021-5c3e89833128" rel="noopener follow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd io gy z fp of fr fs og fu fw im bi translated">如何使用Node.js (2021)创建一个简单的web服务器</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">使用Node.js的简单web服务器(2021)</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">jrpotatodev.medium.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo km oa"/></div></div></a></div><div class="op oq gp gr or oa"><a href="https://jrpotatodev.medium.com/how-to-create-dynamic-forms-with-react-hook-form-2021-a3bccae35163" rel="noopener follow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd io gy z fp of fr fs og fu fw im bi translated">如何用react-hook-form创建动态表单</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">在本教程中，我们将学习如何创建一个带有动态输入的表单，或者像有些人所说的那样，创建一个扩展表单</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">jrpotatodev.medium.com</p></div></div><div class="oj l"><div class="os l ol om on oj oo km oa"/></div></div></a></div><p id="1927" class="pw-post-body-paragraph mc md in me b mf nb jo mh mi nc jr mk ml nd mn mo mp ne mr ms mt nf mv mw mx ig bi translated"><em class="ot">更多内容请看</em><a class="ae ks" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="me io"><em class="ot">plain English . io</em></strong></a></p></div></div>    
</body>
</html>