# å¦‚ä½•ç¼–å†™æ­£ç¡®çš„å‰æ‹‰æäº¤æ¶ˆæ¯

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/how-to-write-correct-jira-commit-messages-d9910f332273?source=collection_archive---------3----------------------->

![](img/1e73e37a9fc9087523392a5d10c17ee4.png)

æäº¤æ¶ˆæ¯çš„å†…å®¹çœŸçš„å¾ˆé‡è¦ï¼Œå°¤å…¶æ˜¯å½“ä½ çš„å›¢é˜Ÿä½¿ç”¨åƒå‰æ‹‰è¿™æ ·çš„å·¥å…·æ—¶ï¼Œå› ä¸ºæœ‰æ—¶ä»£ç è°ƒè¯•è¿‡ç¨‹ä¼šæ›´å®¹æ˜“ï¼Œå¦‚æœä½ æœ‰æ›´å¤šå…³äºå½“å‰ä»£ç çš„ä¿¡æ¯ï¼Œåƒ**å‰æ‹‰ä»»åŠ¡ id** ï¼Œä½ å¯ä»¥æ‰¾åˆ°éªŒæ”¶æ ‡å‡†å’Œå…¶ä»–æœ‰ç”¨çš„ä¿¡æ¯ã€‚

åœ¨è¿™é‡Œï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•åœ¨æäº¤ä¹‹å‰éªŒè¯å‰æ‹‰æäº¤æ¶ˆæ¯ã€‚

# æˆ‘ä»¬å¼€å§‹å§

åƒå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬å°†ä»å®‰è£…ä¸€äº›ä¾èµ–é¡¹å¼€å§‹ã€‚

`npm i -D @commitlint/cli commitlint-plugin-jira-rules commitlint-config-jira husky`

*   [**ã€commit lint-config-jira**](https://github.com/Gherciu/commitlint-jira)â€”æ˜¯ä¸€ä¸ªæ¨èçš„é…ç½®ï¼ŒåŒ…å«å‰æ‹‰æäº¤æ¶ˆæ¯æ ·å¼çš„é¢„é…ç½®è§„åˆ™ã€‚
*   [**@ commit list/CLI**](https://github.com/conventional-changelog/commitlint)â€”æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥ lint æäº¤æ¶ˆæ¯ã€‚
*   [**husky**](https://github.com/typicode/husky)**â€”æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå®ƒå…è®¸æˆ‘ä»¬è½»æ¾åœ°ä¸ Git æŒ‚é’©ï¼Œå¹¶åœ¨é‚£äº›é˜¶æ®µè¿è¡Œæˆ‘ä»¬æƒ³è¦çš„è„šæœ¬**

**ç°åœ¨æˆ‘ä»¬éœ€è¦åœ¨å­˜å‚¨åº“çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª`commitlint.config.js`æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°†é…ç½® Commitlint ä»¥ä½¿ç”¨å‰æ‹‰æäº¤æ¶ˆæ¯é£æ ¼ã€‚**

**commitlint.config.js**

**ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ [**husky**](https://github.com/typicode/husky) å¯ç”¨å¹¶æ·»åŠ ä¸€ä¸ª`commit-msg` git æŒ‚é’©ï¼Œä»¥ä¾¿åœ¨æ¯æ¬¡å°è¯•æäº¤æŸä¸ªä¸œè¥¿æ—¶è¿è¡Œ Commitlintã€‚**

**Enabling Git hooks.**

**é€šè¿‡åœ¨æ‚¨çš„ç»ˆç«¯ [**ä¸­è¿è¡Œè¿™äº›å‘½ä»¤ï¼Œhusky**](https://github.com/typicode/husky) å°†å¯ç”¨ Git é’©å­å¹¶æ·»åŠ `commit-msg`é’©å­ã€‚**

***æ³¨:å¦‚æœæœ‰äººä¸æƒ³ä½¿ç”¨* ***å“ˆå£«å¥‡ v5*** *å› ä¸ºä»–ä»¬ç°åœ¨ä½¿ç”¨çš„æ˜¯ä¸´æ—¶çš„* [***å¥‡å¶å…¬å…±è®¸å¯è¯***](https://paritylicense.com/) *ï¼Œä¸‹é¢åœ¨* ***ã€é«˜çº§ç”¨æ³•ã€‘*** *ä¸€èŠ‚ä¸­ä½ å¯ä»¥é˜…è¯»å¦‚ä½•ä½¿ç”¨* ***å“ˆå£«å¥‡ v4ã€‚*****

# **ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒäº†:)**

**è®©æˆ‘ä»¬æäº¤æ–°æ–‡ä»¶å¹¶æµ‹è¯•æˆ‘ä»¬çš„é…ç½®æ˜¯å¦æœ‰æ•ˆã€‚**

**`git commit -am"My new commit message"`**

**è¯¥å‘½ä»¤å°†åœ¨æ‚¨çš„ç»ˆç«¯ä¸­æ˜¾ç¤ºä¸€äº›é”™è¯¯ï¼Œå› ä¸ºè¯¥æäº¤æ¶ˆæ¯ä¸ç¬¦åˆ[**commit list-config-jira è§„åˆ™**](https://github.com/Gherciu/commitlint-jira#rules-1) **ã€‚****

**![](img/6caede2fd92c601a6dfb9d87599726cf.png)**

**ç°åœ¨è®©æˆ‘ä»¬å†æ¬¡æäº¤æˆ‘ä»¬çš„æ–‡ä»¶ï¼Œä½†è¿™æ¬¡ä½¿ç”¨æ­£ç¡®çš„æäº¤æ¶ˆæ¯ï¼Œå®ƒéµå¾ª[**commit list-config-jira è§„åˆ™**](https://github.com/Gherciu/commitlint-jira#rules-1) **ã€‚****

**`git commit -am"TASK-21: My new commit message"`**

**è¯¥å‘½ä»¤å°†æ˜¾ç¤ºä¸€æ¡æˆåŠŸæ¶ˆæ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚**

**![](img/42c7ec338f509c3808cb9ee0fea2a60f.png)**

**ğŸ¥³ ä¸é”™ï¼å®ƒåƒé¢„æœŸçš„é‚£æ ·å·¥ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ Git æœåŠ¡å™¨ã€‚**

# **é«˜çº§ç”¨æ³•ğŸ¤“**

*   **è‡ªå®šä¹‰`commitlint-jira-config`è§„åˆ™ã€‚**

**commitlint.config.js**

***ç°åœ¨æˆ‘ä»¬èƒ½å¤Ÿæäº¤åŒ…å«ä¸€ä¸ª* ***ã€å‰æ‹‰ã€‘ä»»åŠ¡ id*** *é•¿äº* ***10 ä¸ªå­—ç¬¦*** *çš„æ¶ˆæ¯ã€‚***

*   **å…³é—­ä¸€ä¸ª`commitlint-jira-config`è§„åˆ™ã€‚**

**commitlint.config.js**

***ç°åœ¨* `*jira-task-id-max-length*` *è§„åˆ™è¢«ç¦ç”¨ï¼Œæ°¸è¿œä¸ä¼šæ£€æŸ¥æäº¤æ¶ˆæ¯é•¿åº¦ã€‚***

*   **å¦‚æœæœ‰äººä¸æƒ³ä½¿ç”¨**å“ˆå£«å¥‡ v5** ï¼Œå› ä¸ºä»–ä»¬ç°åœ¨ä½¿ç”¨çš„æ˜¯ [**å¥‡å¶æ ¡éªŒå…¬å…±è®¸å¯è¯**](https://paritylicense.com/) ï¼Œä½ å¯ä»¥ä½¿ç”¨**å“ˆå£«å¥‡ v4** ï¼Œåªè¦å°†å®ƒæ·»åŠ åˆ°ä½ çš„`package.json`ä¸­å°±å¯ä»¥è½»æ¾é…ç½®**

**package.json**

**æ„Ÿè°¢é˜…è¯»ã€‚æˆ‘å¸Œæœ›è¿™æœ‰æ‰€å¸®åŠ©ã€‚**