<html>
<head>
<title>JavaScript Tagged Template Literals Explained in 4 Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">4分钟解释JavaScript标记模板文字</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascripts-tagged-template-literals-explained-in-4-minutes-80e397a87729?source=collection_archive---------10-----------------------#2021-07-19">https://javascript.plainenglish.io/javascripts-tagged-template-literals-explained-in-4-minutes-80e397a87729?source=collection_archive---------10-----------------------#2021-07-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/7b7030473737cc5545f631ace9d4b0cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q9iSfNFHIKOo3GPZc3yLsA.jpeg"/></div></div></figure><h1 id="260e" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">介绍</h1><p id="a2db" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">ES6中增加了一些你可能已经使用了一段时间的东西，那就是模板文字。在这篇博文中，我将向您展示如何使用<em class="lr">标记的</em>模板文字来加快您编写格式化文本的方式。</p><p id="8fe9" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">如果您对模板文字有所了解，可以直接跳到最新的“带标签的模板文字”一节来理解本文的精髓。</p></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><h1 id="4779" class="jv jw in bd jx jy me ka kb kc mf ke kf kg mg ki kj kk mh km kn ko mi kq kr ks bi translated">模板文字，也称为字符串插值</h1><p id="6133" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">当我们想到模板时，我们的大脑很快就会想到某种可重用的数据/代码，我们可以根据自己的喜好对其进行定制。</p><p id="f748" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">模板字面量被称为<em class="lr">模板字面量</em>有点奇怪，因为它们并不是真正的<em class="lr">“模板”</em>。相反，我将把它们命名为它们应该被命名的名称:<strong class="kv io">字符串插值</strong>。</p><p id="6082" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">在ES6之前，我们需要做这样的事情:</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mj"><img src="../Images/bee659a92885557441224f39879577a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nWqiHDNCinG8V6-yXnx60w.png"/></div></div></figure><p id="224c" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">有了ES6，我们迎来了一种新的方式:</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mo"><img src="../Images/a26bde8f9c8a6de776e997278b892a00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3fdF0Z7pEqfwn83Lg5BUCA.png"/></div></div></figure><p id="5bb5" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><code class="fe mp mq mr ms b">${nameString}</code>被解析为表达式，而不是字符串。这种解析的别称叫做<strong class="kv io"> <em class="lr">插值。这种新语法允许我们动态地创建字符串，而不必将单独的字符串加在一起。</em></strong></p><p id="d5ea" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">因为字符串插值是智能字符串，这意味着您也可以将它们拆分成多行:</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mt"><img src="../Images/412807295147a4ebbec66c854521f0ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nyi4QRXDh0S2Hwutr86alQ.png"/></div></div></figure><p id="3515" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">另一件很棒的事情是，因为模板文字是作为表达式来解析和计算的，所以我们可以毫无问题地使用嵌套:</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/4676fdb33e13d1ad0cb778f93cafd627.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nuyc9xTzYuMCWTGRyAno1w.png"/></div></div></figure><p id="d5d6" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">这很好，现在你知道了如何使用字符串插值(模板文字)，让我们看看如何使用带标签的模板文字。</p><h1 id="08cb" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">标记的模板文字</h1><p id="48c9" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">带标签的模板文字实际上是添加到ES6的一个很好的特性。它们允许像样式组件这样的库以一种漂亮而简单的方式工作。</p><p id="12d0" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">考虑下面的例子:</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mw"><img src="../Images/6fe7c8abc54eea88bdbe4cab5e996e5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YBpBORtN5addN2I5GT1ovw.png"/></div></div></figure><p id="5d65" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">在上面的代码片段中，我们在模板文本前面添加了函数foo的名称。这个函数被称为模板文字的<strong class="kv io">标记(</strong>标记的模板文字)。</p><p id="298b" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">此函数接收一个普通子字符串列表，这些子字符串是通过划分模板文本(其中写入了插值)而创建的。之后，该函数接收我们使用spread/gather操作符收集的单独表达式。</p><p id="52f9" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">在这个函数中，您将能够遍历字符串和值，并重新创建字符串文字的结果。</p><p id="f4fe" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">那么，带标签的模板文字的真实用例是什么呢？考虑下面的例子:</p><figure class="mk ml mm mn gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mx"><img src="../Images/553a2d61d4c33243df08a778d01c7f9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rwtSkNY6nMNDYwzw8GgOsQ.png"/></div></div></figure><p id="1650" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">在上面的例子中，我们创建了一个名为<code class="fe mp mq mr ms b">withFormattedDates</code>的新函数，该函数将使用<em class="lr"> reduce </em>数组方法来重新创建字符串，并将检查所使用的表达式是否为日期。如果是，我们使用<code class="fe mp mq mr ms b">.toLocaleDateString()</code> date函数对它们进行格式化。</p><p id="a009" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">我们使用函数<code class="fe mp mq mr ms b">withFormattedDates</code>作为我们标记的模板文字的标记，结果是我们得到一个字符串，其中包含日期的表达式将产生格式化的日期字符串。</p><p id="1d57" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">多棒啊！？如果没有带标签的模板文字，您将需要编写单独的函数，并通过函数逐个运行日期，这可能会降低可读性。</p><p id="9566" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">这只是一个例子，说明了如何使用标记模板文字来提高游戏的速度。</p></div><div class="ab cl lx ly hr lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ig ih ii ij ik"><h1 id="a89a" class="jv jw in bd jx jy me ka kb kc mf ke kf kg mg ki kj kk mh km kn ko mi kq kr ks bi translated">结论</h1><p id="6478" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">在这篇博文中，我们讨论了模板文字和标记模板文字。我们已经了解了如何使用标记来改善智能“标记模板文字”字符串的呈现。</p><p id="38a2" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">我希望你学到了新东西。如果你想了解更多关于JavaScript中的析构，一定要看看我以前的一篇文章:<a class="ae mv" href="https://betterprogramming.pub/master-destructuring-in-javascript-6871d1fe5f6c" rel="noopener ugc nofollow" target="_blank">掌握Javascript中的析构|作者Diederik Mathijs | Jun，2021 |更好的编程</a></p><p id="fed1" class="pw-post-body-paragraph kt ku in kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><em class="lr">更多内容请看</em><a class="ae mv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lr">plain English . io</em></strong></a></p></div></div>    
</body>
</html>