<html>
<head>
<title>An Introduction to Kafka with TypeScript using NestJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨NestJSçš„æ‰“å­—ç¨¿ä»‹ç»å¡å¤«å¡</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/a-beginners-introduction-to-kafka-with-typescript-using-nestjs-7c92fe78f638?source=collection_archive---------0-----------------------#2021-09-15">https://javascript.plainenglish.io/a-beginners-introduction-to-kafka-with-typescript-using-nestjs-7c92fe78f638?source=collection_archive---------0-----------------------#2021-09-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e8a4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">ä¸€ä¸ªå®ç”¨çš„æ–¹æ³•ï¼Œç”¨çœŸå®çš„ä¾‹å­å‘ä½ ä»‹ç»Kafkaï¼ŒKafkaJSï¼ŒNestJSå¾®æœåŠ¡ã€‚</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f057f3f8e1857c0bd123465dd1aa805d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u3IjD13EgKyfby4MD6SAmw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">We will use all Kafka APIs</figcaption></figure><p id="88f0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å˜¿ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»Kafkaçš„åŸºæœ¬æ“ä½œï¼Œä½¿ç”¨NestJSä½œä¸ºæˆ‘ä»¬é€‰æ‹©çš„åŸºäºTypescriptçš„åç«¯ã€‚</p><blockquote class="lr ls lt"><p id="181a" class="kv kw lu kx b ky kz jr la lb lc ju ld lv lf lg lh lw lj lk ll lx ln lo lp lq ij bi translated">åƒå¾€å¸¸ä¸€æ ·ï¼Œå¦‚æœä½ ä¸æƒ³é˜…è¯»ï¼Œä½†çœ‹åˆ°äº†æºä»£ç â€¦åœ¨æ–‡ç« çš„æœ€åï¼Œä½ ä¼šå‘ç°æˆ‘çš„gitåº“ï¼Œä¸€åˆ‡éƒ½è®¾ç½®å¥½äº†ã€‚</p></blockquote><p id="68bb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¦‚æœä½ æ˜¯æ–°æ¥çš„ï¼Œæˆ‘æ­£åœ¨ç”¨åª’ä½“å†™ä¸€äº›éšæœºçš„è½¯ä»¶å·¥ç¨‹å†…å®¹ï¼Œç‰¹åˆ«æ˜¯ç”¨æ‰“å­—ç¨¿ã€‚æœ€è¿‘æˆ‘ç”¨NestJSæ·»åŠ äº†ä¸€äº›å…³äºGraphQLå’ŒT2 REST APIçš„æ•™ç¨‹ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å°è¯•è·³è¿‡REST/GraphQLçš„ä¸€äº›å†…å®¹ï¼Œä¸“æ³¨äºKafkaå’ŒNestJSã€‚</p><p id="ed04" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨ç»§ç»­ä¹‹å‰ï¼Œéœ€è¦äº†è§£Dockerã€Node.jså’ŒTypescript/Javascriptçš„åŸºç¡€çŸ¥è¯†ï¼Œä»¥ä¾¿åœ¨æ²¡æœ‰å¤ªå¤šé—®é¢˜çš„æƒ…å†µä¸‹éµå¾ªå®ç”¨æŒ‡å—ã€‚</p><div class="lz ma gp gr mb mc"><a rel="noopener  ugc nofollow" target="_blank" href="/graphql-backend-in-nodejs-made-easy-with-nestjs-1489be18b994"><div class="md ab fo"><div class="me ab mf cl cj mg"><h2 class="bd ir gy z fp mh fr fs mi fu fw ip bi translated">ä½¿ç”¨NestJSç®€åŒ–Node.jsä¸­çš„GraphQLåç«¯</h2><div class="mj l"><h3 class="bd b gy z fp mh fr fs mi fu fw dk translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä»¥ä¸€ç§éå¸¸éå¸¸ç®€å•çš„æ–¹å¼å¼€å§‹ä¸€ä¸ªGraphQLåç«¯é¡¹ç›®â€¦ä½¿ç”¨NestJSï¼</h3></div><div class="mk l"><p class="bd b dl z fp mh fr fs mi fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ml l"><div class="mm l mn mo mp ml mq kp mc"/></div></div></a></div><h1 id="b331" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">é…·ï¼Œé‚£ä¹ˆå¡å¤«å¡æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p id="9fc4" class="pw-post-body-paragraph kv kw iq kx b ky nj jr la lb nk ju ld le nl lg lh li nm lk ll lm nn lo lp lq ij bi translated">åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œç®€å•çš„è§£é‡Šæ€»æ˜¯æœ‰æ•ˆçš„ã€‚æˆ‘ä»¬ä½¿ç”¨Kafkaï¼Œä½†æ­£å¼çš„æ–¹å¼æ˜¯Apache Kafkaï¼Œå®ƒæ˜¯ä¸€ä¸ªä½¿ç”¨æµå¤„ç†çš„è½¯ä»¶æ€»çº¿çš„æ¡†æ¶å®ç°ï¼Œå¹¶ä¸”æ˜¯å¼€æºçš„ã€‚ç»´åŸºç™¾ç§‘ç»™å‡ºäº†æ›´è¯¦ç»†çš„è§£é‡Š<a class="ae ly" href="https://en.wikipedia.org/wiki/Apache_Kafka" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>ã€‚</p><p id="6482" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¯•ç€æŠ½è±¡ä¸€ä¸‹è§£é‡Šï¼Œä½ å¯ä»¥è€ƒè™‘ä¸€ç§æ–¹æ³•ï¼Œä½ å¯ä»¥å‘é€æ¶ˆæ¯åˆ°ç‰¹å®šçš„åœ°æ–¹ï¼Œåœ¨é‚£é‡Œä½ â€œä¸åœ¨ä¹â€è°ä¼šæ”¶åˆ°å®ƒï¼Œå¦‚æœä»–ä»¬ä¼šæ”¶åˆ°çš„è¯ã€‚ä½ æ”¾æ¶ˆæ¯çš„è¿™äº›ç‰¹å®šåœ°æ–¹è¢«ç§°ä¸º<strong class="kx ir">ä¸»é¢˜</strong>ï¼Œä½ å¯ä»¥è®¤ä¸ºå½“ä½ åœ¨é‚£é‡Œæ·»åŠ ä¸€æ¡æ¶ˆæ¯æ—¶ï¼Œä½ å°±æ˜¯ä¸€ä¸ª<strong class="kx ir">ç”Ÿäº§è€…</strong>ï¼Œä»»ä½•è·å–è¿™æ¡ä¿¡æ¯çš„äººéƒ½å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ª<strong class="kx ir">æ¶ˆè´¹è€…ã€‚</strong>è¿™ä¸€è¿‡ç¨‹å¯ä»¥è®©æ•°ç™¾ä¸‡æ¶ˆè´¹è€…ä»¥æŸç§æ–¹å¼è·å¾—æ‰€å‘é€çš„ä¿¡æ¯ã€‚</p><p id="eed4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¯¥è¿‡ç¨‹æ˜¯å®Œå…¨å¼‚æ­¥çš„ï¼ŒåŒ…å«äº”ä¸ªä¸»è¦çš„API:</p><ul class=""><li id="c474" class="no np iq kx b ky kz lb lc le nq li nr lm ns lq nt nu nv nw bi translated">ç”Ÿäº§è€…:è´Ÿè´£åˆ›å»ºæ¶ˆæ¯</li><li id="c15e" class="no np iq kx b ky nx lb ny le nz li oa lm ob lq nt nu nv nw bi translated">æ¶ˆè´¹è€…:è´Ÿè´£â€¦æ¶ˆè´¹ä¿¡æ¯</li><li id="3e67" class="no np iq kx b ky nx lb ny le nz li oa lm ob lq nt nu nv nw bi translated">è¿æ¥å™¨:å¯ä»¥â€œé‡ç”¨â€ç”Ÿäº§è€…/æ¶ˆè´¹è€…APIå’Œé“¾æ¥ä¸»é¢˜</li><li id="1fb3" class="no np iq kx b ky nx lb ny le nz li oa lm ob lq nt nu nv nw bi translated">æµ:è´Ÿè´£å°†è¾“å…¥è½¬æ¢ä¸ºè¾“å‡ºç»“æœ</li><li id="5790" class="no np iq kx b ky nx lb ny le nz li oa lm ob lq nt nu nv nw bi translated">Admin:ç”¨äºç®¡ç†Kafkaä¸»é¢˜ã€‚</li></ul><p id="0f4f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘ä»¬å¯èƒ½è¦èŠ±å‡ ç™¾ä¸ªå°æ—¶å»æ·±å…¥äº†è§£å¡å¤«å¡æ˜¯ä»€ä¹ˆã€ä¸ºä»€ä¹ˆä»¥åŠå¦‚ä½•æœ‰è¶£ï¼Œä½†ç°åœ¨æˆ‘ä»¬å°†é›†ä¸­åœ¨ä¸€ä¸ªç®€çŸ­çš„ç°å®ç”Ÿæ´»ä¾‹å­ä¸­ä½¿ç”¨å®ƒã€‚</p><blockquote class="lr ls lt"><p id="dca0" class="kv kw lu kx b ky kz jr la lb lc ju ld lv lf lg lh lw lj lk ll lx ln lo lp lq ij bi translated">æƒ³çœ‹çœ‹è°ä¹Ÿç”¨å¡å¤«å¡ï¼Ÿæ‰€æœ‰è´¢å¯Œ100å¼ºä¼ä¸šçš„<a class="ae ly" href="https://kafka.apache.org/" rel="noopener ugc nofollow" target="_blank"> ~80%å‘¢ï¼Ÿ</a></p></blockquote><p id="f8ad" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¯¹äºä½¿ç”¨å¡å¤«å¡ï¼Œä½ æ˜¯å¹¸è¿çš„ï¼ä½ ä¸éœ€è¦åšå¤ªå¤šçš„äº‹æƒ…æ¥ä½¿å®ƒè¿è¡Œèµ·æ¥ã€‚åœ¨<a class="ae ly" href="https://www.docker.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> Docker </strong> </a> <strong class="kx ir"> </strong>çš„å¸®åŠ©ä¸‹ï¼Œæ‚¨å°†èƒ½å¤Ÿä½¿ç”¨æˆ‘çš„ç¤ºä¾‹è¿è¡ŒDockerå‘½ä»¤æ¥è®¾ç½®æ‰€æœ‰éœ€è¦çš„æœåŠ¡å™¨ï¼Œå¹¶åŒ…æ‹¬ä¸€ä¸ªä»ªè¡¨æ¿å·¥å…·æ¥ç®€åŒ–æˆ‘ä»¬çš„è¿‡ç¨‹ã€‚</p><p id="ba3e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘ä»¬å¯ä»¥å¼€å§‹äº†å—ï¼Ÿ</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="47c3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®ä¿æˆ‘ä»¬å·²ç»é…ç½®äº†ä¸€ä¸ªKafkaï¼Œå¹¶ä¸”æ­£åœ¨è¿è¡Œã€‚ç»§ç»­ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„è®¡ç®—æœºä¸­æœ‰Dockerã€‚ç”±äºæˆ‘ä»¬è¦ä½¿ç”¨NestJSï¼Œæˆ‘å°†ä½¿ç”¨ä¸€ä¸ªåä¸ºnestjs-kafka-tutorialçš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­å°†åŒ…å«æˆ‘è¦å…±äº«çš„<a class="ae ly" href="https://github.com/makinhs/nestjs-kafka-tutorial" rel="noopener ugc nofollow" target="_blank"> githubé¡¹ç›®</a>ã€‚å› æ­¤ï¼Œåœ¨æ‚¨çš„å·¥ä½œæ–‡ä»¶å¤¹ä¸­ï¼Œè®©æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªå…è®¸æˆ‘ä»¬è¿è¡Œæˆ‘ä»¬éœ€è¦è¿è¡Œçš„æ–‡ä»¶ï¼Œåä¸º<strong class="kx ir"> docker-compose.yml </strong>ï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="2021" class="oo ms iq ok b gy op oq l or os">version: '2'<br/>services:<br/>  zookeeper:<br/>    image: confluentinc/cp-zookeeper:latest<br/>    environment:<br/>      ZOOKEEPER_CLIENT_PORT: 2181<br/>      ZOOKEEPER_TICK_TIME: 2000<br/>    ports:<br/>      - 22181:2181<br/><br/>  kafka:<br/>    image: confluentinc/cp-kafka:latest<br/>    depends_on:<br/>      - zookeeper<br/>    ports:<br/>      - 29092:29092<br/>    environment:<br/>      KAFKA_BROKER_ID: 1<br/>      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181<br/>      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092<br/>      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT<br/>      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT<br/>      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1<br/><br/>  kafka_ui:<br/>    image: provectuslabs/kafka-ui:latest<br/>    depends_on:<br/>      - kafka<br/>    ports:<br/>      - 8080:8080<br/>    environment:<br/>      KAFKA_CLUSTERS_0_ZOOKEEPER: zookeeper:2181<br/>      KAFKA_CLUSTERS_0_NAME: local<br/>      KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS: kafka:9092</span></pre><p id="d031" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬æ­£åœ¨è¿è¡Œä¸€ä¸ªå¿…éœ€çš„æœåŠ¡å™¨ã€å°†è¢«ç¼–æ’çš„ä»£ç†å’Œä¸€ä¸ªUIå·¥å…·ã€‚é‚£é‡Œçš„å›¾ç‰‡å¯ä»¥åœ¨ç½‘ä¸Šå…è´¹ä½¿ç”¨ï¼Œåœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ä»ç„¶å¯ä»¥å…è´¹ä½¿ç”¨ã€‚</p><p id="f750" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ‚¨çš„æ ¹æ–‡ä»¶å¤¹ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="1aae" class="oo ms iq ok b gy op oq l or os">docker compose up -d</span></pre><p id="e50a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¿™å°†åæ˜ åœ¨ä»¥ä¸‹å†…å®¹ä¸­:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="a0c1" class="oo ms iq ok b gy op oq l or os">âœ  nestjs-kafka-tutorial git:(main) âœ— docker compose up -d<br/>[+] Running 4/4<br/> â ¿ Network nestjs-kafka-tutorial_default        Created                                                                                                                                                     0.1s<br/> â ¿ Container nestjs-kafka-tutorial_zookeeper_1  Started                                                                                                                                                     0.6s<br/> â ¿ Container nestjs-kafka-tutorial_kafka_1      Started                                                                                                                                                     1.5s<br/> â ¿ Container nestjs-kafka-tutorial_kafka_ui_1   Started                                                                                                                                                     2.4s<br/>âœ  nestjs-kafka-tutorial git:(main) âœ—</span></pre><p id="3ba9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¦‚æœå°†è„±ç¦»ç»ˆç«¯(å®ƒå°†åœ¨åå°è¿è¡Œ),å¹¶å°†â€œç¥å¥‡åœ°â€ä¸ºæ‚¨å¯åŠ¨å¡å¤«å¡ã€‚è¦æŸ¥çœ‹å®ƒæ˜¯å¦å·¥ä½œï¼Œæ‚¨åªéœ€æ‰“å¼€<a class="ae ly" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080/ </a>ï¼Œå°†ä¼šçœ‹åˆ°ä»¥ä¸‹å†…å®¹:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/6c2af7228a6ee2dc2002d3aa575db42e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jIE1TXvHbf0-E4UnacdKhw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">UI for Apache Kafka using the docker compose file</figcaption></figure><p id="6fc3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¦‚æœæ‚¨æœ‰åœ¨çº¿é›†ç¾¤ï¼Œæ‚¨å°±å¯ä»¥å¼€å§‹äº†ï¼</p><p id="4fb9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘ä»¬å°±æ¥æµ‹è¯•ä¸€ä¸‹èƒ½ä¸èƒ½å’Œå¡å¤«å¡â€œç©â€èµ·æ¥ã€‚è®©æˆ‘ä»¬åœ¨ä¸»é¢˜æŒ‰é’®ä¸­åˆ›å»ºä¸€ä¸ª<strong class="kx ir">ä¸»é¢˜</strong>ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªä¸»é¢˜:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/ae08fe33ee4b4bcba80199c53f97a0f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*65LyjqB-Dv3Gmqk3J9s43w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Adding a topicâ€¦</figcaption></figure><p id="5514" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä»»ä½•åç§°åˆ›å»ºä¸€ä¸ªæ–°ä¸»é¢˜(å»ºè®®æœç´¢å‘½åæ¨¡å¼):</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/30f29b4b35ca072a470d35a575b967a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NPYTxUaGkzBXpxV6u_b36A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Creating a medium.rocks topic</figcaption></figure><p id="015e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">é€šè¿‡è¿™ä¸ªè®¾ç½®ï¼Œæˆ‘ä»¬å¯ä»¥å‘ä¸€ä¸ªåä¸ºâ€œmedum.rocksâ€çš„ä¸»é¢˜å‘é€æ¶ˆæ¯ã€‚ç°åœ¨ï¼Œè¦ä½¿ç”¨ä»ªè¡¨æ¿å‘é€æ¶ˆæ¯ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p><ul class=""><li id="84a3" class="no np iq kx b ky kz lb lc le nq li nr lm ns lq nt nu nv nw bi translated">ç‚¹å‡»<strong class="kx ir">äº§ç”Ÿä¿¡æ¯</strong></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/0deda6166516f246dca4024ef5cdca37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ekysS1-NcBFqz62mT7YjEA.png"/></div></div></figure><ul class=""><li id="3e79" class="no np iq kx b ky kz lb lc le nq li nr lm ns lq nt nu nv nw bi translated">æ·»åŠ å¯†é’¥å’Œå†…å®¹å¹¶å‘é€</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/5b63421762ea57c7d4fa9427d2bee0c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vxJgRcmWJElSNpnwGSUaaA.png"/></div></div></figure><p id="64d4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¦‚æœåˆ·æ–°æµè§ˆå™¨ï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹å†…å®¹:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/bcbf4ca118203525444079e0d936d9d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AMlNwMMaRpCHOatV2OrrVQ.png"/></div></div></figure><p id="519c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¦‚æœä½ åšäº†è¿™äº›å·¥ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ç¼–ç äº†ï¼ä¸è¦æ‹…å¿ƒï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡STRINGæˆ–å…¶ä»–æ–¹å¼å…±äº«JSONå†…å®¹ã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬æ˜¯çˆ±æ‰“å­—ç¨¿çš„ä¸æ˜¯å—ï¼Ÿ</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="8b5e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è®©æˆ‘ä»¬åš<a class="ae ly" href="https://nestjs.com/" rel="noopener ugc nofollow" target="_blank"> NestJS </a>ï¼NestJSæ˜¯ä¸€ä¸ªéå¸¸å¯æ‰©å±•çš„æ¡†æ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨ExpressJSæ¥æ”¯æŒæ„å»ºAPIã€‚å®ƒæ”¯æŒæ„å»ºæ•´ä½“çš„å’Œéæ•´ä½“çš„APIã€‚ä¸ºäº†ç®€åŒ–æœ¬æ–‡ï¼Œæˆ‘å°†åœ¨æˆ‘çš„git repoä¸­åˆ›å»ºä¸¤ä¸ªè¿·ä½ é¡¹ç›®ï¼Œä¸€ä¸ªåŒ…å«ç”Ÿäº§è€…é¡¹ç›®ï¼Œå¦ä¸€ä¸ªåŒ…å«æ¶ˆè´¹è€…é¡¹ç›®ã€‚æˆ‘å¯èƒ½ä¼šåœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­å›é¡¾ä¸€ä¸‹å¾®æœåŠ¡é…ç½®å’Œæ­å»ºï¼Œä½†è¿™ç¯‡æ–‡ç« æˆ‘ä»¬å°†è®©Kafkaå‘æŒ¥ä½œç”¨ï¼</p><p id="8438" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å› æ­¤ï¼Œè¯·ç¡®ä¿å®‰è£…ä»–ä»¬çš„CLI:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="5f3a" class="oo ms iq ok b gy op oq l or os">npm i -g @nestjs/cli</span></pre><p id="e4fd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨æˆ‘ä»¬çš„æ ¹æ–‡ä»¶å¤¹ä¸­ï¼Œè®©æˆ‘ä»¬åˆ›å»ºç”Ÿäº§è€…APIï¼</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="3da6" class="oo ms iq ok b gy op oq l or os">nest new producer</span></pre><p id="371e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘å°†ä½¿ç”¨yarnä½œä¸ºåŒ…ç®¡ç†å™¨ï¼Œä½†æ‚¨å¯ä»¥éšæ„ä½¿ç”¨æ‚¨æƒ³è¦çš„ä»»ä½•ä¸œè¥¿:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="5bda" class="oo ms iq ok b gy op oq l or os"><strong class="ok ir">nestjs-kafka-tutorial</strong> <strong class="ok ir">git:(main)</strong> nest new producer</span><span id="2f50" class="oo ms iq ok b gy oz oq l or os">âš¡  We will scaffold your app in a few seconds..</span><span id="0454" class="oo ms iq ok b gy oz oq l or os">CREATE producer/.eslintrc.js (631 bytes)</span><span id="dc73" class="oo ms iq ok b gy oz oq l or os">CREATE producer/.prettierrc (51 bytes)</span><span id="6790" class="oo ms iq ok b gy oz oq l or os">CREATE producer/README.md (3339 bytes)</span><span id="0316" class="oo ms iq ok b gy oz oq l or os">CREATE producer/nest-cli.json (64 bytes)</span><span id="9f35" class="oo ms iq ok b gy oz oq l or os">CREATE producer/package.json (1964 bytes)</span><span id="4040" class="oo ms iq ok b gy oz oq l or os">CREATE producer/tsconfig.build.json (97 bytes)</span><span id="6b92" class="oo ms iq ok b gy oz oq l or os">CREATE producer/tsconfig.json (365 bytes)</span><span id="9784" class="oo ms iq ok b gy oz oq l or os">CREATE producer/src/app.controller.spec.ts (617 bytes)</span><span id="055c" class="oo ms iq ok b gy oz oq l or os">CREATE producer/src/app.controller.ts (274 bytes)</span><span id="3557" class="oo ms iq ok b gy oz oq l or os">CREATE producer/src/app.module.ts (249 bytes)</span><span id="bb8e" class="oo ms iq ok b gy oz oq l or os">CREATE producer/src/app.service.ts (142 bytes)</span><span id="1723" class="oo ms iq ok b gy oz oq l or os">CREATE producer/src/main.ts (208 bytes)</span><span id="f9b9" class="oo ms iq ok b gy oz oq l or os">CREATE producer/test/app.e2e-spec.ts (630 bytes)</span><span id="c94c" class="oo ms iq ok b gy oz oq l or os">CREATE producer/test/jest-e2e.json (183 bytes)</span><span id="36c2" class="oo ms iq ok b gy oz oq l or os">? <strong class="ok ir">Which package manager would you â¤ï¸  to use?</strong> yarn</span><span id="8e77" class="oo ms iq ok b gy oz oq l or os">âœ” Installation in progress... â˜•</span><span id="fe60" class="oo ms iq ok b gy oz oq l or os">ğŸš€  Successfully created project producer</span><span id="9c7e" class="oo ms iq ok b gy oz oq l or os">ğŸ‘‰  Get started with the following commands:</span><span id="9d1e" class="oo ms iq ok b gy oz oq l or os">$ cd producer</span><span id="b712" class="oo ms iq ok b gy oz oq l or os">$ yarn run start</span><span id="ec4f" class="oo ms iq ok b gy oz oq l or os">Thanks for installing Nest ğŸ™</span><span id="a8dc" class="oo ms iq ok b gy oz oq l or os">Please consider donating to our open collective</span><span id="1563" class="oo ms iq ok b gy oz oq l or os">to help us maintain this package.</span><span id="3cc2" class="oo ms iq ok b gy oz oq l or os"><strong class="ok ir">ğŸ·  Donate:</strong> https://opencollective.com/nest</span></pre><p id="6bae" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¿™åº”è¯¥è¶³å¤Ÿæ­å»ºåŸºæœ¬çš„NestJSé¡¹ç›®äº†ã€‚NestJSé¡¹ç›®çš„åŸºæœ¬æ¡†æ¶ç»™å‡ºäº†ä¸€ä¸ªæœ€å°çš„é…ç½®ï¼Œå…¶ä¸­è®¾ç½®äº†ä¸€ä¸ªRESTç«¯ç‚¹ï¼Œè¿è¡Œåœ¨ç«¯å£3000ä¸Šã€‚å¯¹äºè¿™ä¸€éƒ¨åˆ†ï¼Œè¯·ç¡®ä¿åœ¨æ‚¨çš„ç»ˆç«¯ä¸­ï¼Œæ‚¨æ­£åœ¨åä¸ºâ€œproducerâ€çš„æ–‡ä»¶å¤¹ä¸­å·¥ä½œã€‚</p><p id="950c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨ç”Ÿæˆå™¨å†…éƒ¨æ‰§è¡Œä»»ä½•æ“ä½œä¹‹å‰ï¼Œè¯·ç§»é™¤ã€‚gitæ–‡ä»¶å¤¹å’Œã€‚gitignoreå› ä¸ºåœ¨è¿™ä¸ªé¡¹ç›®ä¸­æˆ‘ä»¬å·²ç»æœ‰äº†ã€‚gitåœ¨æˆ‘ä»¬çš„æ ¹ï¼Œæˆ‘ä»¬é¿å…è¿‡åº¦é…ç½®å’Œä¸è°ˆè®ºå¡å¤«å¡ã€‚</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="bf3d" class="oo ms iq ok b gy op oq l or os">nestjs-kafka-tutorial git:(main) âœ— cd producer<br/>producer git:(master) âœ— rm -rf .git<br/>âœ  producer git:(main) âœ—<br/>âœ  producer git:(main) âœ— rm -rf .gitignore <br/>âœ  producer git:(main) âœ—</span></pre><p id="7e71" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘ä»¬ç°åœ¨éœ€è¦æ·»åŠ Kafkaå’Œå¾®æœåŠ¡æ¨¡å—ã€‚</p><p id="90ea" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æ·»åŠ å¡å¤«å¡å¾ˆç®€å•ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="40e6" class="oo ms iq ok b gy op oq l or os">yarn add kafkajs</span></pre><p id="4bd7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å›åº”ä¼šæ˜¯è¿™æ ·çš„:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="19d6" class="oo ms iq ok b gy op oq l or os"><strong class="ok ir">âœ  producer</strong> <strong class="ok ir">git:(main) âœ—</strong> yarn add kafkajs</span><span id="a5d3" class="oo ms iq ok b gy oz oq l or os"><strong class="ok ir">yarn add v1.22.10</strong></span><span id="832c" class="oo ms iq ok b gy oz oq l or os">warning ../../../package.json: No license field</span><span id="3329" class="oo ms iq ok b gy oz oq l or os">[1/4] ğŸ”  Resolving packages...</span><span id="062a" class="oo ms iq ok b gy oz oq l or os">[2/4] ğŸšš  Fetching packages...</span><span id="55df" class="oo ms iq ok b gy oz oq l or os">[3/4] ğŸ”—  Linking dependencies...</span><span id="d5cb" class="oo ms iq ok b gy oz oq l or os">warning " &gt; ts-loader@9.2.5" has unmet peer dependency "webpack@^5.0.0".</span><span id="ebcb" class="oo ms iq ok b gy oz oq l or os">[4/4] ğŸ”¨  Building fresh packages...</span><span id="8906" class="oo ms iq ok b gy oz oq l or os">success Saved lockfile.</span><span id="a227" class="oo ms iq ok b gy oz oq l or os">success Saved 1 new dependency.</span><span id="6c25" class="oo ms iq ok b gy oz oq l or os">info Direct dependencies</span><span id="11c8" class="oo ms iq ok b gy oz oq l or os">â””â”€ kafkajs@1.15.0</span><span id="529d" class="oo ms iq ok b gy oz oq l or os">info All dependencies</span><span id="0842" class="oo ms iq ok b gy oz oq l or os">â””â”€ kafkajs@1.15.0</span><span id="aaa5" class="oo ms iq ok b gy oz oq l or os">âœ¨  Done in 3.61s.</span></pre><p id="ad2c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç°åœ¨ï¼Œå¾®æœåŠ¡æ¨¡å—:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="3b56" class="oo ms iq ok b gy op oq l or os">yarn add @nestjs/microservices</span></pre><p id="d4c7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¤§æ¦‚æ˜¯è¿™æ ·çš„:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="de2a" class="oo ms iq ok b gy op oq l or os"><strong class="ok ir">âœ  producer</strong> <strong class="ok ir">git:(main) âœ—</strong> yarn add @nestjs/microservices</span><span id="0d56" class="oo ms iq ok b gy oz oq l or os"><strong class="ok ir">yarn add v1.22.10</strong></span><span id="e80c" class="oo ms iq ok b gy oz oq l or os">warning ../../../package.json: No license field</span><span id="5fd1" class="oo ms iq ok b gy oz oq l or os">[1/4] ğŸ”  Resolving packages...</span><span id="6a6e" class="oo ms iq ok b gy oz oq l or os">[2/4] ğŸšš  Fetching packages...</span><span id="e670" class="oo ms iq ok b gy oz oq l or os">[3/4] ğŸ”—  Linking dependencies...</span><span id="df91" class="oo ms iq ok b gy oz oq l or os">warning " &gt; ts-loader@9.2.5" has unmet peer dependency "webpack@^5.0.0".</span><span id="dc6f" class="oo ms iq ok b gy oz oq l or os">[4/4] ğŸ”¨  Building fresh packages...</span><span id="73c5" class="oo ms iq ok b gy oz oq l or os">success Saved lockfile.</span><span id="8186" class="oo ms iq ok b gy oz oq l or os">success Saved 2 new dependencies.</span><span id="bfa5" class="oo ms iq ok b gy oz oq l or os">info Direct dependencies</span><span id="96bf" class="oo ms iq ok b gy oz oq l or os">â””â”€ @nestjs/microservices@8.0.6</span><span id="1ff7" class="oo ms iq ok b gy oz oq l or os">info All dependencies</span><span id="647e" class="oo ms iq ok b gy oz oq l or os">â”œâ”€ @nestjs/microservices@8.0.6</span><span id="53c7" class="oo ms iq ok b gy oz oq l or os">â””â”€ json-socket@0.3.0</span><span id="c6c8" class="oo ms iq ok b gy oz oq l or os">âœ¨  Done in 5.07s.</span><span id="be26" class="oo ms iq ok b gy oz oq l or os"><strong class="ok ir">âœ  producer</strong> <strong class="ok ir">git:(main) âœ—</strong></span></pre><p id="ce33" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">é…·ï¼Œæˆ‘ä»¬è‡³å°‘è¦ä¸ºæˆ‘ä»¬çš„åˆ¶ä½œäººåšç‚¹ä»€ä¹ˆï¼</p><p id="1933" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç°åœ¨ï¼Œä½¿ç”¨æˆ‘ä»¬çš„app.module.tsï¼Œå®ƒæ˜¯NestJSåº”ç”¨ç¨‹åºçš„ä¸»æ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·é…ç½®Kafkaæ¨¡å—:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="971b" class="oo ms iq ok b gy op oq l or os">import { Module } from '@nestjs/common';<br/>import { AppController } from './app.controller';<br/>import { AppService } from './app.service';<br/>import {ClientsModule, Transport} from '@nestjs/microservices';<br/><br/>@Module({<br/>  imports: [<br/>    ClientsModule.<em class="lu">register</em>([<br/>      {<br/>        name: 'any_name_i_want',<br/>        transport: Transport.<em class="lu">KAFKA</em>,<br/>        options: {<br/>          client: {<br/>            clientId: 'any_client_id_i_want',<br/>            brokers: ['localhost:29092'],<br/>          },<br/>          consumer: {<br/>            groupId: 'an_unique_string_id',<br/>          },<br/>        },<br/>      },<br/>    ]),<br/>  ],<br/>  controllers: [AppController],<br/>  providers: [AppService],<br/>})<br/>export class AppModule {}</span></pre><p id="eef6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åŒæ ·ï¼Œä¸ºäº†ä¾¿äºåœ¨ä¸åŒçš„ç¯å¢ƒä¸­è¿è¡ŒåŒä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘é¿å…ä½†100%å»ºè®®å°†ä»»ä½•ç¡¬ä»£ç é…ç½®å­—ç¬¦ä¸²ç§»åŠ¨åˆ°. envæ–‡ä»¶ä¸­ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿™é‡Œæœ€é‡è¦çš„æ˜¯:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="90d6" class="oo ms iq ok b gy op oq l or os">brokers: ['localhost:29092'],</span></pre><p id="1322" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¿™ä¸ªç«¯å£29092å’Œlocalhostæ˜¯åœ¨æˆ‘ä»¬çš„<strong class="kx ir"> docker-compose.yml </strong>ä¸­è®¾ç½®çš„ã€‚åœ¨å®é™…åœºæ™¯ä¸­ï¼Œæ‚¨åº”è¯¥å°†è¿™ä¸ªURLæ›´æ”¹ä¸ºæ‚¨çš„stage/production URLï¼Œå¹¶å†æ¬¡ä½¿ç”¨. envæ–‡ä»¶æ¥è®¾ç½®å®ƒï¼Œå¦åˆ™æ‚¨å°†ä¼šç¼–å†™è¿‡å¤šçš„ä»£ç ã€‚</p><p id="054f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è®©æˆ‘ä»¬è¿è¡Œåº”ç”¨ç¨‹åºï¼Œçœ‹çœ‹åœ¨æ·»åŠ Kafkaæ¨¡å—æ—¶æ˜¯å¦æœ‰ä»»ä½•é”™è¯¯:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="6bf6" class="oo ms iq ok b gy op oq l or os">âœ  producer git:(main) âœ— yarn start<br/>yarn run v1.22.10<br/>warning ../../../package.json: No license field<br/>$ nest start<br/>[Nest] 14895  - 09/15/2021, 10:09:16 PM     LOG [NestFactory] Starting Nest application...<br/>[Nest] 14895  - 09/15/2021, 10:09:16 PM     LOG [InstanceLoader] ClientsModule dependencies initialized +27ms<br/>[Nest] 14895  - 09/15/2021, 10:09:16 PM     LOG [InstanceLoader] AppModule dependencies initialized +0ms<br/>[Nest] 14895  - 09/15/2021, 10:09:16 PM     LOG [RoutesResolver] AppController {/}: +4ms<br/>[Nest] 14895  - 09/15/2021, 10:09:16 PM     LOG [RouterExplorer] Mapped {/, GET} route +2ms<br/>[Nest] 14895  - 09/15/2021, 10:09:16 PM     LOG [NestApplication] Nest application successfully started +1ms</span></pre><p id="09ca" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä¼¼ä¹ä¸€åˆ‡éƒ½å¥½ï¼ä½¿ç”¨ClientsModuleï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å™¨ä¸­æ³¨å…¥ä¸€ä¸ªKafkaå®¢æˆ·ç«¯ï¼è®©æˆ‘ä»¬ç°åœ¨å°±å¼€å§‹å§:</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="7c49" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¦ä½¿ç”¨kafkaå®¢æˆ·ç«¯ï¼Œè¯·è®¿é—®æ‚¨çš„src/app.controller.tsã€‚</p><p id="7170" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å®ƒåŒ…å«è„šæ‰‹æ¶çš„ä»¥ä¸‹å†…å®¹:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="1634" class="oo ms iq ok b gy op oq l or os">import { Controller, <strong class="ok ir"><em class="lu">Get </em></strong>} from '@nestjs/common';<br/>import { AppService } from './app.service';<br/><br/>@Controller()<br/>export class AppController {<br/>  constructor(private readonly appService: AppService) {}<br/><br/>  @Get()<br/>  getHello(): string {<br/>    return this.appService.getHello();<br/>  }<br/>}</span></pre><p id="147c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·ç®€å•åœ°æ·»åŠ kafkaå®¢æˆ·ç«¯:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="0510" class="oo ms iq ok b gy op oq l or os">import { Controller, <strong class="ok ir"><em class="lu">Get</em></strong>, Inject } from '@nestjs/common';<br/>import { AppService } from './app.service';<br/>import { ClientKafka } from '@nestjs/microservices';<br/><br/>@Controller()<br/>export class AppController {<br/>  constructor(<br/>    private readonly appService: AppService,<br/>    @Inject('any_name_i_want') private readonly client: ClientKafka,<br/>  ) {}<br/><br/>  @Get()<br/>  getHello(): string {<br/>    return this.appService.getHello();<br/>  }<br/>}</span></pre><p id="c62c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¿™é‡Œå”¯ä¸€çœ‹èµ·æ¥å¥‡æ€ªçš„æ˜¯â€œä»»ä½•åå­—æˆ‘æƒ³è¦â€ã€‚è¿™ä¸ªå˜é‡åº”è¯¥ä¸æ‚¨åœ¨å®¢æˆ·ç«¯æ¨¡å—ä¸Šè®¾ç½®çš„ç›¸åŒï¼Œè¿™å·²ç»æ˜¯å¤åˆ¶ä»£ç ï¼Œä¹Ÿæ˜¯å°†å®ƒæ”¾åœ¨. envä¸Šçš„å¦ä¸€ä¸ªåŸå› ã€‚</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="5522" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">é…·ï¼Œç°åœ¨æ·»åŠ äº†ä¸€ä¸ªåä¸ºâ€œkafka-testâ€çš„éšæœºâ€œgetâ€è¯·æ±‚ï¼Œä½ æ°¸è¿œä¸èƒ½è¯´å®ƒæ˜¯ä¸€ä¸ªRESTç«¯ç‚¹:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="6652" class="oo ms iq ok b gy op oq l or os">import { Controller, <strong class="ok ir"><em class="lu">Get</em></strong>, Inject } from '@nestjs/common';<br/>import { AppService } from './app.service';<br/>import { ClientKafka } from '@nestjs/microservices';<br/><br/>@Controller()<br/>export class AppController {<br/>  constructor(<br/>    private readonly appService: AppService,<br/>    @Inject('any_name_i_want') private readonly client: ClientKafka,<br/>  ) {}<br/><br/>  @Get()<br/>  getHello(): string {<br/>    return this.appService.getHello();<br/>  }<br/><br/>  @Get('kafka-test')<br/>  testKafka(){<br/>    return this.client.emit('medium.rocks', {foo:'bar'})<br/>  }<br/>}</span></pre><p id="a6c3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å½“æ‚¨ç‚¹å‡»get to localhost:3000/kafka-testæ—¶ï¼Œè¯¥åº”ç”¨ç¨‹åºå°†å°è¯•å‘æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„åä¸ºâ€œmedium.rocksâ€çš„ä¸»é¢˜å‘å‡ºä¸€æ¡JSONæ¶ˆæ¯ã€‚æˆ‘ç”¨Postmanæ¥æµ‹è¯•ï¼Œä½†æ˜¯ä½ å¯ä»¥åƒè¿™æ ·å·æ›²:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="7941" class="oo ms iq ok b gy op oq l or os">curl --location --request GET 'http://localhost:3000/kafka-test'</span></pre><p id="8e36" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æ‚¨å°†æ”¶åˆ°ç±»ä¼¼ä»¥ä¸‹å†…å®¹çš„é‚®ä»¶:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="b375" class="oo ms iq ok b gy op oq l or os">[</span><span id="07ba" class="oo ms iq ok b gy oz oq l or os">{</span><span id="3267" class="oo ms iq ok b gy oz oq l or os">"topicName": "medium.rocks",</span><span id="dbbb" class="oo ms iq ok b gy oz oq l or os">"partition": 0,</span><span id="b91b" class="oo ms iq ok b gy oz oq l or os">"errorCode": 0,</span><span id="0111" class="oo ms iq ok b gy oz oq l or os">"baseOffset": "2",</span><span id="8519" class="oo ms iq ok b gy oz oq l or os">"logAppendTime": "-1",</span><span id="e42f" class="oo ms iq ok b gy oz oq l or os">"logStartOffset": "0"</span><span id="8711" class="oo ms iq ok b gy oz oq l or os">}</span><span id="7c23" class="oo ms iq ok b gy oz oq l or os">]</span></pre><p id="196d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¿™åªæ˜¯ç¡®è®¤ä½ å‘é€äº†ä½ æƒ³è¦çš„ä¿¡æ¯ã€‚</p><p id="e157" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å›åˆ°æˆ‘ä»¬ä¹‹å‰è®¨è®ºè¿‡çš„kafkaä»ªè¡¨æ¿ï¼Œæ‚¨å¯ä»¥åˆ·æ–°æµè§ˆå™¨å¹¶çœ‹åˆ°ä»¥ä¸‹å†…å®¹:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/49b4ecf79ba3adb7a86f39740466ea12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P0KaoZWU69Hg957X0ywHpA.png"/></div></div></figure><p id="25c6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç°åœ¨ä½ æœ‰äº†foo/barå†…å®¹å’ŒKafkaçš„å¦ä¸€ä¸ªå¥½å¤„â€¦æ¶ˆè´¹è€…ä¸éœ€è¦å®æ—¶é˜…è¯»ä½ çš„ä¿¡æ¯ã€‚æˆ‘ä¸ä¼šåœ¨è¿™æ–¹é¢æ·±å…¥æ¢è®¨ï¼Œä½†æ˜¯æ‚¨å¯ä»¥é…ç½®ä¸€ä¸ªæ¶ˆè´¹è€…ä»ä¸€ä¸ªç‰¹å®šçš„ç‚¹æˆ–è€…åªä»â€œå®æ—¶æ¶ˆæ¯â€ä¸­è¯»å–ï¼Œè¿™ä¸ºæ‚¨ä½œä¸ºä¸€ä¸ªè½¯ä»¶å·¥ç¨‹å¸ˆåˆ›é€ äº†è®¸å¤šå¯èƒ½æ€§ã€‚</p><p id="7ad2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œæˆ‘ä»¬å·²ç»å’Œåˆ¶ä½œäººç»“æŸäº†ã€‚ç°åœ¨æˆ‘ä»¬å»åˆ›å»ºä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œä½œä¸ºå¥–åŠ±ï¼Œæˆ‘æƒ³å±•ç¤ºä¸€ç§ç»å…¸çš„â€œè¯·æ±‚/å“åº”â€æ–¹æ³•ï¼Œå½“å¡å¤«å¡ä¹‹é—´äº¤æµæ—¶ï¼Œæœ‰æ—¶<strong class="kx ir">ä½¿ç”¨</strong>æ˜¯æœ‰æ„ä¹‰çš„ã€‚</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="012e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä¸ºäº†åˆ›å»ºä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œæˆ‘ä»¬å°†å®Œå…¨æŒ‰ç…§<strong class="kx ir">ç›¸åŒçš„</strong>NestJSæ­å»ºâ€¦æ‰€ä»¥å›åˆ°æˆ‘ä»¬çš„æ ¹æ–‡ä»¶å¤¹:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="8dcb" class="oo ms iq ok b gy op oq l or os">nest new consumer</span></pre><p id="e5cc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä½œä¸ºç”Ÿäº§è€…çš„å›åº”:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="3b0b" class="oo ms iq ok b gy op oq l or os"><strong class="ok ir">âœ  nestjs-kafka-tutorial</strong> <strong class="ok ir">git:(main) âœ—</strong> nest new consumer</span><span id="9344" class="oo ms iq ok b gy oz oq l or os">âš¡  We will scaffold your app in a few seconds..</span><span id="2205" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/.eslintrc.js (631 bytes)</span><span id="4091" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/.prettierrc (51 bytes)</span><span id="7f60" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/README.md (3339 bytes)</span><span id="a0ce" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/nest-cli.json (64 bytes)</span><span id="0c67" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/package.json (1964 bytes)</span><span id="f1fe" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/tsconfig.build.json (97 bytes)</span><span id="f9fb" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/tsconfig.json (365 bytes)</span><span id="b181" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/src/app.controller.spec.ts (617 bytes)</span><span id="2ee3" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/src/app.controller.ts (274 bytes)</span><span id="1e92" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/src/app.module.ts (249 bytes)</span><span id="cac2" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/src/app.service.ts (142 bytes)</span><span id="f1a1" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/src/main.ts (208 bytes)</span><span id="5c87" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/test/app.e2e-spec.ts (630 bytes)</span><span id="832b" class="oo ms iq ok b gy oz oq l or os">CREATE consumer/test/jest-e2e.json (183 bytes)</span><span id="f21a" class="oo ms iq ok b gy oz oq l or os">? <strong class="ok ir">Which package manager would you â¤ï¸  to use?</strong> yarn</span><span id="775f" class="oo ms iq ok b gy oz oq l or os">âœ” Installation in progress... â˜•</span><span id="fd7e" class="oo ms iq ok b gy oz oq l or os">ğŸš€  Successfully created project consumer</span><span id="363e" class="oo ms iq ok b gy oz oq l or os">ğŸ‘‰  Get started with the following commands:</span><span id="b144" class="oo ms iq ok b gy oz oq l or os">$ cd consumer</span><span id="c3c1" class="oo ms iq ok b gy oz oq l or os">$ yarn run start</span><span id="5e9d" class="oo ms iq ok b gy oz oq l or os">Thanks for installing Nest ğŸ™</span><span id="994e" class="oo ms iq ok b gy oz oq l or os">Please consider donating to our open collective</span><span id="6af7" class="oo ms iq ok b gy oz oq l or os">to help us maintain this package.</span><span id="d1e7" class="oo ms iq ok b gy oz oq l or os"><strong class="ok ir">ğŸ·  Donate:</strong> https://opencollective.com/nest</span><span id="72ca" class="oo ms iq ok b gy oz oq l or os"><strong class="ok ir">âœ  nestjs-kafka-tutorial</strong> <strong class="ok ir">git:(main) âœ—</strong></span></pre><p id="c3e6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç°åœ¨æ‰“å¼€æ¶ˆè´¹è€…æ–‡ä»¶å¤¹å¹¶ç§»é™¤ã€‚é¥­æ¡¶å’Œã€‚gitignore <em class="lu">ä¸ºäº†</em> <em class="lu">ä¸ºäº†è¿™ç¯‡æ–‡ç« :</em></p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="7135" class="oo ms iq ok b gy op oq l or os"><strong class="ok ir">âœ  nestjs-kafka-tutorial</strong> <strong class="ok ir">git:(main) âœ—</strong> cd consumer</span><span id="5287" class="oo ms iq ok b gy oz oq l or os"><strong class="ok ir">âœ  consumer</strong> <strong class="ok ir">git:(master) âœ—</strong> rm -rf .git .gitignore</span></pre><p id="5a53" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä»NestJSå®‰è£…kafkajså’Œå¾®æœåŠ¡æ¨¡å—:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="534e" class="oo ms iq ok b gy op oq l or os"><strong class="ok ir">âœ  consumer</strong> <strong class="ok ir">git:(main) âœ—</strong> yarn add @nestjs/microservices kafkajs</span><span id="e59d" class="oo ms iq ok b gy oz oq l or os"><strong class="ok ir">yarn add v1.22.10</strong></span><span id="a9d9" class="oo ms iq ok b gy oz oq l or os">warning ../../../package.json: No license field</span><span id="4382" class="oo ms iq ok b gy oz oq l or os">[1/4] ğŸ”  Resolving packages...</span><span id="60f5" class="oo ms iq ok b gy oz oq l or os">[2/4] ğŸšš  Fetching packages...</span><span id="ae24" class="oo ms iq ok b gy oz oq l or os">[3/4] ğŸ”—  Linking dependencies...</span><span id="2148" class="oo ms iq ok b gy oz oq l or os">warning " &gt; ts-loader@9.2.5" has unmet peer dependency "webpack@^5.0.0".</span><span id="c918" class="oo ms iq ok b gy oz oq l or os">[4/4] ğŸ”¨  Building fresh packages...</span><span id="38b7" class="oo ms iq ok b gy oz oq l or os">success Saved lockfile.</span><span id="3147" class="oo ms iq ok b gy oz oq l or os">success Saved 3 new dependencies.</span><span id="7108" class="oo ms iq ok b gy oz oq l or os">info Direct dependencies</span><span id="7800" class="oo ms iq ok b gy oz oq l or os">â”œâ”€ @nestjs/microservices@8.0.6</span><span id="8cd0" class="oo ms iq ok b gy oz oq l or os">â””â”€ kafkajs@1.15.0</span><span id="8949" class="oo ms iq ok b gy oz oq l or os">info All dependencies</span><span id="8103" class="oo ms iq ok b gy oz oq l or os">â”œâ”€ @nestjs/microservices@8.0.6</span><span id="62fa" class="oo ms iq ok b gy oz oq l or os">â”œâ”€ json-socket@0.3.0</span><span id="c354" class="oo ms iq ok b gy oz oq l or os">â””â”€ kafkajs@1.15.0</span><span id="03d2" class="oo ms iq ok b gy oz oq l or os">âœ¨  Done in 6.53s.</span><span id="cf92" class="oo ms iq ok b gy oz oq l or os"><strong class="ok ir">âœ  consumer</strong> <strong class="ok ir">git:(main) âœ—</strong></span></pre><p id="9b7e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç°åœ¨ï¼Œæ‰“å¼€consumer/src/app.module.ts:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="8d89" class="oo ms iq ok b gy op oq l or os">import { Module } from '@nestjs/common';<br/>import { AppController } from './app.controller';<br/>import { AppService } from './app.service';<br/>import { ClientsModule, Transport } from '@nestjs/microservices';<br/><br/>@Module({<br/>  imports: [<br/>    ClientsModule.<em class="lu">register</em>([<br/>      {<br/>        name: 'any_name_i_want',<br/>        transport: Transport.<em class="lu">KAFKA</em>,<br/>        options: {<br/>          client: {<br/>            clientId: 'any_client_id_i_want',<br/>            brokers: ['localhost:29092'],<br/>          },<br/>          consumer: {<br/>            groupId: 'an_unique_string_id',<br/>          },<br/>        },<br/>      },<br/>    ]),<br/>  ],<br/>  controllers: [AppController],<br/>  providers: [AppService],<br/>})<br/>export class AppModule {}</span></pre><blockquote class="lr ls lt"><p id="cff1" class="kv kw lu kx b ky kz jr la lb lc ju ld lv lf lg lh lw lj lk ll lx ln lo lp lq ij bi translated">å†æ¬¡â€¦è¿™ç¯‡æ–‡ç« åªæ˜¯ä¸ºäº†å±•ç¤ºå¦‚ä½•åœ¨Typescriptä¸­ä½¿ç”¨Kafkaï¼Œç”¨NestJSã€‚è¯·ä¸è¦åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨ç¡¬ç¼–ç é…ç½®ã€‚è¯·è‡³å°‘ä½¿ç”¨. envã€‚</p></blockquote><p id="a907" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä¸€åˆ‡çœ‹èµ·æ¥éƒ½ä¸€æ ·ï¼Œå¯¹å—ï¼Ÿä½†æ˜¯ï¼Œå¯¹äºæ¶ˆè´¹è€…æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹<strong class="kx ir"> main.ts </strong>æ–‡ä»¶ï¼Œå…è®¸æˆ‘ä»¬æ¶ˆè´¹æ¶ˆæ¯ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹å†…å®¹æ›´æ–°main.ts:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="6dbf" class="oo ms iq ok b gy op oq l or os">import { <strong class="ok ir"><em class="lu">NestFactory </em></strong>} from '@nestjs/core';<br/>import { AppModule } from './app.module';<br/>import {MicroserviceOptions, Transport} from '@nestjs/microservices';<br/><br/>async function bootstrap() {<br/>  const app = await <strong class="ok ir"><em class="lu">NestFactory</em></strong>.createMicroservice&lt;MicroserviceOptions&gt;(<br/>    AppModule,<br/>    {<br/>      transport: Transport.<em class="lu">KAFKA</em>,<br/>      options: {<br/>        client: {<br/>          brokers: ['localhost:29092'],<br/>        },<br/>      },<br/>    },<br/>  );<br/>  await app.listen();<br/>}<br/>bootstrap();</span></pre><blockquote class="lr ls lt"><p id="01c8" class="kv kw lu kx b ky kz jr la lb lc ju ld lv lf lg lh lw lj lk ll lx ln lo lp lq ij bi translated">æˆ‘å·²ç»è¯´äº†å¾ˆå¤šï¼Œä½†æ˜¯ç»çºªäººå¯èƒ½ä¼šä½¿ç”¨. envæ–‡ä»¶â€¦è¿™æ˜¯ä½ çš„åŠŸè¯¾</p></blockquote><p id="23da" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬ç»ˆäºè¦é…ç½®æ¶ˆè´¹è€…äº†â€¦æˆ‘ä»¬å°†é‡æ„è„šæ‰‹æ¶ï¼Œå¹¶è†å¬â€œmedium.rocksâ€ä¸»é¢˜ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œåœ¨æˆ‘ä»¬çš„app.controller.tsä¸­ï¼Œè®©æˆ‘ä»¬ç”¨ä»¥ä¸‹å†…å®¹è¿›è¡Œé‡æ„:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="14e9" class="oo ms iq ok b gy op oq l or os">import {Controller} from '@nestjs/common';<br/>import {<br/>  <strong class="ok ir"><em class="lu">Ctx</em></strong>,<br/>  KafkaContext,<br/>  <strong class="ok ir"><em class="lu">MessagePattern</em></strong>,<br/>  Payload,<br/>} from '@nestjs/microservices';<br/><br/>@Controller()<br/>export class AppController {<br/>  constructor() {<br/>  }<br/><br/>  @MessagePattern('medium.rocks')<br/>  readMessage(@Payload() message: any, @Ctx() context: KafkaContext) {<br/>    const originalMessage = context.getMessage();<br/>    const response =<br/>      `Receiving a new message from topic: medium.rocks: ` +<br/>      <strong class="ok ir"><em class="lu">JSON</em></strong>.stringify(originalMessage.value);<br/>    <strong class="ok ir"><em class="lu">console</em></strong>.log(response);<br/>    return response;<br/>  }<br/>}</span></pre><p id="421f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªåä¸º<strong class="kx ir"> readMessage </strong>çš„å‡½æ•°ï¼Œå®ƒä¼šå°è¯•ä¸æ—¶åœ°è¯»å–æ¥è‡ªåä¸ºâ€œmedium.rocksâ€çš„ä¸»é¢˜çš„ä»»ä½•æ¶ˆæ¯ï¼Œå¦‚æœå‘ç”Ÿäº†ä»€ä¹ˆï¼Œå®ƒä¼šè®°å½•åœ¨æˆ‘ä»¬çš„æ§åˆ¶å°ä¸­ã€‚</p><p id="69e3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨æµ‹è¯•ä¹‹å‰ï¼Œæˆ‘å°†åœ¨producer/src/app.controller.tsä¸­æ·»åŠ ä¸€ä¸ªæ—¥æœŸï¼Œä»¥ä¾¿æŸ¥çœ‹æˆ‘ä»¬å‘é€çš„æ¶ˆæ¯çš„å·®å¼‚:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="a109" class="oo ms iq ok b gy op oq l or os">@Get('kafka-test')<br/>testKafka(){<br/>  return this.client.emit('medium.rocks', {foo:'bar', data: new <strong class="ok ir"><em class="lu">Date</em></strong>().toString()})<br/>}</span></pre><p id="02c3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¯·åœ¨ç»§ç»­ä¹‹å‰é‡æ–°å¯åŠ¨æ‚¨çš„ç”Ÿæˆå™¨ã€‚</p><p id="2040" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä¸€æ—¦ç”Ÿæˆå™¨é‡æ–°å¯åŠ¨ï¼Œåœ¨å¦ä¸€ä¸ªé€‰é¡¹å¡ä¸­ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ä½¿ç”¨è€…:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="3ddd" class="oo ms iq ok b gy op oq l or os">yarn start</span></pre><p id="3cda" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æ‚¨å°†çœ‹åˆ°å¦‚ä¸‹å†…å®¹:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="033c" class="oo ms iq ok b gy op oq l or os">âœ  consumer git:(main) âœ— yarn start<br/>yarn run v1.22.10<br/>warning ../../../package.json: No license field<br/>$ nest start<br/>[Nest] 16855  - 09/15/2021, 10:47:23 PM     LOG [NestFactory] Starting Nest application...<br/>[Nest] 16855  - 09/15/2021, 10:47:23 PM     LOG [InstanceLoader] ClientsModule dependencies initialized +25ms<br/>[Nest] 16855  - 09/15/2021, 10:47:23 PM     LOG [InstanceLoader] AppModule dependencies initialized +1ms<br/>[Nest] 16855  - 09/15/2021, 10:47:23 PM     LOG [ServerKafka] INFO [Consumer] Starting {"timestamp":"2021-09-15T20:47:23.274Z","logger":"kafkajs","groupId":"nestjs-group-server"}<br/>[Nest] 16855  - 09/15/2021, 10:47:26 PM     LOG [ServerKafka] INFO [ConsumerGroup] Consumer has joined the group {"timestamp":"2021-09-15T20:47:26.292Z","logger":"kafkajs","groupId":"nestjs-group-server","memberId":"nestjs-consumer-server-f20adf4c-dca8-4196-9a08-f33a88ae281f","leaderId":"nestjs-consumer-server-f20adf4c-dca8-4196-9a08-f33a88ae281f","isLeader":true,"memberAssignment":{"medium.rocks":[0]},"groupProtocol":"RoundRobinAssigner","duration":3017}<br/>[Nest] 16855  - 09/15/2021, 10:47:26 PM     LOG [NestMicroservice] Nest microservice successfully started +5ms</span></pre><p id="ec50" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥å†æ¬¡å·æ›²æˆ‘ä»¬çš„ç”Ÿäº§è€…:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="c0ae" class="oo ms iq ok b gy op oq l or os">curl --location --request GET 'http://localhost:3000/kafka-test'</span></pre><p id="601e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å®Œæˆæ­¤æ“ä½œåï¼Œåœ¨æ‚¨çš„æ¶ˆè´¹è€…é€‰é¡¹å¡ä¸­ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°å¦‚ä¸‹å†…å®¹:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="68f7" class="oo ms iq ok b gy op oq l or os">[Nest] 16855  - 09/15/2021, 10:47:26 PM     LOG [NestMicroservice] Nest microservice successfully started +5ms<br/>Receiving a new message from topic: medium.rocks: {"foo":"bar","data":"Wed Sep 15 2021 22:48:02 GMT+0200 (Central European Summer Time)"}</span></pre><p id="4498" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å°±æ˜¯è¿™æ ·ã€‚æå…¶åŸºç¡€çš„åœºæ™¯ç”¨NestJSè§£å†³ï¼æ‚¨å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„åº”ç”¨ç¨‹åºä»KafkaæœåŠ¡å™¨ç”Ÿæˆå’Œä½¿ç”¨æ¶ˆæ¯ï¼</p><p id="7a5a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæ‚¨å¯ä»¥å¤„ç†å‘ç‰¹å®šä¸»é¢˜å‘å¸ƒæ¶ˆæ¯å’Œæ¶ˆè´¹å®ƒä»¬ä»¥å¤„ç†æ”¶åˆ°çš„ä¿¡æ¯ä¹‹é—´çš„å¤§éƒ¨åˆ†å¼‚æ­¥è¿‡ç¨‹ã€‚</p><p id="6e98" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å½“ç„¶ï¼Œåœ¨å¾®æœåŠ¡ä¸Šè¿˜æœ‰ä¸€ä¸ªå…¨æ–°çš„é¢†åŸŸéœ€è¦å­¦ä¹ ï¼Œè¿˜æœ‰å¦‚ä½•é…ç½®Kafkaçš„æ¨¡å¼ï¼Œå¦‚ä½•å‘½åä¸»é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•ç”¨æ¨¡å¼ã€ç‰ˆæœ¬æ§åˆ¶ç­‰ç­‰æ¥å¤„ç†æ¶ˆæ¯â€¦â€¦ä½†æ˜¯ï¼Œé€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œè‡³å°‘ä½ å¯ä»¥å¯¹æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…æœ‰ä¸€ä¸ªæœ€åŸºæœ¬çš„äº†è§£ã€‚</p><p id="cf76" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨ç»“æŸè¿™ç¯‡åºå¤§çš„åˆå­¦è€…æ–‡ç« ä¹‹å‰ï¼Œæˆ‘æƒ³ä¸ºæ‚¨å®é™…éœ€è¦æ¥æ”¶å·²æ¶ˆè´¹çš„Kafkaæ¶ˆæ¯çš„å“åº”çš„ç‰¹å®šæƒ…å†µæ·»åŠ ä¸€ä¸ªæ¦‚å¿µè¯æ˜ã€‚æˆ‘ä»¬ç°åœ¨å°±å¼€å§‹å§ï¼</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="28b2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä¸ºäº†å°è¯•ä¸€ç§è¯·æ±‚/å“åº”æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•åœ¨ä¸€äº›åœºæ™¯ä¸­å¹¶ä¸ç†æƒ³ï¼Œä½†å¯¹äºå…¶ä»–åœºæ™¯å¯èƒ½æ˜¯æœ‰æ„ä¹‰çš„ï¼ŒNestJSå…è®¸æˆ‘ä»¬(åœ¨å¼•æ“ç›–ä¸‹)æ¥æ”¶æ¥è‡ªæ¶ˆè´¹è€…çš„å“åº”ã€‚å®ƒåŸºæœ¬ä¸Šå…è®¸æˆ‘ä»¬è¿æ¥/æ–­å¼€åŒä¸€ä¸ªä¸»é¢˜ï¼Œæˆ‘ä»¬æ­£åœ¨å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œä½†ä»¥. replyç»“æŸã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°çš„ä¸»é¢˜ç§°ä¸º' medium.rocks.reply 'ã€‚ä¸ºæ­¤ï¼Œæˆ‘å°†åœ¨æˆ‘ä»¬çš„UIå·¥å…·ä¸­åˆ›å»ºä¸€ä¸ªæ–°ä¸»é¢˜:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/281354d5cad8413751ec3b827574b848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mOgkYBRa0Z5y-aAFJzx-0w.png"/></div></div></figure><p id="7850" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¿™åº”è¯¥è¶³ä»¥è®©NestJSå¤„ç†è¯·æ±‚/å“åº”ã€‚</p><blockquote class="lr ls lt"><p id="f53d" class="kv kw lu kx b ky kz jr la lb lc ju ld lv lf lg lh lw lj lk ll lx ln lo lp lq ij bi translated">è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨æ²¡æœ‰ä»»ä½•å…³äºè‡ªåŠ¨åˆ›å»ºä¸»é¢˜çš„é˜»æ­¢ç¨‹åºï¼Œåˆ™å¯èƒ½ä¸éœ€è¦æ­¤è¿‡ç¨‹ï¼Œä½†åœ¨ä¸€äº›ä¼ä¸šå…¬å¸ä¸­ï¼Œæ‚¨å¯èƒ½éœ€è¦åœ¨ä½¿ç”¨ä¹‹å‰åˆ›å»ºä¸»é¢˜ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æµ‹è¯•äº†åˆ›å»ºå’Œä¸åˆ›å»ºä¸¤ç§æ–¹å¼ï¼Œå®ƒä»¬éƒ½æœ‰æ•ˆï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†docker composeï¼Œå®ƒä¸ä¼š<strong class="kx ir">é˜»æ­¢</strong>æˆ‘ä»¬<strong class="kx ir">å³æ—¶åˆ›å»º</strong>æ–°ä¸»é¢˜ã€‚</p></blockquote><p id="5998" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç°åœ¨ï¼Œåœ¨æˆ‘ä»¬çš„ç”Ÿæˆå™¨ä¸­ï¼Œç‰¹åˆ«æ˜¯åœ¨æˆ‘ä»¬çš„æ§åˆ¶å™¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦<strong class="kx ir">åœ¨æ”¶åˆ°å“åº”ä¹‹å‰å‘é€</strong>ä¸€ä¸ªäº‹ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦é…ç½®ä¸€ç§æ¥æ”¶å®ƒçš„æ–¹å¼ï¼Œåœ¨NestJSä¸­æ˜¯çš„<strong class="kx ir">subscribe responseã€‚è¿™ä¸ªè¿‡ç¨‹éå¸¸ç®€å•ï¼Œåº”è¯¥æ˜¯è¿™æ ·çš„:</strong></p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="d470" class="oo ms iq ok b gy op oq l or os">import {Controller, <strong class="ok ir"><em class="lu">Get</em></strong>, Inject, OnModuleDestroy, OnModuleInit} from '@nestjs/common';<br/>import { AppService } from './app.service';<br/>import { ClientKafka } from '@nestjs/microservices';<br/><br/>@Controller()<br/>export class AppController implements OnModuleInit, OnModuleDestroy{<br/>  constructor(<br/>    private readonly appService: AppService,<br/>    @Inject('any_name_i_want') private readonly client: ClientKafka,<br/>  ) {}<br/><br/>  async onModuleInit() {<br/>    ['medium.rocks'].forEach((key) =&gt; this.client.subscribeToResponseOf(`${key}`));<br/>    await this.client.connect();<br/>  }<br/><br/>  async onModuleDestroy() {<br/>    await this.client.close();<br/>  }<br/><br/>  @Get()<br/>  getHello(): string {<br/>    return this.appService.getHello();<br/>  }<br/><br/>  @Get('kafka-test')<br/>  testKafka(){<br/>    return this.client.emit('medium.rocks', {foo:'bar', data: new <strong class="ok ir"><em class="lu">Date</em></strong>().toString()})<br/>  }<br/><br/><br/>  @Get('kafka-test-with-response')<br/>  testKafkaWithResponse(){<br/>    return this.client.send('medium.rocks', {foo:'bar', data: new <strong class="ok ir"><em class="lu">Date</em></strong>().toString()})<br/>  }<br/><br/><br/>}</span></pre><p id="599a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘ä»¬åªåœ¨<strong class="kx ir"> onModuleInit </strong>ä¸­æ·»åŠ äº†ä¸€ä¸ªæ•°ç»„ï¼Œå› ä¸ºåœ¨å®é™…åœºæ™¯ä¸­ï¼Œæ‚¨çš„æ§åˆ¶å™¨å¯èƒ½ä¼šäº§ç”Ÿ/ç›‘å¬å¤šä¸ªä¸»é¢˜ã€‚æ­¤å¤–ï¼ŒNestJSå°†åœ¨è¯•å›¾è®¢é˜…çš„ä¸»é¢˜ä¸­è‡ªåŠ¨æ·»åŠ ä¸€ä¸ª. replyã€‚å› æ­¤ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒæ˜¯<strong class="kx ir">ä¸­å‹ã€‚å²©çŸ³ã€‚å›å¤ã€‚</strong></p><p id="25c0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">é…·ï¼Œé‚£åº”è¯¥å¤Ÿäº†ã€‚è®©æˆ‘ä»¬å†æ¬¡è¿è¡Œç”Ÿäº§è€…ï¼Œå¹¶ç‚¹å‡»å¡å¤«å¡-æµ‹è¯•-å›åº”:</p><pre class="kg kh ki kj gt oj ok ol om aw on bi"><span id="906c" class="oo ms iq ok b gy op oq l or os"><strong class="ok ir">âœ  consumer</strong> <strong class="ok ir">git:(main) âœ—</strong> curl --location --request GET 'http://localhost:3000/kafka-test-with-response'</span><span id="7d11" class="oo ms iq ok b gy oz oq l or os">Receiving a new message from topic: medium.rocks: {"foo":"bar","data":"Wed Sep 15 2021 23:11:13 GMT+0200 (Central European Summer Time)"}<strong class="ok ir">%</strong>                                                                              <strong class="ok ir">âœ  consumer</strong> <strong class="ok ir">git:(main) âœ—</strong></span></pre><p id="aa93" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¤ªæ£’äº†ã€‚æˆ‘ä»¬æ—¢å¯ä»¥<strong class="kx ir">å‘å‡º</strong>ä¸€æ¡æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥åœ¨ç‰¹å®šçš„åœºæ™¯ä¸­ç­‰å¾…å“åº”ï¼</p><p id="1599" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¿™ä¸¤ç§æ–¹æ³•åº”è¯¥å¯ä»¥è®©ä½ é¢å¯¹ç°å®ç”Ÿæ´»ä¸­çš„å¤§éƒ¨åˆ†æŒ‘æˆ˜ï¼</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="93d7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Kafkaã€APIã€Typescriptå’Œè½¯ä»¶å·¥ç¨‹å¤ªè¯¦ç»†äº†ï¼Œæ— æ³•åŒ…å«åœ¨ä¸€ç¯‡æ–‡ç« ä¸­ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘è¯•å›¾ä½¿ç”¨NestJSç®€åŒ–ä½¿ç”¨Typescriptå’ŒKafkaè¿›è¡Œç¼–ç çš„æ“ä½œã€‚å°½ç®¡è¿™ç¯‡æ–‡ç« æ˜¯ä¸ºKafkaçš„åˆå­¦è€…å†™çš„ï¼Œä½†æ˜¯éœ€è¦å¾ˆå¤šå…³äºæ„å»ºAPIçš„é¢„å¤‡çŸ¥è¯†ï¼ŒçŸ¥é“Dockerå’ŒTypescriptã€‚æˆ‘çœŸçš„å¸Œæœ›è¿™ç¯‡æ–‡ç« ä¸­çš„æŠ½è±¡èƒ½è®©ä½ ä½œä¸ºè¯»è€…å¼€å§‹ä½ çš„æ¦‚å¿µè¯æ˜ï¼Œå¹¶ä½¿ç”¨NestJSä¸Kafkaä¸€èµ·ç©ã€‚å¦‚æœä½ æƒ³æˆä¸ºä¸€åè½¯ä»¶å·¥ç¨‹å¸ˆï¼Œå¾®æœåŠ¡æ˜¯ä¸€ä¸ªä¸å¯å¿½è§†çš„è¶‹åŠ¿ã€‚</p><p id="4ef4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¿™ç¯‡æ–‡ç« æ¯”æˆ‘é¢„æœŸçš„è¦å¤§ï¼Œæˆ‘è¯•å›¾åœ¨è¿™é‡Œé¿å¼€å‡ ä¸ªè¯é¢˜ã€‚è¯·éšæ„æå‡ºæˆ‘å¯ä»¥å†™å¾—æ›´è¯¦ç»†å¹¶åœ¨æ–°æ–‡ç« ä¸­åˆ†äº«çš„ä»»ä½•è¯é¢˜ã€‚</p><p id="3d91" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åƒå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘çš„POCå¯ä»¥åœ¨æˆ‘çš„å…¬å…±githubé¡¹ç›®<a class="ae ly" href="https://github.com/makinhs/nestjs-kafka-tutorial" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>ä¸­æ‰¾åˆ°ã€‚</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="9c8e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘çœŸçš„å¾ˆå–œæ¬¢å†™å’Œåˆ†äº«æˆ‘è®¤ä¸ºå¯ä»¥è´¡çŒ®çš„çŸ¥è¯†ã€‚å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ç”¨ï¼Œè¯·å–œæ¬¢å’Œ/æˆ–è¯„è®ºå®ƒï¼Œå› ä¸ºå®ƒè®©æˆ‘æ˜ç™½å®ƒæ˜¯å¦æœ‰ç”¨ã€‚å½“æˆ‘æŠŠæˆ‘çš„çŸ¥è¯†ç¿»è¯‘æˆæ–‡ç« æ—¶ï¼Œæˆ‘ä¹Ÿåœ¨å­¦ä¹ ï¼Œæ¬¢è¿ä»»ä½•åé¦ˆï¼</p><p id="a3c3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¦‚æœä½ è¿˜æ˜¯è¿·è·¯äº†ï¼Œç‰¹åˆ«æ˜¯å¯¹äºNestJSï¼Œè¯·ä¸è¦å¿˜è®°è·å–æˆ‘çš„NestJSåˆå­¦è€…æŒ‡å—ï¼</p><p id="148b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¯¹äºæ­¤å¤„çš„RestAPIè„šæ‰‹æ¶:</p><div class="lz ma gp gr mb mc"><a href="https://makinhs.medium.com/creating-a-rest-api-series-with-nestjs-part-01-scaffolding-and-basic-cli-usage-30ace19c5bb8" rel="noopener follow" target="_blank"><div class="md ab fo"><div class="me ab mf cl cj mg"><h2 class="bd ir gy z fp mh fr fs mi fu fw ip bi translated">ä½¿ç”¨NestJSåˆ›å»ºREST APIç³»åˆ—â€”ç¬¬1éƒ¨åˆ†â€”æ­å»ºå’ŒåŸºæœ¬CLIç”¨æ³•</h2><div class="mj l"><h3 class="bd b gy z fp mh fr fs mi fu fw dk translated">æ¬¢è¿å›æ¥ï¼åœ¨è¿™ä¸ªè¿·ä½ ç³»åˆ—æ–‡ç« ä¸­ï¼Œæˆ‘å°†æŒ‡å¯¼æ‚¨å¦‚ä½•ä½¿ç”¨NestJSæ¡†æ¶æ„å»ºREST API</h3></div><div class="mk l"><p class="bd b dl z fp mh fr fs mi fu fw dk translated">makinhs.medium.com</p></div></div><div class="ml l"><div class="pc l mn mo mp ml mq kp mc"/></div></div></a></div><p id="386f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¯¹äºå¸¦æœ‰NestJSå’ŒTypescriptçš„GraphQLï¼Œè¯·è®¿é—®:</p><div class="lz ma gp gr mb mc"><a rel="noopener  ugc nofollow" target="_blank" href="/graphql-backend-in-nodejs-made-easy-with-nestjs-1489be18b994"><div class="md ab fo"><div class="me ab mf cl cj mg"><h2 class="bd ir gy z fp mh fr fs mi fu fw ip bi translated">ä½¿ç”¨NestJSç®€åŒ–Node.jsä¸­çš„GraphQLåç«¯</h2><div class="mj l"><h3 class="bd b gy z fp mh fr fs mi fu fw dk translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä»¥ä¸€ç§éå¸¸éå¸¸ç®€å•çš„æ–¹å¼å¼€å§‹ä¸€ä¸ªGraphQLåç«¯é¡¹ç›®â€¦ä½¿ç”¨NestJSï¼</h3></div><div class="mk l"><p class="bd b dl z fp mh fr fs mi fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ml l"><div class="mm l mn mo mp ml mq kp mc"/></div></div></a></div><p id="da27" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œå†è§ï¼</p><blockquote class="lr ls lt"><p id="b6bf" class="kv kw lu kx b ky kz jr la lb lc ju ld lv lf lg lh lw lj lk ll lx ln lo lp lq ij bi translated"><em class="iq">å¦‚æœè¿™ç±»æ–‡ç« è¿‡äºç®€å•ï¼Œè€Œä½ åˆè§‰å¾—è‡ªå·±å‡†å¤‡äº†ä¸€æ¬¡çœŸæ­£çš„å†’é™©ï¼Œç‰¹æ„åœ¨ä¸€ä¸ªé¥è¿œçš„å¥½æŠ¥é…¬çš„åŸºç¡€ä¸Šï¼Œè¯·å°è¯•åŠ å…¥</em><a class="ae ly" href="https://topt.al/KncQD8" rel="noopener ugc nofollow" target="_blank"><em class="iq">ã€Toptalã€‘</em></a><em class="iq"/><a class="ae ly" href="https://topt.al/KncQD8" rel="noopener ugc nofollow" target="_blank"><em class="iq">é“¾æ¥</em></a><em class="iq"/><a class="ae ly" href="https://topt.al/KncQD8" rel="noopener ugc nofollow" target="_blank"><em class="iq">https://topt.al/KncQD8</em></a><em class="iq">ã€‚Toptalæ˜¯ä¸€ä¸ªä¼Ÿå¤§çš„è‡ªç”±èŒä¸šè€…ç¤¾åŒºï¼Œæˆ‘å¾ˆé«˜å…´åœ¨é‚£é‡Œè§åˆ°ä½ ï¼</em></p></blockquote><p id="d9af" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="lu">æ›´å¤šå†…å®¹è¯·çœ‹</em><a class="ae ly" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="lu">plain English . io</em></strong></a></p></div></div>    
</body>
</html>