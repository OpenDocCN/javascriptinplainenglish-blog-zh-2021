<html>
<head>
<title>How to Add a Copy to Clipboard Function in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中添加复制到剪贴板功能</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-add-a-copy-to-clipboard-function-in-react-d145c613761?source=collection_archive---------16-----------------------#2021-07-01">https://javascript.plainenglish.io/how-to-add-a-copy-to-clipboard-function-in-react-d145c613761?source=collection_archive---------16-----------------------#2021-07-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/597a8d4ae1d83b37e6fd740211134bb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*I37-JbDe1dXTeEf-.PNG"/></div></div></figure><p id="40b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">添加一个React“复制到剪贴板”功能非常简单。它可以内联完成，也可以作为方法调用。</p><p id="9563" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">反应复制到剪贴板事件处理程序的基础知识</strong></p><p id="63a6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw"> onClick React事件</em></p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="ca8e" class="lg lh iq lc b gy li lj l lk ll">onClick={}</span></pre><p id="74d9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从一个<code class="fe lm ln lo lc b">onClick</code>反应事件开始。</p><p id="f868" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">内联事件处理程序</em></p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="6f58" class="lg lh iq lc b gy li lj l lk ll">onClick={() =&gt; {navigator.clipboard.writeText("http://localhost:3000/")}}</span></pre><p id="2ede" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">箭头函数是React事件处理程序，包含在花括号中。</p><p id="8120" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">添加<code class="fe lm ln lo lc b">navigator.clipboard</code>访问系统剪贴板，并将文本<code class="fe lm ln lo lc b">"http://localhost:3000/"</code>作为剪贴板的内容。</p><p id="564d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">事件处理程序作为方法</em></p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="7cee" class="lg lh iq lc b gy li lj l lk ll">copy() {<br/>    navigator.clipboard.writeText("http://localhost:3000/");<br/>}<br/><br/><br/>onClick ={this.copy}</span></pre><p id="d14f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另一种方法是将事件处理程序作为一个单独的方法，并在必要时调用它。</p><p id="832b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">带警告的内联事件处理程序</em></p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="97a5" class="lg lh iq lc b gy li lj l lk ll">onClick={() =&gt; {navigator.clipboard.writeText("http://localhost:3000/"); alert("Copied to clipboard.");}}</span></pre><p id="aa0d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">除了剪贴板功能之外，您还可以随意添加警告。</p><p id="52ef" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">带有警告的事件处理方法</em></p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="6e61" class="lg lh iq lc b gy li lj l lk ll">copy() {<br/>    navigator.clipboard.writeText("http://localhost:3000/");<br/>    alert("Copied to clipboard.");<br/>}<br/><br/>onClick ={this.copy}</span></pre><p id="b4e5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当然，您也可以向该方法添加警告。</p><h1 id="75a7" class="lp lh iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated"><strong class="ak">反应复制到剪贴板的示例</strong></h1><p id="21a4" class="pw-post-body-paragraph jy jz iq ka b kb mm kd ke kf mn kh ki kj mo kl km kn mp kp kq kr mq kt ku kv ij bi translated"><strong class="ka ir">内嵌事件处理程序</strong></p><p id="8c3b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">内联的<code class="fe lm ln lo lc b">onClick</code>事件处理程序对于功能组件来说工作得很好。</p><p id="6651" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">功能组件内的事件处理程序</em></p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="c32f" class="lg lh iq lc b gy li lj l lk ll">function App() {<br/>  return (<br/>    &lt;div className="App" class="p-6 bg-black"&gt;<br/>      &lt;a onClick={() =&gt; {navigator.clipboard.writeText("http://localhost:3000/"); alert("Copied to clipboard.");}} class="bg-white hover:bg-gray-200 text-black py-2 px-4 rounded inline-flex items-center"&gt;<br/>        &lt;svg  class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"&gt;<br/>          &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" /&gt;<br/>        &lt;/svg&gt;<br/>        Copy<br/>      &lt;/a&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}<br/><br/>export default App;</span></pre><p id="2788" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这段代码被添加到<a class="ae mr" href="../../../blog/article/reactjs-tailwindcss" rel="noopener ugc nofollow" target="_blank"> React Tailwind项目</a>中。请随意将其添加到任何其他组件中。</p><p id="ab12" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该按钮可在<a class="ae mr" href="../../../../../blog/article/7-tailwindcss-buttons" rel="noopener ugc nofollow" target="_blank"> 7尾翼按钮</a>中找到。</p><p id="5827" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">方法事件处理程序</strong></p><p id="adab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">事件处理程序作为类组件中的方法</em></p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="b17e" class="lg lh iq lc b gy li lj l lk ll">import React from 'react';<br/>import ReactDOM from 'react-dom';<br/><br/>class App extends React.Component {<br/>  copy() {<br/>    navigator.clipboard.writeText("http://localhost:3000/");<br/>    alert("Copied to clipboard.");<br/>  }<br/>  render() {<br/>    return (<br/>      &lt;div className="App" class="p-6 bg-black"&gt;<br/>        &lt;button onClick={this.copy} class="bg-white hover:bg-gray-200 text-black py-2 px-4 rounded inline-flex items-center"&gt;<br/>          &lt;svg  class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"&gt;<br/>            &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" /&gt;<br/>          &lt;/svg&gt;<br/>          Copy<br/>        &lt;/button&gt;  <br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}<br/><br/>ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));</span></pre><p id="8f11" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者，好的做法是将事件处理程序作为类组件中的一个方法分离出来。</p><p id="81c4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">内联和方法事件处理程序都可以工作。</p><p id="9d78" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">完成后，您可以点按按钮并将文本复制到剪贴板。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5466d892e472de8045fac066ffd84baa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*W1E7m-ONvPDIhmsf.png"/></div></div></figure></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><p id="09f7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">原载于</em><a class="ae mr" href="https://www.ordinarycoders.com/blog/article/react-copy-to-clipboard" rel="noopener ugc nofollow" target="_blank"><em class="kw">https://www.ordinarycoders.com</em></a><em class="kw">。</em></p><p id="e871" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">更多内容请看</em><a class="ae mr" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="kw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>