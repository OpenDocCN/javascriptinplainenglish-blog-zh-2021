<html>
<head>
<title>VS Code Snippets: Boost Productivity with Shortcuts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VS代码片段:通过快捷方式提高生产力</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/visual-studio-code-snippets-boost-productivity-with-shortcuts-d38154303af8?source=collection_archive---------11-----------------------#2021-02-11">https://javascript.plainenglish.io/visual-studio-code-snippets-boost-productivity-with-shortcuts-d38154303af8?source=collection_archive---------11-----------------------#2021-02-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="2c79" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作为开发人员，我们总是希望更有效率。谁不喜欢用较少的击键次数编写更多的代码呢？代码片段提供的正是这一点。让我们在这篇文章中更深入地探究Visual Studio代码片段的细节。</p><p id="8b88" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">代码片段指的是常见的功能，或者是文件结构，或者是非常适合死记硬背和样板文件的模板。这不是什么新鲜事。传统上，我们将它们存储在一个文件中，并手动将它们复制粘贴到任何需要的地方。</p><p id="0719" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你们中的一些人可能会对拥有一个可以复制粘贴的文件而摇头。我们是现代程序员。我们用Google和Stack Overflow来做那些事情！我也不反对。但是代码片段不仅仅指我们从堆栈溢出中复制的一行代码(好吧，我们可能会复制更多，但是嘘！).但是当我提到代码片段时，我通常指的是相对较大的代码片段。</p><p id="6fb6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">进化的下一步是自动热键，这是一种键盘组合，允许将特定的片段粘贴到编辑器中。但是我们总是可以更进一步？</p><h2 id="dce4" class="ki kj in bd kk kl km dn kn ko kp dp kq jv kr ks kt jz ku kv kw kd kx ky kz la bi translated">Visual Studio代码段</h2><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/e1ffd3736ca233007aa35cd89aa2f959.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4xLGz0K3pfEVj68r.gif"/></div></div></figure><p id="7080" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Visual Studio代码片段不仅仅是在当前指针位置粘贴代码。在讨论这些新奇的东西之前，让我们先看看如何创建一个Visual Studio代码片段。</p><h1 id="8186" class="ln kj in bd kk lo lp lq kn lr ls lt kq lu lv lw kt lx ly lz kw ma mb mc kz md bi translated">创建代码片段</h1><p id="f332" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">在键盘上按Ctrl(或Cmd) + Shift + P打开VS代码中的命令面板。然后，我们可以搜索“配置用户片段”选项。它允许我们选择想要创建代码片段的语言。对于我们的例子，我们将选择JavaScript。</p><p id="fb36" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">打开的代码片段编辑器显示一条注释，告诉我们如何自己创建Visual Studio代码片段。代码段文件是JSON文件，用户可以定义无限数量的自定义Visual Studio代码段。如果我们想添加一些的话，它们支持C风格的代码注释。</p><p id="5f92" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">片段由4部分组成:</p><ul class=""><li id="2522" class="mj mk in jm b jn jo jr js jv ml jz mm kd mn kh mo mp mq mr bi translated"><strong class="jm io"> Name: </strong>智能感知将为该代码段显示什么(也是JSON对象的键)</li><li id="7222" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated"><strong class="jm io">前缀:</strong>触发代码片段的字符组合</li><li id="26b2" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated"><strong class="jm io">正文:</strong>要复制的内容</li><li id="e177" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh mo mp mq mr bi translated"><strong class="jm io">描述:</strong>代码段的可选描述(显示在Intellisense的工具提示中)</li></ul><p id="c482" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">从我们自己的“Hello World”片段开始:</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="6437" class="ki kj in my b gy nc nd l ne nf">{<br/>  "hello world": {<br/>    "prefix": "hello",<br/>    "body": "Hello World"<br/>  }<br/>}</span></pre><p id="f880" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">每当我们调用hello world语句时，上面的代码片段都会产生一个hello world语句。主体也可以是字符串数组，这样我们就可以把它分成多行。</p><h1 id="4f7c" class="ln kj in bd kk lo lp lq kn lr ls lt kq lu lv lw kt lx ly lz kw ma mb mc kz md bi translated">调用代码段的方法</h1><ol class=""><li id="6fc2" class="mj mk in jm b jn me jr mf jv ng jz nh kd ni kh nj mp mq mr bi translated">我们可以再次使用命令面板，选择“插入代码片段”,然后选择我们希望插入的代码片段。</li><li id="b85b" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh nj mp mq mr bi translated">我们可以使用智能感知来帮助我们。我们可以键入我们之前指定的前缀，然后使用Ctrl和Space的键盘组合来插入代码片段，并从显示的列表中选择它。</li><li id="3101" class="mj mk in jm b jn ms jr mt jv mu jz mv kd mw kh nj mp mq mr bi translated">我们可以为一个单独的代码片段分配一个自定义的键盘快捷键。我们可以在键盘设置中为代码片段分配一个键绑定。<br/>在命令面板的“打开键盘设置(JSON)”选项中，我们可以添加一个绑定:</li></ol><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="a060" class="ki kj in my b gy nc nd l ne nf">[<br/>    {<br/>        "key": "ctrl+k 1",<br/>        "command": "editor.action.insertSnippet",<br/>        "when": "editorTextFocus",<br/>        "args": {<br/>            "langId": "javascript",<br/>            "name": "hello"<br/>        }<br/>    }<br/>]</span></pre><p id="e18d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是一个简单的hello world片段有什么用呢？Visual Studio代码片段远不止这些！让我们深入了解一下。</p><h1 id="6884" class="ln kj in bd kk lo lp lq kn lr ls lt kq lu lv lw kt lx ly lz kw ma mb mc kz md bi translated">向代码段添加变量</h1><p id="61f3" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">我们可以使用诸如所选文本、系统日期、剪贴板内容、环境变量等值。让我们将hello world字符串放在注释块中。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="4f36" class="ki kj in my b gy nc nd l ne nf">{<br/>  "hello world": {<br/>    "prefix": "hello-world",<br/>    "body": "$BLOCK_COMMENT_START Hello World $BLOCK_COMMENT_END"<br/>  }<br/>}</span></pre><p id="ba57" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的代码片段将在JavaScript文件中插入字符串<code class="fe nk nl nm my b">/* Hello World */</code>。但是在HTML文件中，它会插入:<code class="fe nk nl nm my b">&lt;!-- Hello World --&gt;</code></p><p id="7fcd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">同样，我们可以使用<code class="fe nk nl nm my b">TM_SELECTED_TEXT</code>插入当前选中的文本，<code class="fe nk nl nm my b">CLIPBOARD</code>复制剪贴板，<code class="fe nk nl nm my b">CURRENT_YEAR</code>当前年份和类似的变量。</p><h1 id="203f" class="ln kj in bd kk lo lp lq kn lr ls lt kq lu lv lw kt lx ly lz kw ma mb mc kz md bi translated">使用制表位的动态片段</h1><p id="00b0" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">我们不只是从网上复制粘贴东西。我们也改变了一些东西，对吗？</p><p id="515c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们按照自己喜欢的方式给变量命名。</p><p id="720b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Visual Studio代码片段允许我们拥有不同种类的动态代码片段，让我们感觉像一个向导一样的体验。我们可以:</p><h1 id="59d4" class="ln kj in bd kk lo lp lq kn lr ls lt kq lu lv lw kt lx ly lz kw ma mb mc kz md bi translated">制表位</h1><p id="b529" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">我们可以用tab键按顺序圈出编号的停靠点。它们是由一个美元符号指定的，后面跟着我们想把它们圈起来的顺序。这些可以使用<code class="fe nk nl nm my b">$1</code>、<code class="fe nk nl nm my b">$2</code>等进行声明。</p><p id="4925" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe nk nl nm my b">$0</code>是最终的光标位置。如果指定，VS代码在到达这个位置时退出代码段模式。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="64bf" class="ki kj in my b gy nc nd l ne nf">{<br/>    "Hello variable": {<br/>        prefix: "div",<br/>        body: ["Hello ","$1", "$0"]<br/>    }<br/>}</span></pre><h1 id="2063" class="ln kj in bd kk lo lp lq kn lr ls lt kq lu lv lw kt lx ly lz kw ma mb mc kz md bi translated">占位符</h1><p id="32f0" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">焦点上覆盖默认值的制表位。它们被写成一个美元符号，后面跟一个花括号，花括号包含位置和值，用冒号分隔。</p><p id="9717" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">示例声明:<code class="fe nk nl nm my b">${1:default}</code></p><h1 id="ee72" class="ln kj in bd kk lo lp lq kn lr ls lt kq lu lv lw kt lx ly lz kw ma mb mc kz md bi translated">选择</h1><p id="b7cd" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">它为用户提供了一个选择。当关注这些值时，会出现一个值下拉列表供选择。示例声明:<code class="fe nk nl nm my b">${1|one,two,three|}</code></p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="3b92" class="ki kj in my b gy nc nd l ne nf">"Console Choice": {<br/>    "prefix": "console-ch",<br/>    "body": "console.${1|log,warning,error|}('$2');",<br/>}</span></pre><h1 id="b58e" class="ln kj in bd kk lo lp lq kn lr ls lt kq lu lv lw kt lx ly lz kw ma mb mc kz md bi translated">镜像制表位</h1><p id="9bdf" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">相同的制表位可以在代码段内的多个位置使用。是的，for循环中的“I”变量就是最好的例子。对其中一个站点的任何编辑都会更新所有站点。</p><p id="ad83" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">示例:<code class="fe nk nl nm my b">import ${2:${1:module}} from '${1:module}'$0</code></p><p id="97bc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">或者我们最喜欢的for循环可以写成:(“\t”是为了格式化和缩进而添加的)。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="c332" class="ki kj in my b gy nc nd l ne nf">"for ": {<br/>    "prefix": "forarr",<br/>    "body": [<br/>        "for (let ${index} = 0; ${index} &lt; ${array}.length; ${index}++) {",<br/>        "\tconst ${element} = ${array}[${index}];",<br/>        "\t$0",<br/>        "}"<br/>    ],<br/>},</span></pre><h1 id="93b1" class="ln kj in bd kk lo lp lq kn lr ls lt kq lu lv lw kt lx ly lz kw ma mb mc kz md bi translated">应用变换</h1><p id="b86c" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">我们甚至可以对变量或占位符应用正则表达式转换。格式是:</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="545f" class="ki kj in my b gy nc nd l ne nf">${variable or placeholder/regex/replacement string/flags}</span></pre><p id="e500" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你知道正则表达式，这可能很容易理解。</p><p id="d329" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如:</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="aa0d" class="ki kj in my b gy nc nd l ne nf">${CLIPBOARD/(.*)/${1:/upcase}/}</span></pre><p id="5f60" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将以大写形式粘贴剪贴板中的内容。</p><h1 id="f485" class="ln kj in bd kk lo lp lq kn lr ls lt kq lu lv lw kt lx ly lz kw ma mb mc kz md bi translated">结论</h1><p id="2103" class="pw-post-body-paragraph jk jl in jm b jn me jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd mi kf kg kh ig bi translated">既然我们知道了一切皆有可能，我们可能会想制作大量的片段。有一个<a class="ae nn" href="https://snippet-generator.app/" rel="noopener ugc nofollow" target="_blank">工具</a>可以帮助我们。Snippet Generator是一个允许我们使用可视化界面这样做的网站。或者我们可以在VS代码市场中搜索代码片段。外面有成千上万的人。我最喜欢的是<a class="ae nn" href="https://marketplace.visualstudio.com/items?itemName=dsznajder.es7-react-js-snippets" rel="noopener ugc nofollow" target="_blank">eses 7 React/Redux/graph QL/React-Native snippets</a>。</p><p id="e609" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这就是Visual Studio代码片段的全部内容！通过少量的配置，我们可以使VS代码更加强大，并根据我们的工作流程对其进行调整。请在下面的评论中告诉我们你打算创建哪些自定义代码片段？</p></div><div class="ab cl no np hr nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="ig ih ii ij ik"><p id="ea1d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="nv">原载于2021年2月11日https://www.wisdomgeek.com</em><a class="ae nn" href="https://www.wisdomgeek.com/development/programming/visual-studio-code-snippets-boost-productivity-with-shortcuts/" rel="noopener ugc nofollow" target="_blank"><em class="nv"/></a><em class="nv">。</em></p></div></div>    
</body>
</html>