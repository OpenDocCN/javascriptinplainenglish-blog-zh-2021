<html>
<head>
<title>Get Started With Progressive Web App (PWA)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从渐进式网络应用(PWA)开始</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/get-started-with-progressive-web-app-pwa-c61324778385?source=collection_archive---------14-----------------------#2021-02-20">https://javascript.plainenglish.io/get-started-with-progressive-web-app-pwa-c61324778385?source=collection_archive---------14-----------------------#2021-02-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8336" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何构建渐进式网络应用程序(PWA)，以及如何将任何网站转换为PWA。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ed42da50d794ea5a7c1889e46c4809db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WW-Z_3OqjP9gRkAk"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@timbennettcreative?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tim Bennett</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8e25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">今天，我们将学习如何构建PWA，以及如何将您现有的网站转换为PWA。在进入这个话题之前，我们想了解一下渐进式网络应用(PWA)。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="542d" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">什么是PWA？</h1><p id="52f9" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">一个进步的web应用程序(PWA)是一套移动web应用程序开发技术，需要构建感觉和外观都像本地应用程序的应用程序。使用网络堆栈(JS、HTML和CSS)，渐进式网络应用结合了丰富的功能和与本地应用相关的流畅用户体验。简而言之，PWA是一款具有本地应用风格的网络应用:安装后，用户点击设备主屏幕上的图标，直接进入网站。</p><p id="f7c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">PWA最大的特点是，它给了本地应用程序类似的体验，并且可以安装在你的手机上。我为我的电子商务商店<a class="ae kv" href="https://theshopful.com" rel="noopener ugc nofollow" target="_blank">The shop full</a>-开发了一个PWA，它也可以在离线模式下工作，这给PWA增加了一个额外的优势。你可以检查我的应用程序作为PWA的实时例子。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="32ea" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">如何创建PWA</h1><ul class=""><li id="4d0f" class="mw mx iq ky b kz mr lc ms lf my lj mz ln na lr nb nc nd ne bi translated">更新文档以支持PWA功能。</li><li id="e63e" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">创建一个<strong class="ky ir">服务工人. js </strong>文件。</li><li id="f9a1" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">创建<strong class="ky ir"> manifest.json </strong>文件。</li><li id="6f5a" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">使用Chrome开发工具进行调试。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="494a" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated">检查更新</h2><p id="43e6" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">对于静态网站，检查主HTML中的更新，并将应用程序注册到<strong class="ky ir"> service-worker.j </strong>的文件中。</p><pre class="kg kh ki kj gt nw nx ny nz aw oa bi"><span id="f409" class="nk ma iq nx b gy ob oc l od oe">&lt;script&gt;<br/>    if('serviceWorker' in navigator){<br/>      navigator.serviceWorker.register('/service-worker.js');<br/>    } else {<br/>      console.log("Service worker is not supported");<br/>    }<br/>  &lt;/script&gt;</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="7870" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated">服务行业人员</h2><p id="1d50" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在项目根目录中创建一个service-worker.js文件，将静态内容存储在缓存中。您可以存储任何类型的文件，如MP3、MP4等。在缓存名称和缓存白名单中使用您自己的应用程序名称。</p><pre class="kg kh ki kj gt nw nx ny nz aw oa bi"><span id="9fab" class="nk ma iq nx b gy ob oc l od oe">const CACHE_NAME  = 'The-Shopful';<br/><br/>/* Add relative URL of all the static content you want to store in<br/> * cache storage (this will help us use our app offline)*/<br/>let resourcesToCache = ["./", "./img/logo.png", "./home.js", "./styles.css"];<br/><br/>self.addEventListener("install", e=&gt;{<br/>    e.waitUntil(<br/>        caches.open(CACHE_NAME).then(cache =&gt;{<br/>            return cache.addAll(resourcesToCache);<br/>        })<br/>    );<br/>});</span></pre><p id="2e70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">添加然后添加两个事件侦听器:</p><pre class="kg kh ki kj gt nw nx ny nz aw oa bi"><span id="cb25" class="nk ma iq nx b gy ob oc l od oe">self.addEventListener("fetch", e=&gt;{<br/>    e.respondWith(<br/>        caches.match(e.request).then(response=&gt;{<br/>            return response || fetch(e.request);<br/>        })<br/>    );<br/>});</span><span id="f1b1" class="nk ma iq nx b gy of oc l od oe">const cacheWhitelist = ['The-Shopful'];<br/>self.addEventListener('activate', event =&gt; {<br/>    event.waitUntil(<br/>      caches.keys().then(cacheNames =&gt; {<br/>        return Promise.all(<br/>          cacheNames.map(cacheName =&gt; {<br/>            if (cacheWhitelist.indexOf(cacheName) === -1) {<br/>              return caches.delete(cacheName);<br/>            }<br/>          })<br/>        );<br/>      })<br/>    );<br/>  });</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="df71" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated">创建manifest.json文件</h2><p id="f0b4" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">创建一个manifest.json文件，并将其链接到您的主HTML文档。</p><pre class="kg kh ki kj gt nw nx ny nz aw oa bi"><span id="0eb2" class="nk ma iq nx b gy ob oc l od oe">&lt;link rel="manifest" href="manifest.json"&gt;</span><span id="54c2" class="nk ma iq nx b gy of oc l od oe">{<br/>    "name": "The Shopful",<br/>    "short_name": "The Shopful",<br/>    "start_url": "/",<br/>    "background_color": "#D5E0E5",<br/>    "theme_color": "#D5E0E5",<br/>    "icons": [<br/>        {<br/>            "src": "img/logo.png",<br/>            "sizes": "512x512",<br/>            "type": "image/png",<br/>            "purpose": "maskable any"<br/>        },<br/>        {<br/>            "src": "img/title.png",<br/>            "sizes": "192x192",<br/>            "type": "image/png",<br/>            "purpose": "maskable any"<br/>        }<br/>    ],<br/>    "display": "standalone",<br/>    "orientation":"portrait"<br/>}</span></pre><p id="77a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的manifest.json文件包含您的应用程序名称、图标和打开应用程序的URL。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="2c61" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated">使用开发工具进行调试</h2><p id="d66e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">现在打开你的chrome开发工具，检查是否检测到服务工作器和清单文件。您可以使用开发工具看到应用程序的名称和图标。然后，您可以设置初始化应用程序的闪屏颜色。通过单击灯箱按钮，您可以获得生成的PWA报告。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/589483dc54aa7da441c5380c9fb75e3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hGlzIlqy_5snugLGJjlCww.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source:https://theshopful.com</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/71a1916d445e689657c0af9fa0a5bba8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KKnktUeb08gKERBbSQqrgw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source:https://theshopful.com</figcaption></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="701d" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">如何在设备上安装</h1><p id="c6c2" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在chrome上，您会看到要安装的加号添加按钮。否则，请单击右上角的3点按钮，然后单击“添加到主屏幕”选项以安装到您的移动设备中。</p><p id="2d51" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您也可以收到安装应用程序的提示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/70ccae8ed053d3b55a554bb8c277c0d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2DCnPoIJvH71X092RBJ88g.jpeg"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/cf4f97a98534afbe1b6cfba386e1a675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gi7emm5AWIzwBJDX-66gZA.jpeg"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="bef4" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="c8e4" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我希望你玩得开心，并找到一些你今天学到的新东西，关于如何开发一个进步的网络应用程序(PWA)或将你现有的网站转换成PWA。</p><p id="c0fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢谢你的阅读！</p></div></div>    
</body>
</html>