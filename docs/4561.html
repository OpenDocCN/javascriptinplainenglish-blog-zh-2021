<html>
<head>
<title>How to Handle Large Lists on the Frontend: A Detailed Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在前端处理大型列表:详细指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-handle-large-amounts-of-data-in-a-list-on-the-frontend-80725661ff51?source=collection_archive---------3-----------------------#2021-09-11">https://javascript.plainenglish.io/how-to-handle-large-amounts-of-data-in-a-list-on-the-frontend-80725661ff51?source=collection_archive---------3-----------------------#2021-09-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="dd72" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">分页、无限滚动、加载更多、反应虚拟化和反应窗口</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/6a6a3e7ad158f1f40d6177a2f1df5dc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*e46A0Y8obP325HVgew8_hg.gif"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Pagination, Infinite scrolling, and Load more</figcaption></figure><p id="e3ce" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">随着时间的推移，Web应用程序不断变大，单个屏幕上显示的内容也在不断增加。现在这里出现的问题是渲染如此大量的数据。</p><p id="b2bd" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">列表是大多数web应用程序不可或缺的一部分，因为它们有助于以更可展示的格式显示数据。但是当一个应用程序试图处理一个列表中的太多数据时，往往会导致性能问题。有许多方法可以解决与列表相关的性能问题，比如分页、无限滚动、加载更多按钮、react-virtualized和react-window。</p><h1 id="f1ff" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">页码</h1><blockquote class="mg"><p id="a453" class="mh mi in bd mj mk ml mm mn mo mp ln dk translated">分页是一种技术，其中在线内容被分成几个网页，而不是被集中在一个巨大的内容块中。</p></blockquote><ul class=""><li id="af5c" class="mq mr in ku b kv ms ky mt lb mu lf mv lj mw ln mx my mz na bi translated">分页允许您在页面中呈现数据，而不是一次呈现所有信息。通过这种方式，您基本上控制了页面上显示的数据量，因此您不必对DOM树施加太多压力。</li><li id="5e49" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">对于基于React的应用程序，大多数UI库都带有分页组件，但是如果您想快速实现分页而不需要安装UI库，您可能需要查看<code class="fe ng nh ni nj b"><a class="ae nk" href="https://www.npmjs.com/package/react-paginate" rel="noopener ugc nofollow" target="_blank">react-paginate</a></code>。该库呈现一个分页组件，该组件接受一些帮助您浏览数据的道具。</li><li id="1029" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">如果您滚动到使用分页的网页底部，您将会看到一行页码或让您导航到下一页的下一页/上一页链接。这些是导航控件，它们允许用户通过手动点击直接访问分页系列中的每个网页——从第一页到最后一页。</li><li id="0bbe" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">这些控件还向Google crawlers发送消息，表明该系列中的所有内容都是连接的和可索引的，即使它们分散在多个页面上。</li><li id="51fc" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">这种信息呈现方式为用户提供了完全理解内容所需的结构和层次，尽管这需要更多的点击，但这些操作是有意义的，因为它们使用户更接近他们想要的结果。用户通常喜欢给他们的搜索一个清晰的结尾，因为它满足了完成的需要。</li></ul><p id="71a2" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">分页的一个很好的例子是搜索引擎结果页面。每个分页页面底部的导航控件让用户知道哪些资源是最相关的，当前选择了哪个页面，还有多少页面需要筛选。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/814283521c7d54145f11c9cdbedcf456.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/0*aSfgNTlzRQHgPyOA.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><em class="nm">Google’s search results are housed on 10 different pages</em></figcaption></figure><p id="0d51" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这增加了搜索过程的清晰度，并引导用户准确地找到他们要搜索的内容。</p><p id="20c4" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">电子商务网站也经常使用分页，因为通常提供的产品非常多，最好将它们放在多个页面上。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/49d39ce5ead6bd4bb08b67c3d8072e32.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/0*6JxfvFYxIq6Q4wt9.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><em class="nm">Amazon’s inventory is so large it makes sense to separate its product listings across many pages.</em></figcaption></figure><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">React paginate code implementation</figcaption></figure><h1 id="52ff" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated"><strong class="ak">无限滚动</strong></h1><blockquote class="mg"><p id="0bf7" class="mh mi in bd mj mk ml mm mn mo mp ln dk translated">无限滚动是一种网页设计技术，当用户向下滚动页面时，<strong class="ak">连续加载内容</strong>，消除了分页的需要。</p></blockquote><ul class=""><li id="9959" class="mq mr in ku b kv ms ky mt lb mu lf mv lj mw ln mx my mz na bi translated">无限滚动包括当您向下滚动列表时将数据追加到页面的末尾。当页面最初加载时，只加载数据的子集。当您向下滚动页面时，会追加更多的数据。在React中实现无限滚动有几种方法。个人比较喜欢用<code class="fe ng nh ni nj b"><a class="ae nk" href="https://www.npmjs.com/package/react-infinite-scroll-component" rel="noopener ugc nofollow" target="_blank">react-infinite-scroll-component</a></code>。</li><li id="0eb3" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">分页将大量内容分散到一系列网页中，而无限滚动允许您从一个网页中浏览全部内容。</li><li id="1dc6" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">一旦滚动条到达页面底部，新的内容会自动加载，允许无休止的滚动。这对于使用移动设备的用户来说尤其重要，因为在移动设备上滚动更加直观。页码栏太小，无法在手机上正常点击。</li><li id="b6f8" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">还可以考虑社交媒体订阅——无限滚动是脸书和Twitter等社交媒体网站以及Pinterest和Instagram等画廊网站的一种流行技术，因为它可以促进用户参与。这些网站通常选择无限滚动，因为这是对他们希望用户与他们的内容进行交互的一种恭维。</li></ul><p id="e7c9" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">它显示连续的内容，为<em class="nq">浏览</em>的用户提供更多的机会来寻找有价值的东西。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nr"><img src="../Images/54b64ecf434c901ade359293b2c3e519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IF8uJJfZtvsJa-q3k8UhFg.jpeg"/></div></div></figure><div class="ns nt gp gr nu nv"><a href="https://www.javascripttutorial.net/sample/dom/infinite-scroll/" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd io gy z fp oa fr fs ob fu fw im bi translated">JavaScript无限滚动引号</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">无限滚动—示例</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">www.javascripttutorial.net</p></div></div></div></a></div><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">React infinite scroll component code implementation</figcaption></figure><p id="b491" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">基本上，这里发生的事情是每当用户滚动到页面的末尾时，它检查<code class="fe ng nh ni nj b">hasMore</code>属性是否为假。如果不是，它会向页面追加更多数据。它一直将数据追加到页面的末尾，直到<code class="fe ng nh ni nj b">hasMore</code>属性变为false。</p><h1 id="a87d" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">加载更多按钮</h1><ul class=""><li id="2502" class="mq mr in ku b kv oe ky of lb og lf oh lj oi ln mx my mz na bi translated">加载更多按钮提供了无限滚动和经典分页之间的中间地带。它由页面底部的一个按钮组成，单击该按钮将提供更多内容，让用户可以简单地决定是查看更多结果还是到达页面末尾。</li><li id="1dd0" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">“加载更多”是一个简单的设计，它不会给用户带来必须浏览一系列页面的负担，而是直接问:“你想看到更多结果吗？”有趣的是，因为加载额外的产品需要一个主动的选择和点击，用户倾向于在有加载按钮的网站上比在无限滚动的网站上更仔细地阅读显示的内容。</li><li id="e541" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">加载更多的页面增加了可见性，因为当用户加载页面时，广告经常会在视图中弹出。广告单元被留在折叠线之下看不见从而无用的机会更少。</li><li id="337b" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated">根据最近的电子商务可用性实验，受试者通常在无限滚动页面上浏览最多的产品，其次是加载更多页面和标准分页。然而，与无限滚动相比，用户在加载更多页面时参与和查看内容的时间更长。这显然是建立一个电子商务页面时的优先事项，并且可能会转化为其他形式的内容，在这些内容中，你希望保持用户的注意力更长一段时间</li></ul><h1 id="e1e6" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">react-虚拟化和react-窗口</h1><ul class=""><li id="d643" class="mq mr in ku b kv oe ky of lb og lf oh lj oi ln mx my mz na bi translated">我们不应该简单盲目地把它们扔进你的世界。并不是你的应用程序的每个用户都像许多开发人员那样拥有一台顶级的机器。考虑延迟加载当前不可见的行。在基于React的应用程序中有很好的工具，例如<a class="ae nk" href="https://www.npmjs.com/package/react-window" rel="noopener ugc nofollow" target="_blank"> react-window </a>(每周约60万次下载)或其前身<a class="ae nk" href="https://www.npmjs.com/package/react-virtualized" rel="noopener ugc nofollow" target="_blank"> react-virtualized </a>(每周约75万次下载)。</li><li id="d907" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated"><code class="fe ng nh ni nj b"><a class="ae nk" href="https://www.npmjs.com/package/react-virtualized" rel="noopener ugc nofollow" target="_blank">react-virtualized</a></code>专为呈现大型列表和表格数据而设计。它使用了一种类似于无限滚动的技术，叫做窗口技术。使用窗口时，只有列表的可见部分才会呈现在屏幕上。</li></ul><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">React virtualized code implementation</figcaption></figure><ul class=""><li id="9dcb" class="mq mr in ku b kv kw ky kz lb oj lf ok lj ol ln mx my mz na bi translated"><code class="fe ng nh ni nj b">List</code>组件使用<code class="fe ng nh ni nj b">width</code>和<code class="fe ng nh ni nj b">height</code>道具来设置窗口的尺寸。它还采用了代表列表中每一项的高度的<code class="fe ng nh ni nj b">rowHeight</code>属性和代表数组长度的<code class="fe ng nh ni nj b">rowCount</code>。<code class="fe ng nh ni nj b">rowRenderer</code>采用一个负责渲染每一行的函数。</li><li id="215a" class="mq mr in ku b kv nb ky nc lb nd lf ne lj nf ln mx my mz na bi translated"><code class="fe ng nh ni nj b"><a class="ae nk" href="https://www.npmjs.com/package/react-window" rel="noopener ugc nofollow" target="_blank">react-window</a></code>是一组用于在React中高效呈现大型列表的组件。该库完全重写了<code class="fe ng nh ni nj b">react-virtualized</code>，旨在解决与大小和速度相关的缺点。<code class="fe ng nh ni nj b">react-window</code>也比<code class="fe ng nh ni nj b">react-virtualized</code>涵盖了更多的边缘案例。</li></ul><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">React window code implementation</figcaption></figure><ul class=""><li id="6edb" class="mq mr in ku b kv kw ky kz lb oj lf ok lj ol ln mx my mz na bi translated">代码和<code class="fe ng nh ni nj b">react-virtualized</code>很像。我们使用了一个<code class="fe ng nh ni nj b">List</code>组件，它接受一组定义列表的props，并传入一个<code class="fe ng nh ni nj b">Row</code>组件函数，负责呈现列表中的每一行。</li></ul><h1 id="1798" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">结论</h1><p id="5089" class="pw-post-body-paragraph ks kt in ku b kv oe jo kx ky of jr la lb om ld le lf on lh li lj oo ll lm ln ig bi translated">处理大型列表时，不要一次呈现所有数据以避免DOM树过载，这一点很重要。提高性能的最佳方法取决于您的用例。如果您喜欢在一个地方呈现所有数据，无限滚动或窗口技术将是您的最佳选择。否则，您可能更喜欢将数据分成不同页面的分页解决方案。</p><p id="8360" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">一如既往，感谢阅读。如果你喜欢这篇文章，请分享它并查看我在Medium 上的其他文章。</p><p id="63c8" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="nq">更多内容尽在</em><a class="ae nk" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="nq">plain English . io</em></strong></a></p></div></div>    
</body>
</html>