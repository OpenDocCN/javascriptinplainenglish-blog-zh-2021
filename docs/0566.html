<html>
<head>
<title>Adding Graphics to a Vue App with D3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用D3向Vue应用添加图形</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/adding-graphics-to-a-vue-app-with-d3-8bdfc92a8235?source=collection_archive---------8-----------------------#2021-02-03">https://javascript.plainenglish.io/adding-graphics-to-a-vue-app-with-d3-8bdfc92a8235?source=collection_archive---------8-----------------------#2021-02-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9ab337004ead92ef230b907d1075a894.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o9wyqjAOOFLISlzW"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@alekonpictures?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alekon pictures</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d9a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">D3让我们可以轻松地向前端web应用添加图形。</p><p id="461d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Vue是一个流行的前端web框架。</p><p id="55a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">他们合作得很好。在本文中，我们将了解如何使用D3为Vue应用添加图形。</p><h1 id="764d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">入门指南</h1><p id="29a6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们通过运行<code class="fe me mf mg mh b">npm i d3</code>来安装D3。</p><p id="1bfc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以在我们的Vue应用程序中使用它。</p><h1 id="c921" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数据连接</h1><p id="4e26" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">现在我们安装了D3，我们可以在我们的应用程序中使用它。</p><p id="1666" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">D3让我们可以轻松地将一组条目呈现到一个列表中。</p><p id="1fd1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3812" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;ul id="list"&gt;<br/>      &lt;li v-for="n of arr.length"&gt;&lt;/li&gt;<br/>    &lt;/ul&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="aca7" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>import * as d3 from "d3";<br/>import Vue from "vue";</span><span id="b1dc" class="mq lc iq mh b gy mv ms l mt mu">export default {<br/>  name: "App",<br/>  data() {<br/>    return {<br/>      arr: [10, 20, 30, 25, 15],<br/>    };<br/>  },<br/>  mounted() {<br/>    Vue.nextTick(() =&gt; {<br/>      d3.select("#list")<br/>        .selectAll("li")<br/>        .data(this.arr)<br/>        .text((d) =&gt; d);<br/>    });<br/>  },<br/>};<br/>&lt;/script&gt;</span></pre><p id="7e94" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将<code class="fe me mf mg mh b">arr</code>中的数字呈现到<code class="fe me mf mg mh b">li</code>元素中。</p><p id="1d4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">d3.select</code>选择ID为<code class="fe me mf mg mh b">list</code>的<code class="fe me mf mg mh b">ul</code>。</p><p id="c41a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe me mf mg mh b">selectAll</code>来选择里面所有的<code class="fe me mf mg mh b">li</code>。</p><p id="8cbc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe me mf mg mh b">data</code>返回数据。</p><p id="8182" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和<code class="fe me mf mg mh b">text</code>来设置每个<code class="fe me mf mg mh b">li</code>的文本。</p><p id="2bda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在数字应该在列表中了。</p><p id="68f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">D3代码在<code class="fe me mf mg mh b">Vue.nextTick</code>回调中，这样我们就可以在<code class="fe me mf mg mh b">li</code>被渲染后得到它们。</p><h1 id="0190" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">挽救（saving的简写）</h1><p id="8d63" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用D3在Vue应用中添加SVG。</p><p id="c6f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ffeb" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;div id="svgcontainer"&gt;&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="714e" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>import * as d3 from "d3";<br/>import Vue from "vue";</span><span id="8f5f" class="mq lc iq mh b gy mv ms l mt mu">export default {<br/>  name: "App",<br/>  mounted() {<br/>    Vue.nextTick(() =&gt; {<br/>      const width = 300;<br/>      const height = 300;<br/>      const svg = d3<br/>        .select("#svgcontainer")<br/>        .append("svg")<br/>        .attr("width", width)<br/>        .attr("height", height);<br/>      svg<br/>        .append("line")<br/>        .attr("x1", 100)<br/>        .attr("y1", 100)<br/>        .attr("x2", 200)<br/>        .attr("y2", 200)<br/>        .style("stroke", "rgb(255,0,0)")<br/>        .style("stroke-width", 2);<br/>    });<br/>  },<br/>};<br/>&lt;/script&gt;</span></pre><p id="5c99" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们选择ID为<code class="fe me mf mg mh b">svgcontainer</code>的div。</p><p id="1261" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe me mf mg mh b">attr</code>方法设置<code class="fe me mf mg mh b">svg</code>的宽度和高度。</p><p id="cab7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用带有<code class="fe me mf mg mh b">'line'</code>参数的<code class="fe me mf mg mh b">append</code>方法添加一行。</p><p id="8d02" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们设置<code class="fe me mf mg mh b">x1</code>和<code class="fe me mf mg mh b">y1</code>属性来添加线条起点的x和y坐标。</p><p id="17a6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们对属性为<code class="fe me mf mg mh b">x2</code>和<code class="fe me mf mg mh b">y2</code>的行尾做同样的处理。</p><p id="0c6e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">style</code>方法设置样式。</p><p id="85c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">stroke</code>设置线条颜色，<code class="fe me mf mg mh b">stroke-width</code>设置线条宽度。</p><h1 id="864b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">矩形</h1><p id="198e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过调用带有<code class="fe me mf mg mh b">'rect'</code>参数的<code class="fe me mf mg mh b">append</code>方法来添加一个矩形:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="db30" class="mq lc iq mh b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;div id="svgcontainer"&gt;&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="cab4" class="mq lc iq mh b gy mv ms l mt mu">&lt;script&gt;<br/>import * as d3 from "d3";<br/>import Vue from "vue";</span><span id="4b28" class="mq lc iq mh b gy mv ms l mt mu">export default {<br/>  name: "App",<br/>  mounted() {<br/>    Vue.nextTick(() =&gt; {<br/>      const width = 300;<br/>      const height = 300;<br/>      const svg = d3<br/>        .select("#svgcontainer")<br/>        .append("svg")<br/>        .attr("width", width)<br/>        .attr("height", height);<br/>      svg<br/>        .append("rect")<br/>        .attr("x", 20)<br/>        .attr("y", 20)<br/>        .attr("width", 200)<br/>        .attr("height", 100)<br/>        .attr("fill", "green");<br/>    });<br/>  },<br/>};<br/>&lt;/script&gt;</span></pre><p id="bcea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们设置<code class="fe me mf mg mh b">x</code>和<code class="fe me mf mg mh b">y</code>属性来添加矩形左上角的x和y坐标。</p><p id="bd8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且我们用<code class="fe me mf mg mh b">'width'</code>和<code class="fe me mf mg mh b">'height'</code>调用<code class="fe me mf mg mh b">attr</code>来设置矩形的宽度和高度。</p><p id="946a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">'fill'</code>设置矩形的背景颜色。</p><h1 id="ae7d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="9ec6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用D3给我们的Vue应用添加基本形状。</p><p id="ce0a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>