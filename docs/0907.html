<html>
<head>
<title>Painless Forms for GraphQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GraphQL的无痛表单</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/painless-forms-for-graphql-ffb1c3cc2fce?source=collection_archive---------8-----------------------#2021-02-25">https://javascript.plainenglish.io/painless-forms-for-graphql-ffb1c3cc2fce?source=collection_archive---------8-----------------------#2021-02-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/e3762804bf6b9a227f4a10101d22f474.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4bDYtvvtMhFARzMr"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">“If I have to write ONE MORE FORM…!!!” (Photo by <a class="ae jz" href="https://unsplash.com/@jeshoots?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a>)</figcaption></figure><h2 id="ac99" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak">问题</strong></h2><p id="8d87" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">为web应用程序编写表单是一项非常常见的任务，既重复又无聊。我们大多数人宁愿把宝贵的时间花在应用程序的业务逻辑上。虽然一些现有的工具有助于最小化编写表单所花费的时间和精力，但是如果表单可以自己编写，那不是很好吗？</p><h2 id="6663" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak">解决方案</strong></h2><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/da1231d6fae9ea2f6337f2cb51a937ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*3cuD87hAFBRNQRcIEJ9NZA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">periqles to the rescue!</figcaption></figure><p id="be3d" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">periqles是一个为Apollo &amp; Relay设计的轻量级组件库。它会检查项目的GraphQL模式，根据给定的变异智能地直觉生成表单所需的输入标签种类，然后为表单上的每个字段生成React组件。</p><p id="0de3" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">periqles允许根据您的喜好进行或多或少的定制。它负责自己的状态管理和UI——为希望对表单的外观或行为进行更多控制的开发人员内置了覆盖开关。(点击这里查看我们的<a class="ae jz" href="https://periqles.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">演示</a>)</p><h2 id="4cfd" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak">工作原理</strong></h2><p id="2a03" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">假设您需要创建一个用户注册表单。一旦安装了periqles，你所要做的就是将它导入到你的应用程序中，并在你的代码中添加<PeriqlesForm/>标签，传入一些道具来告诉periqles要寻找什么变异以及如何提交它。</p><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/76f3981b5d2685685e9e56035c962b36.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*rvXKihalR58s6nZoiZvXIQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">&lt;PeriqlesForm/&gt; tag in action. Only mutationName &amp; useMutation are required for Apollo projects</figcaption></figure><p id="6972" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">在这种情况下，您可以告诉它，您的突变的名称是AddUser。然后periqles检查您的模式，寻找变异的输入类型定义。接下来，它根据输入字段的类型和名称确定为每个输入字段生成的最佳表单元素。例如，AddUser变异可能有一个类型为string的密码输入字段。periqles不仅仅创建一个普通的文本输入标签，它还会创建一个密码输入标签，这样您就可以利用内置的验证了。</p><p id="24cb" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">或者，如果您的AddUser变异有一个名为favoritePizzaTopping的“Enum”类型输入字段，periqles将默认使用一个填充了enumValues的下拉列表作为选项。但也许您希望favoritePizzaTopping是一组单选按钮。通过在periqles的props中指定“radio”元素，可以很容易地做到这一点。此外，外形元素具有干净、现代的风格，当然可以轻松调整以适应您的品牌。</p><p id="6981" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">最后，当用户点击提交按钮时，periqles的事件处理程序检查所有非空字段是否都已填写，如果没有，则提供一个警告，指明缺少的字段。否则，它会用用户输入的值触发变异。</p><figure class="ls lt lu lv gt jo gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/a1e19627af6f6579dc8b2fe5d30c68a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*YskYAHI2WU6AvS9WkvslBA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Voila! A periqles-generated form</figcaption></figure><h2 id="7a08" class="ka kb in bd kc kd ke dn kf kg kh dp ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak">其他GraphQL表单库呢？</strong></h2><p id="e588" class="pw-post-body-paragraph kw kx in ky b kz la lb lc ld le lf lg kj lh li lj kn lk ll lm kr ln lo lp lq ig bi translated">GraphQL已经有了一些非常有用的表单构建工具——其中一些给了我们灵感，比如<a class="ae jz" href="https://formik.org/" rel="noopener ugc nofollow" target="_blank"> Formik </a>、<a class="ae jz" href="https://frontier-forms.dev/" rel="noopener ugc nofollow" target="_blank"> Frontier Forms </a>和<a class="ae jz" href="https://github.com/morrys/relay-forms" rel="noopener ugc nofollow" target="_blank"> Relay Forms </a>。但是periqles与众不同的地方在于:</p><ul class=""><li id="8d22" class="md me in ky b kz lw ld lx kj mf kn mg kr mh lq mi mj mk ml bi translated">它兼容中继和阿波罗客户端。</li><li id="a3f4" class="md me in ky b kz mm ld mn kj mo kn mp kr mq lq mi mj mk ml bi translated">它通过在模式中查找特定的字段名和类型来实现基本的验证，不需要额外的输入。</li><li id="5799" class="md me in ky b kz mm ld mn kj mo kn mp kr mq lq mi mj mk ml bi translated">它用很少的输入就完成了表单创建的所有繁重工作。例如，如果您的项目是用Apollo构建的，那么您可以用一个变异名和一个useMutation钩子创建一个完整的表单。</li><li id="ca60" class="md me in ky b kz mm ld mn kj mo kn mp kr mq lq mi mj mk ml bi translated">这是完全不需要干预的，但是您仍然可以控制。</li></ul><p id="37cf" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated"><em class="mr"> periqles作为</em> <a class="ae jz" href="https://www.npmjs.com/package/periqles" rel="noopener ugc nofollow" target="_blank"> <em class="mr"> npm包</em> </a> <em class="mr">提供。查看我们的</em> <a class="ae jz" href="https://periqles.herokuapp.com/" rel="noopener ugc nofollow" target="_blank"> <em class="mr">网站</em></a><em class="mr">&amp;</em><a class="ae jz" href="https://github.com/oslabs-beta/periqles" rel="noopener ugc nofollow" target="_blank"><em class="mr">回购</em> </a> <em class="mr">了解更多信息。</em></p><p id="f555" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated"><strong class="ky io"> #Teamperiqles: </strong></p><p id="fb5f" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">卡梅隆·鲍姆加特纳—<a class="ae jz" href="https://github.com/cameronbaumgartner" rel="noopener ugc nofollow" target="_blank">Github</a>/<a class="ae jz" href="https://www.linkedin.com/in/cameronbaumgartner/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a></p><p id="cb12" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">伊恩·加勒特—<a class="ae jz" href="https://github.com/eeeeean" rel="noopener ugc nofollow" target="_blank">Github</a>/<a class="ae jz" href="https://www.linkedin.com/in/ian-garrett-02680b23/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a></p><p id="3185" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">约瑟夫·托莱达诺—<a class="ae jz" href="https://github.com/JosephToledano" rel="noopener ugc nofollow" target="_blank">Github</a>/<a class="ae jz" href="https://www.linkedin.com/in/joetoledano/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a></p><p id="ccba" class="pw-post-body-paragraph kw kx in ky b kz lw lb lc ld lx lf lg kj ly li lj kn lz ll lm kr ma lo lp lq ig bi translated">凯莉·波特—<a class="ae jz" href="https://github.com/kporter101" rel="noopener ugc nofollow" target="_blank">Github</a>/<a class="ae jz" href="https://www.linkedin.com/in/kporter101" rel="noopener ugc nofollow" target="_blank">LinkedIn</a></p></div></div>    
</body>
</html>