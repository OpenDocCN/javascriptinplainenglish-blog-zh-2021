<html>
<head>
<title>Zoom Web Client SDK HTML5/JavaScript/PHP Example</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Zoom Web客户端SDK HTML5/JavaScript/PHP示例</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/zoom-web-client-sdk-html5-javascript-php-example-9210f5bda17f?source=collection_archive---------8-----------------------#2021-06-06">https://javascript.plainenglish.io/zoom-web-client-sdk-html5-javascript-php-example-9210f5bda17f?source=collection_archive---------8-----------------------#2021-06-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/35117091fd55a5e0deb9c4c0897da4b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wHo3Y-kAztTiY7sE"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@linkedinsalesnavigator?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">LinkedIn Sales Solutions</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="dd6b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我最近开始用pure/plain/vanilla Java script将Zoom集成到我的网站应用程序中，但是遇到了几个问题，给出了<a class="ae jz" href="https://marketplace.zoom.us/docs/sdk/native-sdks/web" rel="noopener ugc nofollow" target="_blank">文档</a>和<a class="ae jz" href="https://github.com/zoom/sample-app-web" rel="noopener ugc nofollow" target="_blank">样本代码示例</a>:</p><ul class=""><li id="22a3" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">提供的示例代码有安全问题</li><li id="b69a" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">纯JavaScript和PHP的不完整文档</li></ul><p id="8ad9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">我会列出我遇到的问题/解决方案，然后提供一个完整功能的JavaScript + PHP示例，将Zoom集成到一个基本的web应用</strong>。</p><blockquote class="lm ln lo"><p id="6f83" class="ka kb lp kc b kd ke kf kg kh ki kj kk lq km kn ko lr kq kr ks ls ku kv kw kx ig bi translated">文档中的代码用于Angular我想要普通的JavaScript。</p></blockquote><h1 id="11b7" class="lt lu in bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">问题#1:使用正确的密钥</h1><p id="12e9" class="pw-post-body-paragraph ka kb in kc b kd mr kf kg kh ms kj kk kl mt kn ko kp mu kr ks kt mv kv kw kx ig bi translated">我正在浏览Zoom的文档“构建一个应用程序——Web客户端SDK”</p><p id="4dbd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">注册Zoom开发者账户后，第一步是选择你的应用类型。我之所以选择“SDK ”,是因为这个术语在整个教程中被频繁使用。我正在使用我的SDK密钥/ SDK秘密值，但是得到错误(特别是“加入会议超时”)。</p><figure class="mx my mz na gt jo gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/27dbe24a3111fa6e0bbb1216f927bf3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*cSuQAVlonHkdHdoUCBD0RQ.png"/></div></figure><p id="c2e4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">原来我需要一个JWT (JSON Web Token)应用的凭证！</p><h2 id="b2b2" class="nb lu in bd lv nc nd dn lz ne nf dp md kl ng nh mh kp ni nj ml kt nk nl mp nm bi translated"><strong class="ak">吸取的教训</strong></h2><p id="010d" class="pw-post-body-paragraph ka kb in kc b kd mr kf kg kh ms kj kk kl mt kn ko kp mu kr ks kt mv kv kw kx ig bi translated">如果SDK凭证不起作用，请尝试JWT的凭证！它被称为“API Key / API Secret”，与示例代码中的名称相匹配。</p><h1 id="bb8a" class="lt lu in bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">问题#2:变量不一致</h1><p id="7ca4" class="pw-post-body-paragraph ka kb in kc b kd mr kf kg kh ms kj kk kl mt kn ko kp mu kr ks kt mv kv kw kx ig bi translated">示例Zoom web客户端代码可以工作，但是它使用了ZoomMtg。<strong class="kc io"> generateSignature() </strong>函数，需要你在客户端提供API Secret，这是一个安全威胁。代码注释和文档表明您应该使用服务器端代码来生成签名。</p><p id="25bc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">或者，您可以遵循文档中给出的代码。然而，我很难让它工作。</p><p id="c7ab" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这两种情况下，都建议您传入一个对象。不幸的是，文档中有一个名为<strong class="kc io"> meetConfig </strong>的对象，其中包含了诸如<strong class="kc io"> meetingNumber、</strong>之类的项目，而示例代码中的<strong class="kc io"> meetingConfig </strong>包含了不同的元素，例如<strong class="kc io"> mn </strong>表示“会议号码”。</p><p id="c8a1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我努力将这两个代码样本结合起来(一个工作但不安全，另一个不工作)。</p><h1 id="8591" class="lt lu in bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">问题3:不完整的PHP示例</h1><p id="3c55" class="pw-post-body-paragraph ka kb in kc b kd mr kf kg kh ms kj kk kl mt kn ko kp mu kr ks kt mv kv kw kx ig bi translated">您将需要服务器端代码来生成“签名”他提供的PHP代码帮了大忙，但是我想为那些经验不足的人补充一些缺失的部分。</p><p id="1536" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您遵循推荐的方法传入一个对象(而不是单独的值)，您将首先需要使用<em class="lp"> json_decode() </em>函数。</p><p id="b8b5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是代码的一个缩写片段；完整的代码在本文末尾的链接中:</p><pre class="mx my mz na gt nn no np nq aw nr bi"><span id="bc80" class="nb lu in no b gy ns nt l nu nv">&lt;?php</span><span id="c132" class="nb lu in no b gy nw nt l nu nv">// fill in your API Secret (probably from the JWT, not the SDK!)<br/>$apiSecret   = '...';</span><span id="df2b" class="nb lu in no b gy nw nt l nu nv">// if you're passing in a JSON object, decode it first<br/>$meetingData  = json_decode(file_get_contents('php://input'), true);</span><span id="b510" class="nb lu in no b gy nw nt l nu nv">// Make sure your variable names match!<br/>$apiKey   = $meetingData['meetingData']['apiKey'];<br/>$meetingNumber  = $meetingData['meetingData']['meetingNumber'];<br/>$role    = $meetingData['meetingData']['role'];</span><span id="b700" class="nb lu in no b gy nw nt l nu nv">print generate_signature( $apiKey, $apiSecret, $meetingNumber, $role);</span><span id="de02" class="nb lu in no b gy nw nt l nu nv">function generate_signature ( $apiKey, $apiSecret, $meetingNumber, $role) {<br/> // use their code<br/>}</span><span id="002f" class="nb lu in no b gy nw nt l nu nv">?&gt;</span></pre><h1 id="1ed8" class="lt lu in bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">问题#4:缺少纯JavaScript示例</h1><blockquote class="lm ln lo"><p id="615e" class="ka kb lp kc b kd ke kf kg kh ki kj kk lq km kn ko lr kq kr ks ls ku kv kw kx ig bi translated"><strong class="kc io">注意:</strong>我最终没有使用这一部分中的代码修复，但我想提一下，以防你需要帮助将代码从Angular</p></blockquote><p id="4959" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">该文档没有提供纯JavaScript示例。对提供的角度代码进行以下更改:</p><ul class=""><li id="b750" class="ky kz in kc b kd ke kh ki kl la kp lb kt lc kx ld le lf lg bi translated">移除“导入”，假设您使用的是CDN</li><li id="8e37" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">在<em class="lp"> getSignature() </em>前添加关键字“函数”</li><li id="b4c0" class="ky kz in kc b kd lh kh li kl lj kp lk kt ll kx ld le lf lg bi translated">调整错误位置；下面截图</li></ul><figure class="mx my mz na gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nx"><img src="../Images/d371a3f7d76752313c749b5cfde4996a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PNwfDibRYdGwpFRyL9GRxQ.png"/></div></div></figure><h1 id="3592" class="lt lu in bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">我仍然得到缩放“加入会议超时”错误！</h1><p id="3c26" class="pw-post-body-paragraph ka kb in kc b kd mr kf kg kh ms kj kk kl mt kn ko kp mu kr ks kt mv kv kw kx ig bi translated">在撰写本文时，我还没有找出原因，但解决方法是<strong class="kc io">主机需要先登录</strong>。也许这是我的“免费”变焦帐户的一个限制？</p><p id="04f0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">还有</strong>:Zoom提供的会议ID有空格(更容易阅读)。你需要去掉空格，它才能工作。</p><h1 id="0ed5" class="lt lu in bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">最终缩放JavaScript SDK代码</h1><p id="41e2" class="pw-post-body-paragraph ka kb in kc b kd mr kf kg kh ms kj kk kl mt kn ko kp mu kr ks kt mv kv kw kx ig bi translated">完整的代码可以在GitHub上找到:</p><div class="ny nz gp gr oa ob"><a href="https://github.com/stevesohcot/zoom-web-client-sdk-example" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd io gy z fp og fr fs oh fu fw im bi translated">stevesohcot/zoom-web-client-SDK-example</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">将一些特定于角度的代码转换为纯/普通/普通的JavaScript整个PHP脚本以生成签名…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">github.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op jt ob"/></div></div></a></div></div></div>    
</body>
</html>