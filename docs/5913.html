<html>
<head>
<title>Let’s Understand Hoisting in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们来理解JavaScript中的提升</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-understand-hoisting-in-javascript-99d9df022ce8?source=collection_archive---------10-----------------------#2021-12-18">https://javascript.plainenglish.io/lets-understand-hoisting-in-javascript-99d9df022ce8?source=collection_archive---------10-----------------------#2021-12-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/114e99ecb3ce2b4b2b302dcdf9b05244.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c_O0MSPUWRk7jfc_zjYuGA.png"/></div></div></figure><p id="c31f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在JavaScript中，提升是在代码执行之前将所有<strong class="jx io">声明移动到作用域顶部的默认行为。Javascript中的一切都发生在<em class="kt">执行上下文</em>中。为了详细理解提升，让我们了解一下执行上下文。</strong></p><h2 id="2acf" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated"><strong class="ak">执行上下文</strong></h2><p id="4d7e" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">执行上下文主要有两个组件</p><ol class=""><li id="af5d" class="ls lt in jx b jy jz kc kd kg lu kk lv ko lw ks lx ly lz ma bi translated">内存组件(创建阶段)</li><li id="c611" class="ls lt in jx b jy mb kc mc kg md kk me ko mf ks lx ly lz ma bi translated">代码组件(执行阶段)</li></ol><p id="0f73" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">内存组件</strong> —也称为<em class="kt">变量环境</em>，它使用键值对为变量分配内存。</p><p id="91d6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">代码组件</strong> —也称为执行的<em class="kt">线程。</em>由于JavaScript是同步单线程语言，代码组件负责一次一行地执行程序，并遵循代码的顺序。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/ab605b725fae3d00374e712a89ae3f01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*lwJbwPn-GFJQw1PFvFSmAQ.gif"/></div></div></figure><p id="42d1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kt">注意:</em>第一个变量a、b和sum被设置为<em class="kt">未定义</em>。当代码组件执行第1行时，它将值分配给a，然后将值分配给b，在第3行，它执行a和b的加法，因此sum的值变为6。</p><p id="71b8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">吊装</strong></p><p id="2323" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">提升允许我们甚至在初始化函数和变量之前访问它们。</p><p id="8d07" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">考虑下面的代码。</p><figure class="mg mh mi mj gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="8649" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我们执行上面的程序，getName可以访问这个函数，但是console.log(x)给出了undefined。这是因为吊装</p><p id="82c7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在执行代码之前，Javascript首先为每个变量分配内存，因此x的值被设置为undefined，<em class="kt">(第3行尝试</em><strong class="jx io"><em class="kt">console . log(getName)</em></strong><em class="kt">)</em>getName将是整个函数本身。因此，当我们在赋值之前调用console.log(x)时，它会打印undefined。</p><p id="8f02" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">javascript中的<strong class="jx io">未定义和未定义</strong>是有区别的，如果我们注释第3行，那么会导致<em class="kt">未捕获引用错误:</em> x未定义。</p><p id="1428" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">编写代码的正确方式</strong>。</p><figure class="mg mh mi mj gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="74f5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">让我们尝试使用箭头功能</strong></p><p id="49c5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我们使用arrow函数时，它的行为就像一个变量</p><figure class="mg mh mi mj gt jo"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="bb6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我们在第1行调用getName()时，它会给出一个错误，因为getName函数将表现为一个变量，因此当我们调用console.log(getName)时，它会给出undefined，因为变量getName有一个未定义的值。</p><h2 id="770f" class="ku kv in bd kw kx ky dn kz la lb dp lc kg ld le lf kk lg lh li ko lj lk ll lm bi translated"><strong class="ak">结论</strong></h2><p id="46f2" class="pw-post-body-paragraph jv jw in jx b jy ln ka kb kc lo ke kf kg lp ki kj kk lq km kn ko lr kq kr ks ig bi translated">JavaScript只提升声明，不提升初始化。</p><p id="7b2e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">JavaScript在执行之前为程序中定义的所有变量和函数分配内存。</p><p id="1d55" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">箭头函数表现为一个变量。</p><p id="8321" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kt">更多内容请看</em><a class="ae mm" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kt">plain English . io</em></strong></a><em class="kt">。报名参加我们的</em> <a class="ae mm" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="kt">免费周报</em> </strong> </a> <em class="kt">。在我们的</em> <a class="ae mm" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="kt">社区</em> </strong> </a> <em class="kt">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>