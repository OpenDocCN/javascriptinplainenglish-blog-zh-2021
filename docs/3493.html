<html>
<head>
<title>Debug your React App like a Ninja with Source Maps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">调试你的React应用程序，就像一个忍者用源代码地图</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/debug-your-react-app-like-a-ninja-with-source-maps-c63010b3a6e7?source=collection_archive---------5-----------------------#2021-07-14">https://javascript.plainenglish.io/debug-your-react-app-like-a-ninja-with-source-maps-c63010b3a6e7?source=collection_archive---------5-----------------------#2021-07-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="a45f" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何使用源代码地图轻松调试React应用程序(不再为繁琐的console.logs而烦恼)。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/45b67460f3008370a71c5058903565b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wVVaV-aH8heSKoYMV1ahUw.png"/></div></div></figure><p id="c629" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当我还是一名自学成才的开发人员时，在我有第一份开发工作之前，登录控制台是我经常提取应用程序中的变量值以进行调试的方式。我发现随着时间的推移，这个过程变得越来越乏味，因为为了找到一个bug，console.log()语句被编写和删除了数百次。在VSCode和Chrome的控制台之间来回切换也是我工作流程中的一大烦恼。</p><p id="76ad" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">作为一名全职开发人员，在最初的几周内，我学习了调试技术，这确实改变了我的生活。令我困惑的是，我读过的每一篇关于React调试的文章都只谈到了同样的几件事——React dev tool、控制台日志和内联“调试器”断点。</p><p id="7f77" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">虽然所有这些工具都很棒，而且作为React开发人员，我确实每天都在使用其中一些工具，但是我在这里将要谈到的技术已经成为我作为React开发人员遇到的大多数问题的首选解决方案。</p><h2 id="ddd6" class="lk ll in bd lm ln lo dn lp lq lr dp ls kx lt lu lv lb lw lx ly lf lz ma mb mc bi translated">输入源地图</h2><p id="b853" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">来源地图是通过YouTube上的一个名为<a class="ae mi" href="https://youtu.be/jFbeUaWbbjM?t=197" rel="noopener ugc nofollow" target="_blank">成为Chrome开发者工具忍者的技巧</a>的视频引起我注意的，作者是<a class="ae mi" href="https://www.youtube.com/c/noobtoprofessional" rel="noopener ugc nofollow" target="_blank">克里斯·霍克斯</a>(顺便说一下，这是一个很棒的YouTube编程频道)。出于某种真正的巧合，仅仅几天后在工作中，我就看到了如何真正使用源代码地图来通过我们的大型React代码库进行断点。</p><p id="a3cb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">据我所知，源代码映射基本上让你看到原始形式的代码——不像你经常在浏览器的检查器工具的源代码标签中看到的编译和缩小的代码。这允许您像在浏览器的inspection source选项卡内的文本编辑器中一样导航您的代码。从那里，您可以找到您想要调试的问题区域，并为您的应用程序设置断点，就像您如何调试VSCode中的代码以查看您需要查看的任何变量一样——不再到处都是随机的console.logs。</p><p id="d13c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">关于源码图的更多详细信息——Ryan Seddon写了一篇相当全面的介绍JavaScript源码图的文章。</p><h2 id="78f7" class="lk ll in bd lm ln lo dn lp lq lr dp ls kx lt lu lv lb lw lx ly lf lz ma mb mc bi translated">好的，那么你如何使用源地图呢？</h2><p id="f2cb" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">源地图可以由您正在使用的任何Javascript编译器生成。如果您正在使用Create React App，您应该已经启用了它。如果您已经创建了自己的Webpack配置，您需要按照<a class="ae mi" href="https://webpack.js.org/configuration/devtool/" rel="noopener ugc nofollow" target="_blank"> Webpack文档</a>的指示，将行<code class="fe mj mk ml mm b">devtool: “source map”</code>包含在您的配置文件中。现在，在Chrome中，确保通过<code class="fe mj mk ml mm b">ctrl+shft+i</code>或<code class="fe mj mk ml mm b">right-click -&gt; inspect</code>打开检查器工具来启用源地图设置。在检测工具中，单击窗口右上角的齿轮图标，打开如下所示的设置页面。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mn"><img src="../Images/2b6b447e875f6ee36a9ef8478b653e49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ocOFwQG9lYeP1mf66j7N2g.png"/></div></div></figure><p id="fca3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在preference选项卡的Sources子标题下，确保<code class="fe mj mk ml mm b">Enable JavaScript source maps</code>已启用。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/c6162cf96abd4d6d0d61ea053026213f.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*o1_TzZGAMmw335seIcw8SQ.png"/></div></figure><h2 id="1830" class="lk ll in bd lm ln lo dn lp lq lr dp ls kx lt lu lv lb lw lx ly lf lz ma mb mc bi translated">像专家一样调试</h2><p id="e1b7" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">现在，您可以通过查看自己的源代码来进行调试了。要找到你正在寻找的代码，当聚焦在检查器窗口时按下<code class="fe mj mk ml mm b">ctrl+p</code>。将弹出一个输入栏，您可以开始输入您正在寻找的组件文件名，然后在您需要的文件上按enter键。例如，在我的Spotify克隆应用程序中，我想看看<code class="fe mj mk ml mm b">ArtistPage</code>中的代码。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/0445dce13c76f30edfe87bdc2ccb5960.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*y9MEB4VssyTQb0zHMsoPVw.png"/></div></figure><p id="0056" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">然后，我想在第98行的代码上设置断点，所以我将鼠标悬停在数字98上，单击它来激活断点。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mq"><img src="../Images/847e799c3252953770ca1656b1aad02e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3xP3g24m4dbWe-65kugy7Q.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk">Clicking on line 98 also allows you to breakpoint at other points on the line as well</figcaption></figure><p id="480b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">每当代码执行到该行时，断点将被激活。您将在应用程序顶部看到<code class="fe mj mk ml mm b">Paused in debugger</code>,以及单步调试代码的按钮。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/21d43fc1f1be388f6b810ca0e6457fa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9zY8ZlrDjyqasRngXjxbwg.png"/></div></div></figure><p id="5169" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当您在断点上时，您可以通过悬停在代码中任何先前的变量上来检查它们，如下所示。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/2c2e1ac189bd77a9903722a89891e141.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*vB9AiayKJNRWzOXR6TE7jQ.png"/></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk">You can expand the objects within this window to see more information</figcaption></figure><p id="4a30" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">右边还会有更多关于变量的信息，你拥有的断点数量，以及右边的调用栈。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/65023507e4e5103bba188299c0691143.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*63d7pna9hN-DB1TO4k-lkA.png"/></div></figure><p id="c3ad" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最后，您甚至可以刷新页面，当您的代码到达该行时，断点仍将存在并执行。</p><h2 id="d7f4" class="lk ll in bd lm ln lo dn lp lq lr dp ls kx lt lu lv lb lw lx ly lf lz ma mb mc bi translated">现在去调试你的应用程序，像一个真正的反应忍者</h2><p id="8a62" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">正如您可能想象的那样，这种调试技术对于我们React开发人员来说是一个非常强大的工具——我可以想象其他前端开发人员也是如此。对我来说，这是一个真正改变生活的技巧，我希望我能早点学会，但尽管如此，我还是很高兴能说出这些话。</p><h2 id="415a" class="lk ll in bd lm ln lo dn lp lq lr dp ls kx lt lu lv lb lw lx ly lf lz ma mb mc bi translated">资源</h2><p id="00f2" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated"><a class="ae mi" href="https://youtu.be/jFbeUaWbbjM?t=197" rel="noopener ugc nofollow" target="_blank">成为Chrome开发者工具忍者的技巧</a></p><p id="1ca0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae mi" href="https://www.html5rocks.com/en/tutorials/developertools/sourcemaps/" rel="noopener ugc nofollow" target="_blank">JavaScript源码介绍图</a></p><p id="ea5a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae mi" href="https://webpack.js.org/configuration/devtool/" rel="noopener ugc nofollow" target="_blank"> Webpack devtool文档</a></p><p id="ed86" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae mi" href="https://clonedspot.netlify.app/" rel="noopener ugc nofollow" target="_blank">试试我的Spotify克隆网站</a></p><p id="ab1d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="my">更多内容请看</em><a class="ae mi" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="my">plain English . io</em></strong></a></p></div></div>    
</body>
</html>