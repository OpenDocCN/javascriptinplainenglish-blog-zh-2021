<html>
<head>
<title>AJAX for Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向初学者的AJAX</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-is-ajax-anyway-261c58d77014?source=collection_archive---------7-----------------------#2021-02-15">https://javascript.plainenglish.io/what-is-ajax-anyway-261c58d77014?source=collection_archive---------7-----------------------#2021-02-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="d687" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated"><strong class="ak"> AJAX初学者指南</strong></h2></div><p id="3882" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">在这篇博文中，我想带你了解AJAX的基础知识，并展示一些简单的例子来帮助你入门。</em></p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi kz"><img src="../Images/b1d3033393fddf1a2491fcddd7cd75e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*haMEQHfMceoIpoEs30wzuA.jpeg"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">Photo by <a class="ae lp" href="https://unsplash.com/@grakozy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Greg Rakozy</a> on <a class="ae lp" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b7e1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">AJAX代表<strong class="ke io"> A </strong>同步<strong class="ke io">J</strong>avaScript<strong class="ke io">A</strong>nd<strong class="ke io">X</strong>ML。简单地说，就是使用XMLHttpRequest对象与服务器通信。更简单地说，<strong class="ke io"> AJAX是一种从网页访问web服务器的技术</strong>。AJAX允许通过在后台与web服务器交换数据来异步更新网页。这意味着无需重新加载整个页面就可以更新部分网页。</p><p id="4850" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现代网站是高度互动的，必须能够动态响应用户的输入。例如，当用户在网站上创建一个新帐户时，必须检查他们的电子邮件，以确保该帐户尚未注册。只有当网站的单个组件可以被操作时，才能做到这一点。</p><p id="958d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">AJAX最大的好处是网站不再需要完全重新加载来响应用户输入。静态内容保持不变，而动态信息可以根据需要添加到DOM中。在上面的例子中，当创建一个新用户时，一个请求被发送到web服务器，它检查用户提交的电子邮件地址是否可用于创建一个新的配置文件。然后，这些数据被发送回客户端。</p><p id="83e9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果没有AJAX，表单将被提交，整个页面将被重新加载。但是AJAX允许您随时使用JavaScript向服务器发送请求。</p><p id="639e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果需要更多的AJAX例子，可以考虑用Google Maps交互；用户可以使用鼠标拖动整个地图。或者当你在谷歌上搜索某样东西时，谷歌会在你输入的时候实时向你提供建议。有了AJAX，网站可以更好地响应用户输入，并具有更深层次的交互性。</p><h2 id="62f7" class="lq lr in bd ls lt lu dn lv lw lx dp ly kl lz ma mb kp mc md me kt mf mg mh mi bi translated">数据交换</h2><p id="cd4e" class="pw-post-body-paragraph kc kd in ke b kf mj jo kh ki mk jr kk kl ml kn ko kp mm kr ks kt mn kv kw kx ig bi translated">为了交换数据，必须创建一个<em class="ky"> XMLHttpRequest </em>对象。<em class="ky"> XMLHttpRequest </em>是一个API，JavaScript和其他web浏览器脚本语言可以使用它来使用HTTP在web服务器之间传输和操作XML数据，因此基本上<em class="ky"> XMLHttpRequest </em>对象是客户端和服务器之间的中间人。</p><p id="a19f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有两种方法可以与服务器交换数据。第一种方式是GET请求。在GET请求中，数据作为URL参数发送。不建议使用大量数据(例如表单数据)向服务器发出GET请求。在这种情况下，最好使用POST请求。在POST请求中，数据作为HTTP请求体的一部分发送到服务器。</p><p id="3735" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">正如我已经提到的，AJAX使用异步数据传输。这意味着在传输数据的同时，用户可以执行其他操作，并保持与网页的交互。</p><p id="d9ab" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">浏览器从服务器得到的响应可以是XML、纯文本或JSON格式。如果收到纯文本格式的响应，则它可以立即显示在页面上。当收到XML响应时，客户端<strong class="ke io"> </strong>处理XML并将数据转换成HTML。当接收到JSON响应时，客户端只需要用<em class="ky"> eval </em>函数执行接收到的代码，就可以得到一个完整的JavaScript对象。</p><p id="663e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">总而言之，AJAX是如何工作的:</p><p id="4745" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">-页面加载后，用户可以引发一个事件。例如，通过点击按钮。</p><p id="48a1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">-单击按钮后，JavaScript会创建一个<em class="ky"> XMLHttpRequest </em>对象。</p><p id="b7d1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">-对象向服务器发送请求。</p><p id="a129" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">-服务器接收请求，处理请求并创建响应。</p><p id="1147" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">-响应被发送回浏览器。</p><p id="a910" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">JavaScript读取响应，并根据响应更新部分网页。</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><p id="6611" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在客户机和服务器之间执行AJAX通信之前，首先要实例化一个<em class="ky"> XMLHttpRequest </em>对象。</p><pre class="la lb lc ld gt mv mw mx my aw mz bi"><span id="8469" class="lq lr in mw b gy na nb l nc nd">var request = new XMLHttpRequest();</span></pre><p id="d4a5" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了创建一个服务器请求，我们使用新创建的对象的<strong class="ke io"> open() </strong>和<strong class="ke io"> send() </strong>方法。</p><ul class=""><li id="6963" class="ne nf in ke b kf kg ki kj kl ng kp nh kt ni kx nj nk nl nm bi translated"><strong class="ke io"> open( <em class="ky">方法，url，async </em> ) </strong> — <strong class="ke io"> <em class="ky">方法</em> </strong>指定请求的类型，GET或POST<strong class="ke io"><em class="ky">URL</em></strong>-将请求发送到哪里；<strong class="ke io"> <em class="ky"> async </em> </strong> —真或假，默认设置为真。服务器请求应该异步发送，因此JavaScript可以在等待服务器响应的同时执行其他脚本。</li><li id="d392" class="ne nf in ke b kf nn ki no kl np kp nq kt nr kx nj nk nl nm bi translated"><strong class="ke io">send()</strong>/<strong class="ke io">send(<em class="ky">body</em>)</strong>—向服务器发送HTTP请求。</li></ul><p id="8256" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是一个简单的GET请求的例子，它用于从服务器中检索一些不需要任何修改的数据。当用户点击一个按钮时，它触发<strong class="ke io"> createRequest </strong>函数。发出请求，然后将执行(<strong class="ke io"> onreadystatechange </strong>)传递给<strong class="ke io"> alertContents() </strong>。如果我们收到状态OK ( <strong class="ke io"> 200 </strong>)，当我们看到一个带有服务器文件内容的警告弹出窗口。</p><figure class="la lb lc ld gt le"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="b4f2" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">注意<strong class="ke io"> onreadystatechange </strong> —它是<em class="ky"> XMLHttpRequest </em>对象最重要的属性之一。该属性定义了当<strong class="ke io">就绪状态</strong>改变<strong class="ke io">时要执行的功能。</strong></p><p id="a1e0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> readyState </strong>是指定HTTP请求的整数。可能的值有:</p><p id="f6aa" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">0 —未发送—已经创建了一个<em class="ky"> XMLHttpRequest </em>对象，但是还没有调用<strong class="ke io"> open() </strong>方法；</p><p id="880b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">1 —打开—调用了<strong class="ke io"> open() </strong>方法(建立了服务器连接)；</p><p id="bc6c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2 — HEADERS_RECEIVED —调用了<strong class="ke io"> send() </strong>方法(接收到请求)；</p><p id="eb31" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3 —加载—服务器正在处理请求；</p><p id="b07b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">4 —完成—请求已处理，响应已准备好。</p><p id="c8e9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在检查了请求的状态和响应的HTTP状态代码之后，您可以对从服务器接收的数据做任何事情。</p><p id="eb3c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了发布数据，我们需要添加一个带有<strong class="ke io"> setRequestHeader() </strong>的HTTP头。</p><ul class=""><li id="7faa" class="ne nf in ke b kf kg ki kj kl ng kp nh kt ni kx nj nk nl nm bi translated"><strong class="ke io">setRequestHeader(<em class="ky">header _ name，value </em> ) </strong> —设置请求头的值；</li></ul><p id="9970" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您必须在<strong class="ke io"> send( <em class="ky"> body </em> ) </strong>方法中指定您想要发送的数据。</p><figure class="la lb lc ld gt le"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="7f5b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">总而言之，AJAX是创建快速动态网页的一种非常有用的技术。使用AJAX的主要优点是它简化了用户体验。一个有效使用AJAX的构建良好的网站会运行得更快，并为用户提供更好的体验。我希望这篇AJAX介绍对您有用。感谢阅读。</p><p id="66da" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">资源:</p><div class="nu nv gp gr nw nx"><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/AJAX/Getting_Started" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd io gy z fp oc fr fs od fu fw im bi translated">入门指南</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">本文将引导您了解AJAX基础知识，并提供一些简单的动手示例来帮助您入门。</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">developer.mozilla.org</p></div></div><div class="og l"><div class="oh l oi oj ok og ol lj nx"/></div></div></a></div><div class="nu nv gp gr nw nx"><a href="https://www.w3schools.com/js/js_ajax_intro.asp" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd io gy z fp oc fr fs od fu fw im bi translated">AJAX简介</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">AJAX是开发人员的梦想，因为您可以:从web服务器读取数据-在页面加载后更新网页…</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">www.w3schools.com</p></div></div><div class="og l"><div class="om l oi oj ok og ol lj nx"/></div></div></a></div><div class="nu nv gp gr nw nx"><a href="https://www.tutorialspoint.com/ajax/what_is_xmlhttprequest.htm" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd io gy z fp oc fr fs od fu fw im bi translated">AJAX - XMLHttpRequest</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">XMLHttpRequest对象是AJAX的关键。自从Internet Explorer 5.5在…发布以来，它就一直可用</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">www.tutorialspoint.com</p></div></div><div class="og l"><div class="on l oi oj ok og ol lj nx"/></div></div></a></div></div></div>    
</body>
</html>