<html>
<head>
<title>Getting Started with Expo React Native Redux (React Redux)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Expo React Native Redux入门(React Redux)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/expo-react-native-redux-9f9e3cb04967?source=collection_archive---------6-----------------------#2021-03-05">https://javascript.plainenglish.io/expo-react-native-redux-9f9e3cb04967?source=collection_archive---------6-----------------------#2021-03-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f60c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">视图、动作、存储、状态和归约器的简单说明</h2></div><p id="52c3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将对redux做一个简单的解释，包括视图、动作、状态和redux。之后，我们将创建一个应用程序来演示这一点。</p><h2 id="19a2" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">数据流</h2><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lu"><img src="../Images/9040ab169ab93bca6a607ed16009b75e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_7yBjGIuoOKAVsCWm2mN8g.png"/></div></div></figure><p id="023f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一个简单的解释是视图包含按钮来调度动作。</p><p id="aec1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">存储中的缩减器根据动作和当前状态决定如何更新状态(真实的来源)。</p><p id="56c9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">UI基于最新状态重新呈现。</p><h2 id="8d69" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">视图→操作</h2><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lu"><img src="../Images/f8f86d5de82c6b92848f13194cd042d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0w14yE1riM5VhtROmFddzA.png"/></div></div></figure><p id="c0d2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，视图中会有一个按钮来触发动作创建者。</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="1092" class="lb lc iq mh b gy ml mm l mn mo">const ComponentA = () =&gt; {</span><span id="7771" class="lb lc iq mh b gy mp mm l mn mo">const dispatch = useDispatch();</span><span id="577e" class="lb lc iq mh b gy mp mm l mn mo">return (</span><span id="d756" class="lb lc iq mh b gy mp mm l mn mo">&lt;View&gt;</span><span id="6e3d" class="lb lc iq mh b gy mp mm l mn mo">&lt;Button title="+5" onPress={()=&gt;dispatch(increment(5))}/&gt;</span><span id="57bd" class="lb lc iq mh b gy mp mm l mn mo">&lt;/View&gt;</span><span id="bff4" class="lb lc iq mh b gy mp mm l mn mo">)</span><span id="d798" class="lb lc iq mh b gy mp mm l mn mo">}</span></pre><p id="d632" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">动作创建器是一个创建并返回动作对象的函数。</p><p id="ff26" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Action包含一个类型字段，它通常是一个描述性的名称，这里是“INCREMENT”，因为我们想要增加值。</p><p id="83d1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一个字段是payload，这是附加信息，这里是“num”，表示我们要添加的数字</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="f991" class="lb lc iq mh b gy ml mm l mn mo">export const increment = (num=1) =&gt; {</span><span id="7286" class="lb lc iq mh b gy mp mm l mn mo">return {</span><span id="f65b" class="lb lc iq mh b gy mp mm l mn mo">type:'INCREMENT',</span><span id="6d16" class="lb lc iq mh b gy mp mm l mn mo">payload:num</span><span id="0ba1" class="lb lc iq mh b gy mp mm l mn mo">}</span><span id="7012" class="lb lc iq mh b gy mp mm l mn mo">}</span></pre><h2 id="5a15" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">行动→存储</h2><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lu"><img src="../Images/65941a859999be58b45246542ae6c3b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*umnydeEChq1afOdC8TrgcQ.png"/></div></div></figure><p id="f725" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">存储是通过传入一个reducer创建的。这里我们将减速器命名为“反减速器”</p><p id="e81e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Reducer决定如何更新状态。</p><p id="00ac" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">减速器的规则</p><ul class=""><li id="ee94" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated">基于状态和动作计算新的状态值</li><li id="ecb8" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">必须通过复制现有状态进行不可变的更新，并修改副本。不允许直接更新状态</li><li id="e9a6" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">不得执行任何异步逻辑或计算随机值</li></ul><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="b435" class="lb lc iq mh b gy ml mm l mn mo">export const counterReducer = (state=0, action) =&gt;{</span><span id="806a" class="lb lc iq mh b gy mp mm l mn mo">switch (action.type) {</span><span id="6a60" class="lb lc iq mh b gy mp mm l mn mo">case 'INCREMENT':</span><span id="b84f" class="lb lc iq mh b gy mp mm l mn mo">return state + action.payload;</span><span id="8a17" class="lb lc iq mh b gy mp mm l mn mo">case 'DECREMENT':</span><span id="f40d" class="lb lc iq mh b gy mp mm l mn mo">return state - 1;</span><span id="70ea" class="lb lc iq mh b gy mp mm l mn mo">default:</span><span id="fc94" class="lb lc iq mh b gy mp mm l mn mo">return state;</span><span id="71c4" class="lb lc iq mh b gy mp mm l mn mo">}</span><span id="ea3f" class="lb lc iq mh b gy mp mm l mn mo">}</span></pre><h2 id="b46a" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">商店→查看</h2><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lu"><img src="../Images/9d1b43187fa6dc9148527664006156f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ve014EFm15Boy5N7DnP4Pg.png"/></div></div></figure><p id="e452" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">状态更新后，UI将基于新状态重新呈现。</p><p id="59c2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">选择器是从存储状态值中提取特定信息片段的功能。在这里，由于我们使用react，所以使用useSelector()从Redux存储状态中提取特定数据。</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="f582" class="lb lc iq mh b gy ml mm l mn mo">const ComponentA = () =&gt; {</span><span id="79ba" class="lb lc iq mh b gy mp mm l mn mo">const counter = useSelector(state =&gt; state);</span><span id="bed9" class="lb lc iq mh b gy mp mm l mn mo">return (</span><span id="2f4f" class="lb lc iq mh b gy mp mm l mn mo">&lt;View&gt;</span><span id="4615" class="lb lc iq mh b gy mp mm l mn mo">&lt;Text&gt;ComponentA {counter}&lt;/Text&gt;</span><span id="128d" class="lb lc iq mh b gy mp mm l mn mo">&lt;/View&gt;</span><span id="6016" class="lb lc iq mh b gy mp mm l mn mo">)</span><span id="1567" class="lb lc iq mh b gy mp mm l mn mo">}</span></pre><h2 id="f2a8" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">开始项目</h2><p id="2cee" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">要使用redux，我们需要安装以下软件包。</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="7ff4" class="lb lc iq mh b gy ml mm l mn mo">npm install redux react-redux</span></pre><h2 id="e625" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">动作、减速和存储</h2><p id="617a" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">创建“store”文件夹，在文件夹内创建action.js、reducer.js和store.js</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/7b28c7e5b385b1ab9163efc970a883c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:426/format:webp/1*eOReB95_e2VKTqGMK7aaNQ.png"/></div></figure><p id="156b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在action.js中，我们创建了两个函数，一个是增量，另一个是减量。</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="bc6a" class="lb lc iq mh b gy ml mm l mn mo">export const increment = () =&gt; {</span><span id="d4b3" class="lb lc iq mh b gy mp mm l mn mo">return {</span><span id="4133" class="lb lc iq mh b gy mp mm l mn mo">type:'INCREMENT',</span><span id="c097" class="lb lc iq mh b gy mp mm l mn mo">}</span><span id="9c53" class="lb lc iq mh b gy mp mm l mn mo">}</span><span id="2bf2" class="lb lc iq mh b gy mp mm l mn mo">export const decrement = () =&gt; {</span><span id="3f82" class="lb lc iq mh b gy mp mm l mn mo">return {</span><span id="5153" class="lb lc iq mh b gy mp mm l mn mo">type:'DECREMENT'</span><span id="39b7" class="lb lc iq mh b gy mp mm l mn mo">}</span><span id="5c65" class="lb lc iq mh b gy mp mm l mn mo">}</span></pre><p id="e8c7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在reducer.js中，我们将初始状态设置为0，并将动作传递给reducer。如果类型为“增量”，状态将增加1。如果类型为“减量”，状态将减1。否则将返回当前状态。</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="e73d" class="lb lc iq mh b gy ml mm l mn mo">export const counterReducer = (state=0, action) =&gt;{</span><span id="8a64" class="lb lc iq mh b gy mp mm l mn mo">switch (action.type) {</span><span id="d391" class="lb lc iq mh b gy mp mm l mn mo">case 'INCREMENT':</span><span id="ceb4" class="lb lc iq mh b gy mp mm l mn mo">return state + 1;</span><span id="1265" class="lb lc iq mh b gy mp mm l mn mo">case 'DECREMENT':</span><span id="cad9" class="lb lc iq mh b gy mp mm l mn mo">return state - 1;</span><span id="0936" class="lb lc iq mh b gy mp mm l mn mo">default:</span><span id="0eb5" class="lb lc iq mh b gy mp mm l mn mo">return state;</span><span id="6e0d" class="lb lc iq mh b gy mp mm l mn mo">}</span><span id="bf6c" class="lb lc iq mh b gy mp mm l mn mo">}</span></pre><p id="8235" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们可以去创建一个商店。</p><p id="972b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在store.js中，我们需要从刚刚创建的“redux”和counterReducer导入createStore</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="e9f5" class="lb lc iq mh b gy ml mm l mn mo">import {createStore} from 'redux';</span><span id="e1d5" class="lb lc iq mh b gy mp mm l mn mo">import {counterReducer} from './reducer';</span><span id="9683" class="lb lc iq mh b gy mp mm l mn mo">const store = createStore(counterReducer);</span><span id="0316" class="lb lc iq mh b gy mp mm l mn mo">export default store;</span></pre><h2 id="5f6d" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">组件A</h2><p id="b5d6" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">在组件A中，我们将添加两个按钮来增加和减少值。从动作中导入增量和减量。从“react-redux”导入useSelector和useDispatch。一个是从商店获取状态。另一个是调度动作和更新状态。</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="b226" class="lb lc iq mh b gy ml mm l mn mo">import React from 'react'</span><span id="b107" class="lb lc iq mh b gy mp mm l mn mo">import { View, Text, Button } from 'react-native'</span><span id="295b" class="lb lc iq mh b gy mp mm l mn mo">import {useSelector, useDispatch} from 'react-redux'</span><span id="05e4" class="lb lc iq mh b gy mp mm l mn mo">import {increment,decrement} from '../store/action'</span><span id="d365" class="lb lc iq mh b gy mp mm l mn mo">const ComponentA = () =&gt; {</span><span id="9429" class="lb lc iq mh b gy mp mm l mn mo">const counter = useSelector(state =&gt; state);</span><span id="1da8" class="lb lc iq mh b gy mp mm l mn mo">const dispatch = useDispatch();</span><span id="c9ce" class="lb lc iq mh b gy mp mm l mn mo">return (</span><span id="9f34" class="lb lc iq mh b gy mp mm l mn mo">&lt;View&gt;</span><span id="e421" class="lb lc iq mh b gy mp mm l mn mo">&lt;Text&gt;ComponentA {counter}&lt;/Text&gt;</span><span id="05bc" class="lb lc iq mh b gy mp mm l mn mo">&lt;Button title="+" onPress={()=&gt;dispatch(increment())}/&gt;</span><span id="f150" class="lb lc iq mh b gy mp mm l mn mo">&lt;Button title="-" onPress={()=&gt;dispatch(decrement())}/&gt;</span><span id="b304" class="lb lc iq mh b gy mp mm l mn mo">&lt;/View&gt;</span><span id="e286" class="lb lc iq mh b gy mp mm l mn mo">)</span><span id="7153" class="lb lc iq mh b gy mp mm l mn mo">}</span><span id="385c" class="lb lc iq mh b gy mp mm l mn mo">export default ComponentA</span></pre><h2 id="a1a5" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">成分B</h2><p id="52ca" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">接下来，我们还要创建另一个组件。这个组件只是显示状态。这只是为了说明分量A和B具有相同的值。</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="c35b" class="lb lc iq mh b gy ml mm l mn mo">import React from 'react'</span><span id="b35d" class="lb lc iq mh b gy mp mm l mn mo">import { View, Text } from 'react-native'</span><span id="a209" class="lb lc iq mh b gy mp mm l mn mo">import {useSelector} from 'react-redux'</span><span id="3277" class="lb lc iq mh b gy mp mm l mn mo">const ComponentB = () =&gt; {</span><span id="513a" class="lb lc iq mh b gy mp mm l mn mo">const counter = useSelector(state =&gt; state);</span><span id="2bd4" class="lb lc iq mh b gy mp mm l mn mo">return (</span><span id="e222" class="lb lc iq mh b gy mp mm l mn mo">&lt;View&gt;</span><span id="7364" class="lb lc iq mh b gy mp mm l mn mo">&lt;Text&gt;ComponentB {counter}&lt;/Text&gt;</span><span id="fd64" class="lb lc iq mh b gy mp mm l mn mo">&lt;/View&gt;</span><span id="f008" class="lb lc iq mh b gy mp mm l mn mo">)</span><span id="fac4" class="lb lc iq mh b gy mp mm l mn mo">}</span><span id="c523" class="lb lc iq mh b gy mp mm l mn mo">export default ComponentB</span></pre><p id="78d9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">App.js</p><p id="eefc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们需要在App.js中导入组件A和组件B。从' react-redux '中导入提供者，用提供者包装这两个组件，并使redux存储对这两个组件可用。</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="4fbc" class="lb lc iq mh b gy ml mm l mn mo">import React from 'react';</span><span id="a4ca" class="lb lc iq mh b gy mp mm l mn mo">import { StyleSheet } from 'react-native';</span><span id="6304" class="lb lc iq mh b gy mp mm l mn mo">import ComponentA from './components/ComponentA';</span><span id="13af" class="lb lc iq mh b gy mp mm l mn mo">import ComponentB from './components/ComponentB';</span><span id="da08" class="lb lc iq mh b gy mp mm l mn mo">import {Provider} from 'react-redux';</span><span id="becf" class="lb lc iq mh b gy mp mm l mn mo">import store from './store/store'</span><span id="edf0" class="lb lc iq mh b gy mp mm l mn mo">export default function App() {</span><span id="023d" class="lb lc iq mh b gy mp mm l mn mo">return (</span><span id="65ca" class="lb lc iq mh b gy mp mm l mn mo">&lt;Provider store={store}&gt;</span><span id="f965" class="lb lc iq mh b gy mp mm l mn mo">&lt;ComponentA/&gt;</span><span id="4c48" class="lb lc iq mh b gy mp mm l mn mo">&lt;ComponentB/&gt;</span><span id="fe1a" class="lb lc iq mh b gy mp mm l mn mo">&lt;/Provider&gt;</span><span id="d53c" class="lb lc iq mh b gy mp mm l mn mo">);</span><span id="d3df" class="lb lc iq mh b gy mp mm l mn mo">}</span><span id="ad33" class="lb lc iq mh b gy mp mm l mn mo">const styles = StyleSheet.create({</span><span id="2ac2" class="lb lc iq mh b gy mp mm l mn mo">container: {</span><span id="373f" class="lb lc iq mh b gy mp mm l mn mo">flex: 1,</span><span id="d34a" class="lb lc iq mh b gy mp mm l mn mo">backgroundColor: '#fff',</span><span id="4f8b" class="lb lc iq mh b gy mp mm l mn mo">alignItems: 'center',</span><span id="a11e" class="lb lc iq mh b gy mp mm l mn mo">justifyContent: 'center',</span><span id="faa7" class="lb lc iq mh b gy mp mm l mn mo">},</span><span id="edac" class="lb lc iq mh b gy mp mm l mn mo">});</span></pre><p id="2454" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，如果您测试应用程序，可以通过按“+”或“-”按钮将该值更改1。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/c58b74bd861657cd9cc35b5f0b3efa9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*vVN_XwYgAHyktzDSdct6dQ.png"/></div></figure><h2 id="650b" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">有效负载在运行</h2><p id="6e4a" class="pw-post-body-paragraph kf kg iq kh b ki ne jr kk kl nf ju kn ko ng kq kr ks nh ku kv kw ni ky kz la ij bi translated">为了使增量可以定制，我们需要对action creator进行一些修改。</p><p id="09b8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在action.js中，我们添加了参数并将默认值设置为1，因此如果函数中没有值传递，它将假定值增加1。</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="119d" class="lb lc iq mh b gy ml mm l mn mo">export const increment = (num=1) =&gt; {</span><span id="e4c3" class="lb lc iq mh b gy mp mm l mn mo">return {</span><span id="5922" class="lb lc iq mh b gy mp mm l mn mo">type:'INCREMENT',</span><span id="001a" class="lb lc iq mh b gy mp mm l mn mo">payload:num</span><span id="6283" class="lb lc iq mh b gy mp mm l mn mo">}</span><span id="aa1f" class="lb lc iq mh b gy mp mm l mn mo">}</span></pre><p id="6890" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">回到App.js，我们从+1更改为+5，然后将值5传递给函数，您应该会看到值增加了5。</p><pre class="lv lw lx ly gt mg mh mi mj aw mk bi"><span id="2003" class="lb lc iq mh b gy ml mm l mn mo">import React from 'react'</span><span id="5722" class="lb lc iq mh b gy mp mm l mn mo">import { View, Text, Button } from 'react-native'</span><span id="97b0" class="lb lc iq mh b gy mp mm l mn mo">import {useSelector, useDispatch} from 'react-redux'</span><span id="5198" class="lb lc iq mh b gy mp mm l mn mo">import {increment,decrement} from '../store/action'</span><span id="0898" class="lb lc iq mh b gy mp mm l mn mo">const ComponentA = () =&gt; {</span><span id="91f2" class="lb lc iq mh b gy mp mm l mn mo">const counter = useSelector(state =&gt; state);</span><span id="29ab" class="lb lc iq mh b gy mp mm l mn mo">const dispatch = useDispatch();</span><span id="5d4d" class="lb lc iq mh b gy mp mm l mn mo">return (</span><span id="e55f" class="lb lc iq mh b gy mp mm l mn mo">&lt;View&gt;</span><span id="351c" class="lb lc iq mh b gy mp mm l mn mo">&lt;Text&gt;ComponentA {counter}&lt;/Text&gt;</span><span id="a52f" class="lb lc iq mh b gy mp mm l mn mo"><strong class="mh ir">&lt;Button title="+5" onPress={()=&gt;dispatch(increment(5))}/&gt;</strong></span><span id="a15d" class="lb lc iq mh b gy mp mm l mn mo">&lt;Button title="-" onPress={()=&gt;dispatch(decrement())}/&gt;</span><span id="982b" class="lb lc iq mh b gy mp mm l mn mo">&lt;/View&gt;</span><span id="a6dd" class="lb lc iq mh b gy mp mm l mn mo">)</span><span id="2d32" class="lb lc iq mh b gy mp mm l mn mo">}</span><span id="caec" class="lb lc iq mh b gy mp mm l mn mo">export default ComponentA</span></pre><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/ba19da9c3154245627503539c9365f15.png" data-original-src="https://miro.medium.com/v2/resize:fit:602/format:webp/1*7jO4TZvK7M6WGXh6AIjmbg.png"/></div></figure><p id="ac60" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">源代码:</strong></p><div class="nm nn gp gr no np"><a href="https://www.udemy.com/course/react-native-expo-for-multiplatform-ios-android-mobile-app-development/?couponCode=75C8FF31C25264702211" rel="noopener  ugc nofollow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">React native Expo支持多平台移动应用开发</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">他是一名注册教师，在javascript、物理、数学和统计方面有超过10年的教学经验…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">www.udemy.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od me np"/></div></div></a></div><p id="16f6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">免费YouTube教程:</strong></p><div class="nm nn gp gr no np"><a href="https://www.youtube.com/channel/UCu4-4FnutvSHVo9WHvq80Ww?sub_confirmation=1" rel="noopener  ugc nofollow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">ckmobile</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">无论你是在后台还是前台工作，JavaScript现在都非常重要。NodeJS、Angular、VueJS或React all…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">www.youtube.com</p></div></div><div class="ny l"><div class="oe l oa ob oc ny od me np"/></div></div></a></div><p id="5384" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">关注我们:</strong></p><p id="00f9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae of" href="https://www.linkedin.com/company/ckmobi/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/company/ckmobi/</a></p><p id="511b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae of" href="https://twitter.com/ckmobilejavasc1" rel="noopener ugc nofollow" target="_blank">https://twitter.com/ckmobilejavasc1</a></p></div></div>    
</body>
</html>