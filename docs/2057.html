<html>
<head>
<title>Create a Whack a Mole Game with React and JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React和JavaScript创建一个打地鼠游戏</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-whack-a-mole-game-with-react-and-javascript-4e4743e034af?source=collection_archive---------4-----------------------#2021-05-01">https://javascript.plainenglish.io/create-a-whack-a-mole-game-with-react-and-javascript-4e4743e034af?source=collection_archive---------4-----------------------#2021-05-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/56e1ba143c6932f18ab4f8bc6b174e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pkM5TwE4uXTYARhf"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@anspchee?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Al Soot</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2101" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">React是一个易于使用的JavaScript框架，让我们可以创建前端应用程序。</p><p id="497b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用React和JavaScript创建一个打地鼠游戏。</p><h1 id="bcb5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建项目</h1><p id="a1b8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用Create React App创建React项目。</p><p id="5322" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要安装它，我们运行:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="011e" class="mn lc iq mj b gy mo mp l mq mr">npx create-react-app whack-a-mole</span></pre><p id="5666" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和NPM一起创建我们的React项目。</p><h1 id="c534" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建一个打地鼠游戏</h1><p id="e01d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了创建打地鼠游戏，我们编写:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ca28" class="mn lc iq mj b gy mo mp l mq mr">import React, { useState } from "react";</span><span id="a70e" class="mn lc iq mj b gy ms mp l mq mr">export default function App() {<br/>  const [index, setIndex] = useState(0);<br/>  const [score, setScore] = useState(0);<br/>  const [timer, setTimer] = useState();</span><span id="48ee" class="mn lc iq mj b gy ms mp l mq mr">  const generateIndex = () =&gt; {<br/>    setIndex(Math.floor(Math.random() * 6));<br/>  };</span><span id="1c8b" class="mn lc iq mj b gy ms mp l mq mr">  const startGame = () =&gt; {<br/>    const timer = setInterval(generateIndex, 2000);<br/>    setTimer(timer);<br/>  };</span><span id="86b7" class="mn lc iq mj b gy ms mp l mq mr">  const endGame = () =&gt; {<br/>    clearInterval(timer);<br/>    setScore(0);<br/>    setIndex(0);<br/>  };</span><span id="fce9" class="mn lc iq mj b gy ms mp l mq mr">  const onClick = (n) =&gt; {<br/>    if (index === n) {<br/>      setScore((score) =&gt; score + 1);<br/>    }<br/>  };</span><span id="246a" class="mn lc iq mj b gy ms mp l mq mr">  return (<br/>    &lt;div&gt;<br/>      &lt;style&gt;<br/>        {`<br/>        .hole {<br/>          width: 50px;<br/>          height: 50px;<br/>          border: 1px solid black;<br/>          border-radius: 50%;<br/>        }<br/>        <br/>        .container {<br/>          display: inline-block;<br/>        }<br/>        <br/>        img {<br/>          width: 50px;<br/>          height: 50px;<br/>        }<br/>      `}<br/>      &lt;/style&gt;<br/>      &lt;button onClick={startGame}&gt;start game&lt;/button&gt;<br/>      &lt;button onClick={endGame}&gt;end game&lt;/button&gt;<br/>      &lt;p&gt;score: {score}&lt;/p&gt;<br/>      &lt;div&gt;<br/>        {Array(6)<br/>          .fill()<br/>          .map((_, n) =&gt; {<br/>            if (index === n) {<br/>              return (<br/>                &lt;div className="container"&gt;<br/>                  &lt;img<br/>                    src="https://grid.gograph.com/happy-mole-cartoon-vector-art_gg68718247.jpg"<br/>                    alt="mole"<br/>                    onClick={() =&gt; onClick(n)}<br/>                  /&gt;<br/>                &lt;/div&gt;<br/>              );<br/>            } else {<br/>              return (<br/>                &lt;div className="container"&gt;<br/>                  &lt;div className="hole"&gt;&lt;/div&gt;<br/>                &lt;/div&gt;<br/>              );<br/>            }<br/>          })}<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="4c33" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建了<code class="fe mt mu mv mj b">index</code>、<code class="fe mt mu mv mj b">score</code>和<code class="fe mt mu mv mj b">timer</code>状态。</p><p id="5f1a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">index</code>是显示鼹鼠的div的索引。</p><p id="f5ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在那下面，我们有<code class="fe mt mu mv mj b">generateIndex</code>函数来生成显示模型的索引。</p><p id="c3bb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">startGame</code>调用<code class="fe mt mu mv mj b">setInterval</code>启动定时器。</p><p id="7fe5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe mt mu mv mj b">setTimer</code>来设置返回的<code class="fe mt mu mv mj b">timer</code>。</p><p id="c983" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">endGame</code>函数调用<code class="fe mt mu mv mj b">clearInterval</code>来清除定时器。</p><p id="7143" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还调用<code class="fe mt mu mv mj b">setScore</code>和<code class="fe mt mu mv mj b">setIndex</code>将<code class="fe mt mu mv mj b">score</code>和<code class="fe mt mu mv mj b">index</code>的值重置为0。</p><p id="9761" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们还有<code class="fe mt mu mv mj b">onClick</code>功能来检查<code class="fe mt mu mv mj b">index</code>是否与<code class="fe mt mu mv mj b">n</code>相同。</p><p id="a9fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">n</code>是我们点击的div的索引。</p><p id="256a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果它们相同，那么我们通过回调调用<code class="fe mt mu mv mj b">setScore</code>来增加分数，以返回现有的<code class="fe mt mu mv mj b">score</code>加1。</p><p id="5d10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在那之下，我们有一些样式来使div变圆。</p><p id="ab6c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe mt mu mv mj b">border-radius</code>轮着他们。</p><p id="5bff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在那下面，我们有按钮，点击它们分别调用<code class="fe mt mu mv mj b">startGame</code>和<code class="fe mt mu mv mj b">endGame</code>。</p><p id="d4b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们添加<code class="fe mt mu mv mj b">score</code>显示。</p><p id="56a3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们将一个包含6个插槽的数组渲染到div中。</p><p id="455a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe mt mu mv mj b">index</code>与<code class="fe mt mu mv mj b">n</code>相同，我们显示鼹鼠图像。</p><p id="f073" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们显示一个空洞。</p><p id="6702" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mt mu mv mj b">img</code>元素有一个<code class="fe mt mu mv mj b">onClick</code>处理程序，它调用<code class="fe mt mu mv mj b">onClick</code>来检查所单击的是否是显示鼹鼠图像的地方。</p><h1 id="a96e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="9d1e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用React和JavaScript轻松创建一个打地鼠游戏。</p><p id="2af0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>