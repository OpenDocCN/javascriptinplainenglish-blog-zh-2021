<html>
<head>
<title>Node Templating: Handlebars for Express</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">节点模板化:快速手柄</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/node-templating-handlebars-for-express-edb4e17b15c7?source=collection_archive---------24-----------------------#2021-06-14">https://javascript.plainenglish.io/node-templating-handlebars-for-express-edb4e17b15c7?source=collection_archive---------24-----------------------#2021-06-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/e5a89bee7fd78e6b3cd2f375f101d61f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SYUpRjE-JAmY7aPD"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@jstrippa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">James Harrison</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="224b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">参加完一个婚礼后，我对模板这个想法产生了兴趣。当您发送邀请时，除了“收件人:”部分，每个收件人的所有信息都是相同的。你的请柬正文是一样的，但对每个人都有一句问候。动态改变这个问候语的能力就是模板化的一个例子。</p><p id="362c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">新程序员不断被教导要保持代码干爽，意思是“不要重复自己”。更好的代码是动态的和可重用的。有多种方法允许使用模板，但我将讨论一种与Node相关的方法，因为这是我最近的博客主题。</p><p id="fcc9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Handlebars是一个流行的模板引擎和JavaScript库，可以很好地与Express服务器配对。首先，在NPM上下载哈佛商学院的软件包。</p><p id="d818" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">安装完成后，您需要一行代码来开始。写app.set("查看引擎"，" hbs ")。这告诉Express模板引擎已经安装好，可以使用了。</p><p id="938e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是，您将呈现动态页面，而不是通过公共文件夹提供静态文档，动态页面必须位于根文件夹中的“views”目录中。</p><p id="33e9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这个视图文件夹中，命名文件并以。hbs扩展，它具有内置的VSCode支持。这些文件基本上是HTML文档，但它们允许特殊的表达式，并使用Handlebars和Express呈现。</p><p id="dbb8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">要使页面在浏览器中可访问，请编写一个app.get来建立路由，并将请求和响应作为参数。例如，如果您在视图目录“about.hbs”中创建了一个新文件，您的代码将从app.get("about "，(req，res) = &gt;开始</p><p id="282b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">与静态页面呈现的区别在于，不是编写res.send并提供类似“欢迎使用我的关于页面”的响应，而是使用res.render，这允许您呈现其中一个模板。您现在可以选择在Node中提供值，而不是硬编码到HTML文件中。</p><p id="e5b4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在可以使用Node将值注入到模板中。在res.render中，包含一个对象，该对象包含希望模板显示的值。假设你想给你的页面起一个标题，你可以写</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="98c9" class="lh li in ld b gy lj lk l ll lm">res.render(“about”, {</span><span id="8a76" class="lh li in ld b gy ln lk l ll lm">title: “Invitations”,</span><span id="2180" class="lh li in ld b gy ln lk l ll lm">event: “Wedding”</span><span id="07b0" class="lh li in ld b gy ln lk l ll lm">})</span></pre><p id="0c89" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在你的“about”文件中，你所需要的是双括号来注入值。您的标记现在可以编写如下:</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="dce8" class="lh li in ld b gy lj lk l ll lm">&lt;h1&gt;{{title}}&lt;/h1&gt;<br/>&lt;p&gt;We can’t wait to have you at our {{event}}! &lt;/p&gt;</span></pre><p id="8c82" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这个过程让我想起了为React编写JSX时经常使用的插值。我现在有了一种用JavaScript创建动态内容的新方法。</p><p id="d073" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lo">更多内容尽在</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="lo">plain English . io</em></a></p></div></div>    
</body>
</html>