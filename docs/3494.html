<html>
<head>
<title>Synchronous Script Loading with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript同步加载脚本</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/synchronous-script-loading-with-javascript-531b7c44f9a7?source=collection_archive---------6-----------------------#2021-07-14">https://javascript.plainenglish.io/synchronous-script-loading-with-javascript-531b7c44f9a7?source=collection_archive---------6-----------------------#2021-07-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2e3b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建同步加载JavaScript文件的函数</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bf266fcf2ba4117f01778087ed859df3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-OyZ-vy55h7DLM5CuIDEjQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Synchronous Script Loading in JavaScript</figcaption></figure><p id="5021" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这篇由<a class="ae lr" href="https://www.youtube.com/channel/UCo-h1M-5M6Y5D4Lgut8ge4w" rel="noopener ugc nofollow" target="_blank"> TechnoFunnel </a>撰写的文章中，我们将讨论如何让<strong class="kx ir">动态加载脚本</strong>。在我们的代码中有多种加载脚本的方式。这篇文章的重点是l <strong class="kx ir">动态加载脚本，并确保脚本列表以同步的方式加载。</strong></p><h1 id="01da" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">动态加载JavaScript</h1><p id="81f7" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">在下面的代码中，我们将看到如何动态加载脚本。我们经常需要动态加载脚本。有些情况下，只有在特定条件下才需要脚本。在这种情况下，我们需要在条件满足时加载脚本。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae lr" href="https://gist.github.com/Mayankgupta688/85306d457493008cc127f324384ce90c" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/Mayankgupta688/85306d457493008cc127f324384ce90c</a></figcaption></figure><p id="1e4e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在上面的代码中，我们使用JavaScript创建了一个脚本标签，并将该脚本标签附加到正文中。当脚本被附加到主体中时，它将被执行，对象和函数可供进一步使用。</p><p id="9383" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">接下来，我们需要在代码中添加以下支持功能:</p><ol class=""><li id="dfbb" class="mr ms iq kx b ky kz lb lc le mt li mu lm mv lq mw mx my mz bi translated">管理我们想要加载的脚本列表</li><li id="89c5" class="mr ms iq kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">同步加载脚本并保持顺序</li><li id="aa8a" class="mr ms iq kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">等待加载前一个脚本。</li></ol><h1 id="5152" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为什么我们需要同步加载？</h1><p id="7201" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">在某些情况下，要加载的JavaScript依赖于其他一些JavaScript文件。如果没有加载相关的JavaScript，当前的JavaScript文件将会中断。示例“jQuery Ui”依赖于“jQuery ”,因此为了使用和下载“jQuery Ui ”,我们需要确保“jQuery”已经在浏览中加载。因此，JavaScript的同步加载非常重要。</p><p id="69c9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们看看如何以同步方式动态加载脚本。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae lr" href="https://gist.github.com/Mayankgupta688/b51ff52402f1006b715d0eb3e33ee960" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/Mayankgupta688/b51ff52402f1006b715d0eb3e33ee960</a></figcaption></figure><p id="2770" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了使用这个功能，我们需要以下列方式调用它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae lr" href="https://gist.github.com/Mayankgupta688/faf5a727ca572f691bc17b3021914040" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/Mayankgupta688/faf5a727ca572f691bc17b3021914040</a></figcaption></figure><h2 id="d50f" class="nf lt iq bd lu ng nh dn ly ni nj dp mc le nk nl me li nm nn mg lm no np mi nq bi translated">上述代码的解释:</h2><p id="d266" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">下面是对上述顺序加载代码的简短解释:</p><ol class=""><li id="0918" class="mr ms iq kx b ky kz lb lc le mt li mu lm mv lq mw mx my mz bi translated">我们已经创建了一个名为“sequentialFileLoader”的life，并从该life中公开了一个函数“loadScript ”,该函数将可以像“sequential file loader . loadScript”一样在外部使用。</li><li id="669b" class="mr ms iq kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">我们接受一个JavaScript文件列表作为数组，我们想要加载它。指定的脚本将按照要求的顺序加载。对于每个脚本，我们执行代码来动态加载它。</li><li id="32bd" class="mr ms iq kx b ky na lb nb le nc li nd lm ne lq mw mx my mz bi translated">一旦我们在HTML主体中添加了脚本。我们添加了“onload”事件，这样一旦文件被加载，它就可以递归地调用同一个函数来加载下一个脚本。从而确保仅在当前脚本的“onload”事件之后加载下一个脚本。</li></ol><p id="3472" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这样我们就可以动态地按顺序加载<strong class="kx ir">脚本。</strong></p><p id="683b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nr">更多内容请看</em><a class="ae lr" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="nr">plain English . io</em></a></p></div></div>    
</body>
</html>