<html>
<head>
<title>Redux Logger—Your Next Debugging Tool (The Art of Logging)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">redux Logger——您的下一个调试工具(日志的艺术)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/redux-logger-your-next-debugging-tool-the-art-of-logging-e1999cbbd146?source=collection_archive---------1-----------------------#2021-08-19">https://javascript.plainenglish.io/redux-logger-your-next-debugging-tool-the-art-of-logging-e1999cbbd146?source=collection_archive---------1-----------------------#2021-08-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="7429" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用redux-logger以更清晰和精确的方式记录redux状态流。您的下一个调试工具。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/f49ae87fec64c972747000e2574494b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XSBPWpMmZCLNqdDjbuDKAw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">The developer's <a class="ae ks" href="https://levelup.gitconnected.com/javascript-basics-console-log-8532b446db22" rel="noopener ugc nofollow" target="_blank">debugging</a> art</figcaption></figure><p id="13fe" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你真是个天才。你已经学会了React，然后是Context API，然后是Redux。太美了。现在你已经爱上了Redux——你的状态管理库。直到昨天你都做得很好。嘣。一个错误，你一无所知。你正在为此烦恼，找不到是什么让这个bug困扰你。现在你要一行一行的去翻1000+行的代码库去调试。更加烦躁。</p><blockquote class="lp"><p id="81b8" class="lq lr in bd ls lt lu lv lw lx ly lo dk translated">调试是一门艺术——一位调试艺术家说</p></blockquote><p id="a481" class="pw-post-body-paragraph kt ku in kv b kw lz jo ky kz ma jr lb lc mb le lf lg mc li lj lk md lm ln lo ig bi translated">是的，调试是一门艺术，很少有人掌握它。我们其余的人就像，"<em class="me">向StackOverflow </em>致敬。"存在各种调试工具，包括强大的浏览器开发工具或定制工具。正如文章名称所暗示的，我在这里讨论Redux环境中的调试(这是我个人遇到问题的地方)。Redux帮助管理应用程序的状态。但是当你写越来越多的动作时，发现哪个触发了什么就变得很笨拙了。<em class="me">是什么导致了国家的变化？</em></p><p id="d7b2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">具体来说，对于Redux，已经创建了一些工具来帮助您了解更大的情况。一个这样的工具是Redux Devtools。</p><div class="mf mg gp gr mh mi"><a href="https://github.com/zalmoxisus/redux-devtools-extension" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd io gy z fp mn fr fs mo fu fw im bi translated">GitHub-zalmoxisus/Redux-dev tools-extension:Redux dev tools扩展。</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">请注意，从v2.7开始，window.devToolsExtension被重命名为window。__REDUX_DEVTOOLS_EXTENSION__ /…</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">github.com</p></div></div><div class="mr l"><div class="ms l mt mu mv mr mw km mi"/></div></div></a></div><p id="e80d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">它是一个跟踪应用程序状态变化的扩展。您可以跟踪、跳转、跳过任何已调度的操作。这对你的工作流程有好处。但是我更喜欢不同的。<em class="me">嗯？</em></p><p id="aa83" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Redux Logger是我的最爱。简单易懂(至少对我来说)。它与Redux Devtools相同，但它不是一个扩展——相反，它是一个存在于您的应用程序中的日志记录器。一个包裹！</p><blockquote class="lp"><p id="fc2e" class="lq lr in bd ls lt lu lv lw lx ly lo dk translated">一个production Redux日志记录工具，让您重放问题，就像它们发生在您自己的浏览器中一样。它不需要猜测错误发生的原因，也不需要用户提供截图和日志转储，而是让您重放Redux操作+状态、网络请求、控制台日志，并查看用户所看到的视频——log rocket</p></blockquote><p id="58b6" class="pw-post-body-paragraph kt ku in kv b kw lz jo ky kz ma jr lb lc mb le lf lg mc li lj lk md lm ln lo ig bi translated">LogRocket是背后的创造者。它在贫民区相当有名，每周有6lakhs下载量。</p><p id="83ac" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">别再说什么和为什么了。</p><blockquote class="mx my mz"><p id="4a2e" class="kt ku me kv b kw kx jo ky kz la jr lb na ld le lf nb lh li lj nc ll lm ln lo ig bi translated"><em class="in">空谈不值钱，给我看看代码</em>——你可能会说。</p></blockquote><p id="fd72" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是没有哪个天才能够直接跳到代码上&amp;一眼就学会。如果这是真的，那么就真的没有必要记录和谈论。想想— <em class="me">如果NPM软件包的创建者直接向您展示他们的遗留代码而不是文档，会怎么样？很可怕，不是吗？Xd。</em></p><p id="8b14" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">无论如何，让我们进入代码库。我已经使用Redux和React创建了一个示例项目进行演示(您可以在React上使用您选择的任何框架)。这是一个有3个行动的基本项目(文章末尾有回购链接，所以继续前进)。</p><p id="e50c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">项目名称— Redux Bank。</p><p id="0d95" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">行动名称-信用、提款、捐赠。</p><p id="3766" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">州——总金额</p><h1 id="b7c6" class="nd ne in bd nf ng nh ni nj nk nl nm nn jt no ju np jw nq jx nr jz ns ka nt nu bi translated">装置</h1><p id="5928" class="pw-post-body-paragraph kt ku in kv b kw nv jo ky kz nw jr lb lc nx le lf lg ny li lj lk nz lm ln lo ig bi translated">要安装这个包，你可以使用Yarn或者NPM作为包管理器(我忘记告诉你了吗，节点安装是必须的？).</p><pre class="kd ke kf kg gt oa ob oc od aw oe bi"><span id="9a1a" class="of ne in ob b gy og oh l oi oj">npm i redux-logger</span></pre><p id="d2c4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">否则，</p><pre class="kd ke kf kg gt oa ob oc od aw oe bi"><span id="b251" class="of ne in ob b gy og oh l oi oj">yarn add redux-logger</span></pre><p id="376b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">虽然简单！</p><h1 id="fb5a" class="nd ne in bd nf ng nh ni nj nk nl nm nn jt no ju np jw nq jx nr jz ns ka nt nu bi translated">设置</h1><p id="e963" class="pw-post-body-paragraph kt ku in kv b kw nv jo ky kz nw jr lb lc nx le lf lg ny li lj lk nz lm ln lo ig bi translated">假设您已经克隆了演示存储库，或者您已经准备好redux应用程序来试用它——</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ok ol l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Default logger</figcaption></figure><p id="091f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">有两件事需要指出，</p><ol class=""><li id="b916" class="om on in kv b kw kx kz la lc oo lg op lk oq lo or os ot ou bi translated"><strong class="kv io">应用中间件</strong></li></ol><p id="0449" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Redux提供的一个插件，用于在被调用的动作和到达reducer的时刻之间嵌入任何类型的中间件。更好的视觉效果—</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ov"><img src="../Images/6af7ecd28a2f9f09255078c6b17089a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k8wpgLvvD_iciLDpho3dHQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><a class="ae ks" href="https://medium.com/chingu/understanding-redux-middleware-5d8fe63aabfb" rel="noopener">Action — Middleware — Reducer</a></figcaption></figure><p id="f80a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">说白了，就是在动作被调用之后，但到达reducer之前，你想调用的东西。中间。</p><p id="736c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一些著名的中间件——</p><ul class=""><li id="d67e" class="om on in kv b kw kx kz la lc oo lg op lk oq lo ow os ot ou bi translated">还原传奇</li><li id="9ea3" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated">还原-thunk</li><li id="3401" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated">redux-持久化</li><li id="c6a1" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated">redux-devtools(是)</li><li id="98f2" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated">redux-logger(哦耶)</li></ul><p id="1d2a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">2.<strong class="kv io">为什么【logger】&amp;为什么不应用中间件(logger) </strong></p><p id="4a45" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">可以直接将<code class="fe pc pd pe ob b">logger</code>传递给applyMiddleware。那我为什么要这样写呢？万一将来我需要另一个中间件，比如。，redux-thunk，然后为了将集合中间件传递给applyMiddleware，我使用了array(这是推荐的)。不管怎样，最后我还是要毁掉它。</p><p id="4589" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">注意</strong>——如果你必须使用不止一个中间件，那么总是把<code class="fe pc pd pe ob b">redux-logger</code>放在中间件列表的最后。</p><p id="a0d6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">调用操作并打开你的控制台，你应该看到这个(如果你和我使用相同的代码库)</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi pf"><img src="../Images/efbf673afe7a58c71166eecfbe57ecdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DE_7n56Qy0AP9f5cxzcstw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Logging…</figcaption></figure><p id="eba7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您可以清楚地看到您调度的那些操作。动作ACTION_NAME。对于每一个动作，<code class="fe pc pd pe ob b">redux-logger</code>都会记录这三件事(默认)。</p><ul class=""><li id="feaf" class="om on in kv b kw kx kz la lc oo lg op lk oq lo ow os ot ou bi translated"><strong class="kv io">前一状态</strong> —调度动作前的状态</li><li id="ecc8" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated"><strong class="kv io">动作</strong> —有效载荷任意的动作类型</li><li id="db72" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated"><strong class="kv io">下一个状态</strong> —完成动作后的状态，即发生任何变化后的状态。</li></ul><p id="fa25" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">很酷，不是吗？</p><p id="baaa" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">不，我不喜欢那些颜色，或者没有什么东西可以显示状态实际变化之间的差异，你可能会想。</p><p id="6792" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">不要担心，继续&amp;建立你自己的定制日志。<em class="me">真的吗？是的，这个软件包可以让你创建自己的日志程序。看看我的定制记录器—</em></p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ok ol l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Custom Logger</figcaption></figure><p id="3989" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">阐述…</p><ul class=""><li id="a9c6" class="om on in kv b kw kx kz la lc oo lg op lk oq lo ow os ot ou bi translated"><strong class="kv io">创建记录器</strong> —创建带有选项的自定义记录器</li><li id="c13a" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated"><strong class="kv io">折叠</strong> —默认情况下，动作是展开的。如果您不希望这样，请使用折叠。您可以更具体地折叠某些操作。像我一样。我不想看到捐赠行动的细节，所以我折叠(因为我捐赠所有的钱)。</li><li id="b2bd" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated"><strong class="kv io">谓词</strong> —记录某种类型的操作。在我的代码中，这是信用行动。除了在控制台中的谓词中指定的操作之外，您将看不到任何操作。只有信贷活动的变化将被记录，其余的被忽略。</li><li id="97c8" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated"><strong class="kv io"> diff </strong> —类似于git diff。可以直接看状态的diff。</li><li id="6a5e" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated"><strong class="kv io">持续时间&amp;时间戳</strong> —调用动作所用的时间。</li><li id="a220" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated"><strong class="kv io">颜色</strong> —随心所欲上色。<em class="me">尽情享受。</em></li><li id="2959" class="om on in kv b kw ox kz oy lc oz lg pa lk pb lo ow os ot ou bi translated"><strong class="kv io">级别</strong> —如果您想使用其他类型的控制台，例如。、警告、信息、错误等。，而不是默认的记录器或自定义颜色。</li></ul><p id="95dd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">就是这样。您的自定义记录器。你所需要知道的。给我看看结果，<em class="me">请</em>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi pf"><img src="../Images/bdc1c267d2457d8fdc3a956104c390e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*akQD78Tvc4XHTc-suL1DVQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Custom logging…</figcaption></figure><p id="4f41" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">看看那个<em class="me">差</em>。我还没有在这里使用level &amp;谓词选项。你们可以自己玩。点击了解更多信息<a class="ae ks" href="https://www.npmjs.com/package/redux-logger" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="d4dc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，它对调试困扰你的错误没有帮助吗？当然，感谢造物主。这将有助于您关注状态变化。</p><p id="0bb1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">还有什么？<em class="me">去把那个</em><strong class="kv io"><em class="me">Bug</em></strong><em class="me">拿出来。</em></p><p id="3657" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是用于演示的存储库链接—</p><div class="mf mg gp gr mh mi"><a href="https://github.com/TidbitsJS/Redux-Bank" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd io gy z fp mn fr fs mo fu fw im bi translated">GitHub - TidbitsJS/Redux-Bank</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">这个项目是用Create React App引导的。使用ReactJS &amp; Redux制作的简单应用程序。没有使用…</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">github.com</p></div></div><div class="mr l"><div class="pg l mt mu mv mr mw km mi"/></div></div></a></div><p id="0276" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">奥伦梅耶·德瓦姆等人👋</p><p id="4ad6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="me">更多内容请看</em><a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="me">plain English . io</em></strong></a></p></div></div>    
</body>
</html>