<html>
<head>
<title>A Quick Look at the JavaScript apply() Method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速浏览一下JavaScript apply()方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/a-quick-look-at-the-javascript-apply-method-26fcd97c9ccb?source=collection_archive---------10-----------------------#2021-08-22">https://javascript.plainenglish.io/a-quick-look-at-the-javascript-apply-method-26fcd97c9ccb?source=collection_archive---------10-----------------------#2021-08-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/c5a43b23e3dcc86567e2e2a362a99274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*STrvjUFZAADmmxfcYMTb8g.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@kellysikkema?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Kelly Sikkema</a> on <a class="ae jz" href="https://unsplash.com/s/photos/javascript-programmers?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d2e7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这三个教程的第三个中，我们将检查<code class="fe ky kz la lb b">apply()</code>方法的使用。</p><p id="0dba" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们的主要焦点是重构之前的<br/>教程的成品，以便它利用<code class="fe ky kz la lb b">apply()</code>方法，而不是<br/>T2方法。</p><p id="e3c8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您还没有阅读本系列的第二篇教程，您最好通读一下JavaScript的<code class="fe ky kz la lb b"><a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/a-quick-look-at-the-javascript-bind-method-part-ii-f08bc9451dcc"><strong class="kc io">bind()</strong></a></code><a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/a-quick-look-at-the-javascript-bind-method-part-ii-f08bc9451dcc"><strong class="kc io"><em class="lc">方法</em> </strong> </a>。当然，如果您还没有完成本系列的第一个教程，您最好复习一下<a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/a-quick-look-at-the-javascript-call-method-b5b2383eb4e6"> <strong class="kc io"> <em class="lc">快速浏览一下JavaScript</em></strong></a><code class="fe ky kz la lb b"><a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/a-quick-look-at-the-javascript-call-method-b5b2383eb4e6"><strong class="kc io">call()</strong></a></code><a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/a-quick-look-at-the-javascript-call-method-b5b2383eb4e6"><strong class="kc io"><em class="lc">方法</em> </strong> </a>，它包含了本教程中已完成项目的所有先决条件信息。</p><p id="bc6c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们的起点将是本系列<br/>第二篇教程中完成的代码。</p><h1 id="a03e" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">简要回顾</h1><p id="9284" class="pw-post-body-paragraph ka kb in kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx ig bi translated">上一篇教程给出了一个简单的演示应用程序，演示了<code class="fe ky kz la lb b">bind()</code>方法的使用，而在本教程中，我们将重构同一个应用程序来利用<code class="fe ky kz la lb b">apply()</code>方法。</p><p id="f0f8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">下图1 </strong>显示了本教程的起点——应用程序的打开屏幕。</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mg"><img src="../Images/12a8fdcc023a2aa37681a566dea3e6b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QzuNM3gSwcUqYiCYoSMKAQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><strong class="bd ml">Fig. 1 My Favorite Dogs Opening Screen</strong></figcaption></figure><p id="f2dc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">完成后，重构后的应用程序应该产生与其前两个应用程序完全相同的输出。</p><h1 id="7966" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">我们开始吧</h1><p id="55f0" class="pw-post-body-paragraph ka kb in kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx ig bi translated">要开始，请下载<a class="ae jz" href="https://github.com/RHieger/my-favorite-dogs/blob/4b7d6c7a4b71d40a42fa3bc12b0eb25ea7e0c521/starter-code-tutorial-3.zip" rel="noopener ugc nofollow" target="_blank">教程入门代码</a>。只需点击Github链接中的下载按钮，如下图<strong class="kc io">图2 </strong>所示:</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mm"><img src="../Images/430f2f861fd4d064be960103817117ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aKWqMMPlxV1zrhDrzcOpNA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><strong class="bd ml">Fig. 2 Github Starter Code Download Page</strong></figcaption></figure><p id="e1d0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您可以将归档文件解压缩到您的本地驱动器上，您将看到如下文件结构，如下面的<strong class="kc io">图3 </strong>所示:</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mn"><img src="../Images/2976d21f85bd5c2115e0823fff8bfb7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zRRX3hQtpAADd-8kvY08jQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><strong class="bd ml">Fig. 3 Starter Code File Structure</strong></figcaption></figure><h1 id="6a75" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">需要改变什么？</h1><p id="36a0" class="pw-post-body-paragraph ka kb in kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx ig bi translated">应用程序的两个主要部分需要重构。第一个是<strong class="kc io">index.html</strong>文件，它本身主要是因为语义原因和与重构后的应用程序目的的一致性而改变的。第二个是<strong class="kc io"> app.js </strong>文件，这里的改动更加广泛和实质性。</p><p id="7fb6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">下面的图4 </strong>显示了需要重构的第一块代码:</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mo"><img src="../Images/360bfc2aa6dc7fdda3dea7b12319d577.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5aH80mwMlvkWSinbRYTvQw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><strong class="bd ml">Fig. 4 The Dog Objects and the DogBreed Arrays Resulting from their Invocation</strong></figcaption></figure><p id="94e8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在图4 中，我们看到三个<strong class="kc io">狗</strong>物体。存储在这些对象中的值来自于<code class="fe ky kz la lb b">getDogInfo()</code>对象，在该对象上调用了<code class="fe ky kz la lb b">info()</code>方法，并将其绑定到<strong class="kc io">品种</strong>对象，该对象又包含了每个喜爱的狗品种的属性。</p><p id="5eab" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在下面的代码中，<strong class="kc io"> dog1 </strong>到<strong class="kc io"> dog3 </strong>被调用，返回分配给<strong class="kc io"> dogBreed1 </strong>到<strong class="kc io"> dogBreed3 </strong>的三个数组。这是上一个教程中使用的方法，用来收集填充三行关于最喜欢的狗品种的数据。</p><p id="7486" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">图5 </strong>显示了我们在本教程中关注的最后一块JavaScript代码:</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/e39b746fcbbb8211ccc5ffe0b0e01d61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GAKD0tlzenHW8zMQzF8HIQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><strong class="bd ml">Fig. 5 Event Listeners for Buttons 1–3</strong></figcaption></figure><p id="0c18" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">与本系列的第二篇教程一样，我们将需要重构<strong class="kc io">按钮1 </strong>到<strong class="kc io">按钮3 </strong>的事件监听器。<strong class="kc io">按钮4 </strong>在本系列的三个教程中保持一致。</p><h2 id="4155" class="mq le in bd lf mr ms dn lj mt mu dp ln kl mv mw lr kp mx my lv kt mz na lz nb bi translated">现在让我们重构代码</h2><p id="6f32" class="pw-post-body-paragraph ka kb in kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx ig bi translated">我们现在可以重构代码来利用<code class="fe ky kz la lb b">apply()</code>方法。解压缩启动代码档案后，请按照以下步骤操作:</p><h1 id="0295" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">第一步:对index.html进行必要的修改</h1><p id="67f2" class="pw-post-body-paragraph ka kb in kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx ig bi translated"><strong class="kc io">下面的图6 </strong>显示了包含在您的启动代码中的<strong class="kc io">index.html</strong>文件的<code class="fe ky kz la lb b">&lt;head&gt;</code>部分:</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nc"><img src="../Images/eee95648abbb12a5bc17d7171e1ccd37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a-g064JkPrYwL0ciSrO_Ng.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><strong class="bd ml">Fig. 6 &lt;head&gt; Section of index.html</strong></figcaption></figure><p id="90b1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">和上一个教程一样，我们只关心上面图6 的<strong class="kc io">线8 </strong>和<strong class="kc io">线10 </strong>。</p><p id="f454" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对<strong class="kc io">index.html</strong>进行以下更改:</p><ol class=""><li id="e18c" class="nd ne in kc b kd ke kh ki kl nf kp ng kt nh kx ni nj nk nl bi translated">改变<strong class="kc io">线8 </strong>，使其显示为<code class="fe ky kz la lb b">&lt;title&gt;apply() Method Demo&lt;/title&gt;</code>。</li><li id="a2dd" class="nd ne in kc b kd nm kh nn kl no kp np kt nq kx ni nj nk nl bi translated">更改<strong class="kc io">第10行</strong>，使其显示如下:<br/> <code class="fe ky kz la lb b">&lt;link rel="stylesheet" href="css/apply-demo.css" /&gt;</code></li></ol><blockquote class="nr ns nt"><p id="5025" class="ka kb lc kc b kd ke kf kg kh ki kj kk nu km kn ko nv kq kr ks nw ku kv kw kx ig bi translated">对于本教程来说，上面的两个变化使得HTML标记在语义上是正确的。T56】</p></blockquote><h1 id="9043" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">步骤2:重命名CSS样式表</h1><p id="9c44" class="pw-post-body-paragraph ka kb in kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx ig bi translated">如果您参考上面的<strong class="kc io">图3 </strong>，您将看到css样式表被命名为<strong class="kc io">bind-demo . CSS。</strong>这不仅在语义上不正确，因为我们重构的代码是<code class="fe ky kz la lb b">apply()</code>方法的演示，而且它将导致错误，因为在<strong class="kc io">步骤1 </strong>中，第10行现在引用了一个名为<strong class="kc io"> apply-demo.css </strong>的CSS文件，该文件尚不存在。</p><p id="1dc6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了解决这个问题，将<strong class="kc io"> bind-demo.css </strong>重命名为<strong class="kc io"> apply-demo.css. </strong>如果你在浏览器中打开【index.html】的<strong class="kc io"/>，一切都会正确显示。事实上，如果你点击应用程序的按钮，它们的功能将与上一教程完全相同。这是因为我们的起始代码是在第二个教程中创建的代码。</p><blockquote class="nr ns nt"><p id="43c6" class="ka kb lc kc b kd ke kf kg kh ki kj kk nu km kn ko nv kq kr ks nw ku kv kw kx ig bi translated"><strong class="kc io"> <em class="in">现在我们可以深入探讨如何重构app.js中的应用程序逻辑，以便它利用</em> </strong> <code class="fe ky kz la lb b"><strong class="kc io"><em class="in">apply()</em></strong></code> <strong class="kc io"> <em class="in">方法，而不是</em> </strong> <code class="fe ky kz la lb b"><strong class="kc io"><em class="in">bind()</em></strong></code> <strong class="kc io"> <em class="in">方法。</em> </strong></p></blockquote><h1 id="8882" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">步骤3:重构dog对象以使用apply()方法</h1><p id="d82a" class="pw-post-body-paragraph ka kb in kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx ig bi translated"><strong class="kc io">图7 </strong>显示了与我们的任务相关的代码:</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nx"><img src="../Images/541864c1b28655f22c8ef20cbf5c902a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jqFMjS4bUSUb2Nl3vlv-Yg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><strong class="bd ml">Fig 7 The getDogInfo() Object and the Derived dog Objects</strong></figcaption></figure><p id="d6b9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们回顾一下上面的代码，以便更好地理解我们将在重构后的代码中改变什么。</p><p id="e4ff" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我们的启动代码中，<strong class="kc io">第51行</strong>到<strong class="kc io">第53行</strong>，在<strong class="kc io"> getDogInfo() </strong>对象上调用了<code class="fe ky kz la lb b">info()</code>方法，并且将<code class="fe ky kz la lb b">bind()</code>方法链接到了<code class="fe ky kz la lb b">info()</code>方法。</p><p id="5f28" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">三个顺序编号的<strong class="kc io">品种</strong>对象被传递给<code class="fe ky kz la lb b">bind()</code>方法，结果被存储到三个顺序编号的<strong class="kc io">狗</strong>对象中。</p><p id="f706" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后，如上一篇教程中完成的代码所示，每个狗对象被调用，它们的结果存储在三个顺序编号的<strong class="kc io">狗品种</strong>对象中，这些对象的内容是包含狗品种信息的数组，这些信息将被动态注入到本文开头的<strong class="kc io">图1 </strong>中所示的表行中。</p><p id="2801" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们重构图7 中的代码的目的是用<code class="fe ky kz la lb b">apply()</code>方法替换<strong class="kc io">狗</strong>对象上调用的<code class="fe ky kz la lb b">bind()</code>方法。</p><h1 id="a55f" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated"><code class="fe ky kz la lb b">Function.prototype.apply() </code>和<code class="fe ky kz la lb b">Function.prototype.bind()</code>有什么不同？</h1><p id="c6e0" class="pw-post-body-paragraph ka kb in kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx ig bi translated"><code class="fe ky kz la lb b">bind()</code>方法返回一个新函数，这个函数在被调用时，有一个设置了关键字<code class="fe ky kz la lb b">this</code>的引用。它还可能有一组可选参数，这些参数必须在调用新返回的函数时传递的任何参数之前。</p><p id="91f8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">相比之下，<code class="fe ky kz la lb b">apply()</code>方法调用一个已经设置了对<code class="fe ky kz la lb b">this</code>关键字的引用的函数，然后调用一个数组(或类似数组的对象),该数组包含函数中需要的任何参数。</p><blockquote class="nr ns nt"><p id="5778" class="ka kb lc kc b kd ke kf kg kh ki kj kk nu km kn ko nv kq kr ks nw ku kv kw kx ig bi translated"><strong class="kc io"> <em class="in">现在让我们看看如何重构上面图7中第51–53行的代码，以利用</em> </strong> <code class="fe ky kz la lb b"><strong class="kc io"><em class="in">apply()</em></strong></code> <strong class="kc io"> <em class="in">方法。</em> </strong></p></blockquote><p id="af7c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">对代码进行以下更改:</strong></p><ol class=""><li id="8247" class="nd ne in kc b kd ke kh ki kl nf kp ng kt nh kx ni nj nk nl bi translated">在您的启动代码中修改第51行,使其如下所示:</li></ol><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ny"><img src="../Images/be8c4887d3959f5da2419a5d2c52af88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fWpSKhbbEa2XnXz5xRuXag.png"/></div></div></figure><p id="c351" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2.更改<strong class="kc io">第52行</strong>使其显示如下:</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nz"><img src="../Images/b7681de42ff7c8d4ed2389d37ad03f6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SUhcOz8yO2qq4i1i7ZxATw.png"/></div></div></figure><p id="ae73" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3.最后，改变<strong class="kc io">线53 </strong>，使at读数如下:</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oa"><img src="../Images/126c64290c65f427f180919d5909ec45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YN3Lfd-rAOM0aP6lf1Myug.png"/></div></div></figure><p id="239d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上面3个<strong class="kc io">狗</strong>对象中的代码有两个显著的不同。首先是用<code class="fe ky kz la lb b">apply()</code>方法代替了<code class="fe ky kz la lb b">bind()</code>方法。正如我们将很快看到的，重构代码中剩下的差异有更大的含义。</p><p id="18b5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上面定义的对象中的<code class="fe ky kz la lb b">apply()</code>方法的第一个参数是<code class="fe ky kz la lb b">this</code>关键字引用的引用对象。如上所述，还有一系列参数。在这种情况下，参数引用一个数组，该数组包含要放入包含狗品种信息的每一行的三个表格单元格中的信息。</p><p id="0974" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">第二个相当显著的区别是，当使用<code class="fe ky kz la lb b">apply()</code>方法时，因为不返回新对象，就像使用<code class="fe ky kz la lb b">bind()</code>时的情况一样，不再需要引用存储在<code class="fe ky kz la lb b">dogBreed</code>对象中的信息，如前面的<strong class="kc io">图7 </strong>所示。</p><p id="4d08" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这无疑使代码更加紧凑，减少了整整三行代码。由于我们直接访问通过<code class="fe ky kz la lb b">getDogInfo.info()</code>方法调用创建的<strong class="kc io"> dog </strong>对象中存储的值，也如上面的<strong class="kc io">图7 </strong>所示，我们能够直接访问<strong class="kc io"> dog </strong>数组中的索引，省去了一个中间步骤。</p><p id="9918" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">这是否意味着</strong> <code class="fe ky kz la lb b">bind()</code> <strong class="kc io">方法是低效的或者不可取的？</strong>在这种情况下，答案大于问题。所涉及的概念相当先进，但是已经发表了几篇文章来探讨三种方法的最佳用例问题，这三种方法是本系列教程中探讨的<code class="fe ky kz la lb b">call()</code>、<code class="fe ky kz la lb b">bind()</code>和<code class="fe ky kz la lb b">apply()</code>。</p><h2 id="a049" class="mq le in bd lf mr ms dn lj mt mu dp ln kl mv mw lr kp mx my lv kt mz na lz nb bi translated"><strong class="ak"><em class="ob">call()、bind()和apply() </em> </strong>学习推荐阅读</h2><blockquote class="nr ns nt"><p id="f464" class="ka kb lc kc b kd ke kf kg kh ki kj kk nu km kn ko nv kq kr ks nw ku kv kw kx ig bi translated"><em class="in">值得一读的一篇相当全面的文章是</em> <a class="ae jz" href="https://www.eigenx.com/blog/https/mediumcom/eigen-x/how-and-when-to-use-bind-call-and-apply-in-javascript-77b6f42898fb" rel="noopener ugc nofollow" target="_blank">如何以及何时在Javascript </a> <em class="in">中使用绑定、调用和应用。本文概述了每种方法的相对效用和良好的用例。尽管本文中的信息绝对是相当先进的，但还是值得花一些时间来研究其中表达的思想，因为它们开始阐明如何最好地使用这些方法。</em></p></blockquote><h1 id="4503" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">步骤3:重构按钮1到按钮3的事件侦听器</h1><p id="2fb3" class="pw-post-body-paragraph ka kb in kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx ig bi translated">作为我们重构的最后一步，必须对<strong class="kc io">按钮1 </strong>到<strong class="kc io">按钮3 </strong>的事件监听器做一个细微的改变，如上面的<strong class="kc io">图5 </strong>所示。</p><p id="287b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">回头参考<strong class="kc io">图5 </strong>，你会注意到<code class="fe ky kz la lb b">setRowContent()</code>回调函数中的最后一个参数是<strong class="kc io"> dogBreed1、dogBreed2 </strong>和<strong class="kc io"> dogBreed3 </strong>。这些争论可以追溯到我们之前的应用程序迭代，它使用了<code class="fe ky kz la lb b">bind()</code>方法。</p><p id="9ec3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您可能还记得，<code class="fe ky kz la lb b">bind()</code>方法将<code class="fe ky kz la lb b">this</code>关键字的值设置为指定的对象——在我们的示例中是<strong class="kc io"> breed1、breed2 </strong>和<strong class="kc io"> breed3 </strong>。但是，在此过程中，会返回一个新的对象。为了访问该对象中的属性，调用了<code class="fe ky kz la lb b">info()</code>方法，并将<code class="fe ky kz la lb b">apply()</code>方法链接到该方法。结果存储在全新的数组中，这些数组存储在常量<strong class="kc io"> dogBreed1-dogBreed3 </strong>中。</p><p id="e2cd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">使用<code class="fe ky kz la lb b">apply()</code>方法，我们可以省去这个“中间人”步骤，允许直接访问为<code class="fe ky kz la lb b">this</code>关键字设置的对象引用中的属性。因此，我们可以从<strong class="kc io">狗1、狗2 <br/> </strong>和<strong class="kc io">狗3 </strong>访问属性。</p><p id="9531" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">下面的图8 </strong>显示了要重构的相关代码:</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oc"><img src="../Images/9589dfb7db8fff07420f028547572a7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fouGpzC7M5I5bP7sL54m5w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><strong class="bd ml">Fig. 8 Event Listeners for button1 through button3</strong></figcaption></figure><p id="86f4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对上述事件侦听器进行以下微小更改:</p><ol class=""><li id="0218" class="nd ne in kc b kd ke kh ki kl nf kp ng kt nh kx ni nj nk nl bi translated">更改<strong class="kc io">第92–99行</strong>，使其显示如下:</li></ol><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi od"><img src="../Images/06381f019a2e27341a6acaae0ea91338.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3G1T02pThfcN7nKvbETwZg.png"/></div></div></figure><p id="7a2f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2.更改<strong class="kc io">第101–108行</strong>，使其显示如下:</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oe"><img src="../Images/5f815e19f17a1f0f50715a91b78c51a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CPHgtWTlvac6XM2YAlfQxw.png"/></div></div></figure><p id="bd13" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3.更改<strong class="kc io">第110–117行</strong>，使其显示如下:</p><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi of"><img src="../Images/c207ccb7303996dec079998a80933212.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wgfoDJKOf_U5KFx6MWZ0Hw.png"/></div></div></figure><p id="5e7d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在这些改变已经实现了，你可以通过将浏览器指向你的应用程序文件夹中的<strong class="kc io">index.html</strong>文件，或者访问<a class="ae jz" href="https://codepen.io/RHieger/full/mdmLLyL" rel="noopener ugc nofollow" target="_blank"> codepen.io </a>上的页面来查看结果。</p><p id="bddd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您应该会得到与前两个教程相同的输出。</p><h1 id="54bd" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">下一步是什么？</h1><p id="9689" class="pw-post-body-paragraph ka kb in kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx ig bi translated">在第一篇教程的结尾，我提到我们创建的小迷你应用程序过于简单，没有考虑用户输入。因此，有一个相当简单的带有4个按钮的按钮栏，其中三个按钮填充3个确定的狗品种的细节，一个按钮将表格重置为初始状态。我表示我将重构当前的应用程序，使之成为一个更加健壮、动态和用户交互的单页面应用程序(SPA)。</p><p id="ec02" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当前的应用程序勉强称得上是动态生成数据的应用程序。我现在正在对一个完全修改过的版本的<strong class="kc io">我最喜欢的狗</strong>应用程序进行最后的润色。新版本将包括一个模态对话，用户可以输入选择的狗品种信息。因此，在这个版本的应用程序中，品种不是预先确定的。</p><p id="fce6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">从用户界面和数据验证的角度来看，这些变化的影响是深远的，因为无法提前预测用户将输入什么，以及输入的数据是否有效。</p><p id="b6ba" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">敬请期待我的下一个教程——<strong class="kc io"><em class="lc">我最喜欢的狗狗——一个简单的单页应用(SPA) </em> </strong> <em class="lc">。</em></p><p id="04c7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lc">更多内容请看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="lc">plain English . io</em></strong></a></p></div></div>    
</body>
</html>