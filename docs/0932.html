<html>
<head>
<title>Boost Your Automated Test Workflow using TypeScript IntelliSense</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TypeScript IntelliSense增强您的自动化测试工作流</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/boost-your-automated-test-workflow-using-typescript-intellisense-ec85f2a0391e?source=collection_archive---------14-----------------------#2021-02-26">https://javascript.plainenglish.io/boost-your-automated-test-workflow-using-typescript-intellisense-ec85f2a0391e?source=collection_archive---------14-----------------------#2021-02-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/713ba93641e8013f7cdf45d1d7d0eeeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MqtiT65sWqiT3rLC"/></div></div></figure><p id="3d1f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我之前的文章中，我演示了如何维护一组唯一的id。虽然这非常有帮助，但我们可以更进一步，加入TypeScript IntelliSense来提高我们的测试编写效率，并减轻一些容易出错的复制和粘贴的压力。</p><h1 id="6559" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">在TypeScript中使用“常量断言”</h1><p id="1c4a" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">在TypeScript 3.4中，<a class="ae kt" href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions" rel="noopener ugc nofollow" target="_blank">“常量断言”</a>作为一个动态的新特性被添加，它允许我们从一个数组中定义只读的字符串文字。</p><figure class="lx ly lz ma gt jo"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="2bd0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用这种新的TypeScript语法(不要忘记“as const”)，我们可以<strong class="jx io">导出一个从我们的数组派生的</strong> <a class="ae kt" href="https://www.typescriptlang.org/docs/handbook/literal-types.html#string-literal-types" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">字符串文字类型</strong> </a> <strong class="jx io">。</strong>这是什么意思？更简单地说，如果我们将类型“CyId”添加到字符串参数中，<strong class="jx io">输入参数值仅限于我们定义的Id数组中的值。</strong>当我们使用CyId类型时，我们只能使用值“我的按钮”和“我的其他按钮”(或我们添加到数组中的任何其他值)。在下一节中，我将解释这是多么有用。</p><h1 id="6390" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">书写速度更快，错误更少—智能感知</h1><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div class="gh gi md"><img src="../Images/a86058899e0411d9d8c926592afecb02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*J_to4HcWUwmphEuQxbUDaQ.png"/></div></figure><p id="6d0d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在上面的代码中，我创建了一个名为“myExample”的简单函数，它将一个CyId作为参数。当我去调用函数时，VSCode IntelliSense会知道CyId代表一个字符串文字，<strong class="jx io">会建议你可以使用的值。</strong>现在，如果您不记得您使用的确切字符串，您可以使用智能感知来帮助您搜索id。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi me"><img src="../Images/4021896cc40581d41384d56339f1b1e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7aWBa_O3hf8N6IxA_uRNA.png"/></div></div></figure><p id="5cfb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我试图用一个不在id数组中的 <strong class="jx io">值<strong class="jx io">调用函数，<strong class="jx io"> TypeScript会标记它，并告诉我我有一个无效值</strong>。这样，我们可以确信我们输入了一个有效的id。当输入你的测试id时，不再有打字错误👍。</strong></strong></p><h1 id="0e06" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">绑柏树</h1><p id="3e39" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">现在我们已经建立了CyId类型，让我们看看如何将它用于Cypress。</p><figure class="lx ly lz ma gt jo"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="5314" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里我创建了一个包装器函数，它允许我们通过使用CyId类型将字符串输入限制在id数组中。这也将通过重构所有测试中的样板文件'[data-cy=${}]'来使我们的代码更加整洁。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/7383ba5781d09465f40ea2e9030d782d.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*c--TjulITLJhGIPq5FBjNQ.png"/></div></figure><p id="9de0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，如果我们在一个测试文件中，当我们用Cypress选择我们的元素时，当我们需要调用我们的测试id时，我们将有很好的智能感知来指导我们。不用再在文件和搜索之间来回切换，TypeScript和VSCode就在那里告诉你！</p><h1 id="6316" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">结论</h1><p id="2a55" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">有更多的事情可以做，以使编写测试更加干净和快速，但我不想在这篇文章中让读者负担过重。随着我继续构建自己的Cypress测试套件，我将继续分享我的发现。</p><p id="8d52" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">尽管TypeScript会给项目增加很多开销，但按计划使用它并让它为我们工作感觉很棒！编码快乐！</p></div><div class="ab cl mg mh hr mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ig ih ii ij ik"><p id="92af" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mn">查看更多内容请点击</em><a class="ae kt" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mn">plain English . io</em></strong></a></p></div></div>    
</body>
</html>