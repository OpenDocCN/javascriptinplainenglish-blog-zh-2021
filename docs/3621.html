<html>
<head>
<title>Redux Toolkit -The Standard Way to Write Redux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Redux工具包——编写Redux的标准方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/redux-toolkit-the-standard-way-to-write-redux-dcfb372202b8?source=collection_archive---------1-----------------------#2021-07-21">https://javascript.plainenglish.io/redux-toolkit-the-standard-way-to-write-redux-dcfb372202b8?source=collection_archive---------1-----------------------#2021-07-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="ab2a" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">Redux工具包，存储，创建切片，特征文件夹</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b7c1b3f831cdedd1e731d1cec160044f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d9o68lbtgwztDQ-w519nSg.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@bdchu614?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Brendan Church</a> on <a class="ae ks" href="https://unsplash.com/s/photos/proper-way?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="622c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><a class="ae ks" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a>是JavaScript应用程序的状态管理器。大多与React连用。大部分大型react apps都包含redux，用于管理全局状态。但是所有基于redux的应用程序都遵循标准方法吗？</p><p id="88d9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Redux需要以标准和最佳的方式实现，以避免React应用程序中的问题。当我们开始开发一个基于redux的应用程序时，我们会对搜索最佳实践产生决策疲劳。为了避免这种混乱。我将分享在React应用中实现redux的标准方法，以及如何构建react-redux应用。我们出发吧</p><h1 id="62a9" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">Redux工具包</h1><p id="8ec3" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated"><a class="ae ks" href="https://redux-toolkit.js.org/" rel="noopener ugc nofollow" target="_blank"> redux Toolkit </a>是一个Redux官方包，以标准和最小化的方式实现Redux逻辑。让我们快速看看，Redux Toolkit解决了什么问题</p><ol class=""><li id="46af" class="mm mn in kv b kw kx kz la lc mo lg mp lk mq lo mr ms mt mu bi translated">用单一功能配置redux store！</li><li id="b710" class="mm mn in kv b kw mv kz mw lc mx lg my lk mz lo mr ms mt mu bi translated">不需要添加额外的包来实现redux。</li><li id="6f68" class="mm mn in kv b kw mv kz mw lc mx lg my lk mz lo mr ms mt mu bi translated">不再有样板代码。</li><li id="4f97" class="mm mn in kv b kw mv kz mw lc mx lg my lk mz lo mr ms mt mu bi translated">在生成thunk异步处理程序时。</li><li id="c0a7" class="mm mn in kv b kw mv kz mw lc mx lg my lk mz lo mr ms mt mu bi translated">带有内置<a class="ae ks" href="https://github.com/immerjs/immer" rel="noopener ugc nofollow" target="_blank"> immerjs </a>的变异助手。</li></ol><p id="320a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们转到代码部分，看看这个包是如何标准化减速器的。</p><p id="9f38" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">使用下面的命令将Redux Toolkit添加到您的项目中</p><pre class="kd ke kf kg gt na nb nc nd aw ne bi"><span id="856f" class="nf lq in nb b gy ng nh l ni nj">yarn add @reduxjs/toolkit</span></pre><h1 id="6c05" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">Redux商店</h1><p id="1b9f" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">使用redux toolkit创建一个商店非常简单！检查下面的代码</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="59ef" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe nm nn no nb b">configureStore</code>默认启用redux-thunk和redux dev工具。不需要使用中间件手动配置。但是如果你计划使用redux-saga或任何其他副作用管理器，你可以通过如下中间件进行配置</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="6fae" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在你的redux商店已经准备好行动了。接下来，将其添加到<code class="fe nm nn no nb b">&lt;Provider/&gt;</code>中，如下所示</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="eeec" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">下一个减速器设置？不要！！。该切片了。</p><h1 id="73d7" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">创建切片API</h1><p id="9a0d" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">Redux Toolkit提供了一个名为<code class="fe nm nn no nb b">createSlice</code>的API。它处理初始状态，自动创建动作类型和创建者。并且没有<strong class="kv io">更多的开关情况。</strong>我们也不需要手动编写动作类型和创建者。检查新切片缩减器的以下代码</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="5b4d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们分解每个创建切片选项</p><p id="a5db" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">初始状态</strong>:切片的初始状态</p><p id="7605" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">名称</strong>:切片名称。(减速器名称)</p><p id="c3a2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">减速器:</strong>处理动作类型，如我们在减速器中使用的开关盒。</p><p id="d1fb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">createSlice也有<code class="fe nm nn no nb b">extraReducer.</code>这个选项是为了处理不是由当前切片生成的动作类型。</p><p id="868d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，您可以与redux存储交互，并从React组件中切片，如下所示</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h1 id="125f" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">功能文件夹</h1><p id="80bc" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">特征文件夹与redux toolkit无关。但这也是redux推荐的构造你的React Redux App的方式。要素文件夹方法是将要素分组到一个文件夹中。</p><p id="1aac" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">feature文件夹包括特定特性的redux toolkit <code class="fe nm nn no nb b">createSlice</code> API的组件和单个文件。Redux相关动作创建者，类型需要在单个文件中添加，而不是在多个文件中添加。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi np"><img src="../Images/8f0aa638aab0fe88711e6dfc9ef78b77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DyB5XQzgM4eGKE_gdfb4fQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">sample folder structure</figcaption></figure><p id="0829" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe nm nn no nb b"><strong class="kv io">/app</strong></code> <strong class="kv io"> </strong>整个app使用的全局app设置和布局配置。</p><p id="c548" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe nm nn no nb b"><strong class="kv io">/common</strong></code>可重用的助手和组件</p><p id="1d09" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe nm nn no nb b"><strong class="kv io">/features</strong></code>与特定功能及其切片逻辑相关的组件。</p></div><div class="ab cl nq nr hr ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ig ih ii ij ik"><h1 id="addb" class="lp lq in bd lr ls nx lu lv lw ny ly lz jt nz ju mb jw oa jx md jz ob ka mf mg bi translated">资源</h1><p id="7d93" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated"><a class="ae ks" href="https://github.com/reduxjs/redux-toolkit" rel="noopener ugc nofollow" target="_blank"> Redux Toolkit GitHub资源库</a></p><p id="ad1d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><a class="ae ks" href="https://github.com/erikras/ducks-modular-redux" rel="noopener ugc nofollow" target="_blank">鸭子重叠模式</a></p></div><div class="ab cl nq nr hr ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ig ih ii ij ik"><h1 id="8208" class="lp lq in bd lr ls nx lu lv lw ny ly lz jt nz ju mb jw oa jx md jz ob ka mf mg bi translated">结论</h1><p id="c30a" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">Redux toolkit提供了一种方便和标准的编写reducers的方法。我希望你已经发现这是有用的。感谢您的阅读。</p><p id="98d1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="oc">更多内容请看</em><a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="oc">plain English . io</em></strong></a></p></div></div>    
</body>
</html>