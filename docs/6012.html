<html>
<head>
<title>How to Watch the JavaScript Window Resize Event?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何观看JavaScript窗口调整大小事件？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-watch-the-javascript-window-resize-event-7637acecd036?source=collection_archive---------1-----------------------#2021-12-24">https://javascript.plainenglish.io/how-to-watch-the-javascript-window-resize-event-7637acecd036?source=collection_archive---------1-----------------------#2021-12-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/00f4d3787be4ffe33f4d12c79aef7555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s7JFhnZhrVxnb06Y"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jemsahagun?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jem Sahagun</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c47a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用JavaScript观察窗口大小调整事件，以检测任何类型的屏幕大小变化。</p><p id="4be8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何观察JavaScript窗口大小调整事件来检测窗口大小调整。</p><h1 id="a536" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将事件处理程序分配给window.onresize属性</h1><p id="cd95" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为窗口调整大小事件添加事件处理程序的一种方法是将事件处理程序函数分配给<code class="fe me mf mg mh b">window.onresize</code>属性。</p><p id="efff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="78a3" class="mq lc iq mh b gy mr ms l mt mu">window.onresize = (event) =&gt; {<br/>  console.log(event)<br/>};</span></pre><p id="eca8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将功能分配给<code class="fe me mf mg mh b">window.onresize</code>。</p><p id="0d48" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">event</code>参数有一个事件对象，它是窗口<code class="fe me mf mg mh b">resize</code>事件发出的数据。</p><h1 id="19dd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">调用window.addEventListener以附加Resize事件处理程序</h1><p id="0f11" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们还可以调用<code class="fe me mf mg mh b">window.addEventListener</code>方法来为<code class="fe me mf mg mh b">window</code>附加一个事件监听器。</p><p id="260a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了监听resize事件，我们传入<code class="fe me mf mg mh b">'resize'</code>作为第一个参数。</p><p id="b16d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二个参数是resize事件的事件处理程序。</p><p id="4c04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b4ea" class="mq lc iq mh b gy mr ms l mt mu">window.addEventListener('resize', (event) =&gt; {<br/>  console.log(event)<br/>});</span></pre><p id="a2ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">event</code>参数与我们在前面的例子中分配给<code class="fe me mf mg mh b">onresize</code>方法的参数相同。</p><h1 id="af66" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">resize观察者</h1><p id="42bf" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">观察元素大小调整的更现代的方法是使用<code class="fe me mf mg mh b">ResizeObserver</code>构造函数。</p><p id="83c8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它让我们用tyhe <code class="fe me mf mg mh b">observe</code>方法创建一个对象，该对象接受我们想要观察其大小调整的元素。</p><p id="44ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="caa9" class="mq lc iq mh b gy mr ms l mt mu">const ro = new ResizeObserver(entries =&gt; {<br/>  for (const entry of entries) {<br/>    const cr = entry.contentRect;<br/>    const {<br/>      width,<br/>      height,<br/>      top,<br/>      left<br/>    } = cr<br/>    console.log(entry.target);<br/>    console.log(width, height, top, left)<br/>  }<br/>});<br/>ro.observe(document.querySelector('html'));</span></pre><p id="9db3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用一个函数调用<code class="fe me mf mg mh b">ResizeObserver</code>构造函数，这个函数循环遍历<code class="fe me mf mg mh b">entries</code> whyich，它拥有我们正在观察的项目。</p><p id="2c03" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在循环体中，我们从<code class="fe me mf mg mh b">entry.contentRect</code>属性中获取维度。</p><p id="7c2d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">width</code>和<code class="fe me mf mg mh b">height</code>有元素的宽度和高度。</p><p id="f3ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">top</code>和<code class="fe me mf mg mh b">left</code>分别是左上角的x和y坐标。</p><p id="4804" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">entry.target</code>拥有我们正在观察的元素。</p><p id="4770" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用我们正在观察的元素调用<code class="fe me mf mg mh b">ro.observe</code>。</p><p id="17ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想观察浏览器窗口的大小调整，那么我们可以观察<code class="fe me mf mg mh b">html</code>元素。</p><p id="c089" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">document.querySelector</code>来选择它。</p><h1 id="d698" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="94c8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以通过给<code class="fe me mf mg mh b">window</code>对象分配一个resize事件监听器来监听resize事件。</p><p id="1376" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者我们可以使用<code class="fe me mf mg mh b">ResizeObserver</code>构造函数来创建一个对象，让我们观察元素的大小调整。</p><p id="64aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容请看</em><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">plain English . io</em></strong></a><em class="mv">。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">免费周报</em> </strong> </a> <em class="mv">。在我们的</em> <a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">社区</em> </strong> </a> <em class="mv">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>