<html>
<head>
<title>Angular — How to Improve Your Bundle Size?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有棱角——如何提高你的束尺寸？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/angular-how-to-improve-your-bundle-size-1cda25cfd815?source=collection_archive---------3-----------------------#2021-05-10">https://javascript.plainenglish.io/angular-how-to-improve-your-bundle-size-1cda25cfd815?source=collection_archive---------3-----------------------#2021-05-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8fc4" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">这里有4种方法可以减少包的大小。让它加载得更快。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/8a088e8d7b520cb6bbe8d171d84c0e78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2cyLas_gJEpUzvI_"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@clark_fransa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Arnold Francisca</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="593c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">棱角分明的开发人员通常会为性能问题而苦恼。</p><p id="d3b0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是角框架最大的缺点和最大的麻烦之一。</p><p id="398a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我哪里知道？</p><p id="83ec" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最近我调查了一些Angular开发者，问他们Angular最大的挫折是什么。这是他们告诉我的。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lp"><img src="../Images/0893a06021c789b30535bad9b0d2519a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*h-QpLqvYakxgGu2Y.png"/></div></div></figure><p id="3bf8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">不足为奇。我抓起<a class="ae ks" href="https://danielk.tech/home/how-to-install-and-use-the-angular-cli" rel="noopener ugc nofollow" target="_blank"> Angular CLI </a>生成了一个基本的app。没有花哨的组件。没有额外的包或依赖。甚至没有角度路由。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/9032de2c3063da2768a1222edbf72a22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/0*UAjy_J5BUiVyo6RD.png"/></div></figure><p id="0f83" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您认为构建文件有多大？</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lr"><img src="../Images/b746b0f818e623f64f84b4503f9f7b95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fbbH8s2T6cMuxXIi.png"/></div></div></figure><p id="b451" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">不算太坏。我想是的。</p><p id="d029" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但我要说，对于一个基本的没有逻辑目的的web应用程序来说，这有点大。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/5cd995e12fd604fb2239cd37132347ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/1*2K4Zqd631YiOJCPU3ozZvA.gif"/></div></figure><p id="b5f0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果我们不小心，我们的棱角分明的应用程序将变得沉重，快速。</p><p id="63de" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">那么你能做些什么来提高你的束尺寸呢？</p><p id="e5f2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如何让你的Angular app的捆绑尺寸变小？</p><p id="efe5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">还有怎么做才能让你的Angular app加载更快？</p><p id="df1a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里有4种方法来改善你的Angular应用程序的包大小。根据我的经验，这四个地方是你瞄准枪支的最佳方向。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><a href="https://school.danielk.tech/course/unleash-your-angular-testing-skills?utm_source=medium&amp;utm_medium=banner&amp;utm_campaign=unleash_testing_skills"><div class="gh gi lt"><img src="../Images/f1b6577fb74e9686aa28b76134fcd343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mIckqGEatusFxMIp0LnzNw.png"/></div></a></figure><h1 id="2397" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">调查您的应用模块。它以一种偷偷摸摸的方式在我们身上滋长。</h1><p id="f2a0" class="pw-post-body-paragraph kt ku in kv b kw mm jo ky kz mn jr lb lc mo le lf lg mp li lj lk mq lm ln lo ig bi translated">最近，我正在开发一个用Angular构建的商业应用程序。我对这个项目了如指掌。或者至少我认为我做到了，因为我是主要的开发者，并且为这个项目写了95%的代码。</p><p id="eb77" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">然后我决定做一轮优化，让它跑得更快。经过一些诊断后，我决定了<em class="mr">的主要*。引导Angular应用程序的js </em>文件相当大。在我们的<em class="mr"> app.module.ts </em>文件中肯定有一些未使用的导入，只是给我的Angular应用程序添加了一堆垃圾。</p><p id="325f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当我打开<em class="mr"> app.module.ts </em>文件时，我惊呆了！</p><p id="d90b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">它被项目已经超越的导入和库破坏了。</p><p id="3ea3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">那我做了什么？我把那些进口的东西拉出来，然后把这个项目修整得干净整洁，就像一只时髦的小狗一样。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/72211f87bcbd7d8ab9ce3d6b08d8c493.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*y2d9i-JDlrwhHcNB.gif"/></div></figure><p id="d869" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">是的，伙计，如果你的Angular应用程序包太大，我首先会去的地方是<em class="mr"> app.module.ts </em>。</p><p id="da1c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可能会吓到一些奇怪的东西。</p><h1 id="6ed8" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">惰性加载模块。没错。让那个棱角分明的app好好节食吧。</h1><p id="6b6b" class="pw-post-body-paragraph kt ku in kv b kw mm jo ky kz mn jr lb lc mo le lf lg mp li lj lk mq lm ln lo ig bi translated">如果你不知道，Angular有一个非常酷的功能，叫做Angular模块。</p><p id="b809" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但这是什么呢？</p><p id="ca86" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">角度模块是可以导入应用程序不同部分的代码块。一个模块可以包含成组的组件、服务和其他功能，每个组件、服务和功能都集中在一个功能区域、特定领域、工作流等。</p><p id="7e09" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为什么他们很酷？</p><p id="b68a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">它们很酷，因为Angular模块为web应用程序带来了模块的力量。据我所知，没有其他前端库或框架能像Angular那样做得这么好。</p><p id="f4e6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">随着您的Angular应用程序的发展和成熟，如果您打算提高您的构建包的大小，您必须将web应用程序的各个部分分成可以在以后加载的特性模块。</p><p id="c427" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">然后，在您的Angular应用程序的主要部分已经被加载并显示给用户之后，这些模块可以稍后被延迟加载。</p><p id="f096" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Angular docs有一篇关于如何设置延迟加载的文章。我建议你去看看。</p><p id="de29" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你不确定使用哪种惰性加载策略，那么<a class="ae ks" href="https://danielk.tech/home/the-complete-guide-to-angular-preloading-strategies" rel="noopener ugc nofollow" target="_blank">我会帮你搞定</a>。</p><h1 id="0d35" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">调整您的导入。否则你会唱慢歌。</h1><p id="3129" class="pw-post-body-paragraph kt ku in kv b kw mm jo ky kz mn jr lb lc mo le lf lg mp li lj lk mq lm ln lo ig bi translated">有些读者可能会说我是一袋燕麦，因为我告诉你要小心进口货。他们可能会对我大喊大叫，说有棱角的摇树的东西足够聪明，可以淘汰掉不用的或劣质的进口产品。</p><p id="cbe8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">虽然我希望这是真的。尽管树木摇晃的角度有所改善。他们错了。至少这是我的经历。</p><p id="3b7a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">所以…观察这些导入，确保所有未使用的导入都被剪掉。</p><p id="eb0f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">其次，不要导入整个库，然后只使用其中的一部分。当您进行导入时，请确保您只导入您实际需要的内容。</p><p id="5f9d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">而不是这个…</p><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="6d3f" class="my lv in mu b gy mz na l nb nc">import * as my-import from 'package-name';</span></pre><p id="8198" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">…这样做。</p><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="76ca" class="my lv in mu b gy mz na l nb nc">import { something } from 'package-name';</span></pre><h1 id="3ede" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">更新至Angular的最新版本。事实上有这么简单吗？</h1><p id="5045" class="pw-post-body-paragraph kt ku in kv b kw mm jo ky kz mn jr lb lc mo le lf lg mp li lj lk mq lm ln lo ig bi translated">没错。就这么简单。尤其是如果你运行的是过时的Angular版本，比如Angular 6或Angular 7。</p><p id="4658" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">角度性能不断提高，因此请确保您的角度应用保持最新。</p><p id="82a4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">另外，这并不难。有数百万用户的Angular应用程序，开发团队报告说，从Angular的一个版本更新到下一个版本只需要30分钟左右。更不用说Angular团队有一个<a class="ae ks" href="https://update.angular.io/" rel="noopener ugc nofollow" target="_blank">真正有帮助的升级网站</a>。</p><p id="596f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">那你的借口是什么？</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><a href="https://school.danielk.tech/course/unleash-your-angular-testing-skills?utm_source=medium&amp;utm_medium=banner&amp;utm_campaign=unleash_testing_skills"><div class="gh gi lt"><img src="../Images/f1b6577fb74e9686aa28b76134fcd343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mIckqGEatusFxMIp0LnzNw.png"/></div></a></figure><h1 id="f73d" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">结论</h1><p id="7eb4" class="pw-post-body-paragraph kt ku in kv b kw mm jo ky kz mn jr lb lc mo le lf lg mp li lj lk mq lm ln lo ig bi translated">如果你想缩小你的Angular应用程序的大小，那么这是我建议你首先瞄准的4个地方。当我被雇佣来优化一个角度时，这些是我首先攻克的角落。</p><p id="262e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Angular可能有一个性能怪癖，但我仍然<a class="ae ks" href="https://danielk.tech/home/why-angular-instead-of-react" rel="noopener ugc nofollow" target="_blank">喜欢它胜过其他一些库和框架</a>。</p><p id="2bb0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你喜欢这篇文章，并且发现它很有用，请留下一些掌声，并关注我以获得更多像这篇文章一样的酷文章。</p><p id="9b48" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">关注我:</strong> <a class="ae ks" href="https://github.com/dkreider" rel="noopener ugc nofollow" target="_blank"> GitHub </a>，<a class="ae ks" href="https://dkreider.medium.com/" rel="noopener">传媒</a>，<a class="ae ks" href="https://danielk.tech" rel="noopener ugc nofollow" target="_blank">个人博客</a></p></div><div class="ab cl nd ne hr nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ig ih ii ij ik"><p id="ee45" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mr">最初发布于</em><a class="ae ks" href="https://danielk.tech/home/angular-how-to-improve-bundle-size" rel="noopener ugc nofollow" target="_blank"><em class="mr">https://danielk . tech</em></a><em class="mr">。</em></p><p id="7622" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mr">更多内容请看</em><a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mr">plain English . io</em></a></p></div></div>    
</body>
</html>