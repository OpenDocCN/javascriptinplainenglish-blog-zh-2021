<html>
<head>
<title>Implicit Type Coercion in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的隐式类型强制</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/implicit-type-coercion-in-javascript-7eb6170a2d87?source=collection_archive---------5-----------------------#2021-03-28">https://javascript.plainenglish.io/implicit-type-coercion-in-javascript-7eb6170a2d87?source=collection_archive---------5-----------------------#2021-03-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="6789" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">要想在技术面试中胜出，你需要知道的关于隐式类型强制的一切</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/c73f72eb6b2715b8de19e8e26e9b8c8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zfB-WUJkG-vonIspBBjuLA.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@cookiethepom?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Cookie the Pom</a> on <a class="ae ks" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8746" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你对JavaScript中的隐式类型强制有什么了解？这个问题经常在初级开发人员的技术面试中出现。如果你不知道答案或者你以前从未听说过这个术语，他们可能会重新措辞:<strong class="kv io"> <em class="lp">“如果你试图将2和‘2’相加，JavaScript会输出什么？”</em> </strong></p><p id="e818" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里不需要猜测，JavaScript有时可能会输出不可预测的结果。虽然真的有可能！如果你对不可预测的结果感到好奇，请观看布莱恩·勒鲁的精彩视频:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="a555" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你被问到的问题是一个非常合理的问题，你需要知道正确的答案。</p><h1 id="d49b" class="ls lt in bd lu lv lw lx ly lz ma mb mc jt md ju me jw mf jx mg jz mh ka mi mj bi translated">类型强制</h1><p id="5172" class="pw-post-body-paragraph kt ku in kv b kw mk jo ky kz ml jr lb lc mm le lf lg mn li lj lk mo lm ln lo ig bi translated">那么，什么是类型强制？</p><p id="6f86" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">类型强制是将一个值从一种数据类型转换成另一种数据类型的过程</p><p id="7ec5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">JavaScript中有九种数据类型(根据最新ECMAScript):未定义、null、boolean、string、number、bigInt、symbol、object和function。</p><p id="4626" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可能会听到有人说隐式或显式强制，尽管在这种情况下<em class="lp">类型强制</em>与<em class="lp">类型转换是混淆的。这些术语之间有细微的差别。当我们谈到<em class="lp">类型强制</em>时，总是<strong class="kv io"> <em class="lp">自动或隐式地将值从一种数据类型转换为另一种数据类型</em> </strong>(想想JavaScript自动将字符串转换为数字)。</em></p><p id="9ba9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lp">类型转换</em>(或类型转换)可以是隐式的，也可以是显式的。</p><p id="4643" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果我们在控制台中键入<code class="fe mp mq mr ms b">“2” + 2</code>，JavaScript会将2从一个数字强制转换成一个字符串，然后将这两个值连接在一起。输出将是<code class="fe mp mq mr ms b">“22”</code>。JavaScript没有将两个值都转换成数字，而是选择将它们转换成字符串。</p><p id="f659" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果我们希望我们的输出是<code class="fe mp mq mr ms b">4</code>，那么我们必须使用<em class="lp"> Number() </em>方法显式地将<code class="fe mp mq mr ms b">“2”</code>转换成一个数字。在您的控制台中尝试:</p><p id="0093" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe mp mq mr ms b">Number(“2”) + 2 // 4</code></p><h1 id="55f6" class="ls lt in bd lu lv lw lx ly lz ma mb mc jt md ju me jw mf jx mg jz mh ka mi mj bi translated">转换为字符串</h1><p id="2b34" class="pw-post-body-paragraph kt ku in kv b kw mk jo ky kz ml jr lb lc mm le lf lg mn li lj lk mo lm ln lo ig bi translated">现在让我们继续类型强制(<em class="lp">记住它总是隐式的！</em>)。在JavaScript的所有算术运算符中，加法运算符是最棘手的一个，当试图理解编译器如何转换数据时，它最有可能导致一些问题。</p><blockquote class="mt"><p id="3bab" class="mu mv in bd mw mx my mz na nb nc lo dk translated">加法运算符产生数字操作数或字符串连接的和。</p></blockquote><p id="5b49" class="pw-post-body-paragraph kt ku in kv b kw nd jo ky kz ne jr lb lc nf le lf lg ng li lj lk nh lm ln lo ig bi translated">如果我们有两个数字，JavaScript将输出这两个数字的和。但是如果只有一个值是数字，JavaScript会将两个值都转换成字符串，并连接这些值。</p><pre class="kd ke kf kg gt ni ms nj nk aw nl bi"><span id="b4af" class="nm lt in ms b gy nn no l np nq">"2" + 2 // "22"</span><span id="c0d7" class="nm lt in ms b gy nr no l np nq">"hi" + 2 // "hi2"</span><span id="cc22" class="nm lt in ms b gy nr no l np nq">[] + 2 // "2"</span></pre><p id="a0cd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后一个例子可能对你来说没有任何逻辑意义。我们有一个物体和一个数字。JavaScript将<code class="fe mp mq mr ms b">[] </code>和<code class="fe mp mq mr ms b">2</code>转换成字符串，并输出<code class="fe mp mq mr ms b">“2”</code>。</p><p id="ed3b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果我们尝试:</p><pre class="kd ke kf kg gt ni ms nj nk aw nl bi"><span id="a9c6" class="nm lt in ms b gy nn no l np nq">15 + 3 + "2" // "182"</span></pre><p id="4de8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">JavaScript从第一个值开始，这是一个数字。它将它与下一个值(也是一个数字)相加，然后检查第三个值的类型。因为第三个值是一个字符串，它连接了<code class="fe mp mq mr ms b">18 </code>和<code class="fe mp mq mr ms b">“2”</code>。所以输出会是<code class="fe mp mq mr ms b">“182”</code>。</p><p id="bf5e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是如果我们尝试:</p><pre class="kd ke kf kg gt ni ms nj nk aw nl bi"><span id="efe3" class="nm lt in ms b gy nn no l np nq">"2" + 15 + 3 //"2153"</span></pre><p id="6068" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">JavaScript首先评估第一个值的数据类型，在本例中是字符串，然后检查第二个值的类型并将其转换为字符串，然后检查第三个值的类型并再次将其转换为字符串。</p><h1 id="4dbf" class="ls lt in bd lu lv lw lx ly lz ma mb mc jt md ju me jw mf jx mg jz mh ka mi mj bi translated">转换成数字</h1><p id="3a2f" class="pw-post-body-paragraph kt ku in kv b kw mk jo ky kz ml jr lb lc mm le lf lg mn li lj lk mo lm ln lo ig bi translated">其余的算术运算符，如减法、乘法或除法运算符具有更可预测的行为。使用这些操作符的转换过程类似于调用<code class="fe mp mq mr ms b">Number() </code>方法。</p><p id="fdce" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在下面的例子中，JavaScript在一个字符串上使用了<code class="fe mp mq mr ms b">Number(“2”)</code>方法，并将其转换为一个数字，因此我们有以下输出:</p><pre class="kd ke kf kg gt ni ms nj nk aw nl bi"><span id="5299" class="nm lt in ms b gy nn no l np nq">"2" - 2 // 0</span><span id="7b12" class="nm lt in ms b gy nr no l np nq">"2" * 2 // 4</span><span id="4fbc" class="nm lt in ms b gy nr no l np nq">"2" / 2 // 1</span></pre><p id="decb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在下一个例子中,<code class="fe mp mq mr ms b">“hi” </code>不能被转换成数字，结果我们得到了<code class="fe mp mq mr ms b">NaN </code>(不是数字)的输出:</p><pre class="kd ke kf kg gt ni ms nj nk aw nl bi"><span id="9d68" class="nm lt in ms b gy nn no l np nq">"hi" - 2 // NaN</span><span id="23ba" class="nm lt in ms b gy nr no l np nq">"hi" * 2 // NaN</span><span id="493b" class="nm lt in ms b gy nr no l np nq">"hi" / 2 // NaN</span></pre><p id="9168" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果我们有一个数字和一个空对象<code class="fe mp mq mr ms b">[]</code>，这个对象将被转换为0。</p><p id="8cd8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在您的控制台中尝试:</p><pre class="kd ke kf kg gt ni ms nj nk aw nl bi"><span id="b2d5" class="nm lt in ms b gy nn no l np nq">[] - 2 // -2</span><span id="2e22" class="nm lt in ms b gy nr no l np nq">[] * 2 // 0</span><span id="5a5c" class="nm lt in ms b gy nr no l np nq">[] / 2 // 0</span></pre><p id="6a75" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在上面的例子中，我们看到了字符串和数字的转换。布尔人呢？</p><h1 id="41b6" class="ls lt in bd lu lv lw lx ly lz ma mb mc jt md ju me jw mf jx mg jz mh ka mi mj bi translated">布尔转换</h1><p id="7ee9" class="pw-post-body-paragraph kt ku in kv b kw mk jo ky kz ml jr lb lc mm le lf lg mn li lj lk mo lm ln lo ig bi translated">任何<code class="fe mp mq mr ms b">true </code>将被转换为1，任何<code class="fe mp mq mr ms b">false</code>将被转换为0。</p><pre class="kd ke kf kg gt ni ms nj nk aw nl bi"><span id="d5d3" class="nm lt in ms b gy nn no l np nq">true + true // 2</span><span id="a776" class="nm lt in ms b gy nr no l np nq">1 + false // 1 </span><span id="a1c8" class="nm lt in ms b gy nr no l np nq">!!("Hi there") // true </span><span id="ddab" class="nm lt in ms b gy nr no l np nq">!!(2) // true</span></pre><p id="82d5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lp">JavaScript中的所有值都可以转换为true，除了下面的</em>:</p><pre class="kd ke kf kg gt ni ms nj nk aw nl bi"><span id="7dea" class="nm lt in ms b gy nn no l np nq">!!""</span><span id="c74d" class="nm lt in ms b gy nr no l np nq">!!0</span><span id="6adb" class="nm lt in ms b gy nr no l np nq">!!undefined</span><span id="7753" class="nm lt in ms b gy nr no l np nq">!!null</span><span id="f3a9" class="nm lt in ms b gy nr no l np nq">!!NaN</span><span id="acc4" class="nm lt in ms b gy nr no l np nq">!!false</span></pre><p id="d7f8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io"> <em class="lp">(提示:使用双bang将任意值转换为布尔值)。</em>T24】</strong></p><h1 id="ccac" class="ls lt in bd lu lv lw lx ly lz ma mb mc jt md ju me jw mf jx mg jz mh ka mi mj bi translated">使用比较运算符的类型强制</h1><p id="6d9b" class="pw-post-body-paragraph kt ku in kv b kw mk jo ky kz ml jr lb lc mm le lf lg mn li lj lk mo lm ln lo ig bi translated">这里还得提一下<code class="fe mp mq mr ms b">==</code>和<code class="fe mp mq mr ms b">===</code>。松散的<code class="fe mp mq mr ms b">==</code>运算符将比较两个不同类型的值<em class="lp">，强制其中一个值的数据类型</em>比较相同的数据类型。</p><p id="6640" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">所以，<code class="fe mp mq mr ms b">2 == "2" // true</code>。</p><p id="fbd1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">大多数情况下，使用松散操作符是不可取的，您可能想知道是否要将数据与不同类型的数据进行比较。使用严格的<code class="fe mp mq mr ms b">===</code>操作符将允许您比较值<em class="lp">，而无需首先对它们执行类型强制</em>。所以，<code class="fe mp mq mr ms b">2 === "2" // false</code>。</p></div><div class="ab cl ns nt hr nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ig ih ii ij ik"><h1 id="1328" class="ls lt in bd lu lv nz lx ly lz oa mb mc jt ob ju me jw oc jx mg jz od ka mi mj bi translated">结论</h1><p id="c39f" class="pw-post-body-paragraph kt ku in kv b kw mk jo ky kz ml jr lb lc mm le lf lg mn li lj lk mo lm ln lo ig bi translated">JavaScript中的隐式类型强制可能是一个棘手的话题，如果您不确定JavaScript将如何对您的值执行类型强制，请首先在控制台中检查它们。</p><p id="5056" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我希望我的博文能帮助你理解什么是隐式类型强制以及它是如何工作的。现在，我希望你能回答一个面试问题:</p><p id="7886" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">-如果你试图对2和false求和，输出会是什么？</p><p id="d967" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe mp mq mr ms b">2 + false // 2</code></p><p id="cdfc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">资源:</strong></p><div class="oe of gp gr og oh"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Type_coercion" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd io gy z fp om fr fs on fu fw im bi translated">类型强制</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">类型强制是值从一种数据类型到另一种数据类型的自动或隐式转换(例如从字符串到…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">developer.mozilla.org</p></div></div><div class="oq l"><div class="or l os ot ou oq ov km oh"/></div></div></a></div><div class="oe of gp gr og oh"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Type_Conversion" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd io gy z fp om fr fs on fu fw im bi translated">类型转换</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">类型转换(或类型转换)意味着将数据从一种数据类型转换为另一种数据类型。隐式转换发生在…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">developer.mozilla.org</p></div></div><div class="oq l"><div class="ow l os ot ou oq ov km oh"/></div></div></a></div></div></div>    
</body>
</html>