# 探索 JavaScript 中的 Reduce

> 原文：<https://javascript.plainenglish.io/exploring-reduce-in-javascript-6a622a22d4f8?source=collection_archive---------10----------------------->

![](img/77346050dff0d408eb8447fd119eec33.png)

Photo by [Oskar Yildiz](https://unsplash.com/@oskaryil?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

在本教程中，我们将探索 JavaScript 最臭名昭著的数组方法之一: *reduce* 。希望我们能够将其归结为基础，并学习使用这种强大方法的新方法。

大多数时候，当考虑*减少*时，我们会想到一种简便的方法来对数组中的值求和:

虽然这很有用，但还有另一种方法可以使用 *reduce* 来展示它的强大和多功能性。我们将学习如何使用这个方法来计算数组中唯一的元素。我们将把一个数组转换成一个对象，其中包含每个元素的单独总和。我们要如何表演这样的魔术？很高兴你问了！

首先，让我们实际探索一下 *reduce* 是如何工作的。这需要两个参数。第一个是执行归约操作的函数，其任务是将两个值合并或归约为一个值，然后返回归约后的值。第二个可选参数是传递给函数的初始值。

传递给 *reduce* 方法的函数最多可以包含四个参数，但主要只使用前两个，这也是我们在本教程中要关注的。关于*如何减少*工作的完整文档可以在[这里](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)找到。

第一个参数是函数到目前为止的累积结果。在第一次调用时，它是我们作为第二个参数传递给 *reduce* 的初始值。在随后的调用中，它是上一次调用该函数时返回的值。如果我们在没有初始值的情况下调用 *reduce* ，它将使用数组的第一个元素作为初始值。

第二个参数是当前值。它是每次调用函数时数组中正在处理的当前元素。

因此，通过利用这些规则，我们可以实现一种将数组转换为对象的方法。让我们探索下面的代码。

毫不奇怪，我们的动物园变量是一组动物。它们没有特定的顺序，有些是重复的。我们想把这个数组变成一个对象，它的键是动物本身，值是数组中动物的数量。

**animalCount** 变量被赋予了由 *reduce* 方法修改的**动物园**数组。我们在方法内部使用了一个 arrow 函数，带有参数 **acc** (累加器)和 **animal** (每次调用时的数组元素)。注意，我们传递给 *reduce* 的初始值(在第 10 行)是一个空对象{}。接下来是真正的工作。

我们的 *if…else* 语句的第一行检查当前 **acc** 对象是否已经包含了**animal***element*作为属性。如果该属性不存在，则返回一个值 **undefined** ，该值为 *falsy* ，因此计算为 false。在这种情况下，执行 *else* 子句(在第 7 行)，创建一个新的属性并给它赋值 1。**

**如果 **acc** 对象包含 **animal** 元素作为属性，则执行第 5 行，将现有属性递增 1。**

**最后，在第 9 行， **acc** 对象被返回，从而继续通过 **zoo** 数组，直到所有元素都被寻址。最后，数组被完全转换成一个对象，现在叫做 **animalCount** 。**

**另外，您可以使用*三元运算符*将 *if…else* 语句转换成一行:**

**这只是暗示了这个惊人的 JavaScript 数组方法的能力和潜力。希望我们已经对它的用法有了更好的理解和欣赏，我鼓励每个人去探索这些新知识带来的机会。**

**感谢跟随和快乐编码！**

***更多内容请看*[*plain English . io*](http://plainenglish.io/)**