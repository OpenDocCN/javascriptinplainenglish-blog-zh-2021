<html>
<head>
<title>7 Useful JavaScript Tricks and Tips</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">7个有用的JavaScript技巧和提示</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/7-useful-javascript-tricks-and-tips-fdf92dd9b869?source=collection_archive---------11-----------------------#2021-05-17">https://javascript.plainenglish.io/7-useful-javascript-tricks-and-tips-fdf92dd9b869?source=collection_archive---------11-----------------------#2021-05-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/30ec37660f00d3ed38c331e0e9768012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7EIpfCpdcAKAufsyrpGYhg.png"/></div></div></figure><p id="9866" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我收集了一些JavaScript技巧和诀窍，我相信它们可以让你成为更好的JavaScript开发人员。排名不分先后，这里有七个(？)JavaScript招数！</p><h1 id="616e" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">1.转换为数字</h1><p id="06b4" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">JavaScript是一种<strong class="ka ir">松散类型的语言</strong>，这意味着我们不必显式指定变量的类型。JavaScript还可以根据使用的上下文将值自由地转换成类型。</p><p id="0896" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将值转换成数字，尤其是将字符串转换成数字，是一个常见的需求，可以使用许多方法。</p><h2 id="fc4b" class="lz kx iq bd ky ma mb dn lc mc md dp lg kj me mf lk kn mg mh lo kr mi mj ls mk bi translated">一元+运算符</h2><p id="6ab6" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">将字符串类型转换为数字的最简洁的方法是<em class="ml">一元</em> <code class="fe mm mn mo mp b"><strong class="ka ir">+</strong></code> <strong class="ka ir"> </strong> <em class="ml">运算符</em>:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="cc59" class="lz kx iq mp b gy my mz l na nb">+"42" // 42</span></pre><blockquote class="nc nd ne"><p id="0e9c" class="jy jz ml ka b kb kc kd ke kf kg kh ki nf kk kl km ng ko kp kq nh ks kt ku kv ij bi translated">一元运算是只有一个操作数的运算。该操作数位于运算符之前或之后。</p></blockquote><p id="5299" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ml">一元加运算符</em>位于其操作数之前，计算其操作数，但试图将其转换为数字(如果尚未转换为数字)。这里还有几个例子可以说明它是如何工作的:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="9072" class="lz kx iq mp b gy my mz l na nb">+true  // 1<br/>+false // 0<br/>+null  // 0</span></pre><p id="ae24" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是，如果我们想在代码中更加明确呢？</p><h2 id="2974" class="lz kx iq bd ky ma mb dn lc mc md dp lg kj me mf lk kn mg mh lo kr mi mj ls mk bi translated">数字</h2><p id="3121" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><a class="ae ni" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" rel="noopener ugc nofollow" target="_blank"> Number </a>是一个用于表示和操作数字的原始包装对象。当用作函数时，<code class="fe mm mn mo mp b">Number(value)</code>将字符串或其他值转换为数字类型。如果值不能被转换，它返回<code class="fe mm mn mo mp b">NaN</code>(不是一个数字)。</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="8f52" class="lz kx iq mp b gy my mz l na nb">Number("42")  // 42<br/>Number("1.3") // 1.3<br/>Number("tax") // NaN</span></pre><h2 id="d3dc" class="lz kx iq bd ky ma mb dn lc mc md dp lg kj me mf lk kn mg mh lo kr mi mj ls mk bi translated">parseInt</h2><p id="d72f" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><a class="ae ni" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt" rel="noopener ugc nofollow" target="_blank"> parseInt() </a>将一个字符串作为第一个参数和该字符串要转换到的基底。这个方法总是返回一个整数。</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="94cb" class="lz kx iq mp b gy my mz l na nb">parseInt("1234", 10)       // 1234<br/>parseInt("11 players", 10) // 11<br/>parseInt("player 2", 10)   // NaN<br/>parseInt("10.81", 10)      // 10</span></pre><p id="ef8f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mm mn mo mp b">parseInt()</code>试图从一个不仅仅包含数字的字符串中得到一个数字，但是如果这个字符串不是以数字开头，你将得到<code class="fe mm mn mo mp b">NaN</code>。</p><h2 id="d3a2" class="lz kx iq bd ky ma mb dn lc mc md dp lg kj me mf lk kn mg mh lo kr mi mj ls mk bi translated">parseFloat</h2><p id="7c50" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">如果我们想保留小数部分，而不仅仅是整数部分，我们可以使用<a class="ae ni" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseFloat" rel="noopener ugc nofollow" target="_blank"> parseFloat() </a>，它接受一个字符串作为参数，并返回等价的浮点数。</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="79c4" class="lz kx iq mp b gy my mz l na nb">parseFloat("10.42") // 10.42<br/>parseFloat("10.00") // 10</span></pre><p id="d659" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">还有一些方法可以转换成数字，但这些是最常用的方法。</p><h1 id="1bd6" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">2.管理对象</h1><p id="3b4d" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><strong class="ka ir">析构</strong>是ES6的重要组成部分，你可能会经常用到。它允许我们从对象中提取数据，并将提取的数据分配到变量中:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="36e6" class="lz kx iq mp b gy my mz l na nb">const rectangle = { h: 100, w: 200 };<br/>const { h, w } = rectangle;</span></pre><p id="905c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果需要，我们可以重命名变量:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="569f" class="lz kx iq mp b gy my mz l na nb">const { h: height, w: width} = rectangle;<br/>console.log(height); // 100</span></pre><p id="410d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以做的另一件方便的事情是通过一个函数来析构返回的对象，并选择我们想要使用的值:</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="7014" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，通过析构，我们可以从一个函数中返回多个值，方法是返回一个对象并选择我们想要返回的部分。</p><p id="0a7b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">以一种不可变的方式移除一个属性需要spread的对应部分提供的一个小技巧，即<strong class="ka ir"> rest操作符</strong>，它用三个点(…)编写，就像spread一样。然而，在这种情况下，我们将剩余的属性扩展到一个新的对象中。</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="5054" class="lz kx iq mp b gy my mz l na nb">const { age:_ , …person } = getPerson();<br/>console.log(person); // {firstName: “Max”, lastName: “Best”}</span></pre><p id="ba4d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，<code class="fe mm mn mo mp b">person</code>对象保存了除了<code class="fe mm mn mo mp b">age</code>之外的来自原始person对象的所有属性。</p><h1 id="e0e8" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">3.交换两个变量</h1><p id="563c" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">使用我们在上一个技巧中学到的知识，交换变量就像:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="9c50" class="lz kx iq mp b gy my mz l na nb">let me = "happy", you = "sad";<br/>[me, you] = [you, me];<br/>// me = "sad", you = "happy"</span></pre><p id="1954" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上面的代码创建了一个[you，me]数组，并立即将它们析构为相反的变量。</p><p id="e29f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不再需要临时变量了！</p><h1 id="4b01" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">4.设置默认值</h1><p id="bfee" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">我们都见过他们。无尽的if语句检查值是否已经设置。如果我说有更好的方法呢？嗯，这正是我要说的，默认值。</p><h2 id="3181" class="lz kx iq bd ky ma mb dn lc mc md dp lg kj me mf lk kn mg mh lo kr mi mj ls mk bi translated">变量</h2><p id="5e9b" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><a class="ae ni" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator" rel="noopener ugc nofollow" target="_blank">无效合并运算符(？？)</a>是逻辑运算符，当其左侧操作数为<code class="fe mm mn mo mp b">null</code>或<code class="fe mm mn mo mp b">undefined</code>时，返回其右侧操作数，否则返回其左侧操作数。我们可以用它来设置默认值，例如当我们收到一个还没有被设置为数组的列表时:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="3fb6" class="lz kx iq mp b gy my mz l na nb">const bookList = receivedBooks ?? [];</span></pre><h2 id="668c" class="lz kx iq bd ky ma mb dn lc mc md dp lg kj me mf lk kn mg mh lo kr mi mj ls mk bi translated">因素</h2><p id="bd53" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">我们可以使用<em class="ml">零合并操作符</em>来设置函数中变量的默认值，但是有一个更好的方法，默认参数<a class="ae ni" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters" rel="noopener ugc nofollow" target="_blank"/>:</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="7858" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里我们将<code class="fe mm mn mo mp b">height</code>的默认值设置为100，并且只通过发送<code class="fe mm mn mo mp b">width</code>来计算面积。</p><h2 id="8949" class="lz kx iq bd ky ma mb dn lc mc md dp lg kj me mf lk kn mg mh lo kr mi mj ls mk bi translated">目标</h2><p id="cf61" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">析构对象的另一个技巧是设置默认值:</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="c9c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ES6析构默认值仅在值为<code class="fe mm mn mo mp b">undefined</code>时生效。</p><h1 id="4914" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">5.来自区间的随机数</h1><p id="9f4b" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">有时候我们需要在一个范围内产生一个随机数。<code class="fe mm mn mo mp b"><a class="ae ni" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random" rel="noopener ugc nofollow" target="_blank">Math.random()</a></code>函数帮助我们生成一个随机数，然后我们可以将它转换成我们想要的范围:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="5bfc" class="lz kx iq mp b gy my mz l na nb">const randomIntFromInterval = (min, max) =&gt; Math.floor(Math.random() * (max — min + 1) + min);</span></pre><p id="44ac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你看看这个函数是如何构造的，你会发现这里面还有一个技巧。</p><h1 id="e216" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">6.移除数组重复项</h1><p id="5069" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">ES6中引入的Set对象类型允许您存储唯一的值。与spread运算符(…)一起，我们可以使用它来创建一个只包含唯一值的新数组:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="cbf2" class="lz kx iq mp b gy my mz l na nb">const uniqueArray = [...new Set(array)]</span></pre><p id="c3b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们从数组中创建一个集合，因为集合中的每个值都必须是唯一的，所以我们删除了所有重复的值。然后，我们使用spread操作符将集合转换回一个新的数组。</p><h1 id="5fa5" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">7.动态属性名称</h1><p id="7836" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">ES6给我们带来了计算属性名，允许对象文字的属性键使用表达式。通过用括号<code class="fe mm mn mo mp b">[]</code>将键括起来，我们可以将变量用作属性键:</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="5820" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这在您希望动态创建密钥的情况下非常有用。</p><p id="2517" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以用括号符号来访问该值:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="341d" class="lz kx iq mp b gy my mz l na nb">item[type];   // "kiwi"<br/>item["fruit"] // "kiwi"</span></pre><p id="7c5b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者用点符号表示:</p><pre class="mq mr ms mt gt mu mp mv mw aw mx bi"><span id="57bb" class="lz kx iq mp b gy my mz l na nb">item.fruit; // "kiwi"</span></pre><h1 id="2228" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">8.奖励诡计</h1><p id="71d6" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">如果我们想在没有突变(我们通常想避免这种情况)的情况下向数组<strong class="ka ir">添加一个新项，我们可以使用ES6 <a class="ae ni" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener ugc nofollow" target="_blank">扩展操作符</a>和<a class="ae ni" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" rel="noopener ugc nofollow" target="_blank">切片</a>创建一个新数组:</strong></p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h1 id="ca68" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">结论</h1><p id="db0d" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">我希望这些JavaScript技巧对您有用，值得添加到您的日常工作中。记住，负责任远比高效重要。</p><div class="nl nm gp gr nn no"><a href="https://www.educative.io/courses/game-development-js-tetris" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">用JavaScript开发游戏:创建俄罗斯方块-互动学习</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">在本课程中，您将获得使用JavaScript进行游戏开发的实践经验。使用俄罗斯方块的经典游戏…</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">www.educative.io</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc jw no"/></div></div></a></div><p id="0e1b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ml">更多内容请看</em><a class="ae ni" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="ml">plain English . io</em></strong></a></p></div></div>    
</body>
</html>