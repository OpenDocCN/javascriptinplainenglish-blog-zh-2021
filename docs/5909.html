<html>
<head>
<title>How to Implement Brute Force Attacks on Hash Values in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中实现对哈希值的暴力攻击</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-implement-brute-force-attacks-on-hash-values-in-javascript-954a01163b9d?source=collection_archive---------6-----------------------#2021-12-18">https://javascript.plainenglish.io/how-to-implement-brute-force-attacks-on-hash-values-in-javascript-954a01163b9d?source=collection_archive---------6-----------------------#2021-12-18</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/9191020281ee000c1749ab54652e7c66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9iFzOQdSQl2ptTJk"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Photo by <a class="ae kd" href="https://unsplash.com/@vheath?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Victoria Heath</a> on <a class="ae kd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bb53" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我教小精灵们如何用JavaScript 创建密码，结果他们把密码弄丢了。这是一个问题，因为中央精灵计算机系统没有保存密码的副本。它只是存储散列，而散列本身实际上是不可能被解码的。我能怎么做呢？</p><h1 id="a989" class="lc ld ir bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">谜题:解码代码🔐</h1><figure class="mb mc md me gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj ma"><img src="../Images/b7b780983c2342335b845bfc5393a5db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w8rX_iruT19kDe28S37SFQ.jpeg"/></div></div></figure><p id="94c4" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><a class="ae kd" href="https://github.com/devadvent/puzzle-17" rel="noopener ugc nofollow" target="_blank"> Dev降临节日历拼图17🎅</a>可以这样总结:如何用JavaScript黑掉一个密码？如何将<a class="ae kd" href="https://en.wikipedia.org/wiki/Brute-force_search" rel="noopener ugc nofollow" target="_blank"> bruteforce </a>做成哈希表？</p><p id="e113" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">显然，这个问题是无解的。散列加密函数是不可侵犯的。在解决这个问题之前，最好理解一下散列函数的含义</p><h1 id="2515" class="lc ld ir bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">加密哈希函数</h1><p id="0b85" class="pw-post-body-paragraph ke kf ir kg b kh mf kj kk kl mg kn ko kp mh kr ks kt mi kv kw kx mj kz la lb ik bi translated">维基百科很好地解释了特征是什么。</p><p id="660d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">它是如何工作的？哈希函数获取数据并将其转换为固定大小的二进制字符串。每个数据集产生不同的散列。相似的数据产生非常不同的散列。</p><p id="f60f" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这些算法旨在抵御各种类型的攻击，并具有3个安全级别:</p><ul class=""><li id="57fa" class="mk ml ir kg b kh ki kl km kp mm kt mn kx mo lb mp mq mr ms bi translated"><strong class="kg is">前像阻力</strong>:给定一个hash值h，应该很难找到任何消息m使得h = hash(m)。这个概念与单向函数的概念相关。缺少此属性的函数容易受到原像攻击。</li><li id="7630" class="mk ml ir kg b kh mt kl mu kp mv kt mw kx mx lb mp mq mr ms bi translated"><strong class="kg is">第二前像阻力</strong>:给定一个输入m1，应该很难找到不同的输入m2使得hash(m1) = hash(m2)。这种特性有时被称为弱抗碰撞性。缺少此属性的函数容易受到二次前像攻击。</li><li id="bc22" class="mk ml ir kg b kh mt kl mu kp mv kt mw kx mx lb mp mq mr ms bi translated"><strong class="kg is">抗碰撞</strong>:应该很难找到两个不同的消息m1和m2使得hash(m1) = hash(m2)。这种配对称为加密哈希冲突。这种特性有时被称为强抗碰撞性。它需要的散列值至少是前映像阻力所需散列值的两倍；否则，冲突可能会被生日攻击发现。</li></ul><p id="acea" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这使您可以确定，如果两个散列是相同的，那么起始数据也是相同的。</p><p id="ba13" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">使用的一个例子是密码。如果我们想创建一个身份验证系统，创建一个包含各种用户密码的数据库是很危险的。建议只保留密码的哈希。当有人试图登录时，我们将请求生成的哈希与保存的哈希进行比较:如果它们相同，则密码是正确的。</p><p id="252f" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这东西让我着迷。能够在不知道密码的情况下验证密码的正确性。另一个特性让我非常着迷:两个相似的密码有非常不同的哈希。</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="c761" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这使得追踪起始密码变得非常困难。</p><h1 id="2b22" class="lc ld ir bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">计算密码的散列值</h1><p id="47b1" class="pw-post-body-paragraph ke kf ir kg b kh mf kj kk kl mg kn ko kp mh kr ks kt mi kv kw kx mj kz la lb ik bi translated">为了使问题易于处理，有必要简化。交战规则如下:</p><ul class=""><li id="9b3e" class="mk ml ir kg b kh ki kl km kp mm kt mn kx mo lb mp mq mr ms bi translated">我们知道要查找的密码的散列值</li><li id="69fa" class="mk ml ir kg b kh mt kl mu kp mv kt mw kx mx lb mp mq mr ms bi translated">我们知道起始密码是什么形式:<code class="fe na nb nc nd b">&lt;UPPER CASE LETTER&gt;-&lt;3-DIGIT-NUMBER&gt;</code>。比如<code class="fe na nb nc nd b">X-348</code>、<code class="fe na nb nc nd b">L-239</code>、<code class="fe na nb nc nd b">V-111</code>。</li></ul><p id="834d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这是一个很大的帮助。我们可以创建一个测试潜在密码的列表。然后我们计算每一个的散列，直到我们找到正确的一个。</p><p id="6c8d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在NodeJS中，很容易找到字符串的散列。只需使用<a class="ae kd" href="https://nodejs.org/api/crypto.html" rel="noopener ugc nofollow" target="_blank">加密</a> API:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><h1 id="9516" class="lc ld ir bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">创建潜在密码列表</h1><p id="2d73" class="pw-post-body-paragraph ke kf ir kg b kh mf kj kk kl mg kn ko kp mh kr ks kt mi kv kw kx mj kz la lb ik bi translated">创建测试潜在密码列表的最简单方法是使用两个嵌套的<code class="fe na nb nc nd b">for</code>循环。我用第一个来滚动字母表中的字母:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="10b8" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">然后我插入第二个循环来遍历从<code class="fe na nb nc nd b">0</code>到<code class="fe na nb nc nd b">999</code>的所有数字</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="c8de" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">所以我创建了一个<code class="fe na nb nc nd b">test</code>变量:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="aa48" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我使用<a class="ae kd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart" rel="noopener ugc nofollow" target="_blank">string . prototype . pad start()</a>方法使每个密码正好有3个数字。这样我就可以把<code class="fe na nb nc nd b">A-0</code>变换成<code class="fe na nb nc nd b">A-000</code>，<code class="fe na nb nc nd b">C-12</code>变换成<code class="fe na nb nc nd b">C-012</code>等等。</p><p id="3874" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我得到了哈希</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="cc9f" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">最后，我将它与我已经拥有的进行比较:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="1cc7" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我立即退出了该功能:我不需要检查其他密码。一旦我找到了生成正确散列的那个，我也就找到了我要找的东西。</p><p id="1094" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">完整的代码如下所示:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><h1 id="c952" class="lc ld ir bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">至折射镜</h1><p id="5408" class="pw-post-body-paragraph ke kf ir kg b kh mf kj kk kl mg kn ko kp mh kr ks kt mi kv kw kx mj kz la lb ik bi translated">这是一个简单易懂的解决方案。但是我可以做得更好。我可以删除<code class="fe na nb nc nd b">nested loop</code>。我也可以删除两个<code class="fe na nb nc nd b">returns</code>中的一个。这样我可以得到更清晰的东西:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="37b8" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">实际上，您可以通过添加<code class="fe na nb nc nd b">listPassword</code>参数来简化它，而不是在函数内部计算它。但是拼图不允许我这么做。</p><p id="a65e" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我决定从<code class="fe na nb nc nd b">bruteForcePassword</code>函数中提取与问题无关的所有内容:密码列表的创建和哈希值的比较；</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="d548" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><code class="fe na nb nc nd b">isPassword</code>函数直接返回密码，而不是布尔值。这样我就可以利用JavaScript的能力，将字符串视为真值，将空值视为假值。我需要它来简化从<code class="fe na nb nc nd b">for...of</code>循环的退出。</p><p id="9d3f" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">为了生成密码列表，我将问题分成几个部分。首先，我需要一个包含数字<code class="fe na nb nc nd b">0</code>到<code class="fe na nb nc nd b">999</code>的数组。我创建了这个函数:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="7c4d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">关于这个问题在<a class="ae kd" href="https://stackoverflow.com/questions/3746725/how-to-create-an-array-containing-1-n" rel="noopener ugc nofollow" target="_blank"> stackoverflow </a>上有很好的讨论。简而言之，我可以用<code class="fe na nb nc nd b">Array(n)</code>创建一个<code class="fe na nb nc nd b">n</code>元素的数组。如果我添加<a class="ae kd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/keys" rel="noopener ugc nofollow" target="_blank"> Array.prototype.keys() </a>方法，然后使用<a class="ae kd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener ugc nofollow" target="_blank"> spread操作符</a>，我可以得到一个由<code class="fe na nb nc nd b">n</code>个元素组成的数组，每个元素都包含一个表示其位置索引的数字:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="3c1f" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我使用这个数组和<a class="ae kd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener ugc nofollow" target="_blank"> Array.prototype.map() </a>方法将缺少的0添加到前100个元素中。</p><p id="c6ea" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我可以很容易地创建一个包含字母表中的字母的数组:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="6824" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这次我没有使用<code class="fe na nb nc nd b">keys()</code>:我可以让数组的所有元素都为空，然后使用索引来获取我想要插入的字母的<code class="fe na nb nc nd b">charCode</code>。</p><p id="604d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我创建了一个助手函数来连接字母和数字:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="5fba" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我用数字把想要的字符加到数组的每个元素上。最后，我创建了潜在密码列表:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="3d3c" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">综合所有的东西，我得到了我的解决方案:</p><figure class="mb mc md me gu js"><div class="bz fq l di"><div class="my mz l"/></div></figure><p id="9cbf" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">仅此而已。这个谜题与数字11有关:</p><div class="ne nf gq gs ng nh"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-generate-a-random-password-using-javascript-cbeb4b72ec12"><div class="ni ab fp"><div class="nj ab nk cl cj nl"><h2 class="bd is gz z fq nm fs ft nn fv fx iq bi translated">如何使用JavaScript生成随机密码</h2><div class="no l"><h3 class="bd b gz z fq nm fs ft nn fv fx dk translated">北极有安全问题。首先圣诞老人丢失消息代码)。然后掌管钥匙的精灵…</h3></div><div class="np l"><p class="bd b dl z fq nm fs ft nn fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv jx nh"/></div></div></a></div><p id="e1bb" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl nw nx hv ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ik il im in io"><p id="9ef0" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is"> <em class="od">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae kd" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="kg is"> <em class="od">中邮箱列表</em> </strong> </a></p><div class="ne nf gq gs ng nh"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="ni ab fp"><div class="nj ab nk cl cj nl"><h2 class="bd is gz z fq nm fs ft nn fv fx iq bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="no l"><h3 class="bd b gz z fq nm fs ft nn fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="np l"><p class="bd b dl z fq nm fs ft nn fv fx dk translated">el3um4s.medium.com</p></div></div><div class="nq l"><div class="oe l ns nt nu nq nv jx nh"/></div></div></a></div></div><div class="ab cl nw nx hv ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ik il im in io"><p id="9325" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="od">原载于2021年12月18日https://blog.stranianelli.com</em><a class="ae kd" href="https://blog.stranianelli.com/how-to-implement-brute-force-attacks-on-hash-values-in-javascript/" rel="noopener ugc nofollow" target="_blank"><em class="od"/></a><em class="od">。</em></p><p id="e3c1" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="od">更多内容看</em> <a class="ae kd" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kg is"> <em class="od">说白了就是</em> </strong> </a> <strong class="kg is"> <em class="od">。</em> </strong> <em class="od">报名参加我们的</em> <a class="ae kd" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kg is"> <em class="od">免费每周简讯这里</em> </strong> </a> <strong class="kg is"> <em class="od">。</em>T41】</strong></p></div></div>    
</body>
</html>