<html>
<head>
<title>Improve your RxJS Debugging</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">改进RxJS调试</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/improve-rxjs-debugging-35c83b815a0c?source=collection_archive---------13-----------------------#2021-03-23">https://javascript.plainenglish.io/improve-rxjs-debugging-35c83b815a0c?source=collection_archive---------13-----------------------#2021-03-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/04785dd3165812e1d7ba2a9d5567515b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gng28dX-7emBs7rm.png"/></div></div></figure><p id="8fd2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">前端Web开发中的反应式编程是有意义的，因为它是一种专注于对事件做出反应的范式。用户与广播事件的DOM交互。</p><p id="181e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://rxjs.dev/" rel="noopener ugc nofollow" target="_blank"> RxJS </a>是无功编程的瑞士军刀。它为我们提供了一种基于推送的模式，允许我们对用户创建的事件做出响应。</p><p id="f3b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">😱但是有一个主要问题。调试RxJS流可能是一场噩梦！</p><p id="25d8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本文将向您介绍一个新的社区拥有的RxJS操作符，旨在帮助简化调试，并提供一些额外的健壮调试技术。</p><h1 id="9e6b" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated"><code class="fe lw lx ly lz b">debug()</code>操作员</h1><p id="6f74" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">这个神奇的算子是什么？它是<code class="fe lw lx ly lz b">debug()</code>操作符<em class="kx">(你可以在这里找到更多的</em><a class="ae kw" href="https://github.com/Coly010/rxjs-debug-operator" rel="noopener ugc nofollow" target="_blank"><em class="kx"/></a><em class="kx">)</em>并且可以非常容易地安装:</p><p id="309d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">NPM:</p><p id="6a0f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lw lx ly lz b">npm install rxjs-debug-operator</code></p><p id="462b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">纱线:</p><p id="287b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lw lx ly lz b">yarn add rxjs-debug-operator</code></p><p id="07c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它也很容易使用！只需将它通过管道传输到您已经建立的任何流中:</p><pre class="mf mg mh mi gt mj lz mk ml aw mm bi"><span id="e232" class="mn kz iq lz b gy mo mp l mq mr">obs$.pipe(debug());</span></pre><h1 id="2f0b" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">但是它有什么用呢？</h1><p id="21ff" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">简而言之，它帮助您找出RxJS流哪里出错了，哪里对了。</p><p id="d4a8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">默认情况下，它只是将值记录到控制台。</p><p id="7815" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://gist.github.com/Coly010/59ceffd69cc72f334f61a08d4dfbd0f0" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/coly 010/59 cef FD 69 cc 72 f 334 f 61 a 08d 4 DFB 0f</a>0</p><p id="48cc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然而，它比这灵活得多，可以成为诊断问题甚至报告可能对业务产生负面影响的用户路径中的关键错误的强大工具！</p><h1 id="edfb" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">怎么才能充分利用呢？</h1><p id="3081" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">您可以利用无数的用例来利用这个操作符。</p><p id="4046" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一种常见的方法是查看流中一系列操作的值是如何变化的。</p><p id="7e2e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">由于有了方便的<code class="fe lw lx ly lz b">label</code>选项，这可以变得更加容易操作:</p><p id="06db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://gist.github.com/Coly010/39c63e50be855b12dcd3f792346751dd" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/coly 010/39 c 63 e 50 be 855 b 12 CD 3 f 792346751 DD</a></p><p id="e787" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面我们来看一些更具体的用例！</p><h1 id="550f" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">例子</h1><p id="9703" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">希望这些例子能派上用场，展示操作者的力量！</p><h1 id="f939" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">简单日志记录</h1><p id="194e" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated"><strong class="ka ir">无标签</strong></p><p id="049e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://gist.github.com/Coly010/56de91ef29f67c504725baf3c776ad0c" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/coly 010/56de 91 ef 29 f 67 c 504725 ba F3 c 776 ad 0 c</a></p><p id="9792" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">带标签</strong></p><p id="dec1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://gist.github.com/Coly010/2574afeeac5266b0454d028195c15a9a" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/coly 010/2574 AFE EAC 5266 b 0454d 028195 c15 a9 a</a></p><p id="7e24" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您甚至可以更改每个通知的内容:</p><p id="2bb7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://gist.github.com/Coly010/e64a3d6b61419dfca5be2c51cfaeb712" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/coly 010/e 64 a3 d6b 61419 dfca 5 be 2c 51 cfae b 712</a></p><h1 id="38ab" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">仅在开发模式下记录</h1><p id="5de4" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">您也只能在开发模式下进行记录。</p><p id="1b2c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有两种方法可以做到这一点，一种是对所有的<code class="fe lw lx ly lz b">debug()</code>实例进行全局处理，另一种是根据具体情况进行局部处理。</p><p id="83d5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">全球</strong></p><p id="86d8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://gist.github.com/Coly010/9e1704f6bde3eeebf636ced32fff69cd" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/coly 010/9e 1704 f 6 BD E3 ee ebf 636 ced 32 fff 69 CD</a></p><p id="3078" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">本地</strong></p><p id="ac77" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://gist.github.com/Coly010/03a5ab6f10c6208171016cc7ebcd9e0a" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/coly 010/03 a5 ab 6 f 10 c 6208171016 cc 7 ebcd 9 E0 a</a></p><h1 id="bba7" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">衡量一组操作员的表现</h1><p id="891b" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">现在来看一些可能非常酷的东西。我们可以使用debug操作符和定制的<code class="fe lw lx ly lz b">next</code>通知处理程序来测量一组到流的管道操作的性能/时间。</p><p id="1428" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面的例子显示了它被用来测量一个<code class="fe lw lx ly lz b">switchMap</code>对一个网络请求所花费的时间，然而，这种方法可以用于任何一组操作符。</p><p id="108e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://gist.github.com/Coly010/a4ff124763cb88b508f05d5a3bbfeb08" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/coly 010/a4ff 124763 CB 88 b 508 f 05 D5 a3 bbfeb 08</a></p><h1 id="602d" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">远程记录以提高可观察性</h1><p id="fb12" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated"><code class="fe lw lx ly lz b">rxjs-debug-operator</code>有一个全局配置，也允许您更改所使用的记录器。</p><p id="e414" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，您可以使用类似于<a class="ae kw" href="https://github.com/winstonjs/winston" rel="noopener ugc nofollow" target="_blank"> Winston </a>的东西作为您的日志记录器！</p><figure class="mf mg mh mi gt jr"><div class="bz fp l di"><div class="ms mt l"/></div></figure><h1 id="e749" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">结论</h1><p id="358c" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">这一切都是从一个笑话开始的:“<em class="kx">开发者</em> <code class="fe lw lx ly lz b"><em class="kx">tap(console.log)</em></code> <em class="kx">用RxJS多少次？”</em></p><p id="a692" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但它已经繁荣成如此之多！希望这篇文章展示了使用这样一个简单的操作符可以做些什么，我期待看到开发人员开始用它做些什么奇怪而奇妙的事情！</p><p id="f472" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您注意到任何问题或有功能要求，请在回购<a class="ae kw" href="https://github.com/Coly010/rxjs-debug-operator" rel="noopener ugc nofollow" target="_blank">https://github.com/Coly010/rxjs-debug-operator</a>上打开问题！</p></div><div class="ab cl mu mv hu mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="ij ik il im in"><p id="98d2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有问题请在下面提问或者在Twitter上联系我:<a class="ae kw" href="https://twitter.com/FerryColum" rel="noopener ugc nofollow" target="_blank"> @FerryColum </a>。</p></div><div class="ab cl mu mv hu mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="ij ik il im in"><p id="375c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kx">原载于2021年3月23日</em><a class="ae kw" href="https://dev.to/coly010/improve-rxjs-debugging-3iph" rel="noopener ugc nofollow" target="_blank"><em class="kx">https://dev . to</em></a><em class="kx">。</em></p></div></div>    
</body>
</html>