<html>
<head>
<title>8-Step Guide To Ace A System Design Interview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">赢得系统设计面试的八步指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/8-steps-guide-to-ace-a-system-design-interview-7a5a797f4d7d?source=collection_archive---------0-----------------------#2021-10-17">https://javascript.plainenglish.io/8-steps-guide-to-ace-a-system-design-interview-7a5a797f4d7d?source=collection_archive---------0-----------------------#2021-10-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/e2a9578d3c41d8e2a4b8703ddf75d288.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*usfzCuxOY-4unNab"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Photo by <a class="ae jd" href="https://unsplash.com/@uxstore?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">UX Store</a> on <a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><div class=""><h2 id="ff36" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">了解如何进行系统设计面试，并在你梦想的公司找到一份工作。</h2></div><p id="906c" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">系统设计已经成为软件开发人员面试的重要环节之一，尤其是对于高级职位。为这一轮面试做准备是很有必要的，这样才能成功面试一些最受欢迎的公司，比如亚马逊、网飞、谷歌、推特等等。</p><p id="26d7" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这一轮中，你基本上要讨论一个大型分布式系统的设计，比如Twitter、优步、脸书、Dropbox等。</p><p id="a40d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在设计系统时，没有唯一正确的解决方案。解决一个问题可以有多种方法，因此这一轮将是一个开放式的回合，重点是工作设计+你的思维过程。</p><h1 id="de81" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">为什么准备系统设计面试很重要？</h1><p id="ce29" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">由于缺乏在日常工作中构建可伸缩系统的经验或知识，许多开发人员都在这一轮中挣扎。即使在成为一名优秀的软件开发人员后，他们也无法进入优秀的公司，因为他们没有通过这一轮。</p><p id="6df1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以关注这一轮很重要，做好充分准备才能进入你梦想中的公司。</p><h1 id="27f2" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">在系统设计面试中会有什么期待？</h1><p id="0979" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">伟大的工程师花费数年时间来构建一个健壮的、可扩展的系统。在系统设计面试中，你不可能在1-1.5小时的短时间内提出类似的解决方案。</p><p id="ba38" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以这一轮通常只讨论整个系统的一部分。</p><p id="c7af" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如前所述，在设计一个好的系统时，没有一个正确的解决方案。这一轮通常是开放式的，讨论可以根据面试官感兴趣的内容、你如何引导讨论以及你的讨论方向进行。</p><h1 id="aa5c" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">系统设计面试中提问的示例问题</h1><ul class=""><li id="9e7f" class="mo mp jg kx b ky mj lb mk le mq li mr lm ms lq mt mu mv mw bi translated">设计一个像WhatsApp一样的聊天服务</li><li id="8f15" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">设计一个停车场</li><li id="2a0a" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">设计一个类似TinyURL的URL缩写服务</li><li id="592c" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">设计一个像YouTube/网飞这样的视频流服务</li><li id="f0e8" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">设计一个类似Google Drive的文件共享服务</li><li id="a0f3" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">设计一个社交媒体平台，比如Instagram、Twitter或脸书。</li></ul><p id="6b9e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是这一轮中被问及的一些常见问题。正如你所看到的，问题是模糊的，问题陈述没有提供系统应该设计哪一部分的具体细节。</p><p id="404b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因此，了解如何在这一轮讨论结束时拿出一个好的设计非常重要。</p><h1 id="4eee" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">不同的系统设计回合</h1><p id="7e2c" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">系统设计通常分为两个独立的部分。</p><p id="f062" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但还是那句话，这取决于公司及其流程。因此，在这一轮中，要做好设计系统的高层和低层组件的准备。</p><ul class=""><li id="a71e" class="mo mp jg kx b ky kz lb lc le nc li nd lm ne lq mt mu mv mw bi translated">高层设计</li><li id="4345" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">低层次设计</li></ul><h2 id="7a54" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">高层设计:</strong></h2><p id="f7e1" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">这一轮主要检查您为给定需求构建和设计高级组件的能力。</p><p id="89ba" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">例如，给定一个类似<strong class="kx jh">的问题陈述，设计一个类似Instagram </strong>的社交媒体平台，你需要提出你将需要的不同微服务、发布订阅机制(如果需要)、队列、数据库、缓存等。</p><p id="0027" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">面试官会问一些问题，比如数据在设计中如何流经不同的微服务、容错、重试机制等。您还可能会遇到关于非功能性需求的问题，如可伸缩性、数据一致性、并发性等。</p><p id="6373" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">构建一个分布式可伸缩系统是很困难的。在设计架构时，您需要考虑不同的场景。</p><h2 id="11c5" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated">为HLD回合做准备时，您应该了解的不同概念:</h2><ul class=""><li id="aea3" class="mo mp jg kx b ky mj lb mk le mq li mr lm ms lq mt mu mv mw bi translated">分布式系统的关键特征</li><li id="afc0" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">负载平衡</li><li id="16ba" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">贮藏</li><li id="713a" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">数据划分</li><li id="dd06" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">指数</li><li id="5aa0" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">委托书</li><li id="deba" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">冗余和复制</li><li id="72f9" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">SQL与NoSQL</li><li id="9991" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">CAP定理</li><li id="cfc5" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">一致散列法</li><li id="a4cd" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">长轮询vs WebSockets vs .服务器发送事件</li></ul><h2 id="be31" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated">低层设计:</h2><p id="187c" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">这一轮主要考察你设计你的HLD的底层组件的能力。给定一个问题陈述，你应该用不同的实体、类和属性、继承、组合、设计模式、数据库、表和模式等提出一个设计。</p><p id="6fb0" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你不可能在一轮面试中涵盖所有这些。面试官可能会对任何人感兴趣，这取决于讨论的进展。</p><h2 id="36d6" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated">为LLD回合做准备时，您应该了解的不同概念:</h2><ul class=""><li id="46f5" class="mo mp jg kx b ky mj lb mk le mq li mr lm ms lq mt mu mv mw bi translated">用户模式</li><li id="7dc6" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">用例图</li><li id="42f0" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">类图</li><li id="701c" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">数据库设计</li><li id="9229" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">程序表</li><li id="2aa9" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">活动图</li><li id="472e" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">关注点分离</li><li id="c464" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">OOP原则</li><li id="95a6" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">坚实的原则等</li></ul><h1 id="7855" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">如何接近一轮系统设计面试？</h1><p id="04f3" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">下面是我的有效处理系统设计回合的八步指南。</p><h2 id="8f3a" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">第一步:问很多问题，确定面试的范围:</strong></h2><p id="11fe" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">系统设计问题陈述含糊不清。没有一个正确的答案。因此，提出大量问题并明确讨论的范围非常重要。</p><p id="83b6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">提问多的考生成功几率更大。例如，以下是您可以针对<em class="nr">设计Instagram </em>问题提出的一系列问题:</p><ul class=""><li id="f1d0" class="mo mp jg kx b ky kz lb lc le nc li nd lm ne lq mt mu mv mw bi translated"><em class="nr">有哪些不同类型的账户？<br/>答:仅限用户。我们现在不考虑商业账户</em></li><li id="f3f0" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><em class="nr">用户可以发布什么类型的帖子？<br/>答:让我们考虑一下，在这次讨论中，用户只能发布图片。视频不在讨论范围内。</em></li><li id="d9b7" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><em class="nr">用户可以关注其他用户吗？答:是</em></li><li id="ecde" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">我们应该支持每个帖子的标签吗？答:是的</li><li id="8fe1" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><em class="nr">帖子可以私密吗？<br/>答:让我们假设帖子只能在这个讨论中公开。</em></li><li id="157d" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><em class="nr">用户可以搜索帖子吗？答:是的</em></li><li id="4037" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">我们应该关注客户端架构还是服务器端架构？答:我想从更高的层面上理解客户机-服务器的交互。但是重点应该更多地放在构建一个可伸缩的后端系统上。</li><li id="c3e0" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">预计每天会有多少用户使用该系统？<br/>答:假设我们每天有大约1亿用户登录。</li><li id="d6e2" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><em class="nr">我们是否应该专注于生成用户的主页订阅源？<br/>答:我们不要关注提要生成算法</em></li><li id="c7f0" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><em class="nr">我们应该关注系统的高层设计还是低层设计？<br/>答:让我们在本次讨论中讨论系统的高层设计</em></li></ul><p id="c239" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这些是你可以用来设定讨论范围的一些示例问题。正如你现在看到的，我们知道我们需要专注于建立Instagram的高层次设计。我们不需要考虑用户发布视频。我们不需要考虑以智能的方式生成用户的home feeds。等等</p><h2 id="f77d" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated">步骤2:系统界面定义</h2><p id="9e59" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">一旦我们最终确定了需求，下一步就是提出构建系统所需的API列表。</p><p id="64b4" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您应该定义不同的REST APIs及其契约来支持给定的需求。</p><p id="3861" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">例如，在我们的Instagram示例中，以下是我们需要的一些示例API:</p><p id="c650" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh"> <em class="nr"> storePhoto(user_id，tags，image_url，user_location，…)<br/>get photo(image _ id)<br/>like photo(image _ id，user_id) </em> </strong></p><p id="42de" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当然，这些都是示例API。真实应用程序中使用的API要复杂得多。</p><h2 id="2fa6" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">第三步:容量估算和限制</strong></h2><p id="7931" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">您的系统应该有足够的存储和资源来处理预期的负载和可能在1年后、5年后使用您的系统的用户数量，等等。</p><p id="6fdb" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因此，在设计系统时，估计您需要分配多少资源以避免将来遇到问题是非常重要的。</p><p id="c361" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您的系统设计中有数据库，系统中有高速缓存，则容量估计过程通常涉及计算所有数据库和高速缓存集群每天使用多少内存。</p><p id="57ca" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这给了我们一个很好的估计，从现在起，我们将需要多少内存。</p><p id="f418" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">容量估计也有助于我们设计系统，使其可以横向和纵向扩展，以满足未来更高的容量需求。</p><p id="3d99" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">下面是在我们的Instagram例子中存储照片需要多少存储空间的计算:<br/> </strong> <em class="nr">基于我们上面的假设，我们每天有1亿用户登录。</em></p><p id="ffeb" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">假设100万用户平均每天上传2张照片。</p><p id="f099" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nr"> 2M的照片每天都在上传</em></p><p id="41dc" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nr">这相当于每秒增加23张照片</em></p><p id="f727" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nr">让我们假设平均照片大小为400KB </em></p><p id="079a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nr">每天需要的存储:2M * 400KB = &gt; 800 GB </em></p><p id="6f8e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nr">5年所需存储:<br/> 800GB * 365(一年天数)* 5(年)~= 1425TB </em></p><p id="4250" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nr">10年所需存储:<br/> 800GB * 365(一年天数)* 10(年)~= 2850TB </em></p><h2 id="0040" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">第四步:概要设计</strong></h2><p id="4e0e" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">此时，列出系统中涉及的所有高级组件以及它们之间的交互方式会有所帮助。</p><p id="fef1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">可以是微服务、数据库、缓存、消息队列、低成本存储服务等。</p><p id="d110" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于我们的Instagram示例，我们可以创建两个独立的微服务。一个服务负责上传照片。另一个检索照片的服务。<br/> <br/>你可能会问，两个独立的微服务有什么意义？</p><p id="a57a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是因为上传照片的请求通常低于阅读照片的请求。因此，我们可以根据流量需求分别扩展服务。</p><p id="655c" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们甚至可以使用低成本存储来存储照片，并使用SQL元数据数据库来存储照片的详细信息，如上传者、位置、图像名称、大小、创建时间等。</p><p id="649e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一旦做好准备，您应该能够解释数据将如何流经这些高级组件。</p><h2 id="e566" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">第五步:数据库模式设计</strong></h2><p id="42fe" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">在数据库设计中，我们决定哪种数据库适合我们的用例:SQL或NoSQL，以及实体和它们之间的关系。</p><p id="1e23" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果我们正在构建一个涉及资金流动的银行应用程序，我们就不能使用本质上最终一致的NoSQL数据库。</p><p id="df63" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">同样，我们不能使用数据变化非常频繁的SQL数据库。在我们的Instagram示例中，我们可以使用NoSQL数据库来存储帖子的元数据细节。</p><p id="d1f0" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为什么？</p><p id="dbf2" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因为一个帖子可能有一些属性，如赞、图片url、创建者、创建者等。但是在未来，假设我们想要引入其他特性，比如不喜欢、标签等，使用NoSQL数据库可以很容易地做到，而不需要任何模式改变。</p><h2 id="11da" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">第六步:班级设计</strong></h2><p id="f264" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">在类设计中，我们提出了共享相同职责、关系、操作、属性和语义的低级类实体。</p><p id="1d82" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们基本上列出了类、它们的属性、方法以及它们与其他类的关系。</p><p id="4069" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对你的评价取决于你是否使用了正确的面向对象的概念、原则和设计模式。一个好的系统的设计要牢记所有这些:<strong class="kx jh">抽象、封装、继承&amp;多态。</strong></p><p id="e6d7" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">了解<strong class="kx jh">坚实的原则(面向对象设计的前5条原则)</strong>也很重要。这些原则将有助于您设计更易于维护和扩展的软件。</p><ul class=""><li id="4b6a" class="mo mp jg kx b ky kz lb lc le nc li nd lm ne lq mt mu mv mw bi translated">单一责任原则</li><li id="8211" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><strong class="kx jh"> O </strong> —开闭原理</li><li id="edd4" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><strong class="kx jh"> L </strong> —利斯科夫替代原理</li><li id="5932" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><strong class="kx jh"> I </strong> —界面分离原理</li><li id="6a41" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><strong class="kx jh"> D </strong> —依存倒置原则</li></ul><h2 id="3c1f" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated">第七步:缓存</h2><p id="c8bf" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">缓存是一种高速的内存数据存储层，用于存储数据以供将来更快地访问。这是提高整体系统性能的一种方法。缓存在任何需要伸缩的系统中都很重要。</p><p id="5d3e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们基本上缓存经常使用的数据。与每次从数据库中访问数据相比，这样做将使应用程序花费更少的时间。</p><p id="3945" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我们的Instagram示例中，我们可以缓存照片的元数据，如<em class="nr"> created_by、location、created_at、</em>等，因为对于给定的照片，这些参数永远不会改变。像评论、喜欢等其他参数不能被缓存，因为它们经常改变。</p><p id="0237" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当我们开始在设计中使用缓存时，我们还需要考虑驱逐策略。由于缓存比数据库存储更昂贵，我们必须检查我们存储在缓存中的数据量。所以缓存回收变得很重要。</p><p id="30e6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有许多驱逐政策，如LRU(最近最少使用)，先进先出(先进先出)，LFU(最少使用)，等等。</p><h2 id="1830" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">第8步:数据分区/分片</strong></h2><p id="a7b0" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">我们的应用程序中的所有数据经常无法存储在一台数据库服务器上。在这种情况下，我们需要想出在多个数据库服务器上存储数据的策略。</p><p id="95c2" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这里，我们基本上将大型数据集分割成多个块(逻辑分区)，并将这些块存储在多个节点上。</p><p id="41d0" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">分片是扩展不断增长的应用程序的好技术。</p><p id="b85a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对数据进行分区的技术有很多:<br/> 1 .基于范围的划分<br/> 2。基于散列的分区<br/> 3。基于目录的分区。垂直分区等</p><p id="ea4d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您应该阅读这些内容，以便了解哪些分区方案适用于哪些场景。</p><p id="ee17" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这8个步骤的方法给你一个处理任何系统设计问题的框架。但是请记住，面试官可能对这些步骤中的任何一个都感兴趣，在这种情况下，你应该只关注这一步，并找出细节。</p><h1 id="25af" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated"><strong class="ak">更多提示</strong></h1><h2 id="6d7f" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">系统前秤</strong></h2><p id="1cb4" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">许多候选人甚至在设计出一个工作系统之前，就试图专注于构建一个可伸缩的系统。首先专注于构建系统，然后考虑扩展它。</p><h2 id="f243" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">从高层开始，然后向下钻取</strong></h2><p id="74d8" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">从写下我们正在构建的系统所需的高级组件开始。然后深入调查面试官建议的任何一个较低层次的组成部分。</p><p id="188e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这能让你头脑清晰，帮助你在面试中设计出更好的系统。</p><h2 id="1370" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">提及你做出的所有假设</strong></h2><p id="60b4" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">你应该在面试中提到你所做的所有假设。你和面试官意见一致是很重要的。</p><h2 id="5ee3" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">考虑功能和非功能需求</strong></h2><p id="f42f" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">在设计系统时，记住功能性和非功能性需求。</p><p id="abbf" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有时很难支持非功能性需求，如一致性、可用性、数据持久性等。</p><h2 id="db7f" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">核心算法</strong></h2><p id="29ff" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">有些系统需要实现一个核心算法才能工作。例如，如果你想设计一个类似TinyURL的系统，你需要提出一个算法来为一个给定的长URL生成微小的URL。</p><p id="852a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">没有多少系统设计问题需要复杂的算法来实现。</p><h2 id="6f9e" class="nf ls jg bd lt ng nh dn lx ni nj dp mb le nk nl md li nm nn mf lm no np mh nq bi translated"><strong class="ak">设计合适的秤</strong></h2><p id="d3af" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">基于所需的规模，相同的系统可以以完全不同的方式设计。因此，在讨论开始时，澄清你正在设计的系统的规模。</p><h1 id="051a" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">准备系统设计面试的推荐课程:</h1><p id="4d64" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">以下是我推荐的准备系统设计面试的最佳课程:</p><ol class=""><li id="a591" class="mo mp jg kx b ky kz lb lc le nc li nd lm ne lq ns mu mv mw bi translated"><a class="ae jd" href="https://www.educative.io/courses/grokking-the-system-design-interview?aff=xmn2" rel="noopener ugc nofollow" target="_blank">钻研系统设计面试</a></li><li id="6e2d" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq ns mu mv mw bi translated"><a class="ae jd" href="https://www.educative.io/courses/grokking-the-object-oriented-design-interview?aff=xmn2" rel="noopener ugc nofollow" target="_blank">钻研面向对象设计面试</a></li><li id="afc4" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq ns mu mv mw bi translated"><a class="ae jd" href="https://www.youtube.com/channel/UCn1XnDWhsLS5URXTi5wtFTA" rel="noopener ugc nofollow" target="_blank">科技假人纳伦德拉·L</a></li><li id="38e4" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq ns mu mv mw bi translated"><a class="ae jd" href="https://www.youtube.com/playlist?list=PLMCXHnjXnTnvo6alSjVkgxV-VH6EPyvoX" rel="noopener ugc nofollow" target="_blank">gaur av Sen的系统设计</a></li><li id="37a1" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq ns mu mv mw bi translated"><a class="ae jd" href="https://www.youtube.com/playlist?list=PLAC2AM9O1C5KioUMeH9qIjbAV_RMmX8rd" rel="noopener ugc nofollow" target="_blank">底层设计|代码匹配</a></li></ol><h1 id="3787" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">结论</h1><ul class=""><li id="1372" class="mo mp jg kx b ky mj lb mk le mq li mr lm ms lq mt mu mv mw bi translated">将系统设计面试视为与同事的开放式讨论。</li><li id="a00d" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">你不可能在给定的1-1.5小时内为一个系统想出最好的解决方案。</li><li id="3078" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">阐明所有要求并设定讨论范围。</li><li id="f524" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">确保你和面试官在整个讨论过程中意见一致。</li><li id="d93a" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">了解如何估计未来5-10年所需的数据容量，并根据预期容量设计系统。</li><li id="40e3" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">提及你在面试中做出的所有假设。</li><li id="589e" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">给定一个问题陈述，首先尝试考虑所有的高级组件(服务、数据库、缓存、消息队列等)。然后弄清楚系统的底层细节。</li><li id="c1f1" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">学习如何设计类、数据库和API是很重要的。</li><li id="66b2" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">对于低层次设计面试来说，学习面向对象和坚实的原则是很重要的。</li><li id="3dd4" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">面试官想知道你是如何处理一个给定的问题及其背后的思维过程的。只要你能够证明为什么一个组件是以某种方式设计的，你就是优秀的。</li><li id="c3e8" class="mo mp jg kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">练习解决系统设计问题。这是这一轮做好的唯一方法。</li></ul><p id="9e0a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nr">更多内容看</em><a class="ae jd" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kx jh"><em class="nr">plain English . io</em></strong></a></p></div></div>    
</body>
</html>