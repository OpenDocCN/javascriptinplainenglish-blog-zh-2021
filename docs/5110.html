<html>
<head>
<title>Why Doesn’t My React Code Look Professional?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我的React代码看起来不专业？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/why-doesnt-my-react-code-look-professional-4caefdeabc0c?source=collection_archive---------3-----------------------#2021-10-17">https://javascript.plainenglish.io/why-doesnt-my-react-code-look-professional-4caefdeabc0c?source=collection_archive---------3-----------------------#2021-10-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="95fc" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">适合工作的工具——JavaScript版本</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/fb6dcd7f4be093b6d63118e18a95ab46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5UVMyxU2_7MHjdyA"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@karim_manjra?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Karim MANJRA</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5597" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">除了多年的实践，阅读<a class="ae ks" href="https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882" rel="noopener ugc nofollow" target="_blank">干净的代码</a>，然后阅读<a class="ae ks" href="https://github.com/ryanmcdermott/clean-code-javascript" rel="noopener ugc nofollow" target="_blank">干净的Javascript代码</a>，你可以<em class="lp">自动化</em>你的许多“麻烦”,至少关于你代码的整体“干净”。</p><p id="89e5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如何编写看起来干净的代码是你最终会学到的东西，它是经验和知识的结合，可能不适合写在一篇简短的文章中。但是你可以直接做的是，结合使用<a class="ae ks" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank"> ESLint </a>和<a class="ae ks" href="https://prettier.io/" rel="noopener ugc nofollow" target="_blank">appellister</a>这样的工具，采用规则、标准和最佳实践，这将迫使你写出更好、看起来更整洁的代码。</p><h1 id="edd6" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">为什么我们需要linters和代码格式化程序？</h1><p id="e628" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">我在这里假设，像我们大多数人一样，您已经使用了<code class="fe mn mo mp mq b">create-react-app</code>来快速入门。接下来你要做的是开始实现一个linter (ESLint是目前最流行的选择)和一个code formatter(这里更漂亮的是我们的选择)。linter和代码格式化程序对你帮助最大的是与团队成员合作。一个被每个人的个人风格污染的代码库将很难维护——这就是为什么我们使用linters来消除潜在的有问题的实践，并使用formatters来保持风格的一致性。设置了一个通用标准，配置保存在项目的根中，以便每个克隆项目的人都可以使用，并且通常情况下，CI/CD管道会在将代码合并到分支并触发构建之前检查这些标准是否得到遵守。</p><h1 id="329c" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">ESLint &amp; Airbnb</h1><p id="2e43" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">linter可以以多种方式配置，它通常会有“标志”作为规则集，我们可以在其中指定我们想要遵守的规则——目前，ESLint有许多规则可用，很难决定要遵守哪些规则，尤其是在您刚开始使用的时候。这就是为什么Airbnb(是的，就是Airbnb<a class="ae ks" href="https://www.airbnb.com/" rel="noopener ugc nofollow" target="_blank">的好伙伴们</a>)已经推出了他们自己的<a class="ae ks" href="https://github.com/airbnb/javascript" rel="noopener ugc nofollow" target="_blank">套基本规则</a>，你可以利用这些规则进行开发——目前，大约有670，000+的下载量，我想，至少有两倍的开发人员在遵循他们的风格指南。较新的ESLint版本允许你直接使用流行的风格指南。一旦你确定<code class="fe mn mo mp mq b">eslint -v</code>带回了一个版本号，我们就确定ESLint工具是“全球”安装的，可以像任何其他常用工具(npm、npx、yarn等)一样使用。</p><p id="7364" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在项目的根目录下，运行<code class="fe mn mo mp mq b">eslint --init</code>在控制台中启动一个初始化向导，选择适合你的选项。你将能够指定你的应用在浏览器中运行(与节点环境相比)，你正在使用React，你想要遵循一个流行的风格指南，即Airbnb(以及其他东西)。系统还会提示您安装对等依赖项——在早期版本的ESLint中，您必须手动安装，但现在只需选择“是”即可。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mr"><img src="../Images/29e1c3370de79de6865ad4641d8933e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AoF9Nm0tlq5EEZxxbxrPAw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><a class="ae ks" href="https://prettier.io/" rel="noopener ugc nofollow" target="_blank">https://prettier.io/</a></figcaption></figure><h1 id="3628" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">漂亮&amp;埃斯林</h1><p id="caf6" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">安装更漂亮是非常简单的。按照本指南<a class="ae ks" href="https://prettier.io/docs/en/install.html" rel="noopener ugc nofollow" target="_blank">和几个命令</a>，你应该准备好了。</p><p id="e3cf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe mn mo mp mq b">yarn add --dev --exact prettier</code></p><p id="69f9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">创建一个空的<code class="fe mn mo mp mq b">.prettierrc.json</code>文件，只是为了让其他工具知道Prettier在这里(您可以稍后编辑这个文件来引入您想要的规则)。此外，添加<code class="fe mn mo mp mq b">.prettierignore</code>，它的作用与<code class="fe mn mo mp mq b">.gitignore</code>完全一样，并概述了该工具应该忽略哪些文件和文件夹。</p><p id="86c2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，linters和代码格式化程序的共同点是它们处理代码的风格。由linter执行的一些规则可能<a class="ae ks" href="https://prettier.io/docs/en/comparison.html" rel="noopener ugc nofollow" target="_blank">与</a>重叠，甚至与由一个简单的代码格式化程序执行的规则冲突，看两者如何能够成为独立的工具(考虑到不同的目标)。为了解决这个问题，您可以从安装以下dev依赖项开始:</p><p id="6e9b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe mn mo mp mq b">yarn add --dev eslint-config-prettier</code></p><p id="24bf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">编辑您的<code class="fe mn mo mp mq b">.eslintrc.json</code>文件以使用这个配置:</p><pre class="kd ke kf kg gt ms mq mt mu aw mv bi"><span id="328b" class="mw lr in mq b gy mx my l mz na">{<br/>  "extends": [<br/>    "some-other-config-you-use",<br/>    "prettier"<br/>  ]<br/>}</span></pre><p id="9cf2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这将确保任何与更漂亮的规则冲突的ESLint规则被关闭。这些重叠都与风格有关，因此在等式的一边关闭它们不会对最终产品质量产生任何有意义的影响。</p><p id="96ef" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">注意</strong> : <em class="lp">你可能选择了其他格式来存储你的ESLint配置，上面的例子处理的是JSON格式。</em></p><h1 id="5afa" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">结论</h1><p id="b408" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">现在你知道了。您现在可以使用类似于<code class="fe mn mo mp mq b">npx ESLint yourfile.js</code>的东西来lint您的代码，并且您可以使用<code class="fe mn mo mp mq b">npx prettier --write</code>来格式化您的代码。不过，我要指出的是，<strong class="kv io">一个更好的选择</strong>是通过许多官方插件之一将这些工具集成到您的IDE中，并在保存时自动运行这些命令。随着时间的推移，你甚至不会注意到这种情况的发生，你将能够编码得更快(更好)。</p><p id="57f6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这些工具执行的许多样式和代码质量规则将使您的代码看起来更好，并避免常见的(可能的)陷阱。这些规则通常是由意见和经验形成的，因此，虽然您的代码可能在不遵守这些规则的情况下完美地工作，但是您正在避免一个“站在巨人的肩膀上”的好机会。开发社区是一个巨大的知识来源，世界各地的开发人员分享他们的经验(和观点),他们相信这将使您的代码更容易阅读、维护和扩展。今天就开始使用linter，仔细阅读这些规则，了解它们存在的原因，避免忽略它们(<em class="lp">你可以在代码中加入特殊的注释，偶尔绕过林挺规则</em>，让你的代码库立刻变得更好。</p><p id="667f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lp">此外，如果你认为你有一些我可能遗漏或误解的见解，请在评论中自由讨论——这个主题很广泛，可以用无数种方式来处理。如果你想拓展人脉或者只是扩大人脉——你可以在</em><a class="ae ks" href="https://twitter.com/SNimcevic" rel="noopener ugc nofollow" target="_blank"><em class="lp">Twitter</em></a><em class="lp">和</em><a class="ae ks" href="https://www.linkedin.com/in/sini%C5%A1a-nim%C4%8Devi%C4%87-5b438996/" rel="noopener ugc nofollow" target="_blank"><em class="lp">LinkedIn</em></a><em class="lp">上找到我。</em></p><h1 id="bd40" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">资源</h1><ul class=""><li id="d379" class="nb nc in kv b kw mi kz mj lc nd lg ne lk nf lo ng nh ni nj bi translated"><a class="ae ks" href="https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882" rel="noopener ugc nofollow" target="_blank">https://www . Amazon . com/Clean-Code-Handbook-Software-craftness/DP/0132350882</a></li><li id="52d6" class="nb nc in kv b kw nk kz nl lc nm lg nn lk no lo ng nh ni nj bi translated"><a class="ae ks" href="https://github.com/ryanmcdermott/clean-code-javascript" rel="noopener ugc nofollow" target="_blank">https://github.com/ryanmcdermott/clean-code-javascript </a></li><li id="6ad4" class="nb nc in kv b kw nk kz nl lc nm lg nn lk no lo ng nh ni nj bi translated"><a class="ae ks" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank">https://ESLint.org/</a></li><li id="15d5" class="nb nc in kv b kw nk kz nl lc nm lg nn lk no lo ng nh ni nj bi translated"><a class="ae ks" href="https://github.com/airbnb/javascript" rel="noopener ugc nofollow" target="_blank">https://github.com/airbnb/javascript </a></li><li id="ba2e" class="nb nc in kv b kw nk kz nl lc nm lg nn lk no lo ng nh ni nj bi translated"><a class="ae ks" href="https://prettier.io/docs/en/comparison.html" rel="noopener ugc nofollow" target="_blank">https://prettier.io/docs/en/comparison.html </a></li></ul><p id="0831" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lp"> More content at </em> <a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lp"> plainenglish.io </em> </strong> </a></p></div></div>    
</body>
</html>