<html>
<head>
<title>A Brief Guide to Lazy Loading Images with the Intersection Observer API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用交叉点观察器API延迟加载图像的简要指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lazy-load-images-with-intersection-observer-api-on-webpages-2270d29922c7?source=collection_archive---------13-----------------------#2021-01-23">https://javascript.plainenglish.io/lazy-load-images-with-intersection-observer-api-on-webpages-2270d29922c7?source=collection_archive---------13-----------------------#2021-01-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/e153813a5d2b1104eff62810ab016269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*Dn1WEz4uszOEfhY0Xfi7vQ.jpeg"/></div><figcaption class="jr js gj gh gi jt ju bd b be z dk">Photo by <a class="ae jv" href="https://unsplash.com/@priscilladupreez?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Priscilla Du Preez</a> on <a class="ae jv" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="2d72" class="jw jx in bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">什么是懒装？</h1><p id="be40" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">延迟加载意味着在稍后阶段，当用户将要看到一个特定的项目或与之交互时，在网页上加载项目。</p><h1 id="de5b" class="jw jx in bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">为什么有用？</h1><p id="9fa3" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">假设你有一个在线商店网站，向用户展示成千上万的产品。当页面被加载时，您在视窗中只显示10到20个产品，因此为它们加载图像，但是您可能不想加载底部的产品图像，因为<br/>如果我们在前面加载这些图像，而用户没有向下滚动来查看这些图像，那么将会浪费浏览器资源和下载这些资源的不必要的数据消耗。</p><h1 id="8129" class="jw jx in bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">如何使用交集观察者API来实现？</h1><p id="e865" class="pw-post-body-paragraph ku kv in kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ig bi translated">还有其他外部库支持这个特性，但是我们也可以使用Intersection Observer API来实现，这是一个本地的web API。</p><figure class="ls lt lu lv gt jo"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="4d16" class="pw-post-body-paragraph ku kv in kw b kx ly kz la lb lz ld le lf ma lh li lj mb ll lm ln mc lp lq lr ig bi translated">默认情况下，所有图像都有<code class="fe md me mf mg b">dataSrc</code>标签(而不是<code class="fe md me mf mg b">src</code>标签),这对于浏览器是未知的，并且图像不会提前加载。</p><p id="bfbb" class="pw-post-body-paragraph ku kv in kw b kx ly kz la lb lz ld le lf ma lh li lj mb ll lm ln mc lp lq lr ig bi translated">然后，我们在网页上的每个图像上设置一个交叉点监听器，一旦该图像与浏览器视窗相交，回调函数就会被触发。在回调函数中，我们通过从<code class="fe md me mf mg b">dataSrc</code>标签复制值来设置<code class="fe md me mf mg b">src</code>属性，现在由于<code class="fe md me mf mg b">src</code>标签为浏览器所知，它将加载图像。最后，观察者从该图像中移除。</p><p id="1088" class="pw-post-body-paragraph ku kv in kw b kx ly kz la lb lz ld le lf ma lh li lj mb ll lm ln mc lp lq lr ig bi translated">就是这样。你可以在https://github.com/SaurabhGarg1/Lazy-load-images<a class="ae jv" href="https://github.com/SaurabhGarg1/Lazy-load-images" rel="noopener ugc nofollow" target="_blank">找到完整的源代码</a></p></div></div>    
</body>
</html>