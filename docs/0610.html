<html>
<head>
<title>How To Create A Polyfill</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建聚合填充</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-polyfill-3c924fa11417?source=collection_archive---------3-----------------------#2021-02-07">https://javascript.plainenglish.io/how-to-create-a-polyfill-3c924fa11417?source=collection_archive---------3-----------------------#2021-02-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/6c540e45bb618a574036f109544a703a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cP7gzAeW1VKOKjkN"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Photo by <a class="ae ja" href="https://unsplash.com/@goshua13?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joshua Aragon</a> on <a class="ae ja" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><div class=""><h2 id="3f6e" class="pw-subtitle-paragraph ka jc jd bd b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dk translated">什么是聚合填充，如何创建聚合填充？</h2></div><p id="6363" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">让我们先了解一下polyfill是什么，以及为什么要费心去了解它。</p><p id="bae6" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">每个人都遇到过这样的情况，他们期望浏览器本身支持的方法很少，但随着每个新浏览器的出现，缺点也很少。</p><p id="23bd" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">如果你发现Chrome从下一版本开始将不再支持我们用于函数借用的<strong class="ku je"> bind </strong>方法，你会怎么做。(不知道功能借出<a class="ae ja" href="https://d1vyesh.medium.com/let-us-understand-binding-concepts-once-and-for-all-c72c2f74f80a" rel="noopener"> <strong class="ku je">本</strong> </a>)。</p><p id="a3bd" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="lo">polyfill是一段代码，用于实现您希望浏览器本身支持的功能。</em></p><p id="f7bb" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">现在你知道什么是聚合填充，让我们学习如何写一个聚合填充。</p><p id="769a" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在开始编写polyfill代码之前，您应该了解该函数实际上是做什么的，它如何接受参数，以及可以将参数传递给函数的可能方式。</p><p id="041b" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">举一个例子，我们将采用<strong class="ku je"> bind </strong>方法，并为bind方法编写一个polyfill。</p><p id="99e0" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">让我们通过理解bind函数的性质和知道在这个<strong class="ku je"> bind </strong>函数中传递一个参数的可能性。</p><figure class="lp lq lr ls gt ip"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="13bb" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这是一个简单的例子，它使用<strong class="ku je">这个</strong>来获取参数。输入参数的可能性仍然是</p><ol class=""><li id="619c" class="lv lw jd ku b kv kw ky kz lb lx lf ly lj lz ln ma mb mc md bi translated">当bind方法与<strong class="ku je"> person一起使用时，它可以被传递。</strong></li><li id="63ec" class="lv lw jd ku b kv me ky mf lb mg lf mh lj mi ln ma mb mc md bi translated">调用<strong class="ku je"> myfunc </strong>时可以通过。</li></ol><p id="a778" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">让我们从编写简单的绑定函数开始，并在编写过程中随机应变。开始之前，让我们写下我们所知道的关于<strong class="ku je">绑定</strong>函数的事情。</p><ol class=""><li id="ca69" class="lv lw jd ku b kv kw ky kz lb lx lf ly lj lz ln ma mb mc md bi translated">它返回一个函数。</li><li id="da82" class="lv lw jd ku b kv me ky mf lb mg lf mh lj mi ln ma mb mc md bi translated">我们需要访问这个变量来调用给定参数的函数。</li><li id="ed92" class="lv lw jd ku b kv me ky mf lb mg lf mh lj mi ln ma mb mc md bi translated">每个JS函数都应该可以访问我们的绑定函数，因此我们需要使用Function.prototype。</li></ol><figure class="lp lq lr ls gt ip"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="1641" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">现在我们有了自己的简单函数，让我们试着将它与本地绑定方法进行比较。</p><figure class="lp lq lr ls gt ip"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="c743" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">既然这是可行的，我们应该开始寻找一些方法来改进这个方法，因为有很多输入参数的机会。</p><ol class=""><li id="6bf8" class="lv lw jd ku b kv kw ky kz lb lx lf ly lj lz ln ma mb mc md bi translated">对于第一个问题，由于我们已经获取了在绑定状态期间传递的所有参数，我们可以通过调用函数来移除已经在使用<strong class="ku je"> args[0】的第一个元素。</strong></li></ol><p id="95af" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我们可以使用splice来删除第一个参数并保留其余的参数，但这将返回一个数组，因此我们可以不使用<strong class="ku je">调用</strong>，而只使用apply，它将一个数组作为它的第二个参数。</p><figure class="lp lq lr ls gt ip"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="5c9a" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">既然我们已经解决了这个问题。剩下的唯一问题是调用克隆函数时传递的参数。</p><p id="6454" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">因为我们返回的是一个函数，我们不接受返回函数的参数。获取返回的函数参数，并将这些参数连接到我们的原始参数数组，我们就有了完整的解决方案。</p><figure class="lp lq lr ls gt ip"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="ed95" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">欢迎分享反馈并联系我。</p><p id="262f" class="pw-post-body-paragraph ks kt jd ku b kv kw ke kx ky kz kh la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">以防你不知道函数借用或绑定的概念，看看这里的<a class="ae ja" href="https://d1vyesh.medium.com/let-us-understand-binding-concepts-once-and-for-all-c72c2f74f80a" rel="noopener"/>。</p></div></div>    
</body>
</html>