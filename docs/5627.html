<html>
<head>
<title>TypeScript: What? Why? How?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">打字稿:什么？为什么？怎么会？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/typescript-what-why-how-3c2301e6ea40?source=collection_archive---------6-----------------------#2021-11-24">https://javascript.plainenglish.io/typescript-what-why-how-3c2301e6ea40?source=collection_archive---------6-----------------------#2021-11-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/851e2c3eeaa27388d1284f18b2f77139.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eZX21KaXanUokLYelxNURg.png"/></div></figure><h1 id="433b" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">介绍</h1><p id="c3ed" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">TypeScript已经存在了几年，而且它的应用越来越广泛，所以即使您还没有使用过它，或者没有亲自使用过它，如果您在过去几年中使用过web浏览器，您肯定听说过它。</p><p id="949c" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">本文将是我打算撰写的系列文章的第一篇，总结我在旅程中发现的所有有价值的资源，在我个人看来，这是编写大型web应用程序最有用的工具之一。</p><p id="badd" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">我从2016年底2.0版发布以来就一直在使用TypeScript，并且在此后我参与的几乎所有项目中都使用了它，唯一没有100%包括它的原因只是遗留系统的需求问题。</p><p id="0c99" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">所以，让我们开始吧。</p></div><div class="ab cl ls lt hr lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ig ih ii ij ik"><h1 id="6050" class="jr js in bd jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk md km kn ko bi translated">什么</h1><blockquote class="me"><p id="719d" class="mf mg in bd mh mi mj mk ml mm mn lm dk translated">可伸缩的JavaScript</p></blockquote><p id="0de3" class="pw-post-body-paragraph kp kq in kr b ks mo ku kv kw mp ky kz la mq lc ld le mr lg lh li ms lk ll lm ig bi translated">在它的官方网站上有很长一段时间的介绍，这可能是你能找到的最短的解释。</p><p id="1fec" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">本质上，TypeScript是JavaScript的超集，提供了一个<strong class="kr io">可选的</strong>类型系统。即使你决定使用它，你也没有义务100%坚持它。即使您的整个代码库都通过TypeScript编译器，编写普通的JS也没问题。</p><p id="7582" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">因为是超集，所以JavaScript代码的每一行也是有效的TypeScript代码。</p><p id="be44" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">此外，它还为已经存在的JavaScript引擎的未来<a class="ae mt" href="https://www.ecma-international.org/publications-and-standards/standards/ecma-262/" rel="noopener ugc nofollow" target="_blank"> ECMA </a>规范提供了计划的特性。</p><p id="a130" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">它可以在客户端和服务器端使用，但必须先编译成JavaScript，因为浏览器和node.js不理解TypeScript语法。然而，像<a class="ae mt" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> webpack </a>、<a class="ae mt" href="https://rollupjs.org/guide/en/" rel="noopener ugc nofollow" target="_blank"> rollup </a>或<a class="ae mt" href="https://vitejs.dev/" rel="noopener ugc nofollow" target="_blank"> vite </a>这样的现代捆绑器提供了源代码映射的插件，可以帮助调试，使用您编写的实际代码，而不是编译的、几乎不可读的JavaScript。</p><p id="07be" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">TypeScript由微软开发和维护，与他们的Visual Studio代码惊人地同步。</p><h1 id="0b83" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">为什么</h1><p id="09be" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">我和很多人谈过这个话题，他们最初都很怀疑地接受这个想法:</p><blockquote class="me"><p id="29bd" class="mf mg in bd mh mi mj mk ml mm mn lm dk translated">为什么我要在我的代码上引入另一个框架，这基本上会让我在添加额外的语法上浪费时间，而不是仅仅编写动态的、松散类型的JavaScript。</p></blockquote><p id="4f03" class="pw-post-body-paragraph kp kq in kr b ks mo ku kv kw mp ky kz la mq lc ld le mr lg lh li ms lk ll lm ig bi translated">我同意这听起来可能违反直觉，但从长远来看，以上也是在您的代码库中采用TypeScript的最大原因之一。</p><p id="7913" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">看一下下面的例子:</p><figure class="mu mv mw mx gt jo"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="d9db" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated"><strong class="kr io"> JavaScript的动态风格允许在运行时修改类型。</strong>所以上面的例子绝对成立。变量<code class="fe na nb nc nd b">num</code>被定义为数字，但后来被转换为字符串。非常安静，如果不是故意的，可能会很危险。</p><p id="1ab5" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">TypeScript中的同一个块将输出:</p><pre class="mu mv mw mx gt ne nd nf ng aw nh bi"><span id="9e9b" class="ni js in nd b gy nj nk l nl nm">Type 'string' is not assignable to type 'number'.</span></pre><p id="7553" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">现在，由于这是完全有效的JavaScript代码，编译器将显示这个错误，但仍然会发出编译后的代码，因为它只会通知您潜在的错误。</p><p id="8280" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">此外，将TypeScript集成到您的IDE中，这是VSC自带的，这一行将在您进行编译之前突出显示，因此如果这是一个错误，<strong class="kr io">编辑器将提前向您显示潜在的类型错误</strong>，这是类型安全的另一个巨大优势。</p><p id="0a42" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated"><strong class="kr io"> TypeScript将尝试推断尽可能多的类型</strong>，即使您最初没有设置所需的类型输出。从长远来看，在您自己编译代码之前，编译器会注意到大量的常见错误。</p><p id="192f" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">另一个很大的优势是支持定义文件，其中包含现有库的类型信息，即使它们完全是用JavaScript编写的。甚至有一个惊人的、不断增长的开源库，其中包含社区生成的类型，用于现有的、很大程度上并不那么流行的库:<a class="ae mt" href="https://github.com/DefinitelyTyped/DefinitelyTyped" rel="noopener ugc nofollow" target="_blank">绝对类型化</a>。</p><p id="583f" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">此外，已经有相当多的案例研究来自大公司，逐渐采用打字稿，像<a class="ae mt" href="https://www.infoq.com/news/2020/11/bloomberg-typescript-adoption/" rel="noopener ugc nofollow" target="_blank">彭博</a>。看起来整个世界都在向打字稿发展，所以至少你应该试一试。</p><h1 id="24b3" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">怎么做</h1><p id="ece7" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">如前所述，你不需要重新开始。任何项目都可以采用TypeScript，无论规模大小。即使您切换您的分机。js文件到。ts，它们将通过编译器运行，因为代码仍然有效，即使没有正确键入。</p><p id="4ea7" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">你唯一需要的是编译器。这里你有很多选择。最简单的方法是全局安装编译器:</p><pre class="mu mv mw mx gt ne nd nf ng aw nh bi"><span id="81b7" class="ni js in nd b gy nj nk l nl nm">npm install -g typescript</span></pre><p id="a667" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">这将允许您在终端中访问<code class="fe na nb nc nd b">tsc</code>命令，并且您将被允许在任何ts文件上运行编译器，比如:</p><pre class="mu mv mw mx gt ne nd nf ng aw nh bi"><span id="6e5e" class="ni js in nd b gy nj nk l nl nm">tsc myfile.ts</span></pre><p id="52dc" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">当然，随着新框架和捆绑器的不断引入，这不是最有效的方法，但它是官方的、最简单的方法。</p><p id="90c8" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">我将在下一篇文章中更详细地讨论可能的样板文件和编译器选项。</p><h1 id="f554" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated"><strong class="ak">结论</strong></h1><p id="d8f7" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">正如开头提到的，这个故事是我每周发表的整个系列的第一个。</p><p id="cc4e" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">我已经发表了几篇比这篇文章更好的文章:</p><ul class=""><li id="4422" class="nn no in kr b ks ln kw lo la np le nq li nr lm ns nt nu nv bi translated"><a class="ae mt" href="https://medium.com/@dzhurovivan/typescript-intro-to-development-environments-d632a85c5e4d" rel="noopener">开发环境</a></li><li id="e15c" class="nn no in kr b ks nw kw nx la ny le nz li oa lm ns nt nu nv bi translated"><a class="ae mt" href="https://medium.com/@dzhurovivan/typescript-environment-with-webpack-compilation-and-automatic-reload-b4d6d5a60f6f" rel="noopener">网络包启动器+ HMR </a></li></ul><p id="83e1" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated">我收到的任何反馈都将被考虑在内，并为该语言提供全面的评论和教程。</p><p id="46e6" class="pw-post-body-paragraph kp kq in kr b ks ln ku kv kw lo ky kz la lp lc ld le lq lg lh li lr lk ll lm ig bi translated"><em class="ob">更多内容请看</em><a class="ae mt" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ob">plain English . io</em></a><em class="ob">。在这里注册我们的</em> <a class="ae mt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ob">免费周报</em> </a> <em class="ob">。</em></p></div></div>    
</body>
</html>