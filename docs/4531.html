<html>
<head>
<title>Convert a React Component to Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将React组件转换为Vue.js</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/convert-a-reactjs-component-to-vuejs-49b3d132fd8b?source=collection_archive---------13-----------------------#2021-09-09">https://javascript.plainenglish.io/convert-a-reactjs-component-to-vuejs-49b3d132fd8b?source=collection_archive---------13-----------------------#2021-09-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/b43d938909b82c68848189c55557258e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HZ8_uPrjJfVZ15Zc.png"/></div></div></figure><div class=""/><blockquote class="jv jw jx"><p id="6827" class="jy jz ka kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在本教程中，我们将把React by <a class="ae kx" href="https://www.youtube.com/watch?v=tcUVUBlyXX8" rel="noopener ugc nofollow" target="_blank"> Florin Pop </a>内置的时间线组件重写为Vue.js。你可以在这里看到组件的运行<a class="ae kx" href="https://www.florin-pop.com/timeline/" rel="noopener ugc nofollow" target="_blank">。</a></p></blockquote><h2 id="0def" class="ky kz iy bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">使用<a class="ae kx" href="https://vitejs.dev/" rel="noopener ugc nofollow" target="_blank"> Vite </a>搭建你的Vue.js应用</h2><p id="5f02" class="pw-post-body-paragraph jy jz iy kb b kc lu ke kf kg lv ki kj lh lw km kn ll lx kq kr lp ly ku kv kw ig bi translated">只要有机会，我都会尝试使用Vite。</p><p id="baff" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">由于即时服务器启动和闪电般快速的HMR(热模块替换)等特性，它极大地提高了开发速度。</p><ol class=""><li id="197a" class="lz ma iy kb b kc kd kg kh lh mb ll mc lp md kw me mf mg mh bi translated">让我们初始化我们的项目:</li></ol><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="9e87" class="ky kz iy mn b gy mr ms l mt mu">npm init vite@latest</span></pre><ol class=""><li id="d552" class="lz ma iy kb b kc kd kg kh lh mb ll mc lp md kw me mf mg mh bi translated">按照提示选择<code class="fe mv mw mx mn b">vue</code>作为我们的框架和变体。</li><li id="e0f4" class="lz ma iy kb b kc my kg mz lh na ll nb lp nc kw me mf mg mh bi translated"><code class="fe mv mw mx mn b">cd</code>放入生成的目录，用<code class="fe mv mw mx mn b">npm install</code>安装依赖项。</li><li id="6c03" class="lz ma iy kb b kc my kg mz lh na ll nb lp nc kw me mf mg mh bi translated">使用<code class="fe mv mw mx mn b">npm run dev</code>运行新的Vite + Vue.js项目。</li></ol><h2 id="84cf" class="ky kz iy bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">构建Vue.js组件</h2><p id="2a2f" class="pw-post-body-paragraph jy jz iy kb b kc lu ke kf kg lv ki kj lh lw km kn ll lx kq kr lp ly ku kv kw ig bi translated">现在，有趣的事情。让我们开始转换React代码。</p><h2 id="5373" class="ky kz iy bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><code class="fe mv mw mx mn b">App.vue</code>看起来很像React版本:</h2><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="7216" class="ky kz iy mn b gy mr ms l mt mu">// App.vue<br/>&lt;script setup&gt;<br/>import Timeline from './components/Timeline.vue'<br/>&lt;/script&gt;<br/><br/>&lt;template&gt;<br/>  &lt;Timeline /&gt;<br/>&lt;/template&gt;</span><span id="0f0f" class="ky kz iy mn b gy nd ms l mt mu">// React Version<br/>const App = () =&gt; (<br/>  &lt;&gt;<br/>    &lt;h1&gt;React Timeline&lt;/h1&gt;<br/>    &lt;Timeline /&gt;<br/>  &lt;/&gt;<br/>)</span></pre><p id="f7a3" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">这里的关键区别是<a class="ae kx" href="https://vuejs.org/v2/guide/syntax.html" rel="noopener ugc nofollow" target="_blank">模板标签</a>，这是Vue.js语法的重要部分。</p><h2 id="5775" class="ky kz iy bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">现在让我们深入研究时间轴组件— <code class="fe mv mw mx mn b">Timeline.vue</code></h2><p id="d009" class="pw-post-body-paragraph jy jz iy kb b kc lu ke kf kg lv ki kj lh lw km kn ll lx kq kr lp ly ku kv kw ig bi translated">时间轴组件是数据收集和容器发生的地方。</p><p id="0c26" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">在本例中，我们从本地<code class="fe mv mw mx mn b">data.json</code>文件中收集数据。使用像<a class="ae kx" href="https://axios-http.com/" rel="noopener ugc nofollow" target="_blank"> axios </a>这样的软件包，让这个组件处理实时数据应该不需要太多额外的工作。</p><p id="abdb" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">虽然React版本占用的垂直空间更少，但Vue.js版本更容易阅读。我们使用<code class="fe mv mw mx mn b">v-for</code>来应用相同的功能，而不是应用内联映射函数。</p><p id="99b2" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">Vue.js将动态数据附加到一个名为<a class="ae kx" href="https://vuejs.org/v2/api/#v-bind" rel="noopener ugc nofollow" target="_blank"> v-bind </a>的属性中。v-bind的简写是<code class="fe mv mw mx mn b">:</code>。如你所见<code class="fe mv mw mx mn b">:data=data</code>是等同于<code class="fe mv mw mx mn b">data={data}</code>的Vue.js。</p><p id="c7b0" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">还要注意，Vue.js不使用<code class="fe mv mw mx mn b">className</code>来应用它的CSS。相反，您可以使用经典的<code class="fe mv mw mx mn b">class</code>关键字。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="c982" class="ky kz iy mn b gy mr ms l mt mu">// React Version<br/>const Timeline = () =&gt;<br/>  timelineData.length &gt; 0 &amp;&amp; (<br/>    &lt;div className="timeline-container"&gt;<br/>      {timelineData.map((data, idx) =&gt; (<br/>        &lt;TimelineItem data={data} key={idx} /&gt;<br/>      ))}<br/>    &lt;/div&gt;<br/>  )</span><span id="a557" class="ky kz iy mn b gy nd ms l mt mu">// components/Timeline.vue<br/><br/>&lt;template&gt;<br/>  &lt;div class="timeline-container"&gt;<br/>    &lt;TimelineItem v-for="(data, idx) in timelineData" :data="data" :key="idx" /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>import json from '../assets/data.json'<br/>import TimelineItem from './TimelineItem.vue'<br/><br/>export default {<br/>  components: {<br/>    TimelineItem,<br/>  },<br/>  data: () =&gt; ({<br/>    timelineData: json,<br/>  }),<br/>}<br/>&lt;/script&gt;</span></pre><p id="1db2" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">以下是数据的一个示例:</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="e3a3" class="ky kz iy mn b gy mr ms l mt mu">[<br/>  {<br/>     "text": "Started working on the app-ideas repository",<br/>     "date": "February 25 2021",<br/>     "category": {<br/>        "tag": "app-ideas",<br/>        "color": "#FFDB14"<br/>     },<br/>     "link": {<br/>        "url": "https://github.com/florinpop17/app-ideas",<br/>        "text": "Check it out on GitHub"<br/>     }<br/>  },<br/>  ...<br/>]</span></pre><h2 id="cb65" class="ky kz iy bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">将TimelineItem组件转换为Vue.js</h2><p id="d1f8" class="pw-post-body-paragraph jy jz iy kb b kc lu ke kf kg lv ki kj lh lw km kn ll lx kq kr lp ly ku kv kw ig bi translated">TimelineItem组件是大多数UI逻辑发生的地方。我们现在正在处理我们在时间轴组件中收集的数据。</p><p id="f75d" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">除了析构数据对象和根据需要进行样式化之外，没有发生太多事情。</p><p id="c9a2" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">我们在Vue.js中销毁数据的方式不同于在React中。</p><ul class=""><li id="d690" class="lz ma iy kb b kc kd kg kh lh mb ll mc lp md kw ne mf mg mh bi translated">当在两个HTML元素之间使用数据时，你必须用两个花括号<code class="fe mv mw mx mn b">{{}}</code>来解构它</li><li id="9905" class="lz ma iy kb b kc my kg mz lh na ll nb lp nc kw ne mf mg mh bi translated">当访问一个<code class="fe mv mw mx mn b">v-bind:</code>中的数据时，你使用单个花括号<code class="fe mv mw mx mn b">{data}</code>来析构它</li><li id="c836" class="lz ma iy kb b kc my kg mz lh na ll nb lp nc kw ne mf mg mh bi translated">当访问指令中的数据时，比如<code class="fe mv mw mx mn b">v-if</code>，你输入数据<code class="fe mv mw mx mn b">v-if="data"</code></li></ul><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="bec7" class="ky kz iy mn b gy mr ms l mt mu">const TimelineItem = ({ data }) =&gt; (<br/>  &lt;div className="timeline-item"&gt;<br/>    &lt;div className="timeline-item-content"&gt;<br/>      &lt;span className="tag" style={{ background: data.category.color }}&gt;<br/>        {data.category.tag}<br/>      &lt;/span&gt;<br/>      &lt;time&gt;{data.date}&lt;/time&gt;<br/>      &lt;p&gt;{data.text}&lt;/p&gt;<br/>      {data.link &amp;&amp; (<br/>        &lt;a href={data.link.url} target="_blank" rel="noopener noreferrer"&gt;<br/>          {data.link.text}<br/>        &lt;/a&gt;<br/>      )}<br/>      &lt;span className="circle" /&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>)</span><span id="1c60" class="ky kz iy mn b gy nd ms l mt mu">// components/TimelineItem.vue<br/>&lt;template&gt;<br/>  &lt;div class="timeline-item"&gt;<br/>    &lt;div class="timeline-item-content"&gt;<br/>      &lt;span class="tag" :style="{ background: `${data.category.color}` }"&gt;<br/>        {{ data.category.tag }}<br/>      &lt;/span&gt;<br/>      &lt;time&gt;{{ data.date }}&lt;/time&gt;<br/>      &lt;p&gt;{{ data.text }}&lt;/p&gt;<br/>      &lt;a<br/>        v-if="data.link"<br/>        :href="data.link.url"<br/>        target="_blank"<br/>        rel="noopener noreferrer"<br/>      &gt;<br/>        {{ data.link.text }}<br/>      &lt;/a&gt;<br/>      &lt;span class="circle" /&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>export default {<br/>  props: {<br/>    data: {<br/>      type: Object,<br/>      required: true,<br/>    },<br/>  },<br/>}<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;&lt;/style&gt;</span></pre><h2 id="b71f" class="ky kz iy bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">附加Vue.js配置</h2><p id="8496" class="pw-post-body-paragraph jy jz iy kb b kc lu ke kf kg lv ki kj lh lw km kn ll lx kq kr lp ly ku kv kw ig bi translated">为了让下面提供的CSS样式化我们的组件，我们需要公开CSS以在我们的Vue.js应用程序中工作。对于这个例子，我在我的<code class="fe mv mw mx mn b">main.js</code>文件中放置了一个导入语句。</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="c6d8" class="ky kz iy mn b gy mr ms l mt mu">import { createApp } from 'vue'<br/>import App from './App.vue'<br/><br/>import './assets/main.css'<br/><br/>createApp(App).mount('#app')</span></pre><h2 id="221a" class="ky kz iy bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">使用CSS样式化组件</h2><p id="a6f2" class="pw-post-body-paragraph jy jz iy kb b kc lu ke kf kg lv ki kj lh lw km kn ll lx kq kr lp ly ku kv kw ig bi translated">对于这个组件，我使用放置在我们的<code class="fe mv mw mx mn b">assets</code>目录中的<code class="fe mv mw mx mn b">main.css</code>文件。下面是该组件中使用的CSS:</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="01a3" class="ky kz iy mn b gy mr ms l mt mu">/* assets/main.css */<br/>@import url('https://fonts.googleapis.com/css?family=Lato');<br/><br/>* {<br/>  box-sizing: border-box;<br/>}<br/><br/>body {<br/>  background-image: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);<br/><br/>  display: flex;<br/>  align-items: center;<br/>  justify-content: center;<br/>  flex-direction: column;<br/><br/>  min-height: 100vh;<br/>  font-family: 'Lato', sans-serif;<br/>  margin: 0;<br/>}<br/><br/>h1 {<br/>  text-align: center;<br/>}<br/><br/>#app {<br/>  padding: 0 20px;<br/>  width: 100%;<br/>}<br/><br/>.timeline-container {<br/>  display: flex;<br/>  flex-direction: column;<br/>  position: relative;<br/>  margin: 40px 0;<br/>}<br/><br/>.timeline-container::after {<br/>  background-color: #e17b77;<br/>  content: '';<br/>  position: absolute;<br/>  left: calc(50% - 2px);<br/>  width: 4px;<br/>  height: 100%;<br/>}<br/><br/>.timeline-item {<br/>  display: flex;<br/>  justify-content: flex-end;<br/>  padding-right: 30px;<br/>  position: relative;<br/>  margin: 10px 0;<br/>  width: 50%;<br/>}<br/><br/>.timeline-item:nth-child(odd) {<br/>  align-self: flex-end;<br/>  justify-content: flex-start;<br/>  padding-left: 30px;<br/>  padding-right: 0;<br/>}<br/><br/>.timeline-item-content {<br/>  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);<br/>  border-radius: 5px;<br/>  background-color: #fff;<br/>  display: flex;<br/>  flex-direction: column;<br/>  align-items: flex-end;<br/>  padding: 15px;<br/>  position: relative;<br/>  width: 400px;<br/>  max-width: 70%;<br/>  text-align: right;<br/>}<br/><br/>.timeline-item-content::after {<br/>  content: ' ';<br/>  background-color: #fff;<br/>  box-shadow: 1px -1px 1px rgba(0, 0, 0, 0.2);<br/>  position: absolute;<br/>  right: -7.5px;<br/>  top: calc(50% - 7.5px);<br/>  transform: rotate(45deg);<br/>  width: 15px;<br/>  height: 15px;<br/>}<br/><br/>.timeline-item:nth-child(odd) .timeline-item-content {<br/>  text-align: left;<br/>  align-items: flex-start;<br/>}<br/><br/>.timeline-item:nth-child(odd) .timeline-item-content::after {<br/>  right: auto;<br/>  left: -7.5px;<br/>  box-shadow: -1px 1px 1px rgba(0, 0, 0, 0.2);<br/>}<br/><br/>.timeline-item-content .tag {<br/>  color: #fff;<br/>  font-size: 12px;<br/>  font-weight: bold;<br/>  top: 5px;<br/>  left: 5px;<br/>  letter-spacing: 1px;<br/>  padding: 5px;<br/>  position: absolute;<br/>  text-transform: uppercase;<br/>}<br/><br/>.timeline-item:nth-child(odd) .timeline-item-content .tag {<br/>  left: auto;<br/>  right: 5px;<br/>}<br/><br/>.timeline-item-content time {<br/>  color: #777;<br/>  font-size: 12px;<br/>  font-weight: bold;<br/>}<br/><br/>.timeline-item-content p {<br/>  font-size: 16px;<br/>  line-height: 24px;<br/>  margin: 15px 0;<br/>  max-width: 250px;<br/>}<br/><br/>.timeline-item-content a {<br/>  color: #333;<br/>  text-decoration: none;<br/>  font-size: 14px;<br/>  font-weight: bold;<br/>}<br/><br/>.timeline-item-content a::after {<br/>  content: ' ►';<br/>  font-size: 12px;<br/>}<br/><br/>.timeline-item-content .circle {<br/>  background-color: #fff;<br/>  border: 3px solid #e17b77;<br/>  border-radius: 50%;<br/>  position: absolute;<br/>  top: calc(50% - 10px);<br/>  right: -40px;<br/>  width: 20px;<br/>  height: 20px;<br/>  z-index: 100;<br/>}<br/><br/>.timeline-item:nth-child(odd) .timeline-item-content .circle {<br/>  right: auto;<br/>  left: -40px;<br/>}<br/><br/>@media only screen and (max-width: 1023px) {<br/>  .timeline-item-content {<br/>    max-width: 100%;<br/>  }<br/>}<br/><br/>@media only screen and (max-width: 767px) {<br/>  .timeline-item-content,<br/>  .timeline-item:nth-child(odd) .timeline-item-content {<br/>    padding: 15px 10px;<br/>    text-align: center;<br/>    align-items: center;<br/>  }<br/><br/>  .timeline-item-content .tag {<br/>    width: calc(100% - 10px);<br/>    text-align: center;<br/>  }<br/><br/>  .timeline-item-content time {<br/>    margin-top: 20px;<br/>  }<br/><br/>  .timeline-item-content a {<br/>    text-decoration: underline;<br/>  }<br/><br/>  .timeline-item-content a::after {<br/>    display: none;<br/>  }<br/>}<br/><br/>footer {<br/>  background-color: #222;<br/>  color: #fff;<br/>  font-size: 14px;<br/>  bottom: 0;<br/>  position: fixed;<br/>  left: 0;<br/>  right: 0;<br/>  text-align: center;<br/>  z-index: 999;<br/>}<br/><br/>footer p {<br/>  margin: 10px 0;<br/>}<br/><br/>footer i {<br/>  color: red;<br/>}<br/><br/>footer a {<br/>  color: #3c97bf;<br/>  text-decoration: none;<br/>}</span></pre><h2 id="177f" class="ky kz iy bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">额外资源</h2><ul class=""><li id="2245" class="lz ma iy kb b kc lu kg lv lh nf ll ng lp nh kw ne mf mg mh bi translated">带有源代码的Github库—<a class="ae kx" href="https://github.com/CodyBontecou/timeline-component-vuejs" rel="noopener ugc nofollow" target="_blank">https://github.com/CodyBontecou/timeline-component-vuejs</a></li><li id="553f" class="lz ma iy kb b kc my kg mz lh na ll nb lp nc kw ne mf mg mh bi translated">Florin Pop制作了一个<a class="ae kx" href="https://www.youtube.com/watch?v=tcUVUBlyXX8" rel="noopener ugc nofollow" target="_blank"> YouTube视频</a>演示如何使用React构建这个组件。</li><li id="e93a" class="lz ma iy kb b kc my kg mz lh na ll nb lp nc kw ne mf mg mh bi translated"><a class="ae kx" href="https://codepen.io/FlorinPop17/pen/GLEPZy" rel="noopener ugc nofollow" target="_blank">反应码打开</a></li></ul><p id="5124" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated"><em class="ka">更多内容看</em> <a class="ae kx" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kb iz"> <em class="ka">说白了就是</em> </strong> </a> <strong class="kb iz"> <em class="ka">。</em> </strong> <em class="ka">报名参加我们的</em> <a class="ae kx" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kb iz"> <em class="ka">免费每周简讯这里</em> </strong> </a> <strong class="kb iz"> <em class="ka">。</em> </strong></p></div></div>    
</body>
</html>