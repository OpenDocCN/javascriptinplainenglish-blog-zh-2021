<html>
<head>
<title>Build A React Pomodoro App With Material-UI And TailwindCSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Material-UI和TailwindCSS构建一个React Pomodoro应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-react-pomodoro-app-with-material-ui-and-tailwindcss-e4bab98e30ae?source=collection_archive---------10-----------------------#2021-01-04">https://javascript.plainenglish.io/build-a-react-pomodoro-app-with-material-ui-and-tailwindcss-e4bab98e30ae?source=collection_archive---------10-----------------------#2021-01-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0f1c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在React Web应用程序中使用材质组件和TailwindCSS</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/30e6b87e012988fc7b3448f55387507e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LIrcRvwsixuaRPoe"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://unsplash.com/photos/FUVPpOyjAvQ" rel="noopener ugc nofollow" target="_blank">Source: David Cohen On Unsplash</a></figcaption></figure><p id="e011" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将在React中使用来自<a class="ae kv" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank"> Material-UI </a>的组件构建一个番茄定时器。此外，我们将使用<a class="ae kv" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> TailwindCSS </a>库，不仅使我们的应用程序看起来更好，而且使网站设计更具响应性，也就是说，使我们的web应用程序在大屏幕和移动屏幕上看起来都更好。</p><p id="0712" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本教程结束时，我们的应用在桌面和移动设备上都将是这样的:</p><div class="kg kh ki kj gt ab cb"><figure class="ls kk lt lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/29259e68ba4109fe08426918dbdd17b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*A33aMy1iJmikQlvGL0umsQ.png"/></div></figure><figure class="ls kk ly lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/7b063253b763129862a3806b8bb0923f.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*6LQOEy0p2WNYRWvnK7C7Rw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk lz di ma mb">(Left to right): Website on desktop and mobile devices</figcaption></figure></div><p id="397f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在开始之前，我们先讨论一下常规番茄定时器的功能。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="d6a4" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">什么是番茄定时器？</h1><p id="2820" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">这个计时器允许用户把他的工作分成几个间隔。这些间隔也可以称为会话。它是这样工作的:</p><ul class=""><li id="c156" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">第一个间隔是<code class="fe np nq nr ns b">Work</code>时段。这通常持续25分钟。</li><li id="6872" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">在<code class="fe np nq nr ns b">Work</code>间隔之后是<code class="fe np nq nr ns b">Break</code>间隔。<code class="fe np nq nr ns b">Break</code>间隔持续5分钟。</li><li id="6fa8" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">每个<em class="ny">番茄红素</em>时段由一个<code class="fe np nq nr ns b">Work</code>和一个<code class="fe np nq nr ns b">Break</code>间歇组成</li><li id="8742" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">在四次番茄大战后，我们将开始一次<code class="fe np nq nr ns b">Long Break</code>大战。<code class="fe np nq nr ns b">Long Break</code>环节持续15分钟。</li><li id="e50e" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">在<code class="fe np nq nr ns b">Long Break</code>间歇之后，我们将再次从番茄工作法第1节开始。</li></ul><h1 id="f7b9" class="mj mk iq bd ml mm nz mo mp mq oa ms mt jw ob jx mv jz oc ka mx kc od kd mz na bi translated">入门指南</h1><h2 id="319d" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">初始化项目</h2><p id="a885" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">让我们首先告诉<code class="fe np nq nr ns b">create-react-app</code>初始化我们的应用程序的存储库。为此，运行以下终端命令:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/49f7a0d06c45b80a423d38956dbbca7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*vbRSz9Nj9Kvxc3Topz_8uA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Command to initialize the project</figcaption></figure><p id="5a09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在已经初始化了项目。现在让我们继续安装所需的库。</p><h2 id="b4f9" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">安装所需的库</h2><p id="5575" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">对于这个项目，我们将安装以下模块:</p><ul class=""><li id="82eb" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">luxon</code>:这个包将帮助以正确的格式显示主定时器。为什么不用<code class="fe np nq nr ns b">moment</code>代替？由于<code class="fe np nq nr ns b">moment.js</code> <a class="ae kv" href="https://momentjs.com/docs/#/-project-status/" rel="noopener ugc nofollow" target="_blank">现在是一个遗留项目</a>，我们不会在我们的应用中使用这个库。安全漏洞绝对是我们最不想要的。</li><li id="1789" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">@material-ui/core</code>:这个包允许我们使用Material-UI提供的元素。在本教程中，我们将使用材质的<code class="fe np nq nr ns b">Button</code>组件。</li><li id="4ce9" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">@material/icons</code>:我们将在这个项目中使用的图标将来自这个包。</li></ul><p id="9bb0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要安装这些库，请运行以下终端命令:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/356a839886bbf6c71062cc9ae467305c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*py9v5IizXPa9Oq8su3mUkA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Command to install required packages</figcaption></figure><p id="a03a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们需要安装TailwindCSS。为此，请遵循本页<a class="ae kv" href="https://tailwindcss.com/docs/guides/create-react-app#setting-up-tailwindcss" rel="noopener ugc nofollow" target="_blank"/>上的说明。</p><p id="7f79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成后，让我们获取这个项目所需的音频文件。</p><h2 id="0102" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">获取所需的音频文件</h2><p id="9ff9" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">我们将使用材料中的<a class="ae kv" href="https://www.material.io/design/sound/sound-resources.html#" rel="noopener ugc nofollow" target="_blank">声音资源。IO网站</a>。在那里，下载<code class="fe np nq nr ns b">.zip</code>文件，然后将其解压缩到您的电脑中。从这个提取的文件夹，我们将使用以下声音文件:</p><ul class=""><li id="e9ec" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">alert_simple.wav</code>位于<code class="fe np nq nr ns b">material_product_sounds/material_product_sounds/wav/02 Alerts and Notifications</code>文件夹中。</li><li id="90e3" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">notification_simple-01.wav</code>位于<code class="fe np nq nr ns b">material_product_sounds/material_product_sounds/wav/02 Alerts and Notifications</code>内</li></ul><p id="5f7b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在需要将这些文件移动到我们的项目中。为此，请执行以下步骤:</p><ul class=""><li id="34c6" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">在项目的<code class="fe np nq nr ns b">src</code>文件夹中，创建一个名为<code class="fe np nq nr ns b">Audio</code>的新文件夹。</li><li id="e25d" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">现在将上述声音文件复制到您的<code class="fe np nq nr ns b">Audio</code>目录中。</li></ul><p id="0d7e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，您的文件层次结构应该如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/4f8774fe11dad0284493dca999cd7b5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*I_aiVyx-j0MdKGVHKaFmLw.png"/></div></figure><p id="502b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们结束了！现在让我们继续编写一些代码。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="8973" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">主定时器:Timer.js文件</h1><p id="b5c7" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在项目的<code class="fe np nq nr ns b">src</code>文件夹中，创建一个名为<code class="fe np nq nr ns b">Timer.js</code>的文件。<code class="fe np nq nr ns b">Timer.js</code>文件将是一个组件，它将作为我们的主Pomodoro定时器。换句话说，这将是我们项目的基础。</p><p id="5103" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当上面提到的步骤完成后，让我们继续将必要的库导入到我们的项目中。</p><p id="7fdf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于<code class="fe np nq nr ns b">Timer</code>将是一个组件，请确保文件末尾有以下一行:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/1bebb8cea4a28288fee5f588e7b33ee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*wWjw9DVzlOqmaKDRSLenkA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Ensure this line stays at the end of the file at all times</figcaption></figure><p id="9b36" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这确保了我们可以使用<code class="fe np nq nr ns b">Timer</code>组件</p><h2 id="ae06" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">导入所需模块</h2><p id="b5a3" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在<code class="fe np nq nr ns b">Timer.js</code>中，在文件顶部写下以下代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/23e2828bae106f1c5f8879797fd9da05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tU6pm_bRsle4FKXBGi8Nig.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to import required modules</figcaption></figure><ul class=""><li id="1f92" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 1</code> : <code class="fe np nq nr ns b">React</code>是必需的，因为<code class="fe np nq nr ns b">Timer</code>是将被渲染到DOM的组件。此外，我们还引入了<code class="fe np nq nr ns b">useState</code>，因为我们将把我们的定时器长度和其他附加信息存储在状态变量中。</li><li id="6d4e" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 2</code>:来自<code class="fe np nq nr ns b">luxon</code>包的<code class="fe np nq nr ns b">Duration</code>类将用于以正确的格式显示我们的定时器长度。</li></ul><p id="3a47" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在完成了。现在让我们继续声明我们将在项目中使用的状态。</p><h2 id="d580" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">宣布各州</h2><p id="5504" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在<code class="fe np nq nr ns b">Timer.js</code>中，我们将使用以下状态变量:</p><ul class=""><li id="ed09" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">timerLength</code>:以秒为单位存储计时器的长度。它的初始值将是1500秒，相当于25分钟。这是因为用户将首先从工作部分开始。然而，为了节省开发时间，让我们把它设置为25秒。</li><li id="87b3" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">timerOn</code>:这将由一个布尔值组成，它将告诉番茄钟定时器运行或暂停。它的初始值将是<code class="fe np nq nr ns b">false</code>，以确保当用户打开应用程序时，主定时器不会运行。</li><li id="60f1" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">timerDone</code>:<code class="fe np nq nr ns b">timerDone</code>变量将存储一个布尔值，该值将指示番茄定时器是正在运行还是已经完成。因此，这个变量也将帮助我们向用户提供声音反馈，让他们知道计时器是否已经完成。它的初始值将是<code class="fe np nq nr ns b">true</code>，因为这将确保定时器不运行。</li><li id="6ee5" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">sessionType</code>:该状态将存储一个字符串值，该字符串值将指示用户是否有一个<code class="fe np nq nr ns b">Break</code>间隔、正在进行一个<code class="fe np nq nr ns b">Work</code>会话或者正在经历一个<code class="fe np nq nr ns b">Long Break</code>会话。<code class="fe np nq nr ns b">sessionType</code>的值将在三个字符串之间交替:<code class="fe np nq nr ns b">Work</code>、<code class="fe np nq nr ns b">Break</code>和<code class="fe np nq nr ns b">Long Break</code>。它的初始值将是<code class="fe np nq nr ns b">Work</code>。这是因为客户端将首先从<code class="fe np nq nr ns b">Work</code>会话开始。</li><li id="24f9" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">sessionNumber</code>:这将存储一个整数值，告诉我们pomodoro会话的当前号码。它的初始值将是0。</li></ul><p id="37a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然我们已经讨论了我们的想法，让我们用代码实现它。转到<code class="fe np nq nr ns b">Timer.js</code>，在导入之后，编写以下代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/105a71eb74f828028571abdde6775c85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JMi_M0nRkZgiSuLOaz-8Lw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to declare variables in Timer.js</figcaption></figure><p id="1e18" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当这些完成后，让我们继续为我们的用户界面打下基础。</p><h2 id="72a3" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">显示状态</h2><p id="be37" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在<code class="fe np nq nr ns b">Timer.js</code>中，在声明您的状态后，现在在<code class="fe np nq nr ns b">Timer()</code>函数中编写以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="41d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这段代码实际上将我们的状态值呈现给DOM。</p><ul class=""><li id="8b0b" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Lines 4–6</code>:这里，我们告诉<code class="fe np nq nr ns b">luxon</code>以秒为单位显示<code class="fe np nq nr ns b">timerLength</code>的值，以<code class="fe np nq nr ns b">minutes:seconds</code>格式显示<code class="fe np nq nr ns b">timerLength</code>的值。</li><li id="28b0" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Lines 7–9</code>:点击<code class="fe np nq nr ns b">button</code>元素，在<code class="fe np nq nr ns b">true</code>或<code class="fe np nq nr ns b">false</code>之间切换<code class="fe np nq nr ns b">timerOn</code>状态。如果<code class="fe np nq nr ns b">timerOn</code>是<code class="fe np nq nr ns b">true</code>，那么按钮的文字会说<code class="fe np nq nr ns b">Pause</code>，否则会说<code class="fe np nq nr ns b">Run</code>。</li><li id="e74c" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Lines 10–12</code>:这些行将呈现状态<code class="fe np nq nr ns b">timerDone</code>、<code class="fe np nq nr ns b">sessionType</code>和<code class="fe np nq nr ns b">sessionNumber</code>的值。</li></ul><p id="4b31" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行程序之前，转到<code class="fe np nq nr ns b">App.js</code>并将<code class="fe np nq nr ns b">Timer.js</code>导入到您的项目中，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/b982075e23af2eb463d2d5cfde5a61ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5XUq4eFknu6xaI1dzKno1g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Importing Timer into App.js</figcaption></figure><p id="1ab2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，停留在<code class="fe np nq nr ns b">App.js</code>中，找到下面这段代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/f5a367f0b6bdfe1d71bd73c48e603419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ea7F3rTcZamsQ05M4ZnNvw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in App.js</figcaption></figure><p id="b00d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在像这样替换它:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/08a55c86b8d5a698c30d8505b9637482.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*xb12UlLGVVjyYZOaOmc79w.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to replace with in App.js</figcaption></figure><p id="3abd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe np nq nr ns b">Line 4</code>的代码告诉React在DOM上显示<code class="fe np nq nr ns b">Timer</code>组件。</p><p id="9656" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在用下面的终端命令运行程序:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/b815507eba311fce2a804b9756a86493.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*rBH0zgDsXcbeypbDGp-q7Q.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Terminal command to run the code</figcaption></figure><p id="6edc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是代码的输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/c7946096b40488a8912603e4d1ad846e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/1*EghXO-J0dnnJGv-e2D088Q.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="c417" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了，我们的代码成功了！现在让我们继续让我们的主定时器工作。</p><p id="7f6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">Timer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><h2 id="55c2" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">运行番茄定时器</h2><p id="1dc0" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">为了让我们的计时器运行，我们需要做以下事情:</p><ul class=""><li id="e93c" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">创建一个函数，将<code class="fe np nq nr ns b">timerLength</code>的值减1。</li><li id="c359" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">使用<code class="fe np nq nr ns b">setInterval</code>使该方法每秒运行一次。</li><li id="f520" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">使用<code class="fe np nq nr ns b">timerOn</code>状态暂停或恢复该间隔。因此，这意味着我们现在可以暂停或恢复番茄定时器了。</li><li id="4516" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">此外，如果<code class="fe np nq nr ns b">timerOn</code>的值为<code class="fe np nq nr ns b">true</code>，我们也将<code class="fe np nq nr ns b">timerDone</code>设置为<code class="fe np nq nr ns b">false</code>。</li></ul><p id="2d05" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们编写代码来实现这些步骤。</p><p id="e90b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe np nq nr ns b">Timer</code>函数中，编写以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="6328" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，我们运行<code class="fe np nq nr ns b">useEffect</code>钩子来告诉React查找<code class="fe np nq nr ns b">timerOn</code>状态的变化。如果值<code class="fe np nq nr ns b">timerOn</code>改变了，那么这段代码应该运行。</p><ul class=""><li id="31b8" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 2</code>:这里我们声明一个叫做<code class="fe np nq nr ns b">interval</code>的变量，它等同于一个<code class="fe np nq nr ns b">setInterval</code>函数。</li><li id="50b4" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 3–5</code>:如果<code class="fe np nq nr ns b">timerOn</code>的值为<code class="fe np nq nr ns b">true</code>，则将<code class="fe np nq nr ns b">timerLength</code>的值减1。否则，不要减少计时器会话的长度。这意味着我们在番茄定时器中增加了暂停功能。</li><li id="eb17" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 7-9</code>:这是一个清理功能，仅在组件卸载时运行。这里，我们清除interval函数以防止内存泄漏。</li></ul><p id="80c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们的输出看起来是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/3a3f2a1a9add5acd9693484d6ca82dd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/1*vSnMfN4F4ObXLtppl0ZJpg.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="691d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">瞧啊。我们的代码有效！你可以看到，每次<code class="fe np nq nr ns b">timerOn</code>是<code class="fe np nq nr ns b">true</code>，那么定时器就会运行。否则它会自动暂停。</p><p id="2c25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们继续处理计时器结束时的事件，也就是说，当<code class="fe np nq nr ns b">timerLength</code>的值达到0时。</p><p id="a66e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">Timer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><h2 id="0fa5" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">处理计时器完成事件</h2><p id="b386" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">要在计时器完成时处理事件，我们必须执行以下操作:</p><ul class=""><li id="5bb9" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">检测剩余时间(<code class="fe np nq nr ns b">timerLength</code>)是否为0。</li><li id="81eb" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">如果上述条件为<code class="fe np nq nr ns b">true</code>，则将<code class="fe np nq nr ns b">timerOn</code>改为假。这样做是为了不让计时器运行。</li><li id="bcd5" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">将<code class="fe np nq nr ns b">timerDone</code>设置为<code class="fe np nq nr ns b">true</code>。这将产生一种声音。我们将在本教程的后面部分讨论这个问题。</li><li id="71c7" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">将<code class="fe np nq nr ns b">sessionType</code>更改为<code class="fe np nq nr ns b">Work</code>、<code class="fe np nq nr ns b">Break</code>或<code class="fe np nq nr ns b">Long Break</code>以显示下一个会话。我们将在本教程的后面讨论这个问题。</li></ul><p id="253d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们需要将这个想法实现到代码中。</p><p id="2533" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe np nq nr ns b">Timer</code>函数中，编写以下代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/0a3d84089f3e962754d28c66f0f6aaa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*90UrnLbQK1pnW_mILYbUdw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Timer.js</figcaption></figure><p id="d8b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如<code class="fe np nq nr ns b">Line 5</code>所示，我们告诉React只有在<code class="fe np nq nr ns b">timerLength</code>的值改变时才运行上面的代码。</p><p id="ddf3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在运行代码。这将是结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/c93ccc0ce2631fe43ccf7160d076ed43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/1*XBGzCvpEjunKOZJsQXPjxw.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="a988" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了，我们的代码成功了！然而，目前我们的代码存在一个主要问题。</p><p id="7198" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">计时器计时完成后，尝试运行计时器。这将是结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/24548b813bca8501ce7196fc8e21f0f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/1*AiEEVjAcF2ufSDYHCdjn2g.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="5407" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">显然，在现实世界中，我们不希望我们的计时器达到负值！在后面的部分中，我们将减少这种错误。在下一节中，我们将学习如何改变音程类型。</p><p id="60ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">Timer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><h2 id="95bc" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">切换会话类型</h2><p id="2e99" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">为了切换我们的区间类型，我们需要像这样改变<code class="fe np nq nr ns b">sessionType</code>的值:</p><ul class=""><li id="262b" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">如果<code class="fe np nq nr ns b">sessionType</code>的值为<code class="fe np nq nr ns b">Work</code>，则切换到<code class="fe np nq nr ns b">Break</code></li><li id="dfaf" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">如果<code class="fe np nq nr ns b">sessionType</code>的值为<code class="fe np nq nr ns b">Break</code>，则切换到<code class="fe np nq nr ns b">Work</code></li><li id="b5b3" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">如果<code class="fe np nq nr ns b">sessionType</code>的值是<code class="fe np nq nr ns b">Long Break</code>，则切换到<code class="fe np nq nr ns b">Work</code>。在本教程的后面部分，我们将更多地学习长休息时间。</li></ul><p id="bf62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的<code class="fe np nq nr ns b">Timer</code>函数中，找到下面这段代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/0a3d84089f3e962754d28c66f0f6aaa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*90UrnLbQK1pnW_mILYbUdw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in Timer.js</figcaption></figure><p id="2f0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，用下面的代码片段替换它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="0164" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">唯一的变化出现在<code class="fe np nq nr ns b">Lines 5 to 10</code></p><ul class=""><li id="85e7" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 5</code>:先前<code class="fe np nq nr ns b">sessionType</code>的值存储在<code class="fe np nq nr ns b">prevType</code>变量中。</li><li id="6dff" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 6</code>:如果<code class="fe np nq nr ns b">sessionType</code>状态之前的值为<code class="fe np nq nr ns b">Work</code>，则将<code class="fe np nq nr ns b">sessionType</code>的值改为<code class="fe np nq nr ns b">Break</code>。</li><li id="68ea" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 7</code>:将<code class="fe np nq nr ns b">sessionType</code>的最后一个值与字符串<code class="fe np nq nr ns b">Break</code>进行比较。如果两者相等，则将<code class="fe np nq nr ns b">sessionType</code>的值改为<code class="fe np nq nr ns b">Work</code></li><li id="6bda" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 8</code>:如果<code class="fe np nq nr ns b">prevType</code>为<code class="fe np nq nr ns b">Long Break</code>，则将<code class="fe np nq nr ns b">sessionType</code>的值改为<code class="fe np nq nr ns b">Work</code>。在本教程的后面部分，我们将更多地研究<code class="fe np nq nr ns b">Long Break</code>间隔。</li></ul><p id="9d63" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是代码的输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/fd5344440b1545a79d5feb12ad9641b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/1*h-CcC6Xij9ngdM52eOMNdg.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="6eb2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以看到，<code class="fe np nq nr ns b">sessionType</code>的值变成了<code class="fe np nq nr ns b">Break</code>。这意味着我们的代码有效！</p><p id="8236" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然我们已经切换了会话，我们将继续根据之前的会话类型在<code class="fe np nq nr ns b">Work</code>、<code class="fe np nq nr ns b">Break</code>和<code class="fe np nq nr ns b">Long Break</code>定时器之间切换。</p><p id="1ae0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">Timer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><h2 id="5b93" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">切换定时器:从工作模式切换到休息模式</h2><p id="a0f7" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">为了在不同的定时器之间切换，我们需要做的是:</p><ul class=""><li id="5113" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">如果<code class="fe np nq nr ns b">sessionType</code>的当前值为<code class="fe np nq nr ns b">Work</code>，则将<code class="fe np nq nr ns b">timerLength</code>设置为25分钟。</li><li id="c460" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">但是如果<code class="fe np nq nr ns b">sessionType</code>设置为<code class="fe np nq nr ns b">Break</code>，则<code class="fe np nq nr ns b">timerLength</code>的值设置为5分钟。</li><li id="bab5" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">此外，假设<code class="fe np nq nr ns b">sessionType</code>为<code class="fe np nq nr ns b">Long Break</code>，则将定时器长度更改为15分钟。</li></ul><p id="119c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们编写代码来实现我们的过程。</p><p id="cacb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的<code class="fe np nq nr ns b">Timer</code>功能中，编写以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><ul class=""><li id="f179" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Lines 2–4</code>:如果<code class="fe np nq nr ns b">sessionType</code>的当前值为<code class="fe np nq nr ns b">Work</code>，则将Pomodoro定时器的时长设置为25分钟。为了节省时间，我们暂时将其更改为25秒。</li><li id="789b" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Lines 5-7</code>:假设<code class="fe np nq nr ns b">sessionType</code>的值为<code class="fe np nq nr ns b">Break</code>，则将主定时器的长度设置为5秒。</li><li id="1e6d" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Lines 8–10</code>:否则，将主定时器的时长设置为15秒，这是<code class="fe np nq nr ns b">Long Break</code>会话的默认时长。</li></ul><p id="2b5f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行程序。这将是输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/4481e8421af7c43ad71823f70e6c5427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/1*UyEr36F727punRLa3oolKA.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="c0cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，当<code class="fe np nq nr ns b">sessionType</code>从<code class="fe np nq nr ns b">Work</code>切换到<code class="fe np nq nr ns b">Break</code>时，定时器也立即从<code class="fe np nq nr ns b">Work</code>会话切换到<code class="fe np nq nr ns b">Break</code>模式！这意味着我们的代码可以工作。太好了。</p><p id="24fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在下一节中，我们将根据用户已经经历的会话数编写切换到<code class="fe np nq nr ns b">Long Break </code>会话的代码。</p><p id="3aba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最终，<code class="fe np nq nr ns b">Timer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><h2 id="871a" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">切换定时器:从中断模式到长时间中断模式</h2><p id="bfd5" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">要将主定时器切换到<code class="fe np nq nr ns b">Long Break</code>，我们需要做以下工作:</p><ul class=""><li id="b468" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">每个疗程在一个<code class="fe np nq nr ns b">Break</code>间隔后结束<strong class="ky ir">。这意味着每次<code class="fe np nq nr ns b">timerDone</code>状态为<code class="fe np nq nr ns b">true</code> <strong class="ky ir">、当前<code class="fe np nq nr ns b">sessionType</code>值为<code class="fe np nq nr ns b">Work.</code>时，都要将<code class="fe np nq nr ns b">sessionNumber</code>状态增加1</strong></strong></li><li id="e00e" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">检查用户是否完成了4个会话(<code class="fe np nq nr ns b">sessionNumber &gt; 4</code>)</li><li id="fb4c" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">如果上述条件为<code class="fe np nq nr ns b">true</code>，则将<code class="fe np nq nr ns b">sessionType</code>的值改为<code class="fe np nq nr ns b">Long Break</code>。</li></ul><p id="a9f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们用代码实现它。</p><p id="b5eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的<code class="fe np nq nr ns b">Timer</code>函数中，找到下面这段代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="fb0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在将其替换为以下内容:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="ce48" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">唯一的变化来自<code class="fe np nq nr ns b">Lines 11 to 14</code>。</p><ul class=""><li id="9dff" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 11</code>:检查用户是否在<code class="fe np nq nr ns b">Work</code>会话中，以及<code class="fe np nq nr ns b">timerDone</code>是否为<code class="fe np nq nr ns b">true</code>。这表明他已经经历了一个<code class="fe np nq nr ns b">Break</code>会话。</li><li id="7955" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 12</code>:如果上述条件为<code class="fe np nq nr ns b">true</code>，则递增<code class="fe np nq nr ns b">sessionNumber</code></li><li id="3b40" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 14</code>:将<code class="fe np nq nr ns b">timerDone</code>添加到<code class="fe np nq nr ns b">useEffect</code>依赖数组意味着现在React也必须检测到<code class="fe np nq nr ns b">timerDone</code>状态的变化。如果检测到任何变化，那么运行下面的代码。</li></ul><p id="5f10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是代码的输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/02b8f70eb75380b4bf9e0948ec8f0fd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/1*2FL3Bvq_6XrZVi1Ka9Qzlg.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="7ee6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如您所看到的，当用户完成一个会话时，我们的<code class="fe np nq nr ns b">sessionNumber</code>状态会自动增加。这意味着我们的代码起作用了！</p><p id="a591" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">剩下的工作就是编写代码来获得Pomodoro应用程序中的<code class="fe np nq nr ns b">Long Break</code>会话。</p><p id="9406" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的<code class="fe np nq nr ns b">Timer</code>函数中，编写以下代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/5dcf024f86ddebc6c94c33db819e11aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*zOUsuMTDiqkij_JGHtS4hQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in Timer.js</figcaption></figure><ul class=""><li id="92bc" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 2</code>:检查<code class="fe np nq nr ns b">sessionNumber</code>的值是否大于4。</li><li id="8849" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 3</code>:如果该条件为<code class="fe np nq nr ns b">true</code>，则将间隔类型设置为<code class="fe np nq nr ns b">Long Break</code>。</li><li id="315a" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 4</code>:将间隔数重置为0。</li><li id="7d91" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 6</code>:将<code class="fe np nq nr ns b">sessionNumber</code>添加到我们的依赖数组意味着React将在检测到<code class="fe np nq nr ns b">sessionNumber</code>状态的任何变化时运行这段代码。</li></ul><p id="8932" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是代码的结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/bceafa7666486060a6e21d60385179f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/1*ytJaljx5Wv6-A62-ZsnuMw.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="c716" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大家可以看到，第四节之后，不是<code class="fe np nq nr ns b">Work</code>节，而是<code class="fe np nq nr ns b">Long Break</code>区间上来了。此外，请注意，在<code class="fe np nq nr ns b">Long Break</code>会话之后，<code class="fe np nq nr ns b">Work</code>会话也随之而来。这意味着我们的代码有效！</p><p id="c824" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想知道<code class="fe np nq nr ns b">Work</code>会话是如何自动出现的，让我们回顾一下。回想一下我们之前编写的这段代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pg"><img src="../Images/10af124a6df8c99dcf4a7093866026b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mqZAF8ia6D0OmI1JCIqU9g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The piece of code that caused the output</figcaption></figure><p id="206f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以看到，根据<code class="fe np nq nr ns b">Line 8</code>，如果<code class="fe np nq nr ns b">sessionType</code>之前的值是<code class="fe np nq nr ns b">Long Break</code>，那么<code class="fe np nq nr ns b">sessionType</code>的新值应该自动为<code class="fe np nq nr ns b">Work</code>。</p><p id="2ba4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在完成了这一部分！在下一节中，我们将介绍对定制我们的<code class="fe np nq nr ns b">Work</code>、<code class="fe np nq nr ns b">Break</code>和<code class="fe np nq nr ns b">Long Break</code>会话长度的支持。</p><p id="aa61" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">Timer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="33f3" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">自定义计时器:Customizer.js文件</h1><p id="6930" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在您的<code class="fe np nq nr ns b">src</code>目录中，创建一个名为<code class="fe np nq nr ns b">Customizer.js</code>的新React组件。该组件将允许用户定制其间隔会话的计时器。我们将使用上下文API来实现这一点。我们将在本教程的后面详细讨论这一点。</p><p id="583d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们从在<code class="fe np nq nr ns b">Customizer.js</code>中编写以下代码开始:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ph"><img src="../Images/3ea2fe9b79185117a1cec6a2d69e29d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tbXJ-lyJywreug6GM0Kymw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Customizer.js</figcaption></figure><p id="e90c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，我们导入<code class="fe np nq nr ns b">React</code>，因为<code class="fe np nq nr ns b">Customizer.js</code>将是一个React组件。此外，我们还引入了<code class="fe np nq nr ns b">createContext</code>方法，因为我们将依靠上下文API向其他React组件发送状态。此外，我们还导入了<code class="fe np nq nr ns b">useState</code>,因为我们将使用状态来处理计时器数据的操作和存储。</p><p id="7aa0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，确保这一行位于文件的末尾:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/1579640cee15f2034e29ff12460a181d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*w9C8-e5Yt3qNmT31npDFuQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Ensure that this line stays at the end of the file</figcaption></figure><p id="f7cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成后，让我们继续在<code class="fe np nq nr ns b">Customizer.js</code>文件中声明状态。</p><h2 id="798c" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">声明国</h2><p id="d4f5" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">这里，我们有三种状态:</p><ul class=""><li id="f48d" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">breakLength</code>:我们<code class="fe np nq nr ns b">Break</code>会话类型的定时器长度。它的初始值将是5分钟。</li><li id="8191" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">workLength</code>:我们<code class="fe np nq nr ns b">Work</code>区间类型的长度。它的初始值将是25分钟。</li><li id="f212" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">longBreakLength</code>:我们<code class="fe np nq nr ns b">Long Break</code>会话类型的定时器长度。它的初始值将是5分钟。</li></ul><p id="39b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的<code class="fe np nq nr ns b">Customizer.js</code>文件中，编写以下代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pi"><img src="../Images/5b9c54d0e12b37542c0fd49f73a84a0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RJhRLC-bQjvwuvxfGeXKJQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Customizer.js</figcaption></figure><ul class=""><li id="f6f6" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 1</code>:这里，我们将<code class="fe np nq nr ns b">props</code>作为参数传入，这样我们就可以使用上下文API。我们将在本教程的后面使用上下文。</li></ul><p id="714f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成后，让我们继续创建按钮来操作我们的状态。</p><h2 id="49f0" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">操纵状态</h2><p id="f90c" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在本节中，我们将创建三对按钮。每对将增加或减少<code class="fe np nq nr ns b">breakLength</code>、<code class="fe np nq nr ns b">workLength</code>或<code class="fe np nq nr ns b">longBreakLength</code>的值。</p><p id="dcc6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的<code class="fe np nq nr ns b">Customizer</code>函数中，编写以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="e882" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这可能看起来像一个很长的代码片段，但这真的很容易理解。我们本质上是在创建增加或减少我们状态的<code class="fe np nq nr ns b">button</code>元素。</p><ul class=""><li id="5534" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Lines 5-8, 18-20 and 30–32</code>:这里，我们减少了<code class="fe np nq nr ns b">breakLength</code>、<code class="fe np nq nr ns b">workLength </code>和longBreakLength状态。在这几行代码中，<code class="fe np nq nr ns b">prevLength</code>存储了我们状态的前一个值。如果<code class="fe np nq nr ns b">prevLength</code>为0，那么让状态的当前值停留在0。换句话说，我们不想让我们的计时器长度为负值。</li><li id="9083" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Lines 13, 24 and 37</code>:这里，我们增加了状态的值。</li></ul><p id="dacc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在运行代码之前，转到<code class="fe np nq nr ns b">App.js</code>并像这样导入<code class="fe np nq nr ns b">Customizer</code>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pj"><img src="../Images/03ca5fd31e669b1a624008bb6ecd35b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ib1njWNq3L_C3Qf6PGeug.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in App.js</figcaption></figure><p id="6a04" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们来渲染一下。在<code class="fe np nq nr ns b">App.js</code>中找到下面这段代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/08f9a9220ba9e751b5f041ac28f318df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*I6uS4OuzQQDmweTQGN6y2g.png"/></div></figure><p id="3c25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在像这样替换它:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/b06a2c7e8b7fcbb67f8fcadeb02504c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*aQYyH9v8KPuGqsa7BkRJ6w.png"/></div></figure><p id="ca02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe np nq nr ns b">Line 4</code>处的代码告诉React将<code class="fe np nq nr ns b">Customizer</code>功能组件呈现到DOM上。</p><p id="22ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是代码的输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/3799656c6004d63f17b4fe745ec60ae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/1*lHp24j4tbcxeATxq7hVQSg.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="9afe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">瞧啊。我们的代码有效。在下一节中，我们将通过使用React的上下文API将这些状态变量发送给<code class="fe np nq nr ns b">Timer.js</code>。</p><p id="b3f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">Timer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="77e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是<code class="fe np nq nr ns b">Customizer.js</code>应该看起来的样子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><h2 id="85a2" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">将状态从Customizer.js转移到Timer.js</h2><p id="36e3" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">我们现在在<code class="fe np nq nr ns b">Customizer.js</code>中有我们的状态，并希望这些变量被发送到<code class="fe np nq nr ns b">Timer.js</code>。这样，我们的应用程序中终于有了自定义定时器。然而，有一个小问题:我们如何发送这些数据？</p><p id="460f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一种方法是通过道具。然而，在我们的项目中使用道具似乎是一项极其乏味的任务。另一种方法是将<code class="fe np nq nr ns b">Customizer.js</code>的所有代码放到<code class="fe np nq nr ns b">Timer.js</code>中。结果，这会让<code class="fe np nq nr ns b">Timer.js</code>看起来像一大堆杂乱的代码。为了缓解这个问题，让我们使用上下文API。</p><p id="aa9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就在<code class="fe np nq nr ns b">Customizer</code>函数声明之前，编写以下代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pk"><img src="../Images/13f4a89af1ee9a012099ce4a100d66ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LTjBkL4OZiJQBnLXlxWKCw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Exporting Contexts in Customizer.js</figcaption></figure><p id="f33e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，我们为每个状态变量创建一个上下文对象，然后导出它们，以便它们可以与<code class="fe np nq nr ns b">Timer</code>组件一起使用。</p><p id="0274" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在转到<code class="fe np nq nr ns b">Customizer.js</code>中的<code class="fe np nq nr ns b">return</code>块，编写下面这段代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ph"><img src="../Images/03c624ca31df0ef39c61593821c8516e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UlsvtKj4mYTnvvhAKzILyg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Customizer.js</figcaption></figure><p id="3eaf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，我们导出状态变量的所有值。</p><p id="393b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在转到您的<code class="fe np nq nr ns b">Timer.js</code>文件，并执行以下步骤:</p><ul class=""><li id="2d72" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">从<code class="fe np nq nr ns b">Customizer</code>组件中导入上下文变量，如下所示:</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pl"><img src="../Images/e5981b38de9d13f6469f3f3d2e2b4004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q66vhBA754lSGP1RJTCWtg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Timer.js</figcaption></figure><ul class=""><li id="9d2b" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">此外，确保您已经将<code class="fe np nq nr ns b">useContext</code>添加到您的导入列表中:</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pm"><img src="../Images/e88da1fe3c72dddc2e07c2ae7e6b7223.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fhbvexp6U81m7t3DaHMGFA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Timer.js</figcaption></figure><ul class=""><li id="412e" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">现在，在您的状态声明之后添加以下代码行，</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pn"><img src="../Images/72499584ff77fbe069c52b4438df2e57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N9BoqNTOSuWzNmpySraGCA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Timer.js</figcaption></figure><p id="c006" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">状态<code class="fe np nq nr ns b">longBreak</code>、<code class="fe np nq nr ns b">breakLength</code>和<code class="fe np nq nr ns b">workLength</code>的值现在已经存储在这些变量中。这意味着我们几乎完成了将状态变量的值从<code class="fe np nq nr ns b">Customizer.js</code>导入<code class="fe np nq nr ns b">Timer.js</code>的工作。</p><ul class=""><li id="09f5" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">现在将这段代码添加到您的<code class="fe np nq nr ns b">return</code>块中:</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi po"><img src="../Images/3de44b19a95d160e42a6deba761bf452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tbPv0IwRAneu6BQYyjbmbA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Timer.js</figcaption></figure><p id="7986" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，转到您的<code class="fe np nq nr ns b">App.js</code>文件，找到下面这段代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/5ba544a73ae8d85f25217aa7577a14c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*8TBkVXEbwfDINoZPAhxd_Q.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in App.js</figcaption></figure><p id="78c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后将其替换为以下内容:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/55397732d0331365614480b3a7ef0ab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*H9ge5mAd-CWqRarnoE0iFA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in App.js</figcaption></figure><p id="ba9a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这意味着现在<code class="fe np nq nr ns b">Timer.js</code>可以访问<code class="fe np nq nr ns b">Customizer.js</code>中的状态数据。</p><p id="2895" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行代码。这将是输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/49b52ee593cdd8aab2b856d1a9dfc74b.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/1*22ln5V8h00nw0JrjSgsBnQ.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="720f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了！我们的代码有效！如您所见，<code class="fe np nq nr ns b">Timer.js</code>呈现了我们在<code class="fe np nq nr ns b">Customizer.js</code>中定义的状态值。</p><p id="5169" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在下一节中，我们将在Pomodoro应用程序中引入对自定义计时器的支持。</p><p id="88ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">Customizer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="c7a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是<code class="fe np nq nr ns b">Timer.js</code>应该看起来的样子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="a3e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">App.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><h2 id="1a4b" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">获取自定义计时器</h2><p id="0d2e" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在这里，我们必须对<code class="fe np nq nr ns b">Timer.js</code>做一些改动。这是我们必须做的:</p><ul class=""><li id="11cf" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">用<code class="fe np nq nr ns b">workLength</code>、<code class="fe np nq nr ns b">breakLength</code>和<code class="fe np nq nr ns b">longBreakLength</code>替换硬编码的定时器长度。</li><li id="daff" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">检测用户是否点击了长度计时器的递增和递减按钮。</li><li id="65a6" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">如果用户点击了这些按钮，那么使用番茄工作灯计时器中的新长度。</li></ul><p id="9511" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe np nq nr ns b">Timer.js</code>中，找到下面这段代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="143b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在将其替换为以下内容:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="a514" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里，我们告诉React在<code class="fe np nq nr ns b">workLength</code>、<code class="fe np nq nr ns b">breakLength</code>和<code class="fe np nq nr ns b">longBreakLength</code>状态的值改变时运行这段代码。换句话说，这段代码将在用户点击递增或递减按钮时运行。</p><p id="7abe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是代码的结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/b105d890ffe402cfe6ccf6feefddf218.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/1*uEkZEoyjUDTWQle2nJd3Sg.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="aa0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，我们的代码有效！但是有一个主要的缺陷。尝试在番茄红素计时器运行时改变计时器。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/5156580c67ca23928620b3b3fcf6360d.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/1*2OLiYlmaVT8yuI7kov7wkA.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="adbf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，无论谁的状态值被更改，计时器都会自动重置。</p><p id="0be8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想知道为什么，让我们回到我们最近在<code class="fe np nq nr ns b">Timer.js</code>模块中写的这段代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pq"><img src="../Images/d3b01d4b87d4950e3e736197ca34daf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lIgIRvYlQvE4BF158T3Zpw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code that causes the problem in Timer.js</figcaption></figure><p id="c05a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为什么这段代码会导致问题？举个例子，假设用户在<code class="fe np nq nr ns b">Work</code>会话中。后来，当<code class="fe np nq nr ns b">Work</code>间隔类型运行时，他决定改变<code class="fe np nq nr ns b">breakLength</code>状态。因此，这个钩子中的代码被执行。<code class="fe np nq nr ns b">if</code>语句将首先获得<code class="fe np nq nr ns b">sessionType</code>状态的值。因为在这种情况下，<code class="fe np nq nr ns b">sessionType</code>的值是<code class="fe np nq nr ns b">Work</code>，因此运行来自<code class="fe np nq nr ns b">Line 2 to Line 4</code>的代码段，该代码段将定时器长度再次设置回<code class="fe np nq nr ns b">workLength</code>，本质上是重置定时器。</p><p id="cbd9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要防止此问题，请找到这段代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pq"><img src="../Images/d3b01d4b87d4950e3e736197ca34daf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lIgIRvYlQvE4BF158T3Zpw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in Timer.js</figcaption></figure><p id="b887" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在将其替换为以下内容:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="1a83" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在这段代码确保了如果不相关的计时器长度被改变，Pomodoro计时器不会重置。</p><p id="f310" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是代码的结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/50a12840e57cd304cb5657e47a3fed5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/1*2xL-uHLtTh5tKe0cR93Lhw.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="b69c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了！我们的代码有效！</p><p id="843f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，在进入下一部分之前，让我们整理一下我们的用户界面。</p><p id="c573" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">转到<code class="fe np nq nr ns b">Timer.js</code>，删除以下代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pr"><img src="../Images/5cbd0f61ffff1b840993ca6be75c8e6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gy-6Q2oB-nBPOEew4faOdQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to remove in Timer.js</figcaption></figure><p id="e3c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在转到<code class="fe np nq nr ns b">Customizer.js</code>并将这段代码片段移动到<code class="fe np nq nr ns b">return</code>块的顶部。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ps"><img src="../Images/5f5d9cd1ca168bf6771846b559818cbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HBoPHYtwUqBgZhpcQKjrLw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Move this code to the top of your return block in Customizer.js</figcaption></figure><p id="28c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，您的输出应该是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/ea0744c20af3aed158618f8e0b6edaab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*EEFL0HUAtjXaWs5SOpTkIw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="071b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在完成了这一部分！在下一节中，我们将向React应用程序添加Material-UI和Tailwind CSS。此外，我们还将增加声音资产。</p><p id="0525" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">Customizer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="a4ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是<code class="fe np nq nr ns b">Timer.js</code>应该看起来的样子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="bc6f" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">收尾</h1><h2 id="d3ce" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">材料-用户界面</h2><p id="e157" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在本节教程中，我们将使用由<a class="ae kv" href="http://material-ui.com" rel="noopener ugc nofollow" target="_blank"> Material-UI </a>提供的图标和<code class="fe np nq nr ns b">Button</code>元素。</p><p id="9834" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">进入<code class="fe np nq nr ns b">Customizer.js</code>，从<code class="fe np nq nr ns b">@material-ui/core/Button</code>导入<code class="fe np nq nr ns b">Button</code>，从<code class="fe np nq nr ns b">@material-ui/icons</code>导入一些图标:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pu"><img src="../Images/3c94267513f30410523da31372dfbbe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UYZdHSsIljQ20BUmswoHKg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Customizer.js</figcaption></figure><ul class=""><li id="6597" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">LaptopChromebookOutlinedIcon</code>将代表<code class="fe np nq nr ns b">Work</code>间隔</li><li id="5d44" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">FreeBreakfastOutlinedIcon</code>将代表<code class="fe np nq nr ns b">Break</code>间隔</li><li id="c3f0" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">LocalHotelOutlinedIcon</code>将代表<code class="fe np nq nr ns b">Long Break</code>会话</li><li id="2fa8" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">AddIcon</code>和<code class="fe np nq nr ns b">RemoveIcon</code>将用作<code class="fe np nq nr ns b">Button</code>组件上的图标，以显示增量和减量选项。</li></ul><p id="2c5b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在同一个文件中，找到下面这段代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="2fdc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在用下面的块替换它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="a05b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该代码执行以下任务:</p><ul class=""><li id="06ec" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">渲染<code class="fe np nq nr ns b">p</code>元素旁边的图标。例如，我们在<code class="fe np nq nr ns b">Line 37</code>上渲染了<code class="fe np nq nr ns b">LaptopChromebookOutlinedIcon</code>。</li><li id="802e" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">用Material-UI提供的<code class="fe np nq nr ns b">Button</code>组件替换<code class="fe np nq nr ns b">button</code>元素。<code class="fe np nq nr ns b">Line 40</code>提供了一个示例。</li><li id="9be9" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">将按钮的图标(<code class="fe np nq nr ns b">startIcon</code>属性)设置为<code class="fe np nq nr ns b">AddIcon</code>或<code class="fe np nq nr ns b">RemoveIcon</code>。一个例子在<code class="fe np nq nr ns b">Line 44</code>和<code class="fe np nq nr ns b">Line 55</code>处。</li><li id="98da" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">它们的颜色可以是蓝色(<code class="fe np nq nr ns b">color=”primary</code>)或红色(<code class="fe np nq nr ns b">color=”secondary” </code>)。在<code class="fe np nq nr ns b">Line 52</code>和<code class="fe np nq nr ns b">Line 65</code>处的例子。</li><li id="b402" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">给他们<code class="fe np nq nr ns b">contained</code>变种，这样他们就可以吃饱了。在<code class="fe np nq nr ns b">Line 18</code>举个例子。</li><li id="f611" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">注意，我们还用<code class="fe np nq nr ns b">div</code>元素包装了每个组(例如<code class="fe np nq nr ns b"> Line 11 </code>到<code class="fe np nq nr ns b">Line 34</code>)。我们这样做是为了在本教程的后面使用TailwindCSS</li></ul><p id="87d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行代码。结果应该是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/d00f4345d0f372a05e22e753fe7f3feb.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/1*0ZVr2a3w-gEOfCl9WEE6rw.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="8a82" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了！我们的代码有效！按钮看起来明显更好，我们现在有图标。现在让我们继续对我们的<code class="fe np nq nr ns b">Timer.js</code>文件做同样的事情。</p><p id="6c5f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如前所述，将<code class="fe np nq nr ns b">Button</code>和这些图标导入<code class="fe np nq nr ns b">Timer.js</code>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pu"><img src="../Images/ecf4e7a1af3ba42588094e95ce6dbd7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2xBWZbO9wRO39p5DkqemfA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Timer.js</figcaption></figure><p id="6784" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成后，转到<code class="fe np nq nr ns b">Timer</code>函数中的<code class="fe np nq nr ns b">return</code>块:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="b885" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在像这样替换它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><ul class=""><li id="9be3" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 4–12</code>:在这里，我们只是创建一个<code class="fe np nq nr ns b">Button</code>元素。然而，关注<code class="fe np nq nr ns b">Line 8</code>。在<code class="fe np nq nr ns b">Line 8</code>上，我们告诉Material如果<code class="fe np nq nr ns b">timerOn</code>状态的值是<code class="fe np nq nr ns b">true</code>(定时器当前正在运行)，那么渲染暂停图标。否则呈现播放图标，告诉用户定时器已经暂停。</li><li id="e21d" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 19-23</code>:这里，我们去掉了显示<code class="fe np nq nr ns b">sessionType</code>值的功能，代之以图标。在这些行中，如果<code class="fe np nq nr ns b">sessionType</code>的值是<code class="fe np nq nr ns b">Break</code>，我们告诉React渲染<code class="fe np nq nr ns b">FreeBreakfastOutlinedIcon</code>。然而，如果间隔类型是<code class="fe np nq nr ns b">Work</code>，则渲染<code class="fe np nq nr ns b">LaptopChromebookOutlinedIcon</code>。否则显示<code class="fe np nq nr ns b">LocalHotelOutlinedIcon</code>。</li></ul><p id="6c2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行程序。这将是结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/146be8e7091a58ce86d021188f58faa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/1*xhdbYdOUnQrWgdOIdZWwGQ.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="211a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了！我们的代码有效！在下一节中，我们将在这个React web应用程序中集成TailwindCSS。</p><p id="d3dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">Customizer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="31b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是<code class="fe np nq nr ns b">Timer.js</code>应该看起来的样子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><h2 id="dd10" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">TailwindCSS:设置颜色</h2><p id="0e3c" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在开始本节之前，让我们先改变顺风的<code class="fe np nq nr ns b">primary</code>和<code class="fe np nq nr ns b">secondary</code>颜色值。</p><p id="8ff2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，请转到项目文件夹根目录下的<code class="fe np nq nr ns b">tailwind.config.js</code>。在那里，找到下面这段代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/76c80564c332f3d8e46980ae437a9662.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*P72quWacqkTd5NjQZWLFPw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in tailwind.config.js</figcaption></figure><p id="f104" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在将其替换为以下内容:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><ul class=""><li id="e0fd" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 4</code>:这里，我们告诉TailwindCSS，当我们将背景色设置为<code class="fe np nq nr ns b">bg-primary</code>时，将页面的背景色替换为<code class="fe np nq nr ns b">#3b4252</code>。</li><li id="ef75" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 7</code>:将<code class="fe np nq nr ns b">text-primary</code>、<code class="fe np nq nr ns b">text-secondary</code>和<code class="fe np nq nr ns b">text-sessionNumber</code>的文字颜色更改为相应的值。</li></ul><p id="9ea4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们继续设置这个页面的背景颜色。</p><p id="ecc0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">转到您的<code class="fe np nq nr ns b">public</code>目录并找到<code class="fe np nq nr ns b">index.html</code>文件。在那里，找到开始的<code class="fe np nq nr ns b">body</code>标记:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/83bdbc1c91cd20265d5fd20155de232b.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*UCPMjq2rpKzyKBS4ipvtaQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in index.html</figcaption></figure><p id="fece" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在给它一个类名<code class="fe np nq nr ns b">bg-primary</code>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/45e2a03c8f068a96ca58e8bdcfb6c764.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*EpEgtwDe_Y6X2HhM6daUnQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Attach the bg-primary class to the body tag in index.html</figcaption></figure><p id="88a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行代码。这将是结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pw"><img src="../Images/abf17cbc7202b2ff3d3b5c4a204ec45f.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*1H3q9XRLk_iEjj5Ron_XHg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="10ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了！我们的代码有效。现在让我们自定义我们的文本样式，使文本更具可读性。</p><p id="4163" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们首先让我们的计时器看起来更突出。为此，首先转到<code class="fe np nq nr ns b">Timer.js</code>并找到呈现<code class="fe np nq nr ns b">timerLength</code>状态值的<code class="fe np nq nr ns b">p</code>标签:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi px"><img src="../Images/46c20441a39f3503c82780e700f47a7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pnADL5bohMsze6_0m-Z6Ag.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in Timer.js</figcaption></figure><p id="b498" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在给<code class="fe np nq nr ns b">p</code>标签添加一个<code class="fe np nq nr ns b">className</code>属性，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi py"><img src="../Images/7e64c41a71d68dc74dd5c1a9a61a0135.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d9vEf4jg5uuenb0Nv-1ZdQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Timer.js. The change is highlighted in yellow</figcaption></figure><p id="ac68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里，我们将以下类名分配给这个段落元素:</p><ul class=""><li id="82ba" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">font-sans</code>:将文本的字体系列改为<code class="fe np nq nr ns b">Sans</code></li><li id="09ac" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">tracking-widest</code>:设置最宽的字母间距，以确保最大的可读性。</li><li id="190e" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">text-6xl</code>:将文本尺寸设置为特大号。</li><li id="743f" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">text-primary</code>:改变字体颜色，吸引最大的注意力。记得我们之前在<code class="fe np nq nr ns b">tailwind.config.js</code>中定义了<code class="fe np nq nr ns b">text-primary</code>颜色。</li></ul><p id="de2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们改变显示<code class="fe np nq nr ns b">sessionNumber</code>的<code class="fe np nq nr ns b">p</code>标签的文本样式。在您的<code class="fe np nq nr ns b">Timer.js</code>文件中，在您的<code class="fe np nq nr ns b">return</code>块中找到以下行:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pz"><img src="../Images/ab56ff411b16d177e10bf8fb63dde4b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Twjme3-OSOaR1Wd0f3XlMA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in Timer.js</figcaption></figure><p id="f022" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将以下类名附加到它，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qa"><img src="../Images/25f513df1d8777ad319ce9944bedad80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_FwbtbFIxxTeDuo69l58rA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Timer.js. The changes are highlighted in yellow</figcaption></figure><ul class=""><li id="15ef" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">text-sessionNumber</code>:我们之前在<code class="fe np nq nr ns b">tailwind.config.js</code>文件中定义了这个颜色。这种颜色使我们的文本易读</li><li id="48c3" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">text-2xl</code>:使我们的文本看起来更大。</li></ul><p id="1013" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们对我们的<code class="fe np nq nr ns b">Customizer</code>组件做同样的事情。去<code class="fe np nq nr ns b">Customizer.js</code>找到第一个开口<code class="fe np nq nr ns b">div</code>标签:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qb"><img src="../Images/bc4cf9fefe27d8f725b261ad4b6a76b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WfhVpX6d7RMhs55NFh1WHw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in Customizer.js</figcaption></figure><p id="7060" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在附上如下类名:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pj"><img src="../Images/8d8239fc62e0bc9559374f5a7aa56e29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ve4GkXGCMNmOci4tF4B1kg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Customizer.js. The changes are highlighted in yellow</figcaption></figure><ul class=""><li id="e4e5" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">这将使文本变大。</li><li id="d291" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">text-secondary</code>:改变文本颜色，使其可读。我们在<code class="fe np nq nr ns b">tailwind.config.js</code>中定义了这个颜色。本质上使我们的文本变白。</li></ul><p id="a133" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行代码。这将是我们的结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qc"><img src="../Images/d24adb65a20c9d718f841e7abe0c25ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*1GgIJZmHpzkyzspEZhK32g.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="89ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，让我们现在使会话类型图标更加可见。</p><p id="292f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe np nq nr ns b">Timer.js</code>中，找到执行条件渲染的代码段，根据间隔类型显示图标:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pm"><img src="../Images/8a855314d23be5b32c5e3b0c68720ab3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xnqkym-zPTHOHm72kdDtgQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in Timer.js</figcaption></figure><p id="7f56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">向每个图标组件添加下面的<code class="fe np nq nr ns b">style</code>属性，将图标变成白色:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="f495" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是代码的输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qd"><img src="../Images/079d022ebc79b8993aeae482b7f7a723.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*NQl4wOo4a7WnEfRwHkaQtA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="d3d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了！我们的文本是可见的，我们的应用程序看起来真的很好。在下一节中，我们将在React应用程序中引入响应式网页设计。</p><p id="3bce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最终，<code class="fe np nq nr ns b">Timer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="f229" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe np nq nr ns b">Customizer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><h2 id="0c31" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">响应性网页设计</h2><p id="a3c8" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">第一步，去<code class="fe np nq nr ns b">Timer.js</code>。让我们从使用Flexbox定位我们的组件开始。我们会像一个柱子一样垂直放置我们的物品。</p><p id="c696" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe np nq nr ns b">Timer.js</code>中，找到第一个打开<code class="fe np nq nr ns b">div</code>的标签:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qe"><img src="../Images/e612c9cb2ea688105fdc1a9abb4fd8f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*Zt4xiE7HGp50JrLBDNvQxg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in Timer.js</figcaption></figure><p id="6b58" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将以下类别附加到该<code class="fe np nq nr ns b">div</code>元素上:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qf"><img src="../Images/0b2098d88ff86780e487df9c7f7241af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-fa0uYnSXlw3vVthWAWD-g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Add these classes in Timer.js. The changes are highlighted in yellow</figcaption></figure><ul class=""><li id="7497" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">flex</code>:告诉TailwindCSS我们的<code class="fe np nq nr ns b">div</code> HTML元素将是一个flex容器。</li><li id="6771" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">flex-col</code>:这个属性可以垂直放置我们的物品。</li></ul><p id="9451" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是您的代码输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qg"><img src="../Images/7d10fd96dac06e84c46acd92d5933515.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*ZzuxwoJn2teMg2xQG-M-Zw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="5e22" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了。我们的代码起作用了。让我们现在开始<code class="fe np nq nr ns b">Customizer.js</code>。</p><p id="9281" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe np nq nr ns b">Customizer.js</code>中，我们也将利用flex容器的力量。然而，这个组件的元素应该根据我们应用程序使用的设备来定位。让我们讨论如何渲染<code class="fe np nq nr ns b">Customizer</code>组件中的元素。</p><p id="973c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在移动设备上，我们想要一个<code class="fe np nq nr ns b">flex-col</code>容器，否则在更大的设备上，我们想要一个<code class="fe np nq nr ns b">flex-row</code>容器。换句话说，我们希望我们的组件在手持屏幕上垂直放置，而在大屏幕上，我们希望我们的组件水平放置。此外，容器中的所有项目应在横轴的中心对齐。</p><p id="d329" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">走到<code class="fe np nq nr ns b">Customizer.js</code>中您的<code class="fe np nq nr ns b">Customizer</code>功能组件处，找到第一个<code class="fe np nq nr ns b">div</code>开口标签:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qa"><img src="../Images/07696988bafbdfe607307322b4621ee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Vl7JkB_TcFFj5bNKyiQzg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in Customizer.js</figcaption></figure><p id="49e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们先告诉TailwindCSS把这个<code class="fe np nq nr ns b">div</code>容器变成一个灵活的盒子，它应该垂直放置子元素:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qh"><img src="../Images/f7f2dd435581632327b0b41cd80475e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KqWuXjGjsAZjJVlvJKGTiw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Add these classes in Customizer.js. The changes are highlighted in yellow</figcaption></figure><p id="5cf6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这应该是程序的输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qi"><img src="../Images/bdc541ade442db3e72e555c4ea81b529.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*jBTuNIdOEN-le51q9aHJwA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="3d4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们增加子元素之间的垂直空间，并在顶部添加一些填充。将以下类添加到同一个<code class="fe np nq nr ns b">div</code>元素中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qj"><img src="../Images/ec012493f6f03059b38fe9ef1f6b8b37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RSmq6MiXXGaUE2KZYlbvSw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Customizer.js. The change is highlighted in yellow</figcaption></figure><ul class=""><li id="2818" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">space-y-10</code>:每个子元素有10个单位的垂直空间。</li><li id="91bb" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">mt-6</code>:<code class="fe np nq nr ns b">div</code>集装箱上边距应为6个单位。</li></ul><p id="3f9a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是代码的输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qk"><img src="../Images/0656d809fc265ae927d5a509fe2f4fd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*bM-A6mwXMxFN25OvzyL6cQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="813e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的子元素现在有了彼此之间的空间，这无疑使我们的程序看起来更好。这意味着我们的代码可以工作！</p><p id="d06e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们通知TailwindCSS，我们想将它水平放置在一个更大的设备上。将下列类附加到同一个<code class="fe np nq nr ns b">div</code>元素:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ql"><img src="../Images/c50db6ffc97f3c01a39f6d9794ba0e0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TpGz3d8Omyc9-zZdBONIhQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Customizer.js. The changes are highlighted in yellow</figcaption></figure><ul class=""><li id="d964" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated">在一个不小的屏幕上，也就是说，在一个更大的显示器上，水平显示元素——就像一行一样。</li></ul><p id="0cca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qm"><img src="../Images/e40bab627680552229a8d515a8efa324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uKI8aayL8GPxrcuVxE_PDQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="33f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，我们的元素现在已经被水平放置，这表明我们的代码起作用了。但是，第一个子组件没有正确对齐。为此，我们先通知TailwindCSS在大屏幕上查看页面时删除子元素之间的垂直空格。</p><p id="2e88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将以下类添加到同一个<code class="fe np nq nr ns b">div</code>类中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qn"><img src="../Images/4b85b97c01505553891ee9b1a46cdcc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3mPAk77t-X1ZeanMnI638A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Class to add in Customizer.js. The change is highlighted in yellow</figcaption></figure><ul class=""><li id="6e59" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">sm:space-y-0</code>:在大屏幕上，子<code class="fe np nq nr ns b">div</code>元素之间不应该有垂直空间。</li></ul><p id="aae3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qo"><img src="../Images/054917bcfbbe63fbec698d28206ccab1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ccsxa5oMCsfubto-R5TkKw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="aea5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了！现在让我们调整这些项目，使每个项目周围有相等的空间。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qp"><img src="../Images/81565745263c584d71d3edb93f42c712.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jicL37H3Huc89VtX_A5pbg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Add the following class to Customizer.js. Change is highlighted in yellow</figcaption></figure><p id="ecbd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qq"><img src="../Images/622f43fe94beccf56e0b7454efdfde38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*UJSLA2ZV0GKOVAxtIkgdBg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="1a56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了！现在让我们通过调整窗口大小来测试我们的设计响应能力。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qr"><img src="../Images/9348797b99871fd49f69420aca9c48dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*abeREXNiFaaOY-KwPDzsPg.gif"/></div></div></figure><p id="6e73" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你所看到的，我们的<code class="fe np nq nr ns b">Customizer</code>功能组件根据窗口的大小将自己从<code class="fe np nq nr ns b">flex-col</code>容器转换到<code class="fe np nq nr ns b">flex-row</code>，反之亦然。这意味着我们的设计是可行的！</p><p id="8e0d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在最后一部分，让我们现在添加音频到我们的应用程序。</p><p id="49c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">Timer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="923f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是<code class="fe np nq nr ns b">Customizer.js</code>应该有的样子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><h2 id="1f2a" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">添加音频</h2><p id="cac8" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">在本教程的开始，我们在我们的项目中引入了一些音频资源。让我们现在使用它们。</p><p id="bd2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们将这些文件导入到<code class="fe np nq nr ns b">Timer.js</code>中。编写下面几行代码<code class="fe np nq nr ns b">Timer.js</code>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pm"><img src="../Images/37c061e77acfaaecf1fe63b82aa897e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7pY_OD5B6AJPdEzkEN7ltA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Add these imports into Timer.js</figcaption></figure><p id="5c62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，我们从位于<code class="fe np nq nr ns b">src</code>文件中的<code class="fe np nq nr ns b">Audio</code>文件夹导入<code class="fe np nq nr ns b">wav</code>文件。</p><ul class=""><li id="2115" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">startedAudio</code>将在用户启动番茄定时器时播放。</li><li id="4a03" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">endedAudio</code>将在计时器结束时播放。</li></ul><p id="5d7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在在您的<code class="fe np nq nr ns b">Timer</code>函数中声明几个<code class="fe np nq nr ns b">Audio</code>实例:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qs"><img src="../Images/216e826ba15d4c8a016aab45875c6b84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YfvKCi_KaEgeHwI4UiFTpg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Timer.js</figcaption></figure><p id="7598" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这段代码允许浏览器将我们的<code class="fe np nq nr ns b">wav</code>文件识别为<code class="fe np nq nr ns b">Audio</code>对象，以便可以播放它们。</p><p id="1922" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe np nq nr ns b">Timer.js</code>中，找到检测<code class="fe np nq nr ns b">timerDone</code>和<code class="fe np nq nr ns b">timerDone</code>变化的<code class="fe np nq nr ns b">useEffect</code>挂钩:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pn"><img src="../Images/662ef558f91e83cdf761440f0741ee06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UT5SxN7VuO4mr33GWx1naw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in Timer.js</figcaption></figure><p id="3103" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在在这个钩子中用下面的代码替换它:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pn"><img src="../Images/b9e9cad6f53ccc54fe3f94b03f65427f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tYyqtMQZCmrLH9OA-qdMbw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to write in Timer.js</figcaption></figure><p id="cad7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些变化出现在<code class="fe np nq nr ns b">Line 5 to Line 7</code>中。</p><ul class=""><li id="f2c0" class="ng nh iq ky b kz la lc ld lf ni lj nj ln nk lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 5</code>:检测<code class="fe np nq nr ns b">timerDone</code>的值是<code class="fe np nq nr ns b">true</code>还是<code class="fe np nq nr ns b">false</code>。</li><li id="27bc" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><code class="fe np nq nr ns b">Line 6</code>:如果是<code class="fe np nq nr ns b">true</code>，则播放<code class="fe np nq nr ns b">endedSound</code>音频文件。这表明定时器已经完成。</li></ul><p id="b3a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们播放<code class="fe np nq nr ns b">startedSound</code>文件。在<code class="fe np nq nr ns b">Timer</code>组件的<code class="fe np nq nr ns b">return</code>模块中，找到播放或暂停定时器的<code class="fe np nq nr ns b">Button</code>组件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qt"><img src="../Images/02ae8539b1b72094763f84412f0f347c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w5SoD30zOgP51hzprfTJ6A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to find in Timer.js</figcaption></figure><p id="6250" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">像这样改变它:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qu"><img src="../Images/455f4837c2e93b36a4f41473bb4fd7a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XoLYx36hyXduA1GlXx-TFg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Code to replace with in Timer.js</figcaption></figure><p id="68bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">变化出现在<code class="fe np nq nr ns b">Line 8</code>中。这里，我们告诉React在用户点击按钮时播放<code class="fe np nq nr ns b">startedSound</code>音频文件。</p><p id="c371" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们运行代码。这将是输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qr"><img src="../Images/aafb5f0a035013eff614f5465f197a18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*b7UWVCgQqe_tIJWqqFJ8lQ.gif"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output of the code</figcaption></figure><p id="7cfa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，浏览器的标题栏显示我们的应用程序在计时器启动和结束时都会播放声音。这意味着我们的代码是成功的。</p><p id="a6de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们终于完成了我们的项目！在下一部分，我们将讨论如何扩展这款应用的功能。</p><p id="eb37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，<code class="fe np nq nr ns b">Timer.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="a1d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是<code class="fe np nq nr ns b">Customizer.js</code>应该看起来的样子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ox l"/></div></figure></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="1d56" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">让这个应用程序更好的想法</h1><ul class=""><li id="5b96" class="ng nh iq ky b kz nb lc nc lf qv lj qw ln qx lr nl nm nn no bi translated">在明亮和黑暗模式之间切换:你可以为这个应用程序添加明亮模式，这样如果用户在白天或早上使用这个应用程序，对眼睛来说会更容易。这个教程可以帮助你切换你的明暗模式。</li><li id="09b0" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">添加闹铃功能:请注意，在我们的应用程序中，每次计时器结束或开始时，只会播放一次声音。为了让这个应用程序更好，你可以在计时器结束时播放声音，然后当用户点击停止按钮时让它停止。</li><li id="b330" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated">PWA:你也可以把这个web应用做成渐进式Web应用，这样用户即使离线也可以运行它。</li></ul></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="ca19" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">结论</h1><p id="de0b" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">这是一个很长的教程！我鼓励你玩代码和解构程序来更好地理解代码。如果你有困惑，也鼓励你广泛研究。不要放弃！</p><p id="03da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢谢你坚持到最后！祝你愉快。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="f0aa" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">Github链接和更多学习资源</h1><h2 id="fc2a" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">Github链接</h2><p id="3bf6" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">这是我们项目的存储库。</p><h2 id="571d" class="oe mk iq bd ml of og dn mp oh oi dp mt lf oj ok mv lj ol om mx ln on oo mz op bi translated">进一步阅读</h2><ul class=""><li id="e333" class="ng nh iq ky b kz nb lc nc lf qv lj qw ln qx lr nl nm nn no bi translated"><a class="ae kv" href="https://medium.com/better-programming/reacts-context-api-explained-baebcee39d2f" rel="noopener"> React的上下文API解释</a></li><li id="0fdd" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><a class="ae kv" href="https://www.youtube.com/watch?v=vyJU9efvUtQ" rel="noopener ugc nofollow" target="_blank">材质-UI反应教程-穿越媒体</a></li><li id="2333" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><a class="ae kv" href="https://www.youtube.com/watch?v=hRFbqdJKRvQ" rel="noopener ugc nofollow" target="_blank">使用带有React-codingsmarway的TailwindCSS】</a></li><li id="96f2" class="ng nh iq ky b kz nt lc nu lf nv lj nw ln nx lr nl nm nn no bi translated"><a class="ae kv" href="https://www.youtube.com/watch?v=FiGmAI5e91M" rel="noopener ugc nofollow" target="_blank"> React And TailwindCSS图片库- Traversy Media </a></li></ul><p id="249a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下一篇:<a class="ae kv" href="https://medium.com/better-programming/react-routers-explained-ff89153a6405" rel="noopener"> React路由器，已解释</a> <br/>上一篇:<a class="ae kv" href="https://medium.com/better-programming/build-a-notes-app-with-google-authentication-in-node-js-e0c3dea761e1" rel="noopener">在NodeJS中构建一个带有Google认证的Notes应用</a></p></div></div>    
</body>
</html>