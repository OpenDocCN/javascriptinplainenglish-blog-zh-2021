<html>
<head>
<title>How To Pass Data From One Component To Another In Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Angular中将数据从一个组件传递到另一个组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-pass-data-from-one-component-to-another-in-angular-a9725733da12?source=collection_archive---------0-----------------------#2021-02-04">https://javascript.plainenglish.io/how-to-pass-data-from-one-component-to-another-in-angular-a9725733da12?source=collection_archive---------0-----------------------#2021-02-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="28a3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在Angular中创建组件、路径以及通过这些路径发送/接收数据</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/af23dfc81200b79d231b64cccf1d8f22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AP7ZGMSGtrK_UAi9L9l1Lg.gif"/></div></div></figure><p id="f8b6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本教程中，我们将了解如何在<strong class="kt ir"> Angular </strong>应用程序中将数据从一个组件传递到另一个组件。在Angular之前，服务器只处理数据发送和数据捕获活动。但是在Angular中，数据发送和数据捕获活动仅由Angular完成。我们可以使用多种方法将数据发送到另一个页面/组件。下面列出了几个选项。</p><ol class=""><li id="9f35" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">URL参数</li><li id="3f48" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">查询参数</li><li id="b3fc" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">附加状态</li></ol><p id="17f4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">本教程重点介绍布线参数。让我们一个一个来看。</p><h1 id="6e3b" class="mb mc iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated"><strong class="ak">网址参数</strong></h1><p id="a4f0" class="pw-post-body-paragraph kr ks iq kt b ku mt jr kw kx mu ju kz la mv lc ld le mw lg lh li mx lk ll lm ij bi translated">URL参数主要用于SEO目的。只需查看示例URL。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="2bc2" class="nd mc iq mz b gy ne nf l ng nh"><a class="ae ni" href="http://localhost:4200/user/raja" rel="noopener ugc nofollow" target="_blank">http://localhost:4200/user/raja</a></span></pre><p id="350f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里的<strong class="kt ir"> raja </strong>将被称为URL参数。在大多数应用程序中，使用这种类型的URL。现在让我们看看如何从头开始在Angular中创建这种类型的URL。</p><p id="561a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，首先，使用下面的命令创建一个用户组件。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="cb1b" class="nd mc iq mz b gy ne nf l ng nh">ng g c user</span></pre><p id="6294" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<strong class="kt ir"> app.routing.ts </strong>文件中为用户组件创建一个路由。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="7994" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里的<strong class="kt ir"> :userId </strong>是捕获用户名的占位符。用来表示它的冒号是一个占位符。我们将使用占位符名称来获取值。</p><p id="f37f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们创建了一个组件，并为该组件创建了路线。为了捕捉URL参数，我们需要<strong class="kt ir">activate route</strong>类。所以在<strong class="kt ir"> user.component.ts </strong>文件中导入ActivatedRoute类。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="c85f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后在ActivatedRoute类的构造函数中创建一个引用变量。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="7834" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后使用activatedRoute中的<strong class="kt ir"> paramMap </strong>捕获<strong class="kt ir"> userId </strong>占位符值，如下所示。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="a885" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">请记住。占位符名称在路由中定义。所以在获取值时使用相同的占位符名称。</p><p id="75de" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以在<strong class="kt ir">user.component.html</strong>中显示用户标识，如下图所示。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="ddc0" class="nd mc iq mz b gy ne nf l ng nh">&lt;p&gt;UserId: {{userId}}&lt;/p&gt;</span></pre><p id="8e3a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以用各种方法测试上面的URL参数。直接在浏览器中输入下面的URL进行测试。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="3e3c" class="nd mc iq mz b gy ne nf l ng nh"><a class="ae ni" href="http://localhost:4200/user/raja" rel="noopener ugc nofollow" target="_blank">http://localhost:4200/user/raja</a></span></pre><p id="cfaf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用路由器导航到页面(组件)进行测试。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="d46a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过使用routerLink导航到页面(组件)进行测试。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="6bee" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所有的测试方法都会在浏览器中显示raja作为输出。现在我们非常清楚如何使用URL参数发送和接收数据。接下来，我们将看到如何处理查询参数。</p><h1 id="c8fe" class="mb mc iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated"><strong class="ak">查询参数</strong></h1><p id="2c25" class="pw-post-body-paragraph kr ks iq kt b ku mt jr kw kx mu ju kz la mv lc ld le mw lg lh li mx lk ll lm ij bi translated">下面给出了查询参数的示例URL。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="b7b1" class="nd mc iq mz b gy ne nf l ng nh"><a class="ae ni" href="http://localhost:4200/user/raja?souce=Google&amp;page_id=10" rel="noopener ugc nofollow" target="_blank">http://localhost:4200/user/raja?souce=Google&amp;page_id=10</a></span></pre><p id="c8ac" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里的<strong class="kt ir">源</strong>和<strong class="kt ir"> page_id </strong>是查询参数。我们可以使用同一个ActivatedRoute类来捕获这些数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="32d5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以在<strong class="kt ir">user.component.html</strong>中显示信号源，如下图所示。我只接受一个查询参数。您可以使用N个查询参数。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="aa00" class="nd mc iq mz b gy ne nf l ng nh">&lt;p&gt;Source: {{source}}&lt;/p&gt;</span></pre><p id="6ab1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以用各种方法测试上面的URL参数。在浏览器中输入下面的URL进行测试。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="a9e5" class="nd mc iq mz b gy ne nf l ng nh"><a class="ae ni" href="http://localhost:4200/user/raja?source=Application" rel="noopener ugc nofollow" target="_blank">http://localhost:4200/user/raja?source=Application</a></span></pre><p id="ad94" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用路由器导航到页面/组件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="68f2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用路由器链接导航到页面/组件。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="e6dc" class="nd mc iq mz b gy ne nf l ng nh">&lt;a [routerLink]="['/user/raja']" [queryParams]="{ source: 'Application'}"&gt;Query PARAM&lt;/a&gt;</span></pre><p id="f0cb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所有的测试方法都会将应用程序显示为浏览器中的输出。这里我实现了查询参数和URL参数。但是，URL和查询参数是独立的。不需要将查询参数放在URL参数之后。</p><h1 id="281b" class="mb mc iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated">附加状态</h1><p id="c683" class="pw-post-body-paragraph kr ks iq kt b ku mt jr kw kx mu ju kz la mv lc ld le mw lg lh li mx lk ll lm ij bi translated">如果您想发送一堆数据而不在URL中显示它们，那么在路由中使用extras state选项。</p><p id="b0b1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在您的<strong class="kt ir"> home.component.ts </strong>文件中导入NavigationExtras类。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="424d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用额外状态发送数据的示例代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="88a8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里我们在状态选项下传递数据。参数名为<strong class="kt ir">用户</strong>。您可以使用参数名称user来捕获数据。</p><p id="56a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了捕捉数据，我们需要Router类。因此，将路由器类导入到<strong class="kt ir"> user.component.ts </strong>文件中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="5ada" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用附加状态捕获数据的示例代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="d57b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Extras状态是发送和接收数据而不在浏览器中显示它们的一个很好的选项。但是它有一个很大的缺点。如果我们刷新页面，额外的状态数据将会消失。我们无法捕捉它。因此，在应用程序中实现它之前，请考虑这个问题，以及您将如何处理这种情况。</p><p id="d4ad" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">完整源代码:</strong></p><div class="nl nm gp gr nn no"><a href="https://github.com/bharathirajatut/angular-examples/tree/master/angular-send-data" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">bharathirajatu/angular-示例</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">角度示例源代码。为bharathirajatu/angular-examples的发展作出贡献</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">github.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc kp no"/></div></div></a></div><h1 id="682d" class="mb mc iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated"><strong class="ak">总结:</strong></h1><p id="803b" class="pw-post-body-paragraph kr ks iq kt b ku mt jr kw kx mu ju kz la mv lc ld le mw lg lh li mx lk ll lm ij bi translated">在本教程中，您学习了以角度路径从一个组件向另一个组件发送数据的各种方法，以及如何接收数据。本教程将非常有用的角度应用初学者。</p><p id="f65c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">到目前为止，我们已经看到了以下主题。</p><ol class=""><li id="ff72" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">如何创建一个<strong class="kt ir"> URL </strong>参数以及如何发送、接收URL参数中的数据。</li><li id="9326" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">如何创建一个<strong class="kt ir">查询</strong>参数以及如何发送、接收URL参数中的数据。</li><li id="62a3" class="ln lo iq kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">如何创建一个<strong class="kt ir">附加状态</strong>参数以及如何发送、接收URL参数中的数据。以及在群众演员状态下的劣势。</li></ol><p id="4d53" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一些开发人员将使用本地存储在页面之间发送和接收数据。如果你愿意，可以试试本地存储。如果接收页面刷新，本地存储将是额外状态的解决方案。我们可以将额外的状态数据存储在本地存储中，如果页面被刷新，那么我们可以从本地存储中获取数据，而不是额外的状态。</p><p id="23cf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">希望你喜欢这个教程。敬请关注更多文章。</p><p id="bd01" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢您阅读这篇文章。</p><p id="d1f1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">角路由相关文章。</strong></p><div class="nl nm gp gr nn no"><a href="https://medium.com/javascript-in-plain-english/angular-routing-and-navigation-example-998d14c01f8e" rel="noopener follow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">角度路由和导航示例</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">创建组件并创建路线，然后导航到路线</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">medium.com</p></div></div><div class="nx l"><div class="od l nz oa ob nx oc kp no"/></div></div></a></div><div class="nl nm gp gr nn no"><a href="https://medium.com/javascript-in-plain-english/how-lazy-loading-impacts-angular-app-performance-9c1ee0cb11ea" rel="noopener follow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">惰性加载如何影响Angular应用性能</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">角形部件有什么问题？</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">medium.com</p></div></div><div class="nx l"><div class="oe l nz oa ob nx oc kp no"/></div></div></a></div></div></div>    
</body>
</html>