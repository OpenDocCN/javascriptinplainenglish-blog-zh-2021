<html>
<head>
<title>How I Successfully Created a Simple Fade-Out Animation with Remotion</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何成功地用Remotion创建了一个简单的淡出动画</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-i-successfully-created-a-simple-fade-out-animation-with-remotion-da92815ea26e?source=collection_archive---------17-----------------------#2021-04-18">https://javascript.plainenglish.io/how-i-successfully-created-a-simple-fade-out-animation-with-remotion-da92815ea26e?source=collection_archive---------17-----------------------#2021-04-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="44e6" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">基于帧数的插值函数实例。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/0145742497834e11730731544d2678fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7ZKxYxTH4VKjMgQu"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@flowforfrank?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ferenc Almasi</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5ce1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">本文是远程系列文章的一部分。由<a class="ae ks" href="https://medium.com/u/a6c9cee7d1f2?source=post_page-----ae0fac09a0e3--------------------------------" rel="noopener"> JonnyBurger </a>使用React和FFmpeg创建的视频创建库。</p><p id="7743" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">摘要文章和完整的动画链接在本文的末尾。</p><h1 id="b71c" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">我们将在本文中创建什么</h1><p id="4936" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">这篇文章将向你展示如何创建蓝色竖条的淡出动画</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/1e24fbc847a660e294cae4384b65b8c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/1*voVxiQtK7N6V54aupwB9Cg.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Scale-out and pop in animation</figcaption></figure><p id="c53e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果您对如何创建“谢谢”消息感兴趣，这与本系列文章的第1部分中介绍的是同一个弹出式动画:</p><div class="mn mo gp gr mp mq"><a href="https://florentpergoud.medium.com/how-to-created-an-pretty-pop-in-animation-with-remotion-ae0fac09a0e3" rel="noopener follow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">如何在动画中创建一个漂亮的pop动画</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">远程视频创作的简单介绍</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">florentpergoud.medium.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne km mq"/></div></div></a></div><h1 id="83bd" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">淡出动画</h1><p id="72d0" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">至于弹出动画，淡出动画是基于组件的<strong class="kv io">比例</strong>的动画。</p><p id="e771" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，我们需要三个部分来创建这个动画:</p><ul class=""><li id="557c" class="nf ng in kv b kw kx kz la lc nh lg ni lk nj lo nk nl nm nn bi translated">要制作动画的反应组件。</li><li id="66a9" class="nf ng in kv b kw no kz np lc nq lg nr lk ns lo nk nl nm nn bi translated">一些CSS样式和转换组件。</li><li id="bb7e" class="nf ng in kv b kw no kz np lc nq lg nr lk ns lo nk nl nm nn bi translated">一个处理所有动画JavaScript代码的函数。</li></ul><h2 id="c37d" class="nt lq in bd lr nu nv dn lv nw nx dp lz lc ny nz mb lg oa ob md lk oc od mf oe bi translated">React和CSS部分</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="of og l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">The JSX code animating our container</figcaption></figure><p id="cded" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我在本系列的第一篇文章中使用了样式化组件。但是在这个例子中，它根本不是强制性的。</p><p id="0500" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如你所见，这里没有魔法。如果你想让一个组件淡入或淡出，你必须改变它的规模。</p><blockquote class="oh oi oj"><p id="29a5" class="kt ku ok kv b kw kx jo ky kz la jr lb ol ld le lf om lh li lj on ll lm ln lo ig bi translated">该组件需要绝对定位在其父组件中。否则，当这个部件的高度改变时，你的整个构图就会改变。</p></blockquote><h2 id="5617" class="nt lq in bd lr nu nv dn lv nw nx dp lz lc ny nz mb lg oa ob md lk oc od mf oe bi translated">将控制比例值的代码</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="e769" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">下面是这段代码的作用:</p><ul class=""><li id="1c07" class="nf ng in kv b kw kx kz la lc nh lg ni lk nj lo nk nl nm nn bi translated">我们希望比例值始终介于1和0之间。</li><li id="58a2" class="nf ng in kv b kw no kz np lc nq lg nr lk ns lo nk nl nm nn bi translated">缩放值将随着当前帧数的增加而减小。</li><li id="eaf3" class="nf ng in kv b kw no kz np lc nq lg nr lk ns lo nk nl nm nn bi translated">然后当“durationInFrame”帧将被渲染时，该函数将总是返回0的比例值。</li></ul><h2 id="e038" class="nt lq in bd lr nu nv dn lv nw nx dp lz lc ny nz mb lg oa ob md lk oc od mf oe bi translated">这是如何工作的</h2><p id="9e2f" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">我们用于移除核心实用程序:</p><ul class=""><li id="1792" class="nf ng in kv b kw kx kz la lc nh lg ni lk nj lo nk nl nm nn bi translated"><a class="ae ks" href="https://www.remotion.dev/docs/use-current-frame" rel="noopener ugc nofollow" target="_blank">useCurrentFrame</a>():Remotion独立渲染每一帧，可以并行渲染。那么每个动画都需要基于帧数，而不是基于时间。这个钩子返回实际的帧号。</li><li id="fd0f" class="nf ng in kv b kw no kz np lc nq lg nr lk ns lo nk nl nm nn bi translated"><a class="ae ks" href="https://www.remotion.dev/docs/interpolate" rel="noopener ugc nofollow" target="_blank">插值</a>()，“允许您使用简洁的语法将一个值范围映射到另一个值范围。”</li></ul><p id="7878" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里的插值函数是用</p><ul class=""><li id="7c8d" class="nf ng in kv b kw kx kz la lc nh lg ni lk nj lo nk nl nm nn bi translated">一系列帧号</li></ul><pre class="kd ke kf kg gt oo op oq or aw os bi"><span id="e9c0" class="nt lq in op b gy ot ou l ov ow">[0, durationInFrame] -&gt; [from, to]</span></pre><ul class=""><li id="8c17" class="nf ng in kv b kw kx kz la lc nh lg ni lk nj lo nk nl nm nn bi translated">比例值是介于以下值之间的值</li></ul><pre class="kd ke kf kg gt oo op oq or aw os bi"><span id="1a8b" class="nt lq in op b gy ot ou l ov ow">[1,0] -&gt; [from, to]</span></pre><ul class=""><li id="ceb5" class="nf ng in kv b kw kx kz la lc nh lg ni lk nj lo nk nl nm nn bi translated">有一些延迟的实际帧号:</li></ul><pre class="kd ke kf kg gt oo op oq or aw os bi"><span id="52e3" class="nt lq in op b gy ot ou l ov ow">frame-delay </span></pre><h1 id="720e" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">那么这个挂钩用的是什么招数:</h1><p id="33c7" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated"><strong class="kv io">夹紧动画</strong></p><p id="0afb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为了理解它，我们必须更深入地研究一下“interpolate()<strong class="kv io">”</strong>函数<strong class="kv io">。</strong></p><blockquote class="oh oi oj"><p id="5c58" class="kt ku ok kv b kw kx jo ky kz la jr lb ol ld le lf om lh li lj on ll lm ln lo ig bi translated">它<strong class="kv io"> </strong>根据给定的参数返回一个数字。</p></blockquote><p id="bc59" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们给它一个输入范围，一个输出范围和一个输入数。然后，它返回输出范围内的插值数字。</p><p id="8984" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是这些数字是我们和函数之间的契约。因为我们是人，所以这个功能是用来处理我们对这个契约的不尊重。</p><p id="7ffc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">它将外推任何小于或大于输入范围的输入值。</p><p id="7793" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因为我们给出的输入范围为:</p><pre class="kd ke kf kg gt oo op oq or aw os bi"><span id="4d43" class="nt lq in op b gy ot ou l ov ow">[0, durationInFrame]</span></pre><blockquote class="oh oi oj"><p id="42b0" class="kt ku ok kv b kw kx jo ky kz la jr lb ol ld le lf om lh li lj on ll lm ln lo ig bi translated"><strong class="kv io"> <em class="in">外推左边的</em> </strong> <em class="in">会默认外推0以下的值</em></p><p id="965b" class="kt ku ok kv b kw kx jo ky kz la jr lb ol ld le lf om lh li lj on ll lm ln lo ig bi translated"><strong class="kv io"> <em class="in">外推右</em> </strong> <em class="in">将默认外推“durationInFrame”</em>上的值</p></blockquote><p id="f322" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">很好是吗？</p><p id="e5b0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">嗯，以我们目前的情况，完全没有！</strong></p><p id="f859" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">那为什么呢？</p><p id="537a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因为我们不希望组件的标度大于1或小于0。</p><p id="5fef" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">谢天谢地，interpolate接受了一个<a class="ae ks" href="https://www.remotion.dev/docs/interpolate#options" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">选项参数</strong> </a> <strong class="kv io">。</strong></p><p id="9df4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">该选项参数允许我们处理<strong class="kv io">外推</strong>和<strong class="kv io">缓和</strong>设置。</p><p id="f735" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们现在将看到它如何允许我们添加一些延迟到我们的动画！</p><h2 id="c6b2" class="nt lq in bd lr nu nv dn lv nw nx dp lz lc ny nz mb lg oa ob md lk oc od mf oe bi translated">有一些延迟的动画</h2><p id="912f" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">因为我们想要动画化组件的比例值，所以给我们的动画增加一些延迟意味着在动画开始之前将它设置为返回1。</p><p id="c8d5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们再次检查我们的代码:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="b921" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">通过给定一个低于<em class="ok"> 0 </em>或高于<em class="ok"> durationInFrame </em>的值作为<em class="ok"> interpolate()，</em>的第一个参数，它将推断出输出值应该是多少。因此，这会输出一个超出[1，0]输出边界的值。</p><p id="ac85" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，通过将<strong class="kv io">外推左</strong>和<strong class="kv io">外推右</strong>设置为<strong class="kv io">“夹钳”，</strong>我们告诉interpolate()为:</p><ul class=""><li id="cee4" class="nf ng in kv b kw kx kz la lc nh lg ni lk nj lo nk nl nm nn bi translated">如果帧数参数低于<em class="ok"> 0 </em>则返回1</li><li id="cc5c" class="nf ng in kv b kw no kz np lc nq lg nr lk ns lo nk nl nm nn bi translated">如果帧数参数超过<em class="ok">持续时间帧</em>则返回0</li></ul><p id="b1a0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">然后，当我们将“frame-delay”作为“frameNumber”参数传递时，它的行为类似于下面的伪代码:</p><pre class="kd ke kf kg gt oo op oq or aw os bi"><span id="09fd" class="nt lq in op b gy ot ou l ov ow">if (frame &lt; delay) return 1<br/>if ((frame - delay ) &lt; durationInFrame) return interpolatedValue<br/>if ((frame - delay ) &gt; durationInFrame) return 0</span></pre><p id="46ab" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，使用该代码，我们实际上有一个介于1和0之间的标度值。缩放值将随着当前帧数的增加而减小。然后当“durationInFrame”帧被渲染后，动画将总是返回0。</p><h1 id="98ed" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">结论</h1><p id="ac57" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">现在，您已经了解了这个横向扩展动画中使用的所有内容！</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/1e24fbc847a660e294cae4384b65b8c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/1*voVxiQtK7N6V54aupwB9Cg.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Scale-out and pop in animation</figcaption></figure><p id="1ce2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">请查看<a class="ae ks" href="https://www.remotion.dev/docs/interpolate" rel="noopener ugc nofollow" target="_blank">插补()函数</a>的完整文档。还有更多的东西有待发现！</p></div><div class="ab cl ox oy hr oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="ig ih ii ij ik"><p id="7b70" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">这是完整的动画</strong></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/81c632567400f767536cbc075d3723e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/1*Ed2GRtEOTHpn4Jr-s0Cwyg.gif"/></div></figure><p id="1c3b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可以在下面找到这个系列关于动画的另一部分:</p><p id="0461" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第1部分:动画弹出</strong></p><div class="mn mo gp gr mp mq"><a href="https://florentpergoud.medium.com/how-to-created-an-pretty-pop-in-animation-with-remotion-ae0fac09a0e3" rel="noopener follow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">如何在动画中创建一个漂亮的pop动画</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">远程视频创作的简单介绍</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">florentpergoud.medium.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne km mq"/></div></div></a></div></div><div class="ab cl ox oy hr oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="ig ih ii ij ik"><p id="710a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="ok">如果您有任何问题，请:</em></p><ul class=""><li id="d96c" class="nf ng in kv b kw kx kz la lc nh lg ni lk nj lo nk nl nm nn bi translated"><em class="ok">发表评论。</em></li><li id="5a30" class="nf ng in kv b kw no kz np lc nq lg nr lk ns lo nk nl nm nn bi translated"><em class="ok">联系我上</em> <a class="ae ks" href="https://twitter.com/FlorentPergoud" rel="noopener ugc nofollow" target="_blank"> <em class="ok">推特</em> </a> <em class="ok">。</em></li><li id="3145" class="nf ng in kv b kw no kz np lc nq lg nr lk ns lo nk nl nm nn bi translated"><em class="ok">或者加入我们的</em> <a class="ae ks" href="https://discord.com/invite/6VzzNDwUwV" rel="noopener ugc nofollow" target="_blank"> <em class="ok">移除不和谐</em> </a> <em class="ok">！</em></li></ul><p id="e0c5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="ok">——</em>——<a class="pf pg ep" href="https://medium.com/u/ad2d39110749?source=post_page-----da92815ea26e--------------------------------" rel="noopener" target="_blank">——<em class="ok">弗洛伦特</em>——</a></p><p id="2168" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="ok">更多内容请看</em><a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ok">plain English . io</em></a></p></div></div>    
</body>
</html>