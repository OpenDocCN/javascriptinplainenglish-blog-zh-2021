<html>
<head>
<title>Build a Snippets App with Next.js, FaunaDB, Tailwind CSS &amp; Auth0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨Next.jsã€FaunaDBã€Tailwind CSSå’ŒAuth0æ„å»ºSnippetsåº”ç”¨ç¨‹åº</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/build-a-snippets-app-with-nextjs-faunadb-tailwind-css-auth0-413c52273ba9?source=collection_archive---------3-----------------------#2021-05-05">https://javascript.plainenglish.io/build-a-snippets-app-with-nextjs-faunadb-tailwind-css-auth0-413c52273ba9?source=collection_archive---------3-----------------------#2021-05-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/02f1c14a2d819a8f72236fa5e87600b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*42tQsrtP5TpiN3tIrwkGQg.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">FaunaDB</figcaption></figure><p id="960a" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨Next.jsä¸­æ„å»ºä¸€ä¸ªSnippetåº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬å°†å­˜å‚¨å’Œæ£€ç´¢æ¥è‡ªFaunaDBçš„æ•°æ®ï¼Œå¹¶åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Tailwind CSSã€‚æˆ‘ä»¬è¿˜å°†åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Auth0çš„å¼ºå¤§è®¤è¯æœåŠ¡</p><p id="f2c0" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">å› æ­¤ï¼Œæ‰“å¼€æ‚¨çš„ç»ˆç«¯ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°çš„Next.jsåº”ç”¨ç¨‹åºã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="8ad5" class="lg lh in lc b gy li lj l lk ll">npx create-next-app snippet-app-nextjs</span></pre><p id="43e9" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼ŒæŒ‰ç…§è¯´æ˜ï¼Œåˆ‡æ¢åˆ°æ–°åˆ›å»ºçš„æ–‡ä»¶å¤¹ã€‚æˆ‘ä¹Ÿç”¨VSä»£ç æ‰“å¼€äº†è¿™ä¸ªé¡¹ç›®ã€‚ä¹‹åï¼Œè¿è¡Œ<code class="fe lm ln lo lc b"><strong class="kb io">npm run dev</strong></code>å¯åŠ¨é¡¹ç›®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lp"><img src="../Images/ba02446c9ee8c039b43693d4e14ae1b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l04CJ9Xt6GCIiJJeG7esug.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">config</figcaption></figure><p id="df43" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ä½†æ˜¯åœ¨ç»§ç»­ä¹‹å‰ï¼Œæˆ‘ä»¬å°†ç”±npmå®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ…ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ºæ•°æ®åº“å®‰è£…äº†FaunaDBï¼Œä¸ºè¡¨å•éªŒè¯å®‰è£…äº†react-hook-formï¼Œä¸ºå®æ—¶è·å–æ•°æ®å®‰è£…äº†SWRã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šå…³äºSWRçš„ä¿¡æ¯ã€‚</p><p id="8e28" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">å› æ­¤ï¼Œæ‰“å¼€æ‚¨çš„ç»ˆç«¯å¹¶å®‰è£…è½¯ä»¶åŒ…ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="0cea" class="lg lh in lc b gy li lj l lk ll">npm i faunadb react-hook-form swr</span></pre><p id="350d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æˆ‘ä»¬è¿˜å°†åœ¨é¡¹ç›®ä¸­è®¾ç½®Tailwind CSSã€‚å› æ­¤ï¼Œæ‰“å¼€ç»ˆç«¯å¹¶å®‰è£…ä¸‹é¢çš„ä¾èµ–é¡¹ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="3e0e" class="lg lh in lc b gy li lj l lk ll">npm install --save-dev tailwindcss postcss-preset-env postcss</span></pre><p id="7873" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ä¸‹é¢æ˜¯åˆå§‹åŒ–Tailwindè¿è¡Œçš„ä¸‹ä¸€ä¸ªå‘½ä»¤ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="7266" class="lg lh in lc b gy li lj l lk ll">npx tailwindcss init</span></pre><p id="5863" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">å®ƒä¼šåœ¨æˆ‘ä»¬çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<strong class="kb io"> tailwind.config.js </strong>æ–‡ä»¶ã€‚ä¹‹åï¼Œåœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<strong class="kb io"> postcss.config.js </strong>æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="8a84" class="lg lh in lc b gy li lj l lk ll">module.exports = {<br/>    plugins: ['tailwindcss', 'postcss-preset-env'],<br/>}</span></pre><p id="c41a" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æœ€åï¼Œæˆ‘ä»¬éœ€è¦è½¬åˆ°<strong class="kb io"> styles </strong>æ–‡ä»¶å¤¹ä¸­çš„<strong class="kb io"> globals.css </strong>æ–‡ä»¶ï¼Œåˆ é™¤æ‰€æœ‰å†…å®¹ï¼Œå¹¶ä¸ºtailwindæ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="2156" class="lg lh in lc b gy li lj l lk ll">@tailwind base;<br/>@tailwind components;<br/>@tailwind utilities;</span><span id="eeb6" class="lg lh in lc b gy lr lj l lk ll">body {<br/>    margin: 0;<br/>    padding: 0;<br/>}</span></pre><p id="57fb" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ä¹‹åï¼Œæ›´æ–°<strong class="kb io">é¡µé¢</strong>æ–‡ä»¶å¤¹ä¸­çš„<strong class="kb io"> _app.js </strong>æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ‰€æœ‰çš„é¡ºé£CSSå…ƒç´ ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="2071" class="lg lh in lc b gy li lj l lk ll">import '../styles/globals.css'</span><span id="51e3" class="lg lh in lc b gy lr lj l lk ll">function MyApp({ Component, pageProps }) {<br/>  return (<br/>    &lt;div className="bg-yellow-600 w-full p-10 min-h-screen"&gt;<br/>        &lt;div className="max-w-2xl mx-auto"&gt;<br/>            &lt;Component {...pageProps} /&gt;<br/>        &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="4d2a" class="lg lh in lc b gy lr lj l lk ll">export default MyApp</span></pre><p id="d07c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œä¹Ÿåˆ é™¤<strong class="kb io"> pages </strong>æ–‡ä»¶å¤¹ä¸­<strong class="kb io"> index.js </strong>ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œå¹¶æ›´æ–°ä¸ºä»¥ä¸‹å†…å®¹ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="f398" class="lg lh in lc b gy li lj l lk ll">import Head from 'next/head'<br/>import Link from 'next/link';</span><span id="7ed9" class="lg lh in lc b gy lr lj l lk ll">export default function Home() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;Head&gt;<br/>        &lt;title&gt;Snippet App&lt;/title&gt;<br/>        &lt;link rel="icon" href="/favicon.ico" /&gt;<br/>      &lt;/Head&gt;<br/>      &lt;main&gt;<br/>        &lt;div className="my-12"&gt;<br/>          &lt;h1 className="text-red-100 text-2xl"&gt;<br/>            TheWebDev Code Snippets<br/>          &lt;/h1&gt;<br/>          &lt;p className="text-red-200"&gt;<br/>            Create and browse snippets in Web Development!<br/>          &lt;/p&gt;<br/>          &lt;Link href="/new"&gt;<br/>            &lt;a className="mt-3 inline-block bg-yellow-800 hover:bg-yellow-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"&gt;<br/>              Create a Snippet!<br/>            &lt;/a&gt;<br/>          &lt;/Link&gt;<br/>        &lt;/div&gt;<br/>      &lt;/main&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="3616" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æˆ‘ä»¬ç°åœ¨å°†åœ¨æœ¬åœ°ä¸»æœºä¸­çœ‹åˆ°è¿™ä¸ªæ¼‚äº®çš„é¡µé¢ï¼Œå¸¦æœ‰ä¸€ä¸ªæŒ‰é’®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ls"><img src="../Images/f727b80e52a39494f5e5abc6a1422e3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qp9ceJeGWyxImeO76LMRbw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">localhost</figcaption></figure><p id="55a3" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨å‰è¿›ä¹‹å‰ï¼Œæˆ‘ä»¬å°†å»ºç«‹FaunaDBã€‚æ‰€ä»¥ï¼Œå»fauna.comæŠ¥åå§ã€‚æ³¨å†Œåï¼Œæ‚¨å°†è¢«å¸¦åˆ°è¿™ä¸ªå±å¹•ï¼Œåœ¨è¿™é‡Œæ‚¨éœ€è¦ç‚¹å‡»<strong class="kb io">æ–°å»ºæ•°æ®åº“</strong>æŒ‰é’®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lt"><img src="../Images/28a69624c4089e9f1b9dad2f0ccb9507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nEveYpj2bpuonVAaYNzcuw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Database</figcaption></figure><p id="2fd9" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ•°æ®åº“ä¸€ä¸ªåç§°ã€‚æˆ‘å°†å®ƒå‘½åä¸º<strong class="kb io">ç‰‡æ®µ-åº”ç”¨ç¨‹åº-åŠ¨ç‰©ç¾¤</strong>ã€‚ä¹‹åï¼Œç‚¹å‡»ä¿å­˜æŒ‰é’®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lu"><img src="../Images/1800a3687c14ca6ddaf7862e4f2df858.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*abjtKhvXisTxFAk_DrJnzg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Database name</figcaption></figure><p id="6beb" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨ä¸‹ä¸€ä¸ªå±å¹•ä¸Šï¼Œç‚¹å‡»<strong class="kb io">æ–°æ”¶è—</strong>æŒ‰é’®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lv"><img src="../Images/19daa2c373a4cfa13626a106f7a4696a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*alvqmEjc1j93otnXlHvt9Q.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">New Collection</figcaption></figure><p id="2165" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘å°†é›†åˆåç§°å‘½åä¸º<strong class="kb io">ç‰‡æ®µ</strong>ï¼Œå¹¶ç‚¹å‡»<strong class="kb io">ä¿å­˜</strong>æŒ‰é’®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/c7ef7586498501f984bfa45c48dc6551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h9RCZD8jrFLgtfE_NNeQ6A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">snippets</figcaption></figure><p id="8a54" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†é¦–å…ˆä»æ•°æ®åº“åˆ›å»ºä¸€ä¸ªæ–‡æ¡£ï¼Œç„¶åå°†é€»è¾‘ç§»åˆ°å‰ç«¯ã€‚æ‰€ä»¥ï¼Œç‚¹å‡»<strong class="kb io">æ–°å»ºæ–‡æ¡£</strong>æŒ‰é’®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lu"><img src="../Images/8ba5e607e0416d3c01322da1fc579741.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TOfacF0zTf4uv-nVsjKULg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">New Document</figcaption></figure><p id="1074" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨ä¸‹ä¸€ä¸ªçª—å£ä¸­ï¼Œæˆ‘ä»¬å°†æœ‰ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°†ä»¥JSONæ ¼å¼ç»™å‡ºæ•°æ®ã€‚ç¨åï¼Œæˆ‘ä»¬å°†ä»å‰ç«¯å‘é€è¿™äº›æ•°æ®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/9845282607076190c00221067d979e58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L-ree3eB0rglsitrV5ijlg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Editor</figcaption></figure><p id="e2b4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œåœ¨Collection -&gt; Snippetä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ–‡æ¡£ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/7255cc06fa9e2a260117ccb75146069c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*frib-Q_vGRH25FkiwfJCpw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Document</figcaption></figure><p id="56eb" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦è®¾ç½®APIé”®ã€‚æ‰€ä»¥ï¼Œç‚¹å‡»<strong class="kb io">å®‰å…¨</strong>æ ‡ç­¾ï¼Œç„¶åç‚¹å‡»<strong class="kb io">æ–°é’¥åŒ™</strong>æŒ‰é’®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/8582ec6f3a101e78519849284778540b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XJhS2qvEJSQ3cBcnEbhaQw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">NEW KEY</figcaption></figure><p id="70fb" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨ä¸‹ä¸€ä¸ªå±å¹•ä¸­ï¼Œä»è§’è‰²ä¸‹æ‹‰åˆ—è¡¨ä¸­ï¼Œå•å‡»<strong class="kb io">æœåŠ¡å™¨</strong>ï¼Œç„¶åå‘½åä¸º<strong class="kb io"> snippet_app_key </strong>ã€‚ç„¶åç‚¹å‡»<strong class="kb io">ä¿å­˜</strong>æŒ‰é’®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lv"><img src="../Images/9a0d11809b18c374994dd6c87b62ed5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zxfljvcwtI4aoEbyqjEYOA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">snippet key</figcaption></figure><p id="15f1" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ä¸‹ä¸€ä¸ªå±å¹•å°†ç»™å‡ºæˆ‘ä»¬éœ€è¦å¤åˆ¶çš„APIå¯†é’¥ï¼Œå› ä¸ºå®ƒä¸ä¼šå†æ¬¡æ˜¾ç¤ºã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/7dac3d82a8dde4d2540b76ed959bd0ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*njbcLjKocJWi6QMC1ih-xw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Secret Key</figcaption></figure><p id="1924" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œå›åˆ°æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œåœ¨æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶. env.localï¼Œå¹¶å°†å¯†é’¥æ·»åŠ åˆ°å˜é‡FAUNA_SECRETä¸­ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ly"><img src="../Images/651f14d42f4c66679b66856112d4a198.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e-cqRmhLqvC3EqfDO7Eh2Q.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">.env.local</figcaption></figure><p id="0fd0" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œåœ¨å°†æˆ‘ä»¬çš„FaunaDBè¿æ¥åˆ°å‰ç«¯ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å°†æ·»åŠ æ–‡ä»¶æ¥æ˜¾ç¤ºå®ƒã€‚</p><p id="1913" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<strong class="kb io"> components </strong>æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<strong class="kb io"> Snippet.js </strong>ã€‚æŠŠä¸‹é¢çš„å†…å®¹æ”¾è¿›å»ã€‚</p><p id="f4fe" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†è·å¾—ç‰‡æ®µé“å…·ï¼Œå…¶ä¸­æˆ‘ä»¬å°†æ˜¾ç¤ºåç§°ã€è¯­è¨€å’Œæè¿°ã€‚æˆ‘ä»¬å°†ä»£ç ä¼ é€’ç»™å¦ä¸€ä¸ªç»„ä»¶<strong class="kb io">ä»£ç </strong>ã€‚</p><p id="b7b5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æˆ‘ä»¬è¿˜å±•ç¤ºäº†ä¸€ä¸ªç¼–è¾‘å’Œåˆ é™¤æŒ‰é’®ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="7385" class="lg lh in lc b gy li lj l lk ll">import React from 'react';<br/>import Code from './Code';<br/>import Link from 'next/link';</span><span id="560e" class="lg lh in lc b gy lr lj l lk ll">export default function Snippet({ snippet }) {</span><span id="fc29" class="lg lh in lc b gy lr lj l lk ll">const deleteSnippet = async () =&gt; {<br/>    };<br/>    <br/>    return (<br/>        &lt;div className="bg-gray-100 p-4 rounded-md my-2 shadow-lg"&gt;<br/>            &lt;div className="flex items-center justify-between mb-2"&gt;<br/>                &lt;h2 className="text-xl text-gray-800 font-bold"&gt;<br/>                    {snippet.data.name}<br/>                &lt;/h2&gt;<br/>                &lt;span className="font-bold text-xs text-red-800 px-2 py-1 rounded-lg "&gt;<br/>                    {snippet.data.language}<br/>                &lt;/span&gt;<br/>            &lt;/div&gt;<br/>            &lt;p className="text-gray-900 mb-4"&gt;{snippet.data.description}&lt;/p&gt;<br/>            &lt;Code code={snippet.data.code} /&gt;<br/>            &lt;Link href={`/edit/${snippet.id}`}&gt;<br/>                &lt;a className="text-gray-800 mr-2"&gt;Edit&lt;/a&gt;<br/>            &lt;/Link&gt;<br/>            &lt;button onClick={deleteSnippet} className="text-gray-800 mr-2"&gt;<br/>                Delete<br/>            &lt;/button&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}</span></pre><p id="a91b" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œåœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<strong class="kb io"> Code.js </strong>ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å°†æ˜¾ç¤ºå•å‡»æŒ‰é’®æ—¶çš„ä»£ç ã€‚æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªå¤åˆ¶åŠŸèƒ½ï¼Œå°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="76e8" class="lg lh in lc b gy li lj l lk ll">import React, { useState } from 'react';</span><span id="d6d5" class="lg lh in lc b gy lr lj l lk ll">export default function Code({ code }) {<br/>    const [showCode, setShowCode] = useState(false);<br/>    const [copyText, setCopyText] = useState('Copy');<br/>    const copyCode = async () =&gt; {<br/>        await navigator.clipboard.writeText(code);<br/>        setCopyText('âœ… Copied!');<br/>        setTimeout(() =&gt; {<br/>            setCopyText('Copy');<br/>        }, 1000);<br/>    };<br/>    <br/>    return (<br/>        &lt;div&gt;<br/>            &lt;button<br/>                className="bg-red-800 text-xs hover:bg-red-900 text-white font-bold py-1 px-2 rounded focus:outline-none focus:shadow-outline mb-2"<br/>                type="submit"<br/>                onClick={() =&gt; setShowCode(!showCode)}<br/>            &gt;<br/>                {showCode ? 'Hide the Code' : 'Show the Code ğŸ‘‡'}<br/>            &lt;/button&gt;<br/>            {showCode &amp;&amp; (<br/>                &lt;div className="relative"&gt;<br/>                    &lt;pre className="text-gray-800 bg-gray-300 rounded-md p-2"&gt;<br/>                        {code}<br/>                    &lt;/pre&gt;</span><span id="b535" class="lg lh in lc b gy lr lj l lk ll">&lt;button<br/>                        className="bg-gray-500 text-xs hover:bg-gray-600 text-white font-bold py-1 px-2 rounded focus:outline-none focus:shadow-outline mb-2 absolute top-0 right-0 transform -translate-x-1 translate-y-1"<br/>                        type="submit"<br/>                        onClick={copyCode}<br/>                    &gt;<br/>                        {copyText}<br/>                    &lt;/button&gt;<br/>                &lt;/div&gt;<br/>            )}<br/>        &lt;/div&gt;<br/>    );<br/>}</span></pre><p id="e74d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œä½¿ç”¨Next.jsï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æœåŠ¡å™¨ç«¯è·¯ç”±ä»£ç ï¼Œå°±åƒæˆ‘ä»¬åœ¨Node.jsä¸­æ‰€åšçš„ä¸€æ ·ã€‚å› æ­¤ï¼Œåœ¨<strong class="kb io"> pages- &gt; api </strong>æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶<strong class="kb io"> snippets.js </strong>å¹¶åœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚æˆ‘ä»¬å°†å¾ˆå¿«åœ¨å…¶ä¸­åˆ›å»ºAPIç«¯ç‚¹ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="7912" class="lg lh in lc b gy li lj l lk ll">import { getSnippets } from '../../utils/Fauna';<br/>export default async function handler(req, res) {<br/>    if (req.method !== 'GET') {<br/>        return res.status(405);<br/>    }</span><span id="9a32" class="lg lh in lc b gy lr lj l lk ll">try {<br/>        <br/>    } catch (err) {<br/>        console.error(err);<br/>        res.status(500).json({ msg: 'Something went wrong.' });<br/>    }<br/>}</span></pre><p id="a0c9" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæ˜¯æ—¶å€™å°†æˆ‘ä»¬çš„å‰ç«¯è¿æ¥åˆ°FaunaDBäº†ã€‚å› æ­¤ï¼Œåœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹<strong class="kb io"> utils </strong>å¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<strong class="kb io"> Fauna.js </strong>ã€‚æŠŠä¸‹é¢çš„å†…å®¹æ”¾è¿›å»ã€‚</p><p id="e951" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">è¿™é‡Œï¼Œæˆ‘ä»¬é¦–å…ˆè¿›è¡Œæ‰€éœ€çš„å¯¼å…¥ï¼Œç„¶åï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª<strong class="kb io"> getSnippets </strong>å‡½æ•°ã€‚åœ¨è¯¥å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆéå†æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„é›†åˆ<strong class="kb io">ç‰‡æ®µ</strong>ï¼Œå¹¶è·å–<strong class="kb io">æ•°æ®</strong>å˜é‡ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚</p><p id="07e3" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æˆ‘ä»¬éœ€è¦ä»refä¸­æå–æ¯ä¸ªç‰‡æ®µçš„idï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡å®ƒæ˜ å°„å¹¶æ›´æ”¹å®ƒã€‚æœ€åï¼Œæˆ‘ä»¬å¯¼å‡ºgetSnippetså‡½æ•°ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="67b9" class="lg lh in lc b gy li lj l lk ll">const faunadb = require('faunadb');<br/>const faunaClient = new faunadb.Client({ secret: process.env.FAUNA_SECRET });<br/>const q = faunadb.query;</span><span id="f3c5" class="lg lh in lc b gy lr lj l lk ll">const getSnippets = async () =&gt; {<br/>    const { data } = await faunaClient.query(<br/>        q.Map(<br/>            q.Paginate(q.Documents(q.Collection('snippets'))),<br/>            q.Lambda('ref', q.Get(q.Var('ref')))<br/>        )<br/>    );</span><span id="e0e1" class="lg lh in lc b gy lr lj l lk ll">const snippets = data.map(snippet =&gt; {<br/>        snippet.id = snippet.ref.id;<br/>        delete snippet.ref;<br/>        return snippet;<br/>    });</span><span id="579a" class="lg lh in lc b gy lr lj l lk ll">return snippets;<br/>};</span><span id="f2ea" class="lg lh in lc b gy lr lj l lk ll">module.exports = {<br/>    getSnippets,<br/>};</span></pre><p id="46e1" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†é€šè¿‡è°ƒç”¨<strong class="kb io"> getSnippets </strong>()å¹¶è¿”å›<strong class="kb io"> snippets </strong>æ•°ç»„æ¥æ›´æ–°<strong class="kb io"> snippets.js </strong>æ–‡ä»¶ä¸­çš„ä»£ç ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lz"><img src="../Images/b5cf6f81fabe3841ba261edfc7fcec92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1OWK-RDsnKcmWfScCpeoeQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">snippets.js</figcaption></figure><p id="8bb6" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ›´æ–°æˆ‘ä»¬çš„<strong class="kb io"> index.js </strong>é¡µé¢ï¼Œä½¿ç”¨<strong class="kb io"> SWR </strong>è·å–æ‰€æœ‰ä»£ç ç‰‡æ®µã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨<strong class="kb io"> useSWR </strong>é’©å­æ¥è°ƒç”¨<strong class="kb io"> /api/snippets </strong>ç«¯ç‚¹å¹¶è·å–snippetsæ•°ç»„ã€‚ä¹‹åï¼Œæˆ‘ä»¬å¯¹å…¶è¿›è¡Œæ˜ å°„ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„<strong class="kb io">ç‰‡æ®µ</strong>ç»„ä»¶ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ma"><img src="../Images/ab47de3af80039937fd4fe979e683f73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-A8PKBqIZ87J5gtILRu1sQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">index.js</figcaption></figure><p id="5abe" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬çš„ä¸»é¡µæ˜¾ç¤ºæˆ‘ä»¬çš„ç‰‡æ®µå·²ç»ä»FaunaDBæ•°æ®åº“ä¸­è·å–ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mb"><img src="../Images/392a24c9a4bf453f300b726211670934.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RPNBsswabNUI7C8HQxu16A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">FaunaDB data</figcaption></figure><p id="b790" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ·»åŠ åˆ›å»ºä»£ç ç‰‡æ®µçš„åŠŸèƒ½ã€‚æˆ‘ä»¬å°†é¦–å…ˆåœ¨<strong class="kb io">åŠ¨ç‰©ç¾¤. js </strong>æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°<strong class="kb io"> createSnippet </strong>ã€‚å®ƒå°†åœ¨FaunaDBä¸­æ·»åŠ ä¸€ä¸ªåŒ…å«å€¼ä»£ç ã€è¯­è¨€ã€æè¿°å’Œåç§°çš„æ–°ä»£ç ç‰‡æ®µã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mc"><img src="../Images/1c2140f4d31760eca839168b2b1931e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3uk2rhMGt12v8z8Y3YDwNg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Fauna.js</figcaption></figure><p id="c8c5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œåœ¨<strong class="kb io"> api </strong>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<strong class="kb io"> createSnippet.js </strong>ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚å®ƒä¸æˆ‘ä»¬çš„<strong class="kb io"> snippets.js </strong>æ–‡ä»¶éå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯ç”¨äºè°ƒç”¨<strong class="kb io"> createSnippet </strong>å‡½æ•°ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="c997" class="lg lh in lc b gy li lj l lk ll">import { createSnippet } from '../../utils/Fauna';</span><span id="d11a" class="lg lh in lc b gy lr lj l lk ll">export default async function handler(req, res) {<br/>    const { code, language, description, name } = req.body;<br/>    if (req.method !== 'POST') {<br/>        return res.status(405).json({ msg: 'Method not allowed' });<br/>    }</span><span id="c7d6" class="lg lh in lc b gy lr lj l lk ll">try {<br/>        const createdSnippet = await createSnippet(code, language, description, name);<br/>        return res.status(200).json(createdSnippet);<br/>    } catch (err) {<br/>        console.error(err);<br/>        res.status(500).json({ msg: 'Something went wrong.' });<br/>    }<br/>}</span></pre><p id="91f4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦æ˜¾ç¤ºä¸€ä¸ªè¡¨å•æ¥æ¥æ”¶ç”¨æˆ·çš„è¾“å…¥ï¼Œå¹¶ä¸ºæ­¤åœ¨<strong class="kb io"> pages </strong>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶<strong class="kb io"> new.js </strong>ã€‚æŠŠä¸‹é¢çš„å†…å®¹æ”¾è¿›å»ã€‚å®ƒåªæ˜¯è°ƒç”¨äº†æˆ‘ä»¬æ¥ä¸‹æ¥å°†åˆ›å»ºçš„ç»„ä»¶SnippetFormã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="f8fd" class="lg lh in lc b gy li lj l lk ll">import Head from 'next/head';<br/>import SnippetForm from '../components/SnippetForm';</span><span id="39e5" class="lg lh in lc b gy lr lj l lk ll">export default function Home() {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;Head&gt;<br/>                &lt;title&gt;Create Next Snippet&lt;/title&gt;<br/>                &lt;link rel="icon" href="/favicon.ico" /&gt;<br/>            &lt;/Head&gt;</span><span id="eb63" class="lg lh in lc b gy lr lj l lk ll">&lt;main className="max-w-lg mx-auto"&gt;<br/>                &lt;h1 className="text-red-100 text-2xl mb-4"&gt;New Snippet&lt;/h1&gt;<br/>                &lt;SnippetForm /&gt;<br/>            &lt;/main&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}</span></pre><p id="72b5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œåœ¨<strong class="kb io"> components </strong>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<strong class="kb io"> SnippetForm.js </strong>ï¼Œå¹¶å°†ä»¥ä¸‹å†…å®¹æ”¾å…¥å…¶ä¸­ã€‚æˆ‘ä»¬åœ¨å…¶ä¸­ä½¿ç”¨äº†åŒ…<strong class="kb io"> react-hook-form </strong>ï¼Œè¿™å¯¹äºç»´æŠ¤è¡¨å•çŠ¶æ€å’Œè¿›è¡ŒéªŒè¯éå¸¸æœ‰ç”¨ã€‚</p><p id="7b53" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æŠŠä¸‹é¢çš„å†…å®¹æ”¾è¿›å»ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬åœ¨react-hook-formçš„å¸®åŠ©ä¸‹åˆ›å»ºä¸€ä¸ªè¡¨å•ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨äº†æ¥è‡ªreact-hook-formçš„<strong class="kb io">å¯„å­˜å™¨</strong>ã€<strong class="kb io">å¥æŸ„</strong>ã€‚</p><p id="d860" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ³¨å†Œä»£ç ç”¨äºæ¯ä¸ªå­—æ®µï¼Œæˆ‘ä»¬éœ€è¦ç”¨è¡¨å•ä¸­çš„<strong class="kb io"> handleSubmit </strong>åŒ…è£…æˆ‘ä»¬çš„å‡½æ•°createSnippetã€‚</p><p id="d6ce" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œåœ¨createSnippetå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°†å‘ä¹‹å‰åˆ›å»ºçš„/api/createSnippetå‘é€ä¸€ä¸ªPOSTè¯·æ±‚ï¼Œå¹¶å°†ä»£ç ã€è¯­è¨€ã€æè¿°ã€åç§°ä½œä¸ºä¸»ä½“å‘é€ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="dc20" class="lg lh in lc b gy li lj l lk ll">import React from 'react';<br/>import { useForm } from 'react-hook-form';<br/>import { useRouter } from 'next/router';<br/>import Link from 'next/link';</span><span id="ee94" class="lg lh in lc b gy lr lj l lk ll">export default function SnippetForm() {<br/>    const {register, handleSubmit} = useForm();<br/>    const router = useRouter();</span><span id="26cb" class="lg lh in lc b gy lr lj l lk ll">const createSnippet = async (data) =&gt; {<br/>        const { code, language, description, name } = data;<br/>        try {<br/>            await fetch('/api/createSnippet', {<br/>                method: 'POST',<br/>                body: JSON.stringify({ code, language, description, name }),<br/>                headers: { 'Content-Type': 'application/json'}<br/>            })<br/>            router.push('/');<br/>        } catch (err) {<br/>            console.error(err);<br/>        }<br/>    };</span><span id="e6af" class="lg lh in lc b gy lr lj l lk ll">return (<br/>        &lt;form onSubmit={handleSubmit(createSnippet)}&gt;<br/>            &lt;div className="mb-4"&gt;<br/>                &lt;label<br/>                    className="block text-red-100 text-sm font-bold mb-1"<br/>                    htmlFor="name"<br/>                &gt;<br/>                    Name<br/>                &lt;/label&gt;<br/>                &lt;input<br/>                    type="text"<br/>                    id="name"<br/>                    name="name"<br/>                    className="w-full border bg-white rounded px-3 py-2 outline-none text-gray-700"<br/>                    {...register('name', { required: true })}<br/>                /&gt;<br/>            &lt;/div&gt;<br/>            &lt;div className="mb-4"&gt;<br/>                &lt;label<br/>                    className="block text-red-100 text-sm font-bold mb-1"<br/>                    htmlFor="language"<br/>                &gt;<br/>                    Language<br/>                &lt;/label&gt;<br/>                &lt;select<br/>                    id="language"<br/>                    name="language"<br/>                    className="w-full border bg-white rounded px-3 py-2 outline-none text-gray-700"<br/>                    {...register('language', { required: true })}<br/>                &gt;<br/>                    &lt;option className="py-1"&gt;JavaScript&lt;/option&gt;<br/>                    &lt;option className="py-1"&gt;HTML&lt;/option&gt;<br/>                    &lt;option className="py-1"&gt;CSS&lt;/option&gt;<br/>                &lt;/select&gt;<br/>            &lt;/div&gt;<br/>            &lt;div className="mb-4"&gt;<br/>                &lt;label<br/>                    className="block text-red-100 text-sm font-bold mb-1"<br/>                    htmlFor="description"<br/>                &gt;<br/>                    Description<br/>                &lt;/label&gt;<br/>                &lt;textarea<br/>                    name="description"<br/>                    id="description"<br/>                    rows="3"<br/>                    className="resize-none w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none"<br/>                    placeholder="What does the snippet do?"<br/>                    {...register('description', { required: true })}<br/>                &gt;&lt;/textarea&gt;<br/>            &lt;/div&gt;<br/>            &lt;div className="mb-4"&gt;<br/>                &lt;label<br/>                    className="block text-red-100 text-sm font-bold mb-1"<br/>                    htmlFor="code"<br/>                &gt;<br/>                    Code<br/>                &lt;/label&gt;<br/>                &lt;textarea<br/>                    name="code"<br/>                    id="code"<br/>                    rows="10"<br/>                    className="resize-none w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none"<br/>                    placeholder="ex. console.log('helloworld')"<br/>                    {...register('code', { required: true })}<br/>                &gt;&lt;/textarea&gt;<br/>            &lt;/div&gt;<br/>            &lt;button<br/>                className="bg-red-800 hover:bg-red-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mr-2"<br/>                type="submit"<br/>            &gt;<br/>                Save<br/>            &lt;/button&gt;<br/>            &lt;Link href="/"&gt;<br/>                &lt;a className="mt-3 inline-block bg-red-800 hover:bg-red-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mr-2"&gt;<br/>                    Cancel<br/>                &lt;/a&gt;<br/>            &lt;/Link&gt;<br/>        &lt;/form&gt;<br/>    );<br/>}</span></pre><p id="1843" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œåœ¨ä¸»é¡µä¸Šï¼Œå½“æˆ‘ä»¬å•å‡»â€œåˆ›å»ºç‰‡æ®µâ€æŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬å°†è¢«å¸¦åˆ°ä¸‹é¢çš„è¡¨å•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­å¡«å†™æ•°æ®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi md"><img src="../Images/4ac0c2386dd4be360c3b6671cd7ecd6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*naEIKOYKPiSO5VIN479CvA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Data fill</figcaption></figure><p id="005c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">å•å‡»ä¿å­˜æŒ‰é’®åï¼Œæˆ‘ä»¬å°†è¿”å›ä¸»é¡µï¼Œæˆ‘ä»¬çš„ä»£ç ç‰‡æ®µå·²è¢«æ·»åŠ ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi me"><img src="../Images/260d61e039c358250441c516ceae09d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_l5szBX1GMtQB-bSPxmT0A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Snippet added</figcaption></figure><p id="adcc" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†åœ¨åº”ç”¨ç¨‹åºä¸­æ·»åŠ æ›´æ–°åŠŸèƒ½ã€‚æ‰€ä»¥ï¼Œå†æ¬¡è½¬åˆ°<strong class="kb io"> Fauna.js </strong>æ–‡ä»¶ï¼Œæ·»åŠ ä¸¤ä¸ªæ–°å‡½æ•°<strong class="kb io"> updateSnippet </strong>å’Œ<strong class="kb io"> getSnippetById </strong>ï¼Œç±»ä¼¼äºcreateSnippetã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mf"><img src="../Images/e869104fc12c78c424b0076f05a0c746.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ajpc8dnQaBgRxKGS2CFJQ.png"/></div></div></figure><p id="9788" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œåœ¨<strong class="kb io"> api </strong>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<strong class="kb io"> updateSnippet.js </strong>ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚å®ƒä¸æˆ‘ä»¬çš„createSnippet.jsæ–‡ä»¶éå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯ç”¨äºè°ƒç”¨<strong class="kb io"> updateSnippet </strong>å‡½æ•°ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="a024" class="lg lh in lc b gy li lj l lk ll">import { updateSnippet } from '../../utils/Fauna';</span><span id="1a12" class="lg lh in lc b gy lr lj l lk ll">export default async function handler(req, res) {<br/>    if (req.method !== 'PUT') {<br/>        return res.status(405).json({ msg: 'Method not allowed' });<br/>    }<br/>    const { id, code, language, description, name } = req.body;</span><span id="8e82" class="lg lh in lc b gy lr lj l lk ll">try {<br/>        const updated = await updateSnippet(id, code, language, description, name);<br/>        return res.status(200).json(updated);<br/>    } catch (err) {<br/>        console.error(err);<br/>        res.status(500).json({ msg: 'Something went wrong.' });<br/>    }<br/>}</span></pre><p id="892c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåŠ¨æ€è·¯ç”±ï¼Œå½“ç”¨æˆ·å•å‡»ç¼–è¾‘é“¾æ¥æ—¶å°†è°ƒç”¨å®ƒã€‚å› æ­¤ï¼Œåœ¨<strong class="kb io">é¡µé¢çš„</strong>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç¼–è¾‘å’Œä¸€ä¸ªæ–‡ä»¶<strong class="kb io"> [id]ã€‚js </strong>åœ¨é‡Œé¢ã€‚</p><p id="88be" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æŠŠä¸‹é¢çš„å†…å®¹æ”¾è¿›å»ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨getSnippetByIdæ¥è·å–ç‰‡æ®µæ•°æ®ï¼Œç„¶åå°†å…¶ä¼ é€’ç»™SnippetFormç»„ä»¶ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="1591" class="lg lh in lc b gy li lj l lk ll">import Head from 'next/head';<br/>import { getSnippetById } from '../../utils/Fauna';<br/>import SnippetForm from '../../components/SnippetForm';</span><span id="2db4" class="lg lh in lc b gy lr lj l lk ll">export default function Home({ snippet }) {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;Head&gt;<br/>                &lt;title&gt;Update Next Snippet&lt;/title&gt;<br/>                &lt;link rel="icon" href="/favicon.ico" /&gt;<br/>            &lt;/Head&gt;</span><span id="03c9" class="lg lh in lc b gy lr lj l lk ll">&lt;main className="max-w-lg mx-auto"&gt;<br/>                &lt;h1 className="text-red-100 text-2xl mb-4"&gt;Update Snippet&lt;/h1&gt;<br/>                &lt;SnippetForm snippet={snippet} /&gt;<br/>            &lt;/main&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}</span><span id="86c5" class="lg lh in lc b gy lr lj l lk ll">export async function getServerSideProps(context) {<br/>    try {<br/>        const id = context.params.id;<br/>        const snippet = await getSnippetById(id);</span><span id="5aef" class="lg lh in lc b gy lr lj l lk ll">return {<br/>            props: { snippet },<br/>        };<br/>    } catch (error) {<br/>        console.error(error);<br/>        context.res.statusCode = 302;<br/>        context.res.setHeader('Location', `/`);<br/>        return { props: {} };<br/>    }<br/>}</span></pre><p id="616e" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åœ¨æˆ‘ä»¬çš„<strong class="kb io"> SnippetForm.js </strong>æ–‡ä»¶ä¸­æ·»åŠ ç¼–è¾‘åŠŸèƒ½ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬é¦–å…ˆå–é“å…·ç‰‡æ®µã€‚ä¹‹åï¼Œåœ¨useFormé’©å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬è·å¾—äº†ä»£ç ç‰‡æ®µå±æ€§ï¼Œæˆ‘ä»¬å°†è·å–é»˜è®¤å€¼ã€‚</p><p id="1d27" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨è¡¨å•çš„<strong class="kb io"> onSumbit </strong>ä¸­ï¼Œæˆ‘ä»¬å†æ¬¡æ£€æŸ¥snippet propæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œè°ƒç”¨<strong class="kb io"> updateSnippet </strong>ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å°†è°ƒç”¨<strong class="kb io">create snipet</strong>ã€‚</p><p id="3672" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io"> updateSnippet </strong>ä¸<strong class="kb io"> createSnippet </strong>éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯æˆ‘ä»¬åšäº†ä¸€ä¸ªPUTè°ƒç”¨å¹¶ä¼ é€’äº†idã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mg"><img src="../Images/2cd9650c0980fe404c2ff83cf006bad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K_J-ZVkpZUJiPQ7GJ0nN2A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">SnippetForm.js</figcaption></figure><p id="2196" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œç¼–è¾‘ä¸€äº›ä¸œè¥¿å¹¶ä¿å­˜åœ¨localhostä¸­ï¼Œå®ƒå°†æ­£å¸¸å·¥ä½œã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ·»åŠ åˆ é™¤æŸäº›å†…å®¹çš„é€»è¾‘ã€‚</p><p id="6ec1" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">å› æ­¤ï¼Œå†æ¬¡è½¬åˆ°<strong class="kb io"> Fauna.js </strong>æ–‡ä»¶å¹¶æ·»åŠ ä¸€ä¸ªæ–°å‡½æ•°deleteSnippetï¼Œå®ƒç±»ä¼¼äºå‰é¢çš„å‡½æ•°ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mh"><img src="../Images/6db0e93d6fab034ba5ed6a6a609f4110.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jjEf_d1VuyfJUMgUuVffoQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Fauna.js</figcaption></figure><p id="f358" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œåœ¨<strong class="kb io"> api </strong>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<strong class="kb io"> deleteSnippet.js </strong>ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚å®ƒä¸æˆ‘ä»¬çš„<strong class="kb io"> createSnippet.js </strong>æ–‡ä»¶éå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯ç”¨äºè°ƒç”¨<strong class="kb io"> deleteSnippet </strong>å‡½æ•°ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="6573" class="lg lh in lc b gy li lj l lk ll">import { deleteSnippet } from '../../utils/Fauna';</span><span id="4477" class="lg lh in lc b gy lr lj l lk ll">export default async function handler(req, res) {<br/>    if (req.method !== 'DELETE') {<br/>        return res.status(405).json({ msg: 'Method not allowed' });<br/>    }</span><span id="ae69" class="lg lh in lc b gy lr lj l lk ll">const { id } = req.body;<br/>    try {<br/>        const deleted = await deleteSnippet(id);<br/>        return res.status(200).json(deleted);<br/>    } catch (err) {<br/>        console.error(err);<br/>        res.status(500).json({ msg: 'Something went wrong.' });<br/>    }<br/>}</span></pre><p id="704a" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œåœ¨æˆ‘ä»¬çš„<strong class="kb io"> Snippet.js </strong>æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨<strong class="kb io"> deleteSnippet </strong>å‡½æ•°ä¸­æ·»åŠ åˆ é™¤ä»£ç ç‰‡æ®µçš„é€»è¾‘ã€‚æˆ‘ä»¬ç°åœ¨ä¹Ÿå¾—åˆ°ä¸€ä¸ªæ–°é“å…·<strong class="kb io"> snippetDeleted </strong>ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/4992956e656b5674e0260f50cb488fee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZdEUqi1mHTW4oGFBFDfEQw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Snippet.js</figcaption></figure><p id="9587" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä»<strong class="kb io"> index.js </strong>æ–‡ä»¶ä¸­ä¼ é€’prop <strong class="kb io"> snippetDeleted </strong>ã€‚é“å…·è§¦å‘ä¸€ä¸ª<strong class="kb io">çªå˜</strong>ï¼Œä»æœåŠ¡å™¨é‡æ–°è·å–æ•°æ®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mj"><img src="../Images/269320beb260fbe1a30b7ef9ec256794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JRfQx608TDvex_L3IbpB7w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">index.js</figcaption></figure><p id="0c76" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ‰€ä»¥ï¼Œç°åœ¨æˆ‘ä»¬çš„åˆ é™¤åŠŸèƒ½ä¹Ÿå·¥ä½œäº†ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lu"><img src="../Images/c210eaabe93c98abdabc20659eb3254d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jXzVJKppM7U_gcBEXgLhsA.gif"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Edit and delete</figcaption></figure><p id="68e4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Auth0åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­æ·»åŠ å—ä¿æŠ¤çš„è·¯ç”±å’Œèº«ä»½éªŒè¯ã€‚æ‰€ä»¥ï¼Œå»https://auth0.com/<a class="ae lq" href="https://auth0.com/" rel="noopener ugc nofollow" target="_blank">å’Œ</a>æŠ¥åå§ã€‚</p><p id="6ae7" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç™»å½•åï¼Œå°†é¼ æ ‡æ‚¬åœåœ¨å³ä¾§èœå•ä¸Šï¼Œç„¶åç‚¹å‡»<strong class="kb io">åº”ç”¨ç¨‹åºé€‰é¡¹å¡</strong>ï¼Œå¹¶å†æ¬¡ç‚¹å‡»<strong class="kb io">åº”ç”¨ç¨‹åº</strong>ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mk"><img src="../Images/bd019381f770441511a9696af70ab638.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WNN3BzBETzoT9sOBEkd0yw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Applications</figcaption></figure><p id="64b3" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨ä¸‹ä¸€ä¸ªå±å¹•ä¸Šï¼Œç‚¹å‡»<strong class="kb io">åˆ›å»ºåº”ç”¨</strong>æŒ‰é’®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ml"><img src="../Images/b1c6fe2a93a6a713cc1d5e44dec9c8db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NzaUln4UEepIC3LySvGZhQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Create Application</figcaption></figure><p id="41d7" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨ä¸‹ä¸€ä¸ªå±å¹•ä¸Šï¼Œç»™åº”ç”¨èµ·ä¸€ä¸ªåå­—ï¼Œå¦‚<strong class="kb io">åŠ¨ç‰©-nextjs-auth </strong>ï¼Œé€‰æ‹©<strong class="kb io">å¸¸è§„ç½‘ç»œåº”ç”¨</strong>ï¼Œç‚¹å‡»<strong class="kb io">åˆ›å»º</strong>æŒ‰é’®ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mm"><img src="../Images/9cc96ae75e8d129bd3e788e61f44317b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dxu8_OGEHTOJhu1FEnobRw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Create Application</figcaption></figure><p id="abc8" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ä¸‹ä¸€ä¸ªå±å¹•å°†æ˜¾ç¤ºæˆ‘ä»¬æ‰€æœ‰çš„ç§˜å¯†ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ‰€éœ€çš„ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi md"><img src="../Images/14d270d9337909e75ab6d375ffca2f29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mECJIyAsbQKhxk4xjQp_cw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Secrets</figcaption></figure><p id="c473" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æˆ‘ä»¬ä¸ºNextJSä½¿ç”¨auth0åŒ…ï¼ŒæŒ‡ä»¤åœ¨<a class="ae lq" href="https://github.com/auth0/nextjs-auth0" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ª</a>é“¾æ¥ä¸­ã€‚æ‰€ä»¥ï¼ŒæŒ‰ç…§è¯´æ˜ï¼Œå¤åˆ¶<strong class="kb io"> .env.local </strong>æ–‡ä»¶ä¸­çš„secrestsã€‚å¦å¤–ï¼Œè¯·æ³¨æ„<strong class="kb io"> AUTH0_SECRET </strong>å¯ä»¥æ˜¯ä»»ä½•å­—ç¬¦ä¸²ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mn"><img src="../Images/b0f954dc271dd31bca54f618099017d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gj9HjLNfeqgCjQkDBZJS9Q.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">.env.local</figcaption></figure><p id="aec3" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œå†æ¬¡å›åˆ°Auth0 URLå¹¶å‘ä¸‹æ»šåŠ¨ä¸€ç‚¹ï¼Œæ·»åŠ <strong class="kb io">å…è®¸çš„å›æ‹¨URL</strong>å’Œ<strong class="kb io">å…è®¸çš„æ³¨é”€URL</strong>ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi md"><img src="../Images/31b1cfdda64ff98fff15fc0e0886c262.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8TDlUs0XJCPEG4PVGmhjNQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Auth0</figcaption></figure><p id="2de0" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œåœ¨ç»§ç»­ä¹‹å‰ï¼Œæ‰“å¼€æ‚¨çš„ç»ˆç«¯å¹¶å®‰è£…Next.jsçš„auth0åŒ…ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="ebb6" class="lg lh in lc b gy li lj l lk ll">npm install @auth0/nextjs-auth0</span></pre><p id="3191" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œåœ¨<strong class="kb io"> api </strong>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹<strong class="kb io"> auth </strong>å’Œä¸€ä¸ªæ–‡ä»¶<strong class="kb io"> [â€¦auth0ã€‘ã€‚js </strong>åœ¨é‡Œé¢ã€‚æŠŠä¸‹é¢çš„å†…å®¹æ”¾è¿›å»ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mo"><img src="../Images/52065612d9a95b9c4f1a9c7ac9872482.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gj-SAZGjtvvtiKCe6mmSUw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">[â€¦auth0].js</figcaption></figure><p id="939b" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦ç”¨<strong class="kb io"> UserProvider </strong>åŒ…è£…<strong class="kb io"> _app.js </strong>æ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/1b428a8d2d114de305f75aa6d84563a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dLGrJF5Hiy07o7YdyK1k9w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">_app.js</figcaption></figure><p id="1c4e" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æˆ‘ä»¬å°†æ˜¾ç¤ºå¯¼èˆªæ ä¸­çš„ç™»å½•é“¾æ¥ã€‚å› æ­¤ï¼Œåœ¨<strong class="kb io">ç»„ä»¶</strong>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<strong class="kb io"> Navbar.js </strong>ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨å˜é‡<strong class="kb io"> user </strong>ï¼Œä»auth0çš„useUseré’©å­åŠ è½½ã€‚</p><p id="bf2f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ ¹æ®è¿™ä¸ªå€¼ï¼Œæˆ‘ä»¬æ˜¾ç¤ºä¸€ä¸ªç™»å½•æˆ–æ³¨é”€æŒ‰é’®ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="71f6" class="lg lh in lc b gy li lj l lk ll">import Link from 'next/link';<br/>import { useUser } from '@auth0/nextjs-auth0';</span><span id="c707" class="lg lh in lc b gy lr lj l lk ll">const Navbar = () =&gt; {<br/>    const { user, isLoading } = useUser();</span><span id="f2b1" class="lg lh in lc b gy lr lj l lk ll">return (<br/>        &lt;nav&gt;<br/>            &lt;Link href="/"&gt;<br/>                &lt;a className="text-2xl mb-2 block text-center text-red-200 uppercase"&gt;<br/>                    TheWebDev Snippets<br/>                &lt;/a&gt;<br/>            &lt;/Link&gt;<br/>            &lt;div className="space-x-3 m-x-auto mb-6 flex justify-center"&gt;<br/>                {!isLoading &amp;&amp; !user &amp;&amp; (<br/>                    &lt;Link href="/api/auth/login"&gt;<br/>                        &lt;a className="text-red-100 hover:underline"&gt;Login&lt;/a&gt;<br/>                    &lt;/Link&gt;<br/>                )}<br/>                {!isLoading &amp;&amp; user &amp;&amp; (<br/>                    &lt;&gt;<br/>                    &lt;span className="text-red-100"&gt;Hello {user.name}&lt;/span&gt;<br/>                    &lt;Link href="/api/auth/logout"&gt;<br/>                        &lt;a className="text-red-100 hover:underline"&gt;<br/>                            Logout<br/>                            &lt;/a&gt;<br/>                    &lt;/Link&gt;<br/>                    &lt;/&gt;<br/>                )}<br/>            &lt;/div&gt;<br/>        &lt;/nav&gt;<br/>    )<br/>}</span><span id="b79c" class="lg lh in lc b gy lr lj l lk ll">export default Navbar</span></pre><p id="aae9" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œå°†è¿™ä¸ªå¯¼èˆªæ¡ç»„ä»¶åŒ…å«åœ¨<strong class="kb io"> _app.js </strong>æ–‡ä»¶ä¸­ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mq"><img src="../Images/cfdde5289d13edbd4bf5c9d129295843.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BZsBD2qECTP2FN7k2Y5B_A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">_app.js</figcaption></figure><p id="7744" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œåœ¨localhostä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ç™»å½•æŒ‰é’®ã€‚ç‚¹å‡»ç™»å½•æŒ‰é’®ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸‹é¢çš„å¼¹å‡ºçª—å£ï¼Œå…¶ä¸­æœ‰é€‰æ‹©<strong class="kb io">ç»§ç»­ä¸è°·æ­Œ</strong>æˆ–é€šè¿‡ä¸€ä¸ªAuth0å¸æˆ·ç™»å½•ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mr"><img src="../Images/1a7ba5597b8925d2d15eb115b1bcbcc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XhIL3vqFCxA3cXyb-y-h9g.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Login</figcaption></figure><p id="8a7f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æˆ‘å·²ç»ç”¨æˆ‘çš„è°·æ­Œå¸æˆ·ç™»å½•ï¼Œå¹¶å›åˆ°åº”ç”¨ç¨‹åºï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ³¨é”€é“¾æ¥ä»¥åŠä½ å¥½ç”¨æˆ·åã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ls"><img src="../Images/f387b905b847b5c74f0f12bc696736c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e-sBddPFcUvO_nq0fGub4Q.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">localhost</figcaption></figure><p id="7664" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬åªæƒ³å±•ç¤ºåˆ›å»ºä¸€ä¸ªä»£ç ç‰‡æ®µï¼æŒ‰é’®ï¼Œå¦‚æœç”¨æˆ·å·²ç™»å½•ã€‚å› æ­¤ï¼Œä¸ºæ­¤ï¼Œåœ¨<strong class="kb io">ç»„ä»¶</strong>æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶<strong class="kb io"> Header.js </strong>å¹¶å°†ä»¥ä¸‹å†…å®¹æ”¾å…¥å…¶ä¸­ã€‚</p><p id="8584" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">è¿™é‡Œï¼Œæˆ‘ä»¬å†æ¬¡ä½¿ç”¨äº†<strong class="kb io">ç”¨æˆ·</strong>é’©å­ï¼Œå¹¶å°†ä»ä¸­è·å–<strong class="kb io">ç”¨æˆ·</strong>å’Œ<strong class="kb io">æ­£åœ¨åŠ è½½çš„</strong>ã€‚ç°åœ¨ï¼Œå¦‚æœç”¨æˆ·åœ¨åœºï¼Œæˆ‘ä»¬å°†æ˜¾ç¤º<strong class="kb io">åˆ›å»ºç‰‡æ®µï¼</strong>æŒ‰é’®æˆ–è€…<strong class="kb io">ç™»å½•åˆ›å»ºä»£ç ç‰‡æ®µï¼</strong>æŒ‰é’®ã€‚</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="e4db" class="lg lh in lc b gy li lj l lk ll">import { useUser } from '@auth0/nextjs-auth0';<br/>import Link from 'next/link';</span><span id="ee2c" class="lg lh in lc b gy lr lj l lk ll">const Header = ({ title, subtitle }) =&gt; {<br/>    const { user, isLoading } = useUser();</span><span id="c3e1" class="lg lh in lc b gy lr lj l lk ll">return (<br/>        &lt;header className="my-12"&gt;<br/>            &lt;h1 className="text-red-100 text-2xl"&gt;{title}&lt;/h1&gt;<br/>            {subtitle &amp;&amp; &lt;p className="text-red-100"&gt;{subtitle}&lt;/p&gt;}</span><span id="4235" class="lg lh in lc b gy lr lj l lk ll">{!isLoading &amp;&amp; user &amp;&amp; (<br/>                &lt;Link href="/new"&gt;<br/>                    &lt;a className="mt-3 inline-block bg-red-800 hover:bg-red-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"&gt;<br/>                        Create a Snippet!<br/>                    &lt;/a&gt;<br/>                &lt;/Link&gt;<br/>            )}<br/>            {!isLoading &amp;&amp; !user &amp;&amp; (<br/>                &lt;Link href="/api/auth/login"&gt;<br/>                    &lt;a className="mt-3 inline-block bg-red-800 hover:bg-red-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"&gt;<br/>                        Login to Create Snippets!<br/>                    &lt;/a&gt;<br/>                &lt;/Link&gt;<br/>            )}<br/>        &lt;/header&gt;<br/>    )<br/>}</span><span id="63a2" class="lg lh in lc b gy lr lj l lk ll">export default Header</span></pre><p id="0464" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œåœ¨<strong class="kb io"> index.js </strong>ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<strong class="kb io"> Header </strong>ç»„ä»¶ï¼Œå¹¶å°†<strong class="kb io">æ ‡é¢˜</strong>å’Œ<strong class="kb io">å‰¯æ ‡é¢˜</strong>ä¼ é€’ç»™å®ƒã€‚æˆ‘ä»¬è¿˜ä»è¿™é‡Œåˆ é™¤äº†ç›¸åŒçš„ä»£ç ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/b3e76f5ea29f68e83979e8380564dc1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CMsQFQ1XtoGRB46Lp0if1g.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">index.js</figcaption></figure><p id="3de9" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå³ä½¿æˆ‘ä»¬æ²¡æœ‰ç™»å½•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å»è·¯ç”±<a class="ae lq" href="http://localhost:3000/new" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/new</a>ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä¿æŠ¤è¿™æ¡è·¯çº¿ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mr"><img src="../Images/9f433f162b0dd27ffd80e6277582961f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4gi4zwiRA_egYWm2gutnAw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Not logged in</figcaption></figure><p id="c747" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ä½¿ç”¨auth0ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç”¨PageAuthRequiredå¯¼å…¥å¹¶ä»é¡µé¢å¯¼å‡ºæ¥éå¸¸å®¹æ˜“åœ°ä¿æŠ¤ä¸€ä¸ªè·¯ç”±ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯<strong class="kb io"> new.js </strong>ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mt"><img src="../Images/c4c2ead77d805f6bfb1dc5266aadb834.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S7KDqEo2m14CfDZMb8YYXQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">new.js</figcaption></figure><p id="173f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œå¦‚æœæ‚¨åœ¨æ²¡æœ‰ç™»å½•çš„æƒ…å†µä¸‹ç›´æ¥å°è¯•å‰å¾€é“¾æ¥<a class="ae lq" href="http://localhost:3000/new" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/new</a>ï¼Œå®ƒä¼šå°†æ‚¨é‡å®šå‘åˆ°auth0çš„ç™»å½•é¡µé¢ã€‚</p><p id="59e8" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿˜å°†æœ‰ä¸€ä¸ªç”¨æˆ·ä¸æ¯ä¸ªä»£ç ç‰‡æ®µç›¸å…³è”ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°<strong class="kb io"> createSnippet.js </strong>æ–‡ä»¶ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é¦–å…ˆä»auth0å¯¼å…¥å¸¦æœ‰æ‰€éœ€æˆæƒçš„ã€<strong class="kb io"> getSession </strong>çš„<strong class="kb io">ã€‚</strong></p><p id="3007" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œç”¨<strong class="kb io"> withApiAuthRequired </strong>åŒ…è£…æ•´ä¸ªå‡½æ•°ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ã€‚æ¥ä¸‹æ¥ï¼Œåœ¨å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬å°†è·å–<strong class="kb io"> userId </strong>ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™<strong class="kb io">createdsnipet</strong>ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/867b973d8b5f45fef462a8344ea4661f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PVugCD2SypNwJrzcVEZ57Q.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">createSnippet.js</figcaption></figure><p id="7cc5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œåœ¨<strong class="kb io"> Fauna.js </strong>æ–‡ä»¶ä¸­ï¼Œåœ¨æˆ‘ä»¬çš„<strong class="kb io"> createSnippet </strong>å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»åŒ…å«userIdã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mh"><img src="../Images/899996992054f3082e95e6eb523e9842.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bEp4Qb2M4AMSP6CKujTU6w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Fauna.js</figcaption></figure><p id="7276" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œè¿”å›FaunaDBä»ªè¡¨æ¿å¹¶åˆ é™¤æ‰€æœ‰æ–‡æ¡£ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨æ²¡æœ‰userIdçš„æƒ…å†µä¸‹åˆ›å»ºçš„ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lv"><img src="../Images/7333bbcf76bc77a735dd31b2efd03370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zplCjhsKpKiS3F2KZCj2EQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Deleting</figcaption></figure><p id="f0cb" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ä»£ç ç‰‡æ®µï¼Œåœ¨faunaDBæ–‡æ¡£ä¸­ï¼Œå®ƒç°åœ¨ä¹ŸåŒ…å«äº†userIdã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mr"><img src="../Images/6661706c562b8d0c04266fc30ddc6fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9vttBllf6zLb0jhxYnF9HA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">userID</figcaption></figure><p id="9b39" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†åšç±»ä¼¼çš„äº‹æƒ…æ¥æ›´æ–°ä»£ç ç‰‡æ®µï¼Œåªæœ‰ç™»å½•çš„ç”¨æˆ·æ‰èƒ½ç¼–è¾‘ä»£ç ç‰‡æ®µã€‚æ‰€ä»¥ï¼Œåœ¨<strong class="kb io">ã€idã€‘ã€‚js </strong>æ–‡ä»¶é¦–å…ˆç”¨PageAuthRequired å¯¼å…¥<strong class="kb io">ï¼Œç„¶åç”¨å®ƒåŒ…è£…<strong class="kb io"> getServerSideProps </strong>ã€‚</strong></p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mv"><img src="../Images/b8a8d927c356343a8151229665b8164e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vpvtypEBRglNYvAEY5D5XQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">[id].js</figcaption></figure><p id="5bb2" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œå¦‚æœæ‚¨æ²¡æœ‰ç™»å½•å¹¶ç›´æ¥è½¬åˆ°ç±»ä¼¼<a class="ae lq" href="http://localhost:3000/edit/297708572934930951" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/edit/297708572934930951</a>çš„è·¯ç”±ï¼Œæ‚¨å°†è¢«é‡å®šå‘åˆ°auth0èº«ä»½éªŒè¯é¡µé¢ã€‚</p><p id="3daf" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¿æŠ¤è·¯ç”±ä¸Šçš„èº«ä»½éªŒè¯ï¼Œå¦åˆ™æœ‰äººå¯ä»¥ä»Postmanå‘é€è¯·æ±‚å¹¶ä½¿ç”¨å®ƒã€‚</p><p id="6d55" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æˆ‘ä»¬è¿˜éœ€è¦ç¡®ä¿åªæœ‰åˆ›å»ºä»£ç ç‰‡æ®µçš„ç”¨æˆ·æ‰èƒ½æ›´æ–°å®ƒã€‚åˆ é™¤ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p id="8648" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">åœ¨<strong class="kb io"> updateSnippet.js </strong>æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä»auth0å¯¼å…¥å¸¦æœ‰piAuthRequired ã€<strong class="kb io"> getSession </strong>çš„<strong class="kb io">ã€‚æˆ‘ä»¬è¿˜å¯¼å…¥äº†<strong class="kb io"> getSnippetById </strong>ã€‚</strong></p><p id="8262" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æ¥ä¸‹æ¥ï¼Œç”¨<strong class="kb io"> withApiAuthRequired </strong>åŒ…è£…æ•´ä¸ªå‡½æ•°ï¼Œå¹¶æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æ˜¯ä»£ç ç‰‡æ®µçš„æ‰€æœ‰è€…ã€‚å¦‚æœä»–ä¸æ˜¯æ‰€æœ‰è€…ï¼Œæˆ‘ä»¬åªæ˜¯è¿”å›è®°å½•æœªæ‰¾åˆ°æ¶ˆæ¯ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mw"><img src="../Images/cb03d7d13b313ae09ebe983c6226cacc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iKvzjvPSwMzEha8ufciy1w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">updateSnippet.js</figcaption></figure><p id="1e6c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">æˆ‘ä»¬å°†åœ¨<strong class="kb io"> deleteSnippet.js </strong>æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªç±»ä¼¼çš„é€»è¾‘ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mt"><img src="../Images/40eb29e5aa76176f872f0f3e88aaae99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WM5r4lN_EaWL6cmI5uhaCg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">deleteSnippet.js</figcaption></figure><p id="c45c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç™»å½•åè¿›è¡Œç¼–è¾‘å’Œåˆ é™¤ã€‚ä½†æ˜¯æˆ‘ä»¬å¸Œæœ›åªå‘å®ƒæ‰€å±çš„ç”¨æˆ·æ˜¾ç¤ºç¼–è¾‘å’Œåˆ é™¤æŒ‰é’®ã€‚</p><p id="4957" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">å› æ­¤ï¼Œåœ¨<strong class="kb io"> Snippet.js </strong>æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨useUseré’©å­ä¸­çš„userå…ƒç´ ã€‚ç„¶åï¼Œæˆ‘ä»¬æ£€æŸ¥ç™»å½•ç”¨æˆ·æ˜¯å¦ä¸ä»£ç ç‰‡æ®µåˆ›å»ºç”¨æˆ·æ˜¯åŒä¸€ç”¨æˆ·ã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ly"><img src="../Images/b417e1838c088f6d380541aaf09365bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5D1ULnxF9k6EClKAd1jQYA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Snippet.js</figcaption></figure><p id="e2d8" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">ç°åœ¨ï¼Œæˆ‘ä½¿ç”¨ä¸åŒçš„Googleå¸æˆ·ç™»å½•ï¼Œåˆ›å»ºäº†ä¸€ä¸ªä»£ç ç‰‡æ®µï¼Œå¹¶ä¸”åªèƒ½ç¼–è¾‘å’Œåˆ é™¤è¿™ä¸ªä»£ç ç‰‡æ®µï¼Œè€Œä¸èƒ½ç¼–è¾‘å’Œåˆ é™¤å…¶ä»–ç”¨æˆ·åˆ›å»ºçš„ä»£ç ç‰‡æ®µã€‚</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi md"><img src="../Images/ed3e3ac0487963b1d97e1b58cd58d057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4AU41DPjM_JE9NRa1cVdXA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Logged in</figcaption></figure><p id="441f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">è¿™å®Œæˆäº†æˆ‘ä»¬çš„Snippetåº”ç”¨ç¨‹åºã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ç›¸åŒ<a class="ae lq" href="https://github.com/nabendu82/snippet-app-nextjs" rel="noopener ugc nofollow" target="_blank">çš„ä»£ç </a>ã€‚</p><p id="2408" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="mx">æ›´å¤šå†…å®¹çœ‹</em><a class="ae lq" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kb io"><em class="mx">plain English . io</em></strong></a></p></div></div>    
</body>
</html>