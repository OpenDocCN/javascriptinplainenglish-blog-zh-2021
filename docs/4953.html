<html>
<head>
<title>How to Test Your Stripe Checkout with Cypress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Cypress测试你的条纹检出</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-test-your-stripe-checkout-with-cypress-972a663b33f7?source=collection_archive---------7-----------------------#2021-10-06">https://javascript.plainenglish.io/how-to-test-your-stripe-checkout-with-cypress-972a663b33f7?source=collection_archive---------7-----------------------#2021-10-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0ab6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在这篇文章中，我们将研究如何测试一个使用条纹结帐的网站，为您的电子商务带来更多的测试！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a7fcb9f4c98cc4245f55fd3d3855d820.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KVFr0ppAVBkHSqXExX3Rtw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/tree/main/examples/stripe" rel="noopener ugc nofollow" target="_blank">https://github.com/riccardogiorato/cypress-for-everything/tree/main/examples/stripe</a></figcaption></figure><h1 id="ddcf" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="c43d" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Stripe Checkout是一个预建的托管支付页面，针对转换进行了优化。它自动连接到您的Stripe帐户，能够创建完整的电子商务产品，而无需编码或维护结帐。</p><p id="1745" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">像应用程序的其他部分一样，你也可以用Cypress测试Stripe Checkout！</p><p id="fe34" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在本教程中，我们将使用通过使用Stripe APIs直接创建的登台演示环境，这些API是我们从官方演示页面中找到的:</p><ul class=""><li id="f93a" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated"><a class="ae kv" href="https://checkout.stripe.dev/api/demo-session?country=us&amp;billingPeriod=monthly&amp;hasBgColor=false&amp;hasBillingAndShipping=false&amp;hasCoupons=false&amp;hasFreeTrial=false&amp;hasShippingRate=false&amp;hasTaxes=false&amp;mode=payment&amp;wallet=googlePay&amp;hasPolicies=false&amp;billingType=flat" rel="noopener ugc nofollow" target="_blank">检验条带devi api演示会话</a></li></ul><h1 id="9825" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">插入信用卡信息和帐单</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="9a82" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在前3行中，从第3行到第5行，我们从stripe API中获取一个新的演示URL，我们将只在这个演示中使用它，在真实环境中，在前面的用户步骤之后，您只需使用<br/> cy.visit来加载您的结账页面。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/3d1f1fdf1a5e6c1267d82f8dc83511de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*anwMM6rKHC6coYhQ1SoBPQ.png"/></div></figure><p id="9f2a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">测试Stripe Checkout的美妙之处在于，您不需要像使用Stripe元素那样学习使用iFrames或其他插件。<br/> ( <a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/tree/main/examples/stripe#stripe-elements" rel="noopener ugc nofollow" target="_blank"> Stripe元素使用内嵌在页面中的iFrame，这让测试变得有点困难</a>)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/1327753dc4efec155242aa419ece2e13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*V8rpJmOSYMmGuhVvuLPqIw.png"/></div></figure><p id="73f3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在这种情况下，我们只需运行第11行到第18行，插入不同的字段，如“email”或“cardNumber”等。</p><p id="2847" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">作为最后一步，我们等待1秒或1000毫秒，然后继续这些步骤，我们这样做是为了让Stripe Api处理输入，因为与人相比，Cypress执行前面的步骤往往太快，在许多情况下，Stripe可能仍然在加载或验证字段。</p><p id="cf03" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">然后我们通过点击“提交按钮”结束结帐过程！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/3b860ead881820a7f6b2556ad328b462.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*kDL4ubUheT1mBliin3uhgw.png"/></div></figure><h1 id="41a4" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="7ae6" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">构建E2E测试没有对错之分。您应该关心的唯一事情是构建一个适当的测试来自动化您的手动操作。</p><blockquote class="nd"><p id="3ef2" class="ne nf iq bd ng nh ni nj nk nl nm mj dk translated">更少的时间做手工测试，更多的时间享受构建其他东西的乐趣！</p></blockquote><p id="2995" class="pw-post-body-paragraph lo lp iq lq b lr nn jr lt lu no ju lw lx np lz ma mb nq md me mf nr mh mi mj ij bi translated">请在评论中告诉我们你希望下一次看到哪种考试！</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="9b48" class="kw kx iq bd ky kz nz lb lc ld oa lf lg jw ob jx li jz oc ka lk kc od kd lm ln bi translated">资源</h1><ul class=""><li id="7c2e" class="mp mq iq lq b lr ls lu lv lx oe mb of mf og mj mu mv mw mx bi translated">Stripe Checkout示例:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/blob/main/examples/stripe/cypress/integration/stripe-checkout.ts" rel="noopener ugc nofollow" target="_blank">https://github . com/riccardogiorato/cypress-for-everything/blob/main/examples/stripe/cypress/integration/stripe-check out . ts</a></li><li id="0593" class="mp mq iq lq b lr oh lu oi lx oj mb ok mf ol mj mu mv mw mx bi translated">柏树示例目录:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything#examples" rel="noopener ugc nofollow" target="_blank">柏树万能#示例</a></li><li id="ff7b" class="mp mq iq lq b lr oh lu oi lx oj mb ok mf ol mj mu mv mw mx bi translated">条纹元素示例:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/blob/main/examples/stripe/cypress/integration/stripe-elements.ts" rel="noopener ugc nofollow" target="_blank">https://github . com/riccardogiorato/cypress-for-everything/blob/main/examples/stripe/cypress/integration/stripe-Elements . ts</a></li><li id="d73a" class="mp mq iq lq b lr oh lu oi lx oj mb ok mf ol mj mu mv mw mx bi translated">条纹示例:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/tree/main/examples/stripe" rel="noopener ugc nofollow" target="_blank">https://github . com/riccardogiorato/cypress-for-everything/tree/main/examples/stripe</a></li></ul><p id="0355" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="om">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lq ir"><em class="om">plain English . io</em></strong></a></p></div></div>    
</body>
</html>