<html>
<head>
<title>How to Build a YouTube Live Clone (Virtual Event Site) with Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Angular构建一个YouTube直播克隆(虚拟活动站点)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-build-a-virtual-event-site-with-angular-youtube-live-clone-4a6676abbc26?source=collection_archive---------6-----------------------#2021-05-31">https://javascript.plainenglish.io/how-to-build-a-virtual-event-site-with-angular-youtube-live-clone-4a6676abbc26?source=collection_archive---------6-----------------------#2021-05-31</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="67df" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你将要建造的东西。<a class="ae ki" href="https://clone-6fd6f.web.app/" rel="noopener ugc nofollow" target="_blank">演示</a>，Git回购<a class="ae ki" href="https://github.com/Daltonic/youtube-live-clone" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/c97c10d391e0386d3315b5139dea7a17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sMAGDbkk0JxLxW3X.gif"/></div></div></figure><h1 id="7889" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">介绍</h1><p id="c8e4" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">生活中有一条真实的原则是这样陈述的:<strong class="jm io">“如果你想变得伟大，那就从用小方法做伟大的事情开始吧”</strong>。这也适用于你，一个渴望以一种伟大的方式影响行业的开发人员，<strong class="jm io">“你可以从以一种微小的方式构建伟大的东西开始”</strong>。成就伟业的一个方法是从小处着手。此外，<a class="ae ki" href="https://www.cometchat.com/" rel="noopener ugc nofollow" target="_blank">comet chat</a>communication SDK为您提供了将一些出色的消息功能集成到您的应用程序中的机会，例如文本、音频和视频聊天功能。</p><h1 id="75cb" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">先决条件</h1><p id="4fdb" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">要遵循本教程，您必须对<a class="ae ki" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank">角度</a>的一般原理有一个基本的了解。这将帮助你快速消化本教程。</p><h1 id="e0a1" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">安装应用程序依赖项</h1><p id="ccf1" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">首先，你需要在你的机器上安装NodeJs，你可以去他们的网站。</p><p id="423a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">其次，您还需要使用下面的命令在您的计算机上安装Angular-CLI。</p><p id="a8ae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">npm install -g @angular/cli</code></p><p id="18d1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">接下来，创建一个名为<strong class="jm io"> youtube-live-clone的新项目。</strong></p><p id="e07f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">ng new youtube-live-clone</code></p><p id="50c6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ng new命令提示您输入要包含在初始应用程序中的功能信息。通过按Enter或Return键接受默认值。</p><p id="3f73" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Angular CLI安装必要的Angular npm软件包和其他依赖项。这可能需要几分钟时间。</p><p id="9b9c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后，使用下面的命令为我们的项目安装这些必要的依赖项。</p><p id="5dc1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">ng add @angular/material</code></p><p id="94ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">npm install @angular/youtube-player</code></p><p id="a388" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">npm install @angular/fire</code></p><p id="e5f1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">ng add @angular/fire</code></p><p id="baaa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我们已经完成了安装，让我们继续构建我们的<strong class="jm io"> youtube-live clone </strong>解决方案。</p><h1 id="0add" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">正在安装CometChat SDK</h1><ol class=""><li id="473b" class="mc md in jm b jn lt jr lu jv me jz mf kd mg kh mh mi mj mk bi translated">前往<a class="ae ki" href="https://app.cometchat.com/signup" rel="noopener ugc nofollow" target="_blank"> CometChat </a> Pro并创建一个帐户。</li><li id="79e4" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">从<a class="ae ki" href="https://app.cometchat.com/apps" rel="noopener ugc nofollow" target="_blank">仪表盘</a>中，添加一个名为<strong class="jm io">“YouTube-clone”</strong>的新应用。</li><li id="44eb" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">从列表中选择这个新添加的应用程序。</li><li id="c759" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">从“快速入门”中，复制APP_ID、地区和AUTH_KEY。这些将在以后使用。</li><li id="e861" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">导航至用户选项卡，删除所有默认用户和组，不做修改<strong class="jm io"> <em class="mq">(非常重要)</em> </strong>。</li><li id="e98e" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">通过在终端上输入该命令，在您的机器上安装Angular CLI。npm install -g @angular/cli</li><li id="1605" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">打开项目中的<strong class="jm io">【环境. ts】</strong>文件。</li><li id="4bba" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">在下一个标题下，从CometChat和Firebase输入你的<strong class="jm io">密匙</strong>。</li><li id="e845" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">将相同的设置复制到<strong class="jm io">“environment . prod . ts”</strong>中。</li><li id="287c" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">运行以下命令安装<strong class="jm io"> CometChat SDK </strong>。</li></ol><p id="62d4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">npm install @cometchat-pro/chat@2.3.0 --save</code></p><h1 id="379e" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">环境变量</h1><p id="a640" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">下面的设置详细说明了本项目<strong class="jm io">环境. ts </strong>文件的配置格式。</p><p id="a4fd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">firebase: {</code></p><p id="6e4e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">apiKey: 'xxx-xxx-xxx-xxx-xxx-xxx-xxx-xxx',</code></p><p id="bde9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">authDomain: 'xxx-xxx-xxx-xxx-xxx-xxx-xxx',</code></p><p id="f4c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">databaseURL: 'xxx-xxx-xxx-xxx-xxx-xxx-xxx-xxx-xxx',</code></p><p id="d902" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">projectId: 'xxx-xxx-xxx',</code></p><p id="938d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">storageBucket: 'xxx-xxx-xxx-xxx-xxx',</code></p><p id="a14b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">messagingSenderId: 'xxx-xxx-xxx',</code></p><p id="a128" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">appId: 'xxx-xxx-xxx-xxx-xxx-xxx-xxx-xxx',</code></p><p id="20c7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">measurementId: 'xxx-xxx-xxx',</code></p><p id="0b64" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">},</code></p><p id="5e14" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">APP_ID: 'xxx-xxx-xxx',</code></p><p id="3d15" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">AUTH_KEY: 'xxx-xxx-xxx-xxx-xxx-xxx-xxx-xxx',</code></p><p id="c941" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">APP_REGION: 'xx',</code></p><h1 id="c104" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">设置Firebase项目</h1><p id="b67f" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">前往Firebase创建一个新项目，并激活电子邮件和密码认证服务。你就是这样做的。</p><p id="b3ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要开始使用Firebase，您需要一个Gmail帐户。前往<a class="ae ki" href="https://console.firebase.google.com/u/0/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>并创建一个新项目。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mr"><img src="../Images/aa746f3a0f4164f1ff786f4ca64f31db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BV7MvJqWyJ_LTHdd.png"/></div></div></figure><p id="fe19" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Firebase支持使用不同的提供程序进行身份验证。例如，社会认证、电话号码以及标准的电子邮件和密码方法。由于我们将在本教程中使用电子邮件和密码身份验证方法，我们需要为我们在Firebase中创建的项目启用该方法，因为默认情况下它是禁用的。</p><p id="9074" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在项目的身份验证选项卡下，单击登录方法，您将看到Firebase当前支持的提供商列表。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ms"><img src="../Images/f9013b8fa250166f95a2caf5988b5cfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fNtM8nYjqOp07uBN.png"/></div></div></figure><p id="e702" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">接下来，单击电子邮件/密码提供程序上的编辑图标并启用它。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ms"><img src="../Images/2daf5d3ff2fddb4cb0939ba6fde68818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NLWKJ3Fl4Ab-44EP.png"/></div></div></figure><p id="d466" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">接下来，您需要在Firebase项目下注册您的应用程序。在项目概述页面上，选择添加应用程序选项并选择web作为平台。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mt"><img src="../Images/c383dceafaa2d4a837e9690e86a4588a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vyzg9murFMvU8dCw.png"/></div></div></figure><p id="ad1f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">注册完应用程序后，会出现一个包含应用程序凭证的屏幕。请注意第二个脚本标记，因为我们很快就会在我们的<strong class="jm io"> Angular </strong>应用程序中使用它。</p><p id="cd81" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">祝贺您，现在您已经完成了安装，让我们来做一些配置。</p><h1 id="27bd" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">配置CometChat SDK</h1><p id="8cd4" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">在你的项目结构中，打开<strong class="jm io"> main.ts </strong>并粘贴这些代码。</p><p id="eade" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ki" href="https://gist.github.com/Daltonic/88e612d82a5e6824278629be3bdbd927" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/Daltonic/88e 612d 82 a5e 6824278629 be 3 bdbd 927</a></p><p id="9737" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">上面的代码在你的应用程序中初始化CometChat，在我们的应用程序启动之前。<strong class="jm io"> main.ts </strong>条目文件使用您的CometChat API凭证。<strong class="jm io"> environment.ts </strong>文件还包含您的Firebase配置变量文件。请不要在<strong class="jm io"> Github </strong>上分享你的<strong class="jm io"> <em class="mq">密匙</em> </strong>。</p><h1 id="ec5d" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">设置路由器</h1><p id="6f1e" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated"><strong class="jm io"> app-routing.module.ts </strong>文件包含我们应用程序中所有可用的路线及其安全许可。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Router File</figcaption></figure><h1 id="0f31" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">项目结构</h1><p id="2e44" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">下图显示了项目结构。在继续之前，请确保您看到了文件夹排列。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi na"><img src="../Images/bc8401714ab8ad47fb2b283c1fc8fe60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Czukn3sV7u3ZyKvH.png"/></div></div></figure><p id="98a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们制作项目的其余组件，如上图所示。</p><h1 id="8952" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">应用程序组件</h1><p id="ff00" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">以下代码是我们的应用在<strong class="jm io"> <em class="mq">角路由器</em> </strong>中的包装，支持快速导航。对于每条路线，该组件将我们的应用程序导航到适当的URL。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The App Component</figcaption></figure><p id="4a95" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">用&lt;router-outlet&gt;&lt;/router-outlet&gt;替换<strong class="jm io">app.component.html</strong>文件中的所有内容，并删除<strong class="jm io"> app.component.css </strong>中的所有样式。</p><h1 id="54f3" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">角度材质图标设置</h1><p id="a78c" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">以下代码将配置我们的应用程序，以便在整个项目中充分利用材质图标的力量。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">Material Icons Module</figcaption></figure><h1 id="4c73" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">应用程序模块</h1><p id="e635" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">将代码粘贴到您的<strong class="jm io"> app.module.ts </strong>文件中，这是一个非常重要的文件，它捆绑了我们将在项目中使用的所有组件。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The App Module</figcaption></figure><h1 id="b7b2" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">侧栏组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/7a04f102d71d280f13e0457f23f73da6.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/0*FvhA_KBazt5PdGeM.png"/></div></figure><p id="136f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">侧边栏组件由子组件精心制作，反映了真实的YouTube live的路线。您必须自己花时间研究标记和样式结构。这个组件在我们的应用程序中的其他两个组件之间重用。下面是支持其操作的代码。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Sidebar Component</figcaption></figure><h1 id="a528" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">标题组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nc"><img src="../Images/f112051d874585825bb838f6b49b5f3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7fVAzSWFuc81cOAC.png"/></div></div></figure><p id="1577" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">header组件，这个单文件可重用组件承载了我们的应用程序运行所必需的大量重要特性。除了作为我们应用程序的导航代理，它还包含搜索栏组件，负责为用户整理相关事件。没有大话，这里是负责其行动的代码。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Header Component</figcaption></figure><h1 id="4221" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">视频组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nd"><img src="../Images/eab050a9de81aa40d2d14203aca6bb47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7EZFvX34It5u9F_-.png"/></div></div></figure><p id="b699" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是一个应用程序中使用的单文件组件，用于列出从firestore检索到的事件。它携带事件信息，如标题、描述、图像URL和YouTube链接。这款应用的成功很大程度上要归功于这个组件。下面的代码清楚地描述了这个组件的功能。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Video COmponent</figcaption></figure><h1 id="7acc" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">相关的视频组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/356091e838569fcd9a477e6fe97af143.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/0*fy6QP8HNhXM_l8eH.png"/></div></figure><p id="48d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">和<strong class="jm io"> video.component.ts </strong>一样，这个组件的作用也类似。唯一的区别是，视频组件垂直列出视频，而这个组件水平列出视频。这是代码。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">Related Video Component</figcaption></figure><h1 id="2213" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">行视频组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nd"><img src="../Images/3ec7f1177eb2173e122a3ad5856e3c04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*l7TJFOHDQbW5f1BO.png"/></div></div></figure><p id="cea6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">该组件负责使侧边栏路由看起来像上面的图像。它需要一个有棱角的材料图标和一个标题来显示你在上面看到的。下面是它的代码。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Row Component</figcaption></figure><h1 id="cc6b" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">注册组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nf"><img src="../Images/e95428a2308ecc99e85c224478fd2cd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wFXcP4JdGrScMpDN.png"/></div></div></figure><p id="ec17" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">该组件结合了firebase <em class="mq"> auth-service </em>和CometChat的强大功能，因此每当新用户注册我们的应用程序时，用户的详细信息都会被firebase捕获，并注册到我们的CometChat帐户上。下面的代码详细解释了它。</p><p id="999d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">public submit(form: any): void {</code></p><p id="98f6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.loading = true;</code></p><p id="1e02" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const fullname = form.fullname;</code></p><p id="e71a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const email = form.email;</code></p><p id="b504" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const password = form.password;</code></p><p id="186b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const avatar = this.generateImageFromIntial(fullname);</code></p><p id="ba9a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.auth</code></p><p id="8566" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.createUserWithEmailAndPassword(email, password)</code></p><p id="1c9b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.then((res) =&gt; {</code></p><p id="fb8c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">res.user</code></p><p id="f27b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.updateProfile({</code></p><p id="4b7a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">displayName: fullname,</code></p><p id="8baf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">photoURL: avatar,</code></p><p id="8267" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">})</code></p><p id="d770" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.then(() =&gt; this.signUpWithCometChat({ ...res.user, avatar }));</code></p><p id="6d93" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">})</code></p><p id="96d5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.catch((error) =&gt; {</code></p><p id="16da" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">console.log(error);</code></p><p id="785b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.loading = false;</code></p><p id="607d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">});</code></p><p id="e432" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="5a36" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">private signUpWithCometChat(data: any) {</code></p><p id="c216" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const apiKey = environment.APP_KEY;</code></p><p id="fb93" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const user = new CometChat.User(data.uid);</code></p><p id="fbb3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">user.setName(data.displayName);</code></p><p id="bb3a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">user.setMetadata({avatar: data.avatar});</code></p><p id="2a3a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">CometChat.createUser(user, apiKey)</code></p><p id="303f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.then(() =&gt; this.route.navigate(['login']))</code></p><p id="7d9c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.catch((error) =&gt; {</code></p><p id="f57c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">console.log(error);</code></p><p id="bd89" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.loading = false;</code></p><p id="3746" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">});</code></p><p id="fee3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="3411" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，每当用户在我们的应用程序中注册时，他就会自动同时在我们的CometChat帐户上注册。下面是解释这一切的完整代码。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Register Component TS file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Register Component HTML file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Register Component CSS file</figcaption></figure><h1 id="5856" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">登录组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ng"><img src="../Images/c5a2af9d204f9b532f8d4caa9269db15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dlJnZmBg14ccAx9n.png"/></div></div></figure><p id="c764" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">除了样式华丽之外，登录组件遵循注册组件的行为。例如，如果一个名为Maxwell的用户在我们的应用程序上注册，他就会被导航到登录页面进行登录。因为CometChat也有他的详细信息，他签到的那一刻，他也会被CometChat签到。下面这段代码更好地演示了这个过程。</p><p id="ca49" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">public submit(form): void {</code></p><p id="91c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.loading = true;</code></p><p id="749c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const email = form.email;</code></p><p id="8240" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const password = form.password;</code></p><p id="6860" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.auth</code></p><p id="59a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.signInWithEmailAndPassword(email, password)</code></p><p id="c2a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.then((res) =&gt; this.loginCometChat(res.user))</code></p><p id="6af3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.catch((error) =&gt; {</code></p><p id="9444" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">console.log(error);</code></p><p id="2f72" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.loading = false;</code></p><p id="80a1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">});</code></p><p id="7bb9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="24ca" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">private loginCometChat(user: any) {</code></p><p id="a91e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const apiKey = environment.APP_KEY;</code></p><p id="0fa0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">CometChat.login(user.uid, apiKey)</code></p><p id="fc53" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.then(() =&gt; this.route.navigate(['']))</code></p><p id="88f3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.catch((error) =&gt; {</code></p><p id="0d5c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">console.log(error);</code></p><p id="06c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.loading = false;</code></p><p id="72a8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">});</code></p><p id="e70c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="fdcb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">用户成功登录后，会被重定向到主页。<strong class="jm io"> app.routing-module.ts </strong>中的route-guard确保只有经过认证的用户才被允许访问主页。以下脚本描述了登录组件的整体操作。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Login Component TS file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Login Component HTML file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Login Component CSS file</figcaption></figure><h1 id="1c06" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">配置文件组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nh"><img src="../Images/8284906b5e4025883ce2c813c18b5744.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4SmVbRw1YsEgkCtM.png"/></div></div></figure><p id="74e5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">profile组件负责更新我们的数据，这些数据将反映在我们的应用程序中。该组件的主要任务之一是更改用户的配置文件。</p><p id="083a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<strong class="jm io">注册组件</strong>中，一旦用户注册，我们就用他名字的首字母为他生成一个占位符头像。简档组件允许用户将他们的化身更新为他们偏好的选择。下面是执行该操作的完整代码。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Profile Component TS File</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Profile Component HTML file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Profile Component CSS file</figcaption></figure><h1 id="fb40" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">创建事件组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nh"><img src="../Images/32518ca717cde1e8ea8b9d23b3f0bcfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JwIjtrGKl5D_pW19.png"/></div></div></figure><p id="d3cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是一个重要的组成部分，它包含了许多与我们的应用程序的成功相关的责任。该组件保留收集事件信息的职责，如视频标题、链接、图像URL、描述等。上面的图像清楚地描述了它。</p><p id="c372" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您必须了解一些后台活动，每当一个事件被添加到我们的平台。</p><p id="b088" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如，一个名为Musa的用户向我们的平台添加了一个新事件，在后台执行了两个操作。首先，firebase存储了该事件的详细信息，CometChat也为该事件创建了一个群组。下面的代码对此有更好的解释。</p><p id="3937" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">public submit(form: NgForm): void {</code></p><p id="98d0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b"><em class="mq">if</em> (form.valid) {</code></p><p id="49a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.loading = true;</code></p><p id="93b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const data = form.value;</code></p><p id="8c85" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">data.timestamp = new Date().toJSON();</code></p><p id="f6f4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">data.views = this.randomNumber(100, 300);</code></p><p id="c323" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">data.uid = this.authState.uid;</code></p><p id="6814" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.firestore</code></p><p id="20cc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.collection('events')</code></p><p id="9920" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.add(data)</code></p><p id="e216" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.then((d) =&gt; {</code></p><p id="1196" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">form.reset();</code></p><p id="1b92" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const groupName = this.toVideoId(data.videoId);</code></p><p id="4a4f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const guid = d.id;</code></p><p id="4f98" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.cometChatCreateGroup({ groupName, guid });</code></p><p id="69b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">});</code></p><p id="e1a3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="a8a4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="239a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">private cometChatCreateGroup(data: any) {</code></p><p id="cc22" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const GUID = data.guid;</code></p><p id="cf5a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const groupName = data.groupName;</code></p><p id="c018" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const groupType = CometChat.GROUP_TYPE.PUBLIC;</code></p><p id="c87b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const password = '';</code></p><p id="df06" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const group = new CometChat.Group(GUID, groupName, groupType, password);</code></p><p id="d608" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">CometChat.createGroup(group)</code></p><p id="2a65" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.then((group) =&gt; console.log('Group created successfully:', group))</code></p><p id="d92d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.catch((error) =&gt; {</code></p><p id="53d5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">console.log('Group creation failed with exception:', error)</code></p><p id="8283" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.loading = false;</code></p><p id="5419" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">});</code></p><p id="384d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="7036" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，您已经了解了幕后发生的事情，让我们来看看这个组件的完整代码。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Create EventComponent TS file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Create EventComponent HTML file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Create EventComponent CSS file</figcaption></figure><h1 id="5825" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">编辑事件组件</h1><p id="544d" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">像<strong class="jm io">创建事件组件</strong>，编辑组件那些几乎相同的工作，只是它修改你添加到平台的事件的细节。</p><p id="9b75" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它有一个重要的操作模式，下面的代码片段可以很好地解释这一点。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Edit Event Component TS files</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Edit Event Component HTML file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Create EventComponent CSS file</figcaption></figure><h1 id="1749" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">事件组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ni"><img src="../Images/4ac7b8f8c21e64dbdf4508cd3de889c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*baV97FNjVKu977XA.png"/></div></div></figure><p id="fba8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是我们的应用程序取得全面成功的一个重要因素。它的任务是优雅地列出我们在应用程序中创建的所有事件。</p><p id="a448" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它使用视频组件的服务将视频卡垂直呈现给视图。不多说了，让我们看看它在代码方面是如何工作的。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Events Component TS file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Events Component HTML file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Events Component CSS file</figcaption></figure><h1 id="461f" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">事件组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mt"><img src="../Images/57b75854b5265385d79d2de64aa49a3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ht5zHp5e0psQ84DF.png"/></div></div></figure><p id="7398" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个组件听起来可能与前面的组件相似，但是它们做的事情完全不同。事件组件显示事件列表，而此组件展示单个事件。</p><p id="46ec" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">除了它特有的酷的设计，事件组件体现了一个令人兴奋的责任的完整目录，让我们列出它们。</p><ul class=""><li id="bb96" class="mc md in jm b jn jo jr js jv nj jz nk kd nl kh nm mi mj mk bi translated">事件视频流</li><li id="a408" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh nm mi mj mk bi translated">实时聊天活动</li><li id="1e06" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh nm mi mj mk bi translated">相关视频显示</li><li id="380a" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh nm mi mj mk bi translated">执行实时消息传递</li><li id="5c24" class="mc md in jm b jn ml jr mm jv mn jz mo kd mp kh nm mi mj mk bi translated">事件编辑和删除功能</li></ul><p id="f347" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">那是一些责任，你不这样认为吗？请允许我用代码与您讨论一些功能。</p><p id="33f0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">// This method listens for a real-time message and renders it to view</code></p><p id="dbfa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">private listenForMessage(guid: string) {</code></p><p id="404c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const listenerID = guid;</code></p><p id="0ddc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">CometChat.addMessageListener(</code></p><p id="1ab8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">listenerID,</code></p><p id="d7c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">new CometChat.MessageListener({</code></p><p id="502c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">onTextMessageReceived: (message) =&gt; {</code></p><p id="ecf0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.messages.push(message);</code></p><p id="1b26" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.scrollToEnd();</code></p><p id="56ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">},</code></p><p id="4fba" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">})</code></p><p id="831d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">);</code></p><p id="ad2f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="c4ef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">// This method retreives all the messages for the current event</code></p><p id="ef00" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">private getMessages(guid: string) {</code></p><p id="7cdf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const limit = 50;</code></p><p id="edc9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const messagesRequest = new CometChat.MessagesRequestBuilder()</code></p><p id="dc23" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.setLimit(limit)</code></p><p id="e000" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.setGUID(guid)</code></p><p id="d076" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.build();</code></p><p id="2231" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">messagesRequest</code></p><p id="a1ff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.fetchPrevious()</code></p><p id="2d9e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.then((messages: Array&lt;any&gt;) =&gt; {</code></p><p id="eb32" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.messages = messages.filter((m) =&gt; m.type == 'text');</code></p><p id="0d5a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">})</code></p><p id="73c9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.catch((error) =&gt;</code></p><p id="502f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">console.log('Message fetching failed with error:', error)</code></p><p id="0aaf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">);</code></p><p id="972d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="f8af" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">// This method sends a new message into the group</code></p><p id="1933" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">private sendMessage(data: any, form: NgForm) {</code></p><p id="8688" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const receiverID = data.guid;</code></p><p id="8918" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const messageText = data.message;</code></p><p id="b895" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const receiverType = CometChat.RECEIVER_TYPE.GROUP;</code></p><p id="abf8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const textMessage = new CometChat.TextMessage(</code></p><p id="ae7d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">receiverID,</code></p><p id="7d8a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">messageText,</code></p><p id="398b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">receiverType</code></p><p id="d0fb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">);</code></p><p id="d6db" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">CometChat.sendMessage(textMessage)</code></p><p id="58cf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.then((message) =&gt; {</code></p><p id="091a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.messages.push(message);</code></p><p id="bb6c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">form.reset();</code></p><p id="822f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.scrollToEnd();</code></p><p id="4e7e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.words = 0;</code></p><p id="2441" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">})</code></p><p id="8486" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.catch((error) =&gt;</code></p><p id="8baa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">console.log('Message sending failed with error:', error)</code></p><p id="e9c0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">);</code></p><p id="e34e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="ddb2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">ngOnDestroy(): void {</code></p><p id="a3e6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">CometChat.removeMessageListener(this.id)</code></p><p id="c6bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="f9d4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">// This method joins a user into a group associated with an event</code></p><p id="c554" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">private joinGroup(guid: string) {</code></p><p id="ced9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const GUID = guid;</code></p><p id="f660" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const password = '';</code></p><p id="513e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">const groupType = CometChat.GROUP_TYPE.PUBLIC;</code></p><p id="2643" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">CometChat.joinGroup(GUID, groupType, password)</code></p><p id="a076" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.then((group) =&gt; {</code></p><p id="8fd9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">console.log('Group joined successfully:', group);</code></p><p id="72c8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.router.navigate(['events', guid]);</code></p><p id="3dfa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">})</code></p><p id="436f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">.catch((error) =&gt; {</code></p><p id="fd4a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b"><em class="mq">if</em> (error.code != 'ERR_ALREADY_JOINED')</code></p><p id="fa1c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">console.log('Group joining failed with exception:', error);</code></p><p id="29ca" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">this.router.navigate(['events', guid]);</code></p><p id="0b10" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">});</code></p><p id="c717" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">}</code></p><p id="d7a4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，您已经理解了这个组件中的后台活动，是时候查看完整的代码了。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Event Component TS file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Events Component HTML file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Events Component CSS file</figcaption></figure><h1 id="a54b" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">搜索组件</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nh"><img src="../Images/88f1ee6928bf31b8db6a92e01aa59373.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cQQih9kkkCB2viUJ.png"/></div></div></figure><p id="48e7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">最后，让我们讨论搜索组件如何解析事件排序操作。显然，随着更多的事件被添加到平台中，一个阈值将会到来，这将需要搜索事件的能力。这个组件提供了那个解决方案，让我们在下面的代码中看看它背后的逻辑。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Search Component TS file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Event Component HTML file</figcaption></figure><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">The Events Component CSS file</figcaption></figure><p id="de33" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">按照指示粘贴完代码后，运行下面的命令启动您的应用程序。</p><p id="38b6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe ly lz ma mb b">ng serve --open</code></p><p id="73f3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在终端中构建几秒钟后，您的应用程序应该启动并运行。</p><p id="8b3f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">祝贺你，你刚刚完成了YouTube的克隆-直播，干得好！！！</p><h1 id="4565" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">结论</h1><p id="3b2b" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">总之，建立一个像YouTube-Live这样的虚拟活动网站是一个提升你开发技能的好主意。特别是，使用<strong class="jm io"> CometChat SDK </strong>集成实时聊天功能，让像我这样的人梦想成真。</p><p id="8fe3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本教程向您传授了构建我们这个时代最有价值的应用程序之一的克隆所需的能力。是时候开始忙碌了，复制一个<strong class="jm io"> YouTube-Live克隆</strong>。</p><p id="c2f4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mq">更多内容请看</em><a class="ae ki" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="mq">plain English . io</em></strong></a></p></div></div>    
</body>
</html>