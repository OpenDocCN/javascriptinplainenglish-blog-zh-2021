<html>
<head>
<title>From Zero to WebHero [5] — Create Page</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从零到网络英雄[5] —创建页面</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-build-a-svelte-app-c3b1b55ed70?source=collection_archive---------19-----------------------#2021-04-12">https://javascript.plainenglish.io/lets-build-a-svelte-app-c3b1b55ed70?source=collection_archive---------19-----------------------#2021-04-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f03d" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">当游戏相关的逻辑不在数据库中时，我们允许用户创建游戏页面。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/5fc301ce8b78813b193e6d57f1d5a7f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dzvHUpjX3P0KbR6i"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@king_lip?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">King Lip</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ad8b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><a class="ae ks" rel="noopener ugc nofollow" target="_blank" href="/lets-build-a-svelte-app-a4050db53e79">上周</a>我们移除了游戏相关的逻辑，增加了一个联系页面。本周我们回到这个话题。如果用户试图寻找一个游戏，但它不在数据库中，我们将允许用户创建一个新的条目。</p><p id="7207" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果想直接跳到代码，可以在这里找到<a class="ae ks" href="https://github.com/omirobarcelo/retro-ps5/tree/part5" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="86f3" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">创建视图</h1><p id="a306" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">在<code class="fe mm mn mo mp b">routes</code>中我们加上<code class="fe mm mn mo mp b">create.svelte</code>。这将定义<code class="fe mm mn mo mp b">/create</code>路线，当我们找不到用户搜索的任何结果时，从封面重定向。</p><pre class="kd ke kf kg gt mq mp mr ms aw mt bi"><span id="7227" class="mu lq in mp b gy mv mw l mx my">{#if $search.length &gt; 0 &amp;&amp; games.length === 0}<br/>  &lt;div class="no-game"&gt;<br/>    &lt;p&gt;We don't have saved any games related to &lt;span class="font-bold"&gt;"{$search}"&lt;/span&gt;.&lt;/p&gt;<br/>    &lt;p&gt;Do you want to &lt;a href="create"&gt;create&lt;/a&gt; a new entry?&lt;/p<br/>  &lt;/div&gt;<br/>{/if}</span></pre><p id="9b06" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Create视图有一个表单，可以添加图像URL、游戏名称、可选标题和类似于detail组件的投票区域。</p><p id="0ee3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们正在使用图像URL来简化过程，而不是担心图像上传。这将是未来的改进。但是由于我们使用的是URL，这些可能是错误的或者不存在的。为了解决这个问题，我们绑定了下面的函数。</p><pre class="kd ke kf kg gt mq mp mr ms aw mt bi"><span id="787f" class="mu lq in mp b gy mv mw l mx my">&lt;img src={image ? image : IMG_PLACEHOLDER} alt="Cover" on:error={imageError} /&gt;</span><span id="97ba" class="mu lq in mp b gy mz mw l mx my">function imageError() {<br/>  IMG_PLACEHOLDER = 'https://via.placeholder.com/290x380.png?text=URL+Not+Valid';<br/>  image = '';<br/>}</span></pre><p id="7fd6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这将添加一个指示URL无效的图像占位符。</p><h1 id="176a" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">创建端点</h1><p id="b3f8" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">创建端点是保存发送到数据库的游戏的POST。</p><p id="d6af" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">就像在联系端点中一样，如果出现错误，我们会发送一个带有错误消息的响应，以便正确地向用户提供反馈。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="na nb l"/></div></figure><h1 id="f4fc" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">警报组件</h1><p id="1240" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">创建和联系页面分别在发送游戏或联系消息后显示给用户反馈的警告。我们可以将警报的模板从联系人页面移动到它自己的组件中，这样它就可以被重用。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="d86a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可以用它，比如，用下面的方法。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="685a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">总的来说是这样的。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nc"><img src="../Images/6847fda324c38ee01a3053338131806c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*erKbBcoJD7M_Q8yNtl3Svg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Create showcase</figcaption></figure></div><div class="ab cl nd ne hr nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ig ih ii ij ik"><p id="5490" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">再有两篇文章，这个系列就完成了。感谢您阅读这个正在进行的系列，我希望下周<a class="ae ks" rel="noopener ugc nofollow" target="_blank" href="/lets-build-a-svelte-sapper-app-703ec9e779dd">能见到您</a>！</p><p id="3ed6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可以在https://github.com/omirobarcelo/retro-ps5/tree/part5的<a class="ae ks" href="https://github.com/omirobarcelo/retro-ps5/tree/part5" rel="noopener ugc nofollow" target="_blank">中看到到目前为止的所有代码。</a></p><p id="5562" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nk">更多内容请看</em><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>