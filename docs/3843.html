<html>
<head>
<title>How to Add Redux to a React app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何向React应用添加Redux</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-add-redux-to-a-react-app-1bcb06c81bce?source=collection_archive---------13-----------------------#2021-08-02">https://javascript.plainenglish.io/how-to-add-redux-to-a-react-app-1bcb06c81bce?source=collection_archive---------13-----------------------#2021-08-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="18b0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">本文介绍了如何将Redux添加到React TypeScript应用程序中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/54b7b9261b32c47c71e0d97a7ac52e5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3DCY9eadl8ELWV5Y"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@nublson?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nubelson Fernandes</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="7e1a" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">录像</h1><p id="d884" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">观看<a class="ae ky" href="https://youtu.be/upcZZAN7Gt8?list=PLVgOtoUBG2mdLpj6qT5DXfg5_pGPTDrJZ" rel="noopener ugc nofollow" target="_blank"> YouTube视频</a>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mc md l"/></div></figure><h1 id="f934" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">演示</h1><p id="d35f" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated"><a class="ae ky" href="https://codesandbox.io/s/react-redux-typescript-oof6n" rel="noopener ugc nofollow" target="_blank"> CodeSandbox演示</a>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="me md l"/></div></figure><h1 id="de66" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">先决条件</h1><p id="cd5c" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">给定一个由<a class="ae ky" href="https://create-react-app.dev/" rel="noopener ugc nofollow" target="_blank">引导的应用，创建React应用</a>:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="7525" class="mk la in mg b gy ml mm l mn mo">$ npx create-react-app my-app --template typescript &amp;&amp; cd my-app</span></pre><h1 id="109a" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">安装</h1><p id="c7b7" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">安装依赖项:</p><ul class=""><li id="dfb6" class="mp mq in jm b jn jo jr js jv mr jz ms kd mt kh mu mv mw mx bi translated"><a class="ae ky" href="https://www.npmjs.com/package/@reduxjs/toolkit" rel="noopener ugc nofollow" target="_blank">@ reduxjs/工具包</a></li><li id="7fa0" class="mp mq in jm b jn my jr mz jv na jz nb kd nc kh mu mv mw mx bi translated"><a class="ae ky" href="https://www.npmjs.com/package/@types/react-redux" rel="noopener ugc nofollow" target="_blank"> @types/react-redux </a></li><li id="9289" class="mp mq in jm b jn my jr mz jv na jz nb kd nc kh mu mv mw mx bi translated"><a class="ae ky" href="https://www.npmjs.com/package/react-redux" rel="noopener ugc nofollow" target="_blank"> react-redux </a></li></ul><p id="adb7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用npm:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="8c3c" class="mk la in mg b gy ml mm l mn mo">$ npm install @reduxjs/toolkit @types/react-redux react-redux</span></pre><p id="1459" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">或者用纱线:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="d20a" class="mk la in mg b gy ml mm l mn mo">$ yarn add @reduxjs/toolkit @types/react-redux react-redux</span></pre><h1 id="28a4" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">薄片</h1><p id="ab31" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">创建<a class="ae ky" href="https://redux-toolkit.js.org/api/createSlice" rel="noopener ugc nofollow" target="_blank">切片</a>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd md l"/></div></figure><h1 id="76b7" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">商店</h1><p id="3d3e" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">创建<a class="ae ky" href="https://redux.js.org/api/store" rel="noopener ugc nofollow" target="_blank">商店</a>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd md l"/></div></figure><h1 id="71e0" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">供应者</h1><p id="01b4" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">使用<code class="fe ne nf ng mg b"><a class="ae ky" href="https://react-redux.js.org/api/provider" rel="noopener ugc nofollow" target="_blank">&lt;Provider&gt;</a></code>使存储对所有嵌套组件可用:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd md l"/></div></figure><h1 id="cd16" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">成分</h1><p id="6026" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">创建组件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd md l"/></div></figure><p id="1a2b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ky" href="https://react-redux.js.org/introduction/why-use-react-redux#integrating-redux-with-a-ui" rel="noopener ugc nofollow" target="_blank"> UI通过<a class="ae ky" href="https://react-redux.js.org/api/hooks" rel="noopener ugc nofollow" target="_blank">挂钩</a>与Redux </a>集成。</p><p id="fc7f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">不在<code class="fe ne nf ng mg b"><a class="ae ky" href="https://react-redux.js.org/api/hooks#useselector" rel="noopener ugc nofollow" target="_blank">useSelector</a></code>中键入回调函数将抛出TypeScript错误:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="4399" class="mk la in mg b gy ml mm l mn mo">Property 'counter' does not exist on type 'DefaultRootState'.</span></pre><p id="4f32" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这可以通过键入<code class="fe ne nf ng mg b">state</code>来修复:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd md l"/></div></figure><h1 id="f35c" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">钩住</h1><p id="ceb0" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">或者，键入<a class="ae ky" href="https://react-redux.js.org/api/hooks" rel="noopener ugc nofollow" target="_blank">挂钩</a>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd md l"/></div></figure><p id="8b11" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为便于在组件中使用:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd md l"/></div></figure><h1 id="558b" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">资源</h1><ul class=""><li id="5efe" class="mp mq in jm b jn lx jr ly jv nh jz ni kd nj kh mu mv mw mx bi translated"><a class="ae ky" href="https://github.com/remarkablemark/react-redux-typescript-app" rel="noopener ugc nofollow" target="_blank">react-redux-typescript-app</a></li><li id="ccc2" class="mp mq in jm b jn my jr mz jv na jz nb kd nc kh mu mv mw mx bi translated"><a class="ae ky" href="https://github.com/reduxjs/cra-template-redux-typescript" rel="noopener ugc nofollow" target="_blank">CRA-template-redux-typescript</a></li><li id="76a2" class="mp mq in jm b jn my jr mz jv na jz nb kd nc kh mu mv mw mx bi translated"><a class="ae ky" href="https://github.com/reduxjs/cra-template-redux" rel="noopener ugc nofollow" target="_blank"> cra-template-redux </a></li></ul></div><div class="ab cl nk nl hr nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ig ih ii ij ik"><p id="c048" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><a class="ae ky" href="https://b.remarkabl.org/2RYxRyh" rel="noopener ugc nofollow" target="_blank"> <em class="nr">本文原载于2021年8月1日《remarkablemark.org》。</em>T3】</a></p><p id="b023" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="nr">更多内容尽在</em><a class="ae ky" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="nr">plain English . io</em></strong></a></p></div></div>    
</body>
</html>