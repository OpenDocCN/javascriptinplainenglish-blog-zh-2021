# Javascript LeetCode 算法—运行 1D 数组的和。

> 原文：<https://javascript.plainenglish.io/javascript-leetcode-algorithm-running-sum-of-a-1d-array-1400674c0bd6?source=collection_archive---------24----------------------->

*给定一个数组，返回输入的运行总和。*

![](img/2afafbce5be9b530760120b5aa058221.png)

Photo by [Markus Spiske](https://unsplash.com/@markusspiske?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

# 1.任务:

我们得到了一个名为`nums`的数组，其中包含所有的数字。

我们以数组`[1,2,3,4]`为例。**输出**应该是`[1,3,6,10]` …为什么？*堂哥石寒这么说。*

不，真的是因为:`[1, 1+2, 1+2+3, 1+2+3+4]`。

***我们来分解一下:***

*   以第一个元素`1`为例，我们可以将它返回为`[1,...]`。
*   我们的第二个元素`2`应该加上*本身*加上*之前的*元素，在这种情况下，之前的元素是`1` —所以我们有`[1, 1+2,...]`。
*   第三个元素是`3`所以，我们需要把*本身*加到前面的元素上，像这样:`[1, 1+2, 1+2+3,...]`。
*   最后，我们的最后一个元素，在这种情况下，应该将自己添加到数组中所有前面的元素中，就像这样:`[1, 1+2, 1+2+3, 1+2+3+4]`。

***够简单吧？让我们来看看我们的方法:***

# 2.解决方案是:

我们需要一个变量来记录我们的总和，所以我们声明了一个变量:

`**let sum = 0;**`

我们还需要一个数组来跟踪所有之前的元素，所以我们有:`let prev_elems = [];`和另一个数组`let result = [];`，因为我们的输出必须是数组形式。

从数字 0 开始，我们使用一个 for 循环遍历`nums.length`,简单地将每个元素推入我们的跟踪数组，如下所示:

`**prev_elems.push(nums[i]);**`

***最后，我们做如下:***

我们推入我们的`results`数组，当前元素加上`prev_elems`数组— ***减去*** 当前元素之和:

`**result.push((nums[i] + prev_elems.reduce((a,b) => a + b, 0) — nums[i]))**`

(*加分号就是把它分成两行:/)*

然后，我们最终只是返回了`result`数组。

***下面是完整代码:***

**第 9 行:**`reduce`方法接受 4 个参数*(累加器、当前值、当前索引和源数组)*……后 2 个是可选的。

您可能会注意到，我们将一个*可选的*第二个参数`0`传递给了`reduce`方法(不是回调)。这只是我们为数组提供的一个初始值，作为我们的**返回值**的基础。请阅读 MDN 文档，了解更多相关信息。

我希望这个解释是全面的，并帮助你将这个看似复杂但实际上非常简单的问题分解成小块。

现在试着自己解决这个，试着重构到 1 行……(lol，只是开玩笑)。

***感谢阅读！***

*更多内容请看*[*plain English . io*](http://plainenglish.io/)