<html>
<head>
<title>How to Check for text-overflow Ellipsis in an HTML Element?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何检查HTML元素中的文本溢出省略号？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-check-for-text-overflow-ellipsis-in-an-html-element-52d32c720c3e?source=collection_archive---------2-----------------------#2021-07-31">https://javascript.plainenglish.io/how-to-check-for-text-overflow-ellipsis-in-an-html-element-52d32c720c3e?source=collection_archive---------2-----------------------#2021-07-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ced00441cdfe6f9a39f66b278a3e91f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7h9dPpmazVhZIBgD"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@splashabout?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nareeta Martin</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bc4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们希望检查<code class="fe lb lc ld le b">text-overflow</code>省略号是否在元素中呈现。</p><p id="6b13" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何检查HTML元素中的<code class="fe lb lc ld le b">text-overflow</code>省略号。</p><h1 id="c673" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">检查offsetWidth是否小于scrollWidth</h1><p id="5dfe" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">元素的<code class="fe lb lc ld le b">offsetWidth</code>属性告诉我们元素在屏幕上呈现的宽度。</p><p id="a2d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lb lc ld le b">scrollWidth</code>告诉我们元素的宽度，包括截断的部分。</p><p id="1835" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们可以通过检查<code class="fe lb lc ld le b">offsetWidth</code>是否小于<code class="fe lb lc ld le b">scrollWidth</code>来判断一段文本是否被CSS <code class="fe lb lc ld le b">text-overflow</code>属性截断。</p><p id="c3f7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有下面的HTML:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="65fd" class="mq lg iq le b gy mr ms l mt mu">&lt;div&gt;<br/>  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam in neque laoreet, venenatis quam id, tristique ipsum. Sed augue ipsum, pharetra in ipsum eget, varius placerat odio. Pellentesque a luctus metus, commodo placerat elit. Nullam efficitur augue in magna consectetur finibus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Cras porttitor lectus pretium, placerat nulla eget, hendrerit magna. Nunc in sem dui. Sed sollicitudin sem a massa malesuada cursus. Mauris feugiat enim sit amet efficitur lobortis.<br/>&lt;/div&gt;</span></pre><p id="cea4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和CSS:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="e703" class="mq lg iq le b gy mr ms l mt mu">div {<br/>  white-space: nowrap;<br/>  overflow: hidden;<br/>  text-overflow: ellipsis;<br/>}</span></pre><p id="fdee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以通过编写以下内容来进行检查:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="01f4" class="mq lg iq le b gy mr ms l mt mu">const isEllipsisActive = (e) =&gt; {<br/>  return (e.offsetWidth &lt; e.scrollWidth);<br/>}</span><span id="b4ad" class="mq lg iq le b gy mv ms l mt mu">const div = document.querySelector('div')<br/>console.log(isEllipsisActive(div))</span></pre><p id="803a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在<code class="fe lb lc ld le b">isEllipsisActive</code>函数中指定的<code class="fe lb lc ld le b">offsetWidth</code>和<code class="fe lb lc ld le b">scrollWidth</code>之间进行比较。</p><p id="c156" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe lb lc ld le b">querySelector</code>获取div，并将其传递给<code class="fe lb lc ld le b">isEllipsisActive</code>。</p><p id="fe20" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以控制台日志应该记录<code class="fe lb lc ld le b">true</code>，因为我们用CSS截断了文本。</p><h1 id="59a9" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="cb11" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以通过检查元素的<code class="fe lb lc ld le b">offsetWidth</code>是否小于其<code class="fe lb lc ld le b">scrollWidth</code>来检查一段文本是否被CSS <code class="fe lb lc ld le b">text-overflow</code>属性截断。</p><p id="19f7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>