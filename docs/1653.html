<html>
<head>
<title>How to Test a Node (npm) Package Locally</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在本地测试节点(npm)程序包</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-test-a-node-package-locally-8dde33e642df?source=collection_archive---------9-----------------------#2021-04-09">https://javascript.plainenglish.io/how-to-test-a-node-package-locally-8dde33e642df?source=collection_archive---------9-----------------------#2021-04-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/ba4c77f611c56604217c0f2323c51a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UhREoo0axwA-zgwfAw3NIQ.png"/></div></div></figure><p id="cdb8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以在本地开发一个节点包，并将其发布到npm。但是如果您想通过导入到本地项目中来测试一个组件呢？我将通过两种方法来做这件事。</p><h2 id="7dcd" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">部分:</h2><ol class=""><li id="9663" class="lm ln in jx b jy lo kc lp kg lq kk lr ko ls ks lt lu lv lw bi translated">简单的回答(<code class="fe lx ly lz ma b">npm link</code>)。</li><li id="a464" class="lm ln in jx b jy mb kc mc kg md kk me ko mf ks lt lu lv lw bi translated">简单答案疑难解答。</li><li id="5c92" class="lm ln in jx b jy mb kc mc kg md kk me ko mf ks lt lu lv lw bi translated">卸载简易答案。</li><li id="cb85" class="lm ln in jx b jy mb kc mc kg md kk me ko mf ks lt lu lv lw bi translated">困难的答案(tarball文件)。</li><li id="206f" class="lm ln in jx b jy mb kc mc kg md kk me ko mf ks lt lu lv lw bi translated">疑难解答。</li><li id="cc1d" class="lm ln in jx b jy mb kc mc kg md kk me ko mf ks lt lu lv lw bi translated">卸载硬答。</li></ol><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mg"><img src="../Images/c3e43c5512a052043dbd0a1830a17a58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gi2z4Nblas1oieIs"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Photo by <a class="ae mp" href="https://unsplash.com/@daniel_von_appen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Daniel von Appen</a> on <a class="ae mp" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="9d9a" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">1.简单的答案</h2><p id="e183" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg mq ki kj kk mr km kn ko ms kq kr ks ig bi translated">假设我们有一个名为<code class="fe lx ly lz ma b">cool-components</code>的包，你想改变这些组件，但是想在一个名为<strong class="jx io"> my-project </strong>的项目中测试它们。</p><ol class=""><li id="1cfe" class="lm ln in jx b jy jz kc kd kg mt kk mu ko mv ks lt lu lv lw bi translated">在<code class="fe lx ly lz ma b">cool-components</code>内部，键入<code class="fe lx ly lz ma b">npm link</code>。</li><li id="13b6" class="lm ln in jx b jy mb kc mc kg md kk me ko mf ks lt lu lv lw bi translated">在<code class="fe lx ly lz ma b">my-project</code>内部，键入<code class="fe lx ly lz ma b">npm link cool-components</code>。</li></ol><p id="37fa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果包需要构建，您可能需要每次都运行一个构建步骤来反映您的更改。</p><h2 id="91d6" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">2.简单答案疑难解答</h2><p id="8371" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg mq ki kj kk mr km kn ko ms kq kr ks ig bi translated">如果您使用webpack之类的东西来构建您的包，符号链接并不总是工作得很好。在这种情况下，您可能需要在webpack配置中添加:</p><pre class="mh mi mj mk gt mw ma mx my aw mz bi"><span id="8932" class="kt ku in ma b gy na nb l nc nd"># webpack.config.js<br/>module.exports = {<br/>    resolve: {<br/>        symlinks: false<br/>    }<br/>};</span></pre><h2 id="fa4a" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">3.卸载简易答案</h2><ol class=""><li id="068d" class="lm ln in jx b jy lo kc lp kg lq kk lr ko ls ks lt lu lv lw bi translated">在<code class="fe lx ly lz ma b">cool-components</code>中，输入<code class="fe lx ly lz ma b">npm unlink</code>。</li><li id="2214" class="lm ln in jx b jy mb kc mc kg md kk me ko mf ks lt lu lv lw bi translated">在<code class="fe lx ly lz ma b">my-project</code>中，输入<code class="fe lx ly lz ma b">npm unlink cool-components</code>。</li></ol><figure class="mh mi mj mk gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/92a416f7b26de18c9e03ce2907970fec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o94MFhxpGg_XuNl3"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Photo by <a class="ae mp" href="https://unsplash.com/@brandablebox?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Brandable Box</a> on <a class="ae mp" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="f0a2" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">4.难以回答的问题</h2><p id="cc39" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg mq ki kj kk mr km kn ko ms kq kr ks ig bi translated">当您从npm安装一个节点模块时，您实际上是在安装一个包的tarball。您可以通过几个额外的步骤重新创建这个过程。因为您每次都要打包项目，所以每次您希望更改出现时都需要重复这一步，并重新安装特定的包。</p><p id="8d85" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">假设您有一个名为<code class="fe lx ly lz ma b">cool-components</code>的包，并希望它位于本地<code class="fe lx ly lz ma b">my-project</code>中。</p><ol class=""><li id="0e66" class="lm ln in jx b jy jz kc kd kg mt kk mu ko mv ks lt lu lv lw bi translated">如果你正在使用类似webpack的东西，在里面<code class="fe lx ly lz ma b">cool-components</code>构建你的包。</li><li id="eaaf" class="lm ln in jx b jy mb kc mc kg md kk me ko mf ks lt lu lv lw bi translated">在<code class="fe lx ly lz ma b">cool-components</code>内键入<code class="fe lx ly lz ma b">npm pack</code>创建一个tarball。</li><li id="7a9c" class="lm ln in jx b jy mb kc mc kg md kk me ko mf ks lt lu lv lw bi translated">在<code class="fe lx ly lz ma b">my-project</code>内编辑<code class="fe lx ly lz ma b">package.json</code>并更改项目将包导入文件的行。您可以将此文件放在计算机上的任何位置。</li></ol><pre class="mh mi mj mk gt mw ma mx my aw mz bi"><span id="6024" class="kt ku in ma b gy na nb l nc nd">{<br/>  "name": "my-project",<br/>  "dependencies": {<br/>    "cool-components": "file:../cool-components/cool-components.tgz"<br/>  }<br/>}</span></pre><p id="c502" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">4.键入<code class="fe lx ly lz ma b">npm install</code>或<code class="fe lx ly lz ma b">npm update cool-components</code>以确保您拥有最新的副本。</p><p id="224a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">或者，您也可以键入<code class="fe lx ly lz ma b">npm install cool-components.tgz</code>。</p><h2 id="93d8" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">5.疑难解答</h2><p id="d69e" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg mq ki kj kk mr km kn ko ms kq kr ks ig bi translated">有时，您的更改可能不会更新。这可能是由于<code class="fe lx ly lz ma b">package-lock.json</code>。只需从您的<code class="fe lx ly lz ma b">package-lock.json</code>中删除<code class="fe lx ly lz ma b">cool-components</code>的条目，或者删除整个文件并键入<code class="fe lx ly lz ma b">npm install</code>。</p><h2 id="8761" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">6.卸载硬答案</h2><ol class=""><li id="9350" class="lm ln in jx b jy lo kc lp kg lq kk lr ko ls ks lt lu lv lw bi translated">在<code class="fe lx ly lz ma b">my-project</code>输入<code class="fe lx ly lz ma b">npm uninstall cool-components</code>。</li><li id="18e3" class="lm ln in jx b jy mb kc mc kg md kk me ko mf ks lt lu lv lw bi translated">在<code class="fe lx ly lz ma b">my-project</code>中，确保线在<code class="fe lx ly lz ma b">package.json</code>中被移除。</li></ol><p id="7a76" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这就是在本地测试npm包所需的全部内容！希望这篇文章是有帮助的。</p><p id="c64f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nf">更多内容请看</em><a class="ae mp" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="nf">plain English . io</em></a></p></div></div>    
</body>
</html>