<html>
<head>
<title>React Hooks — What’s the Difference Between Returning an Array and an Object?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">react Hooks——返回一个数组和一个对象有什么区别？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-hooks-whats-the-difference-between-returning-an-array-and-an-object-34ccba62b71?source=collection_archive---------5-----------------------#2021-06-05">https://javascript.plainenglish.io/react-hooks-whats-the-difference-between-returning-an-array-and-an-object-34ccba62b71?source=collection_archive---------5-----------------------#2021-06-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="1b92" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">这种微小的差异在可用性上造成了巨大的变化。</p></blockquote><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/8461369804647ff4dcde64d930e937b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*O8s0eBAiwC5XzXum.png"/></div></div></figure><p id="59f6" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated">您可能已经在React中编写了自己的自定义挂钩，看起来有点像这样:</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="0757" class="lj lk iq lf b gy ll lm l ln lo">const useExample = () =&gt; {<br/>  let myVar = "";<br/>  <br/>  // Hook Logic...</span><span id="4c5b" class="lj lk iq lf b gy lp lm l ln lo">  return {<br/>    myVar<br/>  } <br/>}</span></pre><p id="2fa6" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated">并且这样称呼它:</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="b2c0" class="lj lk iq lf b gy ll lm l ln lo">...<br/>const {myVar} = useExample();</span></pre><p id="d123" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated">这很简单。我们从<code class="fe lq lr ls lf b">useExample</code>钩子返回一个对象，并使用对象析构来访问<code class="fe lq lr ls lf b">myVar</code>。</p><p id="8fb0" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated">但是如果你看看其他钩子，你可能会注意到它们不使用对象析构——它们使用数组。</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="83cf" class="lj lk iq lf b gy ll lm l ln lo">...<br/>const [value, setValue] = useState(0);</span></pre><p id="f1c9" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated">这种退货方式有什么区别？要找到一个明确的答案可能很难，但其实很简单。从钩子返回变量的两种方式<strong class="jt ir">同样有效</strong>，它们只是有<strong class="jt ir">不同的用例</strong>。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="8f7d" class="ma lk iq bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">{x}和[x]的区别</h1><blockquote class="jn jo jp"><p id="0673" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">如果一个钩子返回一个数组([x])，那么你可以自己给变量命名。</p><p id="8ae6" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">如果一个钩子返回一个对象({x})，那么你必须使用钩子本身返回的变量名。</p></blockquote><p id="1b7d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated">回到<code class="fe lq lr ls lf b">useState</code>钩子，它在一个数组中返回它的变量，因为我们很可能会对每个组件不止一次地使用这个钩子。我们需要能够多次实例化那个钩子，但是每个实例都有不同的名称。示例:</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="f44d" class="lj lk iq lf b gy ll lm l ln lo">const [val, setVal] = useState(0);<br/>const [data, setData] = useState("");</span></pre><p id="cdf8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated">在<code class="fe lq lr ls lf b">useExample</code>钩子中，我们被迫使用变量名<code class="fe lq lr ls lf b">myVal</code>。</p><p id="6589" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated">React确实让我们覆盖了我们的对象变量名，但是这比使用数组返回要多得多。下面是上面以对象返回形式重写的<code class="fe lq lr ls lf b">useState</code>示例:</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="3291" class="lj lk iq lf b gy ll lm l ln lo">const {state: val, setState: setVal} = useState(0);<br/>const {state: data, setState: setData} = useState("");</span></pre><p id="6a84" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated">为了清楚起见，下面是为了使用数组返回而重写的<code class="fe lq lr ls lf b">useExample</code>钩子的样子:</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="b627" class="lj lk iq lf b gy ll lm l ln lo">const {myVar: newVarName} = useExample(); //Object return<br/>const [newVarName] = useExample(); //Array return</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="5fb4" class="lj lk iq bd mb mx my dn mf mz na dp mj lb nb nc mn lc nd ne mr ld nf ng mv nh bi translated">用例</h2><blockquote class="jn jo jp"><p id="efff" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">如果我们要在一个组件中使用一个钩子的多个实例，那么使用数组返回。</p><p id="d013" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">如果我们的组件只有一个(或几个)钩子，使用object return。</p></blockquote><p id="0849" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated">就是这样！我希望您觉得这篇文章很有用，并且现在已经很好地理解了在React中使用钩子返回数组和对象之间的区别。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="4590" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated">如果您喜欢这篇文章或觉得它有用，请随意。或者，你可以在Medium  <a class="ae ni" href="https://jamesmbrightman.medium.com/membership" rel="noopener"> <em class="js">这里</em> </a> <em class="js">支持我或者给我买一杯</em> <a class="ae ni" href="https://ko-fi.com/jamesbrightman" rel="noopener ugc nofollow" target="_blank"> <em class="js">咖啡</em> </a> <em class="js">！非常感谢所有的支持。</em></p><p id="6aea" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lb kd ke kf lc kh ki kj ld kl km kn ko ij bi translated"><em class="js">更多内容请看</em><a class="ae ni" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="js">plain English . io</em></a></p></div></div>    
</body>
</html>