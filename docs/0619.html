<html>
<head>
<title>Gatsby.js — Styling Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Gatsby.js样式组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/gatsby-js-styling-components-b6b0876716cb?source=collection_archive---------12-----------------------#2021-02-07">https://javascript.plainenglish.io/gatsby-js-styling-components-b6b0876716cb?source=collection_archive---------12-----------------------#2021-02-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4cabf95b2a975f7df3e2cb21f099732f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1fsv4gT-YCqL_itC"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@peetfolio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Patrick Reichboth</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4586" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Gatsby是一个基于React的静态网站框架。</p><p id="f7a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用它从外部数据源创建静态网站等等。</p><p id="fb08" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用Gatsby创建一个站点。</p><h1 id="b501" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用CSS设置样式</h1><p id="b579" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将全局样式添加到<code class="fe me mf mg mh b">src/styles/global.css</code>文件中:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8e10" class="mq lc iq mh b gy mr ms l mt mu">html {<br/>  background-color: green;<br/>}<br/>p {<br/>  color: maroon;<br/>}</span></pre><p id="b2f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在<code class="fe me mf mg mh b">gatsby-browser.js</code>中，我们添加:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="8fab" class="mq lc iq mh b gy mr ms l mt mu">import "./src/styles/global.css"</span></pre><p id="18ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">导入全局样式。</p><p id="8f79" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后这些样式将被应用到任何地方</p><h1 id="306f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">布局样式</h1><p id="9721" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以将样式添加到布局文件中，这样它们就可以应用到所有的子组件中。</p><p id="2146" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><p id="4f07" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/components/layout.css</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b924" class="mq lc iq mh b gy mr ms l mt mu">html {<br/>  background-color: green;<br/>}<br/>p {<br/>  color: maroon;<br/>}</span></pre><p id="c22c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/components/layout.js</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c023" class="mq lc iq mh b gy mr ms l mt mu">import { Link } from "gatsby"<br/>import React from "react"<br/>import './layout.css'</span><span id="021d" class="mq lc iq mh b gy mv ms l mt mu">export default function Layout({ children }) {<br/>  return (<br/>    &lt;div style={{ margin: `0 auto`, maxWidth: 650, padding: `0 1rem` }}&gt;<br/>      &lt;Link to='/foo'&gt;foo&lt;/Link&gt;<br/>      &lt;Link to='/bar'&gt;bar&lt;/Link&gt;<br/>      {children}<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="4674" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/pages/bar.js</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="dcf8" class="mq lc iq mh b gy mr ms l mt mu">import React from "react"<br/>import Layout from "../components/layout"</span><span id="24e6" class="mq lc iq mh b gy mv ms l mt mu">export default function Bar() {<br/>  return &lt;Layout&gt;<br/>    &lt;div&gt;bar&lt;/div&gt;<br/>  &lt;/Layout&gt;<br/>}</span></pre><p id="49c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/pages/foo.js</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b82c" class="mq lc iq mh b gy mr ms l mt mu">import React from "react"<br/>import Layout from "../components/layout"</span><span id="ae3e" class="mq lc iq mh b gy mv ms l mt mu">export default function Bar() {<br/>  return &lt;Layout&gt;<br/>    &lt;div&gt;bar&lt;/div&gt;<br/>  &lt;/Layout&gt;<br/>}</span></pre><p id="64eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后样式将被应用到<code class="fe me mf mg mh b">Foo</code>和<code class="fe me mf mg mh b">Bar</code>页面。</p><h1 id="140c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">样式组件</h1><p id="9c8c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用样式组件库用Gatsby创建样式组件。</p><p id="c0b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们运行:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="84fe" class="mq lc iq mh b gy mr ms l mt mu">npm install gatsby-plugin-styled-components styled-components babel-plugin-styled-components</span></pre><p id="7318" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">安装所需的软件包。</p><p id="1753" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在<code class="fe me mf mg mh b">gatsby-config.js</code>中，我们写道:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1b31" class="mq lc iq mh b gy mr ms l mt mu">/**<br/> * Configure your Gatsby site with this file.<br/> *<br/> * See: https://www.gatsbyjs.com/docs/gatsby-config/<br/> */</span><span id="ef0b" class="mq lc iq mh b gy mv ms l mt mu">module.exports = {<br/>  /* Your site config here */<br/>  plugins: [`gatsby-plugin-styled-components`],<br/>}</span></pre><p id="8389" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将插件添加到我们的项目中。</p><p id="e268" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><p id="f43a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/pages/index.js</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b348" class="mq lc iq mh b gy mr ms l mt mu">import React from "react"<br/>import styled from "styled-components"<br/>const Container = styled.div`<br/>  margin: 3rem auto;<br/>  max-width: 700px;<br/>  display: flex;<br/>  flex-direction: column;<br/>  align-items: center;<br/>  justify-content: center;<br/>`<br/>const Avatar = styled.img`<br/>  flex: 0 0 100px;<br/>  width: 96px;<br/>  height: 96px;<br/>  margin: 0;<br/>`<br/>const Username = styled.h2`<br/>  margin: 0 0 12px 0;<br/>  padding: 0;<br/>`<br/>const User = props =&gt; (<br/>  &lt;&gt;<br/>    &lt;Avatar src={props.avatar} alt={props.username} /&gt;<br/>    &lt;Username&gt;{props.username}&lt;/Username&gt;<br/>  &lt;/&gt;<br/>)<br/>export default function UsersList() {<br/>  return (<br/>    &lt;Container&gt;<br/>      &lt;User<br/>        username="Jane Doe"<br/>        avatar="https://s3.amazonaws.com/uifaces/faces/twitter/adellecharles/128.jpg"<br/>      /&gt;<br/>      &lt;User<br/>        username="Bob Jones"<br/>        avatar="https://s3.amazonaws.com/uifaces/faces/twitter/vladarbatov/128.jpg"<br/>      /&gt;<br/>    &lt;/Container&gt;<br/>  )<br/>}</span></pre><p id="590e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建了<code class="fe me mf mg mh b">Container</code>组件，它是一个样式化的div。</p><p id="0882" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">Avatar</code>是一个样式化的图像。而<code class="fe me mf mg mh b">Username</code>是样式化的<code class="fe me mf mg mh b">h2</code>组件。</p><p id="fe53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">User</code>由<code class="fe me mf mg mh b">Avatar</code>和<code class="fe me mf mg mh b">Username</code>组件组合而成。</p><h1 id="569a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">CSS模块</h1><p id="c892" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以在Gatsby项目中使用CSS模块。</p><p id="fd79" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们可以写:</p><p id="7cba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/pages/index.module.css</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="126a" class="mq lc iq mh b gy mr ms l mt mu">.feature {<br/>  margin: 2rem auto;<br/>  max-width: 500px;<br/>  color: red;<br/>}</span></pre><p id="722d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">src/pages/index.js</code></p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9b33" class="mq lc iq mh b gy mr ms l mt mu">import React from "react"<br/>import style from "./index.module.css"<br/>export default function Home() {<br/>  return (<br/>    &lt;section className={style.feature}&gt;<br/>      &lt;h1&gt;hello world&lt;/h1&gt;<br/>    &lt;/section&gt;<br/>  )<br/>}</span></pre><p id="296a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只是将CSS作为一个模块导入到组件中。</p><p id="6b17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过访问作为对象的<code class="fe me mf mg mh b">style</code>导入来应用类，将类名作为属性名。</p><h1 id="2015" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="15ad" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用Gatsby以各种方式设计我们的组件。</p><p id="1862" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">喜欢这篇文章吗？如果有，通过<a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw?sub_confirmation=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">订阅我们的YouTube频道</strong> </a> <strong class="kf ir">获取更多类似内容！</strong></p></div></div>    
</body>
</html>