# 为什么开发人员不应该追求代码的完美

> 原文：<https://javascript.plainenglish.io/why-developers-shouldnt-strive-for-code-perfection-f40a4df70460?source=collection_archive---------9----------------------->

## 这是我看到的大多数开发人员都会犯的错误。

![](img/ce34636af33fa0550ac24006a2a82b6e.png)

Photo by [Alex Knight](https://unsplash.com/@agk42?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

你经常看到开发人员，尤其是年轻的开发人员犯的一个错误是，当他们需要设计一些东西时，试图达到完美。

无论它只是一个可重用的基类、一个组件，甚至是一个小的库或框架，许多开发人员都过于关注在大多数情况下并不重要的细节。

这是可以理解的，尽管，我认为大多数开发人员在他们的职业生涯中已经走上这条路很多次了。尤其是早期。你知道这是怎么回事，你需要创造一些会被其他人重用的东西，你想确保它是完美的。没人能说它不好。不经讨论，每个人都会同意这段代码非常棒。

所以很多处于这种情况下的人开始思考这样的事情:

*   我不应该封这个班吗？没有人需要从这里派生，因为我已经留下了很多其他的扩展点。
*   我不应该封这个方法吗？毕竟，没有人应该改变这段代码的工作方式。
*   这个类永远不会被这个程序集之外的任何人使用，所以我可能应该把它变成内部的。
*   这种特殊的方法会成为一个瓶颈，所以我真的应该尽可能快地实现它
*   每当我可以在一个基类中引入一些公共逻辑或者引入更多的基类时，我都应该这样做！

现实情况是，尽管你的意图是好的，但是过多地关注这样的细节经常会导致非常不灵活的代码，很多人会觉得很难使用或者很讨厌使用。

除非你对这类事情非常有经验，否则如果你提前考虑这些事情，你很可能会做出错误的决定，所以真的不值得在这样的“细节”上花费这么多时间。

事实上，最好的办法往往是让事情尽可能简单，直到你真的有理由让事情变得更复杂。事先把事情弄得比他们需要的更复杂是行不通的，而且你可能会在那些无关紧要的地方把事情弄得过于复杂。

如果你真的很不幸，那实际上会使修改或扩展其他部分变得更加困难，随着时间的推移，在某些方面确实需要修改或扩展。

总的来说，我认为你最好关注以下目标/原则:

*   避免编写淫荡的类
*   确保您的消费者主要通过接口与您的类进行通信。
*   使用依赖注入，这样实现可以很容易地与其他实现交换
*   使用虚拟方法，除非你能想到一个完美的理由不这样做
*   除非你能想出一个好的理由，否则不要把你的类内部化(记住，我们仍然可以通过反射对它们做任何我们想做的事情，如果你不能提供适当的扩展点，如果这被证明是让事情按我们需要的方式工作的最佳方式，我们会这样做)
*   除非你能想到一个完美的理由，否则不要封闭类
*   不要担心前期的性能，除非是在那些你要脱离进程的地方(远程服务、数据库、文件系统等等。)
*   保持你的班级小而集中
*   了解坚实的原则，并应用它们。然而，请记住，追求 100%可靠的代码通常也不值得。

如果你记住这些事情，你通常会得到灵活的代码来使用并且容易修改。

显然，所有这些都假设您可以回到代码中进行修改。如果你发布的框架、库或组件将被很多人使用，并且不能破坏向后兼容性，那么你可能需要对这些东西更加严格，因为你不能总是回头去改变一些东西。

但是，我觉得宣称大部分开发者不存在这种情况并不为过，所以我们大部分人往往不需要浪费时间去提前考虑那些事情。

*更多内容看*[***plain English . io***](http://plainenglish.io/)