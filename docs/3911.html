<html>
<head>
<title>These NPM Tricks Will Make You a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这些NPM技巧将使你成为一名职业选手</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/these-npm-tricks-will-make-you-a-pro-1373e7fd34f7?source=collection_archive---------14-----------------------#2021-08-05">https://javascript.plainenglish.io/these-npm-tricks-will-make-you-a-pro-1373e7fd34f7?source=collection_archive---------14-----------------------#2021-08-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/ee510df4805834a7fd172c1f3b16fcfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iB5LDktjRTNLZAlP"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@cytonn_photography?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Cytonn Photography</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6a2e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我一路走来学到了很多我希望一开始就知道的东西。让我们称之为技巧吧，这些技巧极大地改善了我与NPM合作的方式。今天我想和你分享我的5大诀窍。</p><h1 id="b40e" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">1.节省时间。使用快捷方式</h1><p id="29d9" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">这是最有用的特性之一，但是没有很好的记录。一个命令的快捷方式可能看起来微不足道，但事实是你将会少写30-60%的代码。你可以把节省下来的时间花在有意义的事情上，比如多喝一杯咖啡，☕️？</p><p id="8f39" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">不写<code class="fe mb mc md me b">npm <strong class="kc io">install</strong> &lt;package&gt;</code> <br/>而写<code class="fe mb mc md me b">npm <strong class="kc io">i</strong> &lt;package&gt;</code>。</p><p id="e865" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">把<code class="fe mb mc md me b">npm <strong class="kc io">install</strong> <strong class="kc io">--save</strong> &lt;package&gt;</code>写成<code class="fe mb mc md me b">npm <strong class="kc io">i -S</strong> &lt;package&gt;</code>而不是<br/>。</p><p id="e6a8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">把<code class="fe mb mc md me b">npm <strong class="kc io">install</strong> <strong class="kc io">--save-dev</strong> &lt;package&gt;</code>写成<code class="fe mb mc md me b">npm <strong class="kc io">i -D</strong> &lt;package&gt;</code>而不是<br/>。</p><p id="01b8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">而不是<code class="fe mb mc md me b">npm <strong class="kc io">install</strong> <strong class="kc io">--global</strong> &lt;package&gt;</code> <br/>写<code class="fe mb mc md me b">npm <strong class="kc io">i -G</strong> &lt;package&gt;</code>。</p><p id="342a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">？奖金捷径！想给你的同事留下深刻印象吗？？它来了…</p><p id="2b2e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">不写<code class="fe mb mc md me b">npm <strong class="kc io">test</strong></code> <br/>而写<code class="fe mb mc md me b">npm <strong class="kc io">t</strong></code>。</p><h1 id="93e6" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">2.在一个命令中安装多个软件包</h1><p id="89eb" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">能写一行为什么要写多行？？如果你对你的软件包了如指掌，最快的选择是把它们全部安装在一行程序中，但是要小心！一个拼错的包，整个命令都会失败。如果你不确定名字，就一个一个地安装。</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="8985" class="mn kz in me b gy mo mp l mq mr">npm i -S react redux react-redux</span></pre><h1 id="1f1e" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">3.安装不同来源的软件包</h1><p id="1263" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">默认情况下，运行<code class="fe mb mc md me b">npm-install</code>时，https://registry.npmjs.org<em class="ms">NPM-registry</em>(<a class="ae jz" href="https://registry.npmjs.org/" rel="noopener ugc nofollow" target="_blank"/>)会安装NPM的最新版本</p><p id="2b58" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但还有更多！NPM也可以从其他来源安装软件包，比如URL或tarball文件。</p><p id="2159" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当您创建自己的包或对现有包进行拉式请求时，这个特性非常强大。比如你有自己的<a class="ae jz" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a>的fork，你可以直接从你的fork安装包。<em class="ms">(把</em> <code class="fe mb mc md me b"><em class="ms">username</em></code> <em class="ms">改成你在GitHub上的用户名。)</em></p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="07d5" class="mn kz in me b gy mo mp l mq mr">npm i</span></pre><p id="3411" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">更好的是，如果您使用的是GitHub存储库，您可以使用以下快捷方式:</p><p id="0e2e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mb mc md me b">npm i <strong class="kc io">username/redux</strong></code></p><p id="73d3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">还有呢！您也可以从特定的分支安装软件包。在测试未来版本时非常有用。只需在末尾加上<code class="fe mb mc md me b">#</code>和分支名称即可。</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="daba" class="mn kz in me b gy mo mp l mq mr">npm i username/redux#</span></pre><p id="b86f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">？奖金捷径！你不是在用GitHub吗？别担心，BitBucket和GitLab也有快捷方式:</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="caaa" class="mn kz in me b gy mo mp l mq mr">npm i bitbucket:username/myrepositorynpm i gitlab:username/myrepository</span></pre><h1 id="052a" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">4.链接包</h1><p id="dbfe" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">有时你想在一个项目上工作，同时开发它的包。对于您想要尝试的每一个更改，将您的包提交并推送到远程存储库是令人厌烦的！？相反，你可以使用一个叫做<em class="ms">包链接</em>的特性。</p><p id="45dd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ms">包链接</em>的工作原理是在node_modules文件夹中创建一个符号链接，指向包的本地存储库。通过这种方式，您可以在本地编辑包，并且所做的更改会立即在使用它的项目中生效。</p><p id="bdf1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">理解<em class="ms">包链接</em>最简单的方法就是尝试一下！假设我们有一个名为<code class="fe mb mc md me b">myproject</code>的项目和一个名为<code class="fe mb mc md me b">mypackage</code>的包。我们希望<code class="fe mb mc md me b">mypackage</code>成为<code class="fe mb mc md me b">myproject</code>的附属品。</p><p id="046a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">去文件夹<code class="fe mb mc md me b">mypackage</code>写</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="e0c3" class="mn kz in me b gy mo mp l mq mr">npm link</span></pre><p id="17ac" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">不错！现在，去文件夹<code class="fe mb mc md me b">myproject</code>写</p><p id="e836" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mb mc md me b">npm link mypackage</code></p><p id="e45b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">搞定了。仔细看看文件夹结构</p><figure class="mf mg mh mi gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mt"><img src="../Images/b67f2e029adb911fbaa1761bc75e1f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*z8ljYtZQwEQPi-6l.png"/></div></div></figure><p id="fafb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如您所见，<code class="fe mb mc md me b">myproject/node_modules/mypackage</code>现在是文件夹<code class="fe mb mc md me b">mypackage</code>的符号链接！现在您可以继续开发<code class="fe mb mc md me b">mypackage</code>，您所做的所有更改都将在<code class="fe mb mc md me b">myproject</code>中立即生效。</p><h1 id="edbd" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">5.监控和清理您的项目</h1><p id="7dd0" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">为了解决问题并使依赖关系树和最终的包尽可能小，在安装包时理解发生了什么是很重要的。</p><p id="9cb4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">首先，我们需要对依赖树有一个很好的概述，以及实际上已经安装了哪些包版本。使用命令<code class="fe mb mc md me b">npm list</code>。添加标志<code class="fe mb mc md me b">--depth=0</code>以仅列出顶层包，添加<code class="fe mb mc md me b">-g</code>以列出您的全局包。</p><p id="c66a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mb mc md me b">npm list --depth=0 -g</code></p><figure class="mf mg mh mi gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/175a2ec6bc2151fc03cf2b31beeccfd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LiHrWkiz7wQOdJQk.png"/></div></div></figure><p id="426e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">NPM擅长动态维护自己和展平依赖树，但是在发布之前对你的项目进行重复数据删除总是一个好习惯。它可能会为您删除一些包。</p><p id="e122" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mb mc md me b">npm dedupe</code></p><p id="7dff" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这也是一个很好的想法，让您的过时和丢失的软件包有一个很好的概述。很难不喜欢这种精心组织的圆柱和圣诞氛围的配色方案？？</p><p id="bbe5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mb mc md me b">npm outdated</code></p><figure class="mf mg mh mi gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mv"><img src="../Images/02a6cc3aaa2d4c6bb1298f5eaf333b61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kRgpiwEZN3lXNYuH.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">The outdated list is really beautiful!</figcaption></figure><p id="64b4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您得到很多红色的行，您需要运行<code class="fe mb mc md me b">npm update</code>来根据您的package.json将您的包更新到最新的版本，这在<strong class="kc io"> wanted </strong>列中也有说明</p><p id="9752" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mb mc md me b">npm update</code></p><p id="3a08" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">太好了！现在，如果您再次运行<code class="fe mb mc md me b">npm oudated</code>，所有红色的行应该会消失。</p><figure class="mf mg mh mi gt jo gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/7b76387d05469e32ce4d16893f662868.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/0*uA1XCtJ95RjeATpL.png"/></div></figure><p id="810c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您在package.json中的版本前面使用插入符号<code class="fe mb mc md me b">^</code>,主要版本将不会更新(因此出现黄色行)。这很好，因为更新到一个新的主要版本可能会有突破性的变化。</p><p id="a878" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你还想把所有东西都更新到最新版本，可以使用工具<code class="fe mb mc md me b">npm-update-all</code>。就像在项目文件夹中运行这个命令一样简单。</p><p id="8417" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mb mc md me b">npx npm-update-all</code></p><p id="4eda" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">酷！现在您已经获得了所有依赖项的最新版本。您的package.json也更新了。⚠️意识到⚠️的突破性变化</p><figure class="mf mg mh mi gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mx"><img src="../Images/225643f612518ed588efd8953dfd140d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eOPhUb6HzCtzjWwg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">As you can see, npm-update-all will update all your packages to the latest version.</figcaption></figure><p id="e0de" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这些是我给NPM的建议！如果你有更多的技巧和诀窍想要分享，请在下面添加评论！</p><p id="944f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ms">更多内容请看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ms">plain English . io</em></strong></a></p></div></div>    
</body>
</html>