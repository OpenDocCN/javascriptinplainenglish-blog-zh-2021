# AJAX 实现的 5 个简单实践

> 原文：<https://javascript.plainenglish.io/5-simple-practices-for-ajax-implementations-6cb825a35b0b?source=collection_archive---------17----------------------->

## AJAX 的注意事项

![](img/df8d391a51e11c2f12bcbf99cee0db35.png)

Photo by [Luke Peters](https://unsplash.com/@lukepeters?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

AJAX 是我在 web 开发中见过的最好的概念之一。基础很简单，也很容易使用。有很多 AJAX 框架，比如 jQuery、Prototype 和 back base。这些框架帮助您轻松创建 AJAX 应用程序。但是 AJAX 真的有那么好吗？不是，但是如果你用对了，就是！

在本文中，我希望与 web 开发人员和设计人员分享我对 AJAX 的看法及其可能性，以及为什么 AJAX 在几种情况下是错误的。

# 案例一。页面加载

网站和通过 AJAX 动态加载页面是怎么回事？想切换到另一个页面却没有真正的页面切换是不是有点奇怪？

当然，我喜欢内容被动态加载到网站上，这样可以节省我的带宽、时间和烦恼。但是整整一页？这不是没说到点子上吗？

*   首先:你浏览器的后退和前进按钮呢？如果用 AJAX 加载整个页面，它们就没有用了。
*   第二:当用户试图复制网址并发送给朋友时，很有趣。糟糕，加载的页面没有用户期望的内容。
*   第三:搜索引擎不能找到它，因为它不是真正的新页面。

通过 AJAX 加载内容的更好方法是在页面上只加载少量信息。如果用户希望访问另一个页面，让浏览器转到另一个页面。

*   在页面的一小部分加载内容并不是一件坏事。如果您有一个包含选项卡式内容的容器，那么用 AJAX 加载其他选项卡的内容很容易，这不成问题。
*   在 AJAX 中加载整个页面只是过度使用了功能，并真正错过了 web 浏览的要点。

# 案例二。内容管理器

能够使用 AJAX 在网页上调整您的 web 档案信息是很酷的。快速反馈、快速加载时间和便利性。但是真的安全吗？

我见过一些网站，在这些网站上，对服务器的 HTTP 调用包含了他们想要配置的部分的键和值。

*   这意味着将要调整的记录已经定义。
*   这意味着您还可以更改数据库中其他行的信息。

为什么？

您需要知道配置文件的哪些部分可以调整，如果它只适用于试图配置其信息的用户，为什么您需要一个键来告诉服务器要调整哪些记录？

例如，在 PHP 中，只需很少的努力就可以记住一个会话中的值。这样，您就知道哪个用户正在使用网站，如果您在 AJAX 服务器端页面中打开会话，您仍然可以读取该会话。它很容易判断要更新哪条记录，并且不允许用户在您的系统中捣乱。

如果您确实想发送一个 key + value，这在某些情况下可能是需要的(比如插入一个注释)，一定要检查服务器端脚本中给定的值。我不能对人们说得太多，但是请确保试图插入/更新数据的用户能够访问这些数据。

这也适用于普通表单，但是调整 AJAX 请求对大多数用户来说更难。尽管如此，还是有可能的！所以要保持警惕。

# 案例三。一键更新

这是我喜欢 AJAX 的一点。网站上的投票按钮，Twitter 上的关注按钮，删除条目按钮，等等。只需点击一次而无需刷新页面的便利性令人惊叹。它如此简单，却又如此强大。如果你正在使用这样的东西，请记住第二种情况。

# 案例 4。内容加载

动态加载最重要的事情之一是:它必须很快。向服务器发送请求并不总是要占用大部分时间，但是加载响应可能是一件非常痛苦的事情。

保持反应干净和小。我见过有人在回复中返回 HTML 的例子(我过去也有过这种感觉)。这样，他们将调整容器的 innerHTML。在最坏的情况下，他们会加载一个全新的页面(就像第一种情况)。

要解决这个问题，请使用 JSON 或类似的东西。JSON 帮助您将服务器端变量转换为 Javascript 变量。服务器给出的响应是 Javascript 变量，供 Javascript 读取。JSON 从 5.2.0 版本开始就在 PHP 中实现了，很容易使用。

不要把 HTML 还给你的网页，而是信息数组。这有助于保持你的网站的介绍和计算彼此分开。在 Javascript 中调整 DOM。

# 案例 5。外部服务

当您使用外部服务和提要在服务器端脚本中构建网页时，您依赖于外部服务。这也可能导致页面加载速度比需要的慢。这就是为什么 AJAX 是加载外部服务的理想选择。

加载页面后，从外部来源加载信息。这将防止页面的其余部分加载缓慢，并让信息在准备好的时候很容易地进入页面。

# 结论

我希望我已经给出了我对 AJAX 以及如何使用它的观点。如果你想讨论我所说的事情，请这样做！