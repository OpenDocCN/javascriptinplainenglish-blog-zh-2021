<html>
<head>
<title>QR Code and Barcode Reader App using React Native Expo</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React Native Expo的二维码和条形码阅读器应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/qr-code-and-barcode-reader-app-using-react-native-expo-856ce6ce1df4?source=collection_archive---------1-----------------------#2021-08-28">https://javascript.plainenglish.io/qr-code-and-barcode-reader-app-using-react-native-expo-856ce6ce1df4?source=collection_archive---------1-----------------------#2021-08-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="d41e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">React本地世博会项目</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/772528d9c40e9eaced54af6fa1a4ecfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UUsmGKqrs6c2TR3H-8evgA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">QR code and Bar code Scanner in React Native</figcaption></figure><p id="5514" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">当你浏览Google play商店时，你可以看到有许多应用程序只是为了读取二维码和条形码。众所周知，二维码或条形码有一些隐藏的信息。你只需要一个完美的工具来破解这些信息。</p><p id="8ea4" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">现在，我们准备做这样一个app。你可以把它作为你的主流应用程序，在play store上发布，可以是很酷的风格，也可以是一个附带项目。这是我从一个自由职业项目中得到的。喝杯咖啡，让我们开始吧。</p><p id="ba53" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这个项目的视频教程在这里:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lo lp l"/></div></figure><h1 id="29e8" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">设置和安装</h1><ul class=""><li id="a2ec" class="mi mj in ku b kv mk ky ml lb mm lf mn lj mo ln mp mq mr ms bi translated">初始化项目</li></ul><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="9ddd" class="my lr in mu b gy mz na l nb nc">expo init ReaderApp</span></pre><ul class=""><li id="6fc8" class="mi mj in ku b kv kw ky kz lb nd lf ne lj nf ln mp mq mr ms bi translated">选择空白的javascript模板并安装所有的javascript依赖项</li><li id="3685" class="mi mj in ku b kv ng ky nh lb ni lf nj lj nk ln mp mq mr ms bi translated">移动到父目录。安装所需的软件包</li></ul><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="cd26" class="my lr in mu b gy mz na l nb nc">npm install expo-barcode-scanner</span></pre><ul class=""><li id="fb25" class="mi mj in ku b kv kw ky kz lb nd lf ne lj nf ln mp mq mr ms bi translated">完成的</li></ul></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><h1 id="a817" class="lq lr in bd ls lt ns lv lw lx nt lz ma jt nu ju mc jw nv jx me jz nw ka mg mh bi translated">二维码代码(React Native Expo)</h1><p id="74ee" class="pw-post-body-paragraph ks kt in ku b kv mk jo kx ky ml jr la lb nx ld le lf ny lh li lj nz ll lm ln ig bi translated"><strong class="ku io"> Scanner.js </strong></p><ul class=""><li id="7528" class="mi mj in ku b kv kw ky kz lb nd lf ne lj nf ln mp mq mr ms bi translated">导入所需的包</li></ul><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="0a8a" class="my lr in mu b gy mz na l nb nc">import React, { useState, useEffect } from 'react';<br/>import { Text, View, StyleSheet, Button } from 'react-native';<br/>import { BarCodeScanner } from 'expo-barcode-scanner';</span></pre><ul class=""><li id="a1d5" class="mi mj in ku b kv kw ky kz lb nd lf ne lj nf ln mp mq mr ms bi translated">现在在扫描仪函数内部。</li></ul><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="60a4" class="my lr in mu b gy mz na l nb nc">const [hasPermission, setHasPermission] = useState(null);<br/>const [scanned, setScanned] = useState(false);</span><span id="1f73" class="my lr in mu b gy oa na l nb nc">useEffect(() =&gt; {<br/>    (async () =&gt; {<br/>      const { status } = await BarCodeScanner.requestPermissionsAsync();<br/>      setHasPermission(status === 'granted');<br/>    })();<br/>  }, []);</span><span id="21ab" class="my lr in mu b gy oa na l nb nc">const handleBarCodeScanned = ({ type, data }) =&gt; {<br/>    setScanned(true);<br/>    alert(`Bar code with type ${type} and data ${data} has been scanned!`);<br/>  };</span><span id="0064" class="my lr in mu b gy oa na l nb nc">if (hasPermission === null) {<br/>    return &lt;Text&gt;Requesting for camera permission&lt;/Text&gt;;<br/>}<br/>if (hasPermission === false) {<br/>    return &lt;Text&gt;No access to camera&lt;/Text&gt;;<br/>}</span></pre><p id="b21c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我们从一些反应钩子开始。我在这里使用了两个react钩子。第一个用于摄像头访问，另一个用于扫描。相机权限的初始状态为null，因为我们希望用户允许它。当用户允许照相机许可时，空状态将把他们的状态从空改变为许可授予状态。这个新状态将存储在“setHasPermission”中。</p><p id="9faf" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我们还使用了useEffect钩子。您可以在这个钩子中添加一个空数组，因为它是第二个参数。这告诉React你的效果不依赖于道具或状态的任何值，所以它永远不需要重新运行。</p><p id="c63d" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">接下来，我们使用一个箭头函数来处理扫描仪。当我们扫描二维码或条形码时，我们需要类型和数据作为信息。所以，相应地补充说。</p><ul class=""><li id="86e8" class="mi mj in ku b kv kw ky kz lb nd lf ne lj nf ln mp mq mr ms bi translated">视角</li></ul><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="994a" class="my lr in mu b gy mz na l nb nc">return (<br/>    &lt;View style={styles.container}&gt;<br/>      &lt;BarCodeScanner<br/>        onBarCodeScanned={scanned ? undefined : handleBarCodeScanned}<br/>        style={StyleSheet.absoluteFillObject}<br/>      /&gt;<br/>      {scanned &amp;&amp; &lt;Button title={'Tap to Scan Again'} onPress={() =&gt; setScanned(false)} /&gt;}<br/>    &lt;/View&gt;<br/>  );</span></pre><p id="3440" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">返回扫描仪函数，并相应地设置它们的样式。这是二维码阅读器的简单原始代码。您可以相应地运行它们。</p><p id="8107" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我添加了react-navigation 6，让它变得更加动态。我用了stack navigator。正如您在特征图像中看到的。</p><p id="a8bd" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">你可以在这里</strong>  <strong class="ku io">拥有完整的GitHub代码访问</strong> <a class="ae ob" href="https://github.com/imrohit007/Qr-code-reader-react-native-expo-" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io">。</strong></a></p><h1 id="244c" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">条形码扫描仪支持的格式(IOS和Android)</h1><p id="2ed4" class="pw-post-body-paragraph ks kt in ku b kv mk jo kx ky ml jr la lb nx ld le lf ny lh li lj nz ll lm ln ig bi translated">根据官方文档，这些是支持的格式:</p><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="fe40" class="my lr in mu b gy mz na l nb nc">qr<br/>upc_e<br/>pdf417<br/>interleaved2of5<br/>ean8<br/>ean13<br/>datamatrix<br/>code39mod43<br/>code128<br/>code93<br/>code39<br/>codabar<br/>aztec</span></pre><p id="a1e5" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">感谢您的阅读。如果这篇文章听起来信息量很大，那就鼓掌直到你的手流血，并与你的社区分享。</p></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><p id="73c2" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">你好，我叫Rohit Kumar Thakur。我对自由职业者持开放态度。我构建了<strong class="ku io"> react原生项目</strong>，目前正在开发<strong class="ku io"> Python Django </strong>。随时联系我(<strong class="ku io">freelance.rohit7@gmail.com</strong>)</p></div></div>    
</body>
</html>