<html>
<head>
<title>React App Routing with Wouter — Redirect, Default Route, and Base Path</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">对应用路由和Wouter做出反应-重定向、默认路由和基本路径</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-app-routing-with-wouter-redirect-default-route-and-base-path-3198d436e25a?source=collection_archive---------12-----------------------#2021-03-30">https://javascript.plainenglish.io/react-app-routing-with-wouter-redirect-default-route-and-base-path-3198d436e25a?source=collection_archive---------12-----------------------#2021-03-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7608ccf3a90dc2c2dbf5175be4fc8b47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SAvqbbkb7oE5YzFg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@fotios_photos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lisa Fotios</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e32b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Wouter是一个库，允许我们根据URL加载React组件。</p><p id="e1a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用Wouter向React应用程序添加路由。</p><h1 id="3882" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">Redirect</code></h1><p id="aa6d" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以通过<code class="fe lz ma mb mc b">setLocation</code>功能重定向到另一个路由组件。</p><p id="216e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="ed44" class="mq lc iq mc b gy mr ms l mt mu">import React from "react";<br/>import { Route, Router, useLocation } from "wouter";</span><span id="e8cf" class="mq lc iq mc b gy mv ms l mt mu">const InboxPage = () =&gt; {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;p&gt;inbox&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};<br/>export default function App() {<br/>  const [, setLocation] = useLocation();</span><span id="2d80" class="mq lc iq mc b gy mv ms l mt mu">  return (<br/>    &lt;div&gt;<br/>      &lt;a href="#" onClick={() =&gt; setLocation("/about")}&gt;<br/>        About<br/>      &lt;/a&gt;<br/>      &lt;Router&gt;<br/>        &lt;Route path="/about"&gt;<br/>          &lt;p&gt;About Us&lt;/p&gt;<br/>        &lt;/Route&gt;<br/>        &lt;Route path="/users/:name"&gt;<br/>          {(params) =&gt; &lt;div&gt;Hello, {params.name}!&lt;/div&gt;}<br/>        &lt;/Route&gt;<br/>        &lt;Route path="/inbox" component={InboxPage} /&gt;<br/>      &lt;/Router&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="f850" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe lz ma mb mc b">useLocation</code>钩子返回<code class="fe lz ma mb mc b">setLocation</code>功能。</p><p id="29be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们在<code class="fe lz ma mb mc b">onClick</code>处理程序中调用它，以转到<code class="fe lz ma mb mc b">/about</code>路线。</p><h1 id="9ca6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">匹配动态段</h1><p id="6ee4" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用<code class="fe lz ma mb mc b">useRoute</code>钩来匹配动态路由段。</p><p id="1ac5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们写道:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="dba6" class="mq lc iq mc b gy mr ms l mt mu">import React from "react";<br/>import { Link, Route, Router, useRoute } from "wouter";</span><span id="55f5" class="mq lc iq mc b gy mv ms l mt mu">const InboxPage = () =&gt; {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;p&gt;inbox&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span><span id="6d89" class="mq lc iq mc b gy mv ms l mt mu">const UserPage = () =&gt; {<br/>  const [, params] = useRoute("/users/:name");<br/>  return &lt;div&gt;Hello, {params.name}!&lt;/div&gt;;<br/>};</span><span id="6d38" class="mq lc iq mc b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;Router&gt;<br/>        &lt;Link href="/users/foo"&gt;Users&lt;/Link&gt;<br/>        &lt;Route path="/about"&gt;<br/>          &lt;p&gt;About Us&lt;/p&gt;<br/>        &lt;/Route&gt;<br/>        &lt;Route path="/users/:name" component={UserPage}&gt;&lt;/Route&gt;<br/>        &lt;Route path="/inbox" component={InboxPage} /&gt;<br/>      &lt;/Router&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="7e2c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe lz ma mb mc b">UserPage</code>中，我们用路由模式调用<code class="fe lz ma mb mc b">useroute</code>钩子，从<code class="fe lz ma mb mc b">params</code>ojet中获取<code class="fe lz ma mb mc b">name</code>参数。</p><p id="97e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe lz ma mb mc b">Route</code>的<code class="fe lz ma mb mc b">path</code>道具中，我们有<code class="fe lz ma mb mc b">:name</code>占位符来添加占位符。</p><p id="ec07" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们也可以匹配<code class="fe lz ma mb mc b">/foo?/:bar*</code>模式来添加通配符<code class="fe lz ma mb mc b">bar</code>占位符。</p><p id="c5ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lz ma mb mc b">/foo/baz?</code>有可选的<code class="fe lz ma mb mc b">baz</code>占位符。</p><p id="dc0a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且<code class="fe lz ma mb mc b">/foo/bar+</code><code class="fe lz ma mb mc b">bar</code>为一段或多段也支持匹配。</p><h1 id="14d7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">基本路径</h1><p id="1581" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以用<code class="fe lz ma mb mc b">Router</code>组件的<code class="fe lz ma mb mc b">base</code>道具添加一条基本路径。</p><p id="a1e2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们写道:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="9491" class="mq lc iq mc b gy mr ms l mt mu">import React from "react";<br/>import { Link, Route, Router, useRoute } from "wouter";</span><span id="2343" class="mq lc iq mc b gy mv ms l mt mu">const InboxPage = () =&gt; {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;p&gt;inbox&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span><span id="4666" class="mq lc iq mc b gy mv ms l mt mu">const UserPage = () =&gt; {<br/>  const [, params] = useRoute("/users/:name");<br/>  return &lt;div&gt;Hello, {params.name}!&lt;/div&gt;;<br/>};</span><span id="8afa" class="mq lc iq mc b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;Router base="/app"&gt;<br/>        &lt;Link href="/users/foo"&gt;Users&lt;/Link&gt;<br/>        &lt;Route path="/about"&gt;<br/>          &lt;p&gt;About Us&lt;/p&gt;<br/>        &lt;/Route&gt;<br/>        &lt;Route path="/users/:name" component={UserPage}&gt;&lt;/Route&gt;<br/>        &lt;Route path="/inbox" component={InboxPage} /&gt;<br/>      &lt;/Router&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="34d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将基本路径设置为<code class="fe lz ma mb mc b">/app</code>。</p><h1 id="2a3f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">默认路由</h1><p id="6dc2" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以通过添加<code class="fe lz ma mb mc b">Route</code>组件来添加默认路线，而不需要添加<code class="fe lz ma mb mc b">path</code>道具。</p><p id="47f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们写道:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="4f57" class="mq lc iq mc b gy mr ms l mt mu">import React from "react";<br/>import { Route, Switch } from "wouter";</span><span id="92d4" class="mq lc iq mc b gy mv ms l mt mu">export default function App() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;Switch&gt;<br/>        &lt;Route path="/about"&gt;<br/>          &lt;p&gt;About Us&lt;/p&gt;<br/>        &lt;/Route&gt;<br/>        &lt;Route&gt;Not Found&lt;/Route&gt;<br/>      &lt;/Switch&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="247d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加<code class="fe lz ma mb mc b">Not Found</code>路线。</p><p id="e1a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">默认路由应该总是最后一个，所以在显示未找到的路由之前可以检查其他模式。</p><h1 id="e47d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="984d" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以添加重定向，匹配动态路由段，设置基本路径，并在我们的反应应用程序中添加默认路由。</p><p id="00e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">多内容见于</em> <a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mw">中</em></strong></a></p></div></div>    
</body>
</html>