<html>
<head>
<title>How to test your email in your SaaS with Mailosaur and Cypress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何测试你的电子邮件在你的SaaS与美龙和柏树</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-test-your-email-in-your-saas-with-mailosaur-and-cypress-51f422b40a5f?source=collection_archive---------10-----------------------#2021-12-01">https://javascript.plainenglish.io/how-to-test-your-email-in-your-saas-with-mailosaur-and-cypress-51f422b40a5f?source=collection_archive---------10-----------------------#2021-12-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bbca" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">有了最好的E2E电子邮件测试解决方案，您将不必担心中断发送给用户的电子邮件流！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2bea20505df35f7bec2accf712750d20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eC2iCIY7H-weRVj680tYoA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/tree/main/examples/mailosaur" rel="noopener ugc nofollow" target="_blank">https://github.com/riccardogiorato/cypress-for-everything/tree/main/examples/mailosaur</a></figcaption></figure><h1 id="0901" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">入门指南</h1><p id="3b6e" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">电子邮件对所有用户来说都非常重要，如果你在网上购物，你希望收到一封确认电子邮件，以确保你的钱被正确地转移到你刚买的产品上。</p><p id="86ba" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">同样的关注是需要的，当东西被运送到你或任何其他事件，你希望你的客户收到和电子邮件。</p><p id="42bb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">检查这些东西的简单方法是做一个E2E测试。<br/>我们就用:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/tree/main/examples/mailosaur" rel="noopener ugc nofollow" target="_blank">柏树</a> + <a class="ae kv" href="https://mailosaur.com/" rel="noopener ugc nofollow" target="_blank">麦罗龙</a> +“懈怠网站”做一个。</p><p id="f4b4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">首先，你可以在Mailosaur上免费注册:<a class="ae kv" href="https://mailosaur.com/" rel="noopener ugc nofollow" target="_blank">https://mailosaur.com/</a></p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="e111" class="kw kx iq bd ky kz mw lb lc ld mx lf lg jw my jx li jz mz ka lk kc na kd lm ln bi translated">它是如何工作的？</h1><ol class=""><li id="7ef9" class="nb nc iq lq b lr ls lu lv lx nd mb ne mf nf mj ng nh ni nj bi translated">安装软件包“cypress-mailosaur ”,包括:</li></ol><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="9713" class="np kx iq nl b gy nq nr l ns nt">yarn add cypress-mailosaur</span></pre><p id="438e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">2.用以下代码创建Cypress支持文件:</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="fdd1" class="np kx iq nl b gy nq nr l ns nt">require("cypress-mailosaur");</span></pre><p id="e489" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">或者直接复制这个文件内容:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/blob/main/examples/mailosaur/cypress/support/index.ts" rel="noopener ugc nofollow" target="_blank"> cypress/support/index.ts </a></p><p id="85a7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">3.将<code class="fe nu nv nw nl b">CYPRESS_MAILOSAUR_API_KEY</code>环境变量设置为你的Mailosaur API键，你可以在你的账户设置中找到这个键:<a class="ae kv" href="https://mailosaur.com/app/account/keys" rel="noopener ugc nofollow" target="_blank">https://mailosaur.com/app/account/keys</a></p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="4586" class="kw kx iq bd ky kz mw lb lc ld mx lf lg jw my jx li jz mz ka lk kc na kd lm ln bi translated">测试闲置账户创建的代码:</h1><p id="c16e" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">您需要查看的主要行是第10行、第25行和第39行:</p><ul class=""><li id="9eeb" class="nb nc iq lq b lr mk lu ml lx nx mb ny mf nz mj oa nh ni nj bi translated">第10行:我们在这个<strong class="lq ir">特定的时间戳</strong>为这个特定的测试运行创建一个唯一的电子邮件，其中包含<strong class="lq ir">测试名称</strong>，并且还将您的<strong class="lq ir">邮件服务器Id </strong>与<strong class="lq ir">邮件服务器域</strong>结合起来。<br/>创建的邮件应该是这样的:<br/><em class="ob">“slack-new-account-202111309000 @ fake serverid . mailosaur . net”</em></li><li id="a279" class="nb nc iq lq b lr oc lu od lx oe mb of mf og mj oa nh ni nj bi translated">第25行:在这一行，我们使用创建的电子邮件，通过cypress命令将它从UI发送到slack服务器。</li><li id="bbc3" class="nb nc iq lq b lr oc lu od lx oe mb of mf og mj oa nh ni nj bi translated">第39行:cy.mailosaurGetMessage:您只需要将参数sentTo与您在第10行创建的电子邮件一起传递。如果Mailosaur将在超时内收到此地址的电子邮件，您将得到响应，否则将失败。<br/>您可以根据提交后电子邮件发送给用户的速度自定义超时时间。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="b312" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">你也可以在这里找到完整的代码:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/blob/main/examples/mailosaur/cypress/integration/slack-new-account.ts" rel="noopener ugc nofollow" target="_blank">https://github . com/riccardogiorato/cypress-for-everything/blob/main/examples/mailosaur/cypress/integration/slack-new-account . ts</a></p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="04bf" class="kw kx iq bd ky kz mw lb lc ld mx lf lg jw my jx li jz mz ka lk kc na kd lm ln bi translated">资源</h1><ul class=""><li id="7945" class="nb nc iq lq b lr ls lu lv lx nd mb ne mf nf mj oa nh ni nj bi translated">Slack Mailosaur示例:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/blob/main/examples/mailosaur/cypress/integration/slack-new-account.ts" rel="noopener ugc nofollow" target="_blank">examples/mailo saur/cypress/integration/slack-new-account . ts</a></li><li id="da19" class="nb nc iq lq b lr oc lu od lx oe mb of mf og mj oa nh ni nj bi translated">Mailosaur示例:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything/tree/main/examples/mailosaur" rel="noopener ugc nofollow" target="_blank">https://github . com/riccardogiorato/cypress-for-everything/tree/main/Examples/mailosaur</a></li><li id="2a86" class="nb nc iq lq b lr oc lu od lx oe mb of mf og mj oa nh ni nj bi translated">赛普拉斯示例目录:<a class="ae kv" href="https://github.com/riccardogiorato/cypress-for-everything#examples" rel="noopener ugc nofollow" target="_blank">赛普拉斯万能#示例</a></li></ul><p id="2411" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="ob">更多内容看</em> <a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir"> <em class="ob">说白了。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir"> <em class="ob">免费周报在这里</em> </strong> </a> <em class="ob">。</em></strong></a></p></div></div>    
</body>
</html>