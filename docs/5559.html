<html>
<head>
<title>Cookies in JavaScript: A Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的Cookies:指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/cookies-in-javascript-ac110c0575e0?source=collection_archive---------10-----------------------#2021-11-18">https://javascript.plainenglish.io/cookies-in-javascript-ac110c0575e0?source=collection_archive---------10-----------------------#2021-11-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/edc5065a14ba38f233d59b6fd0165f63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oBNuhRHAp9hX7Umc9GcRbQ.jpeg"/></div></div></figure><p id="397f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">JavaScript中的cookies是什么？</p><p id="8e38" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们举一个例子:如果我们有一个网页或网站，我们想在那里存储用户的信息(注册或登录信息)，以便当用户返回到同一个页面时，服务器知道该用户，并根据需要在页面上呈现用户信息。因此，cookie将用户信息存储在其中。</p><p id="c89a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">创建Cookie: </strong></p><p id="04a0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在JavaScript中，创建cookie是一个非常简单的过程。我们编写下面一行代码来创建一个包含用户信息的cookie。例如，我们希望存储当前登录用户的用户名。</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="d99f" class="lc ld in ky b gy le lf l lg lh">document. cookie = “username = David Warner;”</span></pre><p id="2ba9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面一行创建了一个cookie，名称为username，但是我们还应该提到一个截止日期，即cookie应该在什么时候被删除，如果我们没有提到截止日期，那么cookie将在浏览器关闭时被删除。例如，我们希望在用户注销时删除当前登录用户的cookie。</p><p id="7002" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们可以在创建cookie时提及到期日期，如下所示:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="96d0" class="lc ld in ky b gy le lf l lg lh">document. cookie = “username = David Warner; expires = Thu, 17 Nov 2022 23:00:00 UTC;”</span></pre><p id="1f19" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">或者可以在浏览器关闭时删除。</p><p id="ba6f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">创建cookie时，还需要设置一个属性，即path:</p><p id="79e2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe li lj lk ky b">path=path</code>(如:<code class="fe li lj lk ky b">/</code>、<code class="fe li lj lk ky b">/mydir</code>)，如果没有指定，默认为当前单据位置的当前路径。</p><p id="f245" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我提到path = "/"是因为我想在我的网站上的任何地方访问cookies。</p><p id="2d73" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">删除Cookie: </strong></p><p id="0e3a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">以上，我们已经创建cookie一年了。现在，如果我们想在用户注销时删除cookie，在“注销”按钮的click事件侦听器或您用于注销的任何HTML元素下，我们将编写以下代码:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="a284" class="lc ld in ky b gy le lf l lg lh">document.cookie = "username= ; expires = Thu, 01 Jan 1970 00:00:00 GMT;path=/";</span></pre><p id="aedb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在上面的代码中，cookie的名称(即用户名)被清空，到期日期被设置为过去的日期，cookie被删除。</p><p id="f7a2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">获取Cookie: </strong></p><p id="c601" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要获取当前的cookie，我们只需编写:<code class="fe li lj lk ky b">document.write</code></p><p id="83d7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是我在一个项目中用来创建、获取和删除cookies的代码:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="850e" class="lc ld in ky b gy le lf l lg lh">function createCookie(userKey,r_token){<br/>    let separator = ";" ;<br/>    document.cookie = "user_key=" + userKey + ";expires = Thu, 17 Nov 2022 23:00:00 UTC;path=/";<br/>    document.cookie = "renew_token = " + r_token + ";expires = Thu, 17 Nov 2022 23:00:00 UTC;path=/"<br/><br/>}</span></pre><p id="1b06" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在上面的代码中，我想在cookie中存储两个值，所以我可以使用上面的方法用两个不同的值分别创建两个cookie，或者我们也可以编写下面的代码:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="088a" class="lc ld in ky b gy le lf l lg lh">function createCookie(userKey,r_token){<br/>    let separator = ";" ;<br/>    let values = [userKey,r_token].join(separator);<br/>    document.cookie = "myValues="+values+";expires = Thu, 17 Nov 2022      23:00:00 UTC;"<br/>}</span></pre><p id="c02b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="ll">注销时删除cookie:</em></strong></p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="5821" class="lc ld in ky b gy le lf l lg lh">document.getElementById("logoutBtn").addEventListener("click",function(){<br/>    document.cookie = "user_key= ; expires = Thu, 01 Jan 1970 00:00:00 GMT;path=/";<br/>    document.cookie = "renew_token= ; expires = Thu, 01 Jan 1970 00:00:00 GMT;path=/"<br/><br/>})</span></pre><p id="cc70" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我希望这篇文章有助于理解cookies的概念。</p><p id="55e3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">关注我的博客<a class="ae lm" href="https://webdevlearning.com/" rel="noopener ugc nofollow" target="_blank">webdevlearning.com</a>了解更多的网络开发概念。</p><p id="450a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ll">更多内容请看</em><a class="ae lm" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ll">plain English . io</em></strong></a></p></div></div>    
</body>
</html>