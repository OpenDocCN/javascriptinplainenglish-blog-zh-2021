<html>
<head>
<title>NPM vs Yarn vs PNPM: Which Node.js Package Manager Should You Use?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NPM vs纱vs PNPM:应该用哪个Node.js包管理器？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/npm-yarn-pnpm-which-node-js-package-manager-should-you-use-a2a1378694f7?source=collection_archive---------3-----------------------#2021-07-09">https://javascript.plainenglish.io/npm-yarn-pnpm-which-node-js-package-manager-should-you-use-a2a1378694f7?source=collection_archive---------3-----------------------#2021-07-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b384" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">既然您点击了这篇文章，我假设您已经知道Node.js有几个包管理器——NPM、yarn、pnpm等等。</p><p id="5ff9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是哪一个是最快的，最可靠的，并且提供最好的开发者体验呢？让我们检查一下规格，看看哪一个是最好的！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/a9fbe346efd6bfee1a46d6292b79a75e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oVbLeg1dhHF9PjWY"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@purzlbaum?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Claudio Schwarz</a> on <a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="6db4" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">什么是包管理器？</h1><p id="d883" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">对于那些还不知道什么是软件包管理器的人来说，这是一个很好的起点。</p><p id="a986" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Node.js是围绕包构建的，您可以在需要时安装这些包。为了改善开发人员的体验，各种开发人员已经创建了包管理器来负责这些包的安装、更新和删除。不仅如此，他们还负责处理依赖关系。<br/>假设您安装了一个软件包，但它需要另一个软件包才能正常运行。您的包管理器将查找所需的依赖项并安装它们！这不是很好吗？</p><p id="7fdf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大多数时候，包管理器是基于CLI的，并提供类似于<code class="fe mf mg mh mi b">npm install</code>或<code class="fe mf mg mh mi b">yarn add</code>的命令。</p><p id="2699" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你知道了这些信息，让我们看看你的选择吧！</p><h1 id="3ed4" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">NPM</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mj"><img src="../Images/ea8a4279ede24db87515fac4b3d4b6ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NkC8IYBSzvuelHjw.png"/></div></div></figure><p id="cdf8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lb" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> npm </a>是默认的Node.js包管理器。它随Node.js安装一起提供，是大多数教程中的特色。它在任何方面都不突出，但对大多数人和项目来说是完美的。</p><h2 id="556b" class="mk ld iq bd le ml mm dn li mn mo dp lm jy mp mq lq kc mr ms lu kg mt mu ly mv bi translated">基本命令</h2><p id="8531" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">一些最常用的命令是:</p><ul class=""><li id="2381" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated"><code class="fe mf mg mh mi b">npm install package</code></li><li id="5617" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated"><code class="fe mf mg mh mi b">npm uninstall package</code></li><li id="2d68" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated"><code class="fe mf mg mh mi b">npm update</code></li></ul><h1 id="0e48" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">故事</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nk"><img src="../Images/b676168269da33a43afc97be8f0ee150.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9EDbO7nhlvwBlRRu.png"/></div></div></figure><p id="2ba5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好吧，如果你认识我，那么你已经知道我是一个<a class="ae lb" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank">纱</a>的超级粉丝。我会尽量不偏心，但我不能保证什么😉。<br/>node . js不附带纱线包管理器，需要单独安装。<br/>讽刺的部分来了，我们要用npm装纱… <br/>你可以用<code class="fe mf mg mh mi b">npm install -g yarn</code>装。</p><h2 id="101b" class="mk ld iq bd le ml mm dn li mn mo dp lm jy mp mq lq kc mr ms lu kg mt mu ly mv bi translated">迅速的</h2><p id="7a8f" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">Yarn并行安装你的包，这使得它比npm快很多。</p><h2 id="e3da" class="mk ld iq bd le ml mm dn li mn mo dp lm jy mp mq lq kc mr ms lu kg mt mu ly mv bi translated">工作区</h2><p id="2cf3" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">一个很大的优势是纱线工作空间。一个使monorepos工作更容易的工具。</p><blockquote class="nl nm nn"><p id="9b18" class="jn jo no jp b jq jr js jt ju jv jw jx np jz ka kb nq kd ke kf nr kh ki kj kk ij bi translated">Yarn workspaces旨在使使用<a class="ae lb" href="https://yarnpkg.com/advanced/lexicon#monorepository" rel="noopener ugc nofollow" target="_blank"> monorepos </a>变得简单，以一种更加声明性的方式解决<code class="fe mf mg mh mi b">yarn link</code>的一个主要用例。简而言之，它们允许您的多个项目共同生活在同一个存储库中，并相互交叉引用——对一个项目源代码的任何修改都会立即应用到其他项目中。</p></blockquote><p id="0200" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">工作空间是一个更复杂的主题，但是不要担心，你可以在不久的将来期待一个教程😉</p><h2 id="8127" class="mk ld iq bd le ml mm dn li mn mo dp lm jy mp mq lq kc mr ms lu kg mt mu ly mv bi translated">基本命令</h2><p id="2ec7" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">一些最常用的命令是:</p><ul class=""><li id="2709" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated"><code class="fe mf mg mh mi b">yarn add package</code></li><li id="948b" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated"><code class="fe mf mg mh mi b">yarn remove package</code></li><li id="f96f" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated"><code class="fe mf mg mh mi b">yarn upgrade</code></li></ul><h1 id="4996" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">PNPM</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/ad35d0efe09a22a30b6b9c43a250a4bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/0*L6fwHewlHgnZ21E2.png"/></div></figure><p id="9006" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Pnpm 或performant npm是另一种npm替代方案。顾名思义，它比普通的软件包管理器要快得多。不仅如此，pnpm的磁盘效率也比其他两种更高。<br/>就像纱线一样，我们需要先用npm安装。为此，我们将使用以下命令<code class="fe mf mg mh mi b">npm install -g pnpm</code>。</p><h2 id="81a2" class="mk ld iq bd le ml mm dn li mn mo dp lm jy mp mq lq kc mr ms lu kg mt mu ly mv bi translated">它是如何工作的？</h2><p id="16e8" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">与npm或yarn不同，pnpm只安装一次依赖项。这样，您的项目可以共享依赖项，您将节省大量磁盘空间。</p><p id="052f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看看官方文档中的解释。</p><blockquote class="nl nm nn"><p id="1d9c" class="jn jo no jp b jq jr js jt ju jv jw jx np jz ka kb nq kd ke kf nr kh ki kj kk ij bi translated">1.如果您依赖于依赖项的不同版本，则只有不同的文件才会添加到存储区中。例如，如果它有100个文件，并且一个新版本只在其中一个文件中有变化，<code class="fe mf mg mh mi b">pnpm update</code>将只添加1个新文件到存储中，而不是仅仅为了单一的变化而克隆整个依赖关系。</p><p id="017b" class="jn jo no jp b jq jr js jt ju jv jw jx np jz ka kb nq kd ke kf nr kh ki kj kk ij bi translated">2.所有文件都保存在磁盘上的一个地方。安装软件包时，它们的文件是从那个地方硬链接的，不消耗额外的磁盘空间。这允许您跨项目共享相同版本的依赖项。</p></blockquote><p id="0478" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于这种依赖关系的链接，它也比它的替代品快2倍。通过使用这项技术和一些真正高性能的缓存解决方案，您可以在眨眼之间安装软件包！</p><h2 id="5f59" class="mk ld iq bd le ml mm dn li mn mo dp lm jy mp mq lq kc mr ms lu kg mt mu ly mv bi translated">基本命令</h2><p id="4e75" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">一些最常用的命令是:</p><ul class=""><li id="b873" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated"><code class="fe mf mg mh mi b">pnpm install package</code></li><li id="8f63" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated"><code class="fe mf mg mh mi b">pnpm uninstall package</code></li><li id="efb0" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated"><code class="fe mf mg mh mi b">pnpm update</code></li></ul><p id="a117" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如你所见，pnpm的界面和npm的界面非常相似！</p><h1 id="2c3c" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">你应该用哪一个？</h1><p id="8874" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">一个没有明确答案的难题。正如我已经告诉你的，我更喜欢纱线，但这并不意味着它是最好的…这是一个重要的决定，但至少你现在有了所有你需要的信息！</p><p id="f79b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我必须选择一个，我会这样选择:</p><ul class=""><li id="9835" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated">Npm，用于需要使用标准Node.js安装的基本项目</li><li id="2b51" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">Yarn，用于工作区等更高级的用例</li><li id="a4c8" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">Pnpm，如果磁盘效率对您或您的项目很重要</li></ul></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><p id="1897" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">祝你有丰富的一天！💙</p><p id="8755" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="no">更多内容请看</em><a class="ae lb" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="no">plain English . io</em></strong></a></p></div></div>    
</body>
</html>