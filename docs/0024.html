<html>
<head>
<title>The Curious Case of the SVG</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">奇异的SVG案例</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-curious-case-of-the-svg-17028bdb5286?source=collection_archive---------12-----------------------#2021-01-02">https://javascript.plainenglish.io/the-curious-case-of-the-svg-17028bdb5286?source=collection_archive---------12-----------------------#2021-01-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="407e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">可缩放矢量图形是web的一个独特功能。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/86a8fecbbea51027ececa76ebc9e5c8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mlC9ZFYqbVufLMwdWzbEZQ.jpeg"/></div></div></figure><p id="1957" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果您是一名图形设计师或web开发人员，您应该已经知道SVG有多有用。它们很小，很容易制作，最重要的是，它们允许你为网页创建在任何可能的尺寸下看起来都完美的图像。但是它们也可以用css样式化，并提供多种方法来创建和控制页面中的动画。在这里，我向你展示一些非常简单的想法来开始编辑和制作动画。</p><p id="0478" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当我第一次发现SVG格式时，我对可以在一个网页中以两种方式显示它们感到很困惑。您可以像使用常规图像一样使用它们:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="ecff" class="lp lq in ll b gy lr ls l lt lu">&lt;img src="/img/mylogo.svg"&gt;</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/a69f2c0093c751b158598fbd30967b30.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*QTNG-76VPAU1ny6J-yUNug.png"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk">Medium won’t let you embed an SVG, so but this is what our starter image looks like.</figcaption></figure><p id="4a7f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但是要小心:除非你明确地设置了图像的大小，否则你可能会得到一些不可预知的结果。例如，浏览器可能只是用未调整大小的svg填充窗口。</p><p id="759f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">或者，您可以将文件的文本内容直接放入网页，它将呈现相同的内容:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="f9f5" class="lp lq in ll b gy lr ls l lt lu">&lt;svg ae ma" href="http://www.w3.org/2000/svg" rel="noopener ugc nofollow" target="_blank"&gt;http://www.w3.org/2000/svg"&gt;<br/>  &lt;defs&gt;<br/>    &lt;style&gt;<br/>     .cls-1{fill:#fff;stroke:#231f20;stroke-miterlimit:10;}<br/>    &lt;/style&gt;<br/>  &lt;/defs&gt;<br/>  &lt;g&gt;<br/>   &lt;rect class="cls-1" x="8.58" y="8.58" width="38" height="38"<br/>transform="translate(-11.42 27.58) rotate(-45)"/&gt;<br/>   &lt;rect class="cls-1" x="8.58" y="29.58" width="38" height="38" transform="translate(-26.27 33.73) rotate(-45)"/&gt;<br/>  &lt;/g&gt;<br/>&lt;/svg&gt;</span></pre><blockquote class="mb mc md"><p id="acc2" class="ko kp me kq b kr ks jo kt ku kv jr kw mf ky kz la mg lc ld le mh lg lh li lj ig bi translated">注意，当您在页面中嵌入svg时，您不需要在svg元素中包含<strong class="kq io">xmlns = " http://www . w3 . org/2000/SVG "</strong>——但是在独立文件中使用时，您必须包含。此外，当用作嵌入元素时，css可以在页面中的任何地方定义，而对于独立的svg，css必须嵌入到文档中，如上所示。</p></blockquote><p id="a87e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">以这种方式使用，svg变得非常类似于html。例如，您可以将这个svg制作成一个Vue组件——这是试验SVG功能的一种非常有趣的方式。我已经创建了一个简单的svg演示Vue应用程序，你可以<a class="ae ma" href="https://github.com/davidmold/svg-demo" rel="noopener ugc nofollow" target="_blank">在Github </a>上找到它。如果你熟悉Vue，认识到svg可以是一个独立的Vue组件——甚至是一个组件的一部分——是很重要的，也是很自由的。React和大多数其他框架都可以使用类似的技术。</p><p id="5e33" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在Vue中，css样式是单独添加的，所以在我的演示中，我在单个文件组件中添加了一个单独的样式部分，添加了这些样式:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="6cc5" class="lp lq in ll b gy lr ls l lt lu">&lt;style&gt;<br/>   .cls-1{<br/>    fill:#f00;<br/>    stroke:#231f20;<br/>    stroke-miterlimit:10;<br/>  }<br/>&lt;/style&gt;</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mi"><img src="../Images/0c3f8d2ebbcfbc17ebafffd721221721.png" data-original-src="https://miro.medium.com/v2/resize:fit:322/format:webp/1*gNW694bjl-zlNIkp9NfnLA.png"/></div></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk">Red styling added in Vue stylesheet</figcaption></figure><p id="53fa" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">看着上面简单图形的代码，您可能会想到，您可以仅使用div和css样式在html中创建完全相同的效果，在这种情况下这是正确的——但是SVG提供了更复杂的功能，如绘制曲线，单靠html很难实现。不过，html也是创建插图和动画的好方法，尤其是如果你擅长利用边框和其他效果的话。</p><p id="4425" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果您有一些css经验，您可能想尝试将样式和过渡应用到SVG中的元素。理解svg样式与常规html共享一些属性是很重要的，它们有自己的一堆属性，并且会忽略一些你已经习惯的标准css属性。<a class="ae ma" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element" rel="noopener ugc nofollow" target="_blank"> MDN开发者参考文献</a>是理解svg元素可用选项的一个很好的来源。</p><p id="7f46" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">SVG最吸引人的一点是它们可以包含动画元素。如果你弹出一个<strong class="kq io">动画</strong>元素到另一个元素中(在我们的例子中是一个<strong class="kq io">矩形】</strong>，它将定义和控制那个元素的动画。例如，对于我们简单的徽标，我们可以添加这样一行:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="7720" class="lp lq in ll b gy lr ls l lt lu"><br/>  &lt;svg viewBox="0 0 46 80"&gt;<br/>    &lt;g&gt;<br/>      &lt;rect class="cls-1" x="8.58" y="8.58" width="38" height="38"  transform="translate(-11.42 27.58) rotate(-45)"&gt;</span><span id="601f" class="lp lq in ll b gy mj ls l lt lu">      <strong class="ll io">&lt;animate attributeName="rx" values="0;20;0" dur="5s" repeatCount="indefinite" /&gt;</strong></span><span id="ddec" class="lp lq in ll b gy mj ls l lt lu">      &lt;/rect&gt;<br/>      &lt;rect class="cls-1" x="8.58" y="29.58" width="38" height="38" transform="translate(-26.27 33.73) rotate(-45)"/&gt;<br/>     &lt;/g&gt;<br/>  &lt;/svg&gt;<br/></span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/8fba8cae0078293501a84bc05e7feae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:332/1*DJGVLEIgHoN7iPFEIFum_w.gif"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk">Using the attributeName rx to animate the corner radius of the upper diamond.</figcaption></figure><p id="b3de" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，神奇的是，我们简单的标志变成了动画。你会注意到我们正在制作属性名“rx”的动画。你可能不容易猜到“rx”指的是矩形元素的圆角半径。attributeName指定要制作动画的目标属性。该属性可以是元素的css样式或svg属性。您甚至可以将影响不同属性的多个动画元素添加到同一图形元素中。</p><p id="82f9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">您还可以将<strong class="kq io"> animateTransform </strong>元素添加到任何图形元素中。这将允许您对元素的变换进行动画处理，例如缩放和旋转。</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="ab39" class="lp lq in ll b gy lr ls l lt lu">&lt;svg viewBox="0 0 46 80"&gt;<br/>  &lt;g&gt;<br/>    &lt;rect class="cls-1" x="8.58" y="6" width="38" height="38" transform-origin="27 27"&gt;<br/>      &lt;animate attributeName="rx" values="0;20;0" dur="2s" repeatCount="indefinite" /&gt;<br/>      <strong class="ll io">&lt;animateTransform attributeName="transform" type="rotate" from="0 0 0" to="360 0  0" dur="3s" repeatCount="indefinite" /&gt;</strong><br/>    &lt;/rect&gt;<br/>    &lt;rect class="cls-1" x="8.58" y="29.58" width="38" height="38" transform="translate(-26.27 33.73) rotate(-45)"/&gt;<br/>  &lt;/g&gt;<br/>&lt;/svg&gt;</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/483a0a66abb1642df7eb859f96c9a012.png" data-original-src="https://miro.medium.com/v2/resize:fit:332/1*AqPM-7p8h5IVPNEu-gq6mg.gif"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk">Rotating the upper diamond while changing corner radius</figcaption></figure><p id="c5b2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">正如你从演示中所看到的，只要你理解如何控制svg提供的不同元素，你就可以非常容易地获得一些复杂的效果。</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="313b" class="lp lq in ll b gy lr ls l lt lu">&lt;svg viewBox="0 0 46 80"&gt;<br/>  &lt;g&gt;<br/>    &lt;rect class="cls-1" x="8.58" y="6" width="38" height="38" transform-origin="27 27"&gt;<br/>      &lt;animate attributeName="rx" values="0;20;0" dur="2s" repeatCount="indefinite" /&gt;<br/>      &lt;animateTransform attributeName="transform" type="rotate" from="0 0 0" to="360 0  0" dur="1.5s" repeatCount="indefinite" /&gt;<br/>    <strong class="ll io">&lt;animate attributeName="opacity" values="0;1;0" dur="4s" repeatCount="indefinite" /&gt;</strong><br/>    &lt;/rect&gt;<br/>    &lt;rect class="cls-1" x="8.58" y="29.58" width="38" height="38" transform="translate(-26.27 33.73) rotate(-45)"&gt;<br/>      <strong class="ll io">&lt;animate attributeName="fill" values="#f00;#0f0;#00f;#f00" dur="4s" repeatCount="indefinite" /&gt;</strong><br/>    &lt;/rect&gt;<br/>  &lt;/g&gt;<br/>&lt;/svg&gt;</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/2b40cabe775f6b550464da00d19f3503.png" data-original-src="https://miro.medium.com/v2/resize:fit:332/1*D4wY472i4qAoX0EfpVVajw.gif"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk">Adding opacity and fill color changes</figcaption></figure><p id="dd7d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">您可以将SVG的每个元素、组、属性和样式制作成动画。这种动画也是SMIL的一个子集，它代表同步多媒体集成语言。</p><p id="5407" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">到目前为止，一切顺利。但是我们可以更进一步，因为您还可以使用css动画来使SVG以更神秘的方式移动。例如，通过将以下代码添加到css:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="bab8" class="lp lq in ll b gy lr ls l lt lu">@keyframes stroke-draw {<br/> from {<br/>  stroke-dashoffset: 12;<br/> }<br/> to {<br/>   stroke-dashoffset: 0;<br/> }<br/>}</span><span id="b4bc" class="lp lq in ll b gy mj ls l lt lu">.cls-2{<br/>  fill:#f00;<br/>  stroke:#231f20;<br/>  stroke-miterlimit:10;<br/>  transition:all 0.5s linear;<br/>  stroke-dasharray: 6;<br/>  stroke-dashoffset: 6;<br/>  animation: stroke-draw 0.5s linear alternate infinite;<br/>}</span></pre><p id="c69a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">给第二个菱形分类<strong class="kq io"> cls-2，</strong>它让破折号沿着形状的边缘爬行。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/52823ea5fc5bbf57338450047686af62.png" data-original-src="https://miro.medium.com/v2/resize:fit:332/1*K_Hm-VDWajt4JfFaKl31SQ.gif"/></div></figure><p id="f50d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">你也可以用javascript控制动画和css，让它更上一层楼。看一下<a class="ae ma" href="https://github.com/davidmold/svg-demo" rel="noopener ugc nofollow" target="_blank"> Github库</a>，可以随意下载和玩代码。你不需要使用Vue，并且库也包含一个文件夹，里面有嵌入SVG文件的<a class="ae ma" href="https://github.com/davidmold/svg-demo/tree/main/src/assets" rel="noopener ugc nofollow" target="_blank">演示文件</a>。</p><p id="703b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我所展示的只是非常简单的图形的表面。您可以沿着一条路径制作动画，并创建各种交互式元素。将javascript和svg结合起来，你可以在网页上创建任何你能想到的东西，甚至是复杂的2D游戏和非常漂亮的定制界面。通过避免庞大的图形，使用这些技术构建的页面即使在最慢的网络上也能快速加载。在网上搜索SMIL和SVG动画教程会让你探索更多的想法。</p></div></div>    
</body>
</html>