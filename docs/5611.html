<html>
<head>
<title>How to Create a Custom VS Code Snippet to Scaffold Your React Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建定制的VS代码片段来搭建React组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-custom-vs-code-snippet-to-scaffold-your-react-components-ebace25b6b6f?source=collection_archive---------5-----------------------#2021-11-23">https://javascript.plainenglish.io/how-to-create-a-custom-vs-code-snippet-to-scaffold-your-react-components-ebace25b6b6f?source=collection_archive---------5-----------------------#2021-11-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/360a889f2436c5ca3cf6992b0967ef12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6Hcs1l_2boFXViGe"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@afgprogrammer?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mohammad Rahmani</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e9d0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">正如我在我的<a class="ae jz" href="https://adrianmanduc.medium.com/vs-code-extensions-for-react-frontend-developers-d1c2f878dbe3" rel="noopener">以前的一篇文章</a>中提到的，我总是试图找到工具&amp;技术来帮助我更快更好地编码。除了安装和使用扩展的能力，另一个令人惊叹的VS代码工具是<a class="ae jz" href="https://code.visualstudio.com/docs/editor/userdefinedsnippets" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io">代码片段</strong> </a>。代码片断基本上是一种快捷方式，它允许您对经常重复的代码使用模板(例如导入模块或创建React组件)。</p><blockquote class="ky kz la"><p id="dd2b" class="ka kb lb kc b kd ke kf kg kh ki kj kk lc km kn ko ld kq kr ks le ku kv kw kx ig bi translated">VS代码有一些内置的片段。您可以通过IntelliSense ( <code class="fe lf lg lh li b"><em class="in">Ctrl+Space</em></code>)或从专用的代码片段选择器中使用它们——使用<code class="fe lf lg lh li b"><em class="in">Ctrl+Shift+P</em></code>调出命令面板并选择<strong class="kc io">插入代码片段。</strong></p></blockquote><p id="f21f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我在编写React代码时经常使用的VS代码扩展之一是<a class="ae jz" href="https://marketplace.visualstudio.com/items?itemName=dsznajder.es7-react-js-snippets" rel="noopener ugc nofollow" target="_blank">ES7 React/Redux/graph QL/React-Native snippets</a>。这个扩展依赖于定制的代码片段，使开发人员能够更快地编写代码。最初，我只将其用于导入，但后来慢慢地开始使用其他代码片段，直到我问自己— <em class="lb">如果我可以创建自己的代码片段，满足我的特定需求，会怎么样？</em></p><p id="1656" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我目前的一个项目中，我将Next.js与Typescript和CSS模块(实际上是SCSS)一起使用，我经常发现自己在创建新的React组件时做同样的事情:</p><ol class=""><li id="5ffa" class="lj lk in kc b kd ke kh ki kl ll kp lm kt ln kx lo lp lq lr bi translated">进口反应，</li><li id="3370" class="lj lk in kc b kd ls kh lt kl lu kp lv kt lw kx lo lp lq lr bi translated">导入SCSS模块，</li><li id="ad46" class="lj lk in kc b kd ls kh lt kl lu kp lv kt lw kx lo lp lq lr bi translated">创建道具界面，</li><li id="7803" class="lj lk in kc b kd ls kh lt kl lu kp lv kt lw kx lo lp lq lr bi translated">创建反应组件，</li><li id="5933" class="lj lk in kc b kd ls kh lt kl lu kp lv kt lw kx lo lp lq lr bi translated">破坏道具，</li><li id="5473" class="lj lk in kc b kd ls kh lt kl lu kp lv kt lw kx lo lp lq lr bi translated">返回一个具有<em class="lb">class name</em>T3的<code class="fe lf lg lh li b">div</code>容器，</li><li id="490f" class="lj lk in kc b kd ls kh lt kl lu kp lv kt lw kx lo lp lq lr bi translated">导出React组件。</li></ol><p id="5f4c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们创建一个自动执行此操作的自定义片段:</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/afca1ea7a23a87517e7ace776e12d0c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*B_D3GUzMsHz_z6Us9jFyaQ.gif"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Result</figcaption></figure></div><div class="ab cl mc md hr me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ig ih ii ij ik"><h1 id="0a98" class="mj mk in bd ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bi translated">创建全局代码片段文件</h1><p id="b720" class="pw-post-body-paragraph ka kb in kc b kd nh kf kg kh ni kj kk kl nj kn ko kp nk kr ks kt nl kv kw kx ig bi translated">默认情况下，代码段由以下人员全局共享或限定范围:</p><ul class=""><li id="10cd" class="lj lk in kc b kd ke kh ki kl ll kp lm kt ln kx nm lp lq lr bi translated">编程语言(JS，C++等。)</li><li id="6fca" class="lj lk in kc b kd ls kh lt kl lu kp lv kt lw kx nm lp lq lr bi translated">该项目</li></ul><blockquote class="ky kz la"><p id="565b" class="ka kb lb kc b kd ke kf kg kh ki kj kk lc km kn ko ld kq kr ks le ku kv kw kx ig bi translated">为了简单起见，在这个例子中，我们将创建一个全局代码片段文件，其中只有一个代码片段，但是，对于更高级的用法，请务必查看<a class="ae jz" href="https://code.visualstudio.com/docs/editor/userdefinedsnippets#_snippet-scope" rel="noopener ugc nofollow" target="_blank">文档</a>以正确理解可用选项。</p></blockquote><p id="34ae" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">要创建全局代码片段文件，请转到文件&gt;首选项(或代码&gt;首选项，如果在macOS上)&gt;<strong class="kc io">用户代码片段</strong>，并选择<strong class="kc io">新建全局代码片段文件</strong>选项。为您的文件选择任意名称，然后按<code class="fe lf lg lh li b">Enter</code>。</p><p id="7908" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">将生成一个JSON格式的文件:</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/856785155d8400de3d8d840fb9277a30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KsTf-bP23t9v6aAn3lpdFA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">New global snippets file</figcaption></figure><h1 id="4cba" class="mj mk in bd ml mm no mo mp mq np ms mt mu nq mw mx my nr na nb nc ns ne nf ng bi translated">创建代码片段</h1><p id="44f6" class="pw-post-body-paragraph ka kb in kc b kd nh kf kg kh ni kj kk kl nj kn ko kp nk kr ks kt nl kv kw kx ig bi translated">接下来，用以下代码替换生成文件的内容，并保存更改:</p><figure class="ly lz ma mb gt jo"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Snippet for creating a React component</figcaption></figure><p id="af8e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是怎么回事？起初，它看起来有点乱——让我们深入了解一下:</p><p id="ba94" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如前一节所述，代码片段文件具有JSON格式。这个JSON中的每个键都是一个代码片段的名称，每个代码片段都有以下属性:</p><ul class=""><li id="df74" class="lj lk in kc b kd ke kh ki kl ll kp lm kt ln kx nm lp lq lr bi translated">前缀</li><li id="751d" class="lj lk in kc b kd ls kh lt kl lu kp lv kt lw kx nm lp lq lr bi translated">身体</li><li id="e5e9" class="lj lk in kc b kd ls kh lt kl lu kp lv kt lw kx nm lp lq lr bi translated">描述(可选)</li><li id="5d58" class="lj lk in kc b kd ls kh lt kl lu kp lv kt lw kx nm lp lq lr bi translated">范围(可选)</li></ul><h2 id="d28a" class="nv mk in bd ml nw nx dn mp ny nz dp mt kl oa ob mx kp oc od nb kt oe of nf og bi translated">前缀</h2><p id="c500" class="pw-post-body-paragraph ka kb in kc b kd nh kf kg kh ni kj kk kl nj kn ko kp nk kr ks kt nl kv kw kx ig bi translated">定义用于在IntelliSense中显示代码段的触发词的字符串或字符串数组。</p><h2 id="f489" class="nv mk in bd ml nw nx dn mp ny nz dp mt kl oa ob mx kp oc od nb kt oe of nf og bi translated">身体</h2><p id="bdd7" class="pw-post-body-paragraph ka kb in kc b kd nh kf kg kh ni kj kk kl nj kn ko kp nk kr ks kt nl kv kw kx ig bi translated">这就是有趣的地方。主体是一个字符串或字符串数组，当插入代码片段时，将对其进行连接和格式化。它可以包含特殊语法，包括制表位、占位符、选项、变量等。</p><p id="f8ff" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我们的示例中，我们使用了2个制表位和1个变量:</p><p id="853c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe lf lg lh li b"><strong class="kc io">$1</strong></code> —制表位，用于指定光标位置并允许用户自定义组件的名称</p><p id="c6f0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe lf lg lh li b"><strong class="kc io">$0</strong></code> —制表位最终光标位置</p><p id="0178" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe lf lg lh li b"><strong class="kc io">${TM_FILENAME_BASE}</strong></code> <strong class="kc io"> </strong> —获取当前文件名的变量</p><blockquote class="ky kz la"><p id="308b" class="ka kb lb kc b kd ke kf kg kh ki kj kk lc km kn ko ld kq kr ks le ku kv kw kx ig bi translated">有关主体语法的更详细指南，请在此处参考可用的文档<a class="ae jz" href="https://code.visualstudio.com/docs/editor/userdefinedsnippets#_snippet-syntax" rel="noopener ugc nofollow" target="_blank">。</a></p></blockquote><h2 id="4cbd" class="nv mk in bd ml nw nx dn mp ny nz dp mt kl oa ob mx kp oc od nb kt oe of nf og bi translated">描述</h2><p id="6105" class="pw-post-body-paragraph ka kb in kc b kd nh kf kg kh ni kj kk kl nj kn ko kp nk kr ks kt nl kv kw kx ig bi translated">将由IntelliSense显示的说明字符串。</p><h2 id="8159" class="nv mk in bd ml nw nx dn mp ny nz dp mt kl oa ob mx kp oc od nb kt oe of nf og bi translated">范围</h2><p id="2f4c" class="pw-post-body-paragraph ka kb in kc b kd nh kf kg kh ni kj kk kl nj kn ko kp nk kr ks kt nl kv kw kx ig bi translated">此属性可在全局代码段文件中使用，以指定该代码段应适用的语言。正如您所注意到的，在我们的代码片段中，这个属性丢失了。如果没有指定范围，那么代码片断将对所有语言都可用。</p><h1 id="44d4" class="mj mk in bd ml mm no mo mp mq np ms mt mu nq mw mx my nr na nb nc ns ne nf ng bi translated">使用片段</h1><p id="d78e" class="pw-post-body-paragraph ka kb in kc b kd nh kf kg kh ni kj kk kl nj kn ko kp nk kr ks kt nl kv kw kx ig bi translated">该代码片段现在可以使用了。只需创建一个新的<code class="fe lf lg lh li b">.tsx</code>或<code class="fe lf lg lh li b">.ts</code>文件，并输入触发字(前缀)<code class="fe lf lg lh li b"><strong class="kc io">rfc</strong></code>:</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi oh"><img src="../Images/63802ea6a605dd52bc805cc87b7d63e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kWyuN0Bb3GxnyuJDXMQv5A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Using the custom snippet</figcaption></figure><p id="5076" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">接下来，按<code class="fe lf lg lh li b">Tab</code>、<code class="fe lf lg lh li b">Enter</code>或点击第一个结果，代码片段将被插入:</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/afca1ea7a23a87517e7ace776e12d0c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*B_D3GUzMsHz_z6Us9jFyaQ.gif"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Using the custom snippet</figcaption></figure><p id="37bb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">插入代码片段后，请注意文件名被用作组件的名称。有4个光标(使用<code class="fe lf lg lh li b">$1</code>放置)允许您轻松修改组件名称。通过按tab，您的光标移动到呈现的<code class="fe lf lg lh li b">div</code>(其中<code class="fe lf lg lh li b">$0</code>被放置在代码片段的主体中)。</p><p id="32a9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是一个简单的例子，但是基于您的项目，您可以构建更加复杂的代码片段。</p><p id="19a8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我是VS代码片段的忠实粉丝，最近每天都在使用它们。我认为它们是一个强大的工具，可以提高开发人员的工作效率。</p><p id="ecb8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">另一篇文章你可能也会觉得有用:</p><div class="oi oj gp gr ok ol"><a href="https://adrianmanduc.medium.com/vs-code-extensions-for-react-frontend-developers-d1c2f878dbe3" rel="noopener follow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd io gy z fp oq fr fs or fu fw im bi translated">面向(React)前端开发人员的VS代码扩展</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">为前端开发人员提供的有用的VS代码扩展列表，可以显著提高编写代码的效率。</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">adrianmanduc.medium.com</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz jt ol"/></div></div></a></div><p id="1da4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">编码快乐！</p><p id="bf67" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lb">更多内容看</em> <a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="lb">说白了. io </em> </strong> </a> <strong class="kc io"> <em class="lb">。</em> </strong> <em class="lb">报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="lb">免费每周简讯</em> </strong> </a> <strong class="kc io"> <em class="lb">。</em> </strong></p></div></div>    
</body>
</html>