# 如何在 JavaScript 中使用三元运算符

> 原文：<https://javascript.plainenglish.io/how-to-use-the-ternary-operator-in-javascript-fff9639c48a2?source=collection_archive---------13----------------------->

## 看一看 JavaScript 最有用的工具之一

![](img/e1886242366e69dd94f78afa15e27b23.png)

Photo by [Fatos Bytyqi](https://unsplash.com/@fatosi?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/programming?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

当我开始我的编码之旅时，最令我困惑的概念之一是臭名昭著的三元运算符。我可以根据它的样子认出它，但是从来没有注意过它。我在大学的时候简单了解过，但是从来没有用过。为什么？因为我没看懂。

直到我开始了我的第一份软件开发工作，我才意识到我一直以来都错过了什么。现在我对三元运算符的工作原理有了更好的理解，我在我的所有应用程序中都虔诚地使用它。

因此，我在这里解释什么是三元运算符，它是如何工作的，以及如何在您的应用程序中实现它。

我们开始吧！

# 什么是三元运算符？

三元运算符，或条件运算符，是一个 JavaScript 概念，充当`if-else`语句的快捷方式。我们可以在下面看到一个例子。

`condition ? truthy value : falsy value`

三元运算符有三个操作数。第一个操作数是我们的条件语句。第二个操作数是条件为真时执行的操作，另一个是条件为假时执行的操作。

让我用一个实际例子向您展示这是如何工作的。

JavaScript example without ternary operator

在上面的例子中，我们确定一个数字数组是否包含一个质数，然后将结果记录到控制台。如果我们只关注第`22–26`行中的`if-else`语句，我们会发现这是一个利用三元运算符的绝佳机会。

以上面的`if-else`语句为例，我们可以通过使用三元运算符来转换它，如下所示:

请注意，与使用`if-else`相比，这看起来有多干净。我们不仅减少了一些不必要的代码行，还使我们的代码更具可读性。让我们从上面的片段来分析三元运算符是如何工作的。

在上面的代码片段中，我们首先问了一个问题:我们的变量`prime_exists`是真值吗？这句话后面有一个问号`?`。然后，我们使用冒号`:`来根据条件的值决定执行哪条语句。如果`prime_exists`为真值，则执行第`2`行，否则执行第`3`行。

好了，现在这更有意义了，但是如果我们有一个嵌套的`if-else`语句呢？我们可以用三元运算符来代替它吗？

# 嵌套三元运算符

假设我们有一个包含用户列表的对象数组。假设我们想要检查特定用户的`id`，我们可以这样做:

Nested If-Else statement

注意这个例子中嵌套的`if-else`语句。因为三元运算符是一种快捷方式，所以我们可以利用它来提高可读性。

让我们看看那会是什么样子。

Nested ternary operator example

我知道你可能在想什么，这看起来很混乱，但是不要担心它没有你想的那么糟糕。让我们把它分解成更有意义的东西。

我们可以这样看嵌套的三元运算符:

如果我们的第一个条件为真，那么我们执行下一行代码。如果我们的第一个条件是假的，那么我们跳转到我们的第二个条件，并执行相同的程序，就好像它是一个单一的三元运算符。

当然，我们应该对三元运算符的嵌套深度设置一些限制。即使我们增强了代码的可读性，三元运算符的过度嵌套实际上会使我们的可读性更差。所以我们应该熟悉什么时候可以使用它。

# 何时使用三元运算符

如上所述，如果我们开始在任何情况下都使用三元运算符，我们可能会损害代码的可读性。因此，如果我们有一个深度嵌套的`if-else`语句，那么最好不要使用三元运算符。我的经验是:如果你的`if-else`语句太复杂，或者嵌套不止一次，就让它保持原样。

使用其中一种在性能上几乎没有区别，所以明智地选择使用哪一种就行了。

让我们看看之前的质数例子。您会注意到，在另一段代码中，我们可能会用到三元运算符。

在`forEach()`方法中，我们有另一个`if-else`语句。如果我们尝试在这里使用三元运算符，我们会发现会出现一堆语法错误。这意味着这段代码太复杂，无法使用三元运算符。

但是我们*能做的*，大概是这样的:

注意，通过将代码块移动到它自己的函数中，我们现在可以毫无问题地使用三元运算符了。这看起来有点干净，保持了可读性，但没有过度。

# 结论

我们刚刚看到了如何使用三元运算符作为`if-else`语句的快捷方式。我们发现，通过使用这个操作符，我们可以在不损失任何性能的情况下使代码更具可读性。当然，我们仍然应该小心，不要在任何我们喜欢的地方使用它，只在有意义的地方使用它。

这个概念可能有点混乱，特别是对于那些 JavaScript 新手，但是希望通过阅读这篇文章，它有助于阐明它是如何工作的。

感谢您的阅读，下一期再见。

*更多内容看*[***plain English . io***](http://plainenglish.io)