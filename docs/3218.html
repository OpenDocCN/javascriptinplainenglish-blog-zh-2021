<html>
<head>
<title>Debug Selenium Tests in Docker using VNC Viewer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用VNC浏览器在Docker中调试Selenium测试</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/debug-selenium-tests-in-docker-using-vnc-viewer-de6c58f0f7f2?source=collection_archive---------5-----------------------#2021-07-01">https://javascript.plainenglish.io/debug-selenium-tests-in-docker-using-vnc-viewer-de6c58f0f7f2?source=collection_archive---------5-----------------------#2021-07-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/f6826ac3497028babab8172db5ad4361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zFy8u2mUJ1HsKbAY0DDysA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><a class="ae jz" href="https://youtu.be/SCHs3XMf1yY" rel="noopener ugc nofollow" target="_blank">https://youtu.be/SCHs3XMf1yY</a></figcaption></figure><p id="ea57" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在<a class="ae jz" rel="noopener ugc nofollow" target="_blank" href="/selenium-docker-tutorial-how-to-run-selenium-tests-in-do-8f86b999d318?source=your_stories_page-------------------------------------">之前的帖子</a>中，我们学习了如何将Selenium测试与Docker集成。在本教程中，我们将看看如何集成VNC浏览器与Docker和调试硒测试在Docker使用VNC浏览器。我们还将了解通过VNC浏览器运行测试的重要性。</p><h1 id="fbfd" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">为什么要使用VNC浏览器在Docker中运行Selenium测试？</h1><p id="2d8b" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">最初，当我准备这篇文章时，我打算将标题命名为“使用VNC浏览器在Docker中查看Selenium测试”。因为我认为我们的目标是能够看到在VNC进行的测试。</p><p id="19dd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然而，<strong class="kc io">我们想在VNC浏览器中查看测试的主要原因是能够调试Docker中发生的任何测试问题</strong>。通常，当测试在Docker容器中被触发时，您看不到里面发生的任何事情。但是，在VNC浏览器的帮助下，您可以直观地看到Docker内部到底发生了什么，这使得调试您的测试问题变得更加容易。</p></div><div class="ab cl mb mc hr md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ig ih ii ij ik"><h1 id="9d6d" class="ky kz in bd la lb mi ld le lf mj lh li lj mk ll lm ln ml lp lq lr mm lt lu lv bi translated">先决条件</h1><ul class=""><li id="b54a" class="mn mo in kc b kd lw kh lx kl mp kp mq kt mr kx ms mt mu mv bi translated"><strong class="kc io">安装一个VNC客户端:</strong>我在本教程中使用的是<a class="ae jz" href="https://www.realvnc.com/en/connect/download/viewer/" rel="noopener ugc nofollow" target="_blank"> RealVNC </a></li><li id="32ea" class="mn mo in kc b kd mw kh mx kl my kp mz kt na kx ms mt mu mv bi translated"><strong class="kc io">使用Selenium调试映像:</strong>为了能够看到Docker容器内部的情况，您需要使用安装了VNC服务器的映像。任何以<code class="fe nb nc nd ne b">-debug</code>结尾的<a class="ae jz" href="https://github.com/SeleniumHQ/docker-selenium/tree/selenium-3" rel="noopener ugc nofollow" target="_blank">映像</a>都将安装一个VNC服务器</li><li id="76de" class="mn mo in kc b kd mw kh mx kl my kp mz kt na kx ms mt mu mv bi translated"><strong class="kc io">将外部VNC端口映射到Docker VNC端口(5900): </strong>运行Docker映像时，您需要将本地VNC端口映射到Docker VNC端口(5900)</li></ul></div><div class="ab cl mb mc hr md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ig ih ii ij ik"><h1 id="09e4" class="ky kz in bd la lb mi ld le lf mj lh li lj mk ll lm ln ml lp lq lr mm lt lu lv bi translated"><strong class="ak">运行Selenium独立调试Docker映像</strong></h1><p id="d05d" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">让我们运行selenium/standalone-chrome-debug映像，并用它映射VNC端口</p><pre class="nf ng nh ni gt nj ne nk nl aw nm bi"><span id="7e64" class="nn kz in ne b gy no np l nq nr">docker run -d -p 4444:4444 -p 5900:5900 --shm-size=2g selenium/standalone-chrome-debug:3.141.59-20210607</span></pre><ul class=""><li id="ad6d" class="mn mo in kc b kd ke kh ki kl ns kp nt kt nu kx ms mt mu mv bi translated">-p 4444:4444是本地机器映射到Docker Selenium服务器端口4444的端口</li><li id="2854" class="mn mo in kc b kd mw kh mx kl my kp mz kt na kx ms mt mu mv bi translated">-p 5900:5900是本地VNC服务器映射到Docker VNC服务器的端口</li></ul></div><div class="ab cl mb mc hr md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ig ih ii ij ik"><h1 id="6329" class="ky kz in bd la lb mi ld le lf mj lh li lj mk ll lm ln ml lp lq lr mm lt lu lv bi translated"><strong class="ak">打开皇家VNC客户端</strong></h1><p id="0c15" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">现在我们有了一个映射到端口5900的docker映像，我们可以在VNC查看器中打开该端口。为此，打开RealVNC客户端，键入URL — <em class="nv"> 127.0.0.1:5900，</em>并按回车键。</p><p id="3dcc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当提示输入密码时，键入<em class="nv">秘密</em>并继续。</p><figure class="nf ng nh ni gt jo gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/af542b8520199b3c6c890389bedf38c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*mjLVSZzFvwrYz0vLXqqHMg.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">VNC server pointed to port 5900</figcaption></figure></div><div class="ab cl mb mc hr md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ig ih ii ij ik"><h1 id="fa28" class="ky kz in bd la lb mi ld le lf mj lh li lj mk ll lm ln ml lp lq lr mm lt lu lv bi translated">在Docker中运行测试</h1><p id="bc8e" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">现在是在docker中运行测试的时候了，确保您的测试指向端口4444，因为这是我们为Docker容器设置的(您可以查看我以前的帖子以了解更多信息)。</p><p id="1512" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">运行测试后，您会发现测试可以在VNC查看器中查看。🙌🏼</p><figure class="nf ng nh ni gt jo gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/4c90061f855df9faefba175578d62c5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*-8PNrM4HRB7y6vVJLA7X2w.gif"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Viewing Docker tests in VNC viewer</figcaption></figure></div><div class="ab cl mb mc hr md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ig ih ii ij ik"><p id="b9e6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io">观看下面的视频，了解如何在Docker中执行Selenium测试，并在VNC浏览器中查看—</strong></p><figure class="nf ng nh ni gt jo"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="943e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在下一篇教程中，我将向您展示如何设置Selenium Grid并在Docker中运行它。</p><p id="a88d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢阅读。</p><p id="117d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="nv">更多内容尽在</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="nv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>