<html>
<head>
<title>How to Get a Random Item From a JavaScript Array?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从JavaScript数组中获取随机项？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-a-random-item-from-a-javascript-array-801be95dce13?source=collection_archive---------7-----------------------#2021-11-09">https://javascript.plainenglish.io/how-to-get-a-random-item-from-a-javascript-array-801be95dce13?source=collection_archive---------7-----------------------#2021-11-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b6795cf9ab3d4219f4b651201cf41f62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*foa0Gx0l4olG1ATC"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@austinchan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Austin Chan</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3825" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从JavaScript数组中获取一个随机项是我们有时不得不做的操作。</p><p id="9185" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究从JavaScript数组中获取随机项的方法。</p><h1 id="2820" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数学.随机</h1><p id="32ce" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">Math.random</code>方法从数组中返回一个随机索引。</p><p id="78f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用它从数组中获取一个元素。</p><p id="c9f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1afd" class="mq lc iq mh b gy mr ms l mt mu">const items = [1, 2, 3]<br/>const item = items[Math.floor(Math.random() * items.length)];</span></pre><p id="f27f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于<code class="fe me mf mg mh b">Math.random</code>返回一个介于0和1之间的数字，我们必须将返回的数字乘以<code class="fe me mf mg mh b">items.length</code>来得到一个索引。</p><p id="8eba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们必须使用<code class="fe me mf mg mh b">Math.floor</code>将数字向下舍入到最接近的整数来获得一个索引。</p><h1 id="5046" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">洛达什</h1><p id="2fcc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Lodash有各种方便的方法可以用来从数组中获取一个随机项。</p><p id="131b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">sample</code>方法让我们从一个数组中获得一个随机项。</p><p id="a4b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="17d8" class="mq lc iq mh b gy mr ms l mt mu">const items = [1, 2, 3]<br/>const item = _.sample(items);<br/>console.log(item)</span></pre><p id="14a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只是把我们想从中获取一个项目的数组作为参数传入。</p><p id="5a72" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以使用<code class="fe me mf mg mh b">random</code>方法从0到给定的数字中选择一个随机数。</p><p id="2fbc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="b2fc" class="mq lc iq mh b gy mr ms l mt mu">const items = [1, 2, 3]<br/>const item = items[_.random(items.length - 1)]<br/>console.log(item)</span></pre><p id="b87d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只是传入我们想要得到的范围内的最大值。</p><p id="1cf1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们可以打乱整个数组，并从打乱的数组中选取第一个项目。</p><p id="4c7a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们可以使用<code class="fe me mf mg mh b">shuffle</code>方法。</p><p id="0cb8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e350" class="mq lc iq mh b gy mr ms l mt mu">const items = [1, 2, 3]<br/>const [item] = _.shuffle(items)<br/>console.log(item)</span></pre><p id="43ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">items</code>数组调用<code class="fe me mf mg mh b">shuffle</code>来返回<code class="fe me mf mg mh b">items</code>数组的混洗版本。</p><p id="6b32" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们通过析构得到第一项。</p><h1 id="4206" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">排序洗牌</h1><p id="81da" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们也可以用<code class="fe me mf mg mh b">sort</code>混洗数组。</p><p id="afae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a900" class="mq lc iq mh b gy mr ms l mt mu">const items = [1, 2, 3]<br/>const [item] = items.sort(() =&gt; 0.5 - Math.random())<br/>console.log(item)</span></pre><p id="802d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过使用返回-0.5和0.5之间的数字的回调函数调用<code class="fe me mf mg mh b">sort</code>来打乱数组。</p><p id="14a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这让我们可以打乱一个数组，因为当返回的数是正数时，项目被交换。</p><h1 id="03b8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="3cf0" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有几种方法可以从JavaScript数组中获取随机项。</p><p id="be8a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以使用本地JavaScript方法。</p><p id="fa90" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者我们可以使用Lodash的方便方法来帮助我们。</p><p id="bcef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容请看</em><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>