<html>
<head>
<title>Loading Routes Automatically in Vue 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Vue 3中自动加载路线</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/loading-routes-automatically-in-vue-3-405b2b81d00?source=collection_archive---------8-----------------------#2021-03-02">https://javascript.plainenglish.io/loading-routes-automatically-in-vue-3-405b2b81d00?source=collection_archive---------8-----------------------#2021-03-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5ccf" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在Vue 3中自动加载路线</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7bd9f2c821b86ea1254a3abbd7859fdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a4FHtnUD438aTD-H"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@thisisengineering?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">ThisisEngineering RAEng</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="66cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将学习如何在Vue 3中自动加载路线。</p><p id="e5f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将从头开始设置一个Vue 3应用程序，看看我们如何从一个特定的文件夹中自动加载路线。</p><p id="7c07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">先决条件</strong></p><ul class=""><li id="3011" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">安装Node.js</li><li id="3a16" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">@vue/cli</li></ul><p id="24d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">创建一个Vue 3应用</strong></p><p id="afc4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要用Vue-CLI创建一个新的Vue项目，因此打开您的终端并运行以下命令</p><p id="58fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> Npm </strong></p><pre class="kg kh ki kj gt mg mh mi mj aw mk bi"><span id="3edf" class="ml mm iq mh b gy mn mo l mp mq">npm i -g @vue/cli</span></pre><p id="22a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">纱线</strong></p><pre class="kg kh ki kj gt mg mh mi mj aw mk bi"><span id="9fd3" class="ml mm iq mh b gy mn mo l mp mq">yarn global add @vue/cli</span></pre><p id="95a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要在默认设置上创建Vue 3应用程序，请选择默认Vue 3预览。</p><p id="480f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">vue cli将提示一些问题，您必须使用choose，您可以选择vue-router在我们的应用程序中安装最新的vue-router包，或者我们可以在此过程中稍后安装它。</p><p id="e64b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Vue cli将在auto-routes文件夹中为我们创建包含所有必需包的应用程序</p><p id="18ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">配置路线自动加载</strong></p><p id="25c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您在应用程序设置期间没有安装vue路由器，请运行以下命令来安装vue路由器包。</p><p id="58de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行命令</p><pre class="kg kh ki kj gt mg mh mi mj aw mk bi"><span id="9aba" class="ml mm iq mh b gy mn mo l mp mq">npm install vue-router@next</span></pre><p id="4571" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该命令将安装最新的vue路由器包</p><p id="e224" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们配置vue路由器</p><p id="b88f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<strong class="ky ir"> <em class="mr"> src </em> </strong>文件夹中创建一个名为<strong class="ky ir"> <em class="mr"> router.js </em> </strong>的文件</p><p id="9c81" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个文件将包含我们应用程序的所有路由功能</p><pre class="kg kh ki kj gt mg mh mi mj aw mk bi"><span id="3f00" class="ml mm iq mh b gy mn mo l mp mq"><em class="mr">import</em> { createWebHistory, createRouter } <em class="mr">from</em> ‘vue-router’;</span><span id="3188" class="ml mm iq mh b gy ms mo l mp mq">const routes = [];</span><span id="255b" class="ml mm iq mh b gy ms mo l mp mq">const requireRoutes = require.context(</span><span id="a3ee" class="ml mm iq mh b gy ms mo l mp mq">‘./components’,</span><span id="e39e" class="ml mm iq mh b gy ms mo l mp mq">true,</span><span id="208d" class="ml mm iq mh b gy ms mo l mp mq">/<em class="mr">^</em>(?!.*test).*\.vue<em class="mr">$</em>/is,</span><span id="8fcf" class="ml mm iq mh b gy ms mo l mp mq">);</span><span id="6cb4" class="ml mm iq mh b gy ms mo l mp mq">requireRoutes.keys().forEach((fileName) =&gt; {</span><span id="583d" class="ml mm iq mh b gy ms mo l mp mq">routes.push({</span><span id="0e44" class="ml mm iq mh b gy ms mo l mp mq">…requireRoutes(fileName).default,</span><span id="a147" class="ml mm iq mh b gy ms mo l mp mq">});</span><span id="7c01" class="ml mm iq mh b gy ms mo l mp mq">});</span><span id="764d" class="ml mm iq mh b gy ms mo l mp mq">console.log(routes)</span><span id="98bf" class="ml mm iq mh b gy ms mo l mp mq">const router = createRouter({</span><span id="6eba" class="ml mm iq mh b gy ms mo l mp mq">history: createWebHistory(),</span><span id="724a" class="ml mm iq mh b gy ms mo l mp mq">routes</span><span id="4368" class="ml mm iq mh b gy ms mo l mp mq"><em class="mr">// shorthand routes:routes</em></span><span id="0042" class="ml mm iq mh b gy ms mo l mp mq">});</span><span id="4b51" class="ml mm iq mh b gy ms mo l mp mq"><em class="mr">export</em> <em class="mr">default</em> router;</span></pre><p id="44fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从vue-router，我们将导入两个重要的功能。<strong class="ky ir"> <em class="mr">创建网页历史</em> </strong>和<strong class="ky ir"> <em class="mr">创建路由器。</em>T25】</strong></p><p id="c10a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">创建路由器</strong> —创建路由器</p><p id="bf9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> createWebHistory </strong> —将路由模式设置为历史。</p><p id="cbb2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们将创建一个routes const，这将是一个自动填充对象的数组</p><p id="ec53" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将有一个名为<strong class="ky ir"><em class="mr">require routes</em></strong>的变量，它将接受一个webpack内置功能，允许我们传入一个目录进行搜索。我们稍后将使用regex搜索并返回任何带有。所提供目录中的vue扩展名。</p><p id="a7d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">搜索我们的文件</p><pre class="kg kh ki kj gt mg mh mi mj aw mk bi"><span id="b19e" class="ml mm iq mh b gy mn mo l mp mq">const requireRoutes = require.context(</span><span id="51cf" class="ml mm iq mh b gy ms mo l mp mq">‘./components’,</span><span id="bffc" class="ml mm iq mh b gy ms mo l mp mq">true,</span><span id="fbd9" class="ml mm iq mh b gy ms mo l mp mq">/<em class="mr">^</em>(?!.*test).*\.vue<em class="mr">$</em>/is,</span><span id="d788" class="ml mm iq mh b gy ms mo l mp mq">);</span></pre><p id="f408" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"><em class="mr">require routes</em></strong>将是一个对象，关键字是文件名，值是文件的ID。</p><p id="9928" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">regex代码将在components文件夹中搜索任何带有。vue扩展名，只忽略测试文件。</p><p id="2598" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了确保组件自动加载，请在components文件夹或您选择的任何文件夹中创建它们。</p><p id="964b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将路线自动推送到路线数组</p><pre class="kg kh ki kj gt mg mh mi mj aw mk bi"><span id="e267" class="ml mm iq mh b gy mn mo l mp mq">requireRoutes.keys().forEach((fileName) =&gt; {</span><span id="8ea5" class="ml mm iq mh b gy ms mo l mp mq">routes.push({</span><span id="ef31" class="ml mm iq mh b gy ms mo l mp mq">…requireRoutes(fileName).default,</span><span id="4e22" class="ml mm iq mh b gy ms mo l mp mq">});</span><span id="a3e8" class="ml mm iq mh b gy ms mo l mp mq">});</span></pre><p id="38f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的代码将遍历这些文件，并将它们推入具有各种属性的路由中。</p><p id="5f8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了确保一切正常，我们可以尝试创建一些。组件文件夹中的vue文件。</p><p id="2221" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们可以<strong class="ky ir"><em class="mr"/></strong></p><p id="c7db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我的例子中，您可以看到所有的路由都被自动填充到routes数组中</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/f86c8ef77ef91ebfec3dd1c035af7fd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RwvTVk-ECNsCfsYnfaRbqg.jpeg"/></div></div></figure><p id="fb5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">待记</strong></p><p id="149a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ü确保为您的组件提供一个名称，如下所示，否则将在没有名称的情况下填充路线。</p><pre class="kg kh ki kj gt mg mh mi mj aw mk bi"><span id="a988" class="ml mm iq mh b gy mn mo l mp mq">&lt;script&gt;</span><span id="4b54" class="ml mm iq mh b gy ms mo l mp mq"><em class="mr">export</em> <em class="mr">default</em> {</span><span id="aa38" class="ml mm iq mh b gy ms mo l mp mq"> name: “Footer”,</span><span id="80f7" class="ml mm iq mh b gy ms mo l mp mq"> };</span><span id="edea" class="ml mm iq mh b gy ms mo l mp mq"> &lt;/script&gt;</span></pre><p id="47bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在任何带有。组件文件夹中的vue扩展将被填充到路由中。</p><h2 id="5819" class="ml mm iq bd mu mv mw dn mx my mz dp na lf nb nc nd lj ne nf ng ln nh ni nj nk bi translated">结论</h2><p id="e497" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">简单回顾一下我们已经看到的:</p><ul class=""><li id="57ae" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">从头开始创建vue应用程序</li><li id="9ef8" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">从头开始设置路由</li><li id="c18a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">从特定文件夹自动加载路线</li></ul><p id="fe0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢谢你坚持到现在。我希望你已经学到了一些东西。如果你发现这篇文章有帮助，请考虑分享出来。</p><p id="a6ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">更多阅读</strong></p><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/handle-job-rejections-the-right-way-as-a-developer-99b5658d035b"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">作为一名开发人员，以正确的方式处理工作拒绝</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">作为开发人员，面对工作拒绝的更好方式</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oc l"><div class="od l oe of og oc oh kp nt"/></div></div></a></div></div></div>    
</body>
</html>