<html>
<head>
<title>How Can Tailwind CSS Boost Your Development Experience?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Tailwind CSS如何提升你的开发体验？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-can-tailwind-css-boost-your-development-experience-ed4204500cbd?source=collection_archive---------16-----------------------#2021-05-03">https://javascript.plainenglish.io/how-can-tailwind-css-boost-your-development-experience-ed4204500cbd?source=collection_archive---------16-----------------------#2021-05-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/e0531be19ae86e914180881b71fdf472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OPr0SmHKAw2H6Tir"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Photo by <a class="ae jd" href="https://unsplash.com/@ricaros?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Danial Igdery</a> on <a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><p id="5f57" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用Next.js和Tailwind CSS创建一个签到页面|第1集</p><h1 id="922e" class="lb lc jg bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">介绍</h1><p id="3194" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">作为一名网络开发人员，你应该听说过<a class="ae jd" href="https://stateofjs.com/" rel="noopener ugc nofollow" target="_blank">自2016年以来每年都进行的JavaScript调查</a>。创作者还调查了CSS，<a class="ae jd" href="https://stateofcss.com/" rel="noopener ugc nofollow" target="_blank">CSS调查状态</a>。让我们来看看<a class="ae jd" href="https://2020.stateofcss.com/" rel="noopener ugc nofollow" target="_blank">CSS 2020</a>的状态结果吧！</p><h2 id="2f54" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">CSS 2020的状态</h2><figure class="mr ms mt mu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mq"><img src="../Images/76456be1ca18b94a7739ec6b0f8960bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H4hDjkylgORuZxSxvy5GGg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><em class="mv">Figure 1. CSS Framework Usage ratio rankings from The state of CSS 2020</em></figcaption></figure><p id="e74a" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从调查来看，Bootstrap仍然是使用最多的CSS框架。事实上，Bootstrap是如此强大。它很好地处理了模块化。多年来，它非常流行，非常适合快速项目原型开发。</p><h2 id="2773" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">顺风CSS</h2><figure class="mr ms mt mu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mw"><img src="../Images/81ca1655cdba0b888fbb2df73fd5bc22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tnkg7-R6MSeKF1cFo194rg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><em class="mv">Figure 2. CSS Framework Satisfaction Ratio Rankings from The state of CSS 2020</em></figcaption></figure><p id="bbd6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据上面的图表，<a class="ae jd" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> Tailwind CSS </a>去年的使用量增长最快。整个2019年和2020年的满意度百分比都很惊人。</p><p id="d1ec" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Tailwind CSS是一个实用优先的底层CSS框架。Tailwind CSS和其他框架如<a class="ae jd" href="https://getbootstrap.com/" rel="noopener ugc nofollow" target="_blank"> Bootstrap </a>或<a class="ae jd" href="https://bulma.io/" rel="noopener ugc nofollow" target="_blank">布尔玛</a>有一个根本的区别。与大多数提供预定义组件和元素的CSS框架不同，Tailwind CSS为我们提供了一组庞大的实用程序类来构建组件。</p><figure class="mr ms mt mu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mx"><img src="../Images/db48fb0f955431f907585532a641363f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IlBce9yCOoTx-2xAhC6i6A.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><em class="mv">Figure 3. CSS </em>Methodologies<em class="mv"> Satisfaction Ratio Rankings from The state of CSS 2020</em></figcaption></figure><p id="0cea" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据CSS 2020的状态，效用优先的CSS是最令人满意的CSS方法论。</p><p id="46c9" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个故事中，我们将把Tailwind CSS与Next.js集成在一起。然后，我们将构建一个登录页面，并用这个实用程序优先的CSS框架来设计页面的样式。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="48a2" class="lb lc jg bd ld le nf lg lh li ng lk ll lm nh lo lp lq ni ls lt lu nj lw lx ly bi translated">我们开始吧！</h1><p id="b213" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们没有从头开始一个新的Next.js应用程序，而是将<a class="ae jd" href="https://github.com/rockyliyanlok/nextjs-100" rel="noopener ugc nofollow" target="_blank"> nextjs-100 </a>存储库克隆为样板文件。这个存储库是用一个渐进式web应用程序的基本配置建立的，这个应用程序获得了100%的lighthouse分数。</p><p id="de97" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你错过了，请阅读下面的故事，了解如何设置的细节。</p><div class="ip iq gp gr ir nk"><a href="https://rockyli.medium.com/build-a-pwa-with-next-js-to-achieve-100-lighthouse-score-8bbb86598ed4" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd jh gy z fp np fr fs nq fu fw jf bi translated">用Next.js构建PWA，实现100% lighthouse评分</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">这篇文章讲述了我们如何用Next.js (React.js)构建一个渐进的Web应用程序，并获得100%的分数…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">rockyli.medium.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny ix nk"/></div></div></a></div><h2 id="4476" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">安装顺风CSS</h2><p id="fca8" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">按照顺风CSS网站上的官方指南<a class="ae jd" href="https://tailwindcss.com/docs/guides/nextjs" rel="noopener ugc nofollow" target="_blank">安装顺风CSS包。</a></p><pre class="mr ms mt mu gt nz oa ob oc aw od bi"><span id="ef38" class="me lc jg oa b gy oe of l og oh"># yarn add -D tailwindcss@latest postcss@latest autoprefixer@latest</span></pre><h2 id="4a2e" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">生成配置文件</h2><p id="2fa8" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">接下来，我们需要生成配置文件，<em class="oi"> tailwind.config.js </em>和<em class="oi"> postcss.config.js </em>。</p><pre class="mr ms mt mu gt nz oa ob oc aw od bi"><span id="194c" class="me lc jg oa b gy oe of l og oh"># npx tailwindcss init -p</span></pre><p id="82be" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">执行上述命令后，将创建最小的<em class="oi"> tailwind.config.js </em>和<em class="oi"> postcss.config.js </em>。在<em class="oi"> postcss.config.js </em>中，添加<code class="fe oj ok ol oa b">tailwindcss</code>和<code class="fe oj ok ol oa b">autoprefixer</code>插件。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./<em class="mv">tailwind.config.js</em></figcaption></figure><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./postcss.config.js</figcaption></figure><h2 id="670a" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">包括顺风CSS</h2><p id="4085" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">打开<em class="oi">。/styles/globals.css </em>，Next.js默认生成，包含使用<strong class="kf jh"> @tailwind </strong>指令的<strong class="kf jh"> base </strong>、<strong class="kf jh"> components </strong>和<strong class="kf jh"> utilities </strong>样式。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><em class="mv">./styles/globals.css</em></figcaption></figure><p id="c97b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">确保<em class="oi">。/styles/globals.css </em>被导入到。/ <em class="oi"> pages/_app.js </em>。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./pages/_app.js</figcaption></figure><h2 id="0617" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">将全局样式添加到基础层</h2><p id="0f40" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">然后，用<strong class="kf jh"> @apply </strong>指令将全局样式添加到<strong class="kf jh">基础</strong>层。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="801b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，我们使用全局样式制作了应用程序:</p><ul class=""><li id="6d6b" class="oo op jg kf b kg kh kk kl ko oq ks or kw os la ot ou ov ow bi translated">全宽(<strong class="kf jh"><em class="oi">w-全宽</em> </strong>)</li><li id="12a0" class="oo op jg kf b kg ox kk oy ko oz ks pa kw pb la ot ou ov ow bi translated">最小高度与屏幕高度相同(<strong class="kf jh"> <em class="oi">最小高度屏幕</em> </strong>)</li><li id="8616" class="oo op jg kf b kg ox kk oy ko oz ks pa kw pb la ot ou ov ow bi translated">防止水平滚动(<strong class="kf jh"> <em class="oi">溢出-x-隐藏</em> </strong>)</li><li id="b28b" class="oo op jg kf b kg ox kk oy ko oz ks pa kw pb la ot ou ov ow bi translated">平滑字体(<strong class="kf jh"><em class="oi"/></strong>)</li></ul><h2 id="0a55" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">带有顺风CSS的样式</h2><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./pages/index.js</figcaption></figure><p id="7ec2" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过将<strong class="kf jh"> <em class="oi">文本居中</em> </strong>和<strong class="kf jh"> <em class="oi">文本绿色-500 </em> </strong>类名添加到<code class="fe oj ok ol oa b"><em class="oi">&lt;div&gt;</em></code>，元素将居中对齐，颜色为绿色。</p><figure class="mr ms mt mu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pc"><img src="../Images/42349aa325a73e81ede62798e614bdc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ArDXYUpsy9HFv0i83vTdA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Figure 4. Style with Tailwind CSS</figcaption></figure><h1 id="71f0" class="lb lc jg bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">构建索引页面</h1><p id="f132" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">创建<em class="oi">。/pages/signin.js </em>作为最少元素的签到页面组件。稍后，登录表单将嵌入到该组件中。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./pages/signin.js</figcaption></figure><p id="c99c" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更新索引页面，以便在用户点击<code class="fe oj ok ol oa b">/</code>路径时将他们重定向到登录页面。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./pages/index.js</figcaption></figure><p id="20f3" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的代码中，我们检查了<strong class="kf jh"><em class="oi">getServerSideProps()</em></strong>中的登录状态。如果当前用户可用，则用户对象作为道具被推送到索引组件。否则，用户将被重定向到登录页面。</p><p id="10a4" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<strong class="kf jh"><em class="oi">getServerSideProps()</em></strong>中，我们可以通过返回一个重定向值来重定向用户，而不是用<em class="oi"> res.writeHead </em>重写位置或者用<em class="oi"> next/router </em>重定向用户。</p><h1 id="0a1e" class="lb lc jg bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">构建登录页面</h1><h2 id="8b66" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">导入SVG图像</h2><p id="6111" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要在Next.js组件中显示SVG图像，请安装<em class="oi"> @svgr/webpack </em>包，并在<em class="oi"> next.config.js </em>中添加自定义webpack配置。</p><pre class="mr ms mt mu gt nz oa ob oc aw od bi"><span id="b337" class="me lc jg oa b gy oe of l og oh"># yarn add -D @svgr/webpack</span></pre><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./next.config.js</figcaption></figure><p id="fe9c" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<em class="oi">里。/public/svg/ </em>文件夹，添加Next.js logo和Tailwind CSS logo的svg图片。然后，创建一个组件来呈现徽标。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/SignInLogos/index.js</figcaption></figure><p id="381b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<em class="oi"> @svgr/webpack </em>包，我们可以将SVG图像作为react组件导入。调整SVG图像大小最简单的方法是创建一个目标大小的包装器，并用100%宽度和高度的SVG填充包装器。</p><p id="4fed" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从Tailwind CSS的<a class="ae jd" href="https://tailwindcss.com/docs/width" rel="noopener ugc nofollow" target="_blank">文档</a>中，一个带有<strong class="kf jh"> <em class="oi"> w-{number} </em> </strong>的元素是设置元素宽度的实用程序类。对于<strong class="kf jh"> <em class="oi"> w-10 </em> </strong>类，该元素的宽度为2.5雷姆。因此Next.js SVG包装器的尺寸是2.5 rem x 1.5 rem。</p><p id="d06e" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了给两个徽标之间的<em class="oi"> X </em>添加一些填充，我们使用了非常容易理解的Sizing实用程序类。就像纯CSS中的padding，<strong class="kf jh"><em class="oi">p { t | r | b | l }-{ size }</em></strong>一样，utility类的第二个字符分别代表上、右、下、左。我们甚至可以用x来表示左右两边的填充。尺寸值映射可在<a class="ae jd" href="https://tailwindcss.com/docs/padding" rel="noopener ugc nofollow" target="_blank">文档</a>中找到。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./pages/signin.js</figcaption></figure><p id="e141" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<em class="oi">中。/pages/signin.js </em>，我们创建了一个<code class="fe oj ok ol oa b">card</code>组件来包装<code class="fe oj ok ol oa b">SignInLogos</code>组件。</p><p id="238b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe oj ok ol oa b">card</code>组件在页面上居中。在这里，我们使用响应式实用程序变体来使移动设备和中型设备之间的<code class="fe oj ok ol oa b">card</code>组件风格不同。阴影和圆角实用程序仅在设备宽度大于<strong class="kf jh"> <em class="oi"> md </em> </strong>时适用。</p><h2 id="2c07" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">添加登录标签</h2><p id="fbb8" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">接下来，我们将在页面中添加登录标签，并用Tailwind CSS实用程序类来设计标签的样式。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/SignInLabel/index.js</figcaption></figure><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./pages/signin.js</figcaption></figure><p id="f90b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如您所见，我们在页面中央构建了一个带有<code class="fe oj ok ol oa b">logos</code>和<code class="fe oj ok ol oa b">label</code>的签到卡。</p><figure class="mr ms mt mu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pc"><img src="../Images/f9e0914fe19896dace42ccca420729e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xXEYtz4o2KLmtDbHWELsiw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Figure 5. Sign-In card in the center of the page</figcaption></figure><h1 id="b075" class="lb lc jg bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">构建登录表单</h1><p id="6933" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">登录页面的核心组件是用户可以输入凭证并提交凭证的表单。让我们构建一个在提交前进行验证的登录表单。</p><p id="8075" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于像输入框或按钮这样的小组件，构建React组件听起来有点沉重。使用来自Tailwind CSS的<strong class="kf jh"> @apply </strong>指令，我们可以将多个实用程序类合并到一个CSS组件类中。</p><h2 id="26d4" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">创建输入元素</h2><p id="9a27" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">现在是时候创建带有输入和按钮的登录表单了。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/SignInForm/index.js</figcaption></figure><p id="c847" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在代码片段中，<strong class="kf jh">输入</strong>类被指定为样式化<code class="fe oj ok ol oa b">input</code>标签，我们将通过提取<em class="oi">中的组件来创建该标签。/styles/globals.css </em>。不仅如此，添加<strong class="kf jh">自动完成</strong>属性非常重要，因为浏览器会建议自动完成之前填充的值。</p><p id="5ce1" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还在<code class="fe oj ok ol oa b">form</code>元素中添加了<strong class="kf jh"> noValidate </strong>属性，这意味着表单数据在提交时不应该被验证。否则，将显示html5表单验证错误默认消息。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./styles/globals.css</figcaption></figure><p id="fd94" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<em class="oi">中。/styles/globals.css </em>，将提取组件包装在<strong class="kf jh"> @layer </strong>中，帮助Tailwind知道组件应该放在哪一层。在这种情况下，提取组件将被移动到组件层，没有任何顺序问题。</p><p id="8ada" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是在登录表单中创建的输入元素的结果。</p><figure class="mr ms mt mu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pc"><img src="../Images/6811b7abc520a4383b81193b43826ebb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MSO_IvLpH54GLudSIsgi1w.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Figure 6. Sign-In card with input elements</figcaption></figure><h2 id="5b17" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">在登录表单中创建按钮</h2><p id="2150" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">是时候在登录表单中构建按钮了。与输入实用程序类相同，我们在<em class="oi">中向组件层添加了一个按钮实用程序类。/styles/globals.css </em>。</p><p id="26b0" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们看一下<code class="fe oj ok ol oa b">button</code>实用程序类时，当用户<strong class="kf jh"> <em class="oi">悬停</em> </strong>或<strong class="kf jh"> <em class="oi">聚焦</em> </strong>带有前缀实用程序的组件时，改变样式非常简单。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./styles/global.css</figcaption></figure><p id="5e02" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，颜色实用程序类不包括在自定义按钮实用程序类中。按钮颜色可通过<strong class="kf jh"><em class="oi">text-{ color }-{ level }</em></strong>和<strong class="kf jh"> <em class="oi"> bg-{color} </em> </strong>灵活设置。另外，我们可以执行<strong class="kf jh"><em class="oi">e . prevent default()</em></strong>来防止提交表单并重新加载的默认行为。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/SignInForm/index.js</figcaption></figure><h2 id="ccfd" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">导入登录表单组件</h2><p id="2f02" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">一旦创建了登录表单，我们就可以将组件导入到登录页面中。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./pages/signin.js</figcaption></figure><figure class="mr ms mt mu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pd"><img src="../Images/db2e39d34a687160674a2e3e26660fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8f-MlQWHCUQuxu2-oyRcWw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Figure 7. The Sign-In form</figcaption></figure></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="c330" class="lb lc jg bd ld le nf lg lh li ng lk ll lm nh lo lp lq ni ls lt lu nj lw lx ly bi translated">表单验证</h1><p id="efaa" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在这个部分中，添加了一个包<code class="fe oj ok ol oa b">react-hook-form</code>用于表单验证。</p><pre class="mr ms mt mu gt nz oa ob oc aw od bi"><span id="ffe8" class="me lc jg oa b gy oe of l og oh"># yarn add react-hook-form</span></pre><p id="165e" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">包<code class="fe oj ok ol oa b">react-hook-form</code>是一个定制的钩子，用于我们验证表单数据和显示错误。验证表单有三个主要步骤:</p><ol class=""><li id="ac65" class="oo op jg kf b kg kh kk kl ko oq ks or kw os la pe ou ov ow bi translated">注册要验证的表单数据</li><li id="d2e7" class="oo op jg kf b kg ox kk oy ko oz ks pa kw pb la pe ou ov ow bi translated">添加表单提交处理程序</li><li id="1733" class="oo op jg kf b kg ox kk oy ko oz ks pa kw pb la pe ou ov ow bi translated">显示错误消息</li></ol><p id="cb6c" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些辅助功能都可以在<strong class="kf jh">使用表单</strong>钩子中找到。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/SignInForm/index.js</figcaption></figure><h2 id="c517" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">1.注册要验证的表单数据</h2><p id="d518" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">要注册表单数据字段，请将以下属性添加到email <code class="fe oj ok ol oa b">input</code>标记中。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/SignInForm/index.js</figcaption></figure><p id="87e7" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf jh"> <em class="oi"> register() </em> </strong>方法中的第一个参数是表单数据的<em class="oi">标签名</em>，第二个参数是<em class="oi">验证规则</em>。我们将<strong class="kf jh">要求的</strong>规则放在提交时检查邮件地址是否存在，否则将返回<code class="fe oj ok ol oa b">Enter your email address</code>错误消息。<strong class="kf jh">模式</strong>规则是检查邮件地址格式是否正确，<strong class="kf jh">值</strong>是输入的正则表达式模式，<strong class="kf jh">消息</strong>是表单数据无效时返回的错误消息。</p><h2 id="95c9" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">2.添加表单提交处理程序</h2><p id="0d0c" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><strong class="kf jh"> useForm </strong>钩子中的<strong class="kf jh"><em class="oi">handle submit()</em></strong>函数用于处理表单提交后的验证。创建一个<strong class="kf jh"> <em class="oi"> onSubmit() </em> </strong>回调函数，并用<strong class="kf jh"><em class="oi">handle submit()</em></strong>回调处理程序将其分配给表单标签的<strong class="kf jh"> onSubmit </strong>属性。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/SignInForm/index.js</figcaption></figure><h2 id="b5bd" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">3.显示错误消息</h2><p id="61f7" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">如果表单提交验证失败，来自<strong class="kf jh"> useForm </strong>钩子的<strong class="kf jh"> <em class="oi"> errors </em> </strong>对象会列出所有带有表单数据标签的错误信息。我们只需添加一个<strong class="kf jh"><em class="oi">console . log()</em></strong>来捕捉错误消息，以防表单数据验证失败。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/SignInForm/index.js</figcaption></figure><p id="baa9" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在集成了<code class="fe oj ok ol oa b">react-hook-form</code>之后，如果验证通过，我们就有了表单数据。否则<strong class="kf jh">错误</strong>对象将列出所有错误。</p><figure class="mr ms mt mu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pf"><img src="../Images/4c88d7c32953eef463fcdcb0b1fbb40c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a-QVcjFx0QBF7nq8VqE0ng.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Figure 8. On Sign-In form validation success</figcaption></figure><figure class="mr ms mt mu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pf"><img src="../Images/942221a620f66b64e49af3d34777669f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mGELtzREZzUBjkj_V4r-Mw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Figure 9. On Sign-In form validation failure</figcaption></figure><h2 id="247d" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">创建登录表单输入组件</h2><p id="e674" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">让我们为<em class="oi">中的输入创建一个组件。/components/sign inform/input . js</em>并用新的<code class="fe oj ok ol oa b">Input</code>组件替换<code class="fe oj ok ol oa b">input</code>组件。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><em class="mv">./components/SignInForm/Input.js</em></figcaption></figure><p id="d888" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以用<code class="fe oj ok ol oa b">Input</code>组件替换输入标签。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/InputForm/index.js</figcaption></figure><h1 id="a999" class="lb lc jg bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">检索并显示错误消息</h1><p id="e031" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">一个包<code class="fe oj ok ol oa b">@hookform/error-message</code>可以帮助容易地检索和显示表单验证消息。</p><pre class="mr ms mt mu gt nz oa ob oc aw od bi"><span id="0c1d" class="me lc jg oa b gy oe of l og oh"># yarn add @hookform/error-message</span></pre><p id="abab" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">包中的<code class="fe oj ok ol oa b">ErrorMessage</code>处理来自<strong class="kf jh">使用表单</strong>钩子的错误对象。我们需要做的就是在注册字段和<strong class="kf jh">错误</strong>对象时提供表单标签。我们还添加了一个渲染道具来定制错误消息的样式。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/InputForm/index.js</figcaption></figure><p id="1f3b" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了突出显示表单域，当相应的表单标签名称出现错误消息时，边框颜色也将变为红色。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/InputForm/input.js</figcaption></figure><p id="bb3f" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了在<strong class="kf jh">错误</strong>不为空时添加实用程序类，我们还需要添加<code class="fe oj ok ol oa b">classnames</code>包。</p><pre class="mr ms mt mu gt nz oa ob oc aw od bi"><span id="7c0d" class="me lc jg oa b gy oe of l og oh"># yarn add classnames</span></pre><figure class="mr ms mt mu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pc"><img src="../Images/f3811a9599670b7addf5c2ca0f04e138.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0SUd-awe3kV8cQROgEmrAQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Figure 10. Error messages when form validation failed</figcaption></figure></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="a497" class="lb lc jg bd ld le nf lg lh li ng lk ll lm nh lo lp lq ni ls lt lu nj lw lx ly bi translated">奖金</h1><h2 id="28a8" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">按回车键提交</h2><p id="eac3" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">大多数用户期望在他们填写凭证后点击<strong class="kf jh"> Enter </strong>键等同于表单提交。我认为这是登录表单的必备特性之一。尽管这个特性实现起来并不困难。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/InputForm/index.js</figcaption></figure><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./components/InputForm/index.js</figcaption></figure><p id="1c7c" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe oj ok ol oa b">SignInForm</code>组件中，当组件被挂载时，我们向<em class="oi"> keydown </em>事件添加了一个事件监听器。如果按下<strong class="kf jh"> Enter </strong>键，<code class="fe oj ok ol oa b">Submit</code>按钮将被编程触发并执行表单提交。</p><h2 id="f0bd" class="me lc jg bd ld mf mg dn lh mh mi dp ll ko mj mk lp ks ml mm lt kw mn mo lx mp bi translated">添加Google字体以自定义字体系列</h2><p id="1c9b" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在Tailwind CSS中添加Google字体来定制字体系列非常简单。</p><p id="da4e" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我们可以从<a class="ae jd" href="https://fonts.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌字体</a>中挑选最喜欢的字体和样式。</p><figure class="mr ms mt mu gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi pg"><img src="../Images/c6323267c733a2f9ef1f4c67e186d350.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h5iVfkt6PHfvU1_sjv1RGQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Figure 11. Pick favourite font and styles from Google Fonts</figcaption></figure><p id="3ff6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，从Google fonts中获取导入片段，添加到<em class="oi"> tailwind.config.js </em>中。将指定家庭的CSS规则添加到<strong class="kf jh"><em class="oi">theme . font family</em></strong>中，如下所示。将生成一个实用程序类<strong class="kf jh"> <em class="oi">字体-{字体家族} </em> </strong>。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./tailwind.config.js</figcaption></figure><p id="ccff" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">毕竟，我们可以将字体实用程序类添加到<strong class="kf jh"> <em class="oi"> @layer/base </em> </strong>来设置web应用程序的默认字体系列。</p><figure class="mr ms mt mu gt is"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">./styles/globals.css</figcaption></figure></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="e2d0" class="lb lc jg bd ld le nf lg lh li ng lk ll lm nh lo lp lq ni ls lt lu nj lw lx ly bi translated">结论</h1><p id="8849" class="pw-post-body-paragraph kd ke jg kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">当我们设计组件时，Tailwind CSS提供了不同的体验。尽管Tailwind CSS中没有预构建的组件，但这个框架为开发人员提供了大量的实用程序类来创建更时尚的按钮，而不是CSS框架中的标准UI。</p><p id="fd28" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在下一集，我将演示如何使用Tailwind CSS使web应用程序支持<em class="oi">黑暗主题</em>以及如何为制作进行<em class="oi">优化。</em></p><p id="7bad" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里随意克隆或派生<a class="ae jd" href="https://github.com/rockyliyanlok/nextjs-with-tailwind-css/tree/sign-in-form" rel="noopener ugc nofollow" target="_blank">库</a>。</p><p id="b1c8" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">编码快乐！</p><p id="c52e" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae jd" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="oi">更多内容看plainenglish.io </em> </a></p></div></div>    
</body>
</html>