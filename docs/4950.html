<html>
<head>
<title>Express with TypeScript: Create a REST API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Express with TypeScript:创建REST API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/express-with-typescript-8732e9dc7e2b?source=collection_archive---------4-----------------------#2021-10-06">https://javascript.plainenglish.io/express-with-typescript-8732e9dc7e2b?source=collection_archive---------4-----------------------#2021-10-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/604eb22fd3fba5d43208f117132341b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7nBGkXT1pHaXlKWY"/></div></div></figure><p id="c60e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我们将使用Express和TypeScript创建一个处理JSON数据的REST API。你们应该熟悉Express和JavaScript。让我们看看如何用TypeScript和Express创建一个API。</p><h2 id="74ec" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">让我们把工作分成小块</h2><ul class=""><li id="a67e" class="lm ln in jx b jy lo kc lp kg lq kk lr ko ls ks lt lu lv lw bi translated">在项目中安装和初始化TypeScript</li><li id="286a" class="lm ln in jx b jy lx kc ly kg lz kk ma ko mb ks lt lu lv lw bi translated">创建带有类型批注的空Express项目</li><li id="594e" class="lm ln in jx b jy lx kc ly kg lz kk ma ko mb ks lt lu lv lw bi translated">初始化路线</li><li id="de25" class="lm ln in jx b jy lx kc ly kg lz kk ma ko mb ks lt lu lv lw bi translated">编译和运行</li></ul><h2 id="a80a" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">1.在项目中安装和初始化TypeScript</h2><p id="2a64" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg mc ki kj kk md km kn ko me kq kr ks ig bi translated">这里我们需要从npm注册表安装一个TypeScript模块。我们正在全球范围内安装TypeScript，这样我们就可以在其他项目中使用它，一旦我们的项目被编译，就与这个模块无关了。所以不要把它安装在你的项目中。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mf"><img src="../Images/0d7e353e7268a3ab3add89a64085da18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OaBJja9PcP3itEY48o7olA.png"/></div></div></figure><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="5f84" class="kt ku in ml b gy mp mq l mr ms">npm i typescript -g</span></pre><p id="1634" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们可以通过创建一个<strong class="jx io"> tsconfig </strong>文件来初始化TypeScript。您可以手动创建它，也可以使用下面的命令创建一个带有默认值的<strong class="jx io"> tsconfig </strong>文件。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="fd56" class="kt ku in ml b gy mp mq l mr ms">tsconfig — init</span></pre><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/f9acd06637c9db850946dbff43653bbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*Vzkfm4sqn1Iq3g8KajlEbg.png"/></div></figure><p id="62e4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后我们必须对<strong class="jx io"> tsconfig.json </strong>文件做一些修改。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/e9cbd6e08663afe35dd7fbce64fdec82.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*JIGb5h9Aa2r_JfzB57gfCw.png"/></div></figure><p id="84ff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的改动是要做的。<em class="mv"> outDir </em>表示输出目录，我们的编译将被放置在那里。然后,<em class="mv"> rootDir </em>表示TypeScript编译器的输入文件，也就是您的TypeScript文件。我们将resolveJsonModule标志设为true，因为我们将在API中导入JSON文件。最后，类型被称为节点。</p><h2 id="f6ef" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">2.创建带有类型批注的空Express项目</h2><p id="1aa4" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg mc ki kj kk md km kn ko me kq kr ks ig bi translated">TypeScript已成功初始化，现在我们可以安装所需的模块。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/482d02dcbf189d24f99659d0032746f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*G12fPieAqHIuFrYFqxQ7og.png"/></div></figure><p id="11bd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装所有的模块，当我们在代码中使用它们的时候，我会解释这些模块。我们正在安装一个名为@types/Express的额外模块，以获取Express中使用的默认方法类型。在src目录中创建一个index.ts文件，并初始化Express应用程序。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mx"><img src="../Images/8f7ca3b5bb00151820f4f89a7061193d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ctuKOLYqiE7jPayvWpSknw.png"/></div></div></figure><h2 id="aca5" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">3.初始化路线和功能</h2><p id="00a2" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg mc ki kj kk md km kn ko me kq kr ks ig bi translated">我们的应用程序已经创建并成功运行在端口8000上，然后我们可以初始化分配给它的路由和功能。请求和响应具有在Express中声明的默认类型。</p><figure class="mg mh mi mj gt jo gh gi paragraph-image"><div class="ab gu cl my"><img src="../Images/76dfbc1756c7189d6c8eabde0220b6f5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*jpELCe_rYgGLTijiU8dX4g.png"/></div></figure><h2 id="933d" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">4.编译和运行</h2><p id="a487" class="pw-post-body-paragraph jv jw in jx b jy lo ka kb kc lp ke kf kg mc ki kj kk md km kn ko me kq kr ks ig bi translated">我们写的TypeScript代码必须编译成JavaScript。JavaScript代码可以使用node运行。</p><blockquote class="mz na nb"><p id="8bc8" class="jv jw mv jx b jy jz ka kb kc kd ke kf nc kh ki kj nd kl km kn ne kp kq kr ks ig bi translated">ThermalStressCracking热应力龟裂</p></blockquote><p id="32bd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的脚本编译代码，编译后的js将放在tsconfig.js中提到的outDir中，文件结构是一样的。所以你很容易明白是怎么回事。</p><p id="15c4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">并且有一个直接运行ts文件的快捷方式。您可以使用ts-node模块直接运行TypeScript文件，而无需编译它。</p><blockquote class="mz na nb"><p id="3156" class="jv jw mv jx b jy jz ka kb kc kd ke kf nc kh ki kj nd kl km kn ne kp kq kr ks ig bi translated">ts节点。/src/索引. ts</p></blockquote><div class="nf ng gp gr nh ni"><a href="https://github.com/NaveenkumarMD/Express-with-typescript" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd io gy z fp nn fr fs no fu fw im bi translated">GitHub-NaveenkumarMD/Express-with type script</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">通过在GitHub上创建一个帐户，为NaveenkumarMD/Express-with type script开发做出贡献。</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">github.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw jt ni"/></div></div></a></div><p id="7e6b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，我们的项目准备好了。您可以查看GitHub repo以获取源代码。如果有任何疑问，请在Github上创建问题。</p><p id="40a5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mv">更多内容看</em><a class="ae nx" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>