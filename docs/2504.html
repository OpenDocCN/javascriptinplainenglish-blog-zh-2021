<html>
<head>
<title>How to Format a Date as an ISO-8601 String with Moment.js?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Moment.js将日期格式化为ISO-8601字符串？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-format-a-date-as-an-iso-8601-string-with-moment-js-7c54bcb8695f?source=collection_archive---------9-----------------------#2021-05-23">https://javascript.plainenglish.io/how-to-format-a-date-as-an-iso-8601-string-with-moment-js-7c54bcb8695f?source=collection_archive---------9-----------------------#2021-05-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/54a46cae121864dd03c7296dcaab9ede.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cVYhm3P-7WausEFD"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@erik_brolin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Erik Brolin</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9abe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们可能希望将日期格式化为IS0–8601标准格式。</p><p id="ecfc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将了解如何使用moment.js将日期格式化为ISO-8601字符串。</p><h1 id="2ac9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">The toISOString Method</code></h1><p id="307e" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">Moment.js附带了<code class="fe lz ma mb mc b">toISOString</code>方法，允许我们将日期格式化为ISO-8601格式。</p><p id="e483" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="00b8" class="mq lc iq mc b gy mr ms l mt mu">console.log(moment(new Date(2021, 1, 1)).toISOString())</span></pre><p id="4659" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="da87" class="mq lc iq mc b gy mr ms l mt mu">'2021-02-01T08:00:00.000Z'</span></pre><p id="1e97" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">结果。</p><h1 id="b6ec" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><code class="fe lz ma mb mc b">The format Method</code></h1><p id="e518" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lz ma mb mc b">format</code>方法还允许我们将日期格式化为ISO-8601日期字符串。</p><p id="d1a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="cd17" class="mq lc iq mc b gy mr ms l mt mu">import moment from "moment";<br/>console.log(moment(new Date(2021, 1, 1)).format());</span></pre><p id="728d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到和以前一样的结果。</p><h1 id="02c5" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">时区支持</h1><p id="001c" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以使用Moment Timezone库来添加对时区的支持。</p><p id="a212" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以在应用程序中设置时区，然后使用<code class="fe lz ma mb mc b">toISOString</code>方法将moment对象转换为ISO-8601字符串。</p><p id="e378" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="3d37" class="mq lc iq mc b gy mr ms l mt mu">const moment = require("moment-timezone");<br/>moment().tz("America/Los Angeles");<br/>console.log(moment(new Date(2021, 1, 1)).toISOString(true));</span></pre><p id="65d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后控制台日志记录:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="89b6" class="mq lc iq mc b gy mr ms l mt mu">'2021-02-01T00:00:00.000-08:00'</span></pre><p id="3b36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">结果。</p><h1 id="87d9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">解析ISO-8601日期</h1><p id="62b3" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以用moment.js解析ISO-8601日期</p><p id="745c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mc mn mo aw mp bi"><span id="6d89" class="mq lc iq mc b gy mr ms l mt mu">import moment from "moment";<br/>console.log(moment("2021-01-01", moment.ISO_8601));</span></pre><p id="0bda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们以ISO-8601格式传入一个日期字符串。</p><p id="9efa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们传入常数<code class="fe lz ma mb mc b">moment.ISO_8601</code>让moment知道第一个参数中的日期字符串是ISO-8601日期。</p><h1 id="2f5c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="f3b9" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以在JavaScript代码中用moment.js创建和解析ISO-8601日期字符串。</p><p id="6792" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>