<html>
<head>
<title>How to Remove Empty Elements from an Array in Javascript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Javascript中移除数组中的空元素？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-remove-empty-elements-from-an-array-in-javascript-48647fe2abe7?source=collection_archive---------2-----------------------#2021-10-31">https://javascript.plainenglish.io/how-to-remove-empty-elements-from-an-array-in-javascript-48647fe2abe7?source=collection_archive---------2-----------------------#2021-10-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/652feebde046dcf35f77596b8762cb00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q-kG_etgCcPt7pqB"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@eiskonen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Hans Eiskonen</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5a65" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从JavaScript数组中移除空元素是我们有时不得不做的事情。</p><p id="7e22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何从JavaScript数组中移除空元素。</p><h1 id="0c18" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">数组.原型.过滤器</h1><p id="9057" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用数组实例的<code class="fe me mf mg mh b">filter</code>方法从数组中移除空元素。</p><p id="abeb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要从数组中移除所有的<code class="fe me mf mg mh b">null</code>或<code class="fe me mf mg mh b">undefined</code>元素，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a7ae" class="mq lc iq mh b gy mr ms l mt mu">const array = [0, 1, null, 2, "", 3, undefined, 3, , , , , , 4, , 4, , 5, , 6, , , , ];<br/>const filtered = array.filter((el) =&gt; {<br/>  return el !== null &amp;&amp; typeof el !== 'undefined';<br/>});<br/>console.log(filtered);</span></pre><p id="3758" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">filter</code>方法将数组孔视为<code class="fe me mf mg mh b">undefined</code>。</p><p id="1976" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们应该看到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0022" class="mq lc iq mh b gy mr ms l mt mu">[0, 1, 2, "", 3, 3, 4, 4, 5, 6]</span></pre><p id="93b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为<code class="fe me mf mg mh b">filtered</code>的值。</p><p id="c8e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想删除所有的falsy值，我们可以将<code class="fe me mf mg mh b">Boolean</code>函数传递给<code class="fe me mf mg mh b">filter</code>。</p><p id="65e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1e63" class="mq lc iq mh b gy mr ms l mt mu">const array = [0, 1, null, 2, "", 3, undefined, 3, , , , , , 4, , 4, , 5, , 6, , , , ];<br/>const filtered = array.filter(Boolean);<br/>console.log(filtered);</span></pre><p id="d119" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Falsy值包括<code class="fe me mf mg mh b">null</code>、<code class="fe me mf mg mh b">undefined</code>、0、空字符串、<code class="fe me mf mg mh b">NaN</code>和<code class="fe me mf mg mh b">false</code>。</p><p id="291b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，如果我们将它们传递给<code class="fe me mf mg mh b">Boolean</code>函数，它们将返回<code class="fe me mf mg mh b">false</code>。</p><p id="4d63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe me mf mg mh b">filtered</code>是:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d2bd" class="mq lc iq mh b gy mr ms l mt mu">[1, 2, 3, 3, 4, 4, 5, 6]</span></pre><p id="8747" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们想返回一个只剩下数字的数组，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ceaa" class="mq lc iq mh b gy mr ms l mt mu">const array = [0, 1, null, 2, "", 3, undefined, 3, , , , , , 4, , 4, , 5, , 6, , , , ];<br/>const filtered = array.filter(Number);<br/>console.log(filtered);</span></pre><p id="f341" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到同样的结果。</p><p id="0b3a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="ce8a" class="mq lc iq mh b gy mr ms l mt mu">const array = [0, 1, null, 2, "", 3, undefined, 3, , , , , , 4, , 4, , 5, , 6, , , , ];<br/>const filtered = array.filter(n =&gt; n);<br/>console.log(filtered);</span></pre><p id="dcb2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且还会得到相同的结果，因为回调的返回值将被自动转换为布尔值。</p><h1 id="f779" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">洛达什</h1><p id="5b94" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">Lodash也有一个<code class="fe me mf mg mh b">filter</code>方法，它与原生的<code class="fe me mf mg mh b">filter</code>方法做同样的事情。</p><p id="f1f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="5a42" class="mq lc iq mh b gy mr ms l mt mu">const array = [0, 1, null, 2, "", 3, undefined, 3, , , , , , 4, , 4, , 5, , 6, , , , ];<br/>const filtered = _.filter(array, Boolean);<br/>console.log(filtered);</span></pre><p id="f4d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">过滤掉所有虚假值。</p><p id="ad77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么<code class="fe me mf mg mh b">filtered</code>就是<code class="fe me mf mg mh b">[1, 2, 3, 3, 4, 4, 5, 6]</code>。</p><p id="f008" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它还有一个<code class="fe me mf mg mh b">compact</code>方法，专门用来从数组中删除虚假值。</p><p id="8c4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3973" class="mq lc iq mh b gy mr ms l mt mu">const array = [0, 1, null, 2, "", 3, undefined, 3, , , , , , 4, , 4, , 5, , 6, , , , ];<br/>const filtered = _.compact(array);<br/>console.log(filtered);</span></pre><p id="6328" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到同样的结果。</p><h1 id="17bb" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="5e74" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有多种方法可以用原生数组方法或Lodash从JavaScript数组中移除falsy元素。</p><p id="7a4b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容请看</em><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>