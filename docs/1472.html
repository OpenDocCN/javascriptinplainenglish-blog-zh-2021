<html>
<head>
<title>How To Make a Twitter Bot With Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Node.js制作一个Twitter Bot</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-make-a-twitter-bot-with-node-js-61bb5a154ee?source=collection_archive---------5-----------------------#2021-03-29">https://javascript.plainenglish.io/how-to-make-a-twitter-bot-with-node-js-61bb5a154ee?source=collection_archive---------5-----------------------#2021-03-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1574" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建Twitter机器人的初学者友好指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c539443c54222000df9f59f24183ecae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ezWDcUv83u3PJKWH"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@alexbemore?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alexander Shatov</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5d0f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">编码是达到目的的一种手段，最大的问题是，“什么是目的？”</p><p id="1aca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为初学者，您的第一个编程努力是打印单词“Hello，world！”一个控制台。对于有抱负的程序员来说，这是一个激动人心的壮举，对于那些经验丰富的开发人员来说，这也是学习新编程语言的第一个里程碑。随着教育的继续，您将学习软件架构的基本概念和各种技术，以释放新的语言能力。一路走来，你可能会开始想，“我如何才能把这个应用到现实世界中呢？”当然，除了打印到控制台之外，还有编程的应用。</p><p id="f1d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">嗯，当然有！世界上任何电力驱动的东西都可以通过代码控制，从灯泡到互联网。</p><p id="f219" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">今天，我想向您展示将一些文本打印到控制台的相同逻辑是如何将一些文本打印到Twitter上的tweet的。</p><p id="42ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的目标将是建立一个机器人，每天都像这样发微博，“你好，世界！”一旦你做到了这一点，你的推特机器人就有无限的可能性可以发推特了。</p><h1 id="971c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Twitter开发者</h1><p id="1cb1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">你需要一个推特账号。如果你已经有一个，我建议你做一个新的，专门用作你的Twitter机器人。</p><p id="f782" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的名字叫博顿顿勋爵，你可以跟着他:</p><p id="24f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://twitter.com/LordBottington" rel="noopener ugc nofollow" target="_blank">https://twitter.com/LordBottington</a></p><p id="972e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建帐户后，您需要申请访问Twitter开发者门户。</p><div class="mp mq gp gr mr ms"><a href="https://developer.twitter.com/apply-for-access" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">申请访问- Twitter开发者</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">申请准入。Twitter APIs和工具入门。所有新开发人员必须申请一个开发人员帐户…</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">developer.twitter.com</p></div></div></div></a></div><p id="05b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我的灵感申请。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/073bc1fccf22e68254713876c1b663c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sn4j-QzabIFlO5JqdKLPVA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Screenshot by Author</figcaption></figure><p id="f0ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成后，进入您的设置，将您的权限从默认的只读更改为读取、写入和发送邮件。你需要写权限才能发推特。</p><p id="410e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，您应该重新生成令牌和密钥，以遵守新的写权限。一定要把它们保存在某个地方。</p><h1 id="d710" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">节点. js</h1><p id="b18f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">对于这个机器人，我们将使用Node.js，一个JavaScript运行时引擎。如果你没有安装Node.js，去https://nodejs.org的<a class="ae kv" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank">下载它。如果你用的是Mac，我推荐用Homebrew下载，你可以用下面的命令安装。</a></p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="f918" class="nh lt iq nd b gy ni nj l nk nl">/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span></pre><h1 id="1510" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">开源代码库</h1><p id="9c0c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们将使用GitHub托管我们的代码。</p><div class="mp mq gp gr mr ms"><a href="https://github.com/charlielevine/SirBottingtonOfBotsville#lord-bottington-of-botsville" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">Charlie Levine/SirBottingtonOfBotsville</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">在GitHub上创建一个帐户，为Charlie Levine/SirBottingtonOfBotsville的发展做出贡献。</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">github.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr kp ms"/></div></div></a></div><h1 id="926a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">赫罗库</h1><p id="2523" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">Heroku是一个用于托管Node.js应用程序的用户友好平台。我们将使用它在云中托管我们的机器人，每天都可以在我们这边自动进行任何维护。</p><p id="45c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以在https://heroku.com的<a class="ae kv" href="https://heroku.com." rel="noopener ugc nofollow" target="_blank">创建一个免费账户。</a></p><p id="574a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦你这样做了，为Twitter机器人创建应用程序。</p><h1 id="7e94" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">安装</h1><p id="61f9" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">使用您的终端导航到您的项目将使用的目录，并运行以下命令。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="a5b7" class="nh lt iq nd b gy ni nj l nk nl">npm init</span></pre><p id="3185" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe ns nt nu nd b">package.json</code>中添加一个调用<code class="fe ns nt nu nd b">node index.js</code>的“开始”脚本。另外，添加键值对<code class="fe ns nt nu nd b">“type”: “module”</code>来使用ES6。</p><p id="ff25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装<code class="fe ns nt nu nd b"><strong class="ky ir">dotenv</strong></code>以在我们的本地测试环境中使用环境变量。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="7548" class="nh lt iq nd b gy ni nj l nk nl">npm install dotenv</span></pre><p id="8fbc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装<code class="fe ns nt nu nd b"><strong class="ky ir">twitter</strong></code>用Node.js轻松与Twitter API交互</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="cbaf" class="nh lt iq nd b gy ni nj l nk nl">npm install twitter</span></pre><p id="bd07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">初始化项目的git存储库。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="7b3d" class="nh lt iq nd b gy ni nj l nk nl">git init</span></pre><p id="10bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，添加<code class="fe ns nt nu nd b">.gitignore</code>来忽略<code class="fe ns nt nu nd b">node_modules</code>，它存储我们的NPM包依赖关系，以及<code class="fe ns nt nu nd b">.env</code>，它存储我们的环境变量。</p><p id="ba8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Heroku将安装NPM包依赖项，环境变量将直接存储在Heroku上。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="3969" class="nh lt iq nd b gy ni nj l nk nl">touch .gitignore</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="d026" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们需要粘贴之前从Twitter开发人员门户保存的密钥和令牌。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="a6d1" class="nh lt iq nd b gy ni nj l nk nl">touch .env</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="d89d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保在Heroku上的config vars下的设置中也添加这些环境变量。</p><h1 id="557c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">编写机器人代码</h1><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="2a35" class="nh lt iq nd b gy ni nj l nk nl">touch index.js</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="0583" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，代码很简洁。首先，我们从我们的<code class="fe ns nt nu nd b">.env</code>文件中初始化环境变量，然后我们初始化Twitter客户端对象。</p><p id="500f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从那里，我们调用方法来发送tweet。您可以在这里阅读node-twitter包中的更多方法。</p><div class="mp mq gp gr mr ms"><a href="https://www.npmjs.com/package/twitter" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">推特</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">Twitter REST和流API的异步客户端库。npm安装twitter您将需要有效的…</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">www.npmjs.com</p></div></div><div class="nm l"><div class="nx l no np nq nm nr kp ms"/></div></div></a></div><h1 id="fbcf" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">部署代码</h1><p id="f453" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">将您的代码推送到GitHub，并在Heroku上选择自动部署，现在您需要选择Heroku schedule插件。</p><p id="41a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让它调用<code class="fe ns nt nu nd b">npm start</code>并让它尽可能频繁地运行。</p><h1 id="c457" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">那是一个包裹</h1><p id="9ab4" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">现在你应该有一个全功能的Twitter机器人，每天自己发微博。</p><p id="0ca2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读！</p><p id="c07a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ny nz ep" href="https://medium.com/u/6da6b651e31a?source=post_page-----61bb5a154ee--------------------------------" rel="noopener" target="_blank">查理·莱文</a></p></div></div>    
</body>
</html>