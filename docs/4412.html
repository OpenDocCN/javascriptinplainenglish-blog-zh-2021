<html>
<head>
<title>How to Use React-Native-Image-Picker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用React-Native-Image Picker</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/using-react-native-image-picker-4495776c8bae?source=collection_archive---------0-----------------------#2021-09-03">https://javascript.plainenglish.io/using-react-native-image-picker-4495776c8bae?source=collection_archive---------0-----------------------#2021-09-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="45fc" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何从多媒体资料或照相机中选择媒体</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/9b0290eeb5e481453d1c6361466168dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SMAZw8dckXVbWRj455GxWA.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@rumandraisin?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Lilly Rum</a> on <a class="ae ks" href="https://unsplash.com/s/photos/camera?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="129d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">从图库或相机中挑选图像是使用React native开发应用程序的最流行和最基本的任务之一。我们如何做到这一点？</p><p id="fdce" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">今天，我回来谈谈我们如何轻松地从您的设备库中选择图像或使用相机捕捉照片。我给你介绍一下<code class="fe lp lq lr ls b"><a class="ae ks" href="https://github.com/react-native-image-picker/react-native-image-picker" rel="noopener ugc nofollow" target="_blank">React Native Image Picker</a></code>。</p><p id="88c8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在本文中，我将通过开发一个上传图片的应用程序来展示React Native Image Picker。该应用程序将使我们能够选择和显示照片。</p></div><div class="ab cl lt lu hr lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ig ih ii ij ik"><h1 id="0b42" class="ma mb in bd mc md me mf mg mh mi mj mk jt ml ju mm jw mn jx mo jz mp ka mq mr bi translated">设置项目</h1><p id="328e" class="pw-post-body-paragraph kt ku in kv b kw ms jo ky kz mt jr lb lc mu le lf lg mv li lj lk mw lm ln lo ig bi translated">在开始之前，我需要用下面几行代码创建一个新的React本地项目:</p><pre class="kd ke kf kg gt mx ls my mz aw na bi"><span id="9c0b" class="nb mb in ls b gy nc nd l ne nf">react-native init react_native_image_avatar_picker<br/>cd react_native_image_avatar_picker<br/>npm run ios</span></pre><p id="0078" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">太棒了，我们已经成功创建了React本机应用程序。</p><p id="a8ad" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，我将使用<code class="fe lp lq lr ls b"><a class="ae ks" href="https://github.com/react-native-image-picker/react-native-image-picker" rel="noopener ugc nofollow" target="_blank">React Native Image Picker</a></code>库来实现图像拾取器组件。这是一个React本机模块，允许您从设备库或相机中选择照片/视频。让我们用以下命令安装它:</p><pre class="kd ke kf kg gt mx ls my mz aw na bi"><span id="5c92" class="nb mb in ls b gy nc nd l ne nf">yarn add react-native-image-picker<br/>cd ios &amp;&amp; pod install &amp;&amp; cd ..</span></pre><p id="4add" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">接下来，我们需要给我们的应用<code class="fe lp lq lr ls b">Info.plist</code>添加iOS权限:</p><pre class="kd ke kf kg gt mx ls my mz aw na bi"><span id="7a33" class="nb mb in ls b gy nc nd l ne nf">&lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt;<br/>&lt;string&gt;Your message to user when the photo library is accessed for the first time&lt;/string&gt;<br/>&lt;key&gt;NSCameraUsageDescription&lt;/key&gt;<br/>&lt;string&gt;The camera is accessed for the first time&lt;/string&gt;<br/>&lt;key&gt;NSMicrophoneUsageDescription&lt;/key&gt;<br/>&lt;string&gt;The microphone is accessed for the first time&lt;/string&gt;</span></pre><p id="8d14" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们对Android不要求权限(<code class="fe lp lq lr ls b">saveToPhotos</code>要求权限<a class="ae ks" href="https://github.com/react-native-image-picker/react-native-image-picker#note-on-file-storage" rel="noopener ugc nofollow" target="_blank">检查</a>)。</p><p id="1417" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">之后，如果我们运行应用程序，一切正常，那么我们就可以开始编码了！</p></div><div class="ab cl lt lu hr lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ig ih ii ij ik"><h1 id="005f" class="ma mb in bd mc md me mf mg mh mi mj mk jt ml ju mm jw mn jx mo jz mp ka mq mr bi translated">创建基础应用程序屏幕</h1><p id="8475" class="pw-post-body-paragraph kt ku in kv b kw ms jo ky kz mt jr lb lc mu le lf lg mv li lj lk mw lm ln lo ig bi translated">基本想法是建立一个图像拾取器组件，允许用户从设备的库中上传新照片或通过相机拍摄照片。</p><p id="649f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">首先，我们将使用新的绿色标题和背景更新一个基础应用程序屏幕。让我们创建一个<code class="fe lp lq lr ls b">ImagePickerHeader</code>组件:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="ab41" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">接下来，我将创建一个主<code class="fe lp lq lr ls b">ImagePickerAvatar</code>组件，它允许您上传图像。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="b701" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">结果如下:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ni"><img src="../Images/e96d625e41b24ea00b9ea227f057b5bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ATTaVjK9WRZ9id16ZrGb9Q.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Main Image Avatar Picker Screen</figcaption></figure></div><div class="ab cl lt lu hr lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ig ih ii ij ik"><h1 id="e22f" class="ma mb in bd mc md me mf mg mh mi mj mk jt ml ju mm jw mn jx mo jz mp ka mq mr bi translated">从设备中挑选照片</h1><p id="9728" class="pw-post-body-paragraph kt ku in kv b kw ms jo ky kz mt jr lb lc mu le lf lg mv li lj lk mw lm ln lo ig bi translated">在本教程中，我们将实现两个通过相机选择或捕捉照片的功能。我将使用一个可定制的动画模型，使用<code class="fe lp lq lr ls b"><a class="ae ks" href="https://github.com/react-native-modal/react-native-modal" rel="noopener ugc nofollow" target="_blank">React Native Modal</a></code>包向用户展示两个选项。为此，我们需要安装它:</p><pre class="kd ke kf kg gt mx ls my mz aw na bi"><span id="a0f8" class="nb mb in ls b gy nc nd l ne nf">yarn add react-native-modal</span></pre><p id="505b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">接下来，我将创建一个<code class="fe lp lq lr ls b">ImagePickerModal</code>组件:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="a842" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后但同样重要的是，我们需要实现两个功能:</p><ul class=""><li id="6f9a" class="nj nk in kv b kw kx kz la lc nl lg nm lk nn lo no np nq nr bi translated"><code class="fe lp lq lr ls b">onImageLibraryPress</code> —从库中选择图像</li><li id="f041" class="nj nk in kv b kw ns kz nt lc nu lg nv lk nw lo no np nq nr bi translated"><code class="fe lp lq lr ls b">onCameraPress</code> —使用相机拍照</li></ul><p id="1679" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，让我们更新我们的<code class="fe lp lq lr ls b">App.js</code>文件:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div></figure></div><div class="ab cl lt lu hr lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ig ih ii ij ik"><h1 id="2903" class="ma mb in bd mc md me mf mg mh mi mj mk jt ml ju mm jw mn jx mo jz mp ka mq mr bi translated">让我们演示一下我们的图像拾取器应用程序</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/cee0ebcece0d21bd2f878d7464f27e75.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/1*Tsjxf0ju0OY9EWezKKIY7w.gif"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">React-Native-Image-Avatar-Picker</figcaption></figure><p id="177e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你想检查所有代码，这里有<a class="ae ks" href="https://github.com/Gapur/react-native-image-avatar-picker" rel="noopener ugc nofollow" target="_blank"> Github </a>的链接。</p><p id="b595" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">感谢阅读，希望这篇文章对你有用。编码快乐！</p></div><div class="ab cl lt lu hr lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ig ih ii ij ik"><h1 id="5e48" class="ma mb in bd mc md me mf mg mh mi mj mk jt ml ju mm jw mn jx mo jz mp ka mq mr bi translated">资源</h1><div class="ny nz gp gr oa ob"><a href="https://github.com/react-native-image-picker/react-native-image-picker" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd io gy z fp og fr fs oh fu fw im bi translated">一个react本机模块，允许你…</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">sunrise_over_mountains:一个React本机模块，允许您使用本机UI从设备库中选择媒体…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">github.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op km ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a href="https://github.com/react-native-modal/react-native-modal" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd io gy z fp og fr fs oh fu fw im bi translated">GitHub-React-native-Modal/React-native-Modal:一个增强的、动画的、可定制的React…</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">React Native的增强的、动画的、可定制的模型。-GitHub-react-native-modal/react-native-modal:An…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">github.com</p></div></div><div class="ok l"><div class="oq l om on oo ok op km ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a href="https://github.com/Gapur/react-native-image-avatar-picker" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd io gy z fp og fr fs oh fu fw im bi translated">GitHub-Gapur/React-Native-Image-avatar-Picker:使用React-Native-Image-Picker</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">使用React-Native-Image-Picker为Gapur/react-native-image-avatar-picker开发做出贡献，创建一个…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">github.com</p></div></div><div class="ok l"><div class="or l om on oo ok op km ob"/></div></div></a></div><p id="9758" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="os">更多内容尽在</em><a class="ae ks" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="os">plain English . io</em></strong></a></p></div></div>    
</body>
</html>