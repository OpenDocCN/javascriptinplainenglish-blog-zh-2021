<html>
<head>
<title>How to Use The Autocomplete Component in Material-UI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Material-UI中的自动完成组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-the-autocomplete-component-in-material-ui-11a7132d2b71?source=collection_archive---------1-----------------------#2021-07-12">https://javascript.plainenglish.io/how-to-use-the-autocomplete-component-in-material-ui-11a7132d2b71?source=collection_archive---------1-----------------------#2021-07-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1e5e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用建议选项列表增强您的文本输入</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/80a8d4d373306a0ab5b76835b7f546cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ELCybgqI32zbv9EB"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@christianw?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Christian Wiediger</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fa4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank"> Material-UI </a>是我最喜欢的React UI组件库。几乎所有您想用React构建的东西都有组件。</p><p id="18e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我最近使用的一个组件是自动完成组件。Material-UI文档将自动完成描述为<em class="ls">“一个由一组建议选项增强的普通文本输入。”</em></p><p id="8dd3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有两种版本的自动完成功能可供使用:</p><ul class=""><li id="3db2" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated">组合框—文本输入的值必须从一组预定义的值中选择。</li><li id="1341" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">Free solo —文本输入可以包含任何值，但建议从可能值的列表中选择。</li></ul><p id="8f56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将通过构建一个组合框来看看Material-UI中的自动完成组件。尽管这个组件仍然是实验室的一部分，但它是我能为React找到的最好的自动完成组件。</p></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><h1 id="5035" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">建立</h1><p id="da2a" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">对于这个例子，我们将在一个<code class="fe nl nm nn no b">create-react-app</code>项目中工作。</p><p id="70ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第一步是在项目中安装Material-UI核心包。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="6e1f" class="nt mp iq no b gy nu nv l nw nx">// with npm<br/>npm install @material-ui/core<br/><br/>// with yarn<br/>yarn add @material-ui/core</span></pre><p id="747e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还需要安装材料界面实验室。Material-UI lab托管的组件还没有准备好移动到核心包中。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="f976" class="nt mp iq no b gy nu nv l nw nx">// with npm<br/>npm install @material-ui/lab<br/><br/>// with yarn<br/>yarn add @material-ui/lab</span></pre><p id="8dba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们将从实验室导入<code class="fe nl nm nn no b">Autocomplete</code>组件，从核心包导入<code class="fe nl nm nn no b">TextField</code>组件。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="f7e6" class="nt mp iq no b gy nu nv l nw nx">import React from 'react';<br/>import TextField from '@material-ui/core/TextField';<br/>import Autocomplete from '@material-ui/lab/Autocomplete';<br/>import { nbaTeams } from './nbaTeams';</span></pre><p id="92d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将创建一个数据数组，用作预定义的一组允许值。对于这个例子，我有一个单独的文件，其中包含一个带有id号和球队名称的NBA球队数组。请随意复制或添加您想要使用的任何数据。只要确保数据是一个数组。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><h1 id="e260" class="mo mp iq bd mq mr oa mt mu mv ob mx my jw oc jx na jz od ka nc kc oe kd ne nf bi translated">呈现自动完成组件</h1><p id="ac00" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">我们现在将把<a class="ae kv" href="https://material-ui.com/components/autocomplete/" rel="noopener ugc nofollow" target="_blank">自动完成</a>组件呈现到我们的屏幕上。对于这个例子，我创建了一个名为<code class="fe nl nm nn no b">Autocomplete.js</code>的新文件。在这个文件中，我创建了一个名为<code class="fe nl nm nn no b">NbaAutocomplete</code>的功能组件。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="d0e2" class="nt mp iq no b gy nu nv l nw nx">const NbaAutocomplete = () =&gt; {<br/>  return (<br/>    &lt;Autocomplete<br/>    /&gt;<br/>  );<br/>};</span></pre><p id="cfa5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们像上面那样呈现自动完成组件，我们在屏幕上还看不到任何东西。这是因为我们需要通过一些必需的道具。</p><h2 id="dc75" class="nt mp iq bd mq of og dn mu oh oi dp my lf oj ok na lj ol om nc ln on oo ne op bi translated">小道具</h2><ul class=""><li id="e56f" class="lt lu iq ky b kz ng lc nh lf oq lj or ln os lr ly lz ma mb bi translated"><strong class="ky ir">选项</strong> <em class="ls">(必选)</em> —选项数组。</li><li id="faad" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><strong class="ky ir">渲染输入</strong> <em class="ls">(必需)</em> —渲染输入。一个常见的用途是从Material-UI呈现<code class="fe nl nm nn no b">TextField</code>组件。然后我们可以把<code class="fe nl nm nn no b">label</code><code class="fe nl nm nn no b">variant</code>之类的道具传递给这个组件。</li><li id="d396" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><strong class="ky ir"> getOptionLabel </strong> —用于确定给定选项的字符串值。这是必要的，因为我们的选项数组是一个对象数组。这将决定在输入中显示什么值。</li><li id="cde7" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><strong class="ky ir"> id </strong> —这个属性用于帮助实现可访问性逻辑。</li></ul><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="b858" class="nt mp iq no b gy nu nv l nw nx">const NbaAutocomplete = () =&gt; {<br/>  return (<br/>    &lt;<em class="ls">Autocomplete<br/>      </em><strong class="no ir"><em class="ls">id="nba teams"</em></strong><em class="ls"><br/>      </em><strong class="no ir"><em class="ls">options</em>={nbaTeams}<br/>      <em class="ls">renderInput</em>={<em class="ls">params</em> =&gt; (<br/>        &lt;<em class="ls">TextField</em> {...params} <em class="ls">label</em>="NBA Team" <em class="ls">variant</em>="outlined" /&gt;</strong><br/>      <strong class="no ir"><em class="ls">getOptionLabel</em>={<em class="ls">option</em> =&gt; <em class="ls">option</em>.name}</strong><br/>      <strong class="no ir"><em class="ls">style</em>={{ width: 270 }}</strong><br/>      )}<br/>    /&gt;<br/>  );<br/>};</span></pre><p id="44a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我还在组件中添加了宽度为270的样式，让事情看起来更好一些。</p><p id="04b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们开始我们的项目，我们现在应该看到下面的组件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/2e767cf6253c6eb583e89e23b0653afc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*HMTPM9SocOmbqZ02P3fqZQ.png"/></div></figure><h1 id="9802" class="mo mp iq bd mq mr oa mt mu mv ob mx my jw oc jx na jz od ka nc kc oe kd ne nf bi translated">处理值</h1><p id="e816" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">为了使用我们选择的数据，我们将使用React中的<code class="fe nl nm nn no b">useState</code>钩子把它变成一个受控输入。</p><p id="7cec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，从React导入<code class="fe nl nm nn no b">useState</code>钩子。然后初始化一个名为<code class="fe nl nm nn no b">selectedTeam</code>的状态变量。我们将默认值设置为<code class="fe nl nm nn no b">null</code>。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="ae6e" class="nt mp iq no b gy nu nv l nw nx">const [selectedTeam, setSelectedTeam] = useState(null);</span></pre><p id="1820" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，在Autocomplete组件中，我们可以再添加两个道具。</p><ul class=""><li id="c9e8" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated"><strong class="ky ir">值</strong> —自动完成的值。</li><li id="ef66" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><strong class="ky ir"> onChange </strong> —值改变时触发回调。该函数将一个事件和一个选项值作为参数。我们将把<code class="fe nl nm nn no b">selectedTeam</code>变量设置为选项值。</li></ul><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="7434" class="nt mp iq no b gy nu nv l nw nx">&lt;<em class="ls">Autocomplete<br/>  id</em>="nba teams"<br/>  <em class="ls">options</em>={nbaTeams}<br/>  <em class="ls">renderInput</em>={<em class="ls">params</em> =&gt; (<br/>    &lt;<em class="ls">TextField</em> {...params} <em class="ls">label</em>="NBA Team" <em class="ls">variant</em>="outlined" /&gt;<br/>  )}<br/>  <em class="ls">getOptionLabel</em>={<em class="ls">option</em> =&gt; <em class="ls">option</em>.name}<br/>  <em class="ls">style</em>={{ width: 270 }}<br/>  <strong class="no ir"><em class="ls">value</em>={selectedTeam}<br/>  <em class="ls">onChange</em>={(<em class="ls">_event</em>, <em class="ls">newTeam</em>) =&gt; {<br/>    setSelectedTeam(<em class="ls">newTeam</em>);<br/>  }}</strong><br/>/&gt;</span></pre><p id="4e30" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了检查我们是否获得了<code class="fe nl nm nn no b">selectedTeam</code>变量中的信息，让我们将这个值记录到控制台中。</p><pre class="kg kh ki kj gt np no nq nr aw ns bi"><span id="3281" class="nt mp iq no b gy nu nv l nw nx">console.log(selectedTeam);</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/e11e857b3418f819bd3ed824aba6fdf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*F0kGghfm9iT1oTguLDM61w.gif"/></div></figure><h1 id="b7f8" class="mo mp iq bd mq mr oa mt mu mv ob mx my jw oc jx na jz od ka nc kc oe kd ne nf bi translated">附加道具</h1><p id="3d26" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">如果您有一个更复杂的用例，有许多其他的属性可以传递给Autocomplete组件。点击查看他们的文档<a class="ae kv" href="https://material-ui.com/api/autocomplete/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="a05e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是我过去用过的一些有用的道具列表:</p><ul class=""><li id="bbec" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated"><strong class="ky ir"> disableClearable </strong> —如果为真，输入不能被清除。</li><li id="f951" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><strong class="ky ir"> freeSolo </strong> —如果为true，则自动完成是freeSolo，这意味着用户输入不绑定到提供的选项。</li><li id="1923" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><strong class="ky ir"> groupBy </strong> —如果提供，选项将在返回的字符串下分组。</li><li id="62e3" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><strong class="ky ir"> multiple </strong> —如果为真，该值必须是一个数组，菜单将支持多选。</li><li id="e63b" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><strong class="ky ir">输入值</strong> —输入值。<em class="ls">(如果需要将值和文本输入值状态分开时有用)</em></li><li id="f9c3" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><strong class="ky ir"> onInputChange </strong> —当输入值改变时触发回调。<em class="ls">(如果需要将值和文本输入值状态分开时有用)</em></li></ul></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><h1 id="7979" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">结论</h1><p id="1825" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">感谢阅读！我希望这篇文章对您开始使用Material-UI的自动完成组件有所帮助。</p><p id="c808" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以查看我们在下面创建的组件的完整源代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="74b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">查看下面的文章，了解另一个材质UI组件——骨架。</p><div class="ov ow gp gr ox oy"><a href="https://levelup.gitconnected.com/improve-ux-with-the-skeleton-component-in-react-and-material-ui-c0b14a446f26" rel="noopener  ugc nofollow" target="_blank"><div class="oz ab fo"><div class="pa ab pb cl cj pc"><h2 class="bd ir gy z fp pd fr fs pe fu fw ip bi translated">用React和Material-UI中的骨架组件改进UX</h2><div class="pf l"><h3 class="bd b gy z fp pd fr fs pe fu fw dk translated">在加载数据之前显示内容的占位符预览</h3></div><div class="pg l"><p class="bd b dl z fp pd fr fs pe fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ph l"><div class="pi l pj pk pl ph pm kp oy"/></div></div></a></div><h2 id="f137" class="nt mp iq bd mq of og dn mu oh oi dp my lf oj ok na lj ol om nc ln on oo ne op bi translated">进一步阅读</h2><div class="ov ow gp gr ox oy"><a href="https://bit.cloud/blog/extendable-uis-how-to-build-better-uis-for-developers-l1jkl1pc" rel="noopener  ugc nofollow" target="_blank"><div class="oz ab fo"><div class="pa ab pb cl cj pc"><h2 class="bd ir gy z fp pd fr fs pe fu fw ip bi translated">可扩展的UI组件</h2><div class="pf l"><h3 class="bd b gy z fp pd fr fs pe fu fw dk translated">我最近受命为bit.cloud平台构建一个用户卡组件。我还负责建造…</h3></div><div class="pg l"><p class="bd b dl z fp pd fr fs pe fu fw dk translated">比特云</p></div></div><div class="ph l"><div class="pn l pj pk pl ph pm kp oy"/></div></div></a></div><p id="7095" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">plain English . io</em></strong></a><em class="ls">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">免费周报</em> </strong> </a> <em class="ls">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">Twitter</em></strong></a><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">LinkedIn</em></strong></a><strong class="ky ir"><em class="ls"/></strong><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">YouTube</em></strong></a><strong class="ky ir"><em class="ls">，以及</em></strong><em class="ls"/><a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">不和</em> </strong> </a>  <em class="ls">对成长黑客感兴趣？检查</em> <a class="ae kv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">电路</em> </strong> </a> <strong class="ky ir"> <em class="ls">。</em> </strong></p></div></div>    
</body>
</html>