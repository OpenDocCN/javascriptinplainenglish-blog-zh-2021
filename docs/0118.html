<html>
<head>
<title>Build A Custom Like Button with HTML, CSS and Vanilla JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用HTML、CSS和普通JavaScript构建一个自定义的Like按钮</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-custom-like-button-with-html-css-and-vanilla-javascript-b81fa4b00aad?source=collection_archive---------3-----------------------#2021-01-07">https://javascript.plainenglish.io/build-a-custom-like-button-with-html-css-and-vanilla-javascript-b81fa4b00aad?source=collection_archive---------3-----------------------#2021-01-07</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="0b46" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">以最简单的方式学习JavaScript</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/f894a856cba04b02e85bb8019f05e691.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OfviGMYRfxsauWEEomSq-g.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Screenshot author (<em class="kw">Inspired by </em><a class="ae kx" href="https://dribbble.com/shots/10555834-Heart-Fold-Button" rel="noopener ugc nofollow" target="_blank"><em class="kw">Heart Fold Button</em></a><em class="kw">)</em></figcaption></figure><p id="9385" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">想学JavaScript，从哪里开始？我想到了一些易于构建的UI组件。在这篇文章中，我将向你展示如何编写一个自定义的like按钮。我将解释它是如何工作的，这样你就可以构建你自己的了。</p><p id="2ac6" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">尽情享受吧！</p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="dca7" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">HTML和CSS</h1><p id="dd06" class="pw-post-body-paragraph ky kz ir la b lb mt js ld le mu jv lg lh mv lj lk ll mw ln lo lp mx lr ls lt ik bi translated">所以让我们从HTML &amp; CSS开始，让我们的组件成为静态的。我已经为你创建了HTML和CSS。但是如果你想改变它，请继续做你喜欢的。</p><pre class="kh ki kj kk gu my mz na nb aw nc bi"><span id="f712" class="nd mc ir mz b gz ne nf l ng nh">&lt;button class="btn btn-like"&gt;<br/>    &lt;span class="btn-icon btn--icon-default"&gt;<br/>        &lt;span class="fa fa-heart"&gt;&lt;/span&gt;<br/>    &lt;/span&gt;<br/>    &lt;span class="btn-icon btn--icon-liked"&gt;<br/>        &lt;span class="fa fa-heart"&gt;&lt;/span&gt;<br/>    &lt;/span&gt;<br/>    &lt;span class="btn-content  btn-content--liked"&gt;<br/>        Liked<br/>    &lt;/span&gt;<br/>    &lt;span class="btn-content btn-content--default"&gt;<br/>        Like<br/>    &lt;/span&gt;<br/>&lt;/button&gt;</span></pre><p id="767c" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">我们在标签中构建一切，就像我们应该对按钮做的那样。我为动画的内容和按钮图标添加了一些<code class="fe ni nj nk mz b">&lt;span&gt;</code>标签。如果我们不这样做，动画就不会工作。</p><pre class="kh ki kj kk gu my mz na nb aw nc bi"><span id="35d0" class="nd mc ir mz b gz ne nf l ng nh">:root {<br/>    --red: rgb(209, 3, 3);<br/>    --white: #fff;<br/>    --black: #000;<br/>}</span><span id="570e" class="nd mc ir mz b gz nl nf l ng nh">.btn {<br/>    width: 200px; height: 88px;<br/>    outline: 0;<br/>    border: 2px solid #ccc;<br/>    color: #000;<br/>    cursor: pointer;<br/>    overflow: hidden;<br/>    position: relative;<br/>    display:flex;<br/>    justify-content: space-between;<br/>    box-shadow: 0px 3px 25px rgba(0, 0, 0, 0.05);<br/>    transition: 1.5s cubic-bezier(.21,.04,.26,.99);<br/>}</span><span id="b4fb" class="nd mc ir mz b gz nl nf l ng nh">.btn:hover {<br/>    box-shadow: 0px 3px 25px rgba(0, 0, 0, 0.2);<br/>    border-color: var(--red);<br/>}</span><span id="1de2" class="nd mc ir mz b gz nl nf l ng nh">.btn-like {<br/>    padding: 1.5rem 1.5rem 1.5rem 6rem;<br/>    font-size: 2rem;<br/>    border-radius: 10px;<br/>    background: #fff;<br/>    transition: 1.5s cubic-bezier(.21,.04,.26,.99);<br/>}<br/>.btn-like.liked {<br/>    background: var(--red);<br/>    border-color: var(--red);<br/>}</span><span id="db30" class="nd mc ir mz b gz nl nf l ng nh">/*-- Button Icon -- */<br/>.btn-icon {<br/>    display: inline-block;<br/>    width: 32px;<br/>    height: 36px;<br/>    position: absolute;<br/>    left: 1.5rem;<br/>    transition: 1s cubic-bezier(.21,.04,.26,.99);<br/>    transform: rotate(0deg)<br/>}<br/>.btn:hover .btn-icon {<br/>    color: var(--red);<br/>}<br/>.btn.liked:hover .btn-icon {<br/>    color: var(--black);<br/>}<br/>.liked .btn--icon-default {<br/>    transform: rotate(-90deg)<br/>}<br/>.btn:not(.liked).btn--icon-liked {<br/>    transform: rotate(-90deg)<br/>}<br/>.liked .btn--icon-default,<br/>.btn--icon-liked {<br/>    opacity: 0;<br/>    color: #fff;<br/>    position: absolute;<br/>}<br/>.btn--icon-default,<br/>.liked .btn--icon-liked {<br/>    opacity: 1;<br/>    left: 1.5rem;<br/>}</span><span id="286a" class="nd mc ir mz b gz nl nf l ng nh">/*-- Button Content -- */<br/>.btn-content {<br/>    transition: transform 0.1s ease;<br/>    display: inline-block;<br/>    /* position: absolute;<br/>    right: 0; */<br/>}<br/>.liked .btn-content {<br/>    color: var(--white);<br/>}<br/>.btn:hover.liked .btn-content {<br/>    color: var(--black);<br/>}<br/>.btn:not(.liked) .btn-content--liked {<br/>    transform: translate(110px)<br/>}<br/>.btn:not(.liked) .btn-content--default {<br/>    transform: translate(-56px)<br/>}<br/>.liked .btn-content--default {<br/>    transform: translate(24px)<br/>}</span></pre><p id="9b50" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">如果你不喜欢我选的颜色，我已经用CSS变量很容易地改变了颜色。现在我们已经静态地创建了按钮组件，我们从JavaScript开始。😇</p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="5e88" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">演示</h1><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nm nn l"/></div></figure><h1 id="9ce3" class="mb mc ir bd md me no mg mh mi np mk ml jx nq jy mn ka nr kb mp kd ns ke mr ms bi translated">变量</h1><p id="ae51" class="pw-post-body-paragraph ky kz ir la b lb mt js ld le mu jv lg lh mv lj lk ll mw ln lo lp mx lr ls lt ik bi translated">JavaScript变量是一个内存，我们可以在其中存储信息，比如一些字符串、数字、对象等等。变量的便利之处在于，您可以稍后在JavaScript中重用它们。否则，你会重复很多代码。</p><p id="ccc5" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">我们将使用一个变量来存储按钮上的信息。我们用一个<code class="fe ni nj nk mz b">const</code>变量来做这件事。这种类型的变量存储信息，但不允许改变数据类型。</p><pre class="kh ki kj kk gu my mz na nb aw nc bi"><span id="b6ec" class="nd mc ir mz b gz ne nf l ng nh">const button = document.querySelector('.btn')</span></pre><p id="f64d" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">上面的代码存储了我们的<code class="fe ni nj nk mz b">&lt;button class="btn"&gt;&lt;/button&gt;</code>元素的信息。通过<code class="fe ni nj nk mz b">document</code>属性，我们可以访问D.O.M ,,这意味着我们页面上的所有HTML。</p><p id="c40a" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">但是我们想知道用户什么时候点击按钮，对吗？因为当用户这样做的时候，我们想给按钮<code class="fe ni nj nk mz b">liked</code>添加一个类。有了这个类，我们就可以用转换来触发CSS。</p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="d53f" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">功能</h1><p id="c3a6" class="pw-post-body-paragraph ky kz ir la b lb mt js ld le mu jv lg lh mv lj lk ll mw ln lo lp mx lr ls lt ik bi translated">在JavaScript中，我们有函数。我们使用它们来重用功能。许多开发人员都在按照D.R.Y .的原则工作。它代表“不要重复自己”。</p><p id="98a4" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">下面你可以看到一个普通的函数是如何定义和执行的。函数可以是匿名的，也可以用函数名定义。</p><pre class="kh ki kj kk gu my mz na nb aw nc bi"><span id="0a4a" class="nd mc ir mz b gz ne nf l ng nh">// Function is defined here<br/>function coolFunction() {<br/>    console.log('Cool function is called 🚀')<br/>}</span><span id="fdfd" class="nd mc ir mz b gz nl nf l ng nh">// Function is called here<br/>coolFunction();</span></pre></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="c71f" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">事件</h1><p id="89b9" class="pw-post-body-paragraph ky kz ir la b lb mt js ld le mu jv lg lh mv lj lk ll mw ln lo lp mx lr ls lt ik bi translated">所以我们需要创建一个<a class="ae kx" href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener" rel="noopener ugc nofollow" target="_blank">事件监听器</a>。有了这个，我们可以听到咔哒声、滚动声等等。</p><pre class="kh ki kj kk gu my mz na nb aw nc bi"><span id="90c5" class="nd mc ir mz b gz ne nf l ng nh">const button = document.querySelector('.btn')</span><span id="f98f" class="nd mc ir mz b gz nl nf l ng nh">button.addEventListener('parameter1', 'parameter2')</span></pre><p id="d12b" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated"><code class="fe ni nj nk mz b">addEventListener</code>是每个HTML元素的函数。这个函数有一些选项，我们称之为参数。</p><p id="9a36" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">在我们看到<code class="fe ni nj nk mz b">'parameter1'</code>的地方，我们需要定义我们要听什么样的事件。我们看到<code class="fe ni nj nk mz b">'parameter2'</code>，我们需要定义一个每次事件被触发时调用的函数。在JavaScript中我们称之为回调。</p><pre class="kh ki kj kk gu my mz na nb aw nc bi"><span id="cd72" class="nd mc ir mz b gz ne nf l ng nh">const button = document.querySelector('.btn')</span><span id="e5e7" class="nd mc ir mz b gz nl nf l ng nh">button.addEventListener('click', function() {})</span></pre></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="e398" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">功能和参数</h1><p id="7237" class="pw-post-body-paragraph ky kz ir la b lb mt js ld le mu jv lg lh mv lj lk ll mw ln lo lp mx lr ls lt ik bi translated">现在我们已经定义了我们想要用我们的事件监听器监听<code class="fe ni nj nk mz b">'click'</code>事件。在第二个属性的回调函数中，我们希望将类“liked”添加到按钮中。但是当用户再次点击时，我们希望删除该类。</p><p id="734f" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">在JavaScript ClassList API中，我们有一个<code class="fe ni nj nk mz b">toggle()</code>方法。(<em class="nt">函数和方法有什么区别？检查</em> <a class="ae kx" href="https://gist.github.com/FAQ.md#1-what-is-the-difference-between-a-function-and-a-method" rel="noopener ugc nofollow" target="_blank"> <em class="nt"> FAQ: 1 </em> </a>)第一次调用的时候会添加你在里面定义的类名。第二次调用时，它将删除类名。</p><pre class="kh ki kj kk gu my mz na nb aw nc bi"><span id="b37f" class="nd mc ir mz b gz ne nf l ng nh">const button = document.querySelector('.btn')</span><span id="69ed" class="nd mc ir mz b gz nl nf l ng nh">button.addEventListener('click', function() {<br/>    button.classList.toggle('liked')<br/>})</span></pre><p id="450b" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">在文件<a class="ae kx" href="https://codepen.io/devbyrayray/pen/WNGyKqG" rel="noopener ugc nofollow" target="_blank">我们的例子</a>中，你会看到代码有点不同。</p><pre class="kh ki kj kk gu my mz na nb aw nc bi"><span id="50bc" class="nd mc ir mz b gz ne nf l ng nh">const button = document.querySelector('.btn')</span><span id="34a7" class="nd mc ir mz b gz nl nf l ng nh">button.addEventListener('click', () =&gt; {<br/>    button.classList.toggle('liked')<br/>})</span></pre><p id="26c1" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">我没有使用普通的<code class="fe ni nj nk mz b">function() {}</code>，而是使用了一个叫做<a class="ae kx" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" rel="noopener ugc nofollow" target="_blank">箭头功能</a>的<code class="fe ni nj nk mz b">() =&gt; {}</code>。</p><p id="4d6f" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">自从引入了箭头功能，我就是它的忠实粉丝。写起来比正常的要短很多。但使用起来并不总是明智的。只要记住，当我们需要在一个箭头函数中使用<code class="fe ni nj nk mz b">this</code>时，选择一个普通函数。你可以在Mozilla博客上阅读更多关于箭头功能的内容</p></div><div class="ab cl lu lv hv lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ik il im in io"><h1 id="9ae3" class="mb mc ir bd md me mf mg mh mi mj mk ml jx mm jy mn ka mo kb mp kd mq ke mr ms bi translated">结束</h1><p id="8d80" class="pw-post-body-paragraph ky kz ir la b lb mt js ld le mu jv lg lh mv lj lk ll mw ln lo lp mx lr ls lt ik bi translated">我认为我们创造了一个优秀的按钮组件，具有很酷的点击效果。现在，由你来添加一些更酷的效果。让你的创造力流动起来，做一些很酷的东西！</p><p id="afcb" class="pw-post-body-paragraph ky kz ir la b lb lc js ld le lf jv lg lh li lj lk ll lm ln lo lp lq lr ls lt ik bi translated">完成按钮后，请在推特上分享结果😁。如果你愿意，你可以使用这个示例推文！👇</p><pre class="kh ki kj kk gu my mz na nb aw nc bi"><span id="aeea" class="nd mc ir mz b gz ne nf l ng nh">I have created project 1 of the "Learn JavaScript The Easy Way" program. 😁</span><span id="86cb" class="nd mc ir mz b gz nl nf l ng nh">[ADD LINK HERE] 🔥</span><span id="908e" class="nd mc ir mz b gz nl nf l ng nh">Do You Want To Learn #javascript like me? Check the link below and start for free. 🚀</span><span id="5c56" class="nd mc ir mz b gz nl nf l ng nh">[TODO: LINK]</span><span id="77d0" class="nd mc ir mz b gz nl nf l ng nh">#html #css #codenewbie #coding #frontend #developer #creativity #learnJavaScript #easyJavascript</span></pre></div></div>    
</body>
</html>