<html>
<head>
<title>Page Object Model in Cypress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Cypress中的页面对象模型</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/page-object-model-in-cypress-90503e6f8708?source=collection_archive---------13-----------------------#2021-08-20">https://javascript.plainenglish.io/page-object-model-in-cypress-90503e6f8708?source=collection_archive---------13-----------------------#2021-08-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b89600e5129c987ce052b310deb87a45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mByaqSr4jYdVbUrvI_XEoA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Page Object Model in Cypress</figcaption></figure><p id="aaa6" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在本教程中，我们将介绍如何在Cypress中建立一个页面对象模型。我们还将解释为什么Cypress团队建议不要使用页面对象模型。</p><h1 id="a23f" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">什么是页面对象模型(POM)</h1><p id="289d" class="pw-post-body-paragraph jz ka in kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">POM是一种流行的设计模式，有助于减少代码重复和改进测试维护。您可以通过将与页面相关的元素存储在一个单独的文件中来实现这一点，该文件由您的测试调用。</p></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><h1 id="140c" class="kx ky in bd kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ml ls lt lu bi translated">为什么不按柏树用聚甲醛？</h1><p id="753d" class="pw-post-body-paragraph jz ka in kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">在Cypress团队早在2019年发表的一篇<a class="ae mm" href="https://www.cypress.io/blog/2019/01/03/stop-using-page-objects-and-start-using-app-actions/" rel="noopener ugc nofollow" target="_blank">文章</a>中，他们指出，与其使用POM，不如使用App Actions。</p><p id="b00f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">什么是App动作？</strong><br/>App Actions让你通过使用<code class="fe mn mo mp mq b">window.Cypress</code>对象，直接通过应用程序的内部逻辑来调度动作，而不是通过UI进行交互。通过这种方式，你可以将你的应用程序设置在一个特定的状态，而不是通过用户界面进入那个状态，从而节省更多的时间。</p><p id="bebc" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">例如:</strong>如果您需要一个用户在登录后需要做一些事情，使用应用程序操作将您的应用程序设置为登录状态。传统上，您将使用UI首先登录，然后执行您的测试。</p></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><h1 id="946b" class="kx ky in bd kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ml ls lt lu bi translated">我的看法</h1><p id="daf0" class="pw-post-body-paragraph jz ka in kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">我个人觉得你可以两者都用，使用页面对象来存储页面相关的细节，还可以访问应用程序代码来加速你的测试(如果这是你的选择的话)。如果你可以访问你的代码库，并且在预生产模式(开发/质量保证/阶段)下测试应用程序，Cypress的效果最好。例如，在我的<a class="ae mm" href="https://practice.automationbro.com/" rel="noopener ugc nofollow" target="_blank">测试应用</a>中，它是一个WordPress应用，我没有访问应用代码的权限，所以我不能使用应用动作，但我仍然可以继续使用POM。</p></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><h1 id="1776" class="kx ky in bd kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ml ls lt lu bi translated">如何在Cypress设置POM？</h1><p id="387f" class="pw-post-body-paragraph jz ka in kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">在Cypress中设置POM非常简单，您只需要设置一个包含web元素和页面方法的类。让我们来看一个例子</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/5571925b7b6ec94be3b50a0aa1071fff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/0*omuwD6cM50pSWjVI.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Page Class in Cypress</figcaption></figure><p id="5c62" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在上面的截图中，我创建了一个带有getter函数的<code class="fe mn mo mp mq b">HomePage</code>类，这些函数使用<code class="fe mn mo mp mq b">Cy.get()</code>调用web元素。此外，它还有一个指向网站基本URL的page方法。</p><p id="e997" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io">在测试中调用Page类</strong> <br/>现在，要访问与页面相关的元素和方法，您可以简单地将其导入到您的测试文件中并调用相关的方法。</p><p id="fbcc" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><code class="fe mn mo mp mq b">HomePage.visitPage()</code> <br/> <code class="fe mn mo mp mq b">HomePage.getStartedBtn.click()</code></p></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><h1 id="da92" class="kx ky in bd kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ml ls lt lu bi translated">结论</h1><p id="b217" class="pw-post-body-paragraph jz ka in kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">设置POM是测试自动化行业中常见的设计模式，所以只要你正确地实现它，我个人看不出不使用POM有什么害处。同时，我同意Cypress团队关于应用程序操作的观点，因为这可以显著提高你的测试速度和稳定性。</p></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><h2 id="f6d0" class="mw ky in bd kz mx my dn ld mz na dp lh kk nb nc ll ko nd ne lp ks nf ng lt nh bi translated">查看下面的视频，了解更多关于如何在Cypress中设置POM的信息</h2><figure class="ms mt mu mv gt jo"><div class="bz fp l di"><div class="ni nj l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><a class="ae mm" href="https://youtu.be/uPoyTy11lPE" rel="noopener ugc nofollow" target="_blank">https://youtu.be/uPoyTy11lPE</a></figcaption></figure><p id="1b72" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">感谢阅读！</p><p id="8026" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="nk">更多内容看</em><a class="ae mm" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kb io"><em class="nk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>