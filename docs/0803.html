<html>
<head>
<title>Functions and Interfaces Working Together in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在TypeScript中一起工作的函数和接口</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/functions-and-interfaces-working-together-in-typescript-34d2abba3fc6?source=collection_archive---------10-----------------------#2021-02-19">https://javascript.plainenglish.io/functions-and-interfaces-working-together-in-typescript-34d2abba3fc6?source=collection_archive---------10-----------------------#2021-02-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4547" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在TypeScript中向函数添加类型和使用接口</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4380ff6d91e13a2d4c3e3fb6c9e26d07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eawyRVhzU1b7C-fS"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@sarti46?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Massimo Sartirana</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e4f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">欢迎来到打字世界！JavaScript语言的超集，其中每个值都有一个与之关联的类型。</p><p id="a58e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您不熟悉TypeScript，请查阅下面的文章，以获得类型注释和类型推断的介绍。</p><div class="ls lt gp gr lu lv"><a href="https://levelup.gitconnected.com/type-annotation-vs-type-inference-in-typescript-85ba2194ebe1" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">TypeScript中的类型注释与类型推理</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">如何在TypeScript中向变量添加类型</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><p id="f555" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将看看如何在函数中处理类型。我们将首先看看如何注释函数类型，然后看看如何使用函数接口。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="0d2e" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">向函数添加类型</h1><p id="dd9b" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">当向函数添加类型时，有两个地方需要注意。参数的类型和返回值的类型。</p><p id="80bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要注释参数的类型，只需在参数旁边添加一个冒号和类型。</p><p id="fa46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要向输出中添加类型，请在参数列表后添加一个冒号，该冒号带有返回值的类型。下面的代码显示了一个带有类型注释的基本函数。现在，TypeScript知道<code class="fe no np nq nr b">add</code>函数将接受两个number类型的参数，并返回一个number类型的值。</p><pre class="kg kh ki kj gt ns nr nt nu aw nv bi"><span id="8287" class="nw ms iq nr b gy nx ny l nz oa">const add = (a: number, b: number): number =&gt; {<br/>  return a + b;<br/>};</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/d3fcb66273c3a76e0ef65b3d955be2e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tkAPD23TuplXuaQkZ9PT-g.png"/></div></div></figure><p id="b371" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您也可以使用命名函数和匿名函数来做同样的事情。</p><pre class="kg kh ki kj gt ns nr nt nu aw nv bi"><span id="3b62" class="nw ms iq nr b gy nx ny l nz oa">function add(a: number, b: number): number {<br/>  return a + b;<br/>};</span><span id="9741" class="nw ms iq nr b gy oc ny l nz oa">const add = function(a: number, b: number): number {<br/>  return a + b;<br/>};</span></pre><h2 id="3f1d" class="nw ms iq bd mt od oe dn mx of og dp nb lf oh oi nd lj oj ok nf ln ol om nh on bi translated">类型推理</h2><p id="36e5" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">参数没有类型推断，所以必须显式地对类型进行注释。正如您在下面看到的，如果我们不为参数添加类型，它将变成<code class="fe no np nq nr b">any</code>，这是我们想要避免的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/05672c0e8f1e7c60844213fabc4e30cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*oRsJzjXUSfRrlY571i-Iag.png"/></div></figure><p id="cee2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出中确实存在类型推断。在下面的例子中，我们将两个参数的类型标注为<code class="fe no np nq nr b">number</code>，TypeScript计算出返回类型也是<code class="fe no np nq nr b">number</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/347b6af0d2781067ac6c3f7305f30884.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wSQpaIYD8DEoVoCN0bwmqw.png"/></div></div></figure><p id="cf0f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是，在函数上标注返回类型是一个好主意，有助于防止将来出错。以下面的例子为例。</p><p id="335f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们不注释输出的类型。我们还忘了添加<code class="fe no np nq nr b">return</code>关键字。因此，TypeScript假设我们正在返回类型<code class="fe no np nq nr b">void</code>。如果我们真的想返回一个数字，TypeScript不会显示错误。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/bfe6c26fc01dfa36f453fe2374e70775.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M1AGkQNxKHosKoWnSnyvRA.png"/></div></div></figure><h1 id="f3e3" class="mr ms iq bd mt mu or mw mx my os na nb jw ot jx nd jz ou ka nf kc ov kd nh ni bi translated">将对象作为参数传递</h1><p id="9e31" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">如果我们想把一个对象作为参数传递给一个函数，我们该怎么做？假设我们有一个对象，名为<code class="fe no np nq nr b">chad</code>,如下所示。它有一个<code class="fe no np nq nr b">name</code>、<code class="fe no np nq nr b">age</code>和<code class="fe no np nq nr b">hasDog</code>属性。</p><pre class="kg kh ki kj gt ns nr nt nu aw nv bi"><span id="3fd6" class="nw ms iq nr b gy nx ny l nz oa">const chad = {<br/>  name: 'chad',<br/>  age: 31,<br/>  hasDog: true<br/>}</span></pre><p id="9657" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们想把这个对象传递给一个函数，我们需要为对象的每个属性标注类型。</p><pre class="kg kh ki kj gt ns nr nt nu aw nv bi"><span id="464b" class="nw ms iq nr b gy nx ny l nz oa">const printPerson = (<em class="ow">person</em>: {<br/>  name: string;<br/>  age: number;<br/>  hasDog: boolean;<br/>}): void =&gt; {<br/>  console.log(`Name: ${person.name}`);<br/>  console.log(`Age: ${person.age}`);<br/>  console.log(`Has Dog: ${person.hasDog}`);<br/>};</span></pre><p id="0544" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，每当我们向<code class="fe no np nq nr b">printPerson</code>函数传递参数时，它需要满足对象的类型。</p><p id="151b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">参数必须是具有属性的对象，<code class="fe no np nq nr b">name</code>为字符串类型，<code class="fe no np nq nr b">age</code>为数字类型，<code class="fe no np nq nr b">hasDog</code>为布尔类型。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/18cb6c0d8d111f0011ae655103dd81d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*vjjeTpDgK40LBxr83Ds5kw.png"/></div></figure><p id="8629" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以用<code class="fe no np nq nr b">chad</code>的参数调用<code class="fe no np nq nr b">printPerson</code>，不会得到任何错误。TypeScript检查了我们传入的对象是否具有匹配类型的所有所需属性。</p><h1 id="daf8" class="mr ms iq bd mt mu or mw mx my os na nb jw ot jx nd jz ou ka nf kc ov kd nh ni bi translated">使用接口</h1><p id="d713" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">如您所见，需要大量代码来注释对象的类型。如果我们创建另一个函数，并希望将同一个对象作为参数传递，我们将需要再次重复类型注释。这导致了大量的重复代码。</p><p id="8ad7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">相反，我们可以使用接口。当我们创建一个接口时，我们也在创建一个类型。</p><p id="b308" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了创建一个接口，我们将添加如下代码。在下面的例子中，我们正在创建一个名为<code class="fe no np nq nr b">Person</code>的接口。它必须具有字符串类型的属性<code class="fe no np nq nr b">name</code>，数字类型的属性<code class="fe no np nq nr b">age</code>，布尔类型的属性<code class="fe no np nq nr b">hasDog</code>。</p><pre class="kg kh ki kj gt ns nr nt nu aw nv bi"><span id="8620" class="nw ms iq nr b gy nx ny l nz oa">interface Person {<br/>  name: string;<br/>  age: number;<br/>  hasDog: boolean;<br/>}</span></pre><p id="e317" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以将对象类型改为<code class="fe no np nq nr b">Person</code>接口，而不是用对象类型来注释<code class="fe no np nq nr b">printPerson</code>函数参数。</p><pre class="kg kh ki kj gt ns nr nt nu aw nv bi"><span id="f57e" class="nw ms iq nr b gy nx ny l nz oa">const printPerson = (<em class="ow">person</em>: Person): void =&gt; {<br/>  console.log(`Name: ${person.name}`);<br/>  console.log(`Age: ${person.age}`);<br/>  console.log(`Has Dog: ${person.hasDog}`);<br/>};</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/5004b2fdc952b50e2d90be50b0824a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vJLA7n8WhMw9zYeZmYvnEg.png"/></div></div></figure><p id="ee09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，我们可以用<code class="fe no np nq nr b">chad</code>调用<code class="fe no np nq nr b">printPerson</code>函数，因为它满足了<code class="fe no np nq nr b">Person</code>接口所需的属性和类型。</p><p id="057d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以查看下面的完整代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oz pa l"/></div></figure></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="28b4" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">结论</h1><p id="1451" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">感谢阅读！我希望这篇文章有助于您理解如何注释函数以及如何使用函数接口。在使用TypeScript时，接口是必不可少的，它们还有许多其他用途。</p><p id="4190" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以查看下面的文档。</p><div class="ls lt gp gr lu lv"><a href="https://www.typescriptlang.org/docs/handbook/interfaces.html" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">手册-接口</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">TypeScript的核心原则之一是类型检查关注值的形状。这有时是…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">www.typescriptlang.org</p></div></div></div></a></div><p id="6846" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在未来的文章中，我们将深入探讨更多的类型脚本，敬请关注！</p></div></div>    
</body>
</html>