<html>
<head>
<title>Building a Surface Chart in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript构建曲面图</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-a-surface-chart-in-javascript-189e0d07a4c4?source=collection_archive---------17-----------------------#2021-12-15">https://javascript.plainenglish.io/building-a-surface-chart-in-javascript-189e0d07a4c4?source=collection_archive---------17-----------------------#2021-12-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/8b55f926d39c78929dd98108bd031fdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Qc5VpCTTuT40blYM.png"/></div></div></figure><p id="18e1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kt" href="https://www.anychart.com/blog/2018/11/20/data-visualization-definition-history-examples/" rel="noopener ugc nofollow" target="_blank">数据可视化</a>如今是一项必备技能，数据不断增长，需要分析和呈现这些数据。无论你是否在技术行业，你肯定会遇到数据图表，因此，学习如何构建可视化是一个好主意。</p><p id="ed6b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这里，我将向您展示构建图表并不困难，只要使用正确的工具，您就可以花很少的时间和精力来创建交互式的、有趣的可视化效果！</p><p id="3c31" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这个循序渐进的教程中，我将演示如何使用JavaScript库在一个漂亮的交互式3D表面图表上显示过去15年各个国家的GDP值，以实现数据可视化。</p><p id="da31" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">表面情节看起来相当复杂，但我将向您展示制作一个引人注目且功能齐全的表面情节是多么简单。</p><h1 id="d288" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">什么是3D曲面图？</h1><p id="d16f" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">3D曲面图在x、y和z轴上绘制三维数据，其中两个变量是独立的(沿水平轴显示)，一个变量依赖于另两个变量(显示在垂直轴上)。</p><p id="7fa9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，我将绘制国家和年份作为自变量，GDP值作为因变量。</p><h1 id="ea65" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">JavaScript图表库</h1><p id="a4fd" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">目前，有很多好的<a class="ae kt" href="https://en.wikipedia.org/wiki/Comparison_of_JavaScript_charting_libraries" rel="noopener ugc nofollow" target="_blank"> JS图表库</a>，它们都有一些优点和缺点。您可以根据自己的具体需求选择使用哪一个，最棒的是，所有库的可视化构建过程都非常相似。所以，你可以从任何一个图书馆开始学习，也可以将你的知识扩展到另一个图书馆。</p><p id="b9ad" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于本教程，我将使用<a class="ae kt" href="https://www.anychart.com/" rel="noopener ugc nofollow" target="_blank"> AnyChart </a> JavaScript图表库，这对初学者来说可能是个不错的选择。它有大量的<a class="ae kt" href="https://www.anychart.com/products/anychart/gallery/" rel="noopener ugc nofollow" target="_blank">示例</a>以及大量的<a class="ae kt" href="https://docs.anychart.com/" rel="noopener ugc nofollow" target="_blank">文档</a>，这对刚开始时非常有用。</p><p id="b772" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">此外，AnyChart非常易于使用，并且具有大量定制选项。对许多人来说尤其重要的是，它可以免费用于个人、教育和其他非商业用途。</p><h1 id="d447" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">使用JS库构建基本的3D表面图</h1><p id="7086" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">当然，如果你有HTML、CSS和JavaScript的背景知识，这是一个优势。但是，即使你是一个完全的初学者，也不要不知所措。我将带您浏览代码的每一行，一旦您理解了正在发生的事情，它应该会变得更容易理解。</p><p id="d757" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用JS库创建3D表面图或基本上任何图表有四个一般步骤，如前所述，无论使用什么库，这些步骤都是一样的。</p><ul class=""><li id="c2ac" class="lx ly in jx b jy jz kc kd kg lz kk ma ko mb ks mc md me mf bi translated">创建HTML页面来显示您的图表。</li><li id="1393" class="lx ly in jx b jy mg kc mh kg mi kk mj ko mk ks mc md me mf bi translated">包括所需的JavaScript文件。</li><li id="021f" class="lx ly in jx b jy mg kc mh kg mi kk mj ko mk ks mc md me mf bi translated">准备并连接您的数据。</li><li id="7629" class="lx ly in jx b jy mg kc mh kg mi kk mj ko mk ks mc md me mf bi translated">为图表编写JS代码。</li></ul><h2 id="096a" class="ml kv in bd kw mm mn dn la mo mp dp le kg mq mr li kk ms mt lm ko mu mv lq mw bi translated">步骤1-创建一个基本的HTML页面</h2><p id="cb39" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">第一步是创建一个包含图表的空白HTML页面。我将向页面添加一个具有唯一id的block元素。稍后我将使用id来引用<code class="fe mx my mz na b">&lt;div&gt;</code>。</p><p id="8e86" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我现在将页面的<code class="fe mx my mz na b">&lt;style&gt;</code>块中的<code class="fe mx my mz na b">&lt;div&gt;</code>的高度和宽度指定为100%。这将在整个页面上呈现图表。您可以根据自己的喜好指定高度和宽度。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="fb6d" class="ml kv in na b gy nj nk l nl nm">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;title&gt;JavaScript Surface Chart&lt;/title&gt;<br/>    &lt;style type="text/css"&gt;   <br/>      html, body, #container {<br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h2 id="24ac" class="ml kv in bd kw mm mn dn la mo mp dp le kg mq mr li kk ms mt lm ko mu mv lq mw bi translated">步骤2 —添加必要的脚本</h2><p id="c1a0" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">使用JavaScript库时，需要添加特定于正在构建的图表和正在使用的库的脚本。</p><p id="a804" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这里，我使用AnyChart，所以我需要从<a class="ae kt" href="https://cdn.anychart.com/" rel="noopener ugc nofollow" target="_blank">的CDN </a>(内容交付网络)添加相应的脚本，基本上所有的脚本都可以在这里找到。</p><p id="2c87" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，我将为这个图表包含AnyChart的<a class="ae kt" href="https://docs.anychart.com/Quick_Start/Modules#core" rel="noopener ugc nofollow" target="_blank">核心</a>和<a class="ae kt" href="https://docs.anychart.com/Quick_Start/Modules#surface" rel="noopener ugc nofollow" target="_blank">表面</a>模块。</p><p id="6ce6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">提醒您一下，在HTML页面的<code class="fe mx my mz na b">&lt;head&gt;</code>部分包含所有这些脚本文件。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="8853" class="ml kv in na b gy nj nk l nl nm">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>  &lt;meta charset="utf-8"&gt;<br/>  &lt;title&gt;JavaScript Surface Chart&lt;/title&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.10.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.10.0/js/anychart-surface.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.10.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>  &lt;style type="text/css"&gt;   <br/>    html, body, #container {<br/>      width: 100%; height: 100%; margin: 0; padding: 0;<br/>    }<br/>  &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt; <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/><strong class="na io"><em class="nn">      // All the code for the JS Surface Chart will come here<br/></em></strong>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h2 id="b14b" class="ml kv in bd kw mm mn dn la mo mp dp le kg mq mr li kk ms mt lm ko mu mv lq mw bi translated">步骤3 —包含数据</h2><p id="b981" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我决定在3D表面图中可视化的数据来自世界银行开放数据网站，该网站在一个CSV文件中为我提供了所有国家的GDP(基于PPP)数据。</p><p id="c13e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果数据采用图表期望的格式以及您希望如何显示数据，则创建图表会更容易。所以我对数据进行了相应的预处理。你可以在这里浏览我的JSON数据文件<a class="ae kt" href="https://gist.githubusercontent.com/shacheeswadia/b0d6b34a1910359e0e1a8fc0c84019a6/raw/4ab92ca6361f1bc9875d2854e2e1271bc991f86b/surfaceAreaData.json" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="b5de" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了从JSON文件加载数据，我将添加AnyChart的<a class="ae kt" href="https://docs.anychart.com/Quick_Start/Modules#data_adapter" rel="noopener ugc nofollow" target="_blank">数据适配器</a>模块，并在HTML页面主体的<code class="fe mx my mz na b">&lt;script&gt;</code>标记中使用<code class="fe mx my mz na b">loadJsonFile</code>方法。</p><p id="7922" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">三个准备步骤已经完成，所以准备写一些代码吧！</p><h2 id="49aa" class="ml kv in bd kw mm mn dn la mo mp dp le kg mq mr li kk ms mt lm ko mu mv lq mw bi translated">步骤4 —编写绘制图表的代码</h2><p id="6bfc" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我要做的第一件事是确保所有代码只有在页面完全加载后才执行。为此，我将把整个代码放在<code class="fe mx my mz na b">anychart.onDocumentReady()</code>函数中。</p><p id="bd90" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，我将处理从JSON文件加载的数据。尽管我已经对数据进行了预处理，但为了绘制3D表面图，我还需要进一步处理它。基本上，我将根据x轴数据的顺序创建一个保存y轴和z轴数据的数组。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="15a6" class="ml kv in na b gy nj nk l nl nm">anychart.onDocumentReady(function () {<br/>  anychart.data.loadJsonFile(    'https://gist.githubusercontent.com/shacheeswadia/b0d6b34a1910359e0e1a8fc0c84019a6/raw/4ab92ca6361f1bc9875d2854e2e1271bc991f86b/surfaceAreaData.json',<br/>    function (data) {<br/><strong class="na io"><em class="nn">      // processing of the data<br/></em></strong>      var result = [];<br/>      for (var x = 0; x &lt; data.x.length; x++) {<br/>        for (var y = 0; y &lt; data.y.length; y++) {<br/>          result.push([x, data.y.sort()[y], data.z[x][y]]);<br/>        }<br/>      }<br/>    }<br/>  );<br/>});</span></pre><p id="8165" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我将创建曲面图，并根据刚刚创建的数据数组设置标记。</p><p id="1e06" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我需要从加载的数据中设置x轴标签，因为我创建的数组只包含一个序列，而不包含国家名称。我还将指定x刻度的最大值。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="2d60" class="ml kv in na b gy nj nk l nl nm"><strong class="na io"><em class="nn">// create surface chart<br/></em></strong>var chart = anychart.surface();<br/> <br/><strong class="na io"><em class="nn">// enable markers and set data for them<br/></em></strong>chart.markers().enabled(true).data(result);<br/> <br/><strong class="na io"><em class="nn">// set x axis labels format<br/></em></strong>chart<br/>  .xAxis()<br/>  .labels()<br/>  .format(function () {<br/>    return data.x[Math.round(this.value)];<br/>  });.<br/> <br/><strong class="na io"><em class="nn">// set x axis scale maximum<br/></em></strong>chart.xScale().maximum(data.x.length - 1);</span></pre><p id="7b1f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我将为我的图表添加一个标题，并在各边添加一些填充。最后，我将引用第一步中创建的<code class="fe mx my mz na b">&lt;div&gt;</code>并绘制图表。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="7a58" class="ml kv in na b gy nj nk l nl nm"><strong class="na io"><em class="nn">// set chart paddings<br/></em></strong>chart.padding(25, 50, 75, 50);<br/> <br/><strong class="na io"><em class="nn">// set chart title<br/></em></strong>chart.title('GDP per capita (PPP) in 2006-2020, in USD');<br/> <br/><strong class="na io"><em class="nn">// set container id for the chart<br/></em></strong>chart.container('container');<br/> <br/><strong class="na io"><em class="nn">// initiate chart drawing<br/></em></strong>chart.draw();</span></pre><figure class="nb nc nd ne gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi no"><img src="../Images/34376feb1a29a4cbdf4b113be1a7562e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-PP-oImFs8WTedPxLyJCfQ.png"/></div></div></figure><p id="b565" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">瞧啊。一个基本的功能性3D表面图已经准备好了！</p><blockquote class="np nq nr"><p id="99ea" class="jv jw nn jx b jy jz ka kb kc kd ke kf ns kh ki kj nt kl km kn nu kp kq kr ks ig bi translated"><strong class="jx io"> <em class="in">你可以在</em></strong><a class="ae kt" href="https://codepen.io/shacheeswadia/pen/xxLbBZa" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="in">CodePen</em></strong></a><strong class="jx io"><em class="in">，【或者在</em></strong><a class="ae kt" href="https://playground.anychart.com/ylK75uzg/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="in">any chart Playground</em></strong></a><strong class="jx io"><em class="in">上看看这个JavaScript 3D曲面图的基本版本，或者在这里查看一下代码。</em>T29】</strong></p></blockquote><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="d624" class="ml kv in na b gy nj nk l nl nm">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>  &lt;meta charset="utf-8"&gt;<br/>  &lt;title&gt;JavaScript Surface Chart&lt;/title&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.10.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.10.0/js/anychart-surface.min.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.anychart.com/releases/8.10.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>  &lt;style type="text/css"&gt;   <br/>    html, body, #container {<br/>      width: 100%; height: 100%; margin: 0; padding: 0;<br/>    }<br/>  &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt; <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/>      anychart.onDocumentReady(function () {<br/>        anychart.data.loadJsonFile(                   'https://gist.githubusercontent.com/shacheeswadia/b0d6b34a1910359e0e1a8fc0c84019a6/raw/4ab92ca6361f1bc9875d2854e2e1271bc991f86b/surfaceAreaData.json',<br/>          function (data) {<br/><strong class="na io"><em class="nn">            // processing of the data<br/></em></strong>            var result = [];<br/>            for (var x = 0; x &lt; data.x.length; x++) {<br/>              for (var y = 0; y &lt; data.y.length; y++) {<br/>                result.push([x, data.y.sort()[y], data.z[x][y]]);<br/>              }<br/>            }</span><span id="fdfe" class="ml kv in na b gy nv nk l nl nm"><strong class="na io"><em class="nn">            // create surface chart<br/></em></strong>            var chart = anychart.surface();</span><span id="b751" class="ml kv in na b gy nv nk l nl nm"><strong class="na io"><em class="nn">            // enable markers and set data for them<br/></em></strong>            chart.markers().enabled(true).data(result);<br/>      <br/><strong class="na io"><em class="nn">            // set x axis labels format<br/></em></strong>            chart<br/>              .xAxis()<br/>              .labels()<br/>              .format(function () {<br/>                return data.x[Math.round(this.value)];<br/>              });<br/>    <br/><strong class="na io"><em class="nn">            // set x axis scale maximum<br/></em></strong>            chart.xScale().maximum(data.x.length - 1);<br/>    <br/><strong class="na io"><em class="nn">            // set chart paddings<br/></em></strong>            chart.padding(25, 50, 75, 50);<br/>    <br/><strong class="na io"><em class="nn">            // set chart title<br/></em></strong>            chart.title('GDP per capita (PPP) in 2006-2020, in USD');</span><span id="dc4b" class="ml kv in na b gy nv nk l nl nm"><strong class="na io"><em class="nn">            // set container id for the chart<br/></em></strong>            chart.container('container');</span><span id="aca1" class="ml kv in na b gy nv nk l nl nm"><strong class="na io"><em class="nn">            // initiate chart drawing<br/></em></strong>            chart.draw();<br/>          }<br/>        );<br/>      });<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="cf02" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">自定义JS曲面图</h1><p id="8b73" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">使用任何JS图表库的最大好处之一是，您只需编写很少的代码就可以实现图表的工作版本。此外，大多数库都提供了定制图表的选项，使其更加个性化和信息量更大。</p><p id="1165" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我向您展示如何增强JS 3D曲面图，使其更加直观和美观:</p><h2 id="31fc" class="ml kv in bd kw mm mn dn la mo mp dp le kg mq mr li kk ms mt lm ko mu mv lq mw bi translated">步骤1 —改善所有轴的外观和感觉</h2><p id="4bce" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">这可能看起来是很小的改变，但这是我首先要做的。修改坐标轴的外观和感觉使图表看起来明显更好，更容易阅读。</p><p id="3696" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">修改轴的基本设置</strong></p><p id="7ee1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了强调曲面图的3D效果，我将y轴和z轴分别旋转15度和45度。这可以通过使用内置的旋转功能非常简单地完成。</p><p id="5afe" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我现在将y轴的最大值和最小值设置为开始和结束年份，以使绘图看起来更清晰。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="a597" class="ml kv in na b gy nj nk l nl nm"><strong class="na io"><em class="nn">// set y and z axes rotation<br/></em></strong>chart.rotationY(15);<br/>chart.rotationZ(45);<br/> <br/><strong class="na io"><em class="nn">// set y scale minimum/maximum<br/></em></strong>chart.yScale().minimum(2006);<br/>chart.yScale().maximum(2020);</span></pre><p id="7c95" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我将启用x和y轴的次要刻度，以显示更多刻度，从而显示更多标签。为了记号的一致性，我将y轴和z轴的间隔设置为固定值。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="6785" class="ml kv in na b gy nj nk l nl nm"><strong class="na io"><em class="nn">// enable x and y axes minor ticks<br/></em></strong>chart.xAxis().minorTicks().enabled(true);<br/>chart.xAxis().minorLabels().enabled(true);<br/>chart.yAxis().minorTicks().enabled(true);<br/>chart.yAxis().minorLabels().enabled(true);<br/> <br/><strong class="na io"><em class="nn">// set scales ticks intervals<br/></em></strong>chart.yScale().ticks().interval(8);<br/>chart.zScale().ticks().interval(40000);</span></pre><p id="21c2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">修改轴的标签</strong></p><p id="c027" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了避免与x轴标签重叠，我将隐藏y轴上的最后一个标签。</p><p id="3ba9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我将减小所有轴的标签和次要标签(次要刻度的标签)的字体大小。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="1195" class="ml kv in na b gy nj nk l nl nm"><strong class="na io"><em class="nn">// hide the last label in y axis<br/></em></strong>chart.yAxis().drawLastLabel(false);<br/> <br/><strong class="na io"><em class="nn">// set x, y and z axes labels font size<br/></em></strong>chart.xAxis().labels().fontSize(10);<br/>chart.xAxis().minorLabels().fontSize(10);<br/>chart.yAxis().labels().fontSize(10);<br/>chart.yAxis().minorLabels().fontSize(10);<br/>chart.zAxis().labels().fontSize(10);</span></pre><p id="f5c8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，在标签修改中，我将x轴标签和次要标签旋转90度，以获得更清晰的外观。</p><p id="3d26" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我还需要用加载的数据设置x轴次标签，类似于我之前对x轴法线标签所做的。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="f546" class="ml kv in na b gy nj nk l nl nm"><strong class="na io"><em class="nn">// set x axis labels rotation<br/></em></strong>chart.xAxis().labels().rotation(90);<br/>chart.xAxis().minorLabels().rotation(90);<br/>chart<br/>  .xAxis()<br/>  .minorLabels()<br/>  .format(function () {<br/>    return data.x[Math.round(this.value)];<br/>  });</span></pre><p id="6d40" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">修改轴的行程</strong></p><p id="50ae" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">默认情况下，曲面图使用三种不同的颜色来表示三个不同的轴。但是我不需要我的表现，所以我将改变所有轴的笔画以及刻度为浅灰色。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="c0b3" class="ml kv in na b gy nj nk l nl nm"><strong class="na io"><em class="nn">// set x, y and z axes stroke settings<br/></em></strong>chart.xAxis().stroke(null);<br/>chart.xAxis().ticks().stroke("1 lightgray"); <br/>chart.xAxis().minorTicks().stroke("1 lightgray"); <br/>chart.yAxis().stroke(null);<br/>chart.yAxis().ticks().stroke("1 lightgray"); <br/>chart.yAxis().minorTicks().stroke("1 lightgray");<br/>chart.zAxis().stroke(null);<br/>chart.zAxis().ticks().stroke("1 lightgray"); <br/>chart.zAxis().minorTicks().stroke("1 lightgray");</span></pre><blockquote class="np nq nr"><p id="e8aa" class="jv jw nn jx b jy jz ka kb kc kd ke kf ns kh ki kj nt kl km kn nu kp kq kr ks ig bi translated"><strong class="jx io"> <em class="in">在这里看看这个对坐标轴进行了所有美化的版本是什么样子，你可以在</em></strong><a class="ae kt" href="https://codepen.io/shacheeswadia/pen/eYEZyqP" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="in">CodePen</em></strong></a><strong class="jx io"><em class="in">【或者在</em></strong><a class="ae kt" href="https://playground.anychart.com/xbTC6gE8/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="in">any chart Playground</em></strong></a><strong class="jx io"><em class="in">上使用它。</em> </strong></p></blockquote><figure class="nb nc nd ne gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi no"><img src="../Images/483aedc8e32dd9bef2de6d653be58aef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tHMutz0x-jyF6wghphzRVQ.png"/></div></div></figure><h2 id="cf2b" class="ml kv in bd kw mm mn dn la mo mp dp le kg mq mr li kk ms mt lm ko mu mv lq mw bi translated">步骤2-添加调色板</h2><p id="7d8b" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">提升图表吸引力的一个可靠方法是根据你展示的数据添加一个调色板。这是一个非常简单的过程，我首先用我想要的颜色创建一个线性色标，然后为图表设置色标。</p><p id="04e0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">除了添加颜色，我还将添加一个图例，显示什么颜色表示什么值范围，这只用一行代码就可以完成。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="e365" class="ml kv in na b gy nj nk l nl nm"><strong class="na io"><em class="nn">// create color scale<br/></em></strong>var customColorScale = anychart.scales.linearColor();<br/>customColorScale.colors([<br/>  '#ffdd0e',<br/>  '#BCA600',<br/>  '#76A100',<br/>  '#1b8366',<br/>  '#007561'<br/>]);<br/> <br/><strong class="na io"><em class="nn">// set color scale<br/></em></strong>chart.colorScale(customColorScale);<br/> <br/><strong class="na io"><em class="nn">// enable and configure color range<br/></em></strong>chart.colorRange().enabled(true).orientation('right');</span></pre><h2 id="1987" class="ml kv in bd kw mm mn dn la mo mp dp le kg mq mr li kk ms mt lm ko mu mv lq mw bi translated">步骤3 —增强工具提示</h2><p id="950a" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">当您展示更多数据时，拥有一个有用的工具提示总是一个好主意。默认的工具提示信息并不丰富，因此我将对其进行自定义，以显示每个绘制点的所有三个参数的值——国家、年份和GDP数字。</p><pre class="nb nc nd ne gt nf na ng nh aw ni bi"><span id="6b62" class="ml kv in na b gy nj nk l nl nm"><strong class="na io"><em class="nn">// tooltip settings<br/></em></strong>chart<br/>  .tooltip()<br/>  .useHtml(true)<br/>  .titleFormat(function () {<br/>    return data.x[this.x];<br/>  })<br/>  .format(function () {<br/>    return "Year: " + this.y + "&lt;br&gt;" + "GDP:$ " + this.z.toFixed(2);<br/>  });</span></pre><p id="0443" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你不认为这个简单的工具提示给图表增加了更多的价值吗？</p><blockquote class="np nq nr"><p id="914c" class="jv jw nn jx b jy jz ka kb kc kd ke kf ns kh ki kj nt kl km kn nu kp kq kr ks ig bi translated"><strong class="jx io"> <em class="in">看看现在基于JavaScript的3D表面图看起来有多酷和定制，你可以在CodePen[和在</em></strong><a class="ae kt" href="https://playground.anychart.com/R1Mq06kP" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="in">any chart Playground</em></strong></a><strong class="jx io"><em class="in">]上找到完整的代码。</em>T13】</strong></p></blockquote><figure class="nb nc nd ne gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi no"><img src="../Images/d8dbf7f3a24dc0d3abdc21d4aca26d7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qd-gNJAmHBiVZcC49RVOqA.png"/></div></div></figure><h1 id="5c32" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">结论</h1><p id="a02a" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">如此激动人心、看起来复杂的3D表面图竟然可以如此轻松地构建出来，这难道不令人惊讶吗？使用JavaScript库，您可以快速创建一个简单的、可操作的图表，然后添加任意多的特性来调整您的可视化效果。</p><p id="2fcd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在各种<a class="ae kt" href="https://en.wikipedia.org/wiki/Comparison_of_JavaScript_charting_libraries" rel="noopener ugc nofollow" target="_blank"> JS图表库</a>中有许多不同类型的数据可视化可用，例如，您可以查看AnyChart中可用的<a class="ae kt" href="https://docs.anychart.com/Quick_Start/Supported_Charts_Types" rel="noopener ugc nofollow" target="_blank">图表类型选项</a>。</p><p id="5a81" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">请提出任何问题，给出建议，或者简单地打个招呼。天空是提高每个国家的GDP和创造伟大的可视化的极限，所以开始用这个新学到的技能制作一些有趣和有启发性的图表吧！</p></div><div class="ab cl nw nx hr ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ig ih ii ij ik"><p id="c3b6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="nn">经沙奇·斯瓦迪亚许可出版。最初出现在2021年12月10日的</em></strong><a class="ae kt" href="https://www.hongkiat.com/blog/creating-surface-chart-with-javascript/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nn">Hongkiat</em></strong></a><strong class="jx io"><em class="nn">上，标题为“如何用JavaScript创建曲面图(4个简单步骤)”。</em> </strong></p></div><div class="ab cl nw nx hr ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ig ih ii ij ik"><p id="2502" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="nn">在</em></strong><a class="ae kt" href="https://www.anychart.com/chartopedia/chart-type/surface-chart/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nn">Chartopedia</em></strong></a><strong class="jx io"><em class="nn">上找到更多关于表面图表的信息，一个免费的图表类型指南。不要错过其他</em> </strong> <a class="ae kt" href="https://www.anychart.com/blog/category/javascript-chart-tutorials/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nn"> JS制图教程</em> </strong> </a> <strong class="jx io"> <em class="nn">。</em>T55】</strong></p></div><div class="ab cl nw nx hr ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ig ih ii ij ik"><p id="2a21" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="nn">对客座博文有想法？我们期待听到它— </em> </strong> <a class="ae kt" href="https://www.anychart.com/support/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nn">让我们知道</em> </strong> </a> <strong class="jx io"> <em class="nn">！</em> </strong></p></div><div class="ab cl nw nx hr ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ig ih ii ij ik"><p id="72e5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nn">原载于2021年12月15日</em><a class="ae kt" href="https://www.anychart.com/blog/2021/12/15/surface-chart-javascript/" rel="noopener ugc nofollow" target="_blank"><em class="nn">【https://www.anychart.com】</em></a><em class="nn">。</em></p><p id="1cff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nn">更多内容看</em> <a class="ae kt" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nn">说白了. io </em> </strong> </a> <strong class="jx io"> <em class="nn">。</em> </strong> <em class="nn">报名参加我们的</em> <a class="ae kt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nn">免费每周简讯这里</em> </strong> </a> <strong class="jx io"> <em class="nn">。</em> </strong></p></div></div>    
</body>
</html>