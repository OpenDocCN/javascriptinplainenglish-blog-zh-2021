<html>
<head>
<title>How to Hack a Simple JavaScript-driven Web Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何破解一个简单的JavaScript驱动的Web应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-hack-a-simple-javascript-driven-web-application-caf2d3b5befc?source=collection_archive---------3-----------------------#2021-10-26">https://javascript.plainenglish.io/how-to-hack-a-simple-javascript-driven-web-application-caf2d3b5befc?source=collection_archive---------3-----------------------#2021-10-26</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div class="gi gj jo"><img src="../Images/4f3ef06d63aa71e4e3b308fba9dae0cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*T4OJi5689OVnDHouqTtT8g.png"/></div><figcaption class="jv jw gk gi gj jx jy bd b be z dk">Base Image: Frame from <a class="ae jz" href="https://www.youtube.com/watch?v=Qy-LmJ12d0I" rel="noopener ugc nofollow" target="_blank">Archie’s Weird Mysteries Intro</a></figcaption></figure><p id="1494" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">在我看来,<a class="ae jz" href="http://flare-on.com/" rel="noopener ugc nofollow" target="_blank">FLARE-ON</a>capture the flag是最难的在线逆向工程竞赛之一。我通常会着手解决手头的挑战，但并没有找到所有的解决方案，尽管如此，我还是觉得这是一次宝贵的学习经历。它们是我接触信息安全技能发展的一个很好的方式。在这篇文章中，我想讨论我必须解决的唯一的问题。</p><h1 id="f80c" class="ky kz ir bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">试探一下</h1><blockquote class="lw lx ly"><p id="10fa" class="ka kb lz kc b kd ke kf kg kh ki kj kk ma km kn ko mb kq kr ks mc ku kv kw kx ik bi translated">欢迎来到第八频道！这个挑战是你即将开始的史诗任务的指导任务。逆向工程Javascript代码，以确定正确的用户名和密码的网页正在寻找，它会显示您的标志。在此输入旗帜以进入下一阶段。所有标志都将采用有效电子邮件地址的格式，并且都以“@flare-on.com”结尾</p></blockquote><p id="7b26" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">挑战被打包到一个7zip存档文件中。我下载了它，将其解压缩，然后使用<em class="lz"> PowerShell </em>获得其文件系统的列表:</p><pre class="md me mf mg gu mh mi mj mk aw ml bi"><span id="b815" class="mm kz ir mi b gz mn mo l mp mq"><strong class="mi is">PS C:\flareon\01_credchecker &gt; ls</strong></span><span id="84de" class="mm kz ir mi b gz mr mo l mp mq">Directory: C:\flareon\01_credchecker</span><span id="0e49" class="mm kz ir mi b gz mr mo l mp mq">Mode                LastWriteTime         Length Name<br/>----                -------------         ------ ----<br/>d-----        9/10/2021   9:14 AM                img<br/>-a----        8/31/2021   1:40 PM           3873 admin.html</span></pre><p id="88e7" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">看起来很有趣，所以我打开它，看到了以下内容:</p><figure class="md me mf mg gu js gi gj paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gi gj mv"><img src="../Images/8a534917fdc4603ace60167fa9474072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BXAMn6IoHygJ8wCs9oAc8w.png"/></div></div></figure><p id="15e5" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">接下来，我决定探究一下web应用程序的行为，所以我在<code class="fe ms mt mu mi b">Username</code>和<code class="fe ms mt mu mi b">Password</code>字段中输入<code class="fe ms mt mu mi b">test</code>，然后点击“检查凭证”我得到了以下信息:</p><figure class="md me mf mg gu js gi gj paragraph-image"><div class="gi gj na"><img src="../Images/9763edf66a7c3ba2490538cc3f96ce33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*wkb0T3CTiM_yKDWpC7-mpQ.png"/></div><figcaption class="jv jw gk gi gj jx jy bd b be z dk">Yeah, well I changed my major from computer science to gender studies, so jokes on you cos’ most GS majors are better coders than the average CS majors ;-)</figcaption></figure><p id="1798" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">我不喜欢使用暴力，所以我决定尝试一些不同的东西。</p><h1 id="b1d9" class="ky kz ir bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">检查源代码</h1><p id="b2c2" class="pw-post-body-paragraph ka kb ir kc b kd nb kf kg kh nc kj kk kl nd kn ko kp ne kr ks kt nf kv kw kx ik bi translated">使用我的网络浏览器的源代码检查工具，我能够发现“检查凭证”按钮调用了<code class="fe ms mt mu mi b">admin.html</code>文件中一个名为<code class="fe ms mt mu mi b">checkCreds()</code>的函数。然后，我在文本编辑器中打开了<code class="fe ms mt mu mi b">admin.html</code>文件，并导航到<code class="fe ms mt mu mi b">checkCreds()</code>函数:</p><figure class="md me mf mg gu js"><div class="bz fq l di"><div class="ng nh l"/></div></figure><p id="3b8b" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">该函数接收来自<code class="fe ms mt mu mi b">Username</code>和<code class="fe ms mt mu mi b">Password</code>字段的信息，然后如果<code class="fe ms mt mu mi b">username</code>和<code class="fe ms mt mu mi b">password</code>匹配，则运行解密程序。在用户名的情况下，很容易看出它是“Admin”然而，<code class="fe ms mt mu mi b">password</code>字段实现了一些基本的安全性。</p><p id="4316" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">我决定使用已经存在的过程，而不是重新实现解密函数中使用的过程。我研究了<code class="fe ms mt mu mi b">atob()</code>函数，发现它将一个<em class="lz"> base64 </em>编码的字符串解码成ASCII文本(<a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/API/atob" rel="noopener ugc nofollow" target="_blank"> MDN Web Docs，n.d. </a>)。然后我用一个<em class="lz"> base64 </em>编码器对<code class="fe ms mt mu mi b">goldenticket</code>进行编码，结果是<code class="fe ms mt mu mi b">Z29sZGVudGlja2V0</code>。然后我将<code class="fe ms mt mu mi b">goldenticket</code>的<em class="lz"> base64 </em>编码输入到密码表单中，结合已经发现的用户名“Admin”，得到了标志:<code class="fe ms mt mu mi b">enter_the_funhouse@flare-on.com</code></p><h1 id="faa9" class="ky kz ir bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">结论</h1><p id="72c6" class="pw-post-body-paragraph ka kb ir kc b kd nb kf kg kh nc kj kk kl nd kn ko kp ne kr ks kt nf kv kw kx ik bi translated">这是一篇关于我的逆向工程技能的报告，希望能启发web开发人员考虑在他们的web应用程序中实现强大的AppSec。</p><p id="9487" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">虽然读者可能会认为本文讨论的是一个“简单”的逆向工程挑战，但是请记住，一些开发人员会犯这样的错误，将他们的密码嵌入到登录页面的JavaScript中。例如，<a class="ae jz" href="https://ioactive.com/wp-content/uploads/2018/05/Security-Vulnerabilities-in-Routers.pdf" rel="noopener ugc nofollow" target="_blank"> IOActive (2018) </a>报告了一个影响<em class="lz"> LB-LINK </em>路由器模型的关键漏洞，在该模型中，管理员凭据被嵌入到路由器的管理web应用程序的登录页面中。</p><p id="623c" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated">对于任何对解决这个捕获旗帜难题的材料感兴趣的读者，以及对我试图解决FLARE-ON的第二个逆向工程难题(涉及原生二进制)的材料感兴趣的读者，请查看下面的补充材料。</p><h2 id="d020" class="mm kz ir bd la ni nj dn le nk nl dp li kl nm nn lm kp no np lq kt nq nr lu ns bi translated">补充材料</h2><div class="nt nu gq gs nv nw"><a href="https://github.com/Alekseyyy/ctfs/tree/master/infosec/2021/flareon8" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fp"><div class="ny ab nz cl cj oa"><h2 class="bd is gz z fq ob fs ft oc fv fx iq bi translated">ctfs/infosec/2021/flare on 8 at master Alekseyyy/ctfs</h2><div class="od l"><h3 class="bd b gz z fq ob fs ft oc fv fx dk translated">infosec ctfs、编码拼图和其他竞赛。通过在…上创建帐户，为Alekseyyy/ctfs的发展做出贡献</h3></div><div class="oe l"><p class="bd b dl z fq ob fs ft oc fv fx dk translated">github.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok jt nw"/></div></div></a></div><p id="dd62" class="pw-post-body-paragraph ka kb ir kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ik bi translated"><em class="lz">更多内容请看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc is"><em class="lz">plain English . io</em></strong></a></p></div></div>    
</body>
</html>