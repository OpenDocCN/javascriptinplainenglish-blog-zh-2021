<html>
<head>
<title>JavaScript: Insert Item in a Specific Array Position</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript:在特定数组位置插入项目</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-insert-item-in-specific-array-position-d6cfbc256f48?source=collection_archive---------5-----------------------#2021-11-06">https://javascript.plainenglish.io/javascript-insert-item-in-specific-array-position-d6cfbc256f48?source=collection_archive---------5-----------------------#2021-11-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ebb4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您是否在寻找类似于:<strong class="jp ir"> array.insert(item，index) </strong>的内容？如果有，这里有几个回答你的问题！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/2979013e5c108bcbbb1e9e6ff8a5c1d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nz1RsxJSRBl3Msfbe2Wrsg.jpeg"/></div></div></figure><h1 id="b780" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">接合</h1><p id="cf28" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">很多时候我都在想，为什么他们把这种方法叫做“拼接”？当然，这种方法被称为splice，因为你可以用它做很多事情！您可以使用splice插入甚至删除数组中的特定项目。如果你想了解更多关于<a class="ae ma" href="https://medium.com/geekculture/how-to-remove-a-specific-item-from-array-46668d873a8e?sk=c413651a5e3fc2872d3ff0ade7a08234" rel="noopener">如何从数组</a>中删除特定物品的信息，点击链接了解更多。</p><p id="1ac7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，回到我们的故事，如何将一个项目插入到数组中的特定位置。</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="7b30" class="mg ky iq mc b gy mh mi l mj mk">arr.<strong class="mc ir">splice</strong>(index, 0, item);</span></pre><p id="b303" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用上面的语法，您将能够在选择的索引中插入一个给定的项，而不删除任何现有的项。这听起来不像我们正在寻找的吗？我们用一个例子来理解一下:</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="dda7" class="mg ky iq mc b gy mh mi l mj mk">var arr = [];<br/>arr[0] = "A";<br/>arr[1] = "B";<br/>arr[2] = "C";<br/>arr[3] = "D";<br/>arr[4] = "E";<br/><br/>console.log(arr.join()); // A,B,C,D,E<br/>arr.splice(2, 0, "BB");<br/>console.log(arr.join()); // A,B,BB,C,D,E</span></pre><h1 id="cd63" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">拼接并应用</h1><p id="e664" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">如果您使用的是旧的<strong class="jp ir"> EcmaScript-5 </strong>，您可能需要额外做一步来将一个项目插入到数组中。您将再次使用Splice。但是，您将使用“应用”功能来实现结果。</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="951a" class="mg ky iq mc b gy mh mi l mj mk">function insertArrayAt(array, index, arrayToInsert) {<br/>Array.prototype.splice.apply(array, [index,0].concat(arrayToInsert));<br/>}</span></pre><p id="1b93" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面的insertArrayAt函数接受一个父数组，选择必须插入新数组/项的索引，不删除任何项，但进行插入。</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="b359" class="mg ky iq mc b gy mh mi l mj mk">//To test the above insertArrayAt<br/>var arr = ["A", "F", "G"];<br/>insertArrayAt(arr, 1, ["B", "C", "D"]);<br/>console.log(arr); //A B C D E F G</span></pre><p id="7c79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那么，您何时以及为什么要使用Splice？</p><p id="131a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">拼接变异原数组。如果您不希望插入操作改变原始数组，那么您需要遵循一种不同的方法。</strong></p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="64d5" class="kx ky iq bd kz la ms lc ld le mt lg lh li mu lk ll lm mv lo lp lq mw ls lt lu bi translated">薄片</h1><p id="ff00" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">Slice是数组原型中的一个函数。它可以用来在数组中添加/删除项目，而不改变原始数组。我们如何实现这一目标？作为最小化整个工作的一部分，我在JavaScript <strong class="jp ir"> ES6 </strong>中使用了spread操作符。</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="5065" class="mg ky iq mc b gy mh mi l mj mk">const items = [1, 2, 3, 4, 5]<br/><br/>const insert = (arr, index, newItem) =&gt; [<br/>  // part of the array before the specified index<br/>  ...arr.<strong class="mc ir">slice</strong>(0, index),<br/>  // inserted item<br/>  newItem,<br/>  // part of the array after the specified index<br/>  ...arr.<strong class="mc ir">slice</strong>(index)<br/>]<br/><br/>const result = insert(items, 1, 10)<br/><br/>console.log(result)</span></pre><p id="e376" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我非常欣赏这种向数组中添加新项的方法，因为您可以修改上面的函数来支持一次插入多个项。</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="daf1" class="mg ky iq mc b gy mh mi l mj mk">const items = [1, 2, 3, 4, 5]<br/><br/>const insert = (arr, index, <strong class="mc ir">...newItems</strong>) =&gt; [<br/>  // part of the array before the specified index<br/>  ...arr.<strong class="mc ir">slice</strong>(0, index),<br/>  // inserted items<br/>  <strong class="mc ir">...newItems,</strong><br/>  // part of the array after the specified index<br/>  ...arr.<strong class="mc ir">slice</strong>(index)<br/>]<br/><br/>const result = insert(items, 1, 10, 20)<br/><br/>console.log(result)</span></pre><p id="793e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过改变第三个参数[newItems],我们可以T10一次添加零个或多个条目T11到父数组中，并生成一个新的。这多酷啊？</p><p id="e8a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">想单行做？</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="b8b4" class="mg ky iq mc b gy mh mi l mj mk">const newArray = [...parentArray.<strong class="mc ir">slice</strong>(0, index), ...insertArray, ...parentArray.<strong class="mc ir">slice</strong>(index)];</span></pre></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><h1 id="0dd3" class="kx ky iq bd kz la ms lc ld le mt lg lh li mu lk ll lm mv lo lp lq mw ls lt lu bi translated"><strong class="ak">减少</strong></h1><p id="b897" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">最后，您可以使用数组原型列表中的另一个方法<strong class="jp ir"> Reduce </strong>，将一个项目插入数组。</p><pre class="km kn ko kp gt mb mc md me aw mf bi"><span id="4f2a" class="mg ky iq mc b gy mh mi l mj mk">const arr = ["A", "C", "D"];</span><span id="f8ee" class="mg ky iq mc b gy mx mi l mj mk">const insert = (arr, item, index) =&gt;<br/>  arr.<strong class="mc ir">reduce</strong>(function(s, a, i) {<br/>    i === index ? s.push(item, a) : s.push(a);return s;<br/>  }, []);</span><span id="598e" class="mg ky iq mc b gy mx mi l mj mk">console.log(insert(arr, "B", 1));</span></pre><p id="90f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">解码上述函数:</p><ol class=""><li id="bbd6" class="my mz iq jp b jq jr ju jv jy na kc nb kg nc kk nd ne nf ng bi translated"><strong class="jp ir"> s </strong>:表示蓄能器，最初为空</li><li id="53d0" class="my mz iq jp b jq nh ju ni jy nj kc nk kg nl kk nd ne nf ng bi translated"><strong class="jp ir"> a </strong>:表示当前数组项</li><li id="6040" class="my mz iq jp b jq nh ju ni jy nj kc nk kg nl kk nd ne nf ng bi translated"><strong class="jp ir"> i </strong>:表示数组项的当前索引</li><li id="b397" class="my mz iq jp b jq nh ju ni jy nj kc nk kg nl kk nd ne nf ng bi translated"><strong class="jp ir"> s.push(item，a) </strong>:如果需要插入该项的索引与“I”匹配，我们将该项和当前项一起推入累加器s</li><li id="21a4" class="my mz iq jp b jq nh ju ni jy nj kc nk kg nl kk nd ne nf ng bi translated"><strong class="jp ir"> s.push(a) </strong>:如果当前索引I不等于所需索引，则将当前项a推入累加器s。</li></ol><p id="52de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">结论</strong></p><p id="be84" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你知道了，如何在数组中添加一个或另一个元素。你可以用<strong class="jp ir">拼接</strong>、<strong class="jp ir">切片</strong>或<strong class="jp ir">缩小</strong>。array prototype中的三大功能可以帮助您。</p><p id="b0be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢我的话，就照着做，继续学习。JavaScript总是很有趣！</p><p id="a47f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nm">更多内容请看</em><a class="ae ma" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="nm">plain English . io</em></strong></a></p></div></div>    
</body>
</html>