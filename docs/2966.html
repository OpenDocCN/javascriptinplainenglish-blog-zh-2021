<html>
<head>
<title>6 Different Ways to Set Values for Reactive Forms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为反应式表单设置值的6种不同方式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/6-different-ways-to-set-values-for-reactive-forms-a0686f3dca0a?source=collection_archive---------2-----------------------#2021-06-16">https://javascript.plainenglish.io/6-different-ways-to-set-values-for-reactive-forms-a0686f3dca0a?source=collection_archive---------2-----------------------#2021-06-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="bd37" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">角度基础备忘单2021</h2><div class=""/><div class=""><h2 id="0092" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">如何设置数组的值？</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/efaae083ed0571c1b54aba6cdc8dfc27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-a29W5_HUCnf5l9l"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Photo by <a class="ae le" href="https://unsplash.com/@inlytics?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">inlytics | LinkedIn Analytics Tool</a> on <a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="91e1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们可以在应用程序中每天使用反应式表单，因为它们支持不可变的特性、简单的错误处理和单元测试编写能力。</p><p id="b67c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">你知道在表单中设置值的所有方法吗？</p><blockquote class="mb mc md"><p id="e0ce" class="lf lg me lh b li lj ka lk ll lm kd ln mf lp lq lr mg lt lu lv mh lx ly lz ma ij bi translated">在这篇文章中，我将介绍所有可以用来为单个表单控件或表单设置值的方法。</p></blockquote><h2 id="d351" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">1.设置值()</h2><pre class="kp kq kr ks gt na nb nc nd aw ne bi"><span id="171c" class="mi mj iq nb b gy nf ng l nh ni">this.testform.get("testcontrol").setValue(100);</span></pre><p id="dbb2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们也可以用不同的方法来控制。</p><pre class="kp kq kr ks gt na nb nc nd aw ne bi"><span id="9d73" class="mi mj iq nb b gy nf ng l nh ni">this.testform.controls["testcontrol"].setValue(200);</span></pre><h2 id="b467" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">2.patchValue()</h2><pre class="kp kq kr ks gt na nb nc nd aw ne bi"><span id="9e8d" class="mi mj iq nb b gy nf ng l nh ni">this.testform.get('testcontrol').patchValue(testdata.id);</span><span id="3943" class="mi mj iq nb b gy nj ng l nh ni">this.testform.controls['testcontrol'].patchValue(testdata.id);</span></pre><p id="f9af" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果你想让表单自己找出补丁，我们可以这样做。</p><pre class="kp kq kr ks gt na nb nc nd aw ne bi"><span id="ae01" class="mi mj iq nb b gy nf ng l nh ni">this.testform.patchValue({ testcontrol: testdata.id });</span></pre><h2 id="2141" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">3.修补值可以与对象一起工作，如果响应对象中的键与表单控件匹配，则它将直接更新值。</h2><pre class="kp kq kr ks gt na nb nc nd aw ne bi"><span id="7766" class="mi mj iq nb b gy nf ng l nh ni">this.testform.patchValue({<br/>    "testcontrol": testdata.id,<br/>    "desc": "testdata value"<br/>});</span></pre><h2 id="b3bf" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">4.如果响应中的键不同，并且您希望在补丁之前正确映射，那么…</h2><pre class="kp kq kr ks gt na nb nc nd aw ne bi"><span id="528d" class="mi mj iq nb b gy nf ng l nh ni">const { key1, key2} = response;//response from service<br/><br/>this.testForm.patchValue({<br/>  key1,<br/>  key2<br/>});</span></pre><p id="58c4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja"> <em class="me">或者我们可以创建一个新的对象本身并把它传递给表单。</em>T3】</strong></p><pre class="kp kq kr ks gt na nb nc nd aw ne bi"><span id="8000" class="mi mj iq nb b gy nf ng l nh ni">let obj = Object.assign({}, this.testform.getRawValue(), someClass);</span><span id="1d0e" class="mi mj iq nb b gy nj ng l nh ni">this.testform.patchValue(obj);</span></pre><h2 id="7b7b" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">5.处理表单数组</h2><p id="1178" class="pw-post-body-paragraph lf lg iq lh b li nk ka lk ll nl kd ln lo nm lq lr ls nn lu lv lw no ly lz ma ij bi translated">我已经创建了一个表单数组，并尝试以这种方式修补它</p><pre class="kp kq kr ks gt na nb nc nd aw ne bi"><span id="3437" class="mi mj iq nb b gy nf ng l nh ni">this.testform = this._fb.group({<br/>    test: this._fb.array([])<br/>});</span><span id="b855" class="mi mj iq nb b gy nj ng l nh ni">let testformArray = this.testform.get('test') as FormArray;</span><span id="3cca" class="mi mj iq nb b gy nj ng l nh ni">for (let i of [0, 1, 2, 3]) {<br/>    testformArray.push(new FormControl(false));<br/>}<br/>const data = ['atit', 'patel', 'form', 'array'];</span><span id="8560" class="mi mj iq nb b gy nj ng l nh ni">testformArray.patchValue(data);</span><span id="ef2a" class="mi mj iq nb b gy nj ng l nh ni">}</span></pre><h1 id="232a" class="np mj iq bd mk nq nr ns mn nt nu nv mq kf nw kg mt ki nx kj mw kl ny km mz nz bi translated">准备面试？查看角度面试问题2021</h1><div class="oa ob gp gr oc od"><a rel="noopener  ugc nofollow" target="_blank" href="/top-100-questions-you-must-prepare-for-your-next-angular-interview-1-10-3e13d5fefab9"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ja gy z fp oi fr fs oj fu fw iz bi translated">你必须为下一次角度面试准备的100个问题(1-10)</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">最常见的角度面试问题2021</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="om l"><div class="on l oo op oq om or ky od"/></div></div></a></div><div class="oa ob gp gr oc od"><a rel="noopener  ugc nofollow" target="_blank" href="/top-100-questions-you-must-prepare-for-to-ace-your-next-angular-interview-10-20-c3f5ab854be"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ja gy z fp oi fr fs oj fu fw iz bi translated">为赢得下一次面试，你必须准备的100个问题(10-20)</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">最常见的角度面试问题2021</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="om l"><div class="on l oo op oq om or ky od"/></div></div></a></div><h1 id="4245" class="np mj iq bd mk nq nr ns mn nt nu nv mq kf nw kg mt ki nx kj mw kl ny km mz nz bi translated">你可以看看我以前的文章</h1><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="os ot l"/></div></figure><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="os ot l"/></div></figure><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="e51f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="me">更多内容尽在</em><a class="ae le" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="me">plain English . io</em></a></p></div></div>    
</body>
</html>