<html>
<head>
<title>Authenticate Users with GitHub Authentication using Firebase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Firebase通过GitHub身份验证来验证用户</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/github-authentication-using-firebase-f08bd9d7e659?source=collection_archive---------15-----------------------#2021-03-28">https://javascript.plainenglish.io/github-authentication-using-firebase-f08bd9d7e659?source=collection_archive---------15-----------------------#2021-03-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="bd78" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用GitHub认证您的用户</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/65f34d01a3478c011029ba2ec42bf8a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZzWgsCCyLM-YHpS9_H2Zdg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><a class="ae ks" href="http://i-hate-reading-logs.vercel.app/" rel="noopener ugc nofollow" target="_blank">Read the articles</a></figcaption></figure><p id="d296" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">使用谷歌、脸书、Twitter和GitHub认证用户可以提供更流畅的用户登录体验。我已经写过一篇关于使用Firebase进行google认证的文章。下面是文章的链接:</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="3fa0" class="lu lv in lq b gy lw lx l ly lz">Google Authentication using Firebase =&gt; <a class="ae ks" href="https://medium.com/nerd-for-tech/firebase-authentication-in-less-than-5-minutes-dce8ad5b8459" rel="noopener">Article</a></span></pre><p id="5570" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">今天，我们将使用Firebase通过GitHub添加身份验证。GitHub身份验证要求您创建一个OAuth GitHub应用程序，其中包含应用程序名称、应用程序回调URL和域URL。我将在后面介绍这一点。</p></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><h1 id="e336" class="mh lv in bd mi mj mk ml mm mn mo mp mq jt mr ju ms jw mt jx mu jz mv ka mw mx bi translated"><strong class="ak">概述</strong></h1><ol class=""><li id="2956" class="my mz in kv b kw na kz nb lc nc lg nd lk ne lo nf ng nh ni bi translated">我们将在GitHub档案- &gt;设置- &gt;开发者设置- &gt; OAuth应用中创建一个<strong class="kv io"> OAuth </strong>应用</li><li id="0e94" class="my mz in kv b kw nj kz nk lc nl lg nm lk nn lo nf ng nh ni bi translated">添加回调URL、域名、应用程序名称并创建OAuth应用程序</li><li id="f959" class="my mz in kv b kw nj kz nk lc nl lg nm lk nn lo nf ng nh ni bi translated">保存<strong class="kv io"> clientSecret </strong>和<strong class="kv io"> clientID </strong>用于进一步的Firebase控制台。</li><li id="e74b" class="my mz in kv b kw nj kz nk lc nl lg nm lk nn lo nf ng nh ni bi translated">在Firebase控制台上添加<strong class="kv io"> clientSecret </strong>和<strong class="kv io"> clientID </strong>。</li><li id="897e" class="my mz in kv b kw nj kz nk lc nl lg nm lk nn lo nf ng nh ni bi translated">从firebase方法创建GitHub提供程序。</li><li id="681b" class="my mz in kv b kw nj kz nk lc nl lg nm lk nn lo nf ng nh ni bi translated">使用提供者通过GitHub添加firebase身份验证</li></ol><p id="f2bc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在GitHub开发者设置中创建OAuth应用。这里是链接= &gt;</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="64ab" class="lu lv in lq b gy lw lx l ly lz">GitHub Developer Settings =&gt; <a class="ae ks" href="https://github.com/settings/developers" rel="noopener ugc nofollow" target="_blank">https://github.com/settings/developers</a></span></pre><p id="4fa4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在开发者OAuth应用程序中，您需要输入回拨URL和URL，您将从Firebase控制台获得回拨URL。输入上述详细信息后，您将被重定向到OAuth应用程序页面，其中包含您的凭据详细信息。保存<strong class="kv io"> clientID </strong>和<strong class="kv io"> clientSecret </strong>，我们将需要它们进行进一步的处理。最后一步是在本页下面添加一个回拨URL，您将从Firebase控制台获得您的回拨URL。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi no"><img src="../Images/0d4693c61fb29465924e386c3f02f615.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yN8vJ0LVDhZF_KoXJBJi6w.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Github Developer Settings Page(<a class="ae ks" href="https://github.com/settings/developers" rel="noopener ugc nofollow" target="_blank">Link</a>)</figcaption></figure></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><p id="88b5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">获取CallbackURL </strong> <br/>转到Firebase Console =&gt;authentic ation =&gt;sign-in method<br/>通过切换开关<br/>启用通过Github方法的身份验证输入上述clientID和clientSecret并复制粘贴callbackURL <br/>输入CallbackURL的副本到Github开发者OAuth App。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi np"><img src="../Images/b458f9e712bde2c20807ba831a722936.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2VEPYT8rXEmH4UB1PHTbsQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Firebase Authentication via GitHub console</figcaption></figure><p id="34d7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在输入中输入您的clientID和clientSecret，复制您的回调URL并将其粘贴到GitHub OAuth应用程序上。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nq"><img src="../Images/4b2cee216f4ea8723667a3a23414edd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uR2a6X-Ri4PUYLDeiTXmUg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Callback URL in GitHub OAuth Developer page</figcaption></figure></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><h1 id="c80f" class="mh lv in bd mi mj mk ml mm mn mo mp mq jt mr ju ms jw mt jx mu jz mv ka mw mx bi translated"><strong class="ak">编写代码</strong></h1><p id="7a52" class="pw-post-body-paragraph kt ku in kv b kw na jo ky kz nb jr lb lc nr le lf lg ns li lj lk nt lm ln lo ig bi translated">我们将使用相同的存储库，我们使用电子邮件-密码和谷歌添加认证。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="7a63" class="lu lv in lq b gy lw lx l ly lz">* <a class="ae ks" href="https://github.com/shreyvijayvargiya/iHateReadingLogs/tree/main/TechLogs/FirebaseAuthentication" rel="noopener ugc nofollow" target="_blank">Google Authentication repository using Firebase</a></span></pre><p id="9312" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">首先，我们将创建一个firebase provider，这是Firebase GitHub Auth所需要的。Firebase本身提供了一种为GitHub身份验证创建提供者的方法。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="a286" class="lu lv in lq b gy lw lx l ly lz">const provider = new firebase.auth.GithubAuthProvider();</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nu"><img src="../Images/9c97fdd28aca5bdeed8ee344708caffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-C0UYorfD4TdmKF2-HR0kQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Login via Github method</figcaption></figure><p id="bf3f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们的handleGithubLogin方法首先创建提供者，然后使用这个提供者为我们的用户登录使用GitHub的用户。Firebase auth方法提供signInWithPopup方法，该方法接受提供者作为参数，作为响应，它给我们提供访问令牌。<strong class="kv io"> accessToken </strong>是最重要的令牌，因为我们将来需要这个令牌向GitHub API发出进一步的API请求。此外，如果您的用户使用GitHub登录，请务必保存这个<strong class="kv io"> accessToken </strong>，因为您确实需要一些用户GitHub凭证，这些凭证只能通过GitHub API使用这个<strong class="kv io"> accessToken </strong>来访问。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nv"><img src="../Images/ce23caf32733e0cf8b1cb0ddec1c1c80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ckp_zqVQ_AReY9LcLbmvcw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Final Sign-in Page</figcaption></figure><p id="55bd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后，如果用户已经使用Google登录，并试图使用GitHub或其他方法登录，Firebase会提供一条错误消息来响应API。在这种情况下，最佳实践是为用户提供关于其先前登录方法的错误和消息的正确指示。</p><h1 id="6235" class="mh lv in bd mi mj nw ml mm mn nx mp mq jt ny ju ms jw nz jx mu jz oa ka mw mx bi translated">结论</h1><p id="5a8a" class="pw-post-body-paragraph kt ku in kv b kw na jo ky kz nb jr lb lc nr le lf lg ns li lj lk nt lm ln lo ig bi translated">还有一种方法可以让你的用户通过GitHub登录。在这种方法中，我们可以使用GitHub API本身来登录，我试图在不创建任何后端服务器或代码的情况下成功做到这一点。一旦我完成了这个任务，我将在同一篇文章中进行介绍。</p><p id="dfe7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我将使用无服务器功能对GitHub登录API进行API调用。如果你不知道什么是无服务器功能，你可以找到下面的链接。使用无服务器功能的好处是，我们不需要创建自己的服务器来添加GitHub认证到我们的前端。</p><p id="be75" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">下次再见，祝大家有美好的一天。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="705a" class="lu lv in lq b gy lw lx l ly lz"><a class="ae ks" rel="noopener ugc nofollow" target="_blank" href="/serverless-function-in-next-js-3cd0d22ab983">Click to read, What is Serverless Function ? </a></span><span id="b8ca" class="lu lv in lq b gy ob lx l ly lz">Code repository =&gt; <a class="ae ks" href="https://github.com/shreyvijayvargiya/iHateReadingLogs/tree/main/TechLogs/GithubAuthenticationUsingFirebase" rel="noopener ugc nofollow" target="_blank">https://github.com/shreyvijayvargiya/iHateReadingLogs/tree/main/TechLogs/GithubAuthenticationUsingFirebase</a></span></pre><p id="a14b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="oc">更多内容请看</em><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="oc">plain English . io</em></strong></a></p></div></div>    
</body>
</html>