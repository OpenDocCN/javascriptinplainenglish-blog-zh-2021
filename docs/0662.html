<html>
<head>
<title>Logging In the Console Like a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">像专业人士一样登录控制台</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/logging-in-the-console-like-a-pro-756660672d2b?source=collection_archive---------15-----------------------#2021-02-10">https://javascript.plainenglish.io/logging-in-the-console-like-a-pro-756660672d2b?source=collection_archive---------15-----------------------#2021-02-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="0169" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ki">我们都用</em> <code class="fe kj kk kl km b"><em class="ki">console.log</em></code> <em class="ki">调试，让我们把它做得更好！</em></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/30f833bb9230938aba936bba9f6af3a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WJjmIZqtOeAFwJdkBygVdw.jpeg"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Photo by <a class="ae ld" href="https://unsplash.com/@rocinante_11?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Mick Haupt</a> on <a class="ae ld" href="https://unsplash.com/s/photos/log-book?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="2281" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">介绍</h1><p id="bb46" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated">很多人用<code class="fe kj kk kl km b">console.log</code>调试。尽管这不完全是最佳实践，但我们这样做是因为它在大多数情况下都有效。但是每个人都只使用<code class="fe kj kk kl km b">console.log</code>,而<code class="fe kj kk kl km b">console</code>对象有惊人数量的不同功能。</p><p id="f27c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您可能见过一些不使用<code class="fe kj kk kl km b">.log</code>专门记录错误、警告或其他详细信息的函数，但是您听说过所有这些控制台函数吗？</p><h1 id="1209" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">调试</h1><p id="b351" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated">当用户或爱管闲事的程序员打开控制台，看到控制台中数十个随机日志时，没有什么比随机控制台日志更糟糕的了。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/d2547940aadb579e4de41fcf29887c15.png" data-original-src="https://miro.medium.com/v2/resize:fit:314/format:webp/1*yaISs1TrtVaIH7YvYc_qNw.png"/></div></figure><p id="1b75" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">大多数浏览器都将默认设置设为“默认级别”。这意味着控制台将显示除详细日志之外的任何内容。</p><p id="6299" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是您可以利用这一点，使用<code class="fe kj kk kl km b"><a class="ae ld" href="https://developer.mozilla.org/en-US/docs/Web/API/Console/debug" rel="noopener ugc nofollow" target="_blank">console.debug</a></code>函数，该函数只有在启用了详细日志的情况下才会出现。</p><p id="8fe7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">另一件要做的事情是在部署时删除所有不必要的日志，或者在它们前面加上类似“DEBUG: <message>”的字符串。</message></p><h2 id="ad27" class="mi lf in bd lg mj mk dn lk ml mm dp lo jv mn mo ls jz mp mq lw kd mr ms ma mt bi translated">信息</h2><p id="c91d" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated"><code class="fe kj kk kl km b">console.info()</code>函数的行为与默认的日志函数相同，但是在Firefox上它旁边会显示一个小的信息图标。</p><h1 id="b05f" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">警告和错误</h1><p id="3415" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated">我毫不怀疑你以前见过这些。任何一个程序员想到错误都会发抖，根据技术栈，你可能甚至不太关心警告。但是他们绝对可以提升你的伐木游戏。</p><p id="ff0e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe kj kk kl km b"><a class="ae ld" href="https://developer.mozilla.org/en-US/docs/Web/API/Console/warn" rel="noopener ugc nofollow" target="_blank">console.warn</a></code>对于警告开发人员某些不一定会破坏应用程序的事情很有用。像尚未加载的数据或过期版本的包之类的东西可能会返回警告。</p><p id="e76b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe kj kk kl km b"><a class="ae ld" href="https://developer.mozilla.org/en-US/docs/Web/API/Console/error" rel="noopener ugc nofollow" target="_blank">console.error</a></code>在您的控制台中显示红色信息，当这些发生时，可能有不好的事情发生。找不到文件，API请求返回404，诸如此类。</p><p id="4977" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是当调试时，我们并不真正使用它们，尽管这可能是一个很好的实践。让if语句检查空值会在它不应该是空值时返回警告，或者在API请求出错时返回错误。</p><h1 id="666a" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">分组</h1><p id="1dc0" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated">你看过这个了吗？我肯定你没有因为我肯定没有。使用<code class="fe kj kk kl km b"><a class="ae ld" href="https://developer.mozilla.org/en-US/docs/Web/API/Console/group" rel="noopener ugc nofollow" target="_blank">console.group</a></code>和<code class="fe kj kk kl km b">console.groupEnd</code>功能完成分组。旧的浏览器不支持这些功能，但是越来越多的浏览器正在实现这些功能。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/aab9efad93246f54f02d71e28e0fa5c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*GL8-rSuExnRNOUiOGrEY0w.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Using the console grouping in Chrome</figcaption></figure><p id="ce05" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">当您在应用程序的某些组件中记录大量调试消息时，这可能很有用。例如，单个React组件的流程完成API调用，并在应用程序中的特定时间记录状态。</p><p id="f8af" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就像我们在上面的图片中看到的，你可以在组中使用所有常规的日志功能，比如<code class="fe kj kk kl km b">.warn</code>。</p><p id="c08e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你也可以给这些组起名字。在上图中，我们没有给<code class="fe kj kk kl km b">group</code>和<code class="fe kj kk kl km b">groupEnd</code>函数任何参数，但是添加标签可以增加可读性。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/954b58d9362e477786e8cbc09ea74646.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*E_mNry5ou710HHfaOaMnqQ.png"/></div></figure><p id="fcbe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">可折叠组现在的名称为“组名”。这样，您可以将某个组指定给应用程序的某个组件或部分。</p><p id="e961" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要创建一个开始折叠而不是展开的群组，您可以使用<code class="fe kj kk kl km b"><a class="ae ld" href="https://developer.mozilla.org/en-US/docs/Web/API/Console/groupCollapsed" rel="noopener ugc nofollow" target="_blank">console.groupCollapsed()</a></code>功能。这将清理控制台多一点，你必须展开组来查看里面是什么。</p><h1 id="5ef4" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">数数</h1><p id="0b8a" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated"><code class="fe kj kk kl km b"><a class="ae ld" href="https://developer.mozilla.org/en-US/docs/Web/API/Console/count" rel="noopener ugc nofollow" target="_blank">console.count()</a></code>函数在被调用时会从1开始计数。当您不确定它有多少次迭代时，这在循环中会很有用。<code class="fe kj kk kl km b">console.countReset()</code>将重置计数。你也可以给这些函数一个自定义的标签字符串，它会显示出来而不是“默认”。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/cbb20e5f1f7b50e7cdcd8ec55535592a.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/format:webp/1*LK3Lf2O2n2i16aXOFELwJg.png"/></div></figure><p id="a523" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在我承认这可能不是最有用的函数，但我从未见过它被使用，所以想把它包括在这个列表中。</p><h1 id="da83" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">找到；查出</h1><p id="0ae8" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated">堆栈跟踪很多时候是由错误给出的，但是如果是为了调试的目的呢？<code class="fe kj kk kl km b"><a class="ae ld" href="https://developer.mozilla.org/en-US/docs/Web/API/Console/trace" rel="noopener ugc nofollow" target="_blank">console.trace</a></code>功能可以提供帮助。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/98c9c13ef31873c65d8c1eb3b40037a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*kx2ZTkV5RLayGEalTUSEBQ.png"/></div></figure><p id="c301" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它将返回一个可折叠的函数调用列表。这在大型应用程序中非常有用，在这些应用程序中，函数的流程可能不像它应该的那样简单。</p><h1 id="59ee" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">清楚的</h1><p id="4629" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated">在我们处理完所有事情之后。组件已经加载，API调用已经完成，我们终于可以把这一切抛在脑后，清空控制台了。</p><p id="4259" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用<code class="fe kj kk kl km b">console.clear()</code>将为您清除控制台。如果您不想在部署时向用户显示某些消息，这可能很有用。</p><h1 id="3b14" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="5468" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv me jx jy jz mf kb kc kd mg kf kg kh ig bi translated">JavaScript中的控制台对象比开发人员认为的要高级得多，功能也更多。虽然这不是最好的调试方式，但它在大多数情况下是可行的，但在调试大型应用程序时看起来非常糟糕。这些函数可能会稍微解决这个问题。</p><p id="71e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">感谢您的阅读，祝您有美好的一天。</p></div></div>    
</body>
</html>