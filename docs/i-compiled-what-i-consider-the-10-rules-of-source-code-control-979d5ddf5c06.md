# 我编写了我认为的源代码控制的 10 条规则

> 原文：<https://javascript.plainenglish.io/i-compiled-what-i-consider-the-10-rules-of-source-code-control-979d5ddf5c06?source=collection_archive---------6----------------------->

## 许多程序员忘记的基本行为规则。

![](img/71da3928aa4311a79450d0c0a6795c7b.png)

Photo by [ThisisEngineering RAEng](https://unsplash.com/@thisisengineering?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

系统版本控制是一个记录文件和文件夹随时间变化的程序。这使您可以回到过去的任何时间点，并将一个时间点与另一个时间点进行比较，以了解两者之间发生的确切变化。此外，它们还存储了每个班次的作者，使得几个人并行处理各种特性变得更加容易。

有许多代码控制系统:本地的、集中式的或分布式的。更适合源代码或图形或视频等大型文件。安装在本地服务器上或从互联网上使用。

用于代码控制的软件无处不在，但最著名的是 Mercurial、Subversion、PlasticSCM，当然还有它们中的王者:Git。

如今，任何项目都不可避免地要使用源代码控制。你应该因为不使用它而受到程序员地狱般的惩罚。这是给你的。

# **1。您将对所有项目的所有事情使用代码控制**

如果这是一个只有你一个人参与的个人项目，那也没关系。您应该使用源代码控制，即使本地存储库在服务器上没有备份。

这样，您将能够保存项目的所有关键状态，并返回到任何先前的点，查看将您带到当前点的决策和更改等。

当然，在一个团队里，哪怕是两个，也是必不可少的。因此，没有理由不使用免费的私人回购服务，如 Bitbucket、Gitlab 或微软自己的 Visual Studio Team Services。

# **2。不做提交和推送，你永远不会回家**

也就是说，无论代码处于何种状态，都不会留下受到完美保护并可从任何地方恢复的代码。在一些地方，灭火程序包括一张这样的海报:

虽然这是针对 Git 的，但它对任何其他 VCS 都有效:离开前确认并储存，即使是为了吃。

# **3。您将在提交之前仔细检查您的更改**

创建一个提交是如此简单，以至于我们不用看就能例行公事地完成它。做得不好。我们必须注意所有必要的文件都在准备区。有时新文件没有被添加。或者可能添加的文件是临时的，不应该在那里。而那些你已经编辑过但几经修改还没改的文件呢？你不应该上传它们并在提交中加入更多的噪音。

要做到这一点，在上传之前一定要仔细检查修改，并确保只进行必要的修改。如果你有疑问，甚至可以使用比较工具。

# **4。你会经常提交**

很多人害怕犯下半成品的事情，然后在历史上看起来像这样，好像一个软件开发的所有特征在我们编写的时候都达到了完美。

每次你有想要保存的代码时，你都应该提交，因为它有一些有趣的东西，它是一个完整的部分，或者你离开并想要保护工作。

此外，请记住，在 Git 这样的分布式系统中，提交并不意味着您必须推送并将其上传到远程存储库。本地存储库将记录你的工作并保护它。远程存储库将工作传递给你的同事，控制每个人的工作，并且也有备份副本。

# **5。你要确保这些评论是有价值的**

提交消息应该简洁，但同时提供信息并增加价值。它应该有你需要的一切，但不能更多。因此你应该列出已经发生的重大变化以及原因。这有助于您定位行为、功能或缺陷发生变化的位置。它还有助于一目了然地了解最近完成了哪些工作及其进展。

# **6。您将在提交之前执行提取/拉取操作**

在最后一次提交后开始处理代码之前，执行一次获取或提取操作，从远程获取更改，并获取您的同事所做的最后一件事。因此，您将在未来避免许多冲突，最重要的是，如果您没有很好地管理他们，您将防止覆盖他们的工作。

这在 Subversion 这样的非分布式系统中非常重要，因为您可能会直接让自己承担他人的工作。然而，像 Git 这样的其他系统不允许它这么快发生。

# **7。你不会直接推主**

存储库管理员不应该再允许这样做了，但是每个特性或 bug 都应该在它的分支中处理，所有的推送都应该在这个分支中接收。这些分支应该依次从开发分支中出来，所以一旦相关的工作完成，该分支应该与开发分支合并。

只有最终的、经过良好测试的、经过修订的代码应该交给主管，这应该需要有人批准的拉请求。一些存储库系统，比如 Bitbucket 或 GitLab，默认情况下已经这样配置了，以避免出现问题。

# **8。你会很好地理解混合和比较工具**

当混合分支和从远程接收更新时，冲突是不可避免的。因此，要学会使用整合到工作系统中的比较工具。它可以是您最喜欢的 Git 客户端的“diff”工具，也可以是一些强大的(免费的)外部工具，比如我喜欢的 WinMerge。

当冲突出现时，它将是你的救赎。当没有冲突时，您需要查看文件的不同版本中发生了什么变化来发现错误。

# **9。你将你的数据库和其他东西版本**

有些人认为源代码控制只用于代码，因为它在名称中。绝对的。您应该管理与项目有关的一切，例如内部和外部文档、图形、规范、流程图，尤其是数据库的版本。

为此，您不需要保存数据库，而是以 SQL 语句格式保存它的模式，以便随时重建它并了解它随时间的演变。

# 10。你将排除你的低劣代码控制的东西

没有什么比伴侣每次提交都覆盖你的设置更烦人的了。而且很多东西不应该在源代码控制之下:你在你使用的代码编辑器中的设置，只有你自己使用的辅助文件，编译结果，依赖关系等等。

文件。gitignorein Git 或 Subversion 中的属性 svn: ignore 是为最著名的事物命名而发明的。把要从代码控制中排除的文件和文件夹放在那里，并确保你没有包含烦人的或偶然的东西。

如果你知道如何正确使用这种类型的系统，以上许多对你来说似乎是显而易见的。但是以我的经验来看，很多人忘记了基础知识，从长远来看，把团队的其他人和代码都搞砸了。当然也可以添加一些额外的提示。

*更多内容尽在*[***plain English . io***](http://plainenglish.io/)