# 关于建立你自己的反应钩子

> 原文：<https://javascript.plainenglish.io/on-building-your-own-react-hooks-5d5c2aa429ba?source=collection_archive---------14----------------------->

![](img/52b11e9b327c3815411f155cddcbf27b.png)

在 React v16.8.0 之前，在组件之间传递有状态逻辑的两种流行方式是**渲染道具**和**高阶组件**。随后出现了钩子，它被设计成允许在功能组件中使用类似状态和生命周期方法的功能。关于这个话题的更多信息，请查看我下面的帖子:

[](https://denalibalser.medium.com/intro-to-react-hooks-usestate-useeffect-what-why-when-179996b37cc1) [## 介绍 React 挂钩、使用状态和使用效果:什么、为什么和何时

### React Hooks 于 2019 年 2 月与 React v16.8.0 一起发布。Hooks 背后的想法是允许开发人员编写…

denalibalser.medium.com](https://denalibalser.medium.com/intro-to-react-hooks-usestate-useeffect-what-why-when-179996b37cc1) 

这篇文章将关注如何创建你自己的定制钩子，它的价值在于共享和重用小块代码的容易程度，而不必向树中添加更多的类组件。

## 挂钩背景

钩子是在组件之间共享有状态和副作用功能的一种方式。它们不应该在任何情况下都使用。回到 React 废弃的文档中，钩子可以很容易地与过去的**mixins**——(ES6 中不再接受)进行比较，一旦接受了包含应用于某个类的方法/属性的对象数组，就允许将附加功能的*混合到 React 组件的*中。

理解钩子和 mixins 之间的关系有助于确定钩子的使用在功能上是否合适。例如，组件混合不能用来创建一个类似 Redux 的存储来保存应用程序的整个状态——钩子也不能。

另一个非常重要的概念是钩子应该**而不是**被用来代替状态管理器，因为它们被绑定到组件上，通常你会需要不绑定到组件上的状态(例如从服务器或 API 接收的数据的高速缓存)。钩子是本地的，但是有些状态是全局的——这意味着状态管理器(至少在 ES6 中)总是必要的。

## 介绍…定制挂钩**人群疯狂* *

定制钩子的设计自然遵循钩子的设计，而不是反应特性。您可以从组件中提取通用的功能/逻辑，并将其放入可重用的定制钩子中，以减少重复代码。这有助于简化钩子在功能上扩展的功能组件。在命名自定义钩子时，应该总是以' *use，'【T11 开头，就像非自定义 React 钩子一样。*

共享同一个钩子*的两个组件不共享同一个状态。定制钩子允许你重用有状态逻辑，但是，每次使用定制钩子时，所有的状态和副作用都是完全隔离的。这意味着对钩子的每个*调用*都得到一个隔离状态，即每个对钩子的调用都是独立的。*

将复杂的逻辑隐藏在简化的接口后面，或者将复杂的组件分开，这就是钩子的设计目的。然而，特别是如果你是钩子的新手，为了优化功能和减少代码中的重复，最好在重构空间中使用它们。

*更多内容看*[***plain English . io***](http://plainenglish.io/)