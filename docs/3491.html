<html>
<head>
<title>4 Reasons Why ‘var’ is Considered Obsolete in Modern JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">“var”在现代JavaScript中被认为过时的4个原因</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/4-reasons-why-var-is-considered-obsolete-in-modern-javascript-a30296b5f08f?source=collection_archive---------3-----------------------#2021-07-14">https://javascript.plainenglish.io/4-reasons-why-var-is-considered-obsolete-in-modern-javascript-a30296b5f08f?source=collection_archive---------3-----------------------#2021-07-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1982" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用“var”的陷阱以及“var”和“let”的区别。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d1587ac1afdc0d9353028b2738a4db93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-LwULLrnKu3ZHIsy"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@pakata?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pakata Goh</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2521" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JavaScript是一种强大的语言，因为你可以编写一个完整的软件，根本不用采用任何其他编程语言。</p><p id="9192" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">var</code>曾经是JavaScript中声明变量的一种方式。然而，以这种方式声明一个变量或对象现在已经很少见了，因为它会在你的JavaScript项目中制造噩梦。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="c03d" class="ma mb iq lv b gy mc md l me mf">var obj = {} <br/>// instead let (or const) is used to declare a variable<!-- --> </span></pre><p id="f898" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从ECMAScript 6开始，引入了<code class="fe ls lt lu lv b">let</code>语句。</p><p id="fc93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面简单介绍一下为什么在JavaScript项目中不再或很少使用<code class="fe ls lt lu lv b">var</code>来声明变量。</p><blockquote class="mg mh mi"><p id="21d2" class="kw kx mj ky b kz la jr lb lc ld ju le mk lg lh li ml lk ll lm mm lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>如果你已经熟悉使用var的陷阱，这篇文章仍然可以作为一个很好的复习。</p></blockquote></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h2 id="a29a" class="ma mb iq bd mu mv mw dn mx my mz dp na lf nb nc nd lj ne nf ng ln nh ni nj nk bi translated">1.范围界定——避免var的主要原因</h2><p id="9439" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">作用域是var和let的关键区别。</p><p id="9b7c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">var</code>变量的作用域是直接函数体(因此是函数作用域),而<code class="fe ls lt lu lv b">let</code>变量的作用域是直接<em class="mj">包围由<code class="fe ls lt lu lv b">{ }</code>表示的</em>块。</p><p id="821a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们通过代码来理解这意味着什么。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="f76c" class="ma mb iq lv b gy mc md l me mf">function run() {</span><span id="dce8" class="ma mb iq lv b gy nq md l me mf">var foo = "Foo";<br/>let bar = "Bar";<br/>console.log(foo, bar); // Foo Bar</span><span id="62a4" class="ma mb iq lv b gy nq md l me mf">{<br/> var moo = "Mooo"<br/> let baz = "Bazz";<br/> console.log(moo, baz); // Mooo Bazz<br/>}<br/>console.log(moo); // Mooo<br/>console.log(baz); // ReferenceError</span><span id="c83a" class="ma mb iq lv b gy nq md l me mf">}</span><span id="6a99" class="ma mb iq lv b gy nq md l me mf">run();</span></pre><p id="b198" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将关键字<code class="fe ls lt lu lv b">let</code>引入语言的原因是函数作用域令人困惑，这也是JavaScript中错误的主要来源之一。</p></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h2 id="fb1f" class="ma mb iq bd mu mv mw dn mx my mz dp na lf nb nc nd lj ne nf ng ln nh ni nj nk bi translated">2.吊装——不用担心<code class="fe ls lt lu lv b">let</code></h2><p id="dd58" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">首先，我们需要回顾一下什么是吊装。</p><blockquote class="mg mh mi"><p id="fd1b" class="kw kx mj ky b kz la jr lb lc ld ju le mk lg lh li ml lk ll lm mm lo lp lq lr ij bi translated">变量甚至在声明之前就可以在它们的封闭范围内被访问。</p></blockquote><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="8cc8" class="ma mb iq lv b gy mc md l me mf">function run() {<br/>  <br/>  console.log(foo); // undefined <br/>  // <!-- -->Hoisting in action !<br/>  <br/>  var foo = "Foo";<br/>  console.log(foo); // Foo<br/>}<br/><br/>run();</span></pre><p id="8183" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是不用担心！<code class="fe ls lt lu lv b">Let</code>不会让这种情况发生。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="1175" class="ma mb iq lv b gy mc md l me mf">function checkHoisting() {<br/>  console.log(foo); // ReferenceError<br/>  let foo = "Foo";<br/>  console.log(foo); // Foo<br/>}<br/><br/>checkHoisting();</span></pre></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h2 id="9271" class="ma mb iq bd mu mv mw dn mx my mz dp na lf nb nc nd lj ne nf ng ln nh ni nj nk bi translated">3.全局对象绑定</h2><blockquote class="mg mh mi"><p id="7925" class="kw kx mj ky b kz la jr lb lc ld ju le mk lg lh li ml lk ll lm mm lo lp lq lr ij bi translated">在顶层，<code class="fe ls lt lu lv b">let</code>与<code class="fe ls lt lu lv b">var</code>不同，不在全局对象上创建属性。</p></blockquote><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="9eaa" class="ma mb iq lv b gy mc md l me mf">var foo = "Foo";  // globally scoped<br/>let bar = "Bar"; // not allowed to be globally scoped<br/><br/>console.log(window.foo); // Foo<br/>console.log(window.bar); // undefined</span></pre></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><h2 id="5323" class="ma mb iq bd mu mv mw dn mx my mz dp na lf nb nc nd lj ne nf ng ln nh ni nj nk bi translated">4.重新申报。不擅长Let</h2><blockquote class="mg mh mi"><p id="90fd" class="kw kx mj ky b kz la jr lb lc ld ju le mk lg lh li ml lk ll lm mm lo lp lq lr ij bi translated">在严格模式下，<code class="fe ls lt lu lv b">var</code>将允许您在相同的范围内重新声明相同的变量，而<code class="fe ls lt lu lv b">let</code>会引发一个SyntaxError。</p></blockquote><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="c6e8" class="ma mb iq lv b gy mc md l me mf">'use strict';<br/>var foo = "foo1";<br/>var foo = "foo2"; // No problem, 'foo1' is replaced with 'foo2'.<br/><br/>let bar = "bar1"; <br/>let bar = "bar2"; // SyntaxError: Identifier 'bar' has already been declared</span></pre></div><div class="ab cl mn mo hu mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ij ik il im in"><p id="86f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">查看实际的<a class="ae kv" href="https://stackoverflow.com/questions/762011/whats-the-difference-between-using-let-and-var/11444416#11444416" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">stack overflow</strong></a>线程以获得更多信息，或者如果您认为我遗漏了什么，请写在评论中。我会补充这一点，并相应地更新文章。</p><p id="fb66" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">快乐阅读！</p><p id="1c7b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mj">更多内容尽在</em> <a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mj">说白了</em> </strong> </a></p></div></div>    
</body>
</html>