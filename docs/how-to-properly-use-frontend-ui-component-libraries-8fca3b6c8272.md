# 如何正确使用前端 UI 组件库

> 原文：<https://javascript.plainenglish.io/how-to-properly-use-frontend-ui-component-libraries-8fca3b6c8272?source=collection_archive---------11----------------------->

## Vuetify、Material-UI、React Bootstrap——如何在维护最少的情况下使用它们

![](img/d8d33ed5908e59e6157832912b846b57.png)

Photo by [Ash Edmonds](https://unsplash.com/@badashproducts?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/macbook-colors?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

当我开始从事我目前的商业项目时，我注意到我们正在使用 Vuetify 作为 Vue.js 应用程序的组件库。

有大量的技术债务需要解决，Vuetify 的实现只是其中之一。

起初，我们需要升级版本——它在 1.5 版上，对它的支持在 2020 年 7 月结束。是的，v2.x 有许多突破性的变化。

由于没有正确使用 Vuetify，这次更新花了几个星期。

然而，在升级和重构实现之后，我们已经找到了一种让任何突破性更新变得流畅的方法；最多几个小时。

我想与你分享最好的模式，这样你就不会重复同样的错误。这里的例子在 Vuetify 中，但是它背后的理论适用于所有的组件库。

# 我们实施的最大问题

说实话，我不喜欢这些图书馆。我只是喜欢从头开始做每件事。但我很可能只是一个纯粹的 HTML/CSS/JS 爱好者。

尽管如此，在做了很多次之后，这个过程是如此的圆滑和简单。而且你可以完全控制你的代码，没有任何来自外部依赖的压力。

但一开始这里别无选择。我们的应用程序很庞大，它使用 Vuetify，我们需要升级它。我们使用许多组件，如`v-btn`、`v-dialog`、`v-checkbox`、`v-select`等。

让我们以`v-btn`为例。

像现在的任何网络应用一样，我们的应用有很多按钮。要实现它们，我们只需要检查 Vuetify(或任何其他库)的文档并揭示其中的神奇之处。

哦，酷。所以在初始设置之后，我只需要做:

```
<v-btn>Some text</v-btn>
```

它会呈现一个按钮和所有的好处！

嗯，但是我想改变它的背景颜色，让它变圆。让我再查一下文件。太棒了，所以我只需要这样做:

```
<v-btn
  color="#232323"
  rounded
>
  Some text
</v-btn>
```

我可以不用 CSS 就能得到我的样式按钮，哇哦！

我还需要在其他一些地方的按钮，但它的风格会有点不同。我再渲染一下`<v-btn …props />`。

在应用程序中有许多地方我们使用这个组件。**上次查的时候是 423。**

这意味着——如果 Vuetify 为`v-btn`推出一个具有突破性变化的更新，我们将不得不在整个应用程序的 423 个地方改变它的实现。

但是我们不仅仅使用按钮。我们使用它的许多组件；整个代码库超过 3200 次。

为了更新 Vuetify 的这个历史版本，我们需要手动更新每个组件。

当然，我们需要测试一切。这就是为什么我们花了几个星期的时间和公司一大笔钱的原因。

# 第一课。仅使用一次 v-btn

嗯，这怎么可能？我在应用程序中有 423 个按钮，为什么我只能在一个地方使用？

要使用此模式，请创建一个组件。姑且称之为`app-btn`。

在该组件中，您将呈现`v-btn`。这是代码库中唯一可以找到它的地方。

`app-btn`接受许多道具来操纵其风格。在你和你的设计师就按钮版本达成一致后，你可以将`app-btn`道具转换成`v-btn`道具。

为了简单起见，假设你同意了两种风格:`primary`和`secondary`。

`primary`按钮样式有蓝色背景色。`secondary`有透明背景。

如果你的`app-btn`得到`primary`作为道具，你会把`color="blue"`传给`v-btn`。

如果你的`app-btn`得到`secondary`作为道具，你会把`text`传给`v-btn`。

你为什么要这么做？

好吧，如果 Vuetify 在`v-btn` API 上引入了任何突破性的变化，比如说，将`color`重命名为`background-color`，或者将`text`重命名为`flat`，你就必须在一个地方对其进行重构。

这可以节省数周时间。

我假设您也为您的应用程序编写测试。你使用`data-test`属性吗？当 Vuetify 升级时，它们的位置有时会改变。

这意味着——也要重构测试。

这可能意味着——许多意想不到的错误。

## 额外的好处:一致性

让我们检查一下`v-btn` API。目前，它接受 47 种不同的道具。有些是布尔值，有些是数字，有些是字符串。

这意味着你可以把所有的按钮组合成成百上千种不同的样式。

但是你不希望这样——你的应用看起来很糟糕！

你只是想有几个按钮变体，仅此而已。

通过使用`app-btn`有限的道具，你可以做到这一点。你不需要全部 47 个。

# 第二课。无用的组件

我同意库中的一些组件非常有用——尤其是如果你没有很多 HTML/CSS 知识的话。

实现一个对话框可能很棘手。

在这一点上，你们中的一些人不会同意我的观点——但是许多组成部分都是无意义的。

`v-flex`是带`display: flex`的`div`。用纯粹的 CSS/SCSS 和 HTML 来写不是更容易吗？

通过这样做，你了解了网络的核心。前端框架和库每天都会被替换和更新。

为了保持领先，你需要了解 HTML/CSS/JS 和 Web 的基本知识。这样，你会很快适应。

`v-flex` API 会被遗忘。但是你的 CSS 知识不会。

不记得`v-flex` API 了。记住 CSS。`display: flex;`和`justify-content;`将解决你的许多问题。

不要让这简单的两行代码隐藏在组件库的魔力后面。

# 神奇的好处

重构之后，我们有了 10 个定制组件来包装 Vuetify。

这意味着如果 Vuetify 改变了什么，我们只需要在 10 个地方进行更新！

升级时间从几周缩短到仅仅几个小时，甚至更短。

除此之外，我们在这里关注“真正的”知识，浏览器的基础知识。这在每天变化的前端世界中非常重要。

我希望这篇文章能为你节省几周甚至几个月的重构时间。

请记住，如果有意义的话，您可以将这些知识应用于任何图书馆。

不要在整个代码库中导入相同的包。你将会在一个外部依赖的地狱中结束。

如果这些包非常简单，就不要使用它们。靠自己去做，学习一些会伴随你多年的东西。

不只是几个月，直到有另一个突破性的变化。

*更多内容尽在*[***plain English . io***](http://plainenglish.io)