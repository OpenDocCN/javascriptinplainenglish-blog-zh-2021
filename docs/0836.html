<html>
<head>
<title>I’m Not Using JavaScript Anymore</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我不再使用JavaScript了</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/im-not-using-javascript-anymore-6851c707b3d1?source=collection_archive---------3-----------------------#2021-02-21">https://javascript.plainenglish.io/im-not-using-javascript-anymore-6851c707b3d1?source=collection_archive---------3-----------------------#2021-02-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/d684a41c00a8427f87c79ef723b87d77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CTDoTk6JVfCY_Z8jJobVKw.png"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">PC: embroker</figcaption></figure><div class=""/><p id="be32" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在过去的几年里，我几乎停止了编写JavaScript。你可能会问为什么。不代表我不喜欢JavaScript。但是，有一个更好的JavaScript版本，<strong class="kb jd"> TypeScript </strong>。是的，我已经开始用TypeScript开发我所有的库和应用程序。它也包括后端。</p><p id="6c28" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在本文中，我将尝试回答为什么应该使用TypeScript而不是JavaScript这个问题。本文不讨论JavaScript的优点和缺点。而不是只关注TypeScript中好的部分。</p><figure class="ky kz la lb gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi kx"><img src="../Images/ef89afc7465ddc3c1dc8cba8133853eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SYNhIvhzDTqYOWZrkc0qjw.jpeg"/></div></div></figure><h2 id="e941" class="lc ld jc bd le lf lg dn lh li lj dp lk kk ll lm ln ko lo lp lq ks lr ls lt lu bi translated">第一章。开始</h2><p id="20db" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">你可能知道，每个故事都有开始的地方。很久以前我就从事打字工作。然而，有时我不喜欢它。有时候，我觉得，这太难维持，所以我跳过它。然而，当我开始研究<a class="ae ma" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank">棱角分明的</a>时。我没有忽略打字稿特权。所有代码都是用TypeScript编写的。甚至例子都是用打字稿给出的。TypeScript是Angular的第一个也是最后一个选择。所以我必须提高我的打字稿知识。</p><p id="abb0" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我的第一反应是不好。这只是我，我不喜欢事情强加给我。但正如我提到的，我别无选择。因为那时我们正在一个大图书馆工作。我必须支持许多利益相关者(在这种情况下是开发人员)。很快我意识到，代码越长越大。它减少了我花时间解释事情的努力。我的第一印象就是这样改变的。</p><h2 id="66e1" class="lc ld jc bd le lf lg dn lh li lj dp lk kk ll lm ln ko lo lp lq ks lr ls lt lu bi translated">第二章。如何以及从哪里开始</h2><p id="8c9c" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">好了，现在我开始喜欢TypeScript了。事情仍然不清楚。我是技术负责人之一。我必须创建新的库和实用程序。做某件事很容易。但是从头开始构建需要您对该语言的理解。虽然，TypeScript是JavaScript。但是，生命周期有点不同。创建JavaScript需要一些其他的<strong class="kb jd">。js </strong>文件和一个<a class="ae ma" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank">节点包管理器(npm) </a>。巴别塔，如果你想用最新的ECMA标准来写代码的话。</p><figure class="ky kz la lb gt ip gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/5794623b68349d3fa5151b4e81b4bca2.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*IkSWWPyXt7riDEdG1u0EpA.png"/></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk"><strong class="bd mc">folder structure</strong></figcaption></figure><p id="990b" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">如您所见，您有一个包含源代码的<strong class="kb jd"> main.js </strong>。<strong class="kb jd"> __test__ </strong>包含所有的测试用例以及<strong class="kb jd"> package.json </strong>，要打包的元数据。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><pre class="ky kz la lb gt mk ml mm mn aw mo bi"><span id="bf1e" class="lc ld jc ml b gy mp mq l mr ms"><strong class="ml jd">// main.js</strong></span><span id="cd47" class="lc ld jc ml b gy mt mq l mr ms">const greetings = (name) =&gt; `Hello, ${name}`;</span><span id="5c08" class="lc ld jc ml b gy mt mq l mr ms">module.exports = {<br/>  greetings,<br/>};</span><span id="3850" class="lc ld jc ml b gy mt mq l mr ms"><strong class="ml jd">// package.json</strong></span><span id="d53b" class="lc ld jc ml b gy mt mq l mr ms">{<br/>  "name": "js-module",<br/>  "version": "1.0.0",<br/>  "description": "",<br/>  "main": "main.js",<br/>  "scripts": {<br/>    "test": "node __test__/geetings.test.js"<br/>  },<br/>  "keywords": [],<br/>  "author": "xdeepakv",<br/>  "license": "ISC"<br/>}</span><span id="5920" class="lc ld jc ml b gy mt mq l mr ms"><strong class="ml jd">// geetings.test.js</strong></span><span id="5751" class="lc ld jc ml b gy mt mq l mr ms">const assert = require("assert");<br/>const { greetings } = require("../");</span><span id="b48a" class="lc ld jc ml b gy mt mq l mr ms">assert.strictEqual(greetings("Deepak"), "Hello, Deepak");</span></pre><p id="5967" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">很简单对吧。是的，也许这是这个世界上最简单的模块之一。但是TypeScript，你需要一些额外的decorators(文件)比如<a class="ae ma" href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html" rel="noopener ugc nofollow" target="_blank"> TypeScript config </a>。您确实需要设置编译器选项。</p><p id="129e" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">一开始，TypeScript社区是新的。所以我很难找到正确的配置。与此同时，许多人在T2面临类似的问题。基本的TypeScript资源还可以。但是，仅仅用适当的CI/CD来构建库是不够的。</p><p id="5e16" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb jd">注意:</strong>我将在后面的章节中解释分步向导来构建TypeScript模块。暂时拿着啤酒。</p><h2 id="c3ca" class="lc ld jc bd le lf lg dn lh li lj dp lk kk ll lm ln ko lo lp lq ks lr ls lt lu bi translated"><span class="l mu mv mw bm mx my mz na nb di"> C </span>半抗原3。建造什么</h2><p id="51f7" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">经过长时间的研究和讨论，我们最终确定了我们的库的启动/搭建。下一个问题是，我们应该使用TypeScript构建什么。只有基本的前端库。我们确实有一些命令行工具，一些后端应用程序。我们应该如何制定选择语言(js/types)的指南？因为我们已经从上次的工作中得到了积极的反馈。所以我们决定尽可能多地建造。我们开始构建库，react组件，CLI工具，甚至我更进一步。我用TypeScript和GraphQL构建了一些后端应用。如果你想了解更多，请查看我的文章<a class="ae ma" href="https://deepak-v.medium.com/build-a-scalable-graphql-server-using-typescript-and-apollo-server-4c116ed1425e" rel="noopener">build-a-scalable-graph QL-server-using-TypeScript</a>。</p><h2 id="b7fa" class="lc ld jc bd le lf lg dn lh li lj dp lk kk ll lm ln ko lo lp lq ks lr ls lt lu bi translated">第四章。为什么使用TypeScript</h2><p id="57e3" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">JavaScript中不好的部分在TypeScript中得到了解决，变成了好的部分。开玩笑的。TypeScript并没有试图解决JavaScript不好的部分。然而，它试图最小化由那些坏零件引起的错误/失误。在另一种意义上，它通过提供更好的支持来补充JS不好的部分。</p><h2 id="7ff0" class="lc ld jc bd le lf lg dn lh li lj dp lk kk ll lm ln ko lo lp lq ks lr ls lt lu bi translated">第五章。打字稿的优点</h2><ol class=""><li id="8cdc" class="nc nd jc kb b kc lv kg lw kk ne ko nf ks ng kw nh ni nj nk bi translated"><strong class="kb jd">开始一个新的项目配置:</strong> TypeScript有<a class="ae ma" href="https://www.typescriptlang.org/download" rel="noopener ugc nofollow" target="_blank"> CLI </a>在项目中创建新的配置。<code class="fe nl nm nn ml b">tsc --init</code></li><li id="24e6" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nh ni nj nk bi translated"><strong class="kb jd">支持所有浏览器和ECMA标准:</strong> TypeScript <a class="ae ma" href="https://www.typescriptlang.org/tsconfig#compilerOptions" rel="noopener ugc nofollow" target="_blank">编译器选项</a>你可以提供目标ECMA标准。</li><li id="d7a0" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nh ni nj nk bi translated"><strong class="kb jd">定义源文件夹(包含):</strong>自从在node.js上工作，一切都是”。js”。最大的挑战是将源代码与脚本的其余部分分离开来。TypeScript config使它变得非常简单。它还支持包含和排除选项。同时有了<a class="ae ma" href="https://www.typescriptlang.org/tsconfig#paths" rel="noopener ugc nofollow" target="_blank"> <strong class="kb jd">路径</strong> </a>的支持，你就不用再写冗长的导入语句了。</li><li id="81e0" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nh ni nj nk bi translated">对严格规则的支持:在使用TypeScript之前，我必须使用<a class="ae ma" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="kb jd"> eslint </strong> </a>和另一个linter模块来启用一些基本规则，比如避免空值。然而，TypeScript也支持这样的基本规则。有很多这样的<a class="ae ma" href="https://www.typescriptlang.org/tsconfig#alwaysStrict" rel="noopener ugc nofollow" target="_blank">规则</a>可以重用。如果你正在寻找更多的规则。您可能想要检查<a class="ae ma" href="https://github.com/typescript-eslint/typescript-eslint" rel="noopener ugc nofollow" target="_blank"> typescript-eslint </a>来用typescript扩展<strong class="kb jd"> eslint </strong>。</li><li id="302e" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nh ni nj nk bi translated"><strong class="kb jd">向后兼容性:</strong> TypeScript由微软提供支持。它的社区非常强大。他们经常发布，同时他们有更好的向后兼容性。现在，从一个版本到另一个版本的过渡非常顺利(当我使用TypeScript 2时，情况并非如此)。</li><li id="fa6c" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nh ni nj nk bi translated"><strong class="kb jd"> JavaScript支持:</strong>如果你用的是TypeScript，不代表你不能用JavaScript。总之，TypeScript是JS的超集。TypeScript支持JavaScript。你只需要在tsconfig中启用<strong class="kb jd"> allowJS </strong>标志。</li><li id="59da" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nh ni nj nk bi translated"><strong class="kb jd">JavaScript的超集:</strong>这是我开始使用TypeScript的最大关键点。打字稿总是在前面，并与ECMA标准对齐。当ECMA标准发布新的规格。它是在浏览器中实现之前以类型脚本的方式添加的。对于那些不知道ECMA标准的人。请阅读这个维基。</li></ol><p id="bf60" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb jd">例子:</strong></p><ul class=""><li id="40c4" class="nc nd jc kb b kc kd kg kh kk nt ko nu ks nv kw nw ni nj nk bi translated"><a class="ae ma" href="https://www.typescriptlang.org/docs/handbook/classes.html" rel="noopener ugc nofollow" target="_blank">类</a></li><li id="8c47" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nw ni nj nk bi translated"><a class="ae ma" href="https://www.typescriptlang.org/docs/handbook/classes.html#public-private-and-protected-modifiers" rel="noopener ugc nofollow" target="_blank">公共、私有和受保护修饰符</a></li><li id="b501" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nw ni nj nk bi translated"><a class="ae ma" href="https://www.typescriptlang.org/docs/handbook/enums.html" rel="noopener ugc nofollow" target="_blank">枚举</a></li><li id="5101" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nw ni nj nk bi translated"><a class="ae ma" href="https://www.typescriptlang.org/docs/handbook/basic-types.html#string" rel="noopener ugc nofollow" target="_blank">字符串模板</a></li><li id="426b" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nw ni nj nk bi translated"><code class="fe nl nm nn ml b"><a class="ae ma" href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-1-7.html#asyncawait-support-in-es6-targets-node-v4" rel="noopener ugc nofollow" target="_blank">async</a></code> <a class="ae ma" href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-1-7.html#asyncawait-support-in-es6-targets-node-v4" rel="noopener ugc nofollow" target="_blank"> / </a> <code class="fe nl nm nn ml b"><a class="ae ma" href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-1-7.html#asyncawait-support-in-es6-targets-node-v4" rel="noopener ugc nofollow" target="_blank">await</a></code> <a class="ae ma" href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-1-7.html#asyncawait-support-in-es6-targets-node-v4" rel="noopener ugc nofollow" target="_blank">支持ES6中的目标(节点v4+) </a></li><li id="ad9b" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nw ni nj nk bi translated"><a class="ae ma" href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-3.html#async-iteration" rel="noopener ugc nofollow" target="_blank">生成器</a>/异步迭代器ts 2.3</li><li id="8908" class="nc nd jc kb b kc no kg np kk nq ko nr ks ns kw nw ni nj nk bi translated">ES6导入</li></ul><p id="4736" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">要阅读更多关于TypeScript中引入的变化/特性的信息，请阅读<a class="ae ma" href="https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes" rel="noopener ugc nofollow" target="_blank"> this </a>。</p><h2 id="1d40" class="lc ld jc bd le lf lg dn lh li lj dp lk kk ll lm ln ko lo lp lq ks lr ls lt lu bi translated">第六章。快乐结局/续…外卖</h2><p id="4ba0" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">像其他故事一样，这段旅程也有自己的结局。到目前为止，我对TypeScript的使用很满意。但这并不意味着，我已经到此为止了。我开始寻找另一种语言，比如Deno，并探索各种选择。但是，这个社区还很年轻，还需要时间来成长。但似乎很有希望。我相信它会持续更久。</p><figure class="ky kz la lb gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nx"><img src="../Images/3e5b6fb73b1fe4345b1cd44bb651c008.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NPFa7ZDBpjXtE0Sx"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Photo by <a class="ae ma" href="https://unsplash.com/@alx_andru?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alex</a> on <a class="ae ma" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="7730" class="lc ld jc bd le lf lg dn lh li lj dp lk kk ll lm ln ko lo lp lq ks lr ls lt lu bi translated">如何创建脚本模块</h2><p id="12d7" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">正如我所承诺的，我将一步一步地告诉你如何创建一个TypeScript模块。下面是将上述create JavaScript模块转换为TypeScript的步骤。</p><p id="f396" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb jd"> 1。添加打字稿</strong> : <code class="fe nl nm nn ml b">npm i — save-dev typescript</code></p><p id="4af7" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb jd"> 2。初始化类型脚本配置:</strong> <code class="fe nl nm nn ml b">npx tsc --init</code></p><p id="e003" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb jd"> 3。更新文件夹结构:</strong></p><figure class="ky kz la lb gt ip gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/c514b701072f365182afe842c02fb627.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*5WoeyCScQ_-B9sR7v51LLQ.png"/></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">ts-module</figcaption></figure><p id="974c" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb jd"> 4。将基本配置更新为tsconfig.json: </strong></p><pre class="ky kz la lb gt mk ml mm mn aw mo bi"><span id="cb3a" class="lc ld jc ml b gy mp mq l mr ms">{<br/>  "compilerOptions": {<br/>    "target": "es5",<br/>    "module": "commonjs",<br/>    "strict": true,<br/>    "esModuleInterop": true,<br/>    "rootDir": "./src", <strong class="ml jd">/* define src directory*/</strong><br/>    "outDir": "./lib" <strong class="ml jd">/* define js output directory*/</strong><br/>  }<br/>}</span></pre><p id="9b63" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb jd"> 5。在<em class="ny"> package.json </em>和<em class="ny"> main.ts </em> : </strong>中添加构建脚本</p><pre class="ky kz la lb gt mk ml mm mn aw mo bi"><span id="2782" class="lc ld jc ml b gy mp mq l mr ms"><strong class="ml jd">// main.ts</strong></span><span id="8901" class="lc ld jc ml b gy mt mq l mr ms"><strong class="ml jd">export const greetings = (name: string) =&gt; `Hello, ${name}`;</strong></span><span id="45c6" class="lc ld jc ml b gy mt mq l mr ms"><strong class="ml jd">// package.json</strong></span><span id="7955" class="lc ld jc ml b gy mt mq l mr ms">{<br/>  "name": "js-module",<br/>  "version": "1.0.0",<br/>  "description": "",<br/>  <strong class="ml jd">"main": "lib/main.js",</strong><br/>  "scripts": {<br/>    <strong class="ml jd">"build": "tsc",</strong><br/>    "test": "node __test__/geetings.test.js"<br/>  },<br/>/// rest of the code.</span><span id="ae5e" class="lc ld jc ml b gy mt mq l mr ms">}</span></pre><p id="524f" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">您已经创建了一个基本的类型脚本库。要创建高级模块，我将推荐使用<a class="ae ma" href="https://github.com/formium/tsdx" rel="noopener ugc nofollow" target="_blank"> tsdx: Zero config CLI </a>。</p><p id="2800" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">谢谢，我希望你喜欢这篇文章。请竖起大拇指支持和关心。干杯！</p><h2 id="0ef8" class="lc ld jc bd le lf lg dn lh li lj dp lk kk ll lm ln ko lo lp lq ks lr ls lt lu bi translated">更新:</h2><ol class=""><li id="54ea" class="nc nd jc kb b kc lv kg lw kk ne ko nf ks ng kw nh ni nj nk bi translated">已更新5.5(严格规则)— <strong class="kb jd"> tslint </strong>已失效/被取消。感谢<a class="nz oa ep" href="https://medium.com/u/43cdde8f004?source=post_page-----6851c707b3d1--------------------------------" rel="noopener" target="_blank">戈登</a>的提醒。</li></ol></div></div>    
</body>
</html>