<html>
<head>
<title>Asynchronous Component Loading in Vue 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue 3中的异步组件加载</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/asynchronous-component-loading-in-vue-3-f8cd0860da23?source=collection_archive---------12-----------------------#2021-01-13">https://javascript.plainenglish.io/asynchronous-component-loading-in-vue-3-f8cd0860da23?source=collection_archive---------12-----------------------#2021-01-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="993c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用defineAsyncComponent在Vue 3中异步加载</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4881830328b14c92a11383f74db71cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*C0aQgoFWMo8a7U--"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@burntime?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alex Kulikov</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="61fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Vue3即将推出令人惊叹的功能。Vue 3附带了一个延迟加载特性。</p><p id="be79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以利用这一惊人的特性来提高我们的vue应用和优化的性能。</p><p id="63fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了异步加载组件，我们将从静态导入转移到异步语法。</p><p id="016f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用静态导入语句加载的同步组件将被添加到现有的应用程序包中。</p><p id="2d53" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果不使用代码分割，那么应用程序核心会变得更大，影响我们应用程序的整体性能。</p><p id="861e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了在vue3中异步加载组件，我们需要首先从vue导入一个defineAsyncComponent，它将负责异步加载组件。</p><p id="447b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">举个例子，我们想要异步加载一个名为<em class="ls"> Profile.vue </em>的组件</p><p id="0158" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了延迟加载组件，我们将首先从vue导入defineAsyncComponent，如下所示</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="ef0e" class="ly lz iq lu b gy ma mb l mc md">import {defineAsyncComponent} from “vue”</span></pre><p id="5810" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">导入它将使defineAsyncComponent在我们的组件中可用。</p><p id="6776" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们可以如下继续并延迟加载组件</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="dc39" class="ly lz iq lu b gy ma mb l mc md">const Profile = defineAsyncComponent (()=&gt; import(“@/components/Profile))</span></pre><p id="1003" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将把组件加载到一个单独的块中。</p><p id="c9e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您现在导航到network选项卡，您可以看到我们的配置文件组件现在被加载到一个单独的块中。</p><p id="6e0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们如何识别大块？</p><p id="2d0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Webpack附带了一个神奇的注释，我们可以利用这个神奇的注释给我们的组件块命名。</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="fa33" class="ly lz iq lu b gy ma mb l mc md">const Profile = defineAsyncComponent (()=&gt; import(/* webpackChunkName: “profile” */“@/components/Profile))</span></pre><p id="74c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您现在导航到network选项卡，您将看到我们的块已经被提供了一个名称profile。如果没有提供，webpack将自动为块生成一个名称。</p><p id="118f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以更进一步，为可能需要一段时间才能完全加载的组件创建自定义加载消息。</p><p id="893b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于可能需要大量时间才能完全呈现到页面中的组件，将显示此加载消息。</p><p id="9441" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还可以包括时间延迟。</p><p id="caed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要显示自定义加载消息，我们需要执行以下操作。</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="b357" class="ly lz iq lu b gy ma mb l mc md">const Profile = defineAsyncComponent (loader: ()=&gt; import(/* webpackChunkName: “profile” */“@/components/Profile),</span><span id="b456" class="ly lz iq lu b gy me mb l mc md">loadingComponent: Loading,</span><span id="b3c5" class="ly lz iq lu b gy me mb l mc md">delay:200)</span></pre><p id="6bea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用vue暂停边界时，您可以指定suspentible:false以防止暂停显示暂停错误边界。</p><p id="a58b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我还写了一篇关于vue2中组件异步加载的文章，你也可以看看。</p><h2 id="8344" class="ly lz iq bd mf mg mh dn mi mj mk dp ml lf mm mn mo lj mp mq mr ln ms mt mu mv bi translated"><strong class="ak">结论</strong></h2><p id="b4dc" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">简单回顾一下，我们已经看到了如何使用defineAsyncComponent在vue3中异步导入组件，以及它如何提高vue应用程序的性能和优化。</p><p id="adfc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢谢你把这篇文章读到这里。如果你觉得这篇文章有帮助，请不要犹豫，分享出来。</p></div></div>    
</body>
</html>