<html>
<head>
<title>How to Create Animated URLs with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript创建动画URL</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-animated-urls-with-javascript-b624b4592c29?source=collection_archive---------17-----------------------#2021-05-28">https://javascript.plainenglish.io/how-to-create-animated-urls-with-javascript-b624b4592c29?source=collection_archive---------17-----------------------#2021-05-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0d0a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">轻松制作URL中的字符和表情动画</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9d5a876afd4b277267a340af85e2cacf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JSQ6rq7KpQK1IAFkbWc6nw.gif"/></div></div></figure><p id="a30d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以在URL中使用表情符号和其他图形Unicode字符。哇，这不是很棒吗？但似乎没有人去做。为什么？或许是因为表情符号对普通网络平台来说太过陌生？又或许是因为害怕触怒SEO大神而避之不及？</p><p id="fd8a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不管是什么原因，维恩图上“这是可能的”和“没有人在做”的重叠部分通常是我兴奋的地方。所以，我决定花一点时间研究URL中图形字符的可能性。具体来说，有可能通过一些JavaScript动画这些角色。</p><h1 id="6e4d" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">我们开始吧！</h1><p id="1921" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">这些是产生令人敬畏的魔术的主要文件！</p><h2 id="1a08" class="mk lo iq bd lp ml mm dn lt mn mo dp lx la mp mq lz le mr ms mb li mt mu md mv bi translated">index.html</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h2 id="5d70" class="mk lo iq bd lp ml mm dn lt mn mo dp lx la mp mq lz le mr ms mb li mt mu md mv bi translated">script.js</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h2 id="405e" class="mk lo iq bd lp ml mm dn lt mn mo dp lx la mp mq lz le mr ms mb li mt mu md mv bi translated">style.css</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h1 id="f802" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">环</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/3cae651fe88c132204a06f186003f9e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3Y0BtC6hN-TweDm-vsXkxw.gif"/></div></div></figure><p id="c6d3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，确保你页面的JavaScript代码被标记为UTF-8，否则你将很难在代码中使用表情符号。这可以通过HTTP头或页面元标签来实现。很有可能你不用担心这个。</p><p id="b665" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了实现我们想要的结果，表情符号在地址栏中像糖李子仙女一样跳舞，我们需要一个循环。实际上，我们只需要一个循环。我们开始循环，它循环，我们很高兴。这是我们的第一个循环，一个旋转的表情符号月亮。我想当他们添加这个表情符号序列时，他们一定是有这个想法的，对吗？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/53a30d8f10ae4c62fa2c53fd677d1b69.png" data-original-src="https://miro.medium.com/v2/resize:fit:196/0*YWKyYxA6Ikzm9-Wi.gif"/></div></figure><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="8f38" class="mk lo iq nb b gy nf ng l nh ni">var f = ['🌑', '🌒', '🌓', '🌔', '🌝', '🌖', '🌗', '🌘'];</span><span id="83c3" class="mk lo iq nb b gy nj ng l nh ni">function loop() {<br/>        location.hash = f[Math.floor((Date.now()/100)%f.length)];</span><span id="ad09" class="mk lo iq nb b gy nj ng l nh ni">setTimeout(loop, 50);<br/>    }</span><span id="245a" class="mk lo iq nb b gy nj ng l nh ni">loop();</span></pre><p id="844a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行月球代码:</p><p id="d6c3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以单击上面的切换复选框，在您的地址栏中查看此循环的结果。</p><p id="4614" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你不喜欢旋转的月亮，你可以用任何你想要的表情符号来替换这个数组。像时钟一样:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/981c5660b4b34221cfc750914cfa0eda.png" data-original-src="https://miro.medium.com/v2/resize:fit:200/0*NjLbbuUce8y88Qm-.gif"/></div></figure><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="ae68" class="mk lo iq nb b gy nf ng l nh ni">var f = ['🕐','🕑','🕒','🕓','🕔','🕕','🕖','🕗','🕘','🕙','🕚','🕛'];</span></pre><p id="0711" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行时钟代码:</p><p id="d056" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是一个非常简单的例子。真的太简单了。因此，让我们升级我们的循环，使其生成多个表情符号的字符串！这一次，我们利用表情符号“肤色修改器”来制作一些变色婴儿:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/65a0c9960cccfb96cfce027485826f2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*X2lkqOwoZh3c3QYE.gif"/></div></div></figure><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="7e66" class="mk lo iq nb b gy nf ng l nh ni">var e = ['🏻', '🏼', '🏽', '🏾', '🏿'];</span><span id="c924" class="mk lo iq nb b gy nj ng l nh ni">function loop() {<br/>        var s = '',<br/>            i, m;</span><span id="73d0" class="mk lo iq nb b gy nj ng l nh ni">for (i = 0; i &lt; 10; i ++) {<br/>            m = Math.floor(e.length * ((Math.sin((Date.now()/100) + i)+1)/2));<br/>            s += '👶' + e[m];<br/>        }</span><span id="4018" class="mk lo iq nb b gy nj ng l nh ni">location.hash = s;</span><span id="e121" class="mk lo iq nb b gy nj ng l nh ni">setTimeout(loop, 50);<br/>    }</span><span id="4818" class="mk lo iq nb b gy nj ng l nh ni">loop();</span></pre><p id="24b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行婴儿代码:</p><p id="a7a0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们使用由时间和位置控制的正弦波来选择我们想要的颜色。这给了我们一个很好的循环变色效果！</p><p id="bcce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">或者我们重新看看我们的月球旋转器，把它展开，做一个类似装载指示器的东西怎么样？当然，我们开始吧:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/9b90b66c7cd1db0eccffa295001de7af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yPvHjw8lDaIhWZCv.gif"/></div></div></figure><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="3708" class="mk lo iq nb b gy nf ng l nh ni">var f = ['🌑', '🌘', '🌗', '🌖', '🌕', '🌔', '🌓', '🌒'],<br/>        d = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],<br/>        m = 0;</span><span id="fb67" class="mk lo iq nb b gy nj ng l nh ni">function loop() {<br/>        var s = '', x = 0;</span><span id="e7d0" class="mk lo iq nb b gy nj ng l nh ni">if (!m) {<br/>            while (d[x] == 4) {<br/>                x ++;<br/>            }</span><span id="36cf" class="mk lo iq nb b gy nj ng l nh ni">if (x &gt;= d.length) m = 1;<br/>            else {<br/>                d[x] ++;<br/>            }<br/>        }<br/>        else {<br/>            while (d[x] == 0) {<br/>                x ++;<br/>            }</span><span id="a01c" class="mk lo iq nb b gy nj ng l nh ni">if (x &gt;= d.length) m = 0;<br/>            else {<br/>                d[x] ++;</span><span id="dd9b" class="mk lo iq nb b gy nj ng l nh ni">if (d[x] == 8) d[x] = 0;<br/>            }<br/>        }</span><span id="0968" class="mk lo iq nb b gy nj ng l nh ni">d.forEach(function (n) {<br/>            s += f[n];<br/>        });</span><span id="2653" class="mk lo iq nb b gy nj ng l nh ni">location.hash = s;</span><span id="6cc8" class="mk lo iq nb b gy nj ng l nh ni">setTimeout(loop, 50);<br/>    }</span><span id="87a4" class="mk lo iq nb b gy nj ng l nh ni">loop();</span></pre><p id="d843" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行多月代码:</p><h1 id="d3b5" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">探索其他角色</h1><p id="ec4b" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">但不仅仅是表情符号给了我们从地址栏中抽取图片的方法。我们的目标对一大堆Unicode字符感兴趣。</p><p id="f31f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">特别有趣的是<a class="ae nm" href="https://en.wikipedia.org/wiki/Box-drawing_character" rel="noopener ugc nofollow" target="_blank">画盒子的人物</a>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/bd80be2e938cdd926f39b91f4b8f6b7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/0*i9hEYYr5f3mXzdFd.png"/></div></figure><p id="7755" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">其中许多更适合二维输出。但是他们在我们必须玩的单线上仍然相当不错。例如，我们可以制作一串多种高度变化的方块字符，并构建一个漂亮的小波浪:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/24e78fcd89a7af8218cbd5eee038c0f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/0*fOnmgPRC-eC3cTCL.gif"/></div></figure><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="45c2" class="mk lo iq nb b gy nf ng l nh ni">function loop() {<br/>        var i, n, s = '';</span><span id="9722" class="mk lo iq nb b gy nj ng l nh ni">for (i = 0; i &lt; 10; i++) {<br/>            n = Math.floor(Math.sin((Date.now()/200) + (i/2)) * 4) + 4;</span><span id="a0fd" class="mk lo iq nb b gy nj ng l nh ni">s += String.fromCharCode(0x2581 + n);<br/>        }</span><span id="b9ff" class="mk lo iq nb b gy nj ng l nh ni">window.location.hash = s;</span><span id="44ce" class="mk lo iq nb b gy nj ng l nh ni">setTimeout(loop, 50);<br/>    }</span><span id="d33b" class="mk lo iq nb b gy nj ng l nh ni">loop();</span></pre><p id="cda1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行波形代码:</p><p id="a864" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我非常喜欢这个造型，我把它永久挂在了wavyurl.com的<a class="ae nm" href="http://wavyurl.com/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="9231" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用可变宽度字符，我们甚至可以在水平方向上摆动，创建类似进度条的东西:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/8b6086fec24fd5919e908c5c3f56f963.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/0*Ya3-n6iHJ4QCDKzN.gif"/></div></figure><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="3dab" class="mk lo iq nb b gy nf ng l nh ni">function loop() {<br/>        var s = '',<br/>            p;</span><span id="92fe" class="mk lo iq nb b gy nj ng l nh ni">p = Math.floor(((Math.sin(Date.now()/300)+1)/2) * 100);</span><span id="16d3" class="mk lo iq nb b gy nj ng l nh ni">while (p &gt;= 8) {<br/>            s += '█';<br/>            p -= 8;<br/>        }<br/>        s += ['⠀','▏','▎','▍','▌','▋','▊','▉'][p];</span><span id="695a" class="mk lo iq nb b gy nj ng l nh ni">location.hash = s;<br/>        setTimeout(loop, 50);<br/>    }</span></pre><p id="b913" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行进度条代码:</p><p id="000f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">进度条吗？这就像，几乎有用。这让我想到…</p><h1 id="f818" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">在地址栏中显示视频进度</h1><p id="e05d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">为了减少我们小实验中的无聊，我想出了在URL中显示网络视频进度的主意。我只需附加一个函数，将我们的进度字符串呈现给视频的“timeupdate”事件，瞧！URL中的视频进度指示器，包括时间和持续时间！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/f1cfc6fae2db7dbac8edf52b6dd49ceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qRFWnPZsb31mDXpU.gif"/></div></div></figure><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="4b2b" class="mk lo iq nb b gy nf ng l nh ni">var video;</span><span id="a34a" class="mk lo iq nb b gy nj ng l nh ni">function formatTime(seconds) {<br/>        var minutes = Math.floor(seconds/60),<br/>            seconds = Math.floor(seconds - (minutes*60));</span><span id="4b34" class="mk lo iq nb b gy nj ng l nh ni">return ('0'+minutes).substr(-2) + ':' + ('0'+seconds).substr(-2);<br/>    }</span><span id="323d" class="mk lo iq nb b gy nj ng l nh ni">function renderProgressBar() {<br/>        var s = '',<br/>            l = 15,<br/>            p = Math.floor(video.currentTime / video.duration * (l-1)),<br/>            i;</span><span id="6ecd" class="mk lo iq nb b gy nj ng l nh ni">for (i = 0; i &lt; l; i ++) {<br/>            if (i == p) s +='◯';<br/>            else if (i &lt; p) s += '─';<br/>            else s += '┄';<br/>        }</span><span id="c1b0" class="mk lo iq nb b gy nj ng l nh ni">location.hash = '╭'+s+'╮'+formatTime(video.currentTime)+'╱'+formatTime(video.duration);<br/>    }</span><span id="a8a2" class="mk lo iq nb b gy nj ng l nh ni">video = document.getElementById('video');<br/>    video.addEventListener('timeupdate', renderProgressBar);</span></pre><p id="08cb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行视频进度条代码:</p><p id="fa5d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">选中以上复选框后，您可以使用下面的视频来尝试一下。</p><p id="800f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我相当喜欢这些线条和圆形进度条，但如果你喜欢一些月亮表情符号，我可以满足你:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/3f9852dbcbd06c96077933e10a39670e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Qc7Hx_EzzoGmEiAA.gif"/></div></div></figure><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="6396" class="mk lo iq nb b gy nf ng l nh ni">var e = ['🌑', '🌘', '🌗', '🌖', '🌕'],<br/>        video;</span><span id="44ad" class="mk lo iq nb b gy nj ng l nh ni">function formatTime(seconds) {<br/>        var minutes = Math.floor(seconds/60),<br/>            seconds = Math.floor(seconds - (minutes*60));</span><span id="258c" class="mk lo iq nb b gy nj ng l nh ni">return ('0'+minutes).substr(-2) + ':' + ('0'+seconds).substr(-2);<br/>    }</span><span id="9289" class="mk lo iq nb b gy nj ng l nh ni">function renderProgressBar() {<br/>        var s = '',<br/>            c = 0,<br/>            l = 10,<br/>            p = Math.floor(video.currentTime / video.duration * ((l*5)-1)),<br/>            i;</span><span id="832a" class="mk lo iq nb b gy nj ng l nh ni">while (p &gt;= 5) {<br/>            s += e[4];<br/>            c ++;<br/>            p -= 5;<br/>        }<br/>        s += e[p];<br/>        c ++;</span><span id="62ec" class="mk lo iq nb b gy nj ng l nh ni">while (c &lt; l) {<br/>            s += e[0];<br/>            c ++;<br/>        }</span><span id="2b3d" class="mk lo iq nb b gy nj ng l nh ni">location.hash = s+formatTime(video.currentTime)+'╱'+formatTime(video.duration);<br/>    }</span><span id="9094" class="mk lo iq nb b gy nj ng l nh ni">video = document.getElementById('video');<br/>    video.addEventListener('timeupdate', renderProgressBar);</span></pre><p id="871b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">好吧，称这个进度条“有用”有点夸张。但是如果我眯着眼睛，我几乎可以看到一个场景，在一个视频分享网址中有这个会很有用。比如YouTube可以选择在特定时间创建一个视频链接。包含一个视觉指示不是很酷吗？嗯嗯？</p><p id="12c9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">也许有一些我没有想到的更有用的“技术”实现。我会继续考虑的。嘿，也许你能想出点什么？</p><h1 id="8a8b" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">最后一件事</h1><p id="6e47" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">您可能想知道为什么我使用“location.hash ”,而不是更新更好的HTML5历史API。两个原因。一个可解。另一个不太好。都不方便。</p><p id="714c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">问题1也是历史API的一个特性:它实际上改变了整个URL路径，而不仅仅是散列。因此，如果我使用历史API并将我们的页面更改为"/🌑🌘🌗🌖🌕"，看起来会比加上#。但这也意味着我的web服务器必须能够响应"/🌑🌘🌗🌖🌕”，否则如果用户刷新或以其他方式导航到修改后的URL，他们将会倒霉。这是可行的，但比使用“location.hash =”更棘手，因为它不需要我以任何特殊的方式准备服务器。</p><p id="e98c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">问题2更出乎意料。结果是，在我测试的3个浏览器中，有2个的历史API被抑制了。如果我将我的波浪形URL字符快速推送到地址栏，我最终会在Chrome中得到以下错误:</p><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="0428" class="mk lo iq nb b gy nf ng l nh ni">Throttling history state changes to prevent the browser from hanging.</span></pre><p id="8363" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Safari非常好，可以给我们提供更多的信息:</p><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="93e6" class="mk lo iq nb b gy nf ng l nh ni">SecurityError: Attempt to use history.pushState() more than 100 times per 30.000000 seconds</span></pre><p id="2eed" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，如果我保持在这个限度以内，我就没事了。但是拜托，每秒3帧并不能满足我对ooey-gooey URL动画的需求。</p><p id="7859" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">另一方面，好孩子火狐似乎并不在乎我推了多少次新的历史或者多快。真是太体贴了。但是在两种主流浏览器中使用，再加上需要web服务器配置来修复问题1，这让我愿意在URL中使用一点#符号。</p><h1 id="d9b3" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">结局？</h1><p id="3856" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">我会把它留在那里。但是我会告诉你，我有一些想法来制作显示在地址栏中的小游戏。特别是考虑到我们还没有探索的盲文文字。敬请关注。</p><p id="413b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你有问题，评论，或者只是想了解我最新的修改，请跟我来。</p><p id="8e35" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">再见了。</p><p id="5fd9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ns">更多内容尽在</em><a class="ae nm" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="ns">plain English . io</em></a></p></div></div>    
</body>
</html>