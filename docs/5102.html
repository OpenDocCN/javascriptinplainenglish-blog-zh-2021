<html>
<head>
<title>How to Auto Rename Files With JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript自动重命名文件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-auto-rename-files-with-javascript-a72f4b6f2528?source=collection_archive---------5-----------------------#2021-10-16">https://javascript.plainenglish.io/how-to-auto-rename-files-with-javascript-a72f4b6f2528?source=collection_archive---------5-----------------------#2021-10-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6dfb" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何用JavaScript重命名文件</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/15af8125a021ebdf5f21fa5a59f45ad7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pONQHMf1vf-wjuA-"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@cebbinghaus?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Christopher Robin Ebbinghaus</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9223" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你想自动化一些你不得不反复做的事情时，JavaScript是非常强大的。自动化工作也帮助我们在那些我们宁愿花很多时间去做的事情上节省时间。</p><p id="033e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将看看如何通过在终端上提供一个参数来实现文件重命名过程的自动化，JavaScript将很快自动完成这项工作。</p><p id="2647" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们有几个文件，比如说几万个，我们想重命名它们，比如说，文件名以一个名字或ID开始，这取决于我们的偏好。手动操作会花费很多时间。</p><p id="9f15" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为什么现在要自动完成这项工作，让JavaScript在几秒钟内为我们完成呢？</p><h2 id="64d5" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">设置流程</strong></h2><p id="c83a" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们将利用NodeJS的能力，让我们在节点运行时运行JavaScript文件。创建一个文件夹，在文件夹里面，给它一个文件名叫做<strong class="ky ir"> <em class="mq"> index.js </em> </strong>。在这个文件中，我们将使用JavaScript创建应用程序逻辑。</p><p id="2bb1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，您可以在根项目文件夹中重命名一些文件，以便我们更容易看到发生了什么，并帮助我们更有效地引用这些文件。</p><p id="d644" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在index.js文件中，我们需要从NodeJS导入一个名为fs模块的模块。要了解更多关于这个模块的信息，请查看这个<a class="ae kv" href="https://nodejs.org/api/fs.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mq">链接。</em> </strong> </a></p><p id="1196" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个模块将帮助我们从不同的路径加载和处理文件。我们还需要各种正则表达式来帮助我们识别给定文件名中的字母和数字。</p><p id="a7dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还需要一个filetype正则表达式来识别文件的文件类型。为了确保用户从终端自动重命名文件，我们需要获取用户在终端上提供的参数。</p><p id="368a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将使用Node的<strong class="ky ir"> <em class="mq"> process.argv </em> </strong>来解析参数，这样我们就可以捕获来自用户的参数。</p><p id="a772" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请记住，它将参数返回到一个数组中，因此为了捕捉为重命名提供的参数，我们需要将数组中的第三个参数定位为<strong class="ky ir"><em class="mq">process . argv[2]</em></strong></p><p id="a22a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的目标是数组中的第三个元素，因为我们的终端命令将采用“node index.js name/id”的形式。</p><p id="9dde" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要阅读更多关于解析参数的内容，请查看这个<a class="ae kv" href="https://nodejs.org/en/knowledge/command-line/how-to-parse-command-line-arguments/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mq">链接。</em> </strong> </a></p><p id="16f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们的代码应该采用这种方法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="170d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在要运行自动重命名文件，您需要运行命令node index.js name或node index.js ID，这取决于您希望如何重命名给定的文件。</p><p id="e350" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请记住，此过程假设您的文件在文件名中有一个名称和id链接在一起。</p><h2 id="683d" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">结论</strong></h2><p id="066a" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">JavaScript可以用来自动化我们每天做的、会占用我们大量时间的事情。</p><p id="26ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您抽出时间，祝您编码愉快。</p><p id="fef3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mq">更多内容尽在</em><a class="ae kv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mq">plain English . io</em></strong></a></p></div></div>    
</body>
</html>