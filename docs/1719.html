<html>
<head>
<title>A Guide to Vue 3’s New Features and Changes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue 3的新功能和变化指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vue-3-breaking-changes-and-new-features-72e62515fda4?source=collection_archive---------9-----------------------#2021-04-12">https://javascript.plainenglish.io/vue-3-breaking-changes-and-new-features-72e62515fda4?source=collection_archive---------9-----------------------#2021-04-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/93467a5b1959a1a38bb35d0136911f48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1xq1NJlnAzzV33J0VJiTHg.jpeg"/></div></div></figure><p id="3900" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Vue 3团队为开发者发布了一个alpha版本，这样他们就可以使用Vue 3提供的一些特性。</p><p id="1be4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它不能用于生产。但是学习新特性和找出应该解决的错误总是好的。</p><blockquote class="kt ku kv"><p id="99ac" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated">Vue.js是最好最简单的客户端JavaScript框架之一，开发曲线较低。</p></blockquote><h2 id="0e45" class="la lb in bd lc ld le dn lf lg lh dp li kg lj lk ll kk lm ln lo ko lp lq lr ls bi translated">Vue 3突破性变化</h2><p id="ff80" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">如果您计划从Vue 2迁移到Vue 3，您应该知道Vue 3中的重大变化。让我们开始吧。</p><p id="39a8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 1。创建Vue应用程序</strong></p><p id="cb59" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要现在创建Vue应用程序，我们将不会创建Vue对象的实例；相反，我们将使用一个特殊的<code class="fe ly lz ma mb b">createApp()</code>函数。</p><p id="442d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是我们如何在Vue 2中创建Vue.js应用程序:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="9aee" class="la lb in mb b gy mk ml l mm mn">new Vue({<br/> el: “#app”<br/>});</span></pre><p id="fa6b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">相反，在Vue 3中，我们这样做:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="17dc" class="la lb in mb b gy mk ml l mm mn">const app = Vue.createApp(/* app config */);<br/> <br/>app.mount(“#app”);</span></pre><p id="eccb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 2。数据属性</strong></p><p id="ebcc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在Vue 2中，我们能够将数据用作方法和对象。但是在Vue 3中，数据选项应该总是一个方法。</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="b2a9" class="la lb in mb b gy mk ml l mm mn">const app = Vue.createApp({<br/> template: “&lt;div&gt; {{ msg }} &lt;/div&gt;”,<br/> data() {<br/>    return { msg: “Hello World!” };<br/> },<br/>});<br/> <br/>app.mount(“#app”);</span></pre><p id="75c8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 3。注册全局组件和模块</strong></p><p id="42a6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">全局组件、指令和第三方模块现在应该用<em class="kw"> app </em>挂载，而不是用<em class="kw"> Vue </em>实例挂载。新的是我们可以指定我们用<em class="kw"> emit </em>属性发出的方法，但是这是可选的。</p><p id="be65" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在Vue 2中注册一个全局组件:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="0f24" class="la lb in mb b gy mk ml l mm mn">Vue.component(‘home-button’, {<br/> template: ‘&lt;button @click=”incrementVal”&gt;Increment&lt;/button&gt;’,<br/> methods: {<br/>   incrementVal() {<br/>     this.$emit(‘increment’);<br/>   },<br/> },<br/>});</span></pre><p id="1a22" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在Vue 3中注册一个全局组件:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="2fdb" class="la lb in mb b gy mk ml l mm mn">const app = Vue.createApp(/* app config */);</span><span id="e920" class="la lb in mb b gy mo ml l mm mn">app.component(‘home-button’, {<br/> emits: ["increment"],<br/> template: ‘&lt;button @click=”incrementVal”&gt;Increment&lt;/button&gt;’,<br/> methods: {<br/>   incrementVal() {<br/>     this.$emit(‘increment’);<br/>   },<br/> },<br/>});</span><span id="b7fc" class="la lb in mb b gy mo ml l mm mn">app.mount(“#app”);</span></pre><p id="b130" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 4。过渡类</strong></p><p id="dbcb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">另一个小的更新是Vue Transition <em class="kw"> </em>类的变化。</p><p id="d98a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Vue 2中的过渡类:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="dacf" class="la lb in mb b gy mk ml l mm mn">.v-enter,<br/>.v-leave-to {<br/>  opacity: 0;<br/>}<br/><br/>.v-leave,<br/>.v-enter-to {<br/>  opacity: 1;<br/>}</span></pre><p id="08f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Vue 3中的过渡类:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="4b42" class="la lb in mb b gy mk ml l mm mn">.v-enter-from,<br/>.v-leave-to {<br/>  opacity: 0;<br/>}<br/><br/>.v-leave-from,<br/>.v-enter-to {<br/>  opacity: 1;<br/>}</span></pre><p id="c918" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 5。Vue路由器</strong></p><p id="3117" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Vue路由器<em class="kw"> </em>的初始化和配置在Vue 3中已经更改。</p><p id="6508" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在Vue 2中使用Vue路由器:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="d99c" class="la lb in mb b gy mk ml l mm mn">import VueRouter from 'vue-router';</span><span id="b88d" class="la lb in mb b gy mo ml l mm mn">Vue.use(VueRouter);</span><span id="1e5f" class="la lb in mb b gy mo ml l mm mn">const router = new VueRouter({<br/>    mode: 'history',<br/>    routes: routes<br/> })</span><span id="013c" class="la lb in mb b gy mo ml l mm mn">new Vue({<br/>  router: router,<br/>  render: (h) =&gt; h(App),<br/>}).$mount('#app');</span></pre><p id="b5cd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在Vue 3中使用Vue路由器:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="2217" class="la lb in mb b gy mk ml l mm mn">import { createRouter, createWebHistory } from 'vue-router';</span><span id="1467" class="la lb in mb b gy mo ml l mm mn">const router = createRouter({<br/>  history: createWebHistory(),<br/>  routes:routes<br/>});</span><span id="8547" class="la lb in mb b gy mo ml l mm mn">const app = createApp(App);</span><span id="c116" class="la lb in mb b gy mo ml l mm mn">app.use(router);</span><span id="f962" class="la lb in mb b gy mo ml l mm mn">router.isReady().then(() =&gt; {<br/>  app.mount('#app');<br/>});</span></pre><p id="3067" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 6。路由器视图转换</strong></p><p id="e982" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">路由器视图<em class="kw"> </em>过渡结构现在在Vue 3中有所不同。</p><p id="c436" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Vue 2中的路由器视图转换:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="7b76" class="la lb in mb b gy mk ml l mm mn">&lt;transition name="route" mode="out-in"&gt;<br/>      &lt;router-view&gt;&lt;/router-view&gt;<br/>&lt;/transition&gt;</span></pre><p id="45ac" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Vue 3中的路由器视图转换:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="89f0" class="la lb in mb b gy mk ml l mm mn">&lt;router-view v-slot="slotProps"&gt;<br/>      &lt;transition name="route" mode="out-in"&gt;<br/>        &lt;component :is="slotProps.Component"&gt;&lt;/component&gt;<br/>      &lt;/transition&gt;<br/>&lt;/router-view&gt;</span></pre><p id="3cab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">7。安装Vuex存储器</p><p id="68cc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装Vuex商店<em class="kw"> </em>在Vue 3中也有所不同。</p><p id="9392" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在Vue 2中安装商店:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="a547" class="la lb in mb b gy mk ml l mm mn">import Vuex from 'vuex';<br/>Vue.use(Vuex);</span><span id="3754" class="la lb in mb b gy mo ml l mm mn">const store = new Vuex.Store({<br/>  state() {<br/>    return { };<br/>  },<br/>  mutations: { },<br/>  actions: { },<br/>  getters: { }<br/>});</span><span id="7349" class="la lb in mb b gy mo ml l mm mn">new Vue({<br/>  store: store,<br/>  render: (h) =&gt; h(App),<br/>}).$mount('#app');</span></pre><p id="6ac4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在Vue 3中安装商店:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="8b4c" class="la lb in mb b gy mk ml l mm mn">import { createStore } from 'vuex';</span><span id="6003" class="la lb in mb b gy mo ml l mm mn">const store = createStore({<br/>  state() {<br/>    return { };<br/>  },<br/>  mutations: { },<br/>  actions: { },<br/>  getters: { },<br/>});</span><span id="4bb5" class="la lb in mb b gy mo ml l mm mn">const app = createApp(App)</span><span id="db0d" class="la lb in mb b gy mo ml l mm mn">app.use(store);</span><span id="05a5" class="la lb in mb b gy mo ml l mm mn">app.mount('#app');</span></pre></div><div class="ab cl mp mq hr mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ig ih ii ij ik"><h2 id="65ca" class="la lb in bd lc ld le dn lf lg lh dp li kg lj lk ll kk lm ln lo ko lp lq lr ls bi translated">Vu 3中的新功能</h2><figure class="mc md me mf gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/02ab940b3da4f87fb53eaab9fd9aec62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fb7b4XUOBrkVzqclM0kDVQ.jpeg"/></div></div></figure><p id="8daf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 1。瞬间移动</strong></p><p id="1519" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Teleport提供了一种简单的方法来控制在DOM中的哪个父节点下呈现一段HTML。</p><p id="1933" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">考虑这个HTML结构:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="d7e9" class="la lb in mb b gy mk ml l mm mn">&lt;div&gt;<br/>    &lt;Modal/&gt;<br/>&lt;/div&gt;</span></pre><p id="6b88" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们希望将这个<code class="fe ly lz ma mb b">&lt;Modal/&gt;</code>放在<code class="fe ly lz ma mb b">&lt;body&gt;&lt;/body&gt;</code>或其他元素中。传送来了:</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="ff19" class="la lb in mb b gy mk ml l mm mn">&lt;div&gt;<br/>  <!-- -->&lt;teleport to="body"&gt;<br/>    &lt;Modal/&gt;<br/>  &lt;teleport/&gt;<br/>&lt;/div&gt;</span></pre><p id="6376" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您仍然可以进行交互并将道具传递给组件。</p><p id="d306" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> 2。碎片</strong></p><p id="c21d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在Vue 2中，不支持多根组件，当用户无意中创建了多根组件时，会发出警告。因此，许多组件被封装在一个<code class="fe ly lz ma mb b">&lt;div&gt;</code>中来修复这个错误。</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="180f" class="la lb in mb b gy mk ml l mm mn">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;header&gt;...&lt;/header&gt;<br/>    &lt;main&gt;...&lt;/main&gt;<br/>    &lt;footer&gt;...&lt;/footer&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="61cf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是在Vue 3中，组件现在可以有多个根节点！然而，这确实需要开发人员明确定义属性应该分布在哪里。</p><pre class="mc md me mf gt mg mb mh mi aw mj bi"><span id="7545" class="la lb in mb b gy mk ml l mm mn">&lt;template&gt;<br/>  &lt;header&gt;...&lt;/header&gt;<br/>  &lt;main&gt;...&lt;/main&gt;<br/>  &lt;footer&gt;...&lt;/footer&gt;<br/>&lt;/template&gt;</span></pre><p id="80b0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">结论</strong></p><p id="8dc8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Vue 3速度快了55%，内存使用率下降到54%。这是通过使用Typescript完全重写DOM实现实现的。</p><p id="64a5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你打算升级到Vue 3，你应该聘请专家或<a class="ae mw" href="https://www.linkedin.com/in/engrmafzaalch" rel="noopener ugc nofollow" target="_blank">联系我</a>。</p><p id="2e50" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">谢谢你。</p><p id="6e72" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kw">更多内容尽在</em><a class="ae mw" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="kw">plain English . io</em></a></p></div></div>    
</body>
</html>