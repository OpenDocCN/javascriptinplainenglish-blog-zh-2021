<html>
<head>
<title>Array.Map() in JavaScript: 3 Minute Guide #01</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数组。JavaScript中的map():3分钟指南#01</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/array-map-in-javascript-3-minute-guide-5b2ce5123d8a?source=collection_archive---------16-----------------------#2021-03-29">https://javascript.plainenglish.io/array-map-in-javascript-3-minute-guide-5b2ce5123d8a?source=collection_archive---------16-----------------------#2021-03-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="81ac" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">踏入函数式编程和不变性的大门</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3eeff45e3c85b8a0bc0afc676a23076c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KU0V3WUhKsRUyfk4gQNm7g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Illustration made by <a class="ae kv" href="http://www.arnoldcode.com" rel="noopener ugc nofollow" target="_blank">Author</a> with ❤️</figcaption></figure><p id="42d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我在早年编程时第一次遇到这个小函数时。我不知道函数式编程和不可变对象。我之前的学习思考了我的想法，找到抽象成代码的现实世界问题的解决方案更重要。</p><p id="18ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让代码工作是我的总体想法！如果我有这么短的3分钟指南，我肯定不会有任何借口不读它，并且提高得更快！</p><h2 id="aadc" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">数组的定义。地图()</h2><p id="4e61" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">数组。Map()用于通过对传递的数组的每个元素调用函数来创建一个新的数组。</p><p id="7558" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只需快速浏览一下下面来自developer.Mozilla.org的官方定义，因为每当我想学习新的东西时，我总是被这些抽象的展示方式弄糊涂。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="0b5b" class="ls lt iq mr b gy mv mw l mx my">var new_array = arr.map(function callback(currentValue[, index[, array]]) {<br/>    // returned element for new_array<br/>}[, thisArg])</span></pre><p id="ed91" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我相信值得记住的显著例子可以让任何大脑进入开放的思维状态。因此，我们走吧！</p><h1 id="b6b2" class="mz lt iq bd lu na nb nc lx nd ne nf ma jw ng jx md jz nh ka mg kc ni kd mj nj bi translated">魔术师和治疗药剂</h1><p id="9226" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">想象一下，我们的RPG角色有一个存货清单，由一个简单的数组表示，(<code class="fe nk nl nm mr b">potions</code>)装满了生命药剂，在我们的旅程中，我们遇到了一个名叫<strong class="ky ir"> Gandolon </strong>的魔术师，他让我们施展一个咒语，将每一种生命药剂转换成魔法药剂。然后这个魔术师会使用<code class="fe nk nl nm mr b">Array.prototype.map()</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="e569" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在迭代过程中，<code class="fe nk nl nm mr b">potion</code>可以被解释为数组的当前条目，在<code class="fe nk nl nm mr b">=&gt;</code>之后的任何条目都将被返回。这就是lambda表达式的工作方式。</p><p id="c6d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们创建了一个新的数组<code class="fe nk nl nm mr b">potions</code>，并在调用<code class="fe nk nl nm mr b">MagicSpell()</code>后将其打印出来。原始数组保持不变。这样做是函数式编程的一部分，保持原始变量不变而不是改变它们的状态是编码不可变的一部分。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="025e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="np"> </em>老式的方法是命令式的，这意味着使用语句来改变状态。我们迭代旧数组<code class="fe nk nl nm mr b">potions</code>，并将条目推入新数组<code class="fe nk nl nm mr b">magicPotions</code>。我们改变了<code class="fe nk nl nm mr b">magicPotions</code>的状态。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="e3ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你能发现这样做带来的开销吗？</p><p id="c616" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这也是以函数的方式来做，但不处理不可变的对象。我们创建一个新的数组并返回它，而不是直接改变<code class="fe nk nl nm mr b">potions</code>。因为<code class="fe nk nl nm mr b">potions</code>只是一个<code class="fe nk nl nm mr b">let</code>而不是<code class="fe nk nl nm mr b">const</code>，我们可以改变它的状态。使用<code class="fe nk nl nm mr b">const</code>变量或多或少会迫使你学习函数式编程。</p><div class="nq nr gp gr ns nt"><a href="https://medium.com/front-end-weekly/i-bet-your-javascript-const-isnt-const-at-all-c1e476716cfe" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">我打赌你的JavaScript const根本不是const！</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">真正谈论如何使你的对象不可变！</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">medium.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh kp nt"/></div></div></a></div><h1 id="85ed" class="mz lt iq bd lu na nb nc lx nd ne nf ma jw ng jx md jz nh ka mg kc ni kd mj nj bi translated">最好不要使用数组。地图()</h1><p id="1a79" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">不要用<code class="fe nk nl nm mr b">Array.prototype.map()</code>去做的事情就是遍历数组。您应该始终使用新创建的数组！前车之鉴。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="fd62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，更好的选择是使用<code class="fe nk nl nm mr b">Array.forEach()</code>而不是<code class="fe nk nl nm mr b">Array.map()</code>，因为<code class="fe nk nl nm mr b">forEach()</code>不返回值。</p><h1 id="ceac" class="mz lt iq bd lu na nb nc lx nd ne nf ma jw ng jx md jz nh ka mg kc ni kd mj nj bi translated">外卖食品</h1><ul class=""><li id="f6dd" class="oi oj iq ky b kz ml lc mm lf ok lj ol ln om lr on oo op oq bi translated"><code class="fe nk nl nm mr b">Array.prototype.map()</code>是声明性的，这意味着它使用函数来描述状态</li><li id="152a" class="oi oj iq ky b kz or lc os lf ot lj ou ln ov lr on oo op oq bi translated">老式的方法是强制性的，这意味着它使用语句来改变状态</li><li id="6aee" class="oi oj iq ky b kz or lc os lf ot lj ou ln ov lr on oo op oq bi translated">当你不想使用返回的数组时，千万不要用<code class="fe nk nl nm mr b">Array.prototype.map()</code>遍历一个数组。</li><li id="eac8" class="oi oj iq ky b kz or lc os lf ot lj ou ln ov lr on oo op oq bi translated"><a class="ae kv" href="https://arnoldcodeacademy.ck.page/26-web-dev-cheat-sheets" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="np">节省自己大量的时间，专注于重要的主题。</em> </strong> </a></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/227a060a3bfa55f41fa795d5990e6032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Nqyiu4c6K-mCxE9e.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Arnold Code Academy 26 Web Developer Cheatsheets</figcaption></figure></div><div class="ab cl ox oy hu oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="ij ik il im in"><h1 id="eb1f" class="mz lt iq bd lu na pe nc lx nd pf nf ma jw pg jx md jz ph ka mg kc pi kd mj nj bi translated">参考</h1><p id="873b" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">Mozilla.org—Array . prototype . map()—<a class="ae kv" href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/de/docs/Web/JavaScript/Reference/Global _ Objects/Array/map</a></p></div></div>    
</body>
</html>