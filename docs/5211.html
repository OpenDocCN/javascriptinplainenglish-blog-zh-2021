<html>
<head>
<title>How to Use enum Keys in TypeScript Interfaces and Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在TypeScript接口和类型中使用枚举键</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/use-enum-keys-in-typescript-interfaces-and-types-4f7e8753b8d9?source=collection_archive---------0-----------------------#2021-10-23">https://javascript.plainenglish.io/use-enum-keys-in-typescript-interfaces-and-types-4f7e8753b8d9?source=collection_archive---------0-----------------------#2021-10-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/1d9e98ecf7edc4620d5d8349eb2df479.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qA6i27yhH_wtrwDv"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@clark_fransa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Arnold Francisca</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="bb06" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">接口中重复的枚举键</h1><p id="1442" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">让我们假设您已经有了一个集成列表，并存储在一个枚举中:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="6540" class="mf kb in mb b gy mg mh l mi mj">enum IntegrationType <em class="mk">{<br/>    CURRENCIES_API </em>= '<em class="mk">CURRENCIES_API</em>',<em class="mk"><br/>    TIMEZONE_API </em>= '<em class="mk">TIMEZONE_API</em>',<em class="mk"><br/>    PAYMENT_GATE </em>= '<em class="mk">PAYMENT_GATE</em>',<br/><em class="mk">}</em></span></pre><p id="eefe" class="pw-post-body-paragraph ky kz in la b lb ml ld le lf mm lh li lj mn ll lm ln mo lp lq lr mp lt lu lv ig bi translated">您已经有了一些API，它只返回关于可用集成的布尔信息:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="3497" class="mf kb in mb b gy mg mh l mi mj"><em class="mk">{<br/></em>    <em class="mk">CURRENCIES_API: true,<br/></em>    <em class="mk">TIMEZONE_API: true,<br/></em>    <em class="mk">PAYMENT_GATE: true,<br/></em>}</span></pre><p id="0f95" class="pw-post-body-paragraph ky kz in la b lb ml ld le lf mm lh li lj mn ll lm ln mo lp lq lr mp lt lu lv ig bi translated">当然，您可以为该响应编写一个接口，使用您之前在enum中声明的键。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="d09b" class="mf kb in mb b gy mg mh l mi mj">interface IntegrationsResponse <em class="mk">{<br/>    CURRENCIES_API: boolean;<br/>    TIMEZONE_API: boolean;<br/>    PAYMENT_GATE: boolean;</em><br/><em class="mk">}</em></span></pre><p id="a80b" class="pw-post-body-paragraph ky kz in la b lb ml ld le lf mm lh li lj mn ll lm ln mo lp lq lr mp lt lu lv ig bi translated">但是它们不会被连接。如果enum或API响应发生了变化，您必须记住在所有地方更新它们。</p><p id="3b35" class="pw-post-body-paragraph ky kz in la b lb ml ld le lf mm lh li lj mn ll lm ln mo lp lq lr mp lt lu lv ig bi translated">如果你有<strong class="la io">多得多的</strong>集成类型或一些其他的，更<em class="mk">大规模的</em>数据量呢？如果您想将它们的键存储在enum中，以便在其他地方使用它们，您必须将它们添加到enum和API响应接口中。然后，它们中任何一个发生的任何变化都会导致你重新检查一切，以确保它们仍然相互匹配。</p><h1 id="ddc7" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">有解决的办法！🥷</h1><p id="4845" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">老实说，这很明显——您只需要在接口中使用枚举键。您可以使用<code class="fe mq mr ms mb b">[key]</code>语法:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="9cd9" class="mf kb in mb b gy mg mh l mi mj">const { <em class="mk">CURRENCIES_API, TIMEZONE_API, PAYMENT_GATE </em>} = IntegrationType;</span><span id="41e8" class="mf kb in mb b gy mt mh l mi mj">interface IntegrationsResponse <em class="mk">{<br/>    [CURRENCIES_API]: boolean;<br/>    [TIMEZONE_API]: boolean;<br/>    [PAYMENT_GATE]: boolean;</em><br/><em class="mk">}</em></span></pre><p id="7852" class="pw-post-body-paragraph ky kz in la b lb ml ld le lf mm lh li lj mn ll lm ln mo lp lq lr mp lt lu lv ig bi translated">这很好地完成了任务。但是你猜怎么着——<strong class="la io">还有更多</strong>。您可以使用所有的枚举键一次创建一个映射类型，而不是使用enum中的每个键来创建接口。你甚至不需要枚举析构。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="cf88" class="mf kb in mb b gy mg mh l mi mj">type IntegrationsResponse = <em class="mk">{<br/>    [key in </em>IntegrationType<em class="mk">]: boolean;</em><br/><em class="mk">}</em></span></pre><p id="bcb3" class="pw-post-body-paragraph ky kz in la b lb ml ld le lf mm lh li lj mn ll lm ln mo lp lq lr mp lt lu lv ig bi translated">很整洁，不是吗？</p><figure class="lw lx ly lz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/69792aa521122f0c796ada091e24c9e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b03sfr_RKNAJVSBjKKsqRg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">The usage is pretty simple :)</figcaption></figure><p id="650b" class="pw-post-body-paragraph ky kz in la b lb ml ld le lf mm lh li lj mn ll lm ln mo lp lq lr mp lt lu lv ig bi translated">我们在evonica<a class="ae jz" href="https://evionica.com" rel="noopener ugc nofollow" target="_blank">中使用了这样一个解决方案，同时获取关于与一些外部服务集成的信息。干净、安全且易于扩展的解决方案。希望，你觉得有用。</a></p><p id="0fed" class="pw-post-body-paragraph ky kz in la b lb ml ld le lf mm lh li lj mn ll lm ln mo lp lq lr mp lt lu lv ig bi translated"><em class="mk">~ Dawid Witulski @ evonica—2021</em></p><p id="53f9" class="pw-post-body-paragraph ky kz in la b lb ml ld le lf mm lh li lj mn ll lm ln mo lp lq lr mp lt lu lv ig bi translated"><em class="mk">更多内容请看</em><a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="la io"><em class="mk">plain English . io</em></strong></a></p></div></div>    
</body>
</html>