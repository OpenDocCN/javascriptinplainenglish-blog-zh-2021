# ç¬¬ä¸‰å…³:å®ç”¨ RxJS æŒ‡å—ç»ˆèº«å­¦ä¹  RxJSï¼

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/practical-rxjs-guide-to-learn-rxjs-for-life-88f2ee508d5c?source=collection_archive---------6----------------------->

## ç¬¬ 3 çº§:æ·±å…¥ç†è§£ RxJS æ¨¡å¼(é«˜çº§)

![](img/d944f3f55482ac97fcab1ed759a1b32c.png)

By FAM (All rights reserved)

å—¨ï¼Œæ¬¢è¿ã€‚å¦‚æœä½ å·²ç»åˆ°äº† RxJS éš¾é¢˜çš„ç¬¬ä¸‰éƒ¨åˆ†ï¼Œè¿™æ„å‘³ç€ä½ æ˜¯ä¸€ä¸ªçœŸæ­£çš„å¼€å‘äººå‘˜ï¼Œåœ¨ç¼–ç ä¹‹å‰æ¸´æœ›çŸ¥è¯†å’Œå¯¹äº‹ç‰©çš„æ·±åˆ»ç†è§£ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªåšæŒä¸æ‡ˆçš„äººã€‚å°Šé‡ï¼

æ­£å¦‚ RxJS ç³»åˆ—çš„ç¬¬ 2 éƒ¨åˆ†æ‰€è®¨è®ºçš„ã€‚æœ¬æ–‡å°†æ¶µç›– RxJS çš„æ›´å¤šé«˜çº§åŠŸèƒ½ã€‚è¿™éœ€è¦ä½ ç›®å‰ä¸ºæ­¢åœ¨ 0 çº§ã€1 çº§å’Œ 2 çº§ä¸­æ”¶é›†çš„çŸ¥è¯†ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰è·å¾—è¿™äº›çŸ¥è¯†ï¼Œæˆ‘ä¸å»ºè®®ä½ ä»è¿™ç¯‡æ–‡ç« å¼€å§‹ï¼Œé™¤éä½ çŸ¥é“ä½ åœ¨åšä»€ä¹ˆã€‚

å¥½äº†ï¼Œå›åˆ°æˆ‘ä»¬çš„ RxJS ä¹‹æ—…ï¼Œä¸‹é¢æ˜¯è¿™ç¯‡æ–‡ç« å°†è¦è°ˆè®ºçš„å†…å®¹:

*   **ç»„æ’­è§‚å¯Ÿå€¼&ä¸»é¢˜**
*   **å†·** â›„ **å¯¹çƒ­**ğŸ”¥**å¯è§‚æµ‹é‡**
*   **ç»„æ’­è¿è¥å•†**

ä½ çš„æ€æƒ³å‡†å¤‡å¥½äº†å—ï¼Ÿå¦‚æœæ˜¯ï¼Œè®©æˆ‘ä»¬å›åˆ° RxJS ç›’å­é‡Œé¢ï¼

# **1ã€‚å¤šæ’­è§‚å¯Ÿå€¼&ä¸»é¢˜**

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬äº†è§£åˆ°å¯è§‚æµ‹æ€§æœ¬è´¨ä¸Šæ˜¯å•æ’­çš„ã€‚ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œè¿™å’Œè¿™ä¸ªæ ‡é¢˜æ˜¯çŸ›ç›¾çš„ï¼Œä¸æ˜¯å—ï¼Ÿ

ä¸ï¼Œä¸ï¼Œè¿™ä¸æ˜¯é”™è¯¯ã€‚æ‚¨å¯ä»¥å°†å•æ’­å¯è§‚å¯Ÿå¯¹è±¡è½¬æ¢ä¸ºå¤šæ’­å¯è§‚å¯Ÿå¯¹è±¡ã€‚ä½†æ˜¯ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹`Subject`ï¼Œä½ å¬è¯´è¿‡è¿™ä¸ªè¯å—ï¼Ÿ

ä»¥ä¸‹æ˜¯ä¸»é¢˜çš„ç‰¹å¾:

*   åªä¸è¿‡æ˜¯ä¸€ä¸ªå¯è§‚å¯Ÿçš„(è€³è¯­:è¿™ä¸ªå®¶ä¼™ä¹Ÿæœ‰ä¸€ä¸ª subscribe()æ–¹æ³•)
*   ä¹Ÿæ˜¯ä¸€ä¸ªè§‚å¯Ÿè€…(WTFï¼Œæ˜¯çš„ï¼Œä½ å¯ä»¥è¿™ä¹ˆè¯´â€¦æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆè¯´çš„ï¼Œä½†æ€»æœ‰ä¸€ä¸ªåŸå› è®©æˆ‘ä»¬ä»¥åä¼šçŸ¥é“)
*   å¯ä»¥äº§ç”Ÿå’Œæ¥å—ä»·å€¼ï¼Œå› ä¸ºä»–åŒæ—¶æ˜¯ä¸€ä¸ªå¯è§‚å¯Ÿçš„äººå’Œè§‚å¯Ÿè€…ã€‚
*   ä»–å¯ä»¥æœ‰ä¸€ä¸ªè§‚å¯Ÿè€…çš„åˆ—è¡¨(ä¸åƒå¯è§‚å¯Ÿçš„ç‰©ä½“)
*   ä»–æœ‰ä¸€ç§çŠ¶æ€(å°±åƒ React åº”ç”¨ç¨‹åºä¸€æ ·)ã€‚ä»–å¯ä»¥ç»´æŠ¤å·²ç»è®¢é˜…ä»–çš„è§‚å¯Ÿè€…çš„åˆ—è¡¨ã€‚
*   å¯ä»¥åŒæ—¶å°†ä»·å€¼æ¨é€ç»™å¤šä¸ªè§‚å¯Ÿè€…(ä¸å¯è§‚å¯Ÿä¸åŒï¼Œä¸€æ¬¡åªèƒ½æ¨é€ç»™ä¸€ä¸ªè§‚å¯Ÿè€…ã€‚å¦‚æœå¦ä¸€ä¸ªè§‚å¯Ÿè€…è®¢é˜…äº†ç›¸åŒçš„å¯è§‚å¯Ÿå€¼ï¼Œå®ƒå°†è¢«ç¬¬äºŒæ¬¡æ‰§è¡Œã€‚è¿˜è®°å¾—ç¬¬ 1 éƒ¨åˆ†ä¸­æ¼”ç¤ºè¶…æ—¶çš„ä¾‹å­å—ï¼Ÿ)
*   å› æ­¤ï¼Œä»–æ˜¯ä¸€ä¸ªå¤šæ’­(ä¸åƒå¯è§‚å¯Ÿçš„)

è®©æˆ‘ä»¬è·³åˆ°è¿™äº›å®¶ä¼™(è§‚å¯Ÿè€…ã€å¯è§‚å¯Ÿå¯¹è±¡å’Œä¸»ä½“)çš„å¤§å›¾

![](img/d70afe6a8b6c948912a711bceaae71d1.png)

By FAM (All rights reserved)

æ­£å¦‚æ‚¨åœ¨ä¸»é¢˜ä¸­çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬åˆšåˆšå°†å¯è§‚å¯Ÿçš„å•æ’­æ€§è´¨è½¬æ¢ä¸ºå¤šæ’­(æ•°æ®ç”±ä¸¤ä¸ªè§‚å¯Ÿè€…åŒæ—¶æ¥æ”¶ï¼Œä¸€æ¬¡æ‰§è¡Œ)ã€‚

ä½¿ç”¨ä¸€äº›ä»£ç ç«‹å³è¡ŒåŠ¨:

# **2ã€‚å¯’å†·çš„** â›„ **å¯¹ç‚çƒ­çš„**ğŸ”¥**å¯è§‚æµ‹é‡**

å…ˆä»å†·çš„è¯´èµ·(ä»–å·²ç»å†·äº†ï¼Œå¯æ€œçš„å®¶ä¼™ï¼å¼€ç©ç¬‘:p)ã€‚ä»¥ä¸‹æ˜¯æ„Ÿå†’å¯è§‚å¯Ÿåˆ°çš„ç‰¹å¾:

*   ä»·å€¼(æ•°æ®)äº§ç”Ÿäºå¯è§‚å¯Ÿçš„å†…éƒ¨ã€‚æ•°æ®æ˜¯ ***å£°æ˜çš„*** ï¼Œ ***åˆ›å»ºçš„ï¼Œ*** å’Œ ***äº§ç”Ÿçš„*** åœ¨å®šä¹‰å¯è§‚å¯Ÿçš„ä»£ç é‡Œé¢ã€‚
*   æ¯æ¬¡æ‰§è¡Œä¸€ä¸ªè§‚å¯Ÿå™¨(æ¯æ¬¡è°ƒç”¨`subscribe()`æ—¶ï¼Œä¸€ä¸ªæ–°çš„æ•°æ®ç”Ÿäº§è€…åœ¨è¯¥è§‚å¯Ÿå™¨å†…åˆ›å»º)ã€‚
*   Unicat(æ¯æ¬¡æ‰§è¡Œä¸€ä¸ªè§‚å¯Ÿè€…)ï¼Œå†·å¯è§‚å¯Ÿå€¼æ¨é€åˆ°ä¸€ä¸ª ***å•ä¸ª*** è§‚å¯Ÿè€…ã€‚
*   ä¸€ä¸ªä¾‹å­æ˜¯ RxJS APIsï¼Œæ¯”å¦‚åœ¨å¯è§‚å¯Ÿå¯¹è±¡å†…éƒ¨äº§ç”Ÿæ•´æ•°çš„`interval()`ã€‚å¦ä¸€ä¸ªä¾‹å­`ajax()` APIï¼Œæ•°æ®æ¥è‡ª ajax è°ƒç”¨ã€‚å› æ­¤ï¼Œæ•°æ®æ˜¯åœ¨å¯è§‚æµ‹çš„å†…éƒ¨äº§ç”Ÿçš„ã€‚é‚£äº›å¯è§‚çš„(interval å’Œ ajax)å†·ï¼

ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä»€ä¹ˆå®šä¹‰äº†çƒ­å¯è§‚æµ‹æ€§(å®Œå…¨ç›¸å):

*   ä»·å€¼æ˜¯åœ¨å¯è§‚å¯Ÿä¹‹å¤–äº§ç”Ÿçš„ã€‚å®ƒåŒ…è£…äº†å­˜åœ¨äºå¯è§‚å¯Ÿä¹‹å¤–çš„ä»·å€¼ã€‚å› æ­¤ï¼Œä¸ç®¡æœ‰æ²¡æœ‰è§‚å¯Ÿè€…ï¼Œå®ƒéƒ½èƒ½äº§ç”Ÿä»·å€¼ã€‚
*   å…±äº«ä»·å€¼ç”Ÿäº§è€…ï¼Œå› ä¸ºå®ƒåœ¨å¯è§‚å¯Ÿçš„èŒƒå›´ä¹‹å¤–ã€‚
*   å› æ­¤ï¼Œå¤šæ’­å…è®¸åœ¨æ¯æ¬¡æ‰§è¡Œæ—¶æœ‰å¤šä¸ªè§‚å¯Ÿå™¨åŒæ—¶æ¥æ”¶äº§ç”Ÿçš„å€¼)
*   ä¸€ä¸ªä¾‹å­æ˜¯åŒ…è£…äº† *DOM äº‹ä»¶*çš„å¯è§‚å¯Ÿå¯¹è±¡(è¿™äº›äº‹ä»¶(ä¾‹å¦‚é¼ æ ‡äº‹ä»¶)ä¸€ç›´åœ¨è¿”å›å…‰æ ‡çš„ä½ç½®(å€¼ã€æ•°æ®)ï¼Œä¸ç®¡å¯è§‚å¯Ÿå¯¹è±¡æ˜¯å¦éœ€è¦å®ƒä»¬)ã€‚äº‹ä»¶å­˜åœ¨äºå¯è§‚æµ‹ä¹‹å¤–ï¼Œå› æ­¤å¯ä»¥è¢«åŒæ—¶å…±äº«å’Œå¤šæ’­ç»™è®¸å¤šè§‚å¯Ÿè€…ã€‚è¿™åŒæ ·é€‚ç”¨äº*ç½‘ç»œæ’åº§*ã€‚

ç°åœ¨ï¼Œæ‚¨å¯èƒ½æƒ³çŸ¥é“â€¦å¦‚æœæ‚¨éœ€è¦ä»ä¸€ä¸ªå†·å¯è§‚å¯Ÿå¯¹è±¡(ä¾‹å¦‚ ajax æ•°æ®)å¤šæ’­å€¼ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ

> éœ€è¦é­”æ³•çš„åœ°æ–¹ã€‚å®ƒå…·æœ‰å°†å†·å•æ’­å¯è§‚å¯Ÿè½¬å˜ä¸ºå¤šæ’­çƒ­å¯è§‚å¯Ÿæ‰€éœ€çš„æ‰€æœ‰ç‰¹æ€§ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªå°†å†·å¯è§‚æµ‹å€¼è½¬æ¢ä¸ºçƒ­å¯è§‚æµ‹å€¼çš„ç¤ºä¾‹:

*   å†·è§‚å¯Ÿç—…ä¾‹:

*   é€šè¿‡å°†ä¸»ä½“ç½®äºä¸­é—´ï¼Œå°†å†·çš„å¯è§‚å¯Ÿç‰©è½¬æ¢ä¸ºçƒ­çš„å¯è§‚å¯Ÿç‰©(å‚è§ï¼Œå¦‚åœ¨è§†è§‰ç¤ºä¾‹ä¸­æ‰€è§£é‡Šçš„)

*   è§†è§‰ä¸Šä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

![](img/6d48660ce21d5a9a5d5db3fd7a38e132.png)

By FAM (All rights reserved)

æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå°†å†·çš„å¯è§‚æµ‹æ•°æ®è½¬æ¢æˆçƒ­çš„æ˜¯ç›¸å½“å®¹æ˜“çš„ã€‚ä½†æ˜¯ï¼Œä»ç„¶æœ‰ä¸€äº›ä»£ç è¦åšã€‚ä»¤äººæ¬£æ…°çš„æ˜¯ï¼ŒRxJS çš„ç†å¿µæ˜¯é˜²æ­¢æ‚¨åšé‡å¤çš„äº‹æƒ…ï¼Œåªå…³æ³¨åŠŸèƒ½å’Œé€»è¾‘ï¼Œä¸ºæˆ‘ä»¬æä¾›å¯ä»¥ä¸ºæˆ‘ä»¬å®Œæˆå·¥ä½œçš„æ“ä½œå‘˜ï¼æ˜¯ä¸æ˜¯å¾ˆç‰›é€¼ï¼Ÿ

# **3ã€‚å¤šæ’­è¿è¥å•†**

å¤šæ’­è¿è¥å•†æ˜¯ä½ çš„ç¥å¥‡å·¥å…·ï¼Œå¯ä»¥å°†ä»»ä½•å†·çš„å¯è§‚å¯Ÿå¯¹è±¡å˜æˆçƒ­çš„å¤šæ’­å¯è§‚å¯Ÿå¯¹è±¡ã€‚å®ƒä¸ºæ‚¨ç®¡ç†æˆ‘ä»¬åœ¨ç¤ºä¾‹ä¸­çœ‹åˆ°çš„æ‰€æœ‰ç»†èŠ‚(åœ¨å¯è§‚å¯Ÿå¯¹è±¡å’Œè§‚å¯Ÿè€…ä¹‹é—´æ·»åŠ ä¸»é¢˜â€¦â€¦)ã€‚

## å¸¸è§å¤šæ’­è¿è¥å•†çš„ç¤ºä¾‹:

*   [connect()](https://rxjs.dev/api/operators/connect) (å–ä»£å°†åœ¨ v8 ä¸­åˆ é™¤çš„ [multicast()](https://rxjs.dev/api/operators/multicast) è¿ç®—ç¬¦)

è¦ä½¿ç”¨`connect`ï¼Œæ‚¨éœ€è¦æä¾›ä¸€ä¸ª`selector`å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†ä¸ºæ‚¨æä¾›ä¸€ä¸ªå°šæœªè¿æ¥çš„å¤šæ’­è§‚å¯Ÿã€‚å½“ä½ è®¢é˜…äº†`connect`çš„ç»“æœåï¼Œå°±ä¼šè°ƒç”¨`selector`å‡½æ•°ã€‚åœ¨`selector`å‡½æ•°è¿”å›åï¼Œå®ƒè¿”å›çš„å¯è§‚æµ‹å€¼å°†è¢«è®¢é˜…ã€‚é‚£ä¹ˆå¤šæ’­å°†è¢«è¿æ¥åˆ°æºã€‚

*   [refCount()](https://rxjs.dev/api/operators/refCount) (åœ¨æœ€æ–° RxJS ç‰ˆæœ¬ä¸­æ›¿æ¢ä¸º ***share*** )

å½“æ‚¨æœ‰ä¸æ­¢ä¸€ä¸ªè§‚å¯Ÿè€…è®¢é˜…å®ƒæ—¶ï¼Œè¿™ä¸ªå°†è‡ªåŠ¨è§¦å‘æºå¯è§‚å¯Ÿå¯¹è±¡çš„æ‰§è¡Œã€‚

*   [å‘å¸ƒ()](https://rxjs.dev/api/operators/publish)

å°±åƒ`multicast`ï¼Œå®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªåŒ…è£…å™¨ï¼Œä¸éœ€è¦ä¼ é€’ä¸»é¢˜ä½œä¸ºè¾“å…¥ã€‚å®ƒä¼šåœ¨å±å¹•åé¢è‡ªåŠ¨åˆ›å»ºå®ƒã€‚

*   [share()](https://rxjs.dev/api/operators/share)

åƒ`refCount()`ä¸€æ ·ï¼Œå½“è§‚å¯Ÿè€…çš„æ•°é‡>ä¸º 0 æ—¶ï¼Œå®ƒè‡ªåŠ¨æ‰§è¡Œå¯è§‚å¯Ÿã€‚å½“è®¢é˜…çš„è§‚å¯Ÿè€…è®¡æ•°ä¸‹é™åˆ° 0 æ—¶ï¼Œå®ƒä¹Ÿä»æºå¯è§‚å¯Ÿå¯¹è±¡ä¸­å–æ¶ˆè®¢é˜…ã€‚

è¿™äº›æ˜¯ä¸€äº›å¸¸è§çš„å¤šæ’­æ“ä½œç¬¦ï¼Œåˆ—è¡¨å¾ˆé•¿ï¼Œä½ å¯ä»¥ä¾é  [RxJS](https://rxjs.dev/) æ–‡æ¡£æ¥æŸ¥çœ‹å…¶ä»–ç°æœ‰çš„ APIã€‚

è¿™ç¯‡æ–‡ç« å¤ªé•¿äº†ï¼Œæ— æ³•ç»§ç»­ä»‹ç» RxJS çš„ä¸‹ä¸€ä¸ªé«˜çº§å…ƒç´ :

*   **å¯è§‚å¯Ÿçš„æ‰§è¡Œ**
*   **æ§åˆ¶å’Œè°ƒåº¦å¯è§‚æµ‹é‡çš„æ‰§è¡Œ**
*   æµ‹è¯•å¯è§‚å¯Ÿæ€§å’Œè®¢é˜…(å•å…ƒæµ‹è¯•ï¼Œæ„å»ºå•å…ƒæµ‹è¯•â€¦ç­‰ç­‰)ã€‚)

ä½†æ˜¯ä¸ç”¨æ‹…å¿ƒï¼ä¼šåœ¨ä¸‹ä¸€é›†æ’­å‡ºğŸ˜‰

> æ¯å½“æœ‰æ–°çš„çƒ­é—¨æ–‡ç« å‘å¸ƒæ—¶ï¼Œç¬¬ä¸€ä¸ªå¾—åˆ°é€šçŸ¥ï¼

å¦‚æœä½ æœ‰å…´è¶£æˆä¸ºä»˜è´¹ä¼šå‘˜ï¼Œä½ å¯ä»¥ä½¿ç”¨æˆ‘çš„æ¨èé“¾æ¥ã€‚ä¸‹æ¬¡è§

[](https://famzil.medium.com/subscribe) [## è®©æˆ‘ä»¬åœ¨ç”Ÿæ´»ä¸­æ¥è§¦å¹¶ä¸€èµ·è¡ŒåŠ¨å§ï¼

### è®©æˆ‘ä»¬åœ¨ç”Ÿæ´»ä¸­æ¥è§¦å¹¶ä¸€èµ·è¡ŒåŠ¨å§ï¼é€šè¿‡æ³¨å†Œï¼Œæ‚¨å°†åˆ›å»ºä¸€ä¸ªä¸­å‹å¸æˆ·ï¼Œå¦‚æœæ‚¨è¿˜æ²¡æœ‰â€¦

famzil.medium.com](https://famzil.medium.com/subscribe) 

äº²çˆ±çš„è¯»è€…ï¼Œæ„Ÿè°¢ä½ åœ¨æˆ‘ç”Ÿå‘½ä¸­çš„å­˜åœ¨ã€‚

**è®©æˆ‘ä»¬åœ¨** [**ä¸Šå–å¾—è”ç³»**](https://medium.com/@famzil/)**[**Linkedin**](https://www.linkedin.com/in/fatima-amzil-9031ba95/)**[**è„¸ä¹¦**](https://www.facebook.com/The-Front-End-World)**[**insta gram**](https://www.instagram.com/the_frontend_world/)**[**Youtube**](https://www.youtube.com/channel/UCaxr-f9r6P1u7Y7SKFHi12g)**æˆ–**[](https://twitter.com/FatimaAMZIL9)********

******å‚è§æˆ‘çš„å…³äºç½‘ç»œè¦ç´ å’Œä¸€èˆ¬æ–‡åŒ–çš„ç”µå­ä¹¦ã€‚******

*******æ›´å¤šå†…å®¹è¯·çœ‹*[***plain English . io***](http://plainenglish.io/)******