<html>
<head>
<title>Introducing AgileTs: Can Global State Management Get More Straightforward Than This?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">引入AgileTs:全球状态管理还能比这更简单吗？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/can-global-state-management-get-more-straightforward-than-this-a6db6abeeaf?source=collection_archive---------9-----------------------#2021-10-02">https://javascript.plainenglish.io/can-global-state-management-get-more-straightforward-than-this-a6db6abeeaf?source=collection_archive---------9-----------------------#2021-10-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/d9ac7bc1471f81f18d8501db35ddf1d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uR8Ydv8zr2d_sGbQvhSSyA.png"/></div></div></figure><p id="60b5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最难解决的问题之一，尤其是在大型前端应用程序中，是管理全局状态。虽然已经有几种解决全局状态管理问题的优秀方法，但大多数都与特定的工作流相关联。您经常被迫在一个真实来源的存储对象中定义所有的东西，这降低了灵活性和简洁性。但是，您是否考虑过将您的状态作为全局个体(<code class="fe kt ku kv kw b">atoms</code>)进行管理，这些个体可以根据偏好进行结构化，并动态绑定到任何UI组件以进行反应？</p><p id="f86b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我非常兴奋地向您介绍<a class="ae kx" href="https://agile-ts.org/" rel="noopener ugc nofollow" target="_blank"> AgileTs </a>。<strong class="jx io">一个简单、灵活、测试良好的JavaScript/TypeScript应用程序状态管理库。</strong> AgileTs支持直接创建单独和独立的状态(<code class="fe kt ku kv kw b">createState("Hello World");</code>)，同时提供了一个强大的工具集，专注于围绕这些状态的开发人员体验。</p><p id="bc59" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将全局状态作为个体来管理所提供的灵活性使得AgileTs对两者都适用，开发人员构建更小的应用程序(<a class="ae kx" href="https://agile-ts.org/docs/style-guide#-inspiration-1" rel="noopener ugc nofollow" target="_blank">风格指南</a>)会担心写太多样板代码。对于创建大型应用程序的团队来说(<a class="ae kx" href="https://agile-ts.org/docs/style-guide#-inspiration-2" rel="noopener ugc nofollow" target="_blank">风格指南</a>)试图创建可读、可维护和可测试的代码。</p><p id="33a2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们深入一个小例子之前，应该注意到没有“完美的”管理全局状态的方法。每种状态管理方法都有<strong class="jx io">的好处</strong>和<strong class="jx io">的弊端</strong>。根据您正在构建的应用程序类型和您偏好的代码风格，您应该权衡哪种状态管理库最适合您的需求。<strong class="jx io">稍后将详细介绍AgileTs的优点和缺点。</strong></p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="16c8" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">👨‍💻React和AgileTs入门</h1><p id="a586" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">让我们看看AgileTs如何与React一起工作。为了展示它的基本功能，我将向您展示如何使用AgileTs和React构建一个简单的应用程序。我们将看到的示例项目是一个小计数器，当我们单击“更新状态”按钮时，它允许我们增加一个数字。这可能并不吸引人，但是它展示了React + AgileTs应用程序的所有基本部分。</p><figure class="mi mj mk ml gt jo"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h2 id="2d2e" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">1️⃣装置</h2><p id="2204" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">安装AgileTs就像安装任何其他npm软件包一样简单。首先，让我们使用<code class="fe kt ku kv kw b">npm</code>或<code class="fe kt ku kv kw b">yarn</code>来安装它。为了在React环境中正确使用AgileTs，我们需要在现有的React应用程序中添加两个不同的包。</p><p id="ede9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">📁@agile-ts/core </strong></p><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="5cca" class="mo lg in kw b gy ne nf l ng nh">npm install <a class="ae kx" href="http://twitter.com/agile" rel="noopener ugc nofollow" target="_blank">@agile</a>-ts/core </span></pre><p id="42f0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b"><a class="ae kx" href="https://agile-ts.org/docs/core" rel="noopener ugc nofollow" target="_blank">core</a></code>包包含了敏捷的状态管理逻辑，因此提供了强大的类，比如<code class="fe kt ku kv kw b"><a class="ae kx" href="https://agile-ts.org/docs/core/state" rel="noopener ugc nofollow" target="_blank">State Class</a></code>。</p><p id="57cd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">📂@agile-ts/react </strong></p><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="9789" class="mo lg in kw b gy ne nf l ng nh">npm install <a class="ae kx" href="http://twitter.com/agile" rel="noopener ugc nofollow" target="_blank">@agile</a>-ts/react</span></pre><p id="0c40" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">另一方面，<a class="ae kx" href="https://agile-ts.org/docs/react" rel="noopener ugc nofollow" target="_blank"> React集成</a>是一个React接口，并提供有用的功能，如<code class="fe kt ku kv kw b"><a class="ae kx" href="https://agile-ts.org/docs/react/hooks#useagile" rel="noopener ugc nofollow" target="_blank">useAgile()</a></code>挂钩，以轻松绑定状态，从而对组件的反应性做出反应。</p><blockquote class="ni nj nk"><p id="cd0e" class="jv jw nl jx b jy jz ka kb kc kd ke kf nm kh ki kj nn kl km kn no kp kq kr ks ig bi translated">😎如果你想从头开始建立一个项目，你也可以使用AgileTs的官方<code class="fe kt ku kv kw b"><em class="in">create-react-app</em></code>模板。</p><p id="0a39" class="jv jw nl jx b jy jz ka kb kc kd ke kf nm kh ki kj nn kl km kn no kp kq kr ks ig bi translated">//JavaScript<br/><strong class="jx io">npx create-react-app my-app—模板敏捷</strong></p><p id="3466" class="jv jw nl jx b jy jz ka kb kc kd ke kf nm kh ki kj nn kl km kn no kp kq kr ks ig bi translated">//TypeScript<br/><strong class="jx io">npx create-react-app my-app—template agile-TypeScript</strong></p></blockquote><h2 id="84f8" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">2️⃣创建国家</h2><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="a7d1" class="mo lg in kw b gy ne nf l ng nh">const MY_FIRST_STATE = createState("Hello World");</span></pre><p id="10da" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">成功安装AgileTs后，我们可以开始创建我们的第一个独立的AgileTs状态。实例化一个状态只需要调用<code class="fe kt ku kv kw b">createState()</code>并指定一个初始值。在我们的例子中，我们将初始值“Hello World”赋给了State。如果你想知道为什么我们要写大写的AgileTs状态。它有一个简单的优点。我们可以很容易地在我们的UI组件中区分全局和局部状态(参见3️⃣).步骤</p><h2 id="05d7" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">3️⃣将初始化状态绑定到反应组件</h2><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="54eb" class="mo lg in kw b gy ne nf l ng nh">const RandomComponent = () =&gt; {<br/>    const myFirstState = useAgile(MY_FIRST_STATE); // &lt;-<br/><br/>    return (<br/>        &lt;div&gt;<br/>            &lt;p&gt;{myFirstState}&lt;/p&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}</span></pre><p id="8e7f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里(<code class="fe kt ku kv kw b">// &lt;-</code>)我们使用<code class="fe kt ku kv kw b"><a class="ae kx" href="https://agile-ts.org/docs/react/hooks#useagile" rel="noopener ugc nofollow" target="_blank">useAgile()</a></code>钩子将刚刚创建的状态绑定到React组件(‘random Component’)。这种绑定确保组件在状态<code class="fe kt ku kv kw b">value</code>变化时重新呈现。<code class="fe kt ku kv kw b">useAgile()</code>钩子返回当前<code class="fe kt ku kv kw b">value</code>的状态。所以在我们的例子中，类似于“Hello World”。</p><h2 id="b35f" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">4️⃣更新状态值</h2><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="8953" class="mo lg in kw b gy ne nf l ng nh">MY_FIRST_STATE.set(`Hello World ${++helloWorldCount}`);</span></pre><p id="eda2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了给我们的小应用程序带来一些活力，我们在每次按下“更新状态”按钮时，借助状态的<code class="fe kt ku kv kw b">.set()</code>函数来更新状态<code class="fe kt ku kv kw b">value</code>。因此，我们按升序增加外部集合<code class="fe kt ku kv kw b">helloWorldCount</code>。</p><h2 id="ea5d" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">😎所有东西放在一起</h2><p id="c793" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">这里我们看到了完整的反例。</p><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="da43" class="mo lg in kw b gy ne nf l ng nh">// 2️⃣ Create State with the initial value "Hello World"<br/>const MY_FIRST_STATE = App.createState("Hello World");<br/><br/>let helloWorldCount = 0;<br/>const RandomComponent = () =&gt; {<br/>    // 3️⃣ Bind initialized State to the 'RandomComponent' for reactivity<br/>    const myFirstState = useAgile(MY_FIRST_STATE);<br/><br/>    return (<br/>        &lt;div&gt;<br/>            &lt;p&gt;{myFirstState}&lt;/p&gt;<br/>            &lt;button<br/>                onClick={() =&gt; {<br/>                    // 4️⃣ Update State value on Button press<br/>                    MY_FIRST_STATE.set(`Hello World ${++helloWorldCount}`);<br/>                }}<br/>            &gt;<br/>                Update State<br/>            &lt;/button&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}</span></pre><p id="c981" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你渴望了解更多关于AgileTs的知识，看看我们的<a class="ae kx" href="https://agile-ts.org/docs/quick-start/react" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="9b17" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">👨‍💻开始使用[x]和AgileTs</h1><p id="0d94" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">不幸的是，这篇博文不能涵盖如何在React之外的其他前端框架中使用AgileTs，因为那超出了范围。然而，AgileTs的核心原则在每个UI框架中都是相同的。唯一可能不同的部分是如何将状态绑定到UI组件以进行反应(步骤3️⃣).</p><p id="dca8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里是每个已经支持的UI框架的代码沙箱，具有与上面React示例部分相同的<code class="fe kt ku kv kw b">counter-example</code>:<br/>-<a class="ae kx" href="https://codesandbox.io/s/agilets-first-state-f12cz" rel="noopener ugc nofollow" target="_blank">React</a><br/>-<a class="ae kx" href="https://snack.expo.io/@bennodev/agilets-first-state" rel="noopener ugc nofollow" target="_blank">React-Native</a><br/>-<a class="ae kx" href="https://codesandbox.io/s/agilets-first-state-i5xxs" rel="noopener ugc nofollow" target="_blank">Vue</a></p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="9a47" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">⚛️是一个“原子”国家管理者吗？</h1><p id="0e4e" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">是的，AgileTs遵循与“原子”状态管理库相同的模式，如<a class="ae kx" href="https://recoiljs.org/" rel="noopener ugc nofollow" target="_blank">反冲</a>。AgileTs中的状态是单独创建的，位于UI层之上，同时它们可以动态绑定到任何UI组件(例如通过钩子)。在AgileTs中，状态不被称为原子，而是单个或单态。然而，与反冲的主要区别是敏捷不依赖于反应，可以在反应树之外使用，功能更丰富，对初学者更友好。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="3cf5" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">👍是什么让AgileTs如此特别？</h1><p id="6228" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">在我们对AgileTs如何在React中工作进行了小范围的探索之后，我们已经了解了它的基本API和功能。所以让我们来谈谈到底是什么让AgileTs如此特别，以及使用它的一些好处。</p><h2 id="0e43" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">🚅坦率的</h2><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="8e10" class="mo lg in kw b gy ne nf l ng nh">// Update State value to 'hi'<br/>MY_STATE.set('hi');</span><span id="60fe" class="mo lg in kw b gy np nf l ng nh">// Undo latest State value change<br/>MY_STATE.undo();</span><span id="9b62" class="mo lg in kw b gy np nf l ng nh">// Check if the State value is equal to '{hello: "jeff"}'<br/>MY_STATE.is({hello: "jeff"});</span><span id="29ff" class="mo lg in kw b gy np nf l ng nh">// Reset State to its intial value<br/>MY_STATE.reset();</span><span id="01ca" class="mo lg in kw b gy np nf l ng nh">// Preserves the State `value`  in the corresponding external Storage<br/>MY_STATE.persist();</span><span id="6699" class="mo lg in kw b gy np nf l ng nh">// Update State value in 200ms intervals<br/>MY_STATE.interval((value) =&gt; value++, 200);</span></pre><h2 id="8782" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">🤸‍灵活</h2><p id="1ce3" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">在AgileTs中，状态被创建为彼此分离，并且具有独立的存在。可以把AgileTs状态看作是全局变量，可以根据需要构造，并动态绑定到任何UI组件。敏捷状态部分类似于UI组件，因为UI组件也只是嵌入在其他UI组件中的全局变量。</p><figure class="mi mj mk ml gt jo gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/056d4c084bce93d917cac31fe9a5651e.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*t7WquLsutKK90F8fUVOHVQ.png"/></div></figure><p id="13f0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">给定的灵活性有很多优点。然而，在任何地方初始化状态的能力可能会导致一个非结构化的、不透明的应用程序，它很快就会变得一团糟。为了帮助你不在那里结束，我们已经创建了一些<a class="ae kx" href="https://agile-ts.org/docs/style-guide" rel="noopener ugc nofollow" target="_blank">风格指南</a>，给你一些如何使用AgileTs构建前端应用程序的灵感。</p><h2 id="b174" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">🐻强大的国家扩展</h2><p id="e795" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">基于基本AgileTs状态的功能，我们创建了更多有用的类，例如:</p><p id="811c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">👨‍🏫</strong> <a class="ae kx" href="https://agile-ts.org/docs/core/computed" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">计算状态</strong> </a></p><p id="e800" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">计算状态是一个强大的概念，它允许我们根据其他数据构建动态数据。为了避免不必要的重新计算，Computed类缓存计算出的值，并且只在实际的依赖关系发生变化时才重新计算它。</p><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="8d9b" class="mo lg in kw b gy ne nf l ng nh">const INTRODUCTION= App.createComputed(() =&gt; {<br/>   return `Hello I am '${MY_NAME.vale}'.`;<br/>});</span></pre><p id="b100" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一个Computed会神奇地跟踪所使用的依赖项(如状态),并在它的一个依赖项更新时自动重新计算。例如，在上面的代码片段中，当<code class="fe kt ku kv kw b">MY_NAME</code>的当前值从‘Jeff’变为‘Hans’时，它会重新计算。</p><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="4f5c" class="mo lg in kw b gy ne nf l ng nh">INTRODUCTION.value; // Returns “Hello I am ‘jeff’.”<br/>MY_NAME.set(‘hans’);<br/>INTRODUCTION.value; // Returns “Hello I am ‘hans’.”</span></pre><p id="fbf6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kx" href="https://codesandbox.io/s/agilets-first-computed-kisgr" rel="noopener ugc nofollow" target="_blank">代码沙箱</a></p><p id="e09a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kx" href="https://agile-ts.org/docs/core/collection/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">👨‍👩‍👧收藏状态</strong> </a></p><p id="2db8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当管理一组信息时，例如待办事项或用户列表时，收集状态很方便。集合是专门为遵循相同模式的<code class="fe kt ku kv kw b">data objects</code>数组设计的。这些数据对象中的每一个都需要一个唯一的<code class="fe kt ku kv kw b">itemKey</code>，以便以后正确识别。想象一个类似数据库表的集合，它存储一个曾经由id ( <code class="fe kt ku kv kw b">itemKey</code>)作为关键字的数据对象。</p><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="deeb" class="mo lg in kw b gy ne nf l ng nh">const JOKES = App.createCollection();</span></pre><p id="8ed0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在上面的例子中，我们创建了一个存储笑话列表的集合。然而，没有笑话的笑话列表并不好笑。<br/>那么让我们给新创建的笑话集添加一个有趣的笑话吧。</p><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="87f5" class="mo lg in kw b gy ne nf l ng nh">JOKES.collect({<br/>  id: 1, <br/>  joke: "Why do Java programmers have to wear glasses?\n <br/>         Because they don't C#"<br/>}, ['programming']);</span></pre><p id="5c14" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们刚刚添加的笑话属于“编程”类别。因此，我们把它归类到<code class="fe kt ku kv kw b">programming</code>组。组允许我们轻松地将集合中的数据聚集在一起，作为一个项目键数组。</p><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="51de" class="mo lg in kw b gy ne nf l ng nh">JOKES.getGroup(‘chucknorris’).output; // Returns Chuck Norris Jokes<br/>JOKES.getGroup(‘programming’).output; // Returns Programming Jokes<br/>JOKES.getDefaultGroup().output; // Returns All Jokes</span></pre><p id="5ac8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kx" href="https://codesandbox.io/s/agilets-first-collection-uyi9g" rel="noopener ugc nofollow" target="_blank">代码沙盒</a></p><h2 id="650b" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">🚀增强性能</h2><p id="9b03" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">AgileTs通过批处理重新呈现作业和仅在实际绑定状态发生变化时重新呈现UI组件来确保性能优化。你可以更进一步，只将状态值的特定属性绑定到UI组件，或者使用内置的<a class="ae kx" href="https://agile-ts.org/docs/react/hooks#useproxy" rel="noopener ugc nofollow" target="_blank">代理功能</a>。</p><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="1eb7" class="mo lg in kw b gy ne nf l ng nh">// Component re-renders only when ‘user.name’ mutates<br/>const name = useSelector(MY_USER, (value) =&gt; value.name);<br/>console.log(name); // Returns ‘jeff’</span><span id="66b8" class="mo lg in kw b gy np nf l ng nh">// Component re-renders only when ‘user.age’ mutates<br/>const user = useProxy(MY_USER);<br/>console.log(user.age); // Returns ‘8’</span></pre><h2 id="d9c1" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">🐞易于调试</h2><p id="171b" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">AgileTs还没有高级的开发工具。<br/>但是，您可以将您的状态绑定到<code class="fe kt ku kv kw b">globalThis</code> <br/>并在浏览器控制台中轻松访问它们。</p><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="1b5d" class="mo lg in kw b gy ne nf l ng nh">const MY_STATE = createState(‘jeff’);<br/>const MY_COLLECTION = createCollection();</span><span id="d103" class="mo lg in kw b gy np nf l ng nh">globalBind(‘__core__’, {<br/> MY_STATE,<br/> MY_COLLECTION<br/>});</span></pre><p id="4ecd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这允许您在运行时预览和编辑全局绑定状态。例如，<a class="ae kx" href="https://agile-ts.org/" rel="noopener ugc nofollow" target="_blank"> AgileTs文档</a>的<code class="fe kt ku kv kw b">core</code>是全局绑定的，以便更好地调试。</p><figure class="mi mj mk ml gt jo gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/0dd0fa64751dc9c5a3fa858b0a60e5b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*V6WNpR6cKHe9MOf_SnXIIA.png"/></div></figure><p id="9c44" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">请注意，您应该避免将您的应用程序状态附加到<strong class="jx io">生产</strong>中的<code class="fe kt ku kv kw b">globalThis</code>上，因为这样第三方很容易干涉您的内部应用程序逻辑。因为AgileTs文档没有易受攻击的逻辑，所以<code class="fe kt ku kv kw b">core</code>在生产中也是可访问的。因此你可以摆弄AgileTs文档<code class="fe kt ku kv kw b">core</code>，例如，更新<code class="fe kt ku kv kw b">NPM_DOWNLOADS</code>状态或者更新宇航员的颜色。</p><pre class="mi mj mk ml gt na kw nb nc aw nd bi"><span id="e7ff" class="mo lg in kw b gy ne nf l ng nh">__core__.stats.NPM_DOWNLOADS.set(999999);</span></pre></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="323e" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">👎使用AgileTs的缺点？</h1><p id="ddd4" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">像任何其他优秀的全球状态管理器一样，AgileTs也有一些我们应该讨论的缺点。我们正在努力减少和摆脱这些。如果你对使用AgileTs有任何疑问，请在评论中告诉我。然后我可以把它们列在这里，甚至可以抵消它们😁。谢谢你的支持。</p><figure class="mi mj mk ml gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ns"><img src="../Images/df6490d8a9b999123390a77eff42e330.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*EA3TSAV5S4Io1yRUzKn3rQ.png"/></div></div></figure><h2 id="1724" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">🐘大捆尺寸</h2><p id="e791" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">大多数州经理都很轻量级，但这一个不是。AgileTs有一个缩小的尺寸<a class="ae kx" href="http://@agile-ts/core&quot;&gt;https://bundlephobia.com/result?p=@agile-ts/core" rel="noopener ugc nofollow" target="_blank"> 58.3kB </a>(树摇18kB)，和它的同伴相比相当重。然而，它提供了100%的类型安全性、可预测的运行时、专注于开发人员体验的API，以及更多回报。大的包大小并不意味着AgileTs会显著降低应用程序的速度。用下面列出的AgileTs压力测试说服自己:<br/> - <a class="ae kx" href="https://codesandbox.io/s/agilets-large-state-pyo63" rel="noopener ugc nofollow" target="_blank">大状态(反应)</a>-<a class="ae kx" href="https://codesandbox.io/s/agilets-frequent-updates-5tprm" rel="noopener ugc nofollow" target="_blank">频繁更新(反应)</a></p><p id="d3db" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们还创建了一些<a class="ae kx" href="https://github.com/agile-ts/agile/tree/master/benchmark" rel="noopener ugc nofollow" target="_blank">基准</a>，在性能方面比较不同的状态管理方法。</p><h2 id="c9e3" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">🌍没有大型社区</h2><p id="74ac" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">AgileTs直到现在(2021年7月)<br/>才正式发布，而且我还没有设法在图书馆周围建立一个社区。这主要是因为我认为AgileTs还不够好，不能给任何人看。但是，除了我在开发敏捷时学到的许多其他东西之外，我还学到了寻求反馈永远不会太早。😅</p><p id="1c43" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你想成为AgileTs社区的一员，不要犹豫，加入我们的<a class="ae kx" href="https://discord.gg/T9GzreAwPH" rel="noopener ugc nofollow" target="_blank">社区Discord </a>。在那里，你可以问任何与AgileTs或编程相关的问题，告诉我们你对AgileTs的看法或我们可以做得更好的地方。</p><h2 id="3651" class="mo lg in bd lh mp mq dn ll mr ms dp lp kg mt mu lt kk mv mw lx ko mx my mb mz bi translated">🌲只有一个贡献者/维护者</h2><p id="c7f7" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">这可能很奇怪，但是如果我(唯一的贡献者)被树或其他东西击中而死亡，AgileTs将不再有维护者。我试图创建一个尽可能对贡献者友好的代码库。但是，如果没有人能够合并/发布这些变更，那么有多少人能够理解代码并修复可能发生的问题并不重要。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><h1 id="d071" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">❓结论</h1><p id="24cc" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">总之，AgileTs提供了一个简单而强大的API，它专注于开发人员的体验，并且通过无需编写任何样板代码的可伸缩性来满足小型和大型应用程序的需求。因此，AgileTs看起来是状态管理的一个很好的选择。虽然它不是轻量级的，但它通过批处理重渲染和提供基于代理的功能(如<code class="fe kt ku kv kw b"><a class="ae kx" href="https://agile-ts.org/docs/react/hooks#useproxy" rel="noopener ugc nofollow" target="_blank">useProxy()</a></code>钩子)来尽可能优化我们应用程序的性能。</p><p id="461f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，感谢您花时间阅读这篇文章。如果能在评论中听到你对AgileTs的看法，我将不胜感激。如果您有任何进一步的问题，请不要犹豫，加入我们的<a class="ae kx" href="https://discord.gg/T9GzreAwPH" rel="noopener ugc nofollow" target="_blank">社区Discord </a>或在我们的<a class="ae kx" href="https://www.reddit.com/r/AgileTs/" rel="noopener ugc nofollow" target="_blank"> subreddit </a>上提问。我们渴望帮助。如果你喜欢AgileTs的概念或/和想要支持我们，请在Github 上给我们一个⭐️(星星)并与你的朋友分享。谢谢你的支持😊</p><p id="e027" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">干杯🎉</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><ul class=""><li id="3f80" class="nt nu in jx b jy jz kc kd kg nv kk nw ko nx ks ny nz oa ob bi translated">Github: <a class="ae kx" href="https://github.com/agile-ts/agile" rel="noopener ugc nofollow" target="_blank">https://github.com/agile-ts/agile </a> <br/>- 网站: <a class="ae kx" href="https://agile-ts.org/" rel="noopener ugc nofollow" target="_blank">https://agile-ts.org/ </a> <br/>- Discord: <a class="ae kx" href="https://discord.gg/T9GzreAwPH" rel="noopener ugc nofollow" target="_blank">https://discord.gg/T9GzreAwPH </a> <br/>- Twitter: <a class="ae kx" href="https://twitter.com/AgileTypescript" rel="noopener ugc nofollow" target="_blank">https://twitter.com/AgileTypeScript </a> <br/>- Reddit: <a class="ae kx" href="https://www.reddit.com/r/AgileTs/" rel="noopener ugc nofollow" target="_blank">https://www.reddit.com/r/AgileTs/ </a></li></ul><p id="a94e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nl"> More content at </em> <a class="ae kx" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nl"> plainenglish.io </em> </strong> </a></p></div></div>    
</body>
</html>