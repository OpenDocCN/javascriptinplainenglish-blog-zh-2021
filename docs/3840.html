<html>
<head>
<title>Create Animations in React with CSS and Framer-Motion</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在“与CSS和成帧器反应-运动”中创建动画</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/animation-in-react-web-application-using-pure-css-and-framer-motion-cf48a4aece28?source=collection_archive---------10-----------------------#2021-08-02">https://javascript.plainenglish.io/animation-in-react-web-application-using-pure-css-and-framer-motion-cf48a4aece28?source=collection_archive---------10-----------------------#2021-08-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3775" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如果您喜欢使用“反应”和“动画”，您也可以这样操作。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ed04b68f82af44e91f07f150f1ddf537.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SMu9-ScLRYPKMzXbk-1OVg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image Designed Using <a class="ae kv" href="https://www.canva.com/" rel="noopener ugc nofollow" target="_blank">Canva</a></figcaption></figure><p id="063b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将从这个主题中学到什么:</p><ul class=""><li id="4215" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">如何在反应中使用<strong class="ky ir"> CSS </strong>制作<strong class="ky ir">动画</strong>。</li><li id="830e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">如何在反应中使用<strong class="ky ir">成帧器-动作</strong>制作<strong class="ky ir">动画</strong>。</li></ul></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="9f08" class="mn mo iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated"><strong class="ak"> 1。如何在反应中使用CSS制作动画</strong></h2><p id="c69a" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">在本教程中，我做了一个简短的代码沙箱演示，以便您可以更容易地理解。演示是关于一个“冥想月亮”(因为我给它命名)。为此，我有三个动画元素:</p><ul class=""><li id="a46d" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><strong class="ky ir">月亮</strong>在无限的时间里膨胀和收缩。</li><li id="f118" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">星</strong>正在以无限的时间绕着月亮运行。</li><li id="2d30" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">文字</strong>将在月亮增大或缩小时在两种状态之间切换。</li></ul><p id="6236" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们可以让月球像这样增长或缩小:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="1f9a" class="mn mo iq nm b gy nq nr l ns nt"><em class="nu">.moon-container {</em></span><span id="16a7" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">display: flex;</em></span><span id="2d57" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">align-items: center;</em></span><span id="8c64" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">justify-content: center;</em></span><span id="5083" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">margin: auto;</em></span><span id="e235" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">top: 20px;</em></span><span id="8696" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">height: 260px;</em></span><span id="b3b7" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">width: 260px;</em></span><span id="c65d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">position: relative;</em></span><span id="e925" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transform: scale(1);</em></span><span id="c578" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="5d08" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">.moon-container.grow {</em></span><span id="2e0b" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">animation: grow 3s infinite;</em></span><span id="518e" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="c7f2" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">@keyframes grow {</em></span><span id="ee61" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">from {</em></span><span id="dcbe" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transform: scale(1);</em></span><span id="22d9" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="3381" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">to {</em></span><span id="2c7b" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transform: scale(1.5);</em></span><span id="03ab" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="1c33" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="ad4e" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">.moon-container.shrink {</em></span><span id="83c0" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">animation: shrink 3s infinite;</em></span><span id="55cd" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="647b" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">@keyframes shrink {</em></span><span id="7c69" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">from {</em></span><span id="78ad" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transform: scale(1.5);</em></span><span id="089c" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="0fd8" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">to {</em></span><span id="d973" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transform: scale(1);</em></span><span id="0383" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="836a" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span></pre><p id="3d88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的代码中，您可以看到类<em class="nu">月亮容器</em>作为月亮物体的占位符，所以我们需要在这个占位符上再附加两个类<em class="nu">生长</em>和<em class="nu">收缩</em>进行动画。我们将在<em class="nu"> @keyframs </em>中增加属性<em class="nu">变换</em>的值<em class="nu"> scale() </em>使月亮相应地变大变小。</p><p id="4a14" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，看看下面代码中的星形元素:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="4272" class="mn mo iq nm b gy nq nr l ns nt"><em class="nu">.star-container {</em></span><span id="c5e9" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">position: absolute;</em></span><span id="1211" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">top: -30px;</em></span><span id="1334" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">left: 120px;</em></span><span id="8d43" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">width: 20px;</em></span><span id="a905" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">height: 160px;</em></span><span id="66ca" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transform-origin: bottom center;</em></span><span id="a46c" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">animation: rotate 6s linear forwards infinite;</em></span><span id="302d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="f094" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">@keyframes rotate {</em></span><span id="5794" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">from {</em></span><span id="5d85" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transform: rotate(0deg);</em></span><span id="171c" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="c5c5" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">to {</em></span><span id="5466" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transform: rotate(360deg);</em></span><span id="cd8a" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="2dd3" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span></pre><p id="0e79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，我们可以制作一个类<em class="nu">星形容器</em>作为动画星的占位符，然后为属性<em class="nu">变换添加值<em class="nu"> rotate(从0到360度)</em>。</em></p><p id="2eb1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们检查文本区域，文本将根据动画月亮而变化。查看<strong class="ky ir"> App.js </strong>文件中的示例代码。为此，我使用了Component类，然后初始化了如下状态:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="7185" class="mn mo iq nm b gy nq nr l ns nt"><em class="nu">state = {</em></span><span id="0495" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">text: “&lt;Hold/&gt;”,</em></span><span id="38cd" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">count: 0,</em></span><span id="c8a5" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">grow: false,</em></span><span id="647d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">shrink: false</em></span><span id="ac52" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">};</em></span></pre><p id="8f68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我又增加了两个功能<em class="nu">“呼吸()</em>”和<em class="nu">呼吸()</em>”，如下:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="b373" class="mn mo iq nm b gy nq nr l ns nt"><em class="nu">breathIn = () =&gt; {</em></span><span id="fbac" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">this.setState({</em></span><span id="551f" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">text: “&lt;Breath In/&gt;”,</em></span><span id="c94b" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">count: this.state.count + 1,</em></span><span id="a098" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">grow: true,</em></span><span id="5bb3" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">shrink: false</em></span><span id="7819" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">});</em></span><span id="7a53" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">};</em></span><span id="aa21" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">breathOut = () =&gt; {</em></span><span id="cf03" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">this.setState({</em></span><span id="b8f0" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">text: “&lt;Breath Out/&gt;”,</em></span><span id="c8f5" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">count: this.state.count — 1,</em></span><span id="df57" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">grow: false,</em></span><span id="2f50" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">shrink: true</em></span><span id="abea" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">});</em></span><span id="d221" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">};</em></span></pre><p id="0a36" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此时您可以<em class="nu">设置状态()</em>为每个属性添加您想要的值。最后，按照以下顺序添加div元素:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="f139" class="mn mo iq nm b gy nq nr l ns nt"><em class="nu">&lt;div</em></span><span id="09d8" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">className={`moon-container ${this.state.grow ? “grow” : “”} ${</em></span><span id="535e" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">this.state.shrink ? “shrink” : “”</em></span><span id="7dd9" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}`}</em></span><span id="6fa9" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">id=”animation”</em></span><span id="8702" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">onAnimationIteration={</em></span><span id="74a7" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">this.state.count === 1 ? this.breathOut : this.breathIn</em></span><span id="0a74" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="821c" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&gt;</em></span><span id="e8b8" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;div className=”text-area”&gt;</em></span><span id="464f" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;h3&gt;Keep Calm and Code On&lt;/h3&gt;</em></span><span id="15c1" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;h2&gt;</em></span><span id="22a2" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">{this.state.count} : {this.state.text}</em></span><span id="cad5" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/h2&gt;</em></span><span id="14d8" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/div&gt;</em></span><span id="97d5" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;div className=”moon”&gt;&lt;/div&gt;</em></span><span id="d0fc" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;div className=”star-container”&gt;</em></span><span id="4d7a" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;span className=”star”&gt;&lt;/span&gt;</em></span><span id="bedf" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/div&gt;</em></span><span id="dc19" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/div&gt;</em></span></pre><p id="adc1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的代码中，根据<em class="nu"> this.state.grow </em>和<em class="nu">this . state . construct</em>(对或错)增加了类<em class="nu"> grow </em>或<em class="nu"> shrink </em>。<em class="nu">on imation iteration</em>事件将根据计数器的值触发函数<strong class="ky ir"> </strong> <em class="nu">呼气()</em>和<em class="nu">呼气()</em>。</p><p id="eb37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里观看<a class="ae kv" href="https://jg6cl.csb.app/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">演示</strong> </a>了解它是如何工作的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><h2 id="aaef" class="mn mo iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated"><strong class="ak"> 2 .如何在反作用中使用成帧器运动制作动画</strong></h2><p id="0dff" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">成帧器动作是<em class="nu">“一个现成的动作库，用于从</em> <a class="ae kv" href="https://www.framer.com/" rel="noopener ugc nofollow" target="_blank"> <em class="nu">成帧器</em> </a>起反应。I <em class="nu"> t带来了声明式动画、轻松的布局转换和手势，同时保持了HTML和SVG语义。”</em>他们的文档很容易理解，并且包含了很多交互式的例子，所以你不会花很多时间来实现编码。在本教程中，我将使用这项技术演示一个动画汉堡菜单切换。为此，我们将使用“<em class="nu">变体</em>”状态。正如在他们的<a class="ae kv" href="https://www.framer.com/docs/" rel="noopener ugc nofollow" target="_blank">文档</a>中所定义的那样，“<em class="nu">变体是组件可以处于的预定义的可视状态。通过给一个组件及其子组件</em> <code class="fe ny nz oa nm b"><em class="nu">variants</em></code> <em class="nu">匹配的名称，整个反应树可以通过改变一个单独的道具来动画化。通过使用变体，父母可以轻松地用特殊的</em> <code class="fe ny nz oa nm b"><em class="nu">transition</em></code> <em class="nu">道具(如</em> <code class="fe ny nz oa nm b"><em class="nu">staggerChildren</em></code> <em class="nu">)编排孩子的动画。变体也可以是基于传递给每个组件的</em> <code class="fe ny nz oa nm b"><em class="nu">custom</em></code> <em class="nu">属性的数据返回不同属性的动态函数。</em>”</p><p id="6fc0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用此<em class="nu">变量</em>状态的演示将有三个主要部分:</p><ul class=""><li id="fb05" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">如何显示<strong class="ky ir">菜单切换图标</strong>。</li><li id="246e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">如何显示<strong class="ky ir">菜单项</strong>。</li><li id="f3a7" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">点击菜单图标时<strong class="ky ir">导航条</strong>如何转换。</li></ul><p id="2136" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们创建动画菜单切换图标如下:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="0302" class="mn mo iq nm b gy nq nr l ns nt"><em class="nu">import * as React from “react”;</em></span><span id="58ea" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">import { motion } from “framer-motion”;</em></span><span id="44db" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">const Path = (props) =&gt; (</em></span><span id="e84a" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;motion.path</em></span><span id="1028" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">fill=”transparent”</em></span><span id="fccf" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">strokeWidth=”3"</em></span><span id="2d5d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">stroke=”hsl(0, 0%, 18%)”</em></span><span id="9920" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">strokeLinecap=”round”</em></span><span id="d2c7" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">{…props}</em></span><span id="0e77" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">/&gt;</em></span><span id="fae0" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">);</em></span><span id="b414" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">export const MenuToggle = ({ toggle }) =&gt; (</em></span><span id="08c8" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;button onClick={toggle}&gt;</em></span><span id="d6ef" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;svg width=”23" height=”23" viewBox=”0 0 23 23"&gt;</em></span><span id="eab9" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;Path</em></span><span id="1ab7" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">variants={{</em></span><span id="3e27" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">closed: { d: “M 2 2.5 L 20 2.5” },</em></span><span id="2d4e" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">open: { d: “M 3 16.5 L 17 2.5” }</em></span><span id="d344" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}}</em></span><span id="b46a" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">/&gt;</em></span><span id="92bb" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;Path</em></span><span id="8d52" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">d=”M 2 9.423 L 20 9.423"</em></span><span id="67fd" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">variants={{</em></span><span id="b933" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">closed: { opacity: 1 },</em></span><span id="1f3a" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">open: { opacity: 0 }</em></span><span id="048d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}}</em></span><span id="f3c0" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transition={{ duration: 0.1 }}</em></span><span id="1e9c" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">/&gt;</em></span><span id="bc49" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;Path</em></span><span id="b479" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">variants={{</em></span><span id="3c11" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">closed: { d: “M 2 16.346 L 20 16.346” },</em></span><span id="e803" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">open: { d: “M 3 2.5 L 17 16.346” }</em></span><span id="d932" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}}</em></span><span id="0b65" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">/&gt;</em></span><span id="985b" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/svg&gt;</em></span><span id="3bd8" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/button&gt;</em></span><span id="239d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">);</em></span></pre><p id="16e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这段代码中，您可能会注意到，我们利用<em class="nu">变量</em>状态来控制状态关闭或打开时的SVG路径。</p><p id="338d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，我们将为菜单中的项目设置<em class="nu">变量</em>状态，如下所示:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="ec9a" class="mn mo iq nm b gy nq nr l ns nt"><em class="nu">import * as React from “react”;</em></span><span id="a349" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">import { motion } from “framer-motion”;</em></span><span id="7de9" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">const variants = {</em></span><span id="e5c9" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">open: {</em></span><span id="5966" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">y: 0,</em></span><span id="72e7" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">opacity: 1,</em></span><span id="99de" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transition: {</em></span><span id="c7e0" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">y: { stiffness: 1000, velocity: -100 }</em></span><span id="b80a" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="066b" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">},</em></span><span id="7fe5" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">closed: {</em></span><span id="b709" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">y: 50,</em></span><span id="d98d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">opacity: 0,</em></span><span id="aa10" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transition: {</em></span><span id="7cd4" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">y: { stiffness: 1000 }</em></span><span id="78a5" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="49c1" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="9f49" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">};</em></span><span id="61cd" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">const colors = [“#fef6e4”, “#f582ae”, “#8bd3dd”, “#b8c1ec”, “#ff8906”];</em></span><span id="3e4b" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">export const MenuItem = ({ id, text, icon }) =&gt; {</em></span><span id="afdc" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">const style = { border: `3px solid ${colors[id]}` };</em></span><span id="3a47" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">return (</em></span><span id="6c0d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;motion.li</em></span><span id="f04c" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">variants={variants}</em></span><span id="adc9" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">whileHover={{ scale: 1.1 }}</em></span><span id="2d98" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">whileTap={{ scale: 0.95 }}</em></span><span id="adf5" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&gt;</em></span><span id="f181" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;div className=”icon-placeholder” style={style}&gt;</em></span><span id="97fb" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;span className=”icon”&gt;{icon}&lt;/span&gt;</em></span><span id="9ee7" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/div&gt;</em></span><span id="2f35" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;div className=”text-placeholder” style={style}&gt;</em></span><span id="9189" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;span className=”text”&gt;{text}&lt;/span&gt;</em></span><span id="8f06" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/div&gt;</em></span><span id="99cd" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/motion.li&gt;</em></span><span id="b5b9" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">);</em></span><span id="1a51" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">};</em></span></pre><p id="6960" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这只是一个例子，你可以根据你的需要定制这些，只要确保转换属性的值将根据其变量的状态而改变。</p><p id="91b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，导航栏将“<em class="nu"> staggerChildren </em>”(本例中为菜单项)如下:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="a35d" class="mn mo iq nm b gy nq nr l ns nt"><em class="nu">import * as React from “react”;</em></span><span id="ed14" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">import { motion } from “framer-motion”;</em></span><span id="89ab" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">import { MenuItem } from “./Items”;</em></span><span id="40f4" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">const variants = {</em></span><span id="16e7" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">open: {</em></span><span id="ca73" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transition: { staggerChildren: 0.07, delayChildren: 0.2 }</em></span><span id="e501" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">},</em></span><span id="119b" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">closed: {</em></span><span id="017d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transition: { staggerChildren: 0.05, staggerDirection: -1 }</em></span><span id="38d3" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="ee53" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">};</em></span><span id="a708" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">const Items = [</em></span><span id="7dd3" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">{ id: “0”, text: “Home”, icon: “🏠” },</em></span><span id="dbda" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">{ id: “1”, text: “About”, icon: “ℹ️” },</em></span><span id="9305" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">{ id: “2”, text: “Projects”, icon: “💻” },</em></span><span id="cd35" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">{ id: “3”, text: “Blogs”, icon: “✍️” },</em></span><span id="bdf6" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">{ id: “4”, text: “Contact”, icon: “📧” }</em></span><span id="eb5c" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">];</em></span><span id="d757" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">export const Navigation = () =&gt; (</em></span><span id="a805" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;motion.ul variants={variants}&gt;</em></span><span id="df90" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">{Items.map((item) =&gt; (</em></span><span id="efbb" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;MenuItem id={item.id} key={item.id} text={item.text} icon={item.icon} /&gt;</em></span><span id="47ec" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">))}</em></span><span id="b9c5" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/motion.ul&gt;</em></span><span id="03c2" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">);</em></span></pre><p id="a93f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以设置我们的<strong class="ky ir"> App.js </strong>文件中的所有内容，并立即看到结果:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="a26f" class="mn mo iq nm b gy nq nr l ns nt"><em class="nu">import “./styles.css”;</em></span><span id="38f9" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">import * as React from “react”;</em></span><span id="4154" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">import { motion, useCycle } from “framer-motion”;</em></span><span id="4d94" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">import { MenuToggle } from “./Toggle”;</em></span><span id="072d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">import { Navigation } from “./Nav”;</em></span><span id="24aa" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">const sidebar = {</em></span><span id="5ca8" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">open: (height = 1000) =&gt; ({</em></span><span id="40e4" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">clipPath: `circle(${height * 2 + 200}px at 40px 40px)`,</em></span><span id="0546" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transition: {</em></span><span id="c81e" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">type: “spring”,</em></span><span id="114e" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">stiffness: 20,</em></span><span id="391e" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">restDelta: 2</em></span><span id="bdbf" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="5371" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}),</em></span><span id="6130" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">closed: {</em></span><span id="80e3" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">clipPath: “circle(30px at 40px 40px)”,</em></span><span id="6ced" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">transition: {</em></span><span id="4288" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">delay: 0.5,</em></span><span id="c275" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">type: “spring”,</em></span><span id="b229" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">stiffness: 400,</em></span><span id="ddf5" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">damping: 40</em></span><span id="0c39" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="87f6" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span><span id="bf28" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">};</em></span><span id="fd15" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">export default function App() {</em></span><span id="b820" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">const [isOpen, toggleOpen] = useCycle(false, true);</em></span><span id="487d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">return (</em></span><span id="f3e9" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;&gt;</em></span><span id="174f" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;motion.nav</em></span><span id="527a" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">initial={false}</em></span><span id="05d6" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">animate={isOpen ? “open” : “closed”}</em></span><span id="4cc0" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">custom=”100%”</em></span><span id="7984" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&gt;</em></span><span id="239a" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;motion.div className=”navbar” variants={sidebar} /&gt;</em></span><span id="85a1" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;Navigation /&gt;</em></span><span id="c319" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;MenuToggle toggle={() =&gt; toggleOpen()} /&gt;</em></span><span id="e932" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/motion.nav&gt;</em></span><span id="213f" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;div className=”heading”&gt;</em></span><span id="570d" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;h2&gt;</em></span><span id="c3a2" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">Hello, I am an Animated Menu Using{“ “}</em></span><span id="a320" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;a</em></span><span id="425a" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">target=”_blank”</em></span><span id="96f1" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">rel=”noreferrer”</em></span><span id="4ebb" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">href=”https://www.framer.com/docs/"</em></span><span id="c7d1" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&gt;</em></span><span id="b9d8" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">Framer-Motion</em></span><span id="9de2" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/a&gt;</em></span><span id="8417" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/h2&gt;</em></span><span id="5f80" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;h3&gt;Try Me!&lt;/h3&gt;</em></span><span id="3016" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/div&gt;</em></span><span id="b0bb" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">&lt;/&gt;</em></span><span id="d310" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">);</em></span><span id="5ab2" class="mn mo iq nm b gy nv nr l ns nt"><em class="nu">}</em></span></pre><p id="8043" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里是<a class="ae kv" href="https://3cji8.csb.app/" rel="noopener ugc nofollow" target="_blank">的<strong class="ky ir">演示</strong>的</a>为此:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="eb9f" class="mn mo iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated">结论</h2><p id="abb4" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">今天的教程到此为止。欣赏你的作品，享受吧！我知道这是一个相当长的阅读，但其中大部分只是代码片段。感谢您的阅读，祝您度过美好的一天！</p><p id="25cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢<strong class="ky ir">动画</strong>主题，你可以点击这里阅读另一篇文章:</p><div class="ob oc gp gr od oe"><a rel="noopener  ugc nofollow" target="_blank" href="/make-your-site-stand-out-with-animation-4bb855c5a109"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">用动画让你的网站脱颖而出</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">如何使用CSS和JavaScript创建动画，使你的网站更有吸引力</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="on l"><div class="oo l op oq or on os kp oe"/></div></div></a></div><p id="d2ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nu">更多内容尽在</em><a class="ae kv" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nu">plain English . io</em></strong></a></p></div></div>    
</body>
</html>