<html>
<head>
<title>Utilize JSDoc Comment Tags to Get the Most Out of VSCode’s IntelliSense</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用JSDoc注释标签充分利用VSCode的智能感知</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-utilise-jsdoc-comment-tags-so-that-visual-studio-code-intellisense-works-great-f3b2ce2ba276?source=collection_archive---------4-----------------------#2021-07-16">https://javascript.plainenglish.io/how-to-utilise-jsdoc-comment-tags-so-that-visual-studio-code-intellisense-works-great-f3b2ce2ba276?source=collection_archive---------4-----------------------#2021-07-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="7cd8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">JSDoc是JavaScript代码注释的标准。让我们了解如何利用这一点，使其在VSCode的智能感知中发挥巨大作用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a8de1243d33ddf2ad58b62e4069b1e51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gtw-9y29fhxMYDx3L8nFQw.png"/></div></div></figure><h1 id="6416" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">JavaScript中的类型</h1><p id="c43f" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">JavaScript是一种松散类型的动态语言。JavaScript中的变量并不直接与任何特定的值类型相关联，任何变量都可以被赋予(和重新赋予)所有类型的值:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure><h1 id="1eca" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">VSCode中的智能感知</h1><p id="3c16" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">Visual Studio代码的智能感知只有在理解您的代码的<code class="fe lz ma mb mc b">type</code>时才能工作。</p><p id="e12d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的例子中，在你写完第一行之后，<code class="fe lz ma mb mc b">let foo = 42;</code>它会向你展示一个数字的方法:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/605c6e80672ef53d9aa2a3d8a789529e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oiTZ4pP-tOu01q5y"/></div></div></figure><p id="df7a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是如果你分配一个JSON，它将保存许多属性，比如<code class="fe lz ma mb mc b">id</code>、<code class="fe lz ma mb mc b">createdOn</code>等等，那该怎么办呢？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi me"><img src="../Images/4a02fca1e0c13cb3637780b2aae98fb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*A2u4iHF7gLhJtxg1"/></div></div></figure><p id="125a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它也运行良好。但是，你的变量不太可能通过初始化来保存值。因此，现在如果您检查空白JSON，IntelliSense将停止工作，因为现在VSCode不知道类型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi me"><img src="../Images/41ef1cda9ebd96c7195e04e3b68d63bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6OKFwnhMNGPTV20P"/></div></div></figure><p id="c599" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果没有适当的智能感知，我们经常会打错字，调用不存在的方法，甚至试图通过随机猜测来访问对象的属性。</p><p id="086e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为了处理这种(以及更复杂的)场景，并确保智能感知在这些场景中正常工作，我们将使用<a class="ae mf" href="https://jsdoc.app/" rel="noopener ugc nofollow" target="_blank"> JSDoc </a>的<code class="fe lz ma mb mc b">@param</code>、<code class="fe lz ma mb mc b">@type</code>和<code class="fe lz ma mb mc b">@typedef</code>块标签。</p><h1 id="55c4" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">JSDoc来拯救</h1><p id="8793" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">JSDoc附带了许多标签。你可以在网站上找到他们:<a class="ae mf" href="https://jsdoc.app/" rel="noopener ugc nofollow" target="_blank">https://jsdoc.app/</a>。</p><p id="9187" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但是在本文中，我们将重点关注以下3个标签:</p><blockquote class="mg mh mi"><p id="d8b5" class="jk jl mj jm b jn jo jp jq jr js jt ju mk jw jx jy ml ka kb kc mm ke kf kg kh ig bi translated"><em class="in"/><code class="fe lz ma mb mc b"><em class="in">@param</em></code><em class="in">标签提供了函数参数的名称、类型和描述。</em></p><p id="5bda" class="jk jl mj jm b jn jo jp jq jr js jt ju mk jw jx jy ml ka kb kc mm ke kf kg kh ig bi translated"><em class="in"/><code class="fe lz ma mb mc b"><em class="in">@param</em></code><em class="in">标签要求您指定正在记录的参数的名称。还可以包括参数的类型(用花括号括起来)和参数的描述。</em></p></blockquote><p id="7c69" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看一些例子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="c96a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在上面的代码之后，每当您试图调用<code class="fe lz ma mb mc b">sayHello</code>时，VSCode的IntelliSense都会工作得很好:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/8a56b8c83e6dd6fa6bf601c2a580b8a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bQOMBQZQDThNbN3f"/></div></div></figure><p id="6ee2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以在https://jsdoc.app/tags-param.html#examples看更多的例子。</p><blockquote class="mg mh mi"><p id="66e8" class="jk jl mj jm b jn jo jp jq jr js jt ju mk jw jx jy ml ka kb kc mm ke kf kg kh ig bi translated"><em class="in"/><code class="fe lz ma mb mc b"><em class="in">@type</em></code><em class="in">标签允许你提供一个类型表达式，标识一个符号可能包含的值的类型，或一个函数返回的值的类型。您还可以使用许多其他JSDoc标记来包含类型表达式，例如</em> <code class="fe lz ma mb mc b"><em class="in">@param</em></code> <em class="in">标记。</em></p><p id="d3e0" class="jk jl mj jm b jn jo jp jq jr js jt ju mk jw jx jy ml ka kb kc mm ke kf kg kh ig bi translated"><em class="in">一个类型表达式可以包含一个符号的JSDoc namepath(例如，</em><code class="fe lz ma mb mc b"><em class="in">myNamespace.MyClass</em></code><em class="in">)；一个内置的JavaScript类型(例如</em><code class="fe lz ma mb mc b"><em class="in">string</em></code><em class="in">)；或者这些的组合。可以使用任何</em> <a class="ae mf" href="https://github.com/google/closure-compiler/wiki/Annotating-JavaScript-for-the-Closure-Compiler#type-expressions" rel="noopener ugc nofollow" target="_blank"> <em class="in"> Google闭包编译器类型表达式</em> </a> <em class="in">，以及JSDoc特有的其他几种格式。</em></p></blockquote><p id="5c71" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们来看一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="cecc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于上面的代码，键入<code class="fe lz ma mb mc b">foo.</code>将加载所有<code class="fe lz ma mb mc b">Array</code>的属性和方法:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/df73fb4649ec501cb9402db09d50adcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lhjwp148RDjDAA2z"/></div></div></figure><p id="c471" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">更多例子在<a class="ae mf" href="https://jsdoc.app/tags-type.html#examples" rel="noopener ugc nofollow" target="_blank">https://jsdoc.app/tags-type.html#examples</a></p><blockquote class="mg mh mi"><p id="93f3" class="jk jl mj jm b jn jo jp jq jr js jt ju mk jw jx jy ml ka kb kc mm ke kf kg kh ig bi translated"><em class="in"/><code class="fe lz ma mb mc b"><em class="in">@typedef</em></code><em class="in">标签对于记录自定义类型很有用，尤其是当你希望重复引用它们的时候。然后，这些类型可以在其他需要类型的标记中使用，如</em> <code class="fe lz ma mb mc b"><em class="in">@type</em></code> <em class="in">或</em> <code class="fe lz ma mb mc b"><em class="in">@param</em></code> <em class="in">。</em></p></blockquote><p id="6e06" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这个标签真的很有帮助，它帮助我们塑造任何复杂的类型。让我们看一个例子。</p><p id="848c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">此示例定义了一个更复杂的类型，一个具有多个属性的对象，并设置了它的命名路径，以便它将与使用该类型的类一起显示。因为类型定义实际上不是由函数公开的，所以习惯上将类型定义记录为内部成员。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="9a4c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">下面是上述代码的分解:</p><p id="4712" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">第一行:</p><ol class=""><li id="1887" class="mo mp in jm b jn jo jr js jv mq jz mr kd ms kh mt mu mv mw bi translated">我们首先指出我们想要使用<code class="fe lz ma mb mc b">@typedef</code>标签创建一个定制类型。</li><li id="2c22" class="mo mp in jm b jn mx jr my jv mz jz na kd nb kh mt mu mv mw bi translated">然后我们表示这将是一个<code class="fe lz ma mb mc b">Object</code>。您还可以使用原始日期类型创建一个更简单的自定义类型，例如，<code class="fe lz ma mb mc b">string</code>或<code class="fe lz ma mb mc b">number</code>。</li><li id="f2e1" class="mo mp in jm b jn mx jr my jv mz jz na kd nb kh mt mu mv mw bi translated">最后，我们将这种类型命名为<code class="fe lz ma mb mc b">Toast</code>。</li></ol><p id="50b8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，由于<code class="fe lz ma mb mc b">Toast</code>将会是一个<code class="fe lz ma mb mc b">Object</code>，在其余的注释中，我们使用<code class="fe lz ma mb mc b">@property</code>标签定义了它的<code class="fe lz ma mb mc b">properties</code>将会是什么。点击可以了解更多<code class="fe lz ma mb mc b">@property</code>标签<a class="ae mf" href="https://jsdoc.app/tags-property.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="2e22" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，如果您尝试调用<code class="fe lz ma mb mc b">showToast</code>，VSCode将发挥它的魔力:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/fe920e385399899ccdb2d6ad8b9bae07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oKfoFFOC3nYdcEAc"/></div></div></figure><p id="ff42" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">但这还不够。在实际场景中，您将在不同的文件中生成<code class="fe lz ma mb mc b">Toast</code>并从那里调用<code class="fe lz ma mb mc b">showToast</code>。可以在其他文件中导出和导入<code class="fe lz ma mb mc b">showToast</code>，但是<code class="fe lz ma mb mc b">Toast</code>类型定义呢？</p><p id="5add" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">您也可以像从另一个模块导入绑定一样导入类型定义。但是由于类型是在注释中创建的，您需要在注释中导入它们:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="00a7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">只是强调一下，下面是我们如何导入<code class="fe lz ma mb mc b">Toast</code>类型定义的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lx ly l"/></div></figure><p id="b6a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你可以在https://jsdoc.app/tags-typedef.html了解更多关于<code class="fe lz ma mb mc b">@typedef</code>的信息。</p><h1 id="1cdf" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">奖金</h1><p id="c775" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">通过在函数声明前键入<code class="fe lz ma mb mc b">/**</code>快速创建函数的JSDoc注释，并选择JSDoc注释片段建议:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/1d77449bbf4090514e90c4036b1336f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*jbWY1iHlDWCvdfnli9mPlQ.gif"/></div></figure><h1 id="da94" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">结论</h1><p id="022f" class="pw-post-body-paragraph jk jl in jm b jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd lw kf kg kh ig bi translated">我们了解了JSDoc块标签<code class="fe lz ma mb mc b">@param</code>、<code class="fe lz ma mb mc b">@type</code>和<code class="fe lz ma mb mc b">@typedef</code>如何帮助我们最大限度地利用VSCode的智能感知并更快地编码，同时避免不必要的问题。</p><p id="b423" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就是这样！感谢阅读。请在评论区告诉我你的想法和反馈。</p><p id="d225" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">是的，永远相信自己。🌅</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/4dc7d1c27815e83f59686af614f000cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3lcJuu-NX5O_ur1t"/></div></div></figure><p id="977d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">约书亚·厄尔在<a class="ae mf" href="https://unsplash.com/s/photos/faith?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><p id="1067" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mj">原载于</em><a class="ae mf" href="https://blog.shhdharmen.me/how-to-utilise-jsdoc-comment-tags-so-that-visual-studio-code-intellisense-works-great" rel="noopener ugc nofollow" target="_blank"><em class="mj">https://blog . shhdharmen . me</em></a></p><p id="4c04" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mj">更多内容请看</em><a class="ae mf" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="mj">plain English . io</em></strong></a></p></div></div>    
</body>
</html>