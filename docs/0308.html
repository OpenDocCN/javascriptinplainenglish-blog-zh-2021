<html>
<head>
<title>Creating an eCommerce Frontend with Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Vue.js创建电子商务前端</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/creating-an-ecommerce-frontend-with-vue-js-c64481a65941?source=collection_archive---------5-----------------------#2021-01-18">https://javascript.plainenglish.io/creating-an-ecommerce-frontend-with-vue-js-c64481a65941?source=collection_archive---------5-----------------------#2021-01-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="932f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第2部分:电子商务应用程序的注册和登录</h2></div><p id="cad2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在将使用Vue在每个电子商务网站中创建一个非常重要的功能的前端— <strong class="kh ir">登录&amp;注册</strong>。射流研究…</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/44ba387e506fb0b1eb216b801c0e9570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W-xssPS0cws2UHwf"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Photo by <a class="ae lr" href="https://unsplash.com/@mr_williams_photography?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Micah Williams</a> on <a class="ae lr" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3e21" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<a class="ae lr" href="https://medium.com/javarevisited/a-simple-user-authentication-api-made-with-spring-boot-4a7135ff1eca" rel="noopener">之前的教程</a>中，我们将&amp;注册API添加到我们的Spring Boot后端。现在，让我们学习如何在我们的前端使用这个API。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b278" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">现场演示</h1><p id="e0c7" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">您可以看到登录和注册API(与Vue集成。Js) <strong class="kh ir">直播</strong>在下面提到的链接。如果您点击按钮— <strong class="kh ir">登录或注册</strong>，您将能够体验这一功能。</p><div class="mw mx gp gr my mz"><a href="http://remotedevs.org:8000/Signin" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">Webtutsplus电子商务应用程序</h2><div class="ng l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">作者:remotedevs.org</p></div></div></div></a></div></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="4073" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated"><strong class="ak">后端教程</strong></h1><div class="mw mx gp gr my mz"><a href="https://medium.com/javarevisited/lets-build-signup-signin-and-role-based-access-in-our-e-commerce-app-f499a4b71f48" rel="noopener follow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">让我们在电子商务应用程序中构建注册、登录和基于角色的访问</h2><div class="nh l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">在本文中，我们将实现基本的注册和登录功能。</h3></div><div class="ng l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">medium.com</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn ll mz"/></div></div></a></div></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7383" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">先决条件</h1><ol class=""><li id="5dd5" class="no np iq kh b ki mr kl ms ko nq ks nr kw ns la nt nu nv nw bi translated">关于Vue的知识。Js &amp; Vue。Js CLI</li><li id="d411" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la nt nu nv nw bi translated">Java Script语言</li><li id="9f5d" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la nt nu nv nw bi translated">代码编辑器(类似于带有<a class="ae lr" href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" rel="noopener ugc nofollow" target="_blank"> Veture </a>扩展的微软可视代码)</li><li id="7654" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la nt nu nv nw bi translated">一个好的浏览器(比如谷歌浏览器)</li></ol><p id="2292" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本教程是我们系列的一部分——<a class="ae lr" href="https://nilmadhab.medium.com/" rel="noopener"><strong class="kh ir">前端与Vue.js/Javascript</strong></a><strong class="kh ir">。</strong>我们将<strong class="kh ir">扩展我们在本系列之前的教程</strong>中开发的代码。因此，如果您对我们之前开发的任何东西有任何疑问，您可以在本系列的相应教程中阅读。</p><div class="mw mx gp gr my mz"><a href="https://medium.com/javarevisited/lets-develop-an-ecommerce-application-from-scratch-using-java-and-spring-6dfac6ce5a9f" rel="noopener follow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">让我们使用Java和Spring从头开始开发一个电子商务应用程序</h2><div class="nh l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">我们将使用Java、Spring backend从头开始构建一个电子商务应用程序，在Vue.js中构建web UI，以及…</h3></div><div class="ng l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">medium.com</p></div></div><div class="ni l"><div class="oc l nk nl nm ni nn ll mz"/></div></div></a></div><p id="184a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于本教程是基于我们到目前为止所做的工作，建议也浏览下面的教程。</p><div class="mw mx gp gr my mz"><a href="https://medium.com/javascript-in-plain-english/lets-create-vue-js-frontend-for-products-in-our-e-commerce-app-14cc8c3459c8" rel="noopener follow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">让我们用Vue为我们的电子商务应用程序添加产品。射流研究…</h2><div class="nh l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">我们正在从头开始构建一个完整的电子商务应用程序。今天，我们将添加产品功能。</h3></div><div class="ng l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">medium.com</p></div></div><div class="ni l"><div class="od l nk nl nm ni nn ll mz"/></div></div></a></div><div class="mw mx gp gr my mz"><a href="https://medium.com/javascript-in-plain-english/lets-link-product-with-category-for-our-ecommerce-app-28100657a848" rel="noopener follow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">让我们将电子商务应用程序的产品与类别联系起来</h2><div class="nh l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">我们将创建一个Vue.js应用程序来显示我们的产品和类别。</h3></div><div class="ng l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">medium.com</p></div></div><div class="ni l"><div class="oe l nk nl nm ni nn ll mz"/></div></div></a></div></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="faf2" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">项目结构</h1><p id="bc9d" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">产品和类别页面已经在我们的电子商务前端使用<code class="fe of og oh oi b">Vue.Js 3</code>框架开发。到目前为止，我们有以下项目结构和前端设计。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi oj"><img src="../Images/da8e106eb0faec1fba9c0d84da764573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cKuZNIng_o2PNCneJ2ht7Q.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Project structure and frontend design so far</figcaption></figure><p id="ea95" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在将描述以下目录:-</p><ul class=""><li id="b28b" class="no np iq kh b ki kj kl km ko ok ks ol kw om la on nu nv nw bi translated"><strong class="kh ir">public</strong>——包含我们项目的主HTML文件</li><li id="73eb" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la on nu nv nw bi translated"><strong class="kh ir"> src/assets </strong> —存储图像、徽标等媒体文件。</li><li id="b569" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la on nu nv nw bi translated"><strong class="kh ir"> src/components </strong> —存储我们项目的所有可重用组件。这些组件并不是某些特定路线所独有的。</li><li id="f55c" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la on nu nv nw bi translated"><strong class="kh ir"> src/router </strong> —包含index.js文件，该文件记录了所有的路由</li><li id="68fc" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la on nu nv nw bi translated"><strong class="kh ir"> src/views </strong> —存储所有路由器组件。这些是按照当前路线渲染的组件。</li></ul><p id="51bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">除此之外，我们还有一些重要的文件</p><ul class=""><li id="13aa" class="no np iq kh b ki kj kl km ko ok ks ol kw om la on nu nv nw bi translated">App.vue  —它是我们项目的根组件</li><li id="f0c6" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la on nu nv nw bi translated"><strong class="kh ir"> main.js </strong> —是我们项目的起点。这里我们导入我们的根组件<strong class="kh ir"> App.vue </strong>，我们的路由器文件<strong class="kh ir"> index.js </strong>和<strong class="kh ir"> createApp </strong>方法。之后，我们使用下面的语句将根组件挂载到DOM:</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2eeb" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">API设计</h1><p id="79f2" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">在之前的教程中，我们为我们的后端设计了愿望列表API。您可以使用下面的Swagger链接来尝试这个API。</p><div class="mw mx gp gr my mz"><a href="http://remotedevs.org:8080/api/swagger-ui.html#/wish-list-controller" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">Swagger UI</h2><div class="nh l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">意愿列表API</h3></div><div class="ng l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">remotedevs.org</p></div></div></div></a></div><p id="582e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你没有读过前面的教程，不要担心。我们现在将描述这个API，这样当我们在前端使用这个API时，您会感觉很舒服。</p><p id="2513" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以下是API端点</p><ol class=""><li id="90c2" class="no np iq kh b ki kj kl km ko ok ks ol kw om la nt nu nv nw bi translated">获取所有用户的列表</li><li id="1ea0" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la nt nu nv nw bi translated">使用用户名和密码登录</li><li id="f75f" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la nt nu nv nw bi translated">注册并创建用户名和密码</li></ol><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/adce9072ba0cedb0ffbc4979299781e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/1*msZLUSwbpiC0enqMsp3fiQ.png"/></div></figure><p id="888d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将只为我们的应用程序使用登录和注册API。现在让我们讨论两个POST请求的主体和响应:-</p><h1 id="d20d" class="lz ma iq bd mb mc op me mf mg oq mi mj jw or jx ml jz os ka mn kc ot kd mp mq bi translated"><strong class="ak">张贴签到</strong></h1><p id="e129" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">车身<strong class="kh ir"> : </strong></p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/b9d5e1d80acb3cf618ca230eda14f0be.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*42TIPSTi0w9fU1fDCXrIww.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Body of SIGN IN API</figcaption></figure><p id="a38c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">回复:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ov"><img src="../Images/af930c1bc5af4960adb88126e321cfed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8P3DETsxG3b_pQVO-9kjqA.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Response of SIGN IN API</figcaption></figure><ul class=""><li id="2f89" class="no np iq kh b ki kj kl km ko ok ks ol kw om la on nu nv nw bi translated">请注意，响应返回一个令牌。我们必须将这个令牌保存到一个gobal对象中，因为其他API端点(如Wishlist API端点)可能会使用这个令牌来识别用户。</li></ul><h1 id="c0e7" class="lz ma iq bd mb mc op me mf mg oq mi mj jw or jx ml jz os ka mn kc ot kd mp mq bi translated"><strong class="ak">岗位报名</strong></h1><p id="44ec" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">正文:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/9c4114d8c24d8b3b6ce511fed11ebfc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*Z1Em7BJU4m_iVyjQ3RasSw.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Body of Sign Up API</figcaption></figure><p id="1619" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">回应:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/ca93371dfdd5b66c347ebf34583a6e42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*8pXFdgI62Kz82KIOdX_tig.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Response of Sign Up API</figcaption></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2789" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">前端设计</h1><p id="bdeb" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">在我们开始写代码之前，对我们要做的事情有一个清晰的认识是非常重要的。所以，我们来讨论一下这个。</p><ul class=""><li id="1afb" class="no np iq kh b ki kj kl km ko ok ks ol kw om la on nu nv nw bi translated">我们将创建单独的注册、登录和管理页面。</li><li id="bce2" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la on nu nv nw bi translated">管理页面将仅限于登录的用户。如果有人试图在未登录系统的情况下访问管理页面，他/她将被重定向回登录页面。</li><li id="ce5a" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la on nu nv nw bi translated">为了方便访问管理和登录页面，我们将在顶部导航栏中放置两个链接。</li></ul><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/52bdf82f3f8e290d2400422ba56ebfc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*m0vNs33wkGp4GXOPDTZkEA.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">NavBar</figcaption></figure><ul class=""><li id="b15a" class="no np iq kh b ki kj kl km ko ok ks ol kw om la on nu nv nw bi translated">此外，我们将通过在每个页面的底部放置一个链接来将登录和注册页面相互链接起来。</li></ul><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi oz"><img src="../Images/17b5333cd3a7ecb1517e90911661d9a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oGNRi6I7eG0CgEZuZWE3Lw.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Sign In Page</figcaption></figure><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi pa"><img src="../Images/ec8f84117ae05441dcb6d9da980b8fc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DKgF4QU6L5CE_7F8eHumqg.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Sign Up Page</figcaption></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="aaef" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">让我们编码</h1><p id="673a" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我们现在将开始编写代码。</p><h1 id="eb43" class="lz ma iq bd mb mc op me mf mg oq mi mj jw or jx ml jz os ka mn kc ot kd mp mq bi translated">让我们创建所需的组件</h1><p id="6749" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">即使我们可以手动创建Vue.js组件，使用组件生成器也很容易。我们将使用名为<code class="fe of og oh oi b">vue-generate-component</code>的包来生成Vue.js组件。用下面的命令安装<code class="fe of og oh oi b">vue-generate-component</code>包。</p><pre class="lc ld le lf gt pb oi pc pd aw pe bi"><span id="efb4" class="pf ma iq oi b gy pg ph l pi pj">npm install -g vue-generate-component</span></pre><p id="ece9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">安装完<code class="fe of og oh oi b">vue-generate-component</code>包后，生成注册、登录和管理页面的三个组件。我们将使用带有<code class="fe of og oh oi b">-s</code>标志的<code class="fe of og oh oi b">vgc</code>命令来生成Vue单文件组件(SFC)。</p><pre class="lc ld le lf gt pb oi pc pd aw pe bi"><span id="d50b" class="pf ma iq oi b gy pg ph l pi pj">cd src/views<br/>vgc -s Admin<br/>vgc -s Signup<br/>vgc -s Signin</span></pre><p id="08ea" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您将在<code class="fe of og oh oi b">views</code>文件夹下获得三个空白的Vue组件文件，其中包含类似如下的代码块。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><h1 id="b891" class="lz ma iq bd mb mc op me mf mg oq mi mj jw or jx ml jz os ka mn kc ot kd mp mq bi translated">让他们容易接近！</h1><p id="02cc" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">一旦我们创建了组件，您需要通过为每个组件创建路由来使它们可访问。打开<code class="fe of og oh oi b">src/router/index.js</code>文件，在<code class="fe of og oh oi b">routes</code>数组下添加以下路线。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="51cc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过从项目文件夹的根目录执行下面的命令或者点击<code class="fe of og oh oi b">NPM SCRIPTS</code>下<code class="fe of og oh oi b">serve</code>命令前面的小运行按钮来启动开发服务器。</p><pre class="lc ld le lf gt pb oi pc pd aw pe bi"><span id="3f34" class="pf ma iq oi b gy pg ph l pi pj">npm run serve</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi pm"><img src="../Images/95a63edcb932b36c9d8d698e888de322.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KFTEhdDVRc42lJAYKsaFWA.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Run npm scripts from the VS Code GUI</figcaption></figure><p id="e353" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您应该能够使用以下URL导航到我们在上一步中创建的组件。</p><pre class="lc ld le lf gt pb oi pc pd aw pe bi"><span id="da0e" class="pf ma iq oi b gy pg ph l pi pj"><a class="ae lr" href="http://localhost:8080/signin" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/signin</a><br/><a class="ae lr" href="http://localhost:8080/signup" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/signup</a><br/><a class="ae lr" href="http://localhost:8080/admin" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/admin</a></span></pre><h1 id="8d0f" class="lz ma iq bd mb mc op me mf mg oq mi mj jw or jx ml jz os ka mn kc ot kd mp mq bi translated">允许用户通过注册表单自行注册</h1><p id="7999" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">让我们先从报名表开始。现在我们每个页面都有空白组件。让我们首先设计我们的注册页面。它将包含一个用户注册的必填字段的表单。按照下面的代码块修改您的<code class="fe of og oh oi b">Signup.vue</code>组件。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="8dde" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于我们在应用程序中使用了<a class="ae lr" href="https://getbootstrap.com/" rel="noopener ugc nofollow" target="_blank">引导</a>，这将使用默认的引导样式进行渲染。每个表单元素中的<code class="fe of og oh oi b">required</code>属性将在提交表单之前触发HTML5表单验证。</p><p id="2b0a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意，我们已经在组件中定义了数据，并使用<code class="fe of og oh oi b">v-model</code>指令将每个表单字段链接到相应的数据字段。<code class="fe of og oh oi b">v-model</code>指令用于创建双向数据绑定。</p><h2 id="864a" class="pf ma iq bd mb pn po dn mf pp pq dp mj ko pr ps ml ks pt pu mn kw pv pw mp px bi translated">哦，等等，什么是双向数据绑定？</h2><ul class=""><li id="d3d1" class="no np iq kh b ki mr kl ms ko nq ks nr kw ns la on nu nv nw bi translated">这意味着视图元素(如输入框、文本区域和复选框)中的任何数据更改都应该立即反映在底层模型中(一个带有数据字段的普通JavaScript对象，您也可以将其视为一个变量)。</li><li id="2148" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la on nu nv nw bi translated">反之亦然，即模型中的任何数据更改都会立即传播到匹配的视图中。</li><li id="4fc0" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la on nu nv nw bi translated">简而言之，每当应用程序数据改变时，UI也会改变，反之亦然。</li></ul><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi py"><img src="../Images/4d388c418a50303347f99b0305b16220.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2_FUVoDX9iMLLsLEvkSuSg.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Two-way data binding in Vue.js</figcaption></figure><p id="4397" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好了，我们回到教程。现在，如果我们运行应用程序并导航到<a class="ae lr" href="http://localhost:8080/signup" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/sign up</a>，您将会看到一个类似于下面的UI。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi pz"><img src="../Images/4622ef8081a82e56968642c7374ae45e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HlWHCwgnlAqanta_LJjRfw.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Signup page UI design</figcaption></figure><p id="f95c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">既然我们已经制作了表单，我们需要将它的数据提交给服务器。为此，我们必须调用<code class="fe of og oh oi b">/user/signup</code>后端API，将数据填入UI。当用户点击“注册”按钮时，我们将调用API(即提交表单)。</p><p id="f4ad" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在用户点击注册按钮后，它将使用确认密码字段验证密码，如果值相等，则继续API调用。注册成功后，页面将被重定向到<code class="fe of og oh oi b">Home</code>页面，并显示一条成功消息。</p><p id="9993" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们添加一个单独的调用API的方法。如下修改<code class="fe of og oh oi b">&lt;script&gt;</code>标签下的<code class="fe of og oh oi b">methods</code>部分。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="425b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意以下几点:-</p><ul class=""><li id="335d" class="no np iq kh b ki kj kl km ko ok ks ol kw om la on nu nv nw bi translated">我们使用<code class="fe of og oh oi b">axios</code>库来进行API调用。</li><li id="c225" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la on nu nv nw bi translated"><code class="fe of og oh oi b">swal</code>是一个类似JavaScript的<code class="fe of og oh oi b">alert</code>函数的函数。</li><li id="7bfd" class="no np iq kh b ki nx kl ny ko nz ks oa kw ob la on nu nv nw bi translated">调用<code class="fe of og oh oi b">e.preventDefault()</code>函数是为了避免默认行为，即当用户点击“提交”按钮时提交表单并刷新页面。</li></ul><p id="d3bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，每当用户提交表单时，无论是通过单击“提交”按钮还是按“Enter”键，我们都必须调用这个函数。这可以通过向表单元素添加<code class="fe of og oh oi b">v-on:submit</code>指令来实现，如下所示。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><h2 id="e30b" class="pf ma iq bd mb pn po dn mf pp pq dp mj ko pr ps ml ks pt pu mn kw pv pw mp px bi translated"><strong class="ak">你说我们就用</strong> <code class="fe of og oh oi b"><strong class="ak">v-on:submit</strong></code> <strong class="ak">。不是吗？</strong></h2><p id="a22f" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">是的，当然。<code class="fe of og oh oi b">@submit</code>是<code class="fe of og oh oi b">v-on:submit</code>的简写。虽然<code class="fe of og oh oi b">v-</code>前缀在我们的模板中为Vue.js特定的属性提供了一个可视的提示，但是对于一些常用的指令来说，它可能是冗长的。因此，Vue为<code class="fe of og oh oi b">v-on</code>和<code class="fe of og oh oi b">v-bind</code>指令提供了特殊的快捷键，因为这些是最常用的指令。<code class="fe of og oh oi b">@</code>代表<code class="fe of og oh oi b">v-on</code>，而<code class="fe of og oh oi b">:</code>代表<code class="fe of og oh oi b">v-bind</code>。</p><p id="525e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们可以填写表单并成功注册用户。但是正如你所看到的,<code class="fe of og oh oi b"><a class="ae lr" href="http://remotedevs.org:8080/api/" rel="noopener ugc nofollow" target="_blank">http://remotedevs.org:8080/api/</a></code>URL的一部分被硬编码在组件中，并且可能在许多其他组件中重复出现。作为一个最佳实践，我们将把这个基本URL移动到一个公共的地方，这样就很容易修改它，以防将来API主机发生变化。</p><p id="316e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于<code class="fe of og oh oi b">App.vue</code>组件是所有其他组件的基础组件，让我们在该文件中定义我们的基础URL。将下面的代码块添加到<code class="fe of og oh oi b">App.vue</code>组件中，如果它还不存在的话。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="3e5f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以将这个值绑定到<code class="fe of og oh oi b">&lt;router-view&gt;</code>元素的一个属性。正如我们在前面的教程中提到的，根据路由器定义，这个<code class="fe of og oh oi b">&lt;router-view&gt;</code>元素将被替换为相关的组件。因此，这个<code class="fe of og oh oi b">baseURL</code>属性将在任何将被路由器替换的组件中可用。请注意，我们使用了<code class="fe of og oh oi b">:</code>简写，而不是之前解释过的<code class="fe of og oh oi b">v-bind</code>。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="0bb8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们可以在我们的<code class="fe of og oh oi b">Signup.vue</code>组件中使用这个属性。定义<code class="fe of og oh oi b">Signup.vue</code>组件中的<code class="fe of og oh oi b">props</code>以匹配上一步中的绑定值，并修改URL以使用该值。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="695f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们的注册页面已经完成。让我们设计并实现登录功能。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="6cdb" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">允许用户登录应用程序</h1><p id="0cd4" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">现在我们的注册页面已经启动并运行，让我们开始实现应用程序的登录页面。登录页面应该包含两个用于输入电子邮件和密码的输入字段。要创建HTML模板，请打开<code class="fe of og oh oi b">Signin.vue</code>组件，并将其修改为以下代码块。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="5492" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在运行应用程序并导航到<code class="fe of og oh oi b"><a class="ae lr" href="http://localhost:8080/signin" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/signin</a></code>。然后你会看到一个类似如下的UI。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi qa"><img src="../Images/7914fca1aa5e80b90634eecf50301b9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Xgpn8HAmnnMa58GBDmcQg.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Signin page UI design</figcaption></figure><p id="c641" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在已经创建了用于登录的表单。现在，当用户点击“登录”按钮时，我们必须用登录数据调用<code class="fe of og oh oi b">user/signIn</code>后端API。如下修改<code class="fe of og oh oi b">&lt;script&gt;</code>标签下的<code class="fe of og oh oi b">method</code>部分，为其添加一个单独的方法。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="f28e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意:-</p><ul class=""><li id="65ed" class="no np iq kh b ki kj kl km ko ok ks ol kw om la on nu nv nw bi translated">如果你不明白<code class="fe of og oh oi b">localStorage.setItem()</code>的目的，不要担心。我们将在文章的后面解释它。</li></ul><p id="02de" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，每当用户提交表单时，都应该调用这个<code class="fe of og oh oi b">sigin</code>函数。这可以通过向表单元素添加<code class="fe of og oh oi b">v-on:submit</code>指令来实现，如下所示。现在，如果您在表单中填写正确的登录信息并点击“登录”按钮，您将会看到一个成功提示。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="b0ca" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，如果您查看signin API调用响应主体，您将看到为每个成功的登录会话颁发了一个唯一的令牌。我们必须在后续调用中使用这个令牌来访问安全的API资源。这意味着我们必须将这个令牌存储在应用程序中的某个地方，以备后用。于是，这里就出现了<strong class="kh ir">本地存储</strong>的使用。</p><h2 id="7873" class="pf ma iq bd mb pn po dn mf pp pq dp mj ko pr ps ml ks pt pu mn kw pv pw mp px bi translated">等等，什么是本地存储？</h2><p id="5ba1" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">JavaScript中有一个名为<code class="fe of og oh oi b">localStorage</code>的实现，它允许web应用程序在web浏览器中保存数据，而没有任何过期时间。这意味着即使你关闭了浏览器，数据也不会被删除。<code class="fe of og oh oi b">localStorage</code>是一个类似map的实现，允许保存键值对。</p><h2 id="961e" class="pf ma iq bd mb pn po dn mf pp pq dp mj ko pr ps ml ks pt pu mn kw pv pw mp px bi translated">好了，让我们回到教程</h2><p id="4b68" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">一旦我们从API收到令牌，我们将使用<code class="fe of og oh oi b">localStorage.setItem()</code>方法将它存储在<code class="fe of og oh oi b">localStorage</code>中。然后用户应该被重定向回先前的路由器位置。这可以通过用下面的代码块替换登录成功警报来实现。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="9139" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在尝试从UI登录并检查web浏览器开发人员控制台的“应用程序”选项卡。你可以看到我们的<code class="fe of og oh oi b">token</code>被保存到本地存储器。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi qb"><img src="../Images/fb413d23f324892c62192a10061cb18c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZsYA6kAcpS4gRHjWVbvKtA.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Browse localStorage on browser developer console</figcaption></figure><p id="67ad" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">登录页面现已基本完成。让我们再添加一个元素，一个装载旋转器！我们将添加一个旋转图标，它将在点击“登录”按钮时显示，并将在收到后端服务器的登录响应后消失。</p><p id="11db" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">修改“登录”按钮HTML代码、<code class="fe of og oh oi b">signin</code>方法、<code class="fe of og oh oi b">mounted()</code>函数和<code class="fe of og oh oi b">style</code>部分如下。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="bba5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当加载微调器开始调用后端API时，它的可见性将被设置为<code class="fe of og oh oi b">true</code>。请注意，我们使用了<code class="fe of og oh oi b">finally()</code>块来停止微调器，使用了<code class="fe of og oh oi b">mounted()</code>方法来指定载入页面时微调器的默认行为。</p><h1 id="8d29" class="lz ma iq bd mb mc op me mf mg oq mi mj jw or jx ml jz os ka mn kc ot kd mp mq bi translated">我们做个禁区吧！—管理页面</h1><p id="7e2a" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">现在，我们将添加一个管理页面，并将其仅限于登录的用户。使用以下代码块修改您的<code class="fe of og oh oi b">Admin.vue</code>组件，以</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="a578" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe of og oh oi b">mounted()</code>函数中，我们检查了登录时存储在<code class="fe of og oh oi b">localStorage</code>中的<code class="fe of og oh oi b">token</code>的值。现在，如果您试图在没有登录的情况下访问管理页面，您将被重定向到登录页面。使用<code class="fe of og oh oi b">$router.push()</code>命令而不是<code class="fe of og oh oi b">$router.replace()</code>方法将用户导航到登录页面。这将允许用户在登录系统后重定向回同一页面。</p><h1 id="d114" class="lz ma iq bd mb mc op me mf mg oq mi mj jw or jx ml jz os ka mn kc ot kd mp mq bi translated">添加导航链接</h1><p id="45b8" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我们几乎已经完成了电子商务应用程序中的注册和登录功能。让我们将导航链接添加到屏幕顶部的导航栏中。打开您的<code class="fe of og oh oi b">Navbar.vue</code>文件并修改<code class="fe of og oh oi b">template</code>，如下所示。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="fc0f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将在顶部导航栏中添加“管理”和“登录”导航链接，如下所示。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi qc"><img src="../Images/c80b02d9e6bd328d48521f4dad3c1f45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ShPBCz8VqyfSpE7Fu_xarg.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Navigation links at the top navigation bar</figcaption></figure><h1 id="42fc" class="lz ma iq bd mb mc op me mf mg oq mi mj jw or jx ml jz os ka mn kc ot kd mp mq bi translated">让我们添加注销功能</h1><p id="f19f" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">好的，如你所见，我们的应用程序还缺少一个重要的特性。应该有登录后退出的方法。此外，登出链接应该只出现在登录后，并在同一时间登录链接应该隐藏。这可以通过在渲染<code class="fe of og oh oi b">Navbar.vue</code>组件时检查<code class="fe of og oh oi b">token</code>的存在来完成。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="b1ca" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意，我们已经定义了一个<code class="fe of og oh oi b">signout()</code>方法，并将其绑定到“SIGNOUT”导航链接。我们正在从<code class="fe of og oh oi b">localStorage</code>中移除<code class="fe of og oh oi b">token</code>，这样用户将不再登录。</p><p id="c7d5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，尝试注销并重新登录。你会注意到那里有一个小bug。登录系统后,“登录”链接不会立即被“注销”链接替换。您必须手动刷新页面。让我们来解决这个问题！。打开<code class="fe of og oh oi b">App.vue</code>组件，修改如下代码块。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="871d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们已经向导航组件添加了一个组件<code class="fe of og oh oi b">key</code>，并定义了一个名为<code class="fe of og oh oi b">refreshNav()</code>的方法来更改这个<code class="fe of og oh oi b">key</code>。诀窍是改变组件的属性，以便在运行时重新加载组件。然后，一旦用户登录，就使用<code class="fe of og oh oi b">Signin.vue</code>组件中的<code class="fe of og oh oi b">signin()</code>方法调用该方法，如下面的代码块所示。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><h1 id="9882" class="lz ma iq bd mb mc op me mf mg oq mi mj jw or jx ml jz os ka mn kc ot kd mp mq bi translated">在注册和登录页面之间添加链接</h1><p id="e0e1" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">现在，让我们在注册和登录页面中添加相互链接，以便用户可以轻松地在这些组件之间导航。为此，修改每页的<code class="fe of og oh oi b">template</code>,如下所示。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="pk pl l"/></div></figure><p id="b074" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上述代码将导致UI发生以下变化。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi pa"><img src="../Images/1331fab70d6d98260ef3e94ce894e6db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4RDNyCLgxjShEwzJqKmtLw.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">SignUp Page</figcaption></figure><h1 id="42a3" class="lz ma iq bd mb mc op me mf mg oq mi mj jw or jx ml jz os ka mn kc ot kd mp mq bi translated">恭喜</h1><p id="36d6" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">现在，您已经成功地在Vue中添加了愿望列表功能。Js前端。这真是一项漫长而富有挑战性的任务。祝贺您完成教程。</p><p id="24ee" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">完整的代码可以在这个<a class="ae lr" href="https://github.com/webtutsplus/ecommerce-vuejs/tree/master/src/views" rel="noopener ugc nofollow" target="_blank"> <em class="qd"> GitHub资源库</em> </a>中找到</p></div></div>    
</body>
</html>