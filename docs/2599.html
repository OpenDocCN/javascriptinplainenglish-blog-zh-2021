<html>
<head>
<title>How to Get a CSS Property Value of an Element with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript获取元素的CSS属性值</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-a-css-property-value-of-an-element-with-javascript-78b3b4b9e391?source=collection_archive---------14-----------------------#2021-05-28">https://javascript.plainenglish.io/how-to-get-a-css-property-value-of-an-element-with-javascript-78b3b4b9e391?source=collection_archive---------14-----------------------#2021-05-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9ebf3824da26865f7200ddc480d9b101.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nCMDRHnR5qobe14B"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@joshuachun?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joshua Chun</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7531" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们可能想用JavaScript获得一个元素的CSS属性值。</p><p id="21e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何用JavaScript获取元素的CSS属性值。</p><h1 id="0eb7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用window.getComputedStyle方法</h1><p id="04a7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用<code class="fe me mf mg mh b">window,getComputedStyle</code>方法来获取元素的CSS样式。</p><p id="499e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有下面的HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="eb57" class="mq lc iq mh b gy mr ms l mt mu">&lt;div style='height: 300px; overflow-y: auto'&gt;</span><span id="cef3" class="mq lc iq mh b gy mv ms l mt mu">&lt;/div&gt;</span></pre><p id="f05e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以编写下面的JavaScript:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="d8a7" class="mq lc iq mh b gy mr ms l mt mu">const div = document.querySelector('div')<br/>for (let i = 1; i &lt;= 100; i++) {<br/>  const p = document.createElement('p')<br/>  p.textContent = i<br/>  div.appendChild(p)<br/>}</span><span id="f266" class="mq lc iq mh b gy mv ms l mt mu">const style = window.getComputedStyle(div);<br/>const height = style.getPropertyValue('height');<br/>console.log(height)</span></pre><p id="6338" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">向div添加一些内容。</p><p id="673c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe me mf mg mh b">for</code>循环将100个<code class="fe me mf mg mh b">p</code>元素添加到带有<code class="fe me mf mg mh b">document.createElement</code>的div中。</p><p id="9914" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们设置每个元素的<code class="fe me mf mg mh b">textContent</code>来添加一些内容。</p><p id="4518" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe me mf mg mh b">div.appendChild</code>来添加<code class="fe me mf mg mh b">p</code>元素作为div的子元素。</p><p id="2264" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们用<code class="fe me mf mg mh b">div</code>调用<code class="fe me mf mg mh b">window.getComputedStyle</code>来获得一个<code class="fe me mf mg mh b">style</code>对象。</p><p id="0769" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用下面的方法得到<code class="fe me mf mg mh b">height</code>属性:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a1f6" class="mq lc iq mh b gy mr ms l mt mu">const height = style.getPropertyValue('height');</span></pre><p id="99b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe me mf mg mh b">height</code>是<code class="fe me mf mg mh b">'300px'</code>，因为我们在HTML中是这样设置的。</p><h1 id="2a26" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用元素的computedStyleMap方法</h1><p id="e2cc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">此外，我们可以使用元素自带的<code class="fe me mf mg mh b">computedStyleMap</code>方法来获取应用于元素的样式。</p><p id="3c0d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们有以下HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="eac7" class="mq lc iq mh b gy mr ms l mt mu">&lt;div style='height: 300px; overflow-y: auto'&gt;</span><span id="cda1" class="mq lc iq mh b gy mv ms l mt mu">&lt;/div&gt;</span></pre><p id="ceb4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以编写下面的JavaScript:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="06b7" class="mq lc iq mh b gy mr ms l mt mu">const div = document.querySelector('div')<br/>for (let i = 1; i &lt;= 100; i++) {<br/>  const p = document.createElement('p')<br/>  p.textContent = i<br/>  div.appendChild(p)<br/>}</span><span id="8185" class="mq lc iq mh b gy mv ms l mt mu">const style = div.computedStyleMap();<br/>const height = style.get('height');<br/>console.log(height)</span></pre><p id="d620" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后3行以上的都和之前一样。</p><p id="e83b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe me mf mg mh b">div.computedStyleMap</code>来获得一个<code class="fe me mf mg mh b">style</code>对象，我们可以用它来获得样式。</p><p id="b5bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们有:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="fb09" class="mq lc iq mh b gy mr ms l mt mu">const height = style.get('height');</span></pre><p id="3b28" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取div的CSS <code class="fe me mf mg mh b">height</code>属性值。</p><p id="c1af" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个时间<code class="fe me mf mg mh b">height</code>应该是:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a308" class="mq lc iq mh b gy mr ms l mt mu">{value: 300, unit: "px"}</span></pre><p id="bf04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在返回的对象中，值和单位是独立的属性。</p><h1 id="9bf4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="504d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有几种方法可以用来通过JavaScript从元素中获取CSS属性。</p><p id="2483" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a></p></div></div>    
</body>
</html>