<html>
<head>
<title>10 Best Practices for Node.js Applications</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Node.js应用程序的10个最佳实践</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/10-best-practices-for-node-js-applications-2093b3c50799?source=collection_archive---------2-----------------------#2021-02-21">https://javascript.plainenglish.io/10-best-practices-for-node-js-applications-2093b3c50799?source=collection_archive---------2-----------------------#2021-02-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="64c0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你需要知道的Node.js实践</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/870f08339abf64756e2498e51b4f2519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fPWi2tqdC3fwToyD63OuBQ.png"/></div></div></figure><h2 id="5570" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak"> 1。使用特定的Node.js插件</strong></h2><p id="9b81" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">开发人员犯的最大错误之一是在<strong class="lp ir"> <em class="mg"> Node.js </em> </strong>中使用各种数量的插件，而不是使用符合标准规则的新插件，这些规则涵盖了普通的<strong class="lp ir"> JavaScript </strong>，使用特定的插件，如<strong class="lp ir"> eslint-plugin-node，eslint-plugin-mocha</strong>&amp;<strong class="lp ir">eslint-plugin-node-security</strong>。在Node.js应用程序中使用非特定插件会导致错误的代码模式。<strong class="lp ir"> <em class="mg">例如，</em> </strong>开发人员可能要求文件中的变量被指定为一个路径，使得攻击者能够执行JS脚本。</p><h2 id="7184" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak"> 2。报表</strong></h2><p id="4080" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">不管你是否使用分号来分隔你的陈述，但是如果你没有正确地分隔它们，那么结果将会是一片混乱。为了避免这种情况，你可以使用<strong class="lp ir"> ESLint </strong>来获得关于分离问题的意识，<strong class="lp ir">beautiful</strong>&amp;<strong class="lp ir">standards js</strong>很好地解决了这些问题。否则，如果没有分号，JavaScript解释器会自动在语句末尾添加一个分号，这会导致一些不希望的结果。</p><h2 id="2795" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak"> 3。首选常量</strong></h2><p id="5f2c" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">使用变量可能会成为JavaScript中一个棘手的部分，但是使用<strong class="lp ir"> const </strong>要比<strong class="lp ir"> let </strong> &amp; <strong class="lp ir"> var，</strong>好得多，因为变量一旦被赋值就不能再被重新赋值。如果你想让你的代码更整洁，使用<strong class="lp ir"> <em class="mg">常量</em> </strong>总是有帮助的。</p><h2 id="e793" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak"> 4。避免回调，使用异步等待</strong></h2><p id="cf1f" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">最新版本的Node完全支持<strong class="lp ir"> async-await，</strong>这开启了一种新的方式来处理带有回调和承诺的异步代码。使用<strong class="lp ir"> async-await </strong>可以改变你的代码的外观，因为它提供了一个更紧凑和熟悉的代码语法，像<strong class="lp ir"> try-catch </strong></p><h2 id="ab5a" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak"> 5。使用AAA模式</strong></h2><p id="9522" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">在这种情况下，AAA代表测试结构的三个部分，即<strong class="lp ir">安排、行为</strong> &amp; <strong class="lp ir">断言</strong>，AAA模式用于结构化测试，第一部分包括测试设置，然后是被测单元的执行，最后是断言阶段。没有这样的测试模式，您将花费很长时间来理解主要代码。</p><h2 id="f983" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak"> 6。寻找过期的包</strong></h2><p id="f568" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">您可以使用<strong class="lp ir"> <em class="mg"> (npm过时)</em> </strong>来检测已安装的过时软件包，过时的软件包可能会成为一个巨大的问题，因为您的生产将使用其作者已弃用的软件包。</p><h2 id="f599" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak"> 7。利用所有CPU内核</strong></h2><p id="4df1" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">一个节点应用程序使用一个CPU内核，而其余的都处于空闲状态，因此要优化节点进程并利用所有的CPU内核。对于较小的应用程序，可以使用<strong class="lp ir">节点集群</strong>或<strong class="lp ir">PM2</strong>；对于较大的应用程序，可以考虑使用<strong class="lp ir"> Docker集群</strong>或基于<strong class="lp ir"> <em class="mg"> Linux init </em> </strong>系统的部署脚本。如果没有这些CPU优化技术，您将只使用25%甚至更少的CPU能力，因为典型的服务器有4个或更多的CPU核心&amp;node . js的简单部署只使用1个。</p><h2 id="09b1" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated"><strong class="ak"> 8。将您的前端资产移出节点</strong></h2><p id="fa41" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">如果你存储了太多的静态文件，你需要注意节点的<strong class="lp ir"> <em class="mg">单线程</em> </strong>模型，否则，你的节点线程将忙于传输一百个资产，而不是为任务分配所有资源。</p><h2 id="2c5b" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">9。使用Node.js的LTS版本</h2><p id="6e19" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">始终确保您使用的是LTS版本，以获得关键的错误修复、安全更新和性能改进。</p><h2 id="28af" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">10。使用<em class="mh">NPM CLI</em>T27】安装包</h2><p id="fc88" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">您必须确定产品代码使用的是您用来测试它的包的确切版本。运行<strong class="lp ir"> <em class="mg"> npm cli </em> </strong>严格的对你匹配<strong class="lp ir"> package.json </strong>和<strong class="lp ir"> package-lock.json. </strong>的依赖项进行全新安装</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><div class="kg kh ki kj gt mp"><a href="https://js.plainenglish.io/node-js-developer-roadmap-for-2021-2ae9c057bff4" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">Node.js年开发者路线图</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">成为Node.js开发人员的路线图</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">js .平原英语. io</p></div></div><div class="my l"><div class="mz l na nb nc my nd kp mp"/></div></div></a></div><div class="ne nf gp gr ng mp"><a href="https://js.plainenglish.io/10-best-node-js-frameworks-for-webapps-in-2021-f217fc4e9f0f" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">2021年Web应用的10个Node.js框架</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">流行的Node.js框架提供了高度可伸缩的web应用程序</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">js .平原英语. io</p></div></div><div class="my l"><div class="nh l na nb nc my nd kp mp"/></div></div></a></div><div class="ne nf gp gr ng mp"><a href="https://js.plainenglish.io/8-node-js-projects-to-keep-an-eye-on-66465e221db5" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">需要关注的8个Node.js项目</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">SheetJS、ESlint &amp; More</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">js .平原英语. io</p></div></div><div class="my l"><div class="ni l na nb nc my nd kp mp"/></div></div></a></div><div class="ne nf gp gr ng mp"><a href="https://js.plainenglish.io/9-ways-to-optimize-node-js-applications-2d1444b02985" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd ir gy z fp mu fr fs mv fu fw ip bi translated">优化Node.js应用程序的9种方法</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">构建更好的优化Node.js应用程序</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">js .平原英语. io</p></div></div><div class="my l"><div class="nj l na nb nc my nd kp mp"/></div></div></a></div></div></div>    
</body>
</html>