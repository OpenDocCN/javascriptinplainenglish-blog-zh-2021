<html>
<head>
<title>How to Start a Blank Project with TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用TypeScript启动一个空白项目</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-start-a-blank-typescript-project-1d260f7e2aa8?source=collection_archive---------2-----------------------#2021-12-18">https://javascript.plainenglish.io/how-to-start-a-blank-typescript-project-1d260f7e2aa8?source=collection_archive---------2-----------------------#2021-12-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7ce29ff09681a8757a62e6548a8636e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*myzb7qL_EWSX1QiH.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">TypeScript logo</figcaption></figure><p id="8f47" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如今，在Node中创建项目时，通常使用CLI搭建工具如<code class="fe la lb lc ld b">create-react-app</code>来编写初始的样板文件。因此，很容易忘记(或者从未学习过)如何从头创建一个空白的TypeScript项目。</p><p id="f36e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我正在编写本分步指南，以便您可以在几分钟内开始使用ES2016和TypeScript。</p><p id="ba70" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">除了列出说明之外，我还将解释每一步，以建立直觉，了解为什么每一步都是必要的。理解一个过程消除了死记硬背的需要。</p><p id="801c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我假设没有Node或TypeScript的先验知识，但是您应该已经安装了<code class="fe la lb lc ld b">npm</code>。</p><h1 id="a553" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">1.npm初始化</h1><p id="bad5" class="pw-post-body-paragraph kc kd iq ke b kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz ij bi translated">在你的控制台中运行<code class="fe la lb lc ld b">npm init</code>来创建一个空白的npm项目。您将被要求输入一些信息，如项目名称和许可证——这些对于我们的目的都不重要，但是如果您创建了您打算在将来发布的项目，您应该填写这些字段。</p><p id="9aad" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">命令运行完毕后，您会在工作目录中看到一个<code class="fe la lb lc ld b">package.json</code>文件。这包含了关于你的npm项目的所有重要信息。</p><h1 id="c1d9" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">2.npm安装类型脚本</h1><p id="2b9a" class="pw-post-body-paragraph kc kd iq ke b kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz ij bi translated">接下来，您需要安装TypeScript包。这个包允许你将你的类型脚本代码转换成JS，你可以使用<code class="fe la lb lc ld b">node</code>命令运行它。</p><p id="1aa1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">TypeScript包只在开发过程中使用——它永远不会从您的实际代码中引用。因此，我们可以(也应该)使用<code class="fe la lb lc ld b">-D</code>标志来指示TypeScript不应该在生产环境中安装这个包。</p><p id="d3d4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">所以，把这个输入你的控制台:</p><pre class="mh mi mj mk gt ml ld mm mn aw mo bi"><span id="b34c" class="mp lf iq ld b gy mq mr l ms mt">npm install -D typescript</span></pre><h1 id="1812" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">3.gitignore</h1><p id="9288" class="pw-post-body-paragraph kc kd iq ke b kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz ij bi translated">这一步并不是绝对必要的，特别是如果您没有使用Git的话。但是由于大多数项目都是这样，所以值得一提。我们希望git忽略一些文件和目录:</p><ol class=""><li id="b1f0" class="mu mv iq ke b kf kg kj kk kn mw kr mx kv my kz mz na nb nc bi translated"><code class="fe la lb lc ld b">package-lock.json</code>是由Node在运行<code class="fe la lb lc ld b">npm install</code>之后生成的，用来跟踪您已经安装的实际软件包。因此，它不应存储在您的git repo中。</li><li id="aa03" class="mu mv iq ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated"><code class="fe la lb lc ld b">node_modules</code>是包含所有已安装软件包代码的目录。占用空间很大，反正应该是用<code class="fe la lb lc ld b">npm install</code>自动生成的。</li><li id="bec2" class="mu mv iq ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated"><code class="fe la lb lc ld b">dist</code>将是我们的dist文件夹的名称，它将包含transpiled JS文件。这些文件将使用<code class="fe la lb lc ld b">tsc</code>(<strong class="ke ir">T</strong>type<strong class="ke ir">S</strong>script<strong class="ke ir">c</strong>ompile)命令生成。</li></ol><h1 id="4b54" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">4.tsconfig.json</h1><p id="af3f" class="pw-post-body-paragraph kc kd iq ke b kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz ij bi translated">这个文件包含了我们的TypeScript配置——<code class="fe la lb lc ld b">tsc</code>命令需要知道的所有信息，包括从哪里、如何以及向哪里传输您的TypeScript代码。</p><p id="d76a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在根目录下创建一个名为<code class="fe la lb lc ld b">tsconfig.json</code>的文件，并粘贴以下JSON:</p><pre class="mh mi mj mk gt ml ld mm mn aw mo bi"><span id="f4e6" class="mp lf iq ld b gy mq mr l ms mt">{<br/>  "compilerOptions": {<br/>    "target": "ES2016",<br/>    "module": "ES6",<br/>    "esModuleInterop": true,<br/>    "strict": true,<br/>    "rootDir": "src",<br/>    "outDir": "dist",<br/>  },<br/>}</span></pre><p id="b80e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们一行一行地分解它。</p><ol class=""><li id="b6b1" class="mu mv iq ke b kf kg kj kk kn mw kr mx kv my kz mz na nb nc bi translated"><code class="fe la lb lc ld b">target</code>指定你要转换到的JS语言版本。从ES3到ES2021，你有很多选择。ES2016是一个坚实的中间地带——它包含了大多数现代JS语言功能，但仍受许多不同执行环境的支持。<code class="fe la lb lc ld b">ES6</code>也是一个不错的选择。您可以随意使用它，这取决于您需要什么样的语言特性以及代码将在哪里执行。点击了解更多信息<a class="ae ni" href="https://www.typescriptlang.org/tsconfig#target" rel="noopener ugc nofollow" target="_blank">。</a></li><li id="05ed" class="mu mv iq ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated"><code class="fe la lb lc ld b">module</code>指定您想要在项目中使用的JS模块的类型。大多数现代项目使用<code class="fe la lb lc ld b">import</code>语法，也称为ES6模块。这确实是推荐值。在此找到关于这个<a class="ae ni" href="https://www.typescriptlang.org/tsconfig#module" rel="noopener ugc nofollow" target="_blank">的更多信息。</a></li><li id="845c" class="mu mv iq ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated"><code class="fe la lb lc ld b">esModuleInterop</code>使非ES6模块与ES6模块一起使用更加容易。通常，这两者在最坏的情况下是不兼容的，或者在最好的情况下是错误的。启用此选项允许您同时使用这两者，这对于导入某些npm软件包很有帮助(甚至是必要的)。点击查看更多信息<a class="ae ni" href="https://www.typescriptlang.org/tsconfig#esModuleInterop" rel="noopener ugc nofollow" target="_blank">。</a></li><li id="f755" class="mu mv iq ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated"><code class="fe la lb lc ld b">strict</code>“启用大范围的类型检查行为，从而更强地保证程序的正确性”，根据TSConfig参考。基本上，它加强了更好的编码实践。在这里找到更多信息<a class="ae ni" href="https://www.typescriptlang.org/tsconfig#strict" rel="noopener ugc nofollow" target="_blank"/>。</li><li id="1673" class="mu mv iq ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated"><code class="fe la lb lc ld b">rootDir</code>指定我们源代码的根目录。在本例中，我们将所有的源代码放在一个名为<code class="fe la lb lc ld b">src</code>的文件夹中。这有助于我们明确区分源代码、配置代码和编译代码。</li><li id="c3c9" class="mu mv iq ke b kf nd kj ne kn nf kr ng kv nh kz mz na nb nc bi translated"><code class="fe la lb lc ld b">outDir</code>指定TypeScript将放置所有传输的JS的目录。同样，指定这个路径，虽然没有必要，但可以改进我们回购的组织。</li></ol><h1 id="860e" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">5.汇编</h1><p id="6a1b" class="pw-post-body-paragraph kc kd iq ke b kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz ij bi translated">接下来，我们将编写一个快速的npm脚本，它将为我们编译代码。打开您的<code class="fe la lb lc ld b">package.json</code>文件，并将以下条目添加到<code class="fe la lb lc ld b">scripts</code>对象中:</p><pre class="mh mi mj mk gt ml ld mm mn aw mo bi"><span id="79cd" class="mp lf iq ld b gy mq mr l ms mt">"build": "tsc --build"</span></pre><p id="4f8f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">所有这些都允许我们使用别名<code class="fe la lb lc ld b">npm run build</code>运行<code class="fe la lb lc ld b">tsc --build</code>。</p><p id="2fc1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你可能想知道为什么要做这一步，因为它几乎不节省时间。原因是你可能想给<code class="fe la lb lc ld b">tsc --build</code>命令添加一些配置选项，或者添加其他功能，比如将非JS文件复制到你的<code class="fe la lb lc ld b">dist</code>文件夹中。无论哪种方式，拥有一个易于记忆的集中命令都很好，比如<code class="fe la lb lc ld b">npm run build</code>。</p><h1 id="941b" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">6.把所有的放在一起</h1><p id="96ae" class="pw-post-body-paragraph kc kd iq ke b kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz ij bi translated">创建<code class="fe la lb lc ld b">src/index.ts</code>。添加您想要的任何代码—出于我们的目的，我们将做一个简单的日志:</p><pre class="mh mi mj mk gt ml ld mm mn aw mo bi"><span id="6d9c" class="mp lf iq ld b gy mq mr l ms mt">console.log("Hello world!");</span></pre><p id="0697" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">保存文件，然后在你的控制台上运行<code class="fe la lb lc ld b">npm run build</code>。几秒钟后，您应该会在repo中看到一个新的<code class="fe la lb lc ld b">dist</code>文件夹。这个文件夹应该包含<code class="fe la lb lc ld b">index.js</code>。注意是JS文件，不是TS。</p><p id="43f0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">您现在可以使用<code class="fe la lb lc ld b">node</code>命令运行这个JS文件:</p><pre class="mh mi mj mk gt ml ld mm mn aw mo bi"><span id="05c4" class="mp lf iq ld b gy mq mr l ms mt">node dist/index.js</span></pre><p id="368e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这会将<code class="fe la lb lc ld b">Hello world!</code>打印到您的控制台上。</p><p id="8107" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">就这样——您现在可以用TypeScript编写任何Node.js程序，并在任何安装了Node的机器上执行它。</p><p id="1097" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="nj">更多内容看</em> <a class="ae ni" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir"> <em class="nj">说白了就是</em> </strong> </a> <strong class="ke ir"> <em class="nj">。</em> </strong> <em class="nj">报名参加我们的</em><strong class="ke ir"><em class="nj"/></strong><a class="ae ni" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir"><em class="nj">免费每周简讯这里</em> </strong> </a> <strong class="ke ir"> <em class="nj">。</em> </strong></p></div></div>    
</body>
</html>