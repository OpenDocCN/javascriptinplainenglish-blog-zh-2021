<html>
<head>
<title>React: What is ‘this’ and why am I getting this Error?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应:什么是“这”,为什么我会得到这个错误？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-what-is-this-and-why-am-i-getting-this-error-89e6a5a2f24?source=collection_archive---------7-----------------------#2021-08-15">https://javascript.plainenglish.io/react-what-is-this-and-why-am-i-getting-this-error-89e6a5a2f24?source=collection_archive---------7-----------------------#2021-08-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/98a124a84a5854e5cfb1b80faa5ed7ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iq_xUySrcOf8k4ZwSeMzDw.jpeg"/></div></div></figure><p id="3020" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你不熟悉基于<em class="kt">类的</em>组件，你肯定会遇到这个错误:</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/96c5755a82fa30e0f09741bd9850b388.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*WoiWF3n6jF__lMZbs8C5ew.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">(this error can also say ‘state’ of undefined)</figcaption></figure><p id="c9a0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你会花几分钟时间回顾你的代码，发现没有任何错误。你会一直问自己为什么‘道具’(或‘状态’)是未定义的！？我显然是在向它传递信息！！！</p><p id="78fe" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这源于关键字“This”的操作方式。首先，“this”是对类本身的引用。当你在写<code class="fe ld le lf lg b">this.functionName</code>的时候，它本质上和<code class="fe ld le lf lg b">className.functionName</code>是一样的。或者如果你用state，那就是<code class="fe ld le lf lg b">this.state.stateKey</code>。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/7c11e8e30a2637ffbd2d0eca7323d69b.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*5wXje68xh5JHVMX3wo7m5w.png"/></div></figure><p id="a5f5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">问题在于您在何处调用关键字“this”。上方的<strong class="jx io">图片是一个提交表单的类函数。这正是导致顶部错误的函数。对这个错误的简单解释是，当在函数中调用<code class="fe ld le lf lg b">this.props</code>时，它只在函数中调用‘this ’,而不引用类，实质上是从类中剥离了函数。</strong></p><p id="6b43" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个问题有两种解决方案:</p><ol class=""><li id="c3f6" class="li lj in jx b jy jz kc kd kg lk kk ll ko lm ks ln lo lp lq bi translated">如果您愿意，可以使用构造函数并添加下面的代码。这将把函数绑定到类，这样“道具”将从类而不是函数中被识别。但是我只建议在已经在使用constructor + super的情况下使用这个方法。</li></ol><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/700c31743c657e3491b797dd3eef3d01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*j3UCfuffb5-scyXPQC7fZw.png"/></div></figure><p id="d374" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">2.另一种方法很简单。把你的函数转换成箭头函数就行了。箭头函数是ES6编写函数的新方式，它们自动绑定到JavaScript类。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/4e1d678011cf6f7787d50a87afe36a95.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*gjChMwLzm1gceRavHGAzvw.png"/></div></figure><p id="bb77" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kt">更多内容请看</em><a class="ae lt" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kt">plain English . io</em></strong></a></p></div></div>    
</body>
</html>