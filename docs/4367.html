<html>
<head>
<title>Ionic Angular Capacitor with Biometric ID</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具有生物识别ID的离子角电容器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/ionic-angular-capacitor-with-biometric-id-2d5666ce1410?source=collection_archive---------0-----------------------#2021-08-31">https://javascript.plainenglish.io/ionic-angular-capacitor-with-biometric-id-2d5666ce1410?source=collection_archive---------0-----------------------#2021-08-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4fc216e27bb9f5899ab57344cc163883.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CzDjbqrfnu3sWLli"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@franckinjapan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Franck</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ff22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用Capacitor native bridge(撰写本文时为3.0)，创建使用生物识别id的移动Android或iOS应用程序真的很容易。电容器，Ionic(该公司)的一部分，有相当多的插件可供选择。插件列表如下:</p><div class="lb lc gp gr ld le"><a href="https://capacitorjs.com/docs/plugins" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">capacitor:web应用的跨平台本地运行时</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">电容器中的插件使JavaScript能够直接与本地API接口。官方插件官方插件是…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">capacitorjs.com</p></div></div><div class="ln l"><div class="lo l lp lq lr ln ls jw le"/></div></div></a></div><p id="fb36" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我想向您展示使用Ionic Angular和Capacitor创建一个具有生物识别id的Android应用程序是多么简单。</p><p id="a6c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我正在使用的版本:</p><p id="9512" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">离子CLI 6.17.0 </p><p id="0643" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lt">离子角版本5.5.2 </em></p><h2 id="859c" class="lu lv iq bd lw lx ly dn lz ma mb dp mc ko md me mf ks mg mh mi kw mj mk ml mm bi translated">0.设置离子</h2><p id="af4f" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">关于如何设置Ionic的更多信息，请访问以下网站:</p><div class="lb lc gp gr ld le"><a href="https://www.ionicframework.com" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">跨平台移动应用开发:Ionic框架</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">Ionic Framework的应用程序开发平台构建了令人惊叹的跨平台移动、web和桌面应用程序，只需一个…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">www.ionicframework.com</p></div></div><div class="ln l"><div class="ms l lp lq lr ln ls jw le"/></div></div></a></div><h2 id="2f27" class="lu lv iq bd lw lx ly dn lz ma mb dp mc ko md me mf ks mg mh mi kw mj mk ml mm bi translated">1.安装电容原生生物识别插件</h2><p id="dce4" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">第一步是在你的Ionic Angular应用中安装插件。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="dbe4" class="lu lv iq my b gy nc nd l ne nf">npm i capacitor-native-biometric</span></pre><p id="efde" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将安装电容原生生物插件，我们将在我们的应用程序中使用。一旦这样做了，就进入控制插件的下一步。</p><h2 id="3c9d" class="lu lv iq bd lw lx ly dn lz ma mb dp mc ko md me mf ks mg mh mi kw mj mk ml mm bi translated">2.创建一些按钮并添加控件</h2><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/dbeff0a8418077c1ff3952563af85a34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*0Sn5zcfPMVLGXWkooHCgiQ.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">home.page.html user interface</figcaption></figure><p id="9c17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了简单起见，我将在应用程序的home.page.ts和home.page.ts部分进行所有的构建。在这个例子中，我将使用用户名:用户名和密码:密码存储www.example.com<a class="ae kc" href="http://www.example.com" rel="noopener ugc nofollow" target="_blank">网站</a></p><p id="418c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些凭证将存储在iOS设备自己的钥匙串或Android设备的密钥库中。</p><p id="6980" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，只是为了强调这一点；这是一个示例，请根据您自己的用途修改代码。</p><p id="4c9c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">建议的实现是使用服务，其中所有必要的流程都在服务中运行，并由各自的页面调用。这将大大简化您的应用程序，使其更容易调试和识别将来是否有任何错误。</p><p id="d8a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，回到手头的任务。对于home.page.html，我只想创建3个按钮，将执行3种不同的功能。这是我的home.page.html全集:</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="eb2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的例子中，我创建了3个不同的按钮。以下是我的完整的TypeScript文件:</p><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="a355" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">以上代码的一些要点:</strong></p><ol class=""><li id="ed4a" class="nj nk iq kf b kg kh kk kl ko nl ks nm kw nn la no np nq nr bi translated"><strong class="kf ir">在HTML的第8行和TS文件的第32行</strong></li></ol><p id="0e00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> <em class="lt">检查凭证按钮和功能</em> </strong></p><p id="4e7a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将检查生物统计功能在设备上是否可用。例如，如果该设备没有任何生物特征读取器，例如Face ID或指纹读取器，那么很明显，用户不能使用该功能</p><p id="c27d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> 2。在HTML的第10行和TS文件的第16行</strong></p><p id="742d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> <em class="lt">设置凭证按钮和功能</em> </strong></p><p id="f2ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将为应用程序设置凭据。您可以使用函数<em class="lt">native biometric . set credential({…})</em>在上述设备自己的Keychain(对于iOS)或Keystore(对于Android)中设置和存储用户凭证。对于这个示例应用程序，同样，为了简单起见，我编写了通过按下按钮来设置它。</p><p id="712e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">3.在HTML的第12行和TS文件的第25行</p><p id="995a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> <em class="lt">删除凭证按钮和功能</em> </strong></p><p id="be4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将清除设备的钥匙串/密钥库中与您之前传递的服务器名称相关的任何凭据。</p><h2 id="60e1" class="lu lv iq bd lw lx ly dn lz ma mb dp mc ko md me mf ks mg mh mi kw mj mk ml mm bi translated">3.将您的代码转换成Android APK进行测试</h2><p id="b805" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">不确定这是否适用于仿真设备。但是根据我的经验，您可能需要在实际设备上测试它，看看这种方法是否有效。</p><p id="e86d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">考虑到这一点，下一步是将Ionic Angular项目构建成一个Android项目。有一些关于如何做到这一点的指南，但这里是如何实现这一点的一步一步:</p><p id="4642" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">A.<code class="fe ns nt nu my b">ionic build</code></p><p id="e2b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">B.<code class="fe ns nt nu my b"> npm install @capacitor/android</code></p><p id="b95c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">C.<code class="fe ns nt nu my b">npx cap add android</code></p><p id="7e63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">D.<code class="fe ns nt nu my b">npx cap copy android</code></p><p id="393a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">E.<code class="fe ns nt nu my b">npx cap sync android</code></p><p id="6edf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">F.<code class="fe ns nt nu my b">npx cap open android</code></p><p id="118e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将打开您的Android Studio，您应该可以使用它来构建您的Android应用程序。</p><h2 id="0120" class="lu lv iq bd lw lx ly dn lz ma mb dp mc ko md me mf ks mg mh mi kw mj mk ml mm bi translated">4.尝试一下</h2><p id="4c93" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">好的，根据您的设备，您现在可以通过以下方式使用生物识别登录:</p><p id="21b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">A.通过按下设置凭证按钮来设置凭证</p><p id="c5a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">B.按下检查凭证按钮，检查凭证</p><p id="627d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">C.通过按下删除凭证按钮来删除凭证</p><p id="ec74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就是这样。使用离子电容插件非常简单，而且这个库还在不断增长。虽然Cordova插件仍然可以在任何Ionic应用程序上使用，但我强烈推荐使用Ionic Capacitor插件，因为它比Cordova插件感觉更接近本机，而且如果与Cordova版本相比，它很容易实现。</p><p id="226b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你有任何疑问，一定要看看并在Twitter上回复我。</p><p id="9cf6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lt">塞拉马特·孟加图拉</em></p><p id="4c27" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lt">更多内容请看</em><a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="lt">plain English . io</em></strong></a></p></div></div>    
</body>
</html>