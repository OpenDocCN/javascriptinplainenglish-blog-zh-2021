<html>
<head>
<title>11 Must-Use One-liner Alternatives in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中11个必须使用的一行程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/11-must-use-one-liner-alternatives-in-javascript-577e900a5dc9?source=collection_archive---------10-----------------------#2021-10-18">https://javascript.plainenglish.io/11-must-use-one-liner-alternatives-in-javascript-577e900a5dc9?source=collection_archive---------10-----------------------#2021-10-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="fee5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">掌握您的JavaScript技能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5c579a124e6611d54828aa19a35049e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XK-MyU1i5h6qx8N1"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@pablogamedev?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pablo Arroyo</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f568" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为一名熟练的开发人员，必须经常在旅途中磨练自己的技能。随着我们的成长，我们开始更好地理解任何复杂的问题，我们也倾向于用最简单的逻辑来解决它。所以，代码越少，越干净。</p><p id="4ba9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">清理代码有助于更好地维护它，提高浏览器性能，并且被认为非常有效。尤其是随着ES6的引入，有如此多的功能可以使用箭头功能轻松完成。</p><p id="30a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，停止用复杂的方式编写代码，开始使用这些一行程序的替代方案，可以很容易地为您省去很多麻烦。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="0c9b" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">1.反转一根绳子</h1><p id="fc03" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在最初的日子里，我使用for循环来反转一个字符串，这很容易包含至少3-4行代码。这就是我们如何用一行代码解决这个问题-</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="30ec" class="nb ma iq mx b gy nc nd l ne nf">const reverse = str =&gt; str.split('').reverse().join('');</span><span id="2f0d" class="nb ma iq mx b gy ng nd l ne nf">reverse('hi there'); // ‘ereht ih’</span></pre><h1 id="5e26" class="lz ma iq bd mb mc nh me mf mg ni mi mj jw nj jx ml jz nk ka mn kc nl kd mp mq bi translated">2.获取随机布尔值</h1><p id="1faa" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们可以借助<code class="fe nm nn no mx b">Math.random()</code>得到一个随机布尔。<code class="fe nm nn no mx b">Math.random</code>帮助我们得到一个介于0和1之间的随机数。因此，当我们检查该值是小于还是大于0.5时，我们以50%的概率得到一个无偏的随机真值或假值。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="8d44" class="nb ma iq mx b gy nc nd l ne nf">const randomBoolValue = () =&gt; Math.random() &lt;= 0.5;</span><span id="2ada" class="nb ma iq mx b gy ng nd l ne nf">console.log(randomBoolValue());</span></pre><h1 id="d10f" class="lz ma iq bd mb mc nh me mf mg ni mi mj jw nj jx ml jz nk ka mn kc nl kd mp mq bi translated">3.检查一个数字是偶数还是奇数</h1><p id="c7ce" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">写一个带有if条件的函数来检查mod 2是否给出零，这绝对是老一套了。这是聪明的做法-</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="f491" class="nb ma iq mx b gy nc nd l ne nf">const isEven = num =&gt; num % 2 === 0;</span><span id="ca28" class="nb ma iq mx b gy ng nd l ne nf">console.log(isEven(4)); //true</span></pre><h1 id="3c24" class="lz ma iq bd mb mc nh me mf mg ni mi mj jw nj jx ml jz nk ka mn kc nl kd mp mq bi translated">4.检查日期是否是周末</h1><p id="a9d6" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">检查某一天是工作日还是周末只需使用一行代码就可以完成，如-</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="6559" class="nb ma iq mx b gy nc nd l ne nf">const isWeekend = (date) =&gt; [0, 6].indexOf(date.getDay()) !== -1;</span><span id="b955" class="nb ma iq mx b gy ng nd l ne nf">console.log(isWeekend(new Date(2021, 4, 14)));</span><span id="f234" class="nb ma iq mx b gy ng nd l ne nf">// false (Friday)</span><span id="9087" class="nb ma iq mx b gy ng nd l ne nf">console.log(isWeekend(new Date(2021, 4, 15)));</span><span id="94a2" class="nb ma iq mx b gy ng nd l ne nf">// true (Saturday)</span></pre><p id="7448" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们甚至可以检查某一天是否是工作日，就像-</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="230b" class="nb ma iq mx b gy nc nd l ne nf">const isWeekday = (date) =&gt; date.getDay() % 6 !== 0;</span><span id="f0d2" class="nb ma iq mx b gy ng nd l ne nf">console.log(isWeekday(new Date(2021, 0, 11)));</span><span id="eb73" class="nb ma iq mx b gy ng nd l ne nf">// Result: true (Monday)</span><span id="80c9" class="nb ma iq mx b gy ng nd l ne nf">console.log(isWeekday(new Date(2021, 0, 10)));</span><span id="bd7d" class="nb ma iq mx b gy ng nd l ne nf">// Result: false (Sunday)</span></pre><h1 id="1548" class="lz ma iq bd mb mc nh me mf mg ni mi mj jw nj jx ml jz nk ka mn kc nl kd mp mq bi translated">5.检查一个元素当前是否在焦点上</h1><p id="42bd" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated"><code class="fe nm nn no mx b">document.activeElement</code>属性可以用来检查DOM中的一个元素是否在焦点上，使用下面一行代码</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="af01" class="nb ma iq mx b gy nc nd l ne nf">const focusedElement = (elem) =&gt; (elem === document.activeElement);</span><span id="cbbc" class="nb ma iq mx b gy ng nd l ne nf">focusedElement(anyElement);</span></pre><h1 id="810d" class="lz ma iq bd mb mc nh me mf mg ni mi mj jw nj jx ml jz nk ka mn kc nl kd mp mq bi translated">6.检查对象是否为空</h1><p id="33b6" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">即使一个对象是空的，如果和<code class="fe nm nn no mx b">{}</code>比较，它也只会返回<code class="fe nm nn no mx b">false</code>。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="c34b" class="nb ma iq mx b gy nc nd l ne nf">var a = {};</span><span id="5f1f" class="nb ma iq mx b gy ng nd l ne nf">a === {}; //false</span></pre><p id="c18d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面的一行程序可以帮助我们完成这项工作</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="1c3b" class="nb ma iq mx b gy nc nd l ne nf">const isEmpty = obj =&gt; Reflect.ownKeys(obj).length === 0 &amp;&amp; obj.constructor === Object;</span><span id="de71" class="nb ma iq mx b gy ng nd l ne nf">isEmpty(a); //true</span></pre><h1 id="291a" class="lz ma iq bd mb mc nh me mf mg ni mi mj jw nj jx ml jz nk ka mn kc nl kd mp mq bi translated">7.在元素后插入一个HTML字符串</h1><p id="b652" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在DOM中插入任何内容并不总是要求我们识别要插入的元素，然后执行任何必须执行的操作，只需使用下面一行代码就可以完成</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="3748" class="nb ma iq mx b gy nc nd l ne nf">const insertHTMLAfter = (html, el) =&gt; el.insertAdjacentHTML(‘afterend’, html);</span><span id="d198" class="nb ma iq mx b gy ng nd l ne nf">insertHTMLAfter(‘&lt;span&gt; Just some text that has to be added &lt;/span&gt;’, &lt;any dom element object&gt;);</span></pre><h1 id="3dc6" class="lz ma iq bd mb mc nh me mf mg ni mi mj jw nj jx ml jz nk ka mn kc nl kd mp mq bi translated">8.打乱数组</h1><p id="a51d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">显然，我们没有默认的方法来打乱一个数组，但是可以很容易地用sort和<code class="fe nm nn no mx b">Math.random</code>方法来完成</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="ad56" class="nb ma iq mx b gy nc nd l ne nf">const shuffleArr = (arr) =&gt; arr.sort(() =&gt; 0.5 — Math.random());</span><span id="666a" class="nb ma iq mx b gy ng nd l ne nf">console.log(shuffleArr([1, 2, 3, 4]));// [3, 4, 1, 2]</span></pre><h1 id="2870" class="lz ma iq bd mb mc nh me mf mg ni mi mj jw nj jx ml jz nk ka mn kc nl kd mp mq bi translated">9.检查数组是否为空</h1><p id="bc84" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">一个简单的一行程序来检查一个数组是否</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="79ea" class="nb ma iq mx b gy nc nd l ne nf">const isEmpty = arr =&gt; Array.isArray(arr) &amp;&amp; arr.length === 0;</span><span id="29dc" class="nb ma iq mx b gy ng nd l ne nf">isEmpty([1, 2, 3]); //false</span><span id="ac44" class="nb ma iq mx b gy ng nd l ne nf">isEmpty([]); //true</span></pre><h1 id="14ca" class="lz ma iq bd mb mc nh me mf mg ni mi mj jw nj jx ml jz nk ka mn kc nl kd mp mq bi translated">10.滚动到页面顶部</h1><p id="909b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">当提供了坐标后，我们可以使用下面的代码片段滚动到页面的顶部</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="8202" class="nb ma iq mx b gy nc nd l ne nf">const goToTop = () =&gt; window.scrollTo(0, 0);</span><span id="bfaa" class="nb ma iq mx b gy ng nd l ne nf">goToTop();</span></pre><h1 id="9465" class="lz ma iq bd mb mc nh me mf mg ni mi mj jw nj jx ml jz nk ka mn kc nl kd mp mq bi translated">11.获取数组中的唯一值</h1><p id="bd85" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如果你在一个数组中有任何重复的值，并且只想要唯一的值，那么这里有一个最简单的方法。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="51c9" class="nb ma iq mx b gy nc nd l ne nf">const uniqueArray = (arr) =&gt; […new Set(arr)];</span><span id="f69e" class="nb ma iq mx b gy ng nd l ne nf">console.log(uniqueArray([1, 2, 3, 1, 2, 3, 4, 5])); // [1, 2, 3, 4, 5]</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="8d1d" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated"><strong class="ak">结论</strong></h1><p id="83c0" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">希望这有所帮助。如果你知道任何一行代码让你的生活变得更简单，那么请留下你的评论！</p><p id="8052" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">保持安全，保持快乐！:)</p><p id="e8c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="np">更多内容看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="np">plain English . io</em></strong></a></p></div></div>    
</body>
</html>