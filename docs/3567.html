<html>
<head>
<title>Create a Tweet with Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Node.js创建Tweet</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/programmatically-tweeting-with-nodejs-cc58b5eeed59?source=collection_archive---------9-----------------------#2021-07-17">https://javascript.plainenglish.io/programmatically-tweeting-with-nodejs-cc58b5eeed59?source=collection_archive---------9-----------------------#2021-07-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/2c3b3fa35bbfe2a9984c35b8b9215db0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VtH78c-tXDK-IFup.png"/></div></div></figure><div class=""/><blockquote class="jv jw jx"><p id="59b9" class="jy jz ka kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这篇文章是写给我的<a class="ae kx" href="https://twitter.com/hashtag/100DaysOfCode?src=hashtag_click" rel="noopener ugc nofollow" target="_blank"> #100DaysOfCode </a>的<strong class="kb iz">天1 </strong>的。在这篇文章中，我将讨论如何使用Node.js以编程方式向Twitter发送tweet。</p></blockquote><h2 id="5136" class="ky kz iy bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">获得认证</h2><p id="babb" class="pw-post-body-paragraph jy jz iy kb b kc lu ke kf kg lv ki kj lh lw km kn ll lx kq kr lp ly ku kv kw ig bi translated"><a class="ae kx" href="https://developer.twitter.com/en/docs/twitter-api/getting-started/getting-access-to-the-twitter-api" rel="noopener ugc nofollow" target="_blank">获得一个Twitter开发者账户</a></p><p id="02b0" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">您需要按照上面链接的说明创建一个开发者帐户。这使您可以创建一个<a class="ae kx" href="https://developer.twitter.com/en/docs/projects/overview" rel="noopener ugc nofollow" target="_blank">项目</a>和一个<a class="ae kx" href="https://developer.twitter.com/en/docs/apps/overview" rel="noopener ugc nofollow" target="_blank">应用</a>。</p><p id="3bc5" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">您最终会发现自己在Twitter开发人员仪表板中，在这里您可以生成身份验证令牌，这对于发出请求是必不可少的。</p><figure class="ma mb mc md gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lz"><img src="../Images/d30fc86e3ec3ff72e1d478e30014ca93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*id7cttHcgtK_Zxjp.png"/></div></div></figure><h2 id="4c31" class="ky kz iy bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">为您的应用奠定基础</h2><p id="bf80" class="pw-post-body-paragraph jy jz iy kb b kc lu ke kf kg lv ki kj lh lw km kn ll lx kq kr lp ly ku kv kw ig bi translated"><em class="ka">确保你已经安装了</em><a class="ae kx" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"><em class="ka">node . js</em></a>T22</p><p id="b5db" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated"><em class="ka">我更喜欢</em> <a class="ae kx" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank"> <em class="ka">纱</em> </a> <em class="ka">，但是如果你更喜欢</em>也可以用npm代替</p><ol class=""><li id="29b4" class="me mf iy kb b kc kd kg kh lh mg ll mh lp mi kw mj mk ml mm bi translated">搭建你的项目:<code class="fe mn mo mp mq b">yarn init -y</code></li><li id="8bb5" class="me mf iy kb b kc mr kg ms lh mt ll mu lp mv kw mj mk ml mm bi translated">下载<a class="ae kx" href="https://github.com/draftbit/twitter-lite" rel="noopener ugc nofollow" target="_blank"> twitter-lite </a>与twitter的API进行交互:<code class="fe mn mo mp mq b">yarn add twitter-lite</code></li><li id="18aa" class="me mf iy kb b kc mr kg ms lh mt ll mu lp mv kw mj mk ml mm bi translated">下载<a class="ae kx" href="https://github.com/motdotla/dotenv#readme" rel="noopener ugc nofollow" target="_blank"> dotenv </a>进行安全管理。env变量和您的授权令牌:<code class="fe mn mo mp mq b">yarn add dotenv</code></li></ol><p id="7e04" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">您的<code class="fe mn mo mp mq b">package.json</code>文件现在应该看起来像这样:</p><pre class="ma mb mc md gt mw mq mx my aw mz bi"><span id="8e4c" class="ky kz iy mq b gy na nb l nc nd">{<br/>  "name": "programmatic-tweeting-with-nodejs",<br/>  "version": "1.0.0",<br/>  "main": "index.js",<br/>  "license": "MIT",<br/>  "dependencies": {<br/>    "dot-env": "^0.0.1",<br/>    "twitter-lite": "^1.1.0"<br/>  }<br/>}</span></pre><ol class=""><li id="bed7" class="me mf iy kb b kc kd kg kh lh mg ll mh lp mi kw mj mk ml mm bi translated">在项目根文件夹中创建一个. env文件，并添加Twitter的API提供的令牌</li></ol><p id="b970" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated"><code class="fe mn mo mp mq b">.env</code>文件应该是这样的:</p><pre class="ma mb mc md gt mw mq mx my aw mz bi"><span id="056e" class="ky kz iy mq b gy na nb l nc nd">consumer_key = '&lt;CONSUMER KEY&gt;'<br/>consumer_secret = '&lt;CONSUMER SECRET&gt;'<br/>access_token_key = '&lt;ACCESS TOKEN&gt;'<br/>access_token_secret = '&lt;ACCESS TOKEN&gt;'</span></pre><p id="45c8" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">只要确保用Twitter提供的令牌替换掉<code class="fe mn mo mp mq b">&lt;&gt;</code>文本。</p><p id="2701" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">确保你没有犯错误。env文件到Github或任何其他版本控制系统。这些令牌非常重要，不应该与任何人分享！</p><h2 id="5a62" class="ky kz iy bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">制造职位</h2><ol class=""><li id="afdb" class="me mf iy kb b kc lu kg lv lh ne ll nf lp ng kw mj mk ml mm bi translated">在项目根目录下创建一个index.js文件</li><li id="dfda" class="me mf iy kb b kc mr kg ms lh mt ll mu lp mv kw mj mk ml mm bi translated">导入您之前安装的软件包</li></ol><pre class="ma mb mc md gt mw mq mx my aw mz bi"><span id="9b48" class="ky kz iy mq b gy na nb l nc nd">const twitter = require('twitter-lite')<br/>require('dotenv').config()</span></pre><ol class=""><li id="1694" class="me mf iy kb b kc kd kg kh lh mg ll mh lp mi kw mj mk ml mm bi translated">使用您的配置创建一个与Twitter对话的客户端</li></ol><pre class="ma mb mc md gt mw mq mx my aw mz bi"><span id="ff0f" class="ky kz iy mq b gy na nb l nc nd">const client = new twitter(config)</span></pre><ol class=""><li id="643f" class="me mf iy kb b kc kd kg kh lh mg ll mh lp mi kw mj mk ml mm bi translated">编码请求</li></ol><pre class="ma mb mc md gt mw mq mx my aw mz bi"><span id="c808" class="ky kz iy mq b gy na nb l nc nd">client<br/>  .post('statuses/update', { status: 'Hello World' })<br/>  .then(result =&gt; {<br/>    console.log('You successfully tweeted this : "' + result.text + '"')<br/>  })<br/>  .catch(console.error)</span></pre><p id="b0a7" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">第4步是创建一个POST请求，用参数<code class="fe mn mo mp mq b">status = 'Hello World'</code>发送到<a class="ae kx" href="https://developer.twitter.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/post-statuses-update" rel="noopener ugc nofollow" target="_blank"> Twitter的端点</a> <code class="fe mn mo mp mq b">statuses/update</code>。</p><ol class=""><li id="0c5c" class="me mf iy kb b kc kd kg kh lh mg ll mh lp mi kw mj mk ml mm bi translated">提出请求</li></ol><p id="b692" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">现在在你的终端中输入<code class="fe mn mo mp mq b">node index.js</code>,然后按回车键。这将生成一条带有文本“Hello World”的Tweet。</p></div><div class="ab cl nh ni hr nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ig ih ii ij ik"><p id="3484" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated">我希望这篇文章对你有帮助，如果你有任何问题、评论或建议，请告诉我</p><p id="e75a" class="pw-post-body-paragraph jy jz iy kb b kc kd ke kf kg kh ki kj lh kl km kn ll kp kq kr lp kt ku kv kw ig bi translated"><em class="ka">更多内容看</em> <a class="ae kx" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kb iz"> <em class="ka">说白了就是io </em> </strong> </a> <strong class="kb iz"> <em class="ka">。</em> </strong> <em class="ka">报名参加我们的</em><strong class="kb iz"><em class="ka"/></strong><a class="ae kx" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kb iz"><em class="ka">免费每周简讯点击这里</em> </strong> </a> <strong class="kb iz"> <em class="ka">。</em> </strong></p></div></div>    
</body>
</html>