<html>
<head>
<title>React PropTypes Explained With Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用示例解释React属性类型</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-proptypes-explained-with-examples-a6aec4f8cb52?source=collection_archive---------5-----------------------#2021-04-22">https://javascript.plainenglish.io/react-proptypes-explained-with-examples-a6aec4f8cb52?source=collection_archive---------5-----------------------#2021-04-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2cce" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过实例了解React属性类型。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3b557c73d0124ef3b1a4f592eb35a9f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1nWz_qvpSoC4ZBCa1nCgjA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image created with ❤️️ By author.</figcaption></figure><p id="58be" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">PropTypes用于定义我们可以传递给特定React组件的属性类型。这是一个类型检查包，我们可以安装在我们的React项目中，轻松地定义和检查道具的类型(数字、字符串、数组等)。</p><p id="517a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">例如，如果我们的道具应该是一个数字，而我们给了它一个字符串，那么这可能会在我们的项目中引起一个bug。这就是为什么使用propTypes对你的道具进行类型检查是非常有用的，尤其是当你和一个团队在同一个项目中工作的时候。这将确保你总是得到一个警告，每当你给你的道具错误的类型。</p><p id="423d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在本文中，我们将通过简单的例子了解React中的propTypes。让我们开始吧。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="f833" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">安装属性类型</h1><p id="5d74" class="pw-post-body-paragraph kv kw iq kx b ky mq jr la lb mr ju ld le ms lg lh li mt lk ll lm mu lo lp lq ij bi translated">在使用propTypes之前，您必须首先在项目目录中安装propTypes包。</p><p id="7d8d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你在Windows上使用<code class="fe mv mw mx my b">ctrl + shift + Y</code>打开你的VSCode终端，如果你在Mac上使用<code class="fe mv mw mx my b">command + shift + Y</code>。然后使用下面的NPM命令安装软件包。</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="1157" class="nd lz iq my b gy ne nf l ng nh"><strong class="my ir">npm install prop-types</strong></span></pre><p id="e11f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">之后，你只需要将这个包导入到你将要使用道具的文件中。您可以使用下面的模块代码导入它:</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="b5aa" class="nd lz iq my b gy ne nf l ng nh"><strong class="my ir">import PropTypes from 'prop-types'</strong></span></pre><p id="dad2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在您已经准备好在项目中使用propTypes了。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="09aa" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">使用propTypes的示例</h1><p id="e384" class="pw-post-body-paragraph kv kw iq kx b ky mq jr la lb mr ju ld le ms lg lh li mt lk ll lm mu lo lp lq ij bi translated">我们将看一个简单的React示例，显示3个用户的姓名和年龄。我们将在两个不同的文件中有两个组件:在<code class="fe mv mw mx my b">App.js</code>中的应用组件和在<code class="fe mv mw mx my b">User.js</code>中的用户组件。</p><p id="394c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我们的应用程序文件中，我们将呈现用户组件的三个组件。我们将把名称和年龄作为这些用户组件的道具传递下去。</p><p id="4b0e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">看看下面的例子:</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="aaa7" class="nd lz iq my b gy ne nf l ng nh">//App.js</span><span id="bc8e" class="nd lz iq my b gy ni nf l ng nh"><strong class="my ir">import </strong>React from 'react'<br/><strong class="my ir">import User </strong>from './User'</span><span id="c240" class="nd lz iq my b gy ni nf l ng nh">const App = () =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            <strong class="my ir">&lt;User name</strong>={"John"} <strong class="my ir">age</strong>={25} <strong class="my ir">/&gt;<br/></strong>            <strong class="my ir">&lt;User name</strong>={"Brad"} <strong class="my ir">age</strong>={35} <strong class="my ir">/&gt;</strong><br/>            <strong class="my ir">&lt;User name</strong>={"Alex"} <strong class="my ir">age</strong>={28} <strong class="my ir">/&gt;</strong><br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="bb00" class="nd lz iq my b gy ni nf l ng nh">export default App</span></pre><p id="f73c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我们的文件<code class="fe mv mw mx my b">User.js</code>中，我们将首先导入道具类型，因为我们将在那里使用道具。</p><p id="17a4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">用户组件将道具作为参数，并返回一个显示每个用户的姓名和年龄的标题。</p><p id="b553" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是一个例子:</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="93d5" class="nd lz iq my b gy ne nf l ng nh">//User.js</span><span id="ba7f" class="nd lz iq my b gy ni nf l ng nh">import React from 'react'<br/><strong class="my ir">import PropTypes from 'prop-types'</strong></span><span id="743d" class="nd lz iq my b gy ni nf l ng nh">const User = (<strong class="my ir">props</strong>) =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h2&gt;Name: {<strong class="my ir">props.name</strong>} | Age: {<strong class="my ir">props.age</strong>}&lt;/h2&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="a9a7" class="nd lz iq my b gy ni nf l ng nh">export default User</span></pre><p id="e5a4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如你所见，我们只是用了<code class="fe mv mw mx my b">App.js</code>里传下来的道具。现在，如果您在浏览器中打开项目的本地主机，您应该会看到下面的输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/29e64b9cd20f7e2f8a762071fca23a36.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*DpTwyZdtDMNJ8N_1A0OmeQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Project Output.</figcaption></figure><p id="49a5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在我们可以在导入propTypes包的<code class="fe mv mw mx my b">User.js</code>文件的底部定义我们的propTypes。</p><p id="fd92" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因此，让我们使用propTypes来定义，我们希望我们的名称属性始终具有字符串类型，年龄属性始终具有数字类型。</p><p id="edd4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是代码示例:</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="c5fe" class="nd lz iq my b gy ne nf l ng nh"><strong class="my ir">User.propTypes = {<br/>    name: PropTypes.string, </strong>//string type<strong class="my ir"><br/>    age: PropTypes.number  </strong>//number type<strong class="my ir"><br/>}</strong></span></pre><p id="2c15" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正如你在上面看到的，我们在组件<code class="fe mv mw mx my b">User</code>中应用了propTypes作为一个对象，包含了我们的带有类型值的props。</p><p id="a728" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您感兴趣，下面是如何传递除字符串和数字之外的其他类型:</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="9a3b" class="nd lz iq my b gy ne nf l ng nh"><strong class="my ir">Component.propTypes = {<br/>  propName: PropTypes.bool, </strong>//boolean type<strong class="my ir"><br/>  propName: PropTypes.func  </strong>//function type<br/>  <strong class="my ir">propName: PropTypes.arrayOf(PropTypes.string) </strong>//Array of strings.</span><span id="dee0" class="nd lz iq my b gy ni nf l ng nh"><strong class="my ir">}</strong></span></pre><p id="e3d8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在让我们回到<code class="fe mv mw mx my b">App.js</code>把年龄道具改成字符串例如:</p><pre class="kg kh ki kj gt mz my na nb aw nc bi"><span id="3cd6" class="nd lz iq my b gy ne nf l ng nh">const App = () =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;User name={"John"} <strong class="my ir">age={"25"}</strong> /&gt;<br/>            &lt;User name={"Brad"} <strong class="my ir">age</strong>=<strong class="my ir">{"35"}</strong> /&gt;<br/>            &lt;User name={"Alex"} <strong class="my ir">age</strong>=<strong class="my ir">{"28"}</strong> /&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span></pre><p id="40b3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果我们转到浏览器，我们将在控制台中看到下面的警告错误:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/2b4d89a5a5743647f2747ea9e0c01be4.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*cXRaRddz1xVoQhmjcvJT1g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Capture from the console.</figcaption></figure><p id="bda4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正如您在错误中看到的，age prop应该是一个数字，而不是一个字符串，因为这是我们在上面的propTypes对象中传递的。我们定义了年龄属性应该总是有一个数字类型。这就是为什么我们会得到这个警告错误，告诉我们把年龄道具类型改回一个数字。</p><p id="b077" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">同样的事情也适用于名称道具。如果我们在<code class="fe mv mw mx my b">App.js</code>中将它的类型改为number，我们会得到一个警告错误，告诉我们将其改回string类型。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="5f33" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">结论</h1><p id="a86e" class="pw-post-body-paragraph kv kw iq kx b ky mq jr la lb mr ju ld le ms lg lh li mt lk ll lm mu lo lp lq ij bi translated">PropTypes是对React应用程序进行类型检查的好方法。当与在同一个项目中使用你的组件的团队一起工作时，它们非常有用，这样无论何时他们传递props，他们都会使用正确的类型。</p><p id="3d7b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这只是一个学习如何在React中使用propTypes的简单示例。您可以从其他资源中了解更多信息。感谢您的阅读。</p><p id="9356" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">更多阅读</strong></p><div class="nl nm gp gr nn no"><a rel="noopener  ugc nofollow" target="_blank" href="/7-awesome-design-inspiration-resources-for-web-developers-9c42c4db7cac"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">网站开发人员的7个绝佳设计灵感资源</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">作为一名网页开发者，你可以在这里获得设计灵感。</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc kp no"/></div></div></a></div><p id="77fe" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="od">更多内容尽在</em><a class="ae oe" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="od">plain English . io</em></strong></a></p></div></div>    
</body>
</html>