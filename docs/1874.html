<html>
<head>
<title>Backendless Coin Price List with GraphQL API, Serverless Redis, and Next.JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Backendless Coin价目表，包含GraphQL API、无服务器Redis和Next。射流研究…</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/backendless-coin-price-list-with-graphql-api-serverless-redis-and-next-js-528c8511a5cb?source=collection_archive---------23-----------------------#2021-04-19">https://javascript.plainenglish.io/backendless-coin-price-list-with-graphql-api-serverless-redis-and-next-js-528c8511a5cb?source=collection_archive---------23-----------------------#2021-04-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="f78c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在本教程中，我们将使用Upstash的GraphQL API开发一个简单的硬币价格表。您可以调用应用程序<code class="fe ki kj kk kl b">backendless</code>，因为我们将直接从客户端访问数据库(JavaScript)。参见<a class="ae km" href="https://github.com/upstash/examples/tree/master/coin-price-list" rel="noopener ugc nofollow" target="_blank">代码</a>。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/0e2d9b49246af0d0463295b29cfef9cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BF5hXtOPhyexhw0I.png"/></div></div></figure><h1 id="239a" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">动机</h1><p id="20d3" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">我们想给出一个用例，在这个用例中，您可以使用GraphQL API，而无需任何后端代码。用例是公开可用的只读数据，用于需要低延迟的web应用程序。数据被另一个后端应用程序频繁更新，您希望您的用户看到最后更新的数据。示例:排行榜、新闻列表、博客列表、产品列表、主页中的前N项。</p><h1 id="b422" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">1.项目设置</h1><p id="deb2" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">创建下一个应用:<code class="fe ki kj kk kl b">npx create-next-app</code>。</p><p id="655e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">安装Apollo GraphQL客户端:<code class="fe ki kj kk kl b">npm i @apollo/client</code></p><h1 id="3e80" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">2.数据库设置</h1><p id="5ca7" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">如果您没有数据库，请按照本<a class="ae km" href="https://docs.upstash.com/" rel="noopener ugc nofollow" target="_blank">指南</a>创建一个数据库。通过Redis CLI连接您的数据库，并运行:</p><pre class="ko kp kq kr gt mc kl md me aw mf bi"><span id="ce80" class="mg la in kl b gy mh mi l mj mk">rpush coins '{ "name" : "Bitcoin", "price": 56819, "image": "https://s2.coinmarketcap.com/static/img/coins/64x64/1.png"}' '{ "name" : "Ethereum", "price": 2130, "image": "https://s2.coinmarketcap.com/static/img/coins/64x64/1027.png"}' '{ "name" : "Cardano", "price": 1.2, "image": "https://s2.coinmarketcap.com/static/img/coins/64x64/2010.png"}' '{ "name" : "Polkadot", "price": 35.96, "image": "https://s2.coinmarketcap.com/static/img/coins/64x64/6636.png"}' '{ "name" : "Stellar", "price": 0.506, "image": "https://s2.coinmarketcap.com/static/img/coins/64x64/512.png"}'</span></pre><h1 id="6970" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">3.密码</h1><p id="acba" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">在Upstash控制台中，复制API配置页面中的只读访问键(GraphQL Explorer &gt; Configure API)。在<code class="fe ki kj kk kl b">_app.js</code>中，创建Apollo客户端并替换您的访问密钥，如下所示:</p><p id="2d38" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="ml">注意:</em> </strong> <em class="ml">你需要使用只读访问密钥，因为这个密钥是可以公开访问的。</em></p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mm mn l"/></div></figure><p id="0e8f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">编辑<code class="fe ki kj kk kl b">index.js</code>如下:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="ac60" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">4.奔跑</h1><p id="b1d0" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">在本地运行您的应用:<code class="fe ki kj kk kl b">npm run dev</code></p><h1 id="f8cf" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">5.活着</h1><p id="bebe" class="pw-post-body-paragraph jk jl in jm b jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd mb kf kg kh ig bi translated">转到<a class="ae km" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>🎉</p><p id="2053" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就是这样！你可以走了！</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><p id="6d22" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ml">原载于https://docs.upstash.com</em><a class="ae km" href="https://docs.upstash.com/tutorials/coin_price_list" rel="noopener ugc nofollow" target="_blank"><em class="ml"/></a><em class="ml">。</em></p></div></div>    
</body>
</html>