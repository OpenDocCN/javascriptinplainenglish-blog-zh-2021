<html>
<head>
<title>10 Tips to Improve Readability in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提高JavaScript可读性的10个技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/10-tips-to-improve-readability-in-javascript-382eb287437?source=collection_archive---------2-----------------------#2021-05-22">https://javascript.plainenglish.io/10-tips-to-improve-readability-in-javascript-382eb287437?source=collection_archive---------2-----------------------#2021-05-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/aa663d9ddc62a6457678daae400721b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zFml5rzwuC1FxvnT1FX0FQ.jpeg"/></div></div></figure><h1 id="2d40" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">1.日志级别和语义方法</h1><p id="da7e" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">📚<a class="ae lr" href="https://nodejs.org/api/console.html#console_console_log_data_args" rel="noopener ugc nofollow" target="_blank">控制台文档</a></p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="f37f" class="mb jw in lx b gy mc md l me mf">console.log("hello world")<br/>console.warn("this is a warning")<br/>console.error("this is an error")<br/>console.info("this is info")<br/>console.debug("this is debug")<br/>console.trace("show trace")</span></pre><p id="50be" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">如果您尝试<code class="fe ml mm mn lx b">console.warn</code>，您将获得跟踪，这意味着调试代码更容易。</p><p id="e02c" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">你自己试试其他的主机功能吧。</p><p id="cc35" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">⚠️原始代码</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="2b66" class="mb jw in lx b gy mc md l me mf">console.log("Error: API key should not be empty")</span></pre><p id="5a5f" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">👉重构</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="7ab5" class="mb jw in lx b gy mc md l me mf">console.error("Error: API key should not be empty")</span></pre><h1 id="0fc0" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">2.避免布尔变量的负数名称</h1><p id="a8a3" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">很难读懂双重否定</p><p id="12df" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">已启动🤜 🤛isNotStarted</p><p id="7c67" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">⚠️原始代码</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="5af6" class="mb jw in lx b gy mc md l me mf">const isInvalidApiKey = apiKey === null</span><span id="21e3" class="mb jw in lx b gy mo md l me mf">if (isInvalidApiKey) {}</span></pre><p id="d943" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">👉重构</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="a4b4" class="mb jw in lx b gy mc md l me mf">const isValidApiKey = apiKey != null</span><span id="b9cb" class="mb jw in lx b gy mo md l me mf">if (!isValidApiKey) {}</span></pre><h1 id="2586" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">3.避免标志参数</h1><p id="46a9" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">直到您必须阅读函数声明时，您才知道标志参数的用途。</p><p id="7a39" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">⚠️原始代码</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="81b0" class="mb jw in lx b gy mc md l me mf">renderResult(true)</span><span id="eacd" class="mb jw in lx b gy mo md l me mf">function renderResult(isAuthenticated) {<br/>    if (isAuthenticated) {<br/>       return &lt;p&gt;App&lt;/p&gt;<br/>    } else {<br/>        return &lt;p&gt;Please login&lt;/p&gt;<br/>    }</span><span id="8b74" class="mb jw in lx b gy mo md l me mf">}</span></pre><p id="4121" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">👉使用对象参数</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="80a2" class="mb jw in lx b gy mc md l me mf">renderResult({isAuthenticated: true})</span><span id="7e2c" class="mb jw in lx b gy mo md l me mf">function renderResult({isAuthenticated}) {<br/>    if (isAuthenticated) {<br/>        return &lt;p&gt;App&lt;/p&gt;<br/>    } else {<br/>        return &lt;p&gt;Please login&lt;/p&gt;<br/>    }</span><span id="f20a" class="mb jw in lx b gy mo md l me mf">}</span></pre><p id="e98e" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">👉使用两种功能</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="34f5" class="mb jw in lx b gy mc md l me mf">function renderAuthenticatedApp() {<br/>    return &lt;p&gt;App&lt;/p&gt;<br/>}</span><span id="46e4" class="mb jw in lx b gy mo md l me mf">function renderUnAuthenticatedApp() {<br/>    return &lt;p&gt;Please login&lt;/p&gt;<br/>}</span><span id="4361" class="mb jw in lx b gy mo md l me mf">isAuthenticated ? renderAuthenticatedApp() : renderUnAuthenticatedApp()</span></pre><h1 id="424e" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">4.使用保护条款</h1><p id="9247" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">筑巢地狱</p><p id="fce9" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">🐨让我们的代码很快失败<br/>🐨自然流动</p><p id="ec7b" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">⚠️原始代码</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="21db" class="mb jw in lx b gy mc md l me mf">if (statusCode === 200) {<br/>    // success<br/>} else {<br/>    if (statusCode === 500) {<br/>        // Internal Server Error<br/>    } else if (statusCode === 400) {<br/>        // Not Found<br/>    } else {<br/>        // Other error<br/>    }<br/>}</span></pre><p id="5a51" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">👉重构</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="131f" class="mb jw in lx b gy mc md l me mf">if (statusCode === 500) {<br/>    // Internal Server Error<br/>}</span><span id="89ce" class="mb jw in lx b gy mo md l me mf">if (statusCode === 400) {<br/>    // Not Found<br/>}</span><span id="3a5a" class="mb jw in lx b gy mo md l me mf">if (statusCode !== 200) {<br/>    // Other error<br/>}</span><span id="7e2a" class="mb jw in lx b gy mo md l me mf">// success</span></pre><h1 id="822f" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">5.使代码不言自明</h1><ul class=""><li id="9a7d" class="mp mq in kv b kw kx la lb le mr li ms lm mt lq mu mv mw mx bi translated">容易理解</li><li id="c88e" class="mp mq in kv b kw my la mz le na li nb lm nc lq mu mv mw mx bi translated">可重复使用的</li><li id="c7c5" class="mp mq in kv b kw my la mz le na li nb lm nc lq mu mv mw mx bi translated">一个长的描述性名称比一个长的注释更好</li></ul><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="ec05" class="mb jw in lx b gy mc md l me mf">// verify that user has added a credit card<br/>function verify(user) {}</span><span id="4130" class="mb jw in lx b gy mo md l me mf">function verifyThatUserHasAddedCreditCard(user) {}</span></pre><p id="fca9" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">⚠️原始代码</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="970e" class="mb jw in lx b gy mc md l me mf">if (country !== 'finland' &amp;&amp;<br/>    country !== 'germany' &amp;&amp;<br/>    country !== 'vietnam' &amp;&amp;<br/>    country !== 'russia' &amp;&amp;<br/>    type !== '💣'<br/>) {<br/>    return Promise.reject('Not available')<br/>}</span></pre><p id="7ebf" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">👉重构</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="8806" class="mb jw in lx b gy mc md l me mf">const isInAvailableCountries = (<br/>    country === 'finland' ||<br/>    country === 'germany' ||<br/>    country === 'vietnam' ||<br/>    country === 'russia'<br/>)</span><span id="1857" class="mb jw in lx b gy mo md l me mf">const hasBoom = type === '💣'</span><span id="67c8" class="mb jw in lx b gy mo md l me mf">if (!isInAvailableCountries || hasBoom) {<br/>    return Promise.reject('Not available')<br/>}</span></pre><p id="e301" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">🎁较好的</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="6a60" class="mb jw in lx b gy mc md l me mf">const availableCountries = ['finland', 'germany', 'vietnam', 'russia']<br/>const isInAvailableCountries = availableCountries.includes(country)</span><span id="9f23" class="mb jw in lx b gy mo md l me mf">const hasBoom = type === '💣'</span><span id="cbd5" class="mb jw in lx b gy mo md l me mf">if (!isInAvailableCountries || hasBoom) {<br/>    return Promise.reject('Not available')<br/>}</span></pre><h1 id="6d4c" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">6.让不可能的状态变得不可能</h1><ul class=""><li id="feeb" class="mp mq in kv b kw kx la lb le mr li ms lm mt lq mu mv mw mx bi translated">容易理解</li><li id="dcc1" class="mp mq in kv b kw my la mz le na li nb lm nc lq mu mv mw mx bi translated">防止大量的错误</li></ul><p id="aaad" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">📚<a class="ae lr" href="https://kentcdodds.com/blog/stop-using-isloading-booleans" rel="noopener ugc nofollow" target="_blank">停止使用isLoading布尔值</a></p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="c02d" class="mb jw in lx b gy mc md l me mf">isLoading: true<br/>isError: false</span><span id="370b" class="mb jw in lx b gy mo md l me mf">isLoading: false<br/>isError: true</span><span id="7bae" class="mb jw in lx b gy mo md l me mf">// imposible states<br/>isLoading: true<br/>isError: true</span><span id="5390" class="mb jw in lx b gy mo md l me mf">const LOADING_STATE = 'LOADING_STATE'<br/>const ERROR_STATE = 'ERROR_STATE'</span><span id="f556" class="mb jw in lx b gy mo md l me mf">const state = LOADING_STATE</span></pre><p id="4b6c" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">⚠️原始代码</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="baa1" class="mb jw in lx b gy mc md l me mf">const [isLoading, setIsLoading] = React.useState(false)<br/>const [error, setError] = React.useState(null)<br/>const [coffee, setCoffee] = React.useState(null)</span><span id="3959" class="mb jw in lx b gy mo md l me mf">function handleButtonClick() {<br/>    setIsLoading(true)<br/>    setError(null)<br/>    setCoffee(null)</span><span id="e6c7" class="mb jw in lx b gy mo md l me mf">    getCoffee('cappuccino', 'small', 'finland', true).then(coffee =&gt; {<br/>        setIsLoading(false)<br/>        setError(null)<br/>        setCoffee(coffee)<br/>    }).catch(error =&gt; {<br/>        setIsLoading(false)<br/>        setError(error)<br/>    })<br/>}</span></pre><p id="13eb" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">👉重构</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="d42a" class="mb jw in lx b gy mc md l me mf">const state = {<br/>    idle: 'idle',<br/>    loading: 'loading',<br/>    error: 'error',<br/>    success: 'success',<br/>}</span><span id="5e3b" class="mb jw in lx b gy mo md l me mf">const [error, setError] = React.useState(null)<br/>const [coffee, setCoffee] = React.useState(null)<br/>const [status, setStatus] = React.useState(state.idle) </span><span id="2287" class="mb jw in lx b gy mo md l me mf">function handleButtonClick() {<br/>    setStatus(state.loading)</span><span id="744e" class="mb jw in lx b gy mo md l me mf">    getCoffee('cappuccino', 'small', 'finland', true).then(coffee =&gt; {<br/>        setStatus(state.success)<br/>        setCoffee(coffee)<br/>    }).catch(error =&gt; {<br/>        setStatus(state.error)<br/>        setError(error)<br/>    })<br/>}</span></pre><h1 id="9fc9" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">7.将对象用于长参数列表</h1><ul class=""><li id="bb0f" class="mp mq in kv b kw kx la lb le mr li ms lm mt lq mu mv mw mx bi translated">参数顺序无关紧要</li><li id="154e" class="mp mq in kv b kw my la mz le na li nb lm nc lq mu mv mw mx bi translated">易于传递的可选参数</li></ul><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="725f" class="mb jw in lx b gy mc md l me mf">function getBox(type, size, price, color) {}</span><span id="c810" class="mb jw in lx b gy mo md l me mf">getBox('carry', undefined, 10, 'red')</span><span id="18c9" class="mb jw in lx b gy mo md l me mf">function getBox(options) {<br/>    const {type, size, price, color} = options<br/>}</span><span id="3819" class="mb jw in lx b gy mo md l me mf">getBox({<br/>    type: 'carry',<br/>    price: 10,<br/>    color: 'red'<br/>})</span></pre><p id="78b8" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">⚠️原始代码</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="e537" class="mb jw in lx b gy mc md l me mf">export function getCoffee(type, size, country, hasIce) {</span><span id="6b82" class="mb jw in lx b gy mo md l me mf">getCoffee('cappuccino', 'small', 'finland', true)<br/>}</span></pre><p id="50d3" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">👉重构</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="2de6" class="mb jw in lx b gy mc md l me mf">function getCoffee(options) {<br/>    const {type, size, country, hasIce} = options<br/>}</span><span id="579f" class="mb jw in lx b gy mo md l me mf">getCoffee({<br/>    type: 'cappuccino',<br/>    size: 'small',<br/>    country: 'finland',<br/>    hasIce: true<br/>})</span></pre><h1 id="00d7" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">8.使用Object.assign作为默认值</h1><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="a4b3" class="mb jw in lx b gy mc md l me mf">function getBox(options) {</span><span id="7416" class="mb jw in lx b gy mo md l me mf">    options.type = options.type || 'carry'<br/>    options.size = options.size || 'small'<br/>    options.price = options.price || 10<br/>    options.color = options.color || 'red'</span><span id="f2f5" class="mb jw in lx b gy mo md l me mf">    const {type, size, price, color} = options<br/>}</span><span id="7341" class="mb jw in lx b gy mo md l me mf">function getBox(customOptions) {</span><span id="0e7f" class="mb jw in lx b gy mo md l me mf">    const defaults = {<br/>        type: 'carry',<br/>        size: 'small',<br/>        price: 10,<br/>        color: 'red',<br/>    }</span><span id="14e7" class="mb jw in lx b gy mo md l me mf">    const options = Object.assign(defaults, customOptions)</span><span id="4b54" class="mb jw in lx b gy mo md l me mf">    const {type, size, price, color} = options<br/>}</span></pre><p id="3494" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">⚠️原始代码</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="9133" class="mb jw in lx b gy mc md l me mf">export function getCoffee(type, size, country, hasIce) {</span><span id="d865" class="mb jw in lx b gy mo md l me mf">    type = type || 'cappuccino'<br/>    size = size || 'small'<br/>    country = country || 'finland'<br/>    hasIce = hasIce || false<br/>}</span></pre><p id="e647" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">👉重构</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="2a79" class="mb jw in lx b gy mc md l me mf">function getCoffee(customOptions) {<br/>    const defaultOptions = {<br/>        type: 'cappuccino',<br/>        size: 'small',<br/>        country: 'finland',<br/>        hasIce: false<br/>    }</span><span id="1479" class="mb jw in lx b gy mo md l me mf">    const options = Object.assign(defaultOptions, customOptions)<br/>}</span><span id="1bbd" class="mb jw in lx b gy mo md l me mf">function getCoffee(options = {}) {<br/>    const {<br/>        type = 'cappuccino',<br/>        size = 'small',<br/>        country = 'finland',<br/>        hasIce = false<br/>    } = options<br/>}</span><span id="cfd5" class="mb jw in lx b gy mo md l me mf">function getCoffee({<br/>    type = 'cappuccino', <br/>    size = 'small',<br/>    country = 'finland',<br/>    hasIce = false<br/>} = {}) {<br/>}</span></pre><h1 id="961f" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">9.用对象文字替换switch语句</h1><p id="29f5" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">老实说，我也喜欢switch，但我不知道什么时候应该使用switch语句而不是对象文字。我的感觉只是告诉我该走哪一条。</p><p id="58d2" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">看看这两个博客，决定哪一个更适合你:</p><p id="c896" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">📚<a class="ae lr" href="https://ultimatecourses.com/blog/deprecating-the-switch-statement-for-object-literals#object-literal-fall-through" rel="noopener ugc nofollow" target="_blank">用对象文字替换switch语句</a> <br/>📚<a class="ae lr" href="https://dev.to/macsikora/switch-is-ok-336l" rel="noopener ugc nofollow" target="_blank">开关正常</a></p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="dd1e" class="mb jw in lx b gy mc md l me mf">const handleSaveCalculation = ({key}) =&gt; {<br/>    switch (key) {<br/>        case 'save-copy': {<br/>            saveCopy()<br/>            break<br/>        }<br/>        case 'override': {<br/>            override()<br/>            break<br/>        }<br/>        default:<br/>            throw Error('Unknown action')<br/>    }<br/>}</span><span id="9bd4" class="mb jw in lx b gy mo md l me mf">handleSaveCalculation({key: 'save-copy'})</span><span id="d0ab" class="mb jw in lx b gy mo md l me mf">const handleSaveCalculation = ({key}) =&gt; {<br/>    const actions = {<br/>        'save-copy': saveCopy,<br/>        'override': override,<br/>        'default': () =&gt; throw Error('Unknown action')<br/>    }</span><span id="f0ce" class="mb jw in lx b gy mo md l me mf">    const action = key in actions ? actions[key] : actions['default']<br/>    return action();<br/>}</span><span id="ebb0" class="mb jw in lx b gy mo md l me mf">handleSaveCalculation({key: 'save-copy'})</span></pre><p id="6341" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">⚠️原始代码</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="2661" class="mb jw in lx b gy mc md l me mf">let drink<br/>switch(type) {<br/>    case 'cappuccino':<br/>        drink = 'Cappuccino';<br/>        break;<br/>    case 'flatWhite':<br/>        drink = 'Flat White';<br/>        break;<br/>    case 'espresso':<br/>        drink = 'Espresso';<br/>        break;<br/>    default:<br/>        drink = 'Unknown drink';<br/>}</span></pre><p id="c2b3" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">👉重构</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="22dc" class="mb jw in lx b gy mc md l me mf">const menu = {<br/>    'cappuccino': 'Cappuccino',<br/>    'flatWhite': 'Flat White',<br/>    'espresso': 'Espresso',<br/>    'default': 'Unknown drink'<br/>}</span><span id="a2ae" class="mb jw in lx b gy mo md l me mf">const drink = menu[type] || menu['default']</span></pre><h1 id="e4cd" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">10.避免草率的抽象</h1><blockquote class="nd ne nf"><p id="bb3c" class="kt ku ng kv b kw mg ky kz la mh lc ld nh mi lg lh ni mj lk ll nj mk lo lp lq ig bi translated">我不知道如何创建一个好的抽象，但我已经创建了许多糟糕的抽象。</p></blockquote><p id="0e52" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">比起错误的抽象，我更喜欢复制。</p><p id="e01b" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">“没有什么是免费的。代码牺牲了改变需求以减少重复的能力，这不是一个好的交易。”— <em class="ng">丹·阿布拉莫夫</em></p><p id="a404" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">📚<a class="ae lr" href="https://kentcdodds.com/blog/aha-programming" rel="noopener ugc nofollow" target="_blank"> AHA编程</a></p><p id="af63" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">📚<a class="ae lr" href="https://overreacted.io/goodbye-clean-code/" rel="noopener ugc nofollow" target="_blank">再见，干净的代码</a></p><p id="5eed" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">⚠️ <a class="ae lr" href="https://github.com/vinhlee95/awesome-react-typescript-boilerplate" rel="noopener ugc nofollow" target="_blank">我的反应样本</a></p><p id="8b6e" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">下面的代码用于获取订单，我使用Redux进行状态管理。真是个样板！让我们做一个我以后会后悔的抽象。</p><p id="0264" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">获取订单:</p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="cb65" class="mb jw in lx b gy mc md l me mf">// Action Type<br/>const FETCH_ORDERS_START = "FETCH_ORDERS_START";<br/>const FETCH_ORDERS_SUCCESS = "FETCH_ORDERS_SUCCESS";<br/>const FETCH_ORDERS_FAILED = "FETCH_ORDERS_FAILED";</span><span id="546a" class="mb jw in lx b gy mo md l me mf">// Action<br/>export const fetchOrder = (token) =&gt; {<br/>    return dispatch =&gt; {<br/>        dispatch(fetchOrdersStart);<br/>        axios.get('/orders.json?auth=' + token).then(res =&gt; {<br/>            dispatch(fetchOrdersSuccess(res));<br/>        }).catch(err =&gt; {<br/>            dispatch(fetchOrdersFailed(err));<br/>        });<br/>    };</span><span id="6aa9" class="mb jw in lx b gy mo md l me mf">}</span><span id="12e7" class="mb jw in lx b gy mo md l me mf">export const fetchOrdersSuccess = (orders) =&gt; {<br/>    return {<br/>        type: FETCH_ORDERS_SUCCESS,<br/>        orders: orders,<br/>    };<br/>};</span><span id="f86d" class="mb jw in lx b gy mo md l me mf">export const fetchOrdersFailed = (error) =&gt; {<br/>    return {<br/>        type: FETCH_ORDERS_FAILED,<br/>        error: error,<br/>    };<br/>};</span><span id="8b93" class="mb jw in lx b gy mo md l me mf">export const fetchOrdersStart = () =&gt; {<br/>    return {<br/>        type: FETCH_ORDERS_START,<br/>    };<br/>}</span></pre><p id="9d05" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">👉️ <a class="ae lr" href="https://github.com/vinhlee95/awesome-react-typescript-boilerplate/blob/develop/src/modules/commons/moduleActions.ts" rel="noopener ugc nofollow" target="_blank">抽象</a></p><p id="d5f0" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">我敢说你不用点击链接就能理解抽象代码。即使在链接之后，您也必须阅读所有代码来理解这个抽象概念。</p><p id="e30a" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">如果您想深入了解这一点，请查看<a class="ae lr" href="https://kentcdodds.com/blog/aha-programming" rel="noopener ugc nofollow" target="_blank"> AHA编程</a>和<a class="ae lr" href="https://overreacted.io/goodbye-clean-code/" rel="noopener ugc nofollow" target="_blank">再见，干净代码</a></p><pre class="ls lt lu lv gt lw lx ly lz aw ma bi"><span id="657f" class="mb jw in lx b gy mc md l me mf">// Action<br/>const moduleName = 'order'<br/>const path = '/order'</span><span id="3d98" class="mb jw in lx b gy mo md l me mf">const {moduleActionTypes, moduleActions} = useModuleActions(moduleName, path)</span><span id="5ea4" class="mb jw in lx b gy mo md l me mf">function fetchOrder() {<br/>    moduleActionTypes.getModel()    <br/>}</span><span id="8130" class="mb jw in lx b gy mo md l me mf">function updateOrder(data) {<br/>    moduleActionTypes.updateModel(data)<br/>}</span></pre><h1 id="d60f" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">资源</h1><p id="beb7" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><a class="ae lr" href="https://github.com/HuyAms/ReadabilityPresentation" rel="noopener ugc nofollow" target="_blank"> Github </a></p><p id="58aa" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated"><strong class="kv io">感谢您的阅读！</strong></p><p id="328d" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated"><em class="ng">我很想听听你的想法和反馈。请在下面自由发表评论！</em></p><h1 id="db87" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">✍️写的</h1><p id="a1b2" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><strong class="kv io">虎符</strong>🔥 🎩 ♥️ ♠️ ♦️ ♣️ 🤓</p><p id="327f" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated"><em class="ng">软件开发人员|魔术爱好者</em></p><h1 id="6d00" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">在以下时间说“你好”:</h1><p id="2a52" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">✅ <a class="ae lr" href="https://github.com/HuyAms" rel="noopener ugc nofollow" target="_blank"> Github </a></p><p id="ca77" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">✅ <a class="ae lr" href="https://www.linkedin.com/in/huy-trinh-dinh-253534131/" rel="noopener ugc nofollow" target="_blank">领英</a></p><p id="d5bd" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">✅ <a class="ae lr" href="https://medium.com/@trnhnhhuy" rel="noopener">中</a></p><p id="2b30" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated">✅ <a class="ae lr" href="https://dev.to/dinhhuyams" rel="noopener ugc nofollow" target="_blank">德夫托</a></p><p id="3789" class="pw-post-body-paragraph kt ku in kv b kw mg ky kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ig bi translated"><em class="ng">更内容见于</em> <a class="ae lr" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ng">中</em></a></p></div></div>    
</body>
</html>