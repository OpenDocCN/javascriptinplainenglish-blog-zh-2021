<html>
<head>
<title>How to Get the Closest Number to a Number Out of a JavaScript Array?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从一个JavaScript数组中获取最接近一个数字的数字？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-the-closest-number-to-a-number-out-of-a-javascript-array-1eb31b18e836?source=collection_archive---------9-----------------------#2021-08-05">https://javascript.plainenglish.io/how-to-get-the-closest-number-to-a-number-out-of-a-javascript-array-1eb31b18e836?source=collection_archive---------9-----------------------#2021-08-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1a22b86f2244aa24d3b7800526e0f2a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tg8xP1A5NHVByrdH"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@c_quintero?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Carlos Quintero</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6d2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们可能想从JavaScript数组中获取与给定数字最接近的数字。</p><p id="4de6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何从JavaScript数组中获取最接近某个数字的数字。</p><h1 id="00ba" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用Array.prototype.reduce方法</h1><p id="ad60" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">从JavaScript数组中获取最接近数字的一种方法是使用JavaScript数组的<code class="fe me mf mg mh b">reduce</code>方法。</p><p id="a9d3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使用它，我们写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c3ff" class="mq lc iq mh b gy mr ms l mt mu">const arr = [2, 42, 82, 122, 162, 202, 242, 282, 322, 362]<br/>const goal = 100<br/>const closest = arr.reduce((prev, curr) =&gt; {<br/>  return (Math.abs(curr - goal) &lt; Math.abs(prev - goal) ? curr : prev);<br/>});<br/>console.log(closest)</span></pre><p id="6c8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有一个包含一堆数字的<code class="fe me mf mg mh b">arr</code>数组。</p><p id="de74" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">goal</code>是我们要在<code class="fe me mf mg mh b">arr</code>中寻找最接近的数字。</p><p id="23f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们将回调传递给比较<code class="fe me mf mg mh b">curr — goal</code>和<code class="fe me mf mg mh b">prev-goal</code>之差的绝对值的<code class="fe me mf mg mh b">reduce</code>方法。</p><p id="a0ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">prev</code>是之前最接近<code class="fe me mf mg mh b">goal</code>的数字。</p><p id="a79a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">curr</code>是当前被迭代的数字。</p><p id="c90b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果<code class="fe me mf mg mh b">curr</code>的绝对值比<code class="fe me mf mg mh b">prev</code>更接近<code class="fe me mf mg mh b">goal</code>，那么我们返回<code class="fe me mf mg mh b">curr</code>。</p><p id="649b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">否则，我们返回<code class="fe me mf mg mh b">goal</code>。</p><p id="ad5b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe me mf mg mh b">closest</code>是82。</p><h1 id="3895" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用Array.prototype.map方法</h1><p id="f214" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">寻找与给定数字最接近的数字的另一种方法是将所有数组条目映射到数组中的数字与目标数字之间的绝对差值。</p><p id="801a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们就可以用<code class="fe me mf mg mh b">Math.min</code>求两个数的最小差。</p><p id="78e8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3a63" class="mq lc iq mh b gy mr ms l mt mu">const arr = [2, 42, 82, 122, 162, 202, 242, 282, 322, 362]<br/>const goal = 100<br/>const indexArr = arr.map((num) =&gt; {<br/>  return Math.abs(num - goal)<br/>})<br/>const min = Math.min(...indexArr)<br/>const closest = arr[indexArr.indexOf(min)]<br/>console.log(closest)</span></pre><p id="ff5e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用一个回调函数调用<code class="fe me mf mg mh b">map</code>，该回调函数返回<code class="fe me mf mg mh b">num</code>和<code class="fe me mf mg mh b">goal</code>之间的绝对差值。</p><p id="b153" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们找到与<code class="fe me mf mg mh b">Math.min</code>的差异的最小值。</p><p id="0639" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到与<code class="fe me mf mg mh b">indexOf</code>绝对差值最小的数字的索引，并将其传递给<code class="fe me mf mg mh b">arr</code>以得到最接近<code class="fe me mf mg mh b">goal</code>的数字。</p><p id="7451" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们得到了和上一个例子一样的结果。</p><h1 id="7ab9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="7cf6" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用JavaScript数组和数学方法来获得与JavaScript数组中给定数字最接近的数字。</p><p id="426b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容请看</em><a class="ae kc" href="http://plainenglish.io" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">plain English . io</em></strong></a></p></div></div>    
</body>
</html>